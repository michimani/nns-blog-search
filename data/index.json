[
  {
    "contents": "Lambda é–¢æ•°ã«å¯¾ã—ã¦ URL ã‚’ç™ºè¡Œã—ã¦å¤–éƒ¨ã‹ã‚‰ HTTP ã§å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ Function URLs ã§ã™ãŒã€ãã®ã¾ã¾ã ã¨è‡ªå‹•ã§ç™ºè¡Œã•ã‚Œã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å¯¾ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ä»Šå›ã¯ã€ä»»æ„ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ Function URLs ã‚’åˆ©ç”¨ã™ã‚‹æ§‹æˆã‚’ AWS CDK ã‚’ä½¿ã£ã¦æ§‹ç¯‰ã—ã¦ã¿ãŸè©±ã§ã™ã€‚\næ§‹æˆã«ã¤ã„ã¦ã¯æ§‹æˆå›³ã‚’è¦‹ã‚Œã°ã‚ã‹ã‚‹ã®ã§ã€è¨˜äº‹ã®å†…å®¹ã¨ã—ã¦ã¯ AWS CDK ã§ã®å®Ÿè£…ã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¶³ã—ã¦ã„ãã‚ˆã†ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™ã€‚\nã¾ãˆãŒã æ§‹æˆå›³ AWS CDK ã§ä½œæˆã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ Route 53 Certificate Manager CloudFront Lambda ã¾ã¨ã‚ ã¾ãˆãŒã ã‚¿ã‚¤ãƒˆãƒ«ã«ã‚‚ã‚ã‚‹é€šã‚Šã€ Lambda Function URLs ã‚’ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ä½¿ã†æ§‹æˆã‚’ AWS CDK v2 (Go) ã§æ§‹ç¯‰ã—ã¦ã¿ã¾ã™ã€‚\nAWS CDK: 2.64.0 Go: 1.20 Function URLs ã‚’ä½¿ã£ã¦ Lambda é–¢æ•°ã«å¯¾ã—ã¦ URL ã‚’ç™ºè¡Œã™ã‚‹ã¨ã€ãƒ©ãƒ³ãƒ€ãƒ ãªè‹±æ•°å­—ã‚’å«ã‚“ã ä¸‹è¨˜ã®ã‚ˆã†ãª URL ãŒç™ºè¡Œã•ã‚Œã¾ã™ã€‚\nhttps://{ãƒ©ãƒ³ãƒ€ãƒ ãªè‹±æ•°å­—}.lambda-url.{ãƒªãƒ¼ã‚¸ãƒ§ãƒ³}.on.aws/ ä»Šå›ã¯ã€ å‰æ®µã« CloudFront ã‚’é…ç½®ã™ã‚‹ã“ã¨ã§ä»»æ„ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ Function URLs ã«ã‚ˆã‚‹ Lambda é–¢æ•°ã®å®Ÿè¡ŒãŒã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ä¸‹è¨˜ã«ç½®ã„ã¦ã‚ã‚‹ã®ã§ã€ãŠæ‰‹å…ƒã§ã‚‚è©¦ã—ã¦ã„ãŸã ã‘ã¾ã™ã€‚\naws-cdk-go-examples/lambda-function-urls-with-custom-domain at main Â· michimani/aws-cdk-go-examples æ§‹æˆå›³ æ§‹æˆå›³ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nC4Component Container_Boundary(r53, \"Route 53\") { Component(h, \"HostedZone\", \"hosted zone\",\"imported by HostedZoneID\") Component(r, \"RecordSet\", \"custom domain record\",\"e.g) api.example.com -\u003e xxxxxx.cloudfront.net\") Rel(r, h, \"\") } Container_Boundary(acm, \"Certificate Manager\") { Component(c, \"Certificate\", \"SSL Certificate\", \"imported by ARN\") } Container_Boundary(cf,\"CloudFront\") { Component(oap, \"Origin Access Policy\", \"\", \"\") Component(dist, \"Distribution\", \"\", \"\") Component(cp, \"Cache Policy\", \"\", \"\") Rel_L(dist, cp, \"\", \"\") Rel_L(dist, oap,\"\", \"\") } Container_Boundary(lambda, \"Lambda\") { Component(url1, \"Function URL\", \"\", \"for default behavior\") Component(url2, \"Function URL\", \"\", \"for hello behavior\") Component(url3, \"Function URL\", \"\", \"for bye behavior\") Component(fn1, \"Function\", \"\", \"simple-response-default\") Component(fn2, \"Function\", \"\", \"simple-response-hello\") Component(fn3, \"Function\", \"\", \"simple-response-bye\") Rel(url1, fn1, \"\",\"\") Rel(url2, fn2, \"\",\"\") Rel(url3, fn3, \"\",\"\") } Rel_D(dist, c, \"\", \"\") Rel_D(r, dist, \"\", \"\") Rel_D(dist, url1, \"\",\"default\") Rel_D(dist, url2, \"\",\"/hello pattern\") Rel_D(dist, url3, \"\",\"/bye pattern\") UpdateElementStyle(h, $bgColor=\"grey\") UpdateElementStyle(c, $bgColor=\"grey\") UpdateLayoutConfig($c4ShapeInRow=\"3\", $c4BoundaryInRow=\"1\") Lambda é–¢æ•°ã‚’ 3 ã¤ç”¨æ„ã—ã¦ãã‚Œãã‚Œã« Function URL ã‚’ç™ºè¡Œã€CloudFront ã® Behavior ã§ãã‚Œãã‚Œã® Function URL ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒåˆ†é…ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nèƒŒæ™¯ãŒæ°´è‰²ã«ãªã£ã¦ã„ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚’ AWS CDK ã§æ§‹ç¯‰ã—ã¾ã™ã€‚ç°è‰²ã«ãªã£ã¦ã„ã‚‹ Route53:HostedZone ã¨ CertificateManager:Certificate ã¯ã€ã‚ã‚‰ã‹ã˜ã‚ä½œæˆã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚’ HostedZoneID ã¨ ZoneName ãŠã‚ˆã³ ARN ã§ãã‚Œãã‚Œã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦åˆ©ç”¨ã—ã¾ã™ã€‚\nAWS CDK ã§ä½œæˆã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ ä»Šå›ã¯ Route 53, Certificate Manager, CloudFront, Lambda ã«é–¢é€£ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚\nRoute 53 Route 53 é–¢é€£ã§ã¯ã€ ä»»æ„ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‹ã‚‰ CloudFront ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å¯¾ã™ã‚‹ A ãƒ¬ã‚³ãƒ¼ãƒ‰ã¨ãªã‚‹ RecordSet ã‚’ä½œæˆã—ã¾ã™ã€‚ãã®éš›ã€ RecordSet ã‚’ç´ä»˜ã‹ã›ã‚‹ HostedZone ãŒå¿…è¦ã«ãªã‚Šã¾ã™ãŒã€ã“ã‚Œã«ã¤ã„ã¦ã¯æ—¢ã«å­˜åœ¨ã—ã¦ã„ã‚‹ HostedZone ã‚’ HostedZoneID ã¨ ZoneName ã‚’ã‚‚ã¨ã«ã—ã¦ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚\nhostedZone := awsroute53.HostedZone_FromHostedZoneAttributes(scope, jsii.String(\u0026#34;MyHostedZone\u0026#34;), \u0026amp;awsroute53.HostedZoneAttributes{ HostedZoneId: \u0026amp;hostedZoneID, ZoneName: \u0026amp;zoneName, }) ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ãŸ HostedZone ã‚’ä½¿ã£ã¦ã€ CloudFront ã«å¯¾ã™ã‚‹ A ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚ CloudFront ã«å¯¾ã™ã‚‹ A ãƒ¬ã‚³ãƒ¼ãƒ‰ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«ã¤ã„ã¦ã¯ awsroute53targets.NewCloudFrontTarget() ã‚’ä½¿ã£ã¦ä½œæˆã§ãã¾ã™ã€‚\n// scope constructs.Construct // dist awscloudfront.Distribution // subDomain string // ã“ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ Lambda é–¢æ•°ã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ aliasTarget := awsroute53.RecordTarget_FromAlias( awsroute53targets.NewCloudFrontTarget(dist), ) props := \u0026amp;awsroute53.RecordSetProps{ RecordName: jsii.String(subDomain), RecordType: awsroute53.RecordType_A, Zone: hostedZone, Target: aliasTarget, } awsroute53.NewRecordSet(scope, jsii.String(\u0026#34;RecordSet\u0026#34;), props) aws-cdk-go-examples/route53.go at main Â· michimani/aws-cdk-go-examples Certificate Manager Certificate Manager ã«ã¤ã„ã¦ã¯ã€æ—¢ã«å­˜åœ¨ã—ã¦ã„ã‚‹ Certificate ã‚’ ARN ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦åˆ©ç”¨ã—ã¾ã™ã€‚\nceritificate := awscertificatemanager.Certificate_FromCertificateArn( stack, jsii.String(\u0026#34;ImportedCertificate\u0026#34;), jsii.String(\u0026#34;arn:aws:acm:us-east-1:000000000000:certificate/hoge\u0026#34;)) CloudFront CloudFront é–¢é€£ã§ã¯ã€ CachePolicy, OriginRequestPolicy, Distribution ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚ ãã‚Œãã‚Œç‰¹ã«é›£ã—ã„ã¨ã“ã‚ã¯ãªã„1 ã®ã§ã™ãŒã€ Distribution ã®ã‚«ã‚¹ã‚¿ãƒ ã‚ªãƒªã‚¸ãƒ³ã¨ã—ã¦ Function URL ã® ãƒ‰ãƒ¡ã‚¤ãƒ³ ã‚’ã—ã¦ã„ã™ã‚‹ã¨ã“ã‚ã§å°ç´°å·¥ãŒå¿…è¦ã§ã—ãŸã€‚ Distribution ã®ã‚«ã‚¹ã‚¿ãƒ ã‚ªãƒªã‚¸ãƒ³ã« Function URL ã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã€è¨­å®šã™ã‚‹ã®ã¯ URL ã§ã¯ãªã ãƒ‰ãƒ¡ã‚¤ãƒ³éƒ¨åˆ†ã®ã¿ ã¨ãªã‚Šã¾ã™ã€‚\nCloudFront ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚ªãƒªã‚¸ãƒ³ã¨ã—ã¦ Lambda é–¢æ•° URL ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€ã‚ªãƒªã‚¸ãƒ³ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ã—ã¦ Lambda é–¢æ•° URL ã®å®Œå…¨ãªãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’æŒ‡å®šã—ã¾ã™ã€‚\nCloudFront ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§ã®ã•ã¾ã–ã¾ãªã‚ªãƒªã‚¸ãƒ³ã®ä½¿ç”¨ - Amazon CloudFront AWS CDK ã«ãŠã„ã¦ Function URL ã«ã¤ã„ã¦ã¯ awslambda.FunctionUrl.Url() ã§å‚ç…§ã§ãã‚‹ã®ã§ã™ãŒã€ Distribution ã¨åŒã˜ scope å†…ã§ FunctionURL ã‚’ä½œæˆã—ã¦ã„ã‚‹å ´åˆã«ã¯ DistributionProps å†…ã§åˆ©ç”¨ã™ã‚‹æ™‚ç‚¹ã§ã¯ã¾ã å€¤ãŒç¢ºå®šã—ã¦ã„ã¾ã›ã‚“ã€‚ãªã®ã§ã€ strings.Replace ãªã©ã‚’ä½¿ã£ã¦ https:// ã‚’å–ã‚Šé™¤ãã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚ãã®ãŸã‚ã€ CloudFormation ã® Fn ã‚’åˆ©ç”¨ã—ã¦ URL ã‹ã‚‰ãƒ‰ãƒ¡ã‚¤ãƒ³éƒ¨åˆ†ã®ã¿ã‚’æŠœãå‡ºã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚å…·ä½“çš„ã«ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªé–¢æ•°ã‚’ç”¨æ„ã—ã¦åŠ å·¥ã—ã¾ã—ãŸã€‚\nvar slash string = \u0026#34;/\u0026#34; func functionURLDomain(furl awslambda.FunctionUrl) *string { // function url format: https://hoge.lambda-url.ap-northeast-1.on.aws/ // split: [\u0026#34;https:\u0026#34;, \u0026#34;\u0026#34;, \u0026#34;hoge.lambda-url.ap-northeast-1.on.aws\u0026#34;, \u0026#34;\u0026#34;] splitURL := awscdk.Fn_Split(\u0026amp;slash, furl.Url(), jsii.Number(4)) return (*splitURL)[2] } AWS CDK ã«ã¯ CloudFormation ã® Fn ã‚’å†ç¾ã™ã‚‹ãŸã‚ã®é–¢æ•°ãŒè¦ã•ã‚Œã¦ãŠã‚Šã€ä»Šå›ã¯æ–‡å­—åˆ—ã‚’åˆ†å‰²ã™ã‚‹ Fn_Split ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚\nã“ã®ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã€ cdk synth ã‚’å®Ÿè¡Œã—ãŸéš›ã® CFn ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ä¸‹è¨˜ã®ã‚ˆã†ãªå½¢ã§ç”Ÿæˆã•ã‚Œã¾ã™ã€‚\nAWSCDKGoExampleFunctionURLFunctionCFDistribution6BF356B9: Type: AWS::CloudFront::Distribution Properties: DistributionConfig: Origins: - ConnectionAttempts: 1 ConnectionTimeout: 5 CustomOriginConfig: OriginProtocolPolicy: https-only OriginSSLProtocols: - TLSv1.2 DomainName: Fn::Select: - 2 - Fn::Split: - / - Fn::GetAtt: - AwsCdkGoExampleSimpleResponseDefaultUrlB01107C8 - FunctionUrl Id: LambdaFunctionUrlsWithCustomDomainStackAWSCDKGoExampleFunctionURLFunctionCFDistributionOrigin181CAA1CC OriginCustomHeaders: - HeaderName: x-aws-cdk-go-example-from HeaderValue: aws-cdk-go-example-cf ã¾ãŸã€ä»»æ„ã® Origin Custom Header ã‚’è¨­å®šã—ã¦ãŠãã“ã¨ã§ã€å¾Œè¿°ã™ã‚‹ Lambda é–¢æ•°ã®å®Ÿè£…ã«ã¦ç›´æ¥ Function URL ã® URL ã‚’å©ã‹ã‚ŒãŸã¨ãã®å¯¾ç­–ã¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä»Šå›ã¯ x-aws-cdk-go-example-from ã¨ã„ã†ãƒ˜ãƒƒãƒ€ã« aws-cdk-go-example-cf ã¨ã„ã†å€¤ã‚’è¨­å®šã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\ncustomHeaderForFunction := map[string]*string{ \u0026#34;x-aws-cdk-go-example-from\u0026#34;: jsii.String(\u0026#34;aws-cdk-go-example-cf\u0026#34;), } props := \u0026amp;awscloudfront.DistributionProps{ Enabled: jsii.Bool(true), DefaultBehavior: \u0026amp;awscloudfront.BehaviorOptions{ CachePolicy: cachePolicy, OriginRequestPolicy: originRequestPolicy, Origin: awscloudfrontorigins.NewHttpOrigin(defaultFnURLDomain, \u0026amp;awscloudfrontorigins.HttpOriginProps{ ConnectionAttempts: jsii.Number(1), ConnectionTimeout: awscdk.Duration_Seconds(jsii.Number(5)), CustomHeaders: \u0026amp;customHeaderForFunction, ProtocolPolicy: awscloudfront.OriginProtocolPolicy_HTTPS_ONLY, OriginSslProtocols: \u0026amp;[]awscloudfront.OriginSslPolicy{ awscloudfront.OriginSslPolicy(\u0026#34;TLS_V1_2\u0026#34;), }, }), ViewerProtocolPolicy: awscloudfront.ViewerProtocolPolicy_HTTPS_ONLY, }, HttpVersion: awscloudfront.HttpVersion_HTTP2, PriceClass: awscloudfront.PriceClass_PRICE_CLASS_200, EnableLogging: jsii.Bool(false), } aws-cdk-go-examples/cloudfront.go at main Â· michimani/aws-cdk-go-examples Lambda Lambda é–¢é€£ã§ã¯ Function ã¨ Function URL ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™ãŒã€ãã‚Œãã‚Œç‰¹ç­†ã™ã‚‹ã¹ãç‚¹ã¯ãªã„ã®ã§ãƒªã‚½ãƒ¼ã‚¹ã®å®šç¾©ã«ã¤ã„ã¦ã¯å‰²æ„›ã—ã¾ã™ã€‚ä¸€æ–¹ã§ã€ Lambda é–¢æ•°ã®å®Ÿè£…ã«ã¤ã„ã¦ã¯å·¥å¤«ã™ã¹ãç‚¹ãŒã‚ã‚Šã¾ã—ãŸã€‚ CloudFront ã®ã¨ã“ã‚ã§ã‚‚æ›¸ãã¾ã—ãŸãŒã€ä»Šå›ã¯ Lambda é–¢æ•°ã‚’Function URL ã§ã¯ãªãä»»æ„ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã§å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã€ Function URL ã‚’ç›´æ¥å©ã‹ã‚ŒãŸã¨ãã«ã¯ã‚¨ãƒ©ãƒ¼ã«ã—ãŸã„ã§ã™ã€‚ã“ã‚Œã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã¯ã€ Lambda é–¢æ•°å†…ã§ CloudFront ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã«ä»˜ä¸ã•ã‚Œã‚‹ã‚«ã‚¹ã‚¿ãƒ ãƒ˜ãƒƒãƒ€ã‚’æ¤œæŸ»ã—ã¾ã™ã€‚\nfunc handleRequest(ctx context.Context, httpRequest events.APIGatewayProxyRequest) (response, error) { lctx, ok := lambdacontext.FromContext(ctx) if !ok { return jsonResponse(http.StatusInternalServerError, errorBody{Error: \u0026#34;failed to parse lambda context\u0026#34;}, nil) } if !isAvailableAccess(httpRequest) { return jsonResponse(http.StatusForbidden, errorBody{Error: \u0026#34;forbidden\u0026#34;}, nil) } body := okBody{ RequestID: lctx.AwsRequestID, Message: message, Time: time.Now().Format(time.RFC3339Nano), } customHeader := map[string]string{ \u0026#34;x-aws-cdk-example\u0026#34;: \u0026#34;lambda-function-urls-with-custom-domain\u0026#34;, } return jsonResponse(http.StatusOK, body, customHeader) } func isAvailableAccess(req events.APIGatewayProxyRequest) bool { // invoke from specified CloudFront if h, ok := req.Headers[customHeaderKeyFromCloudFront]; !ok { fmt.Printf(\u0026#34;custom header %s does not exists. req:%v\u0026#34;, customHeaderKeyFromCloudFront, req) return false } else if h != customHeaderValueFromCloudFront { fmt.Printf(\u0026#34;custom header value is invalid. req:%v\u0026#34;, req) return false } return true } ãƒãƒ³ãƒ‰ãƒ©é–¢æ•°ã§ events.APIGatewayProxyRequest ã‚’å—ã‘å–ã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã“ã¨ã§ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã‚’æ¤œæŸ»ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nä¸Šè¨˜ã®å®Ÿè£…ã§ã‚ã‚Œã°ã€ Function URL ã‚’ç›´æ¥å©ã‹ã‚ŒãŸã¨ã (= ç‰¹å®šã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ãŒå«ã¾ã‚Œãªã„ã¨ã) ã¯ 403 ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\naws-cdk-go-examples/main.go at main Â· michimani/aws-cdk-go-examples ã¾ã¨ã‚ Lambda Function URL ã‚’ä»»æ„ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã§å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ§‹æˆã‚’ AWS CDK v2 (Golang) ã§æ§‹æˆã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nFunction URL ãŒç™ºè¡¨ã•ã‚ŒãŸã¨ãã¯ ã€Œã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³å¯¾å¿œã—ã¦ãªã„ã®ã‹ãƒ¼ã€ã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€å‰æ®µã« CloudFront ã‚’ç½®ã‘ã°å®Ÿç¾å¯èƒ½ã§ã‚ã‚‹ã¨ã„ã†ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚\nå‰æ®µã« CloudFront ã‚’ç½®ãã¨ã„ã†ã“ã¨ã¯ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ©æµã‚’å—ã‘ã‚‰ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ã¾ãŸã€ WAF ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ DDoS æ”»æ’ƒã‚„æ‚ªæ„ã®ã‚ã‚‹ bot ç­‰ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã«ã¤ã„ã¦ã‚‚å¯¾ç­–ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nä»Šå›ã®ã‚ˆã†ã«æ–°ãŸã« CloudFront ã‚’ç”¨æ„ã™ã‚‹ã¨ã“ã‚ã‹ã‚‰ã¨ãªã‚‹ã¨ã¡ã‚‡ã£ã¨å¤§å¤‰ã§ã™ãŒã€æ—¢ã« CloudFront ã‚’åˆ©ç”¨ã—ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚ã‚‹çŠ¶æ…‹ã§ã‚ã‚Œã° Behavior ã®è¿½åŠ ã ã‘ã§å®Ÿç¾ã§ãã‚‹ã“ã¨ã«ãªã‚‹ã®ã§ã€ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã®å®Ÿè£…ã‚’ Lambda ã§ä½œã£ã¦ API ã¨ã—ã¦ä½¿ã†ã¨ã„ã†ã®ãŒã‚µã‚¯ãƒƒã¨ã§ãã¦ã—ã¾ã„ãã†ã§ã™ã€‚\nDistributionProps ã®æ§‹é€ ä½“ãŒãƒ‡ã‚«ã™ãã‚‹å•é¡Œã¯ã‚ã‚Šã¾ã™ãŒã€ã“ã‚Œã¯ CloudFront æ‰±ã†ä¸Šã§ã®å®¿å‘½ãªã®ã§è«¦ã‚ã¾ã™\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-lambda-function-urls-with-custom-domain/",
    "title": "Lambda Function URLs ã§ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ã†æ§‹æˆã‚’ AWS CDK v2 (Go) ã§æ§‹ç¯‰ã™ã‚‹"
  },
  {
    "contents": "ä½•ã‚‚æ›¸ã‹ãªã„ã®ã¯ã‚ã‚Œãªã®ã§ã€é›‘ã« 2022 å¹´ã®æŒ¯ã‚Šè¿”ã‚Šã‚’ã—ã¦ãŠãã¾ã™ã€‚\nå»å¹´ã®æŒ¯ã‚Šè¿”ã‚Šã®æœ€å¾Œã«æ›¸ã„ã¦ã„ãŸã“ã¨ æ¥å¹´ã“ãã¯ SAP åˆæ ¼ã—ã¾ã™ã€‚ãã‚Œã§ã¯ã¾ãŸæ¥å¹´ğŸ‘‹\nå…·ä½“çš„ãªç›®æ¨™ã¯ã“ã‚Œã ã‘ã§ã—ãŸã€‚\nAWS èªå®šã¾ã‚ã‚Š 2019 å¹´ã® 7 æœˆã« SAAã€ 2019 å¹´ã® 12 æœˆã« SOA ã¨ DVA ã‚’å–å¾—ã—ã¦ã„ãŸã®ã§ã€ãã‚Œã‚‰ã®æœ‰åŠ¹æœŸé™ãŒ 2022 ã«åˆ‡ã‚Œã‚‹ã“ã¨ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚\nèªå®šã‚’ç¶™ç¶šã™ã‚‹ãŸã‚ã«ã¯ãã‚Œãã‚Œå†å–å¾—ã™ã‚‹ã‹ã€ä¸Šä½è³‡æ ¼ã¨ãªã‚‹ SAP ã¨ DOP ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚\nçµè«–ã€ 2022 å¹´ 6 æœˆã« SAPã€ 11 æœˆã« DOP ã‚’ç„¡äº‹ã«å–å¾—ã§ããŸã®ã§ä¸‹ä½è³‡æ ¼ã¨ãªã‚‹ SAA/SOA/DVA ã‚‚å»¶å‘½ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ãªã®ã§ã€å»å¹´ã®çµ‚ã‚ã‚Šã«æ²ã’ãŸç›®æ¨™ã¯é”æˆã§ã™ã€‚\nã“ã‚“ã«ã¡ã¯ã€‚ç§ãŒã‚®ãƒªã‚®ãƒªã‚’ç”Ÿãã‚‹ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã§ã™ã€‚\nä»Šæœˆæœ«ã§å¤±åŠ¹ã™ã‚‹äºˆå®šã ã£ãŸ SAA ã‚‚å»¶å‘½ã§ããŸã®ã§ãƒ¨ã‚·ã€‚ pic.twitter.com/DFNyRQpMNm\n\u0026mdash; michimani Lv.870 (@michimani210) June 13, 2022 ã“ã‚“ã«ã¡ã¯ã€‚ç§ãŒã‚®ãƒªã‚®ãƒªã‚’ç”Ÿãã‚‹ DevOps Engineer ã®ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã§ã™ã€‚\næ¥æœˆå¤±åŠ¹ã™ã‚‹äºˆå®šã ã£ãŸ DVA ã¨ SOA ã‚‚å»¶å‘½ã§ããŸã®ã§ãƒ¨ã‚·ã€‚ pic.twitter.com/fOb7pWKFes\n\u0026mdash; michimani Lv.870 (@michimani210) November 29, 2022 ãã‚Œãã‚Œã‚¹ã‚³ã‚¢ã¯ã‚®ãƒªã‚®ãƒªã§ã—ãŸãŒã€åˆæ ¼ã§ããŸã®ã§ãƒ¨ã‚·ã€‚\nã“ã‚Œã§ AWS èªå®šã¯ 5 ã¤ã«ãªã£ãŸã‚ã‘ã§ã™ã€‚\nå…¨éƒ¨å–ã‚ã†ã¨ã‹ã¯æ€ã£ã¦ãªã„ã§ã™ãŒã€æ¥å¹´ã¯ Specialty ã®èªå®šä¸€ã¤ãã‚‰ã„ã¯æŒ‘æˆ¦ã—ã¦ã¿ãŸã„ã§ã™ã€‚\né–‹ç™ºã¾ã‚ã‚Š (ã–ã£ãã‚Š) å»å¹´ã®æŒ¯ã‚Šè¿”ã‚Šè¨˜äº‹ã§ã€ãµã‚“ã‚ã‚Šã¨ ã€ŒGo ã‚‚å‹‰å¼·ã—ã¾ã™ã€ã¿ãŸã„ãªã“ã¨ã‚’æ›¸ã„ã¦ã¾ã—ãŸã€‚\nå»å¹´ä½œã£ãŸ Twitter API v2 ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚‚ã‚¹ã‚¿ãƒ¼æ•°ãŒ 66 ã¾ã§å¢—ãˆã¦ã€ ã€Œç›†æ ½ã‚’è‚²ã¦ã‚‹ã‚ˆã†ã«ç´°ã€…ã¨ãƒ¡ãƒ³ãƒ†ã—ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚ã€ ã¨ã„ã†ã®ã¯é”æˆã‹ãªã¨ã€‚åˆ©ç”¨è€…ã‹ã‚‰ issue å ±å‘Šã‚„ PR ãŒé£›ã‚“ã§ããŸã‚Šã‚‚ã—ã¦ã€ã‚ãƒ¼ä½¿ã‚ã‚Œã¦ã‚“ãªãƒ¼æ„Ÿã‚’æ„Ÿã˜ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nä»Šå¹´ã¯ã€ Go ä»¥å¤–ã ã¨ Rust ã‚’è§¦ã‚Šå§‹ã‚ã¦ã¿ãŸã‚Šã€ AWS ãƒªã‚½ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹ã®ã« Terraform ã¨ä»²è‰¯ããªã£ãŸã‚Šã€ã¨ã„ã†ã®ãŒæ–°ã—ã„é ˜åŸŸã ã£ãŸã¨æ€ã„ã¾ã™ã€‚ã“ã®è¾ºã«ã¤ã„ã¦ã¯ã€ä»Šå¹´æ–°ãŸã« GitHub ã«ä½œã£ãŸãƒªãƒã‚¸ãƒˆãƒªã‚’è¦‹ã¦ã„ã£ã¦æŒ¯ã‚Šè¿”ã‚ã†ã¨æ€ã„ã¾ã™ã€‚\nä»Šå¹´ GitHub ã«ä½œã£ãŸãƒªãƒã‚¸ãƒˆãƒª å¯¾è±¡ãƒªãƒã‚¸ãƒˆãƒªã®å–å¾—ã«ã¯ã€ gh ã‚³ãƒãƒ³ãƒ‰ã§å–å¾—ã—ã¾ã—ãŸã€‚\ngh repo list \\ --json name,createdAt,url \\ -q \u0026#39;.[] | select(.createdAt | test(\u0026#34;2022-\u0026#34;))\u0026#39; \\ --visibility public \\ --source \\ | jq --slurp \u0026#39;. | sort_by(.createdAt)\u0026#39; programming-Rust-2nd michimani/programming-Rust-2nd ã“ã‚Œã¯ Rust ã®å‹‰å¼·ã‚’å§‹ã‚ã‚‹ã«ã‚ãŸã£ã¦ O\u0026rsquo;Reilly ã® ã€Œ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª Rust ç¬¬2ç‰ˆ ã€ ã‚’èª­ã¿ãªãŒã‚‰åŸºæœ¬æ§‹æ–‡ã®ä½¿ã„æ–¹ã¨ã‹ã‚’å®Ÿéš›ã«ã‚³ãƒ¼ãƒ‰ã§æ›¸ã„ã¦ã„ãŸã‚„ã¤ã§ã™ã€‚\nã¨ã‚Šã‚ãˆãšä¸€å‘¨ã—ã¦ã€ãã®å¾Œã¯ Project Euler ã®å•é¡Œã‚’ Rust ã§ã‚„ã£ãŸã‚Šã—ã¦ã¾ã—ãŸã€‚ãŒã€ã¾ã ã¾ã  Rust ãªã«ã‚‚ã‚ã‹ã‚‰ãªã„ã€‚\nmichimani/Project-Euler-Solutions: My solutions for Project Euler. (Python, Go, Rust) go-esa michimani/go-esa: Unofficial esa SDK for the Go programming language. Twitter API v2 ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œã£ãŸå‹¢ã„ã¨ãã®åçœã‚’æ´»ã‹ãã†ã¨ã—ã¦ä½œã£ãŸã€Go è£½ã® esa API ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚\nesa ã¯ç„¡æ–™æœŸé–“ãŒ 3ãƒ¶æœˆã‚ã‚‹ã®ã§ã€ãã®é–“ã«ä½œã‚Šãã‚Šã¾ã—ãŸã€‚ç„¡æ–™æœŸé–“çµ‚äº†å¾Œã¯ã€å€‹äººã§ã¯ä½¿ã£ã¦ã„ã¾ã›ã‚“ã€‚\ntext-detector michimani/text-detector: This is a library for the Go language to detect text from images. It uses Amazon Rekognition or Google Cloud Vision for text detection. ç”»åƒã«å«ã¾ã‚Œã¦ã„ã‚‹ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ½å‡ºã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ã€‚æŠ½å‡ºå‡¦ç†ã«ã¯ Amazon Rekognition ã‚‚ã—ãã¯ Google Cloud Vision ã®ã©ã¡ã‚‰ã‹ã‚’é¸ã¹ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nREADME ãŒ TBD ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‹ã‚‰ã‚‚ã€çªç™ºçš„ã«ä½œã£ã¦æ”¾ç½®ã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\nelasticsearch-get-started, get-started-opensearch michimani/elasticsearch-get-started michimani/get-started-opensearch: Hello OpenSearch. Elasticsearch ã¨ OpenSearch ã«å…¥é–€ã—ã‚ˆã†ã¨æ€ã£ã¦è§¦ã£ã¦ã¿ãŸã‚„ã¤ã§ã™ã€‚\nOpenSearch ã«ã¤ã„ã¦ã¯å®Œå…¨ã«ç†è§£ã—ãŸæ°—ã§ã„ã¾ã—ãŸãŒã‚‚ã†å®Œå…¨ã«å¿˜ã‚Œã¦ã—ã¾ã£ãŸã®ã§ã€ã‚„ã¯ã‚Šç¶™ç¶šã¯å¤§äº‹ã€‚\namazon-aws michimani/amazon-aws: The quiz \u0026amp;ldquo;Amazon\u0026amp;rdquo; or \u0026amp;ldquo;AWS\u0026amp;rdquo; or neither? ãªã‚“ã¨ãªã React.js ã«å…¥é–€ã™ã‚‹ã‹ãƒ¼ã¨æ€ã£ã¦ä½œã£ãŸç°¡å˜ãªã‚¯ã‚¤ã‚ºã‚¢ãƒ—ãƒªã§ã™ã€‚\nã“ã¡ã‚‰ã‹ã‚‰éŠã¹ã¾ã™ã€‚\nQuiz Amazon or AWS aws-cdk-go-examples michimani/aws-cdk-go-examples: This is a repository of example implementations of using AWS CDK with Go language. AWS CDK v2 ã® Go è¨€èªã‚µãƒãƒ¼ãƒˆãŒ GA ã•ã‚ŒãŸã®ã§ã€å®Ÿè£…ä¾‹ã‚’é›†ã‚ã¦ã¿ã‚‹ã‹ã€ã¨æ€ã£ã¦ä½œã£ãŸã‚‚ã®ã§ã™ã€‚\nGA ã•ã‚ŒãŸã‚‚ã®ã®ã¾ã ã¾ã æƒ…å ±ãŒå°‘ãªã„ã®ã§ã€è‡ªåˆ†ãŒå›°ã£ãŸã¨ãã®å‚è€ƒã«ãªã‚Œã°ååˆ†ã§ã€ã‚‚ã—ä»–ã®äººã®å‚è€ƒã«ãªã‚Œã°ã¨ã¦ã‚‚å¬‰ã—ã„ã§ã™ã€‚\nget-started-cdk-terraform michimani/get-started-cdk-terraform CDK for Terraform å…¥é–€ç”¨ã«ä½œã£ãŸã‚„ã¤ã§ã™ã€‚\nè§¦ã£ã¦ã¿ãŸçµæœã€ç®¡ç†ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ãŒ AWS ãƒªã‚½ãƒ¼ã‚¹ã«é™ã‚‰ã‚Œã‚‹ã®ã§ã‚ã‚Œã° AWS CDK ã®ã»ã†ãŒè‰¯ã„ãªã€ã¨æ€ã„ã¾ã—ãŸã€‚\njsc michimani/jsc: Joins multiple slack channels to display posts in chronological order. Slack ã§è¤‡æ•°ãƒãƒ£ãƒ³ãƒãƒ«ã® TL ã‚’ãƒãƒ¼ã‚¸ã—ã¦è¦‹ãŸã„ãªã€ã¨æ€ã£ã¦ä½œã£ãŸãƒ„ãƒ¼ãƒ«ã§ã™ã€‚\nsqs-lambda-example michimani/sqs-lambda-example: Example of AWS Lambda functions that invoked by message from Amazon SQS. SQS ã‚’ãƒˆãƒªã‚¬ãƒ¼ã¨ã™ã‚‹ Lambda é–¢æ•°ã«ã¤ã„ã¦ã€ã‚ã¾ã‚Šã‚ã‹ã£ã¦ã„ãªã‹ã£ãŸã§å®Ÿéš›ã«ç°¡å˜ãªæ§‹æˆã‚’ä½œã£ã¦ã¿ãŸã‚„ã¤ã§ã™ã€‚ãƒªã‚½ãƒ¼ã‚¹ã¯ Terraform ã§å®šç¾©ã€ Event Source Mapping ã® Filter Pattern ã‚’ä½¿ã£ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã”ã¨ã«ç•°ãªã‚‹ Lambda é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ãªæ§‹æˆã«ãªã£ã¦ã„ã¾ã™ã€‚\ncontainer-lambda-cicd michimani/container-lambda-cicd: ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’åˆ©ç”¨ã™ã‚‹ Lambda é–¢æ•°ã® CI/CD ã®ã‚µãƒ³ãƒ—ãƒ«ã€‚ ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã™ã‚‹ Lambda é–¢æ•°ã«ã¤ã„ã¦ã€ GitHub Actions ã‚’ä½¿ã£ãŸ CI/CD ã‚’æ•´å‚™ã—ã¦ã¿ãŸã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚\nlambda-parameters-extension michimani/lambda-parameters-extension: Sample code of using Parameter and Secret Lambda Extension. Parameter Store ãŠã‚ˆã³ Secret Manager ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ Lambda Extension ãŒ AWS å…¬å¼ã‹ã‚‰ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸã®ã§ã€ãã‚Œã‚’è©¦ã™ãŸã‚ã«ä½œã£ãŸã‚„ã¤ã§ã™ã€‚\ngenerative-art michimani/generative-art: ã€æ•°å­¦ã‹ã‚‰å‰µã‚‹ã‚¸ã‚§ãƒãƒ©ãƒ†ã‚£ãƒ–ã‚¢ãƒ¼ãƒˆ - Processing ã§å­¦ã¶ ã‹ãŸã¡ã®ãƒ‡ã‚¶ã‚¤ãƒ³ã€ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ Rust ã§æ›¸ã„ãŸã‚‚ã®ã€‚ ãƒªãƒã‚¸ãƒˆãƒªã® description ã«ã‚‚æ›¸ã„ã¦ã¾ã™ãŒ ã€Œ æ•°å­¦ã‹ã‚‰å‰µã‚‹ã‚¸ã‚§ãƒãƒ©ãƒ†ã‚£ãƒ–ã‚¢ãƒ¼ãƒˆ - Processing ã§å­¦ã¶ ã‹ãŸã¡ã®ãƒ‡ã‚¶ã‚¤ãƒ³ ã€ã¨ã„ã†æœ¬ã‚’èˆˆå‘³æœ¬ä½ã§è²·ã£ãŸã®ã§ã€åº•ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹å®Ÿè£…ã‚’ Rust ã§ã‚„ã£ã¦ã¿ã‚ˆã†ã¨æ€ã£ã¦ä½œã£ãŸã‚‚ã®ã§ã™ã€‚ã¨ã‚Šã‚ãˆãšã²ã¨ã¤ã¯å®Ÿè£…ã—ã¦ã¿ã¾ã—ãŸãŒã€ãã‚Œä»¥é™ã¯é€²æ—ãŒã‚ã‚Šã¾ã›ã‚“ã€‚\naws-lambda-api-go michimani/aws-lambda-api-go: This is a client library for Go language to use AWS Lambda\u0026amp;rsquo;s Runtime API, Extension API, Telemetry API, and Logs API. Lambda ã® Runtime API, Extension API, Telemetry API ç”¨ Go è£½ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚Go ã§ Lambda Extension ã‚’ä½œã‚‹ã¨ãã«ä¾¿åˆ©ã«ãªã‚‹æƒ³å®šã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚\nhttp-client-mock michimani/http-client-mock: This is a package to generate a mock of http.Client in Go language. You can easily generate a http. Go ã§ API ç”¨ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æ›¸ã„ã¦ã„ã‚‹ã¨ http.Client ã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸãƒ†ã‚¹ãƒˆã‚’ãŸãã•ã‚“æ›¸ãæ©Ÿä¼šãŒã‚ã‚Šã€ãã®éƒ¨åˆ†ã‚’ã„ã„æ„Ÿã˜ã«æ›¸ãã‚„ã™ãã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½œã‚Šã¾ã—ãŸã€‚\nlambda-api-example michimani/lambda-api-example michimani/aws-lambda-api-go ã‚’ä½¿ã£ãŸå®Ÿè£…ä¾‹ã§ã™ã€‚å¤§ã—ãŸå†…å®¹ã§ã¯ãªã„ã®ã§ã€ä½œã£ãŸç†ç”±ãŒã‚ã‹ã‚Šã¾ã›ã‚“ã€‚\ninvocation-history-extension michimani/invocation-history-extension: This is a Extension for AWS Lambda Function that records history of invocation at the same runtime environment. Lamdba ã® Telemetry API ã‚’ä½¿ã† Lambda Extension ã§ã™ã€‚\nè©³ã—ãã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®è¨˜äº‹ã§æ›¸ã„ã¦ã„ã¾ã™ã€‚\nTelemetry API ã‚’ä½¿ã† Lambda Extension ã‚’ä½œã£ã¦ã¿ãŸ - michimani.net ãã®ä»– æ•°å­¦ç³»ã®æœ¬ã‚’ã„ãã¤ã‹èª­ã‚“ã  Google Analytics 4 ã«ç§»è¡Œã—ãŸ ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å‹‰å¼·ä¼šã¯ã‚ã¾ã‚Šå‚åŠ ã§ããªã‹ã£ãŸ (ç¶™ç¶š) ç™»å£‡ã¯ã—ãŸ ä½“é‡ã¯æ¸›ã‚‰ã›ãªã‹ã£ãŸ (ç¶™ç¶š) çµå©šã—ãŸ ã¾ã¨ã‚ é›‘ã«æŒ¯ã‚Šè¿”ã‚Šã€ã¨è¨€ã„ã¤ã¤ GitHub ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ™ãƒ¼ã‚¹ã«æŒ¯ã‚Šè¿”ã£ãŸã ã‘ã«ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚\nå»å¹´ã‚ˆã‚Šã¯å­¦ã³ã¯ã‚ã£ãŸæ°—ã¯ã—ã¤ã¤ã‚‚ã€çµæœ (åå…¥) ã«ã¯çµã³ã¤ã„ã¦ã„ãªã„ã®ã§ã€ 2023 å¹´ã¯çµæœ (åå…¥) ã«ã‚‚æ‹˜ã£ã¦ã„ã‘ãŸã‚‰ã„ã„ãªã¨æ€ã„ã¾ã™ã€‚\nå…·ä½“çš„ãªç›®æ¨™ã‚‚æ›¸ã„ã¦ãŠã‹ãªã„ã¨æŒ¯ã‚Šè¿”ã‚‹ã¨ãã«ä¸ä¾¿ãªã®ã§ã„ãã¤ã‹ã€‚\nAWS èªå®šã® Specialty ç³»ã®è©¦é¨“ã‚’å—ã‘ã‚‹ æ•°ç ”æº–ä¸€ç´šã‚’å—ã‘ã‚‹ 2023 å¹´ã‚‚ãŒã‚“ã°ã‚Šã¾ã—ã‚‡ã† ğŸ‘‹\n",
    "permalink": "https://michimani.net/post/other-retrospect-in-2022/",
    "title": "2022 å¹´ã‚’é›‘ã«æŒ¯ã‚Šè¿”ã‚‹"
  },
  {
    "contents": "AWS Lambda ã® Runtime API ã«ã¤ã„ã¦èª¿ã¹ã¦ã„ãŸã‚‰ Extension APIã€ Telemetry API ã¨ã„ã†ã‚‚ã®ã®å­˜åœ¨ã‚’çŸ¥ã‚Šã€ ã²ã¨ã¤å‰ã®è¨˜äº‹ ã§ã¯ãã‚Œã‚’ä½¿ã£ã¦ç°¡å˜ãª Lambda Extension ã‚’è‡ªä½œã—ã¦ã¿ã¾ã—ãŸã€‚ä»Šå›ã¯ã€ Telemetry API ã‚’ä½¿ã† Lambda Extension ã‚’ä½œã£ã¦ã¿ã¦ã€ Telemetry API ã§ã©ã®ã‚ˆã†ãªæƒ…å ±ãŒå–å¾—ã§ãã‚‹ã®ã‹ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nã¯ã˜ã‚ã« Telemetry API ã¨ã¯ Telemetry API ã‚’ä½¿ã† Lambda Extension ã®æ¦‚è¦ Telemetry API ã®è©³ç´° 1. Subscribe API - PUT /telemetry ã«ã¤ã„ã¦ 2. Subscriber ã«å¯¾ã—ã¦é€ä¿¡ã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã«ã¤ã„ã¦ Telemetry API ã‚’ä½¿ã† Extension ã‚’ä½œã£ã¦ã¿ã‚‹ Telemetry API ã® Subscriber ã‚’èµ·å‹• Subscribe API ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦ Subscriber ã‚’ç™»éŒ² ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° Lambda é–¢æ•°ã§ä½¿ã£ã¦ã¿ã‚‹ æº–å‚™ Extension ã¨ ãã‚Œã‚’ä½¿ã†é–¢æ•°ã‚’ä½œæˆ å®Ÿè¡Œã—ã¦ãƒ­ã‚°ã‚’ç¢ºèª ã¾ã¨ã‚ ã¯ã˜ã‚ã« ã“ã®è¨˜äº‹ã¯ å¼è­·å£«ãƒ‰ãƒƒãƒˆã‚³ãƒ  Advent Calendar 2022 (ã¨ AWS Lambdaã¨Serverless Advent Calendar 2022 (ãã®2) ) ã® 12 æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚\næ˜¨æ—¥ã¯ @talog ã«ã‚ˆã‚‹ ã€Œtextlint ã®ãƒ«ãƒ¼ãƒ«ã‚’ä½œã£ã¦ä»•çµ„ã¿ã‚’ç†è§£ã—ãŸğŸ’ª ã€ ã§ã—ãŸã€‚ã“ã®ãƒ–ãƒ­ã‚°ã«ã‚‚ linter ã‚’å°å…¥ã—ãŸã„\u0026hellip;\nä»Šå›ã®è¨˜äº‹ã§ã¯ã‚¿ã‚¤ãƒˆãƒ«ã®é€šã‚Š Telemetry API ã‚’ä½¿ã£ãŸ Lambda Extension ã«ã¤ã„ã¦æ›¸ãã¾ã™ãŒã€ä¸‹è¨˜ã®è¨˜äº‹ã§ Lambda Extension ãã®ã‚‚ã®ã«ã¤ã„ã¦æ›¸ã„ã¦ã„ã‚‹ã®ã§åˆã‚ã›ã¦èª­ã‚“ã§ã„ãŸã ãã¨ã‚ˆã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nAWS Lambda ã® Extension API ã‚’ä½¿ã„ãŸã„ãŒãŸã‚ã« Go ã§ Lambda Extension ã‚’è‡ªä½œã—ã¦ã¿ãŸ - michimani.net Telemetry API ã¨ã¯ 2022å¹´ 11æœˆã«ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸæ©Ÿèƒ½ã§ã€ Lambda ã®å®Ÿè¡Œç’°å¢ƒã€æ‹¡å¼µæ©Ÿèƒ½ã€é–¢æ•°ã§èµ·ã“ã£ã¦ã„ã‚‹ã“ã¨ã‚’ã‚¤ãƒ™ãƒ³ãƒˆã¨ã—ã¦å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ãª API ã®ã“ã¨ã§ã™ã€‚\nAWS Lambda ã«ãŠã„ã¦ã€æ–°ã—ã„ AWS Lambda Telemetry API ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã‚Šã€é–¢æ•°ã®å®Ÿè¡Œã«é–¢ã™ã‚‹å¼·åŒ–ã•ã‚ŒãŸãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ãŠã‚ˆã³ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£ãƒ‡ãƒ¼ã‚¿ã‚’ã€Lambda æ‹¡å¼µæ©Ÿèƒ½ã§åé›†ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ Telemetry API ã¯ã€ãƒ­ã‚°ã€ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ãƒˆãƒ¬ãƒ¼ã‚¹ã€é–¢æ•°å‘¼ã³å‡ºã—ãƒ¬ãƒ™ãƒ«ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ Lambda ã‹ã‚‰ç›´æ¥å—ã‘å–ã‚‹ãŸã‚ã®ã€æ‹¡å¼µæ©Ÿèƒ½ç”¨ã®ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚\nå¼•ç”¨å…ƒ: AWS Lambda ãŒ Telemetry API ã‚’å°å…¥ã—ãŸã“ã¨ã§ Lambda æ‹¡å¼µæ©Ÿèƒ½ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã¨ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£ãŒã•ã‚‰ã«å‘ä¸Š Telemetry API ã®ãƒªãƒªãƒ¼ã‚¹ä»¥å‰ã«ã¯ Logs API ã¨ã„ã†ã‚‚ã®ãŒæä¾›ã•ã‚Œã¦ãŠã‚Šã€ã“ã® API ã§ã¯é–¢æ•°ã§ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚ŒãŸã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã¦ã„ã¾ã—ãŸã€‚ Telemetry API ã¯ Logs API ã®ä¸Šä½äº’æ›ã®ã‚ˆã†ãªå­˜åœ¨ã§ã€ä»Šå¾Œã¯ Logs API ã®ä»£ã‚ã‚Šã¨ã—ã¦ Telemetry API ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚\nThe Lambda Telemetry API supersedes the Lambda Logs API. While the Logs API remains fully functional, we recommend using only the Telemetry API going forward.\nå¼•ç”¨å…ƒ: Lambda Telemetry API - AWS Lambda Telemetry API ã‚’ä½¿ã† Lambda Extension ã®æ¦‚è¦ Lambda Extension ã§ Telemetry API ã‚’ä½¿ã†å ´åˆã€ Extension ã®å®Ÿè£…ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nHTTP ã¾ãŸã¯ TCP ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã‚‹ã‚µãƒ¼ãƒã‚’æ‰€å®šã®ã‚¢ãƒ‰ãƒ¬ã‚¹ (ãƒãƒ¼ãƒˆã¯ä»»æ„) ã§èµ·å‹•ã™ã‚‹ 1 ã§èµ·å‹•ã—ãŸã‚µãƒ¼ãƒã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ Telemetry API ã® Subscribe API (PUT /telemetry) ã‚’ä½¿ã£ã¦ç™»éŒ²ã™ã‚‹ ä½•ã‹ã—ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç”Ÿã—ãŸéš›ã« Telemetry API ã‹ã‚‰ 1 ã®ã‚µãƒ¼ãƒã«å¯¾ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒé€ä¿¡ã•ã‚Œã‚‹ã®ã§ã€ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’è¡Œã† ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ã§æãã¨ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚\nsequenceDiagram participant ls as Lambda Service participant eapi as Extension API participant tapi as Telemetry API participant main as Extension (main) participant sub as Extension (subscriber) alt Init ls -\u003e\u003e main: start (init extensions in /ops/extensions) main -\u003e\u003e eapi: POST /extension/register eapi -\u003e\u003e main: OK + ExtensionIdentifier main -\u003e\u003e sub: Start HTTP (or TCP) server sub -\u003e\u003e main: OK + listenAddress main -\u003e\u003e tapi: PUT /telemetry with ExtensionIdentifier + listenAddress tapi -\u003e\u003e main: OK end loop Repeat main -\u003e\u003e eapi: GET /extension/event/next eapi -\u003e\u003e main: INVOKE/SHUTDOWN event tapi -\u003e\u003e sub: platform/extension/function event sub -\u003e\u003e sub: handle event end ä¸Šè¨˜ã®é€šã‚Šã€Extension ã‹ã‚‰ã‚³ãƒ¼ãƒ«ã™ã‚‹ Telemetry API ã¨ã—ã¦ã¯ PUT /telemetry ã® Subscribe API ã®ã¿ã§ã™ã€‚\nTelemetry API ã®è©³ç´° ã“ã“ã§ã¯ Telemetry API ã®è©³ç´°ã¨ã—ã¦ã€ä¸‹è¨˜ã® 2 ç‚¹ã«ã¤ã„ã¦æ•´ç†ã—ã¾ã™ã€‚\nSubscribe API - PUT /telemetry ã«ã¤ã„ã¦ Subscriber ã«å¯¾ã—ã¦é€ä¿¡ã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã«ã¤ã„ã¦ 1. Subscribe API - PUT /telemetry ã«ã¤ã„ã¦ Subscribe API ã¯ã€ Extension ã‹ã‚‰ã‚³ãƒ¼ãƒ«ã™ã‚‹ Telemetry API ã¨ã—ã¦å”¯ä¸€å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ API ã§ã€å„ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘å–ã‚‹ãŸã‚ã® Subscriber ã®ç™»éŒ²ã‚’è¡Œã† API ã§ã™ã€‚\nä»•æ§˜ã«ã¤ã„ã¦ã¯ä¸‹è¨˜å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ãŒã€ä¸€éƒ¨è¼‰ã£ã¦ã„ãªã„é …ç›®ã‚‚ã‚ã£ãŸã®ã§ã‚ã‚‰ãŸã‚ã¦ã“ã“ã§æ•´ç†ã—ã¾ã™ã€‚\nLambda Telemetry API reference - AWS Lambda ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ\nPUT http://${AWS_LAMBDA_RUNTIME_API}/2022-07-01/telemetry ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€\nContent-Type: application/json Lambda-Extension-Identifier: POST /extension/register ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ã«å«ã¾ã‚Œã‚‹ ExtensionIdentifier ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£\nschemaVersion: 2022-07-01 (required) destination: Subscriber ã¨ã—ã¦èµ·å‹•ã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒã®æƒ…å ± (required) protocol: ãƒ—ãƒ­ãƒˆã‚³ãƒ« (HTTP or TCP) URI: ã‚¢ãƒ‰ãƒ¬ã‚¹ (\u0026ldquo;URI\u0026rdquo; ã¯å°æ–‡å­—ã˜ã‚ƒãªãã¦å¤§æ–‡å­—) types: å—ä¿¡ã—ãŸã„ã‚¤ãƒ™ãƒ³ãƒˆã®ç¨®é¡ã®é…åˆ— (platform, function, extension) (required) buffering: Telemetry API å´ã§ã®ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒãƒƒãƒ•ã‚¡ãƒªãƒ³ã‚°è¨­å®š (option) maxItems: æœ€å¤§ã‚¤ãƒ™ãƒ³ãƒˆæ•° maxBytes: æœ€å¤§ãƒã‚¤ãƒˆæ•° timeoutMs: æœ€å¤§ç§’æ•° (ãƒŸãƒªç§’) ä¾‹ { \u0026#34;schemaVersion\u0026#34;: \u0026#34;2022-07-01\u0026#34;, \u0026#34;types\u0026#34;: [ \u0026#34;platform\u0026#34;, \u0026#34;function\u0026#34;, ], \u0026#34;buffering\u0026#34;: { \u0026#34;maxItems\u0026#34;: 1000, \u0026#34;maxBytes\u0026#34;: 262144, \u0026#34;timeoutMs\u0026#34;: 100 }, \u0026#34;destination\u0026#34;: { \u0026#34;protocol\u0026#34;: \u0026#34;HTTP\u0026#34;, \u0026#34;URI\u0026#34;: \u0026#34;http://sandbox.localdomain:8080\u0026#34; } } Subscribe API ã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹éš›ã«æ³¨æ„ã—ãŸã„ã®ã¯ã€ã¾ãš destination.URI ã®å€¤ã¨ã—ã¦ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒ sandbox.localdomain ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œä»¥å¤–ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã§æŒ‡å®šã—ãŸå ´åˆã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚\nstatusCode:403\nerrType:Telemetry.AccessDenied\nerrMessage:Only \u0026lsquo;sandbox.localdomain\u0026rsquo; hostname is supported.\nã¾ãŸã€ä¸Šè¨˜ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ Lambda-Extension-Identifier ã«é–¢ã™ã‚‹è¨˜è¿°ãŒã‚ã‚Šã¾ã›ã‚“ãŒã€è¨­å®šã—ãªã„ ã‚‚ã—ãã¯å€¤ãŒä¸æ­£ãªå ´åˆã¯ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚\nstatusCode:403\nerrType:Extension.InvalidExtensionIdentifier\nerrMessage:Invalid Lambda-Extension-Identifier\n2. Subscriber ã«å¯¾ã—ã¦é€ä¿¡ã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã«ã¤ã„ã¦ Telemetry API ã‹ã‚‰é€ä¿¡ã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€å¤§ããåˆ†ã‘ã¦ Platform event, Function logs, Extension logs ã® 3 ã¤ã®ã‚«ãƒ†ã‚´ãƒªã«åˆ†ã‘ã‚‰ã‚Œã€å„ã‚«ãƒ†ã‚´ãƒªå†…ã§æ›´ã«ã„ã¤ã‹ã® Event type ã«åˆ†é¡ã•ã‚Œã¦ã„ã¾ã™ã€‚\nPlatform event platform.initStart platform.initRuntimeDone platform.initReport platform.start platform.runtimeDone platform.report platform.restoreStart platform.restoreRuntimeDone platform.restoreReport platform.extension platform.telemetrySubscription platform.logsDropped Function logs function Extension logs extension å„ Event type ã”ã¨ã« schema ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ãŒã€ Event å…¨ä½“ã® schema ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\n{ \u0026#34;time\u0026#34;: \u0026#34;ã‚¤ãƒ™ãƒ³ãƒˆã®ç™ºç”Ÿæ—¥æ™‚\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Event type\u0026#34;, \u0026#34;record\u0026#34;: \u0026#34;å„ Event type ã® schema\u0026#34; } ä¾‹ãˆã°ã€ Extension ãŒç™»éŒ²ã•ã‚Œã¦èµ·å‹•çŠ¶æ…‹ã«ãªã£ãŸã“ã¨ã‚’ç¤ºã™ã‚¤ãƒ™ãƒ³ãƒˆ platform.extension ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ãªã‚Šã¾ã™ã€‚\n{ \u0026#34;time\u0026#34;: \u0026#34;2022-10-12T00:02:15.000Z\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;platform.extension\u0026#34;, \u0026#34;record\u0026#34;: { \u0026#34;events\u0026#34;: [ \u0026#34;INVOKE\u0026#34;, \u0026#34;SHUTDOWN\u0026#34; ], \u0026#34;name\u0026#34;: \u0026#34;my-telemetry-extension\u0026#34;, \u0026#34;state\u0026#34;: \u0026#34;Ready\u0026#34; } } ãã®ä»–ã€å„ Event type ã® schema ã®è©³ç´°ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nLambda Telemetry API Event schema reference - AWS Lambda Telemetry API ã‚’ä½¿ã† Extension ã‚’ä½œã£ã¦ã¿ã‚‹ ã§ã¯å®Ÿéš›ã« Telemetry API ã‚’ä½¿ã† Extension ã‚’ä½œã£ã¦ã¿ã¾ã™ã€‚å‰å›ã¨åŒæ§˜ã« Go ã§å®Ÿè£…ã—ã¾ã™ã€‚\nä»Šå›ä½œã‚‹ Extension ã§ã‚„ã‚‹ã“ã¨ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\nplatform ã¨ function ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ Subscribe ã™ã‚‹ å—ã‘å–ã£ãŸã‚¤ãƒ™ãƒ³ãƒˆã®å†…å®¹ã‚’ãƒ­ã‚°ã«å‡ºåŠ›ã™ã‚‹ ä»¥ä¸Šã§ã™ã€‚\nExtension ã®ãƒ¡ã‚¤ãƒ³å‡¦ç†ã«ã¤ã„ã¦ã¯å‰å›ã¨å¤§ããå¤‰ã‚ã‚‰ãªã„ã®ã§ã€ Telemetry API ã«é–¢é€£ã™ã‚‹ã¨ã“ã‚ã ã‘æ»ã„æ‘˜ã‚“ã§èª¬æ˜ã—ã¾ã™ã€‚\nå®Ÿè£…ã®è©³ç´°ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã® GitHub ãƒªãƒã‚¸ãƒˆãƒªã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\naws-lambda-api-go/_examples/extension-using-telemetry-api at main Â· michimani/aws-lambda-api-go Telemetry API ã® Subscriber ã‚’èµ·å‹• ã¾ãšã¯ã€ Telemetry API ã‹ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ä¿¡ã—ã¦ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã™ã‚‹ãŸã‚ã® Subscriber ã‚’èµ·å‹•ã—ã¾ã™ã€‚\naws-lambda-api-go/subscriber.go at v0.2.0 Â· michimani/aws-lambda-api-go const defaultSubscriberPort = \u0026#34;1210\u0026#34; const address = \u0026#34;sandbox.localdomain:\u0026#34; + defaultSubscriberPort type TelemetryAPISubscriber struct { httpServer *http.Server logger *logger.Logger } func NewTelemetryAPISubscriber(l *logger.Logger) *TelemetryAPISubscriber { return \u0026amp;TelemetryAPISubscriber{ httpServer: nil, logger: l, } } func (s *TelemetryAPISubscriber) Start() (string, error) { s.logger.Info(\u0026#34;Starting on address:%s\u0026#34;, address) s.httpServer = \u0026amp;http.Server{Addr: address} http.HandleFunc(\u0026#34;/\u0026#34;, s.telemetryEventHandler) go func() { err := s.httpServer.ListenAndServe() if err != http.ErrServerClosed { s.logger.Error(\u0026#34;Unexpected stop on Http Server. err:%v\u0026#34;, err) s.Shutdown() } else { s.logger.Info(\u0026#34;Http Server closed. err:%v\u0026#34;, err) } }() return fmt.Sprintf(\u0026#34;http://%s/\u0026#34;, address), nil } TelemetryAPISubscriber ã‚’è¿”ã™ NewTelemetryAPISubscriber ã¨ã€ TelemetryAPISubscriber ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦ Start ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚\nTelemetryAPISubscriber.Start ã§ã€ sandbox.localdomain:1210 ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ HTTP ã‚µãƒ¼ãƒã‚’èµ·å‹•ã—ã¦ã„ã¾ã™ã€‚HTTP ã‚µãƒ¼ãƒã§ã¯ / ã«å¯¾ã™ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ã¦ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆ (Telemetry API ã‹ã‚‰é€ä¿¡ã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆ) ã‚’ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã™ã‚‹ TelemetryAPISubscriber.telemetryEventHandler ã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nã‚µãƒ¼ãƒã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ã“ã®ã‚ã¨ã® Subscribe API ã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹éš›ã«å¿…è¦ã«ãªã‚‹ã®ã§å‘¼ã³å‡ºã—å…ƒ (= Extension ã®ãƒ¡ã‚¤ãƒ³å‡¦ç†) ã«è¿”ã—ã¾ã™ã€‚\nSubscribe API ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦ Subscriber ã‚’ç™»éŒ² ç¶šã„ã¦ã€èµ·å‹•ã—ãŸ Subscriber ã®æƒ…å ±ã¨å—ä¿¡ã—ãŸã„ã‚¤ãƒ™ãƒ³ãƒˆã‚’ Subscribe API ã‚’ä½¿ã£ã¦ç™»éŒ²ã—ã¾ã™ã€‚\naws-lambda-api-go/client.go at v0.2.0 Â· michimani/aws-lambda-api-go func (c *Client) Subscribe(ctx context.Context, exId string, httpURI string) error { var bufTimeoutMs uint64 = 100 out, err := telemetry.Subscribe(ctx, c.alagoClient, \u0026amp;telemetry.SubscribeInput{ LambdaExtensionIdentifier: exId, DestinationProtocol: telemetry.DestinationProtocolHTTP, DestinationURI: httpURI, TelemetryTypes: []telemetry.TelemetryType{ telemetry.TelemetryTypeFunction, telemetry.TelemetryTypePlatform, }, BufferTimeoutMs: \u0026amp;bufTimeoutMs, }) if err != nil { c.logger.Error(\u0026#34;An error occurred at telemetrySubscribe. err:%v\u0026#34;, err) return err } if out.StatusCode != http.StatusOK { return fmt.Errorf(\u0026#34;An error occurred at extension registration. statusCode:%d errType:%s errMessage:%s\u0026#34;, out.StatusCode, out.Error.ErrorType, out.Error.ErrorMessage) } return nil } ä»Šå›ã‚‚ã€ã‚¯ãƒ©ã‚¤ãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦ aws-lambda-api-go ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚\nå—ä¿¡ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€ platform ã¨ function ã«ã—ã¦ã„ã¾ã™ã€‚ (extension ã¯ã‚¤ãƒ™ãƒ³ãƒˆã®æ•°ãŒå¤šã™ããŸã®ã§é™¤å¤–ã—ã¾ã—ãŸ)\nã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Œã°å‘¼ã³å‡ºã—å…ƒã«è¿”ã™ã€ãŸã ãã‚Œã ã‘ã®å‡¦ç†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nã‚¤ãƒ™ãƒ³ãƒˆã®ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° æœ€å¾Œã«ã€Telemetry API ã‹ã‚‰é€ä¿¡ã•ã‚ŒãŸã‚¤ãƒ™ãƒ³ãƒˆã®ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å‡¦ç†ã§ã™ã€‚\naws-lambda-api-go/subscriber.go at v0.2.0 Â· michimani/aws-lambda-api-go type telemetryAPIEvent struct { Record any `json:\u0026#34;record\u0026#34;` Type string `json:\u0026#34;type\u0026#34;` Time time.Time `json:\u0026#34;time\u0026#34;` } func (s *TelemetryAPISubscriber) telemetryEventHandler(w http.ResponseWriter, r *http.Request) { body, err := io.ReadAll(r.Body) if err != nil { s.logger.Error(\u0026#34;Failed to reading body. err:%v\u0026#34;, err) return } var events []telemetryAPIEvent _ = json.Unmarshal(body, \u0026amp;events) s.logger.Info(\u0026#34;Received %d events.\u0026#34;, len(events)) for i, e := range events { s.logger.Info(\u0026#34;%d: Time:%s Type:%s Record:%v\u0026#34;, i, e.Time.Format(time.RFC3339Nano), e.Type, e.Record) } events = nil } ä»Šå›ã¯ã‚¤ãƒ™ãƒ³ãƒˆã®å¤§æ ã¨ãªã‚‹ schema ã«å¯¾å¿œã™ã‚‹æ§‹é€ ä½“ telemetryAPIEvent ã ã‘ç”¨æ„ã—ã¦ã€å„ã‚¤ãƒ™ãƒ³ãƒˆã”ã¨ã® schema ã«å¯¾å¿œã™ã‚‹æ§‹é€ ä½“ã®å®šç¾©ã«ã¤ã„ã¦ã¯çœç•¥ã—ã¦ã„ã¾ã™ã€‚\nã¾ãŸã€ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨è¨€ã£ã¦ã‚‚ä»Šå›ã¯ãƒ­ã‚°ã«å‡ºåŠ›ã™ã‚‹ã ã‘ãªã®ã§ã€ç‰¹ã«é›£ã—ã„ã“ã¨ã¯ã—ã¦ã„ã¾ã›ã‚“ã€‚\nLambda é–¢æ•°ã§ä½¿ã£ã¦ã¿ã‚‹ å‰å›ã¨åŒæ§˜ã« RIE ã‚’ä½¿ã£ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã§è©¦ãã†ã¨æ€ã£ãŸã‚“ã§ã™ãŒã€ã©ã†ã‚„ã‚‰ Telemetry API ã¯ã¾ã  RIE (ãŒå«ã¾ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸) ã§ã¯å¯¾å¿œã—ã¦ã„ãªã„ã‚ˆã†ã ã£ãŸ1ã®ã§å®Ÿéš›ã®ç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚\næº–å‚™ å®Ÿéš›ã« Lambda ã§å®Ÿè¡Œã—ã¦ç¢ºèªã™ã‚‹ã¾ã§ã®æº–å‚™ã¨ã—ã¦ã€ Extension ã¨é–¢æ•°ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚\nExtension ã«ã¤ã„ã¦ã¯ Lambda Layer ã¨ã—ã¦ä½œæˆã™ã‚‹ã®ã§ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ build -\u0026gt; zip åŒ–ã—ã¾ã™ã€‚\nGOOS=linux GOARCH=amd64 go build -o ../bin/extensions/telemetry-api-extension main.go chmod +x bin/extensions/telemetry-api-extension cd bin \u0026amp;\u0026amp; zip -r extension.zip extensions/ Lambda é–¢æ•°ã«ã¤ã„ã¦ã¯ãŸã ãƒ­ã‚°ã‚’å‡ºåŠ›ã™ã‚‹å‡¦ç†ã ã‘ã‚ã‚Œã°ã‚ˆã•ãã†ãªã®ã§ã€ä¸‹è¨˜ã®ã‚ˆã†ãªå†…å®¹ã§ Python ã§å®Ÿè£…ã—ã¾ã—ãŸã€‚\nimport json import logging def lambda_handler(event, context): logger = logging.getLogger() logger.setLevel(logging.INFO) logger.info(\u0026#39;[%s] Hello Telemetry API!\u0026#39;, context.aws_request_id) return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;body\u0026#39;: json.dumps(\u0026#39;Hello from Lambda!\u0026#39;) } ã“ã¡ã‚‰ã‚‚ zip åŒ–ã—ã¦ãŠãã¾ã™ã€‚\nzip function.zip main.py ã¾ãŸã€ Lambda é–¢æ•°ã®ä½œæˆæ™‚ã«ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ IAM Role ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ä½œæˆã—ã¦ãŠãã¾ã™ã€‚\n# IAM Role ã®ä½œæˆ aws iam create-role \\ --role-name telemetry-api-function-role \\ --assume-role-policy-document \u0026#39;{\u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;,\u0026#34;Statement\u0026#34;: [{ \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: {\u0026#34;Service\u0026#34;: \u0026#34;lambda.amazonaws.com\u0026#34;}, \u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34;}]}\u0026#39; \\ --query \u0026#39;Role.Arn\u0026#39; \\ --output text # IAM Policy ã‚’ã‚¢ã‚¿ãƒƒãƒ aws iam attach-role-policy \\ --role-name telemetry-api-function-role \\ --policy-arn arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole Extension ã¨ ãã‚Œã‚’ä½¿ã†é–¢æ•°ã‚’ä½œæˆ æº–å‚™ãŒã§ããŸã®ã§ã€ Extension (Lambda Layer) ã¨ Lambda é–¢æ•°ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚\nExtension ã¯ Lambda Layer ã¨ã—ã¦ä½œæˆã™ã‚‹ã®ã§ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚\naws lambda publish-layer-version \\ --layer-name \u0026#39;telemetry-api-extension\u0026#39; \\ --zip-file \u0026#39;fileb://bin/extension.zip\u0026#39; \\ --region ap-northeast-1 Lambda é–¢æ•°ã«ã¤ã„ã¦ã¯ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ä½œæˆã—ã¾ã™ã€‚ä¸­ã§ AWS CLI ã‚³ãƒãƒ³ãƒ‰ã‚’å©ã„ã¦ã„ã¦ã‚„ã‚„ã“ã—ãè¦‹ãˆã¾ã™ãŒã€å„ ARN è¨˜è¿°ã™ã‚‹å¿…è¦ãŒãªãã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã«ä¾å­˜ã—ãªã„å½¢ã«ãªã£ã¦ã„ã¾ã™ã€‚\naws lambda create-function \\ --function-name \u0026#39;function-with-telemetry-api-extension\u0026#39; \\ --runtime \u0026#39;python3.9\u0026#39; \\ --handler \u0026#39;main.lambda_handler\u0026#39; \\ --role $( aws iam get-role \\ --role-name \u0026#39;telemetry-api-function-role\u0026#39; \\ --query \u0026#39;Role.Arn\u0026#39; \\ --output text) \\ --zip-file fileb://function.zip \\ --layers $( aws lambda list-layer-versions \\ --layer-name \u0026#39;telemetry-api-extension\u0026#39; \\ --query \u0026#39;LayerVersions[0].LayerVersionArn\u0026#39; \\ --output text) \\ --region ap-northeast-1 å®Ÿè¡Œã—ã¦ãƒ­ã‚°ã‚’ç¢ºèª Extension ã‚’è¨­å®šã—ãŸ Lambda é–¢æ•°ãŒä½œæˆã§ããŸã®ã§ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\naws lambda invoke \\ --function-name \u0026#39;function-with-telemetry-api-extension\u0026#39; \\ --invocation-type \u0026#39;RequestResponse\u0026#39; \\ --cli-binary-format \u0026#39;raw-in-base64-out\u0026#39; \\ --region \u0026#39;ap-northeast-1\u0026#39; \\ --log-type \u0026#39;Tail\u0026#39; \\ /dev/stdout \\ | jq -sr \u0026#39;.[1] | .LogResult\u0026#39; \\ | base64 -d ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ Lambda é–¢æ•°å®Ÿè¡Œæ™‚ã®ãƒ­ã‚°ãŒæ‰‹å…ƒã§ç¢ºèªã§ãã¾ã™ã€‚\n1[Telemetry API Extension Client] INFO: Succeeded to register extension. 2[Telemetry API Subscriber] INFO: Starting on address:sandbox.localdomain:1210 3TELEMETRY Name: telemetry-api-extension State: Subscribed Types: [function,platform] 4[Telemetry API Subscriber] INFO: Received 1 events. 5[Telemetry API Subscriber] INFO: 0: Time:2022-12-11T10:21:53.222Z Type:platform.initStart Record:map[initializationType:on-demand phase:init] 6[Telemetry API Extension Client] INFO: Waiting for next event... 7[Telemetry API Subscriber] INFO: Received 1 events. 8[Telemetry API Subscriber] INFO: 0: Time:2022-12-11T10:21:53.277Z Type:platform.telemetrySubscription Record:map[name:telemetry-api-extension state:Subscribed types:[function platform]] 9EXTENSION Name: telemetry-api-extension State: Ready Events: [SHUTDOWN,INVOKE] 10START RequestId: eded6372-e614-4305-8516-f2697c3acfbc Version: $LATEST 11[Telemetry API Extension Client] INFO: Received invoke event. awsRequestId:eded6372-e614-4305-8516-f2697c3acfbc invokedAt:2022-12-11 10:21:53.381772081 +0000 UTC 12[Telemetry API Extension Client] INFO: Waiting for next event... 13[INFO] 2022-12-11T10:21:53.382Z eded6372-e614-4305-8516-f2697c3acfbc [eded6372-e614-4305-8516-f2697c3acfbc] Hello Telemetry API! 14END RequestId: eded6372-e614-4305-8516-f2697c3acfbc 15REPORT RequestId: eded6372-e614-4305-8516-f2697c3acfbc Duration: 17.38 ms Billed Duration: 18 ms Memory Size: 128 MB Max Memory Used: 45 MB Init Duration: 157.98 ms ãªã‚“ã¨ãªãå†’é ­ã«æ›¸ã„ãŸã‚ˆã†ãªé †ç•ªã§å‡¦ç†ãŒã•ã‚Œã¦ãã†ãªã“ã¨ãŒã‚ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nä¾‹ãˆã°ã€ 1 è¡Œç›®ã®\n[Telemetry API Extension Client] INFO: Succeeded to register extension.\nã§ã¯ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç¤ºã™ã¨ãŠã‚Š Extension ã®ç™»éŒ²ãŒå®Œäº†ã—ãŸã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\nã¾ãŸã€ 4-5 è¡Œç›®ã®\n[Telemetry API Subscriber] INFO: Received 1 events. [Telemetry API Subscriber] INFO: 0: Time:2022-12-11T10:21:53.222Z Type:platform.initStart Record:map\nã§ã¯ã€ Telemetry API ã‹ã‚‰ Platform ã«é–¢ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘å–ã£ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\nã¨ã¯è¨€ãˆã€ä¸€åº¦é–¢æ•°ã‚’å®Ÿè¡Œã—ãŸã ã‘ã§ã¯é›°å›²æ°—ãŒæ´ã¿ã¥ã‚‰ã„ã¨æ€ã†ã®ã§ã€ä½•åº¦ã‹ invoke-function ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸå¾Œã«ã€ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ CloudWatch Logs ã«å‡ºåŠ›ã•ã‚ŒãŸãƒ­ã‚°ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\naws logs get-log-events \\ --log-group-name /aws/lambda/function-with-telemetry-api-extension \\ --log-stream-name \u0026#34;$( aws logs describe-log-streams \\ --log-group-name /aws/lambda/function-with-telemetry-api-extension \\ --query \u0026#39;max_by(logStreams[], \u0026amp;lastEventTimestamp).logStreamName\u0026#39; \\ --output text)\u0026#34; \\ --limit 100 \\ --query \u0026#39;events[].message\u0026#39; \\ --output text å¾—ã‚‰ã‚Œã‚‹å‡ºåŠ›ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n1[Telemetry API Extension Client] INFO: Succeeded to register extension. 2[Telemetry API Subscriber] INFO: Starting on address:sandbox.localdomain:1210 3TELEMETRY\tName: telemetry-api-extension\tState: Subscribed\tTypes: [function,platform] 4[Telemetry API Extension Client] INFO: Waiting for next event... 5[Telemetry API Subscriber] INFO: Received 1 events. 6[Telemetry API Subscriber] INFO: 0: Time:2022-12-11T10:32:46.331Z Type:platform.initStart Record:map[initializationType:on-demand phase:init] 7[Telemetry API Subscriber] INFO: Received 1 events. 8[Telemetry API Subscriber] INFO: 0: Time:2022-12-11T10:32:46.389Z Type:platform.telemetrySubscription Record:map[name:telemetry-api-extension state:Subscribed types:[function platform]] 9EXTENSION\tName: telemetry-api-extension\tState: Ready\tEvents: [SHUTDOWN,INVOKE] 10START RequestId: e63295fe-c7a1-48c2-ada2-c7044c697c12 Version: $LATEST 11[Telemetry API Extension Client] INFO: Received invoke event. awsRequestId:e63295fe-c7a1-48c2-ada2-c7044c697c12 invokedAt:2022-12-11 10:32:46.510767828 +0000 UTC 12[Telemetry API Extension Client] INFO: Waiting for next event... 13[INFO]\t2022-12-11T10:32:46.511Z\te63295fe-c7a1-48c2-ada2-c7044c697c12\t[e63295fe-c7a1-48c2-ada2-c7044c697c12] Hello Telemetry API! 14END RequestId: e63295fe-c7a1-48c2-ada2-c7044c697c12 15REPORT RequestId: e63295fe-c7a1-48c2-ada2-c7044c697c12\tDuration: 16.30 ms\tBilled Duration: 17 ms\tMemory Size: 128 MB\tMax Memory Used: 46 MB\tInit Duration: 177.38 ms 16[Telemetry API Subscriber] INFO: Received 7 events. 17[Telemetry API Subscriber] INFO: 0: Time:2022-12-11T10:32:46.507Z Type:platform.initRuntimeDone Record:map[initializationType:on-demand phase:init status:success] 18[Telemetry API Subscriber] INFO: 1: Time:2022-12-11T10:32:46.508Z Type:platform.extension Record:map[events:[SHUTDOWN INVOKE] name:telemetry-api-extension state:Ready] 19[Telemetry API Subscriber] INFO: 2: Time:2022-12-11T10:32:46.508Z Type:platform.initReport Record:map[initializationType:on-demand metrics:map[durationMs:176.689] phase:init] 20[Telemetry API Subscriber] INFO: 3: Time:2022-12-11T10:32:46.51Z Type:platform.start Record:map[requestId:e63295fe-c7a1-48c2-ada2-c7044c697c12 version:$LATEST] 21[Telemetry API Subscriber] INFO: 4: Time:2022-12-11T10:32:46.511Z Type:function Record:[INFO]\t2022-12-11T10:32:46.511Z\te63295fe-c7a1-48c2-ada2-c7044c697c12\t[e63295fe-c7a1-48c2-ada2-c7044c697c12] Hello Telemetry API! 22[Telemetry API Subscriber] INFO: 5: Time:2022-12-11T10:32:46.526Z Type:platform.runtimeDone Record:map[metrics:map[durationMs:15.686 producedBytes:53] requestId:e63295fe-c7a1-48c2-ada2-c7044c697c12 spans:[map[durationMs:1.26 name:responseLatency start:2022-12-11T10:32:46.510Z] map[durationMs:0.021 name:responseDuration start:2022-12-11T10:32:46.511Z]] status:success] 23[Telemetry API Subscriber] INFO: 6: Time:2022-12-11T10:32:46.532Z Type:platform.report Record:map[metrics:map[billedDurationMs:17 durationMs:16.295 initDurationMs:177.377 maxMemoryUsedMB:46 memorySizeMB:128] requestId:e63295fe-c7a1-48c2-ada2-c7044c697c12 status:success] 24START RequestId: 29fffe63-ae9a-4dce-ad28-0a2bd117e5fe Version: $LATEST 25[Telemetry API Extension Client] INFO: Received invoke event. awsRequestId:29fffe63-ae9a-4dce-ad28-0a2bd117e5fe invokedAt:2022-12-11 10:32:49.885648337 +0000 UTC 26[Telemetry API Extension Client] INFO: Waiting for next event... 27[INFO]\t2022-12-11T10:32:49.885Z\t29fffe63-ae9a-4dce-ad28-0a2bd117e5fe\t[29fffe63-ae9a-4dce-ad28-0a2bd117e5fe] Hello Telemetry API! 28END RequestId: 29fffe63-ae9a-4dce-ad28-0a2bd117e5fe 29REPORT RequestId: 29fffe63-ae9a-4dce-ad28-0a2bd117e5fe\tDuration: 1.30 ms\tBilled Duration: 2 ms\tMemory Size: 128 MB\tMax Memory Used: 46 MB 30[Telemetry API Subscriber] INFO: Received 4 events. 31[Telemetry API Subscriber] INFO: 0: Time:2022-12-11T10:32:49.885Z Type:platform.start Record:map[requestId:29fffe63-ae9a-4dce-ad28-0a2bd117e5fe version:$LATEST] 32[Telemetry API Subscriber] INFO: 1: Time:2022-12-11T10:32:49.886Z Type:function Record:[INFO]\t2022-12-11T10:32:49.885Z\t29fffe63-ae9a-4dce-ad28-0a2bd117e5fe\t[29fffe63-ae9a-4dce-ad28-0a2bd117e5fe] Hello Telemetry API! 33[Telemetry API Subscriber] INFO: 2: Time:2022-12-11T10:32:49.886Z Type:platform.runtimeDone Record:map[metrics:map[durationMs:1.065 producedBytes:53] requestId:29fffe63-ae9a-4dce-ad28-0a2bd117e5fe spans:[map[durationMs:0.791 name:responseLatency start:2022-12-11T10:32:49.885Z] map[durationMs:0.032 name:responseDuration start:2022-12-11T10:32:49.886Z]] status:success] 34[Telemetry API Subscriber] INFO: 3: Time:2022-12-11T10:32:49.887Z Type:platform.report Record:map[metrics:map[billedDurationMs:2 durationMs:1.3 maxMemoryUsedMB:46 memorySizeMB:128] requestId:29fffe63-ae9a-4dce-ad28-0a2bd117e5fe status:success] 35[Telemetry API Extension Client] INFO: Received shutdown event. reason:spindown Telemetry API ã‹ã‚‰é€ä¿¡ã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã¯ Subscribe API ã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ã¨ãã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã«ã‚»ãƒƒãƒˆã™ã‚‹ buffering ã®è¨­å®šã«å¾“ã£ã¦ãƒãƒƒãƒ•ã‚¡ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ãŸã‚å®Ÿéš›ã®ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã¨ã¯å¤šå°‘ã®ãƒ©ã‚°ãŒã‚ã‚Šã¾ã™ã€‚ãŸã ã€ 24-34 è¡Œç›®ã‚ãŸã‚Šã¯æ™®æ®µã® Lambda é–¢æ•°å®Ÿè¡Œæ™‚ã«å‡ºåŠ›ã•ã‚Œã‚‹ãƒ­ã‚°ã¨ã€Telemetry API ã®ã‚¤ãƒ™ãƒ³ãƒˆã¨ãŒã‚ã‹ã‚Šã‚„ã™ã„ã‹ã¨æ€ã„ã¾ã™ã€‚\n24START RequestId: 29fffe63-ae9a-4dce-ad28-0a2bd117e5fe Version: $LATEST 25[Telemetry API Extension Client] INFO: Received invoke event. awsRequestId:29fffe63-ae9a-4dce-ad28-0a2bd117e5fe invokedAt:2022-12-11 10:32:49.885648337 +0000 UTC 26[Telemetry API Extension Client] INFO: Waiting for next event... 27[INFO]\t2022-12-11T10:32:49.885Z\t29fffe63-ae9a-4dce-ad28-0a2bd117e5fe\t[29fffe63-ae9a-4dce-ad28-0a2bd117e5fe] Hello Telemetry API! 28END RequestId: 29fffe63-ae9a-4dce-ad28-0a2bd117e5fe 29REPORT RequestId: 29fffe63-ae9a-4dce-ad28-0a2bd117e5fe\tDuration: 1.30 ms\tBilled Duration: 2 ms\tMemory Size: 128 MB\tMax Memory Used: 46 MB 30[Telemetry API Subscriber] INFO: Received 4 events. 31[Telemetry API Subscriber] INFO: 0: Time:2022-12-11T10:32:49.885Z Type:platform.start Record:map[requestId:29fffe63-ae9a-4dce-ad28-0a2bd117e5fe version:$LATEST] 32[Telemetry API Subscriber] INFO: 1: Time:2022-12-11T10:32:49.886Z Type:function Record:[INFO]\t2022-12-11T10:32:49.885Z\t29fffe63-ae9a-4dce-ad28-0a2bd117e5fe\t[29fffe63-ae9a-4dce-ad28-0a2bd117e5fe] Hello Telemetry API! 33[Telemetry API Subscriber] INFO: 2: Time:2022-12-11T10:32:49.886Z Type:platform.runtimeDone Record:map[metrics:map[durationMs:1.065 producedBytes:53] requestId:29fffe63-ae9a-4dce-ad28-0a2bd117e5fe spans:[map[durationMs:0.791 name:responseLatency start:2022-12-11T10:32:49.885Z] map[durationMs:0.032 name:responseDuration start:2022-12-11T10:32:49.886Z]] status:success] 34[Telemetry API Subscriber] INFO: 3: Time:2022-12-11T10:32:49.887Z Type:platform.report Record:map[metrics:map[billedDurationMs:2 durationMs:1.3 maxMemoryUsedMB:46 memorySizeMB:128] requestId:29fffe63-ae9a-4dce-ad28-0a2bd117e5fe status:success] å„è¡Œã®ãƒ­ã‚°ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªæƒ…å ±ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚\nLambda é–¢æ•°ãŒ Invoke ã•ã‚ŒãŸ Extension API ã® GET /extension/event/next ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã—ã¦ INVOKE ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾— å†åº¦ Extension API ã® GET /extension/event/next ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦æ¬¡ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å¾…æ©Ÿ Lambda é–¢æ•°ã® logger.info() ãŒå‡ºåŠ›ã—ã¦ã„ã‚‹ãƒ­ã‚° Lambda é–¢æ•°ã®çµ‚äº† Lambda é–¢æ•°ã®å®Ÿè¡Œãƒ¬ãƒãƒ¼ãƒˆ Subscriber ãŒ Telemetry API ã‹ã‚‰ã€ãƒãƒƒãƒ•ã‚¡ãƒªãƒ³ã‚°ã•ã‚Œã¦ã„ãŸ 4 ã¤ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ä¿¡ã—ãŸ platform.start ã‚¤ãƒ™ãƒ³ãƒˆ (24 è¡Œç›®: Lambda é–¢æ•°ã® Invoke ã«å¯¾å¿œ) function ã‚¤ãƒ™ãƒ³ãƒˆ (27 è¡Œç›®: Lambda é–¢æ•°å†…ã§ã®ãƒ­ã‚°å‡ºåŠ›ã«å¯¾å¿œ) platform.runtimeDone ã‚¤ãƒ™ãƒ³ãƒˆ (28 è¡Œç›®: Lambda é–¢æ•°ã®çµ‚äº†ã«å¯¾å¿œ) platform.report ã‚¤ãƒ™ãƒ³ãƒˆ (29 è¡Œç›®: Lambda é–¢æ•°ã®å®Ÿè¡Œãƒ¬ãƒãƒ¼ãƒˆã«å¯¾å¿œ) ä»¥ä¸Šã§ã€ Telemetry API ã«ã‚ˆã£ã¦ã©ã®ã‚ˆã†ãªã‚¤ãƒ™ãƒ³ãƒˆãŒå–å¾—ã§ãã‚‹ã®ã‹ã€å®Ÿéš›ã® Lambda é–¢æ•°ã®å®Ÿè¡Œã¨åˆã‚ã›ã¦ç¢ºèªãŒã§ãã¾ã—ãŸã€‚\nã¾ã¨ã‚ AWS Lambda ã® Telemetry API ã‚’ä½¿ã£ãŸ Lambda Extension ã‚’ä½œã£ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nTelemetry API ã®ãƒªãƒªãƒ¼ã‚¹æƒ…å ±ã‚’è¦‹ãŸã¨ãã¯ã€ŒãŠã€ãªã‚“ã‹å‡„ãã†ï¼Ÿã€ã¨ã„ã†æ„Ÿæƒ³ã ã‘ã§ã—ãŸãŒã€å®Ÿéš›ã«ã“ã‚Œã‚’ä½¿ã† Extension ã‚’ä½œã£ã¦ã¿ã¦ã©ã®ã‚ˆã†ãªæŒ™å‹•ã‚’ã™ã‚‹ã‚‚ã®ãªã®ã‹ã€ç†è§£ãŒã§ããŸæ°—ãŒã—ã¾ã™ã€‚\nä»Šå›ã¯ãŸã å—ã‘å–ã£ãŸã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒ­ã‚°ã¨ã—ã¦å‡ºåŠ›ã™ã‚‹ã ã‘ã§ã—ãŸãŒã€ä¾‹ãˆã° function ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—ã—ã¦ Lambda é–¢æ•°ãŒå‡ºåŠ›ã—ã¦ã„ã‚‹ãƒ­ã‚°ã®æ–‡å­—åˆ—ã‚’è§£æã—ã¦ç‹¬è‡ªã®ãƒ¬ãƒãƒ¼ãƒˆã‚’å‡ºåŠ›ã™ã‚‹ ã¿ãŸã„ãªã“ã¨ã‚’ã‚„ã‚‹ã¨é¢ç™½ãã†ã ãªã¨æ€ã„ã¾ã™ã€‚\nå¼è­·å£«ãƒ‰ãƒƒãƒˆã‚³ãƒ  Advent Calendar 2022 ã€æ˜æ—¥ã®æ‹…å½“ã¯ @shellme ã§ã™ã€‚ãŠæ¥½ã—ã¿ã«ã€‚\nSubscribe API ã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ã¨ã“ã‚ã§ 404 Page Not Found ãŒè¿”ã£ã¦ãã¾ã—ãŸ\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-lambda-extension-using-telemetry-api/",
    "title": "Telemetry API ã‚’ä½¿ã† Lambda Extension ã‚’ä½œã£ã¦ã¿ãŸ"
  },
  {
    "contents": "ã“ã®è¨˜äº‹ã¯ AWS Lambdaã¨Serverless Advent Calendar 2022 7 æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚\næœ€è¿‘ Lambda ã® Runtime API ã«ã¤ã„ã¦èª¿ã¹ã¦ã„ãŸã¨ã“ã‚ã§ Extension API ã¨ã„ã†ã‚‚ã®ã‚‚ã‚ã‚‹äº‹ã«æ°—ã¥ãã¾ã—ãŸã€‚ã©ã†ã‚„ã‚‰ Lambda Extension ã‚’è‡ªä½œã™ã‚‹ã¨ãã«ä½¿ã† API ã®ã‚ˆã†ã ã£ãŸã®ã§ã€ãã® API ã‚’ä½¿ã„ãŸã„ãŒãŸã‚ã«å®Ÿéš›ã« Lambda Extension ã‚’è‡ªä½œã—ã¦ã¿ã¾ã—ãŸã€‚\nLambda Extension ã¨ã¯ å®Ÿè¡Œç’°å¢ƒã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¨ Extension Init Invoke Shutdown Go ã§ Lambda Extension ã‚’ä½œã£ã¦ã¿ã‚‹ è‡ªä½œã™ã‚‹ Extension ã®æ¦‚è¦ å®Ÿè£… Extension ã®ãƒ¡ã‚¤ãƒ³å‡¦ç† POST /extension/register ã§å®Ÿè¡Œç’°å¢ƒã« Extension ã‚’ç™»éŒ² GET /extension/event/next ã§æ¬¡ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—ãƒ»ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° è‡ªä½œã—ãŸ Extension ã‚’ Lambda é–¢æ•°ã§ä½¿ã† Extension ã®å®Ÿè¡Œå¯èƒ½ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ Lambda é–¢æ•°ã®ã‚³ãƒ¼ãƒ‰ Dockerfile ãƒ­ãƒ¼ã‚«ãƒ«ã§èµ·å‹•ã—ã¦ invoke ã¾ã¨ã‚ Lambda Extension ã¨ã¯ Lambda Extension (ä»¥ä¸‹ã€ Extension) ã¯ã€ Lambda é–¢æ•°ã® Runtime ã®ä¸€éƒ¨ã€ã‚‚ã—ãã¯å®Ÿè¡Œç’°å¢ƒå†…ã§ç‹¬ç«‹ã—ãŸãƒ—ãƒ­ã‚»ã‚¹ã¨ã—ã¦æ§˜ã€…ãªæ©Ÿèƒ½ã‚’å®Ÿè¡Œã§ãã‚‹æ©Ÿèƒ½ã§ã™ã€‚ãã‚Œãã‚Œã€å‰è€…ã¯å†…éƒ¨æ‹¡å¼µæ©Ÿèƒ½ã€å¾Œè€…ã¯å¤–éƒ¨æ‹¡å¼µæ©Ÿèƒ½ã¨å‘¼ã°ã‚Œã€ã“ã®è¨˜äº‹å†…ã§è§¦ã‚Œã‚‹ Extension ã¯å¾Œè€…ã®å¤–éƒ¨æ‹¡å¼µæ©Ÿèƒ½ã‚’æŒ‡ã™ã‚‚ã®ã¨ã—ã¾ã™ã€‚\nExtension ã¯ã€ AWS ãŒæä¾›ã—ã¦ã„ã‚‹ã‚‚ã®ã€ AWS Lambda ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ 1 ãŒæä¾›ã—ã¦ã„ã‚‹ã‚‚ã®ã€ãŠã‚ˆã³ä»Šå›ç´¹ä»‹ã™ã‚‹ã‚ˆã†ã«ç‹¬è‡ªã® Extension ã‚’ä½œæˆã—ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ æœ€è¿‘ã ã¨ AWS ã‹ã‚‰ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸ AWS Parameters and Secrets Lambda Extension 2 3 ãŒæ³¨ç›®ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚\nLambda ã¯å®Ÿè¡Œç’°å¢ƒä¸Šã§é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¾ã™ãŒã€ Extension ã¯ãã®å®Ÿè¡Œç’°å¢ƒãŒä½œæˆã•ã‚Œã‚‹éš›ã«é–‹å§‹ã•ã‚Œã¾ã™ã€‚\nãã—ã¦ã€é–¢æ•°ã¨åŒã˜å®Ÿè¡Œç’°å¢ƒä¸Šã§èµ·å‹•ã™ã‚‹ãŸã‚ Extension è‡ªä½“ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ (åˆæœŸåŒ–ã«ã‹ã‹ã‚‹æ™‚é–“ã€å‡¦ç†æ™‚é–“ã€ãƒ¡ãƒ¢ãƒªæ¶ˆè²»é‡ãªã©) ã¯é–¢æ•°ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ã‚‚å½±éŸ¿ã—ã¾ã™ã€‚ãã®ãŸã‚ã€ Extension ã‚’è‡ªä½œã™ã‚‹éš›ã«ã¯ã€ãã®ã‚ãŸã‚Šã«ã‚‚æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚\nå‚è€ƒ: Lambda extensions - AWS Lambda å®Ÿè¡Œç’°å¢ƒã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¨ Extension Lambda ã®å®Ÿè¡Œç’°å¢ƒã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«ã¯ã€ Init ã€ Invoke ã€ Shutdown ã¨ã„ã† 3 ã¤ã®ãƒ•ã‚§ãƒ¼ã‚ºãŒã‚ã‚Šã¾ã™ã€‚å„ãƒ•ã‚§ãƒ¼ã‚ºã§ã¯å®Ÿè¡Œç’°å¢ƒã®ä½œæˆã‚„é–¢æ•°ã® Invokeã€å®Ÿè¡Œç’°å¢ƒã®ç ´æ£„ãªã©ã‚’è¡Œã„ã€ Extension ã¯å„ãƒ•ã‚§ãƒ¼ã‚ºã§ Extension API ã‚’ä½¿ç”¨ã—ã¦ Runtime ã¸ã®ç™»éŒ²ã‚„å®Ÿè¡Œç’°å¢ƒã§ç™ºç”Ÿã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã®æ¤œçŸ¥ã‚’è¡Œã„ã€ Extension ã¨ã—ã¦ã®å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nsequenceDiagram participant c as Client participant ls as Lambda Service participant r as Runtime participant e as Extension alt Init ls -\u003e\u003e e: init extensions in /ops/extensions e -\u003e\u003e ls: POST /extension/register e -\u003e\u003e ls: GET /extension/event/next end loop alt Invoke c -\u003e\u003e ls: invoke ls -\u003e\u003e r: invoke ls -\u003e\u003e e: response of GET /extension/event/next (INVOKE event) r -\u003e\u003e ls: /response (Runtime API) ls -\u003e\u003e c: response e -\u003e\u003e ls: GET /extension/event/next end end alt Shutdown ls -\u003e\u003e r: SIGTERM ls -\u003e\u003e e: response of GET /extension/event/next (SHUTDOWN event) end Init å®Ÿè¡Œç’°å¢ƒã®ä½œæˆ é–¢æ•°ã®ãƒãƒ³ãƒ‰ãƒ©å¤–éƒ¨ã«ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œ æ‰€è¬‚ã€€\u0026ldquo;ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆ\u0026rdquo;ã€€æ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹ãƒ•ã‚§ãƒ¼ã‚º Extension ã¨ã®é–¢ä¿‚ /opt/extensions ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã«ã‚ã‚‹å®Ÿè¡Œå¯èƒ½ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ Extension ã¨ã—ã¦è§£é‡ˆã—ã€ãã‚Œã‚‰ã‚’ä¸¦åˆ—ã§å®Ÿè¡Œ (é–‹å§‹) é–‹å§‹ã•ã‚ŒãŸ Extension ã¯ Extension POST /extension/register Extension API ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦ Runtime ã« Extension ã‚’ç™»éŒ² Invoke é–¢æ•°ã®ãƒãƒ³ãƒ‰ãƒ©ã‚’å‘¼ã³å‡ºã™ = é–¢æ•°ã®å®Ÿè¡Œ Extension ã¨ã®é–¢ä¿‚ GET /extension/event/next Extension API ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦ Invoke ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾— Shutdown ä¸€å®šæœŸé–“ Invoke ã•ã‚Œãªã‹ã£ãŸã¨ãã«å®Ÿè¡Œã•ã‚Œã‚‹ãƒ•ã‚§ãƒ¼ã‚º ç‹¬ç«‹ã—ãŸãƒ—ãƒ­ã‚»ã‚¹ã¨ã—ã¦å‹•ã Extension ã‚’åœæ­¢ã•ã›ãŸä¸Šã§ã€å®Ÿè¡Œç’°å¢ƒã‚’ç ´æ£„ Extension ã¨ã®é–¢ä¿‚ GET /extension/event/next Extension API ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦ Shutdown ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾— å‚è€ƒ: Lambda Extensions API - AWS Lambda Go ã§ Lambda Extension ã‚’ä½œã£ã¦ã¿ã‚‹ ã“ã‚Œã¾ã§ã®å†…å®¹ã‚’è¸ã¾ãˆã¦ã€å®Ÿéš›ã« Extension ã‚’ä½œã£ã¦ã¿ã¾ã™ã€‚\nExtension ã¯é–¢æ•°ã¨ã¯ç‹¬ç«‹ã—ãŸãƒ—ãƒ­ã‚»ã‚¹ã¨ã—ã¦å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚ã€å®Ÿè£…ã™ã‚‹éš›ã«ä½¿ç”¨ã™ã‚‹è¨€èªã¯é–¢æ•°ã¨åˆã‚ã›ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ä»Šå›ã¯ä¸‹è¨˜ãƒªãƒã‚¸ãƒˆãƒªã®å®Ÿè£…ä¾‹ã‚’å‚è€ƒã«ã—ã¦ Go ã§å®Ÿè£…ã—ã¦ã¿ã¾ã™ã€‚\naws-samples/aws-lambda-extensions: A collection of sample extensions to help you get started with AWS Lambda Extensions è‡ªä½œã™ã‚‹ Extension ã®æ¦‚è¦ ä»Šå›å®Ÿè£…ã™ã‚‹ Extension ã§ã‚„ã‚ŠãŸã„ã“ã¨ã¯ã€ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\nåŒä¸€å®Ÿè¡Œç’°å¢ƒã§ Invoke ã•ã‚ŒãŸé–¢æ•°ã«å¯¾å¿œã™ã‚‹ Request ID ã‚’ãƒ¡ãƒ¢ãƒªä¸Šã«ä¿æŒã™ã‚‹ é–¢æ•°ã‹ã‚‰ä»»æ„ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ Extension ã«å¯¾ã—ã¦ GET ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹ã“ã¨ã§ã€ä¿æŒã—ã¦ã„ã‚‹ Request ID ã®ä¸€è¦§ã‚’å–å¾—ã§ãã‚‹ 1 ã¯ã€ Lambda ã® Invoke ãƒ•ã‚§ãƒ¼ã‚ºã«ã¦ Invoke ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ¤œçŸ¥ã—ã¦ã€ãã®ã‚¤ãƒ™ãƒ³ãƒˆå†…ã«å«ã¾ã‚Œã‚‹ Request ID ã‚’ãƒ¡ãƒ¢ãƒªä¸Šã«ä¿æŒã—ã¾ã™ã€‚\n2 ã¯ã€ Extension ã®ã‚µãƒ–ãƒ—ãƒ­ã‚»ã‚¹ (goroutine) ã¨ã—ã¦ HTTP API ã‚µãƒ¼ãƒã‚’èµ·å‹•ã—ã€ ç‰¹å®šã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«å¯¾ã™ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã—ã¦ãƒ¡ãƒ¢ãƒªä¸Šã«ä¿æŒã—ã¦ã„ã‚‹ Request ID ã®ãƒªã‚¹ãƒˆã‚’ JSON å½¢å¼ã§è¿”ã—ã¾ã™ã€‚\nã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ã«ã™ã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚\nsequenceDiagram participant c as Client participant ls as Lambda Service participant r as Runtime participant f as Function participant e as Extension participant m as On Memory participant s as Extension's HTTP API Server alt Init ls -\u003e\u003e e: init e -\u003e\u003e ls: POST /extension/register e -\u003e\u003e s: start e -\u003e\u003e m: init invocation history e -\u003e\u003e ls: GET /extension/event/next end loop alt Invoke c -\u003e\u003e ls: invoke ls -\u003e\u003e r: invoke ls -\u003e\u003e e: response of GET /extension/event/next (INVOKE event) e -\u003e\u003e m: save Request ID to history e -\u003e\u003e ls: GET /extension/event/next r -\u003e\u003e f: execute main handler f -\u003e\u003e s: GET localhost:1203/invocations s -\u003e\u003e m: read history m -\u003e\u003e s: s -\u003e\u003e f: {\"invocations\": [{\"awsRequestId\":\"id1\", \"invocatedAt\":\"2022-12-04T00:15:06.992783032Z\"}]} f -\u003e\u003e r: r -\u003e\u003e ls: /response (Runtime API) ls -\u003e\u003e c: response end end alt Shutdown ls -\u003e\u003e r: SIGTERM ls -\u003e\u003e e: response of GET /extension/event/next (SHUTDOWN event) end å®Ÿè£… å®Ÿè£…ã—ãŸã‚‚ã®ã¯ä¸‹è¨˜ãƒªãƒã‚¸ãƒˆãƒªã«ç½®ã„ã¦ã„ã¾ã™ã€‚\nmichimani/invocation-history-extension: This is a Extension for AWS Lambda Function that records history of invocation at the same runtime environment. ã“ã®è¨˜äº‹å†…ã§ã¯ã€ä¸»ã« Extension API ã‚’åˆ©ç”¨ã™ã‚‹ã¨ã“ã‚ã«ã¤ã„ã¦è§¦ã‚Œã¾ã™ã€‚\nExtension ã®ãƒ¡ã‚¤ãƒ³å‡¦ç† main.go#main ã§ã¯ä¸‹è¨˜ã®å‡¦ç†ã‚’é †ã«å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚\nExtension API ã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ãŸã‚ã® Context ã‚’ç”Ÿæˆ ã‚·ã‚°ãƒŠãƒ«ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ç”¨ã® goroutine ã‚’èµ·å‹• Extension API POST /extension/register ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦å®Ÿè¡Œç’°å¢ƒã« Extension ã‚’ç™»éŒ² Invocation ã®å±¥æ­´ã‚’è¿”ã™ HTTP API ã‚µãƒ¼ãƒã‚’èµ·å‹• Extension API GET /extension/event/next ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦å„ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã™ã‚‹å‡¦ç†ã‚’é–‹å§‹ 1,2,4 ã¯ç‰¹ã«ç›®æ–°ã—ã„ãƒã‚¤ãƒ³ãƒˆã¯ãªã„ã®ã§ã€ 3 ã¨ 4 ã«ã¤ã„ã¦ å„ Extension API ã®ä»•æ§˜ã¨ã¨ã‚‚ã«å®Ÿè£…ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚\nPOST /extension/register ã§å®Ÿè¡Œç’°å¢ƒã« Extension ã‚’ç™»éŒ² å®Ÿè¡Œç’°å¢ƒã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¨ Extension ã®é–¢ä¿‚ã®ã¨ã“ã‚ã§æ›¸ã„ãŸã¨ãŠã‚Šã€ Extension ã®ã‚³ãƒ¼ãƒ‰ãŒå®Ÿè¡Œã•ã‚ŒãŸã¨ãã« Extension API ã® /extension/register ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã« POST ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹ã“ã¨ã§ Extension ã‚’ç™»éŒ²ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã“ã® API ã§ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ãŠã‚ˆã³ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã«å¿…é ˆã®é …ç›®ãŒã‚ã‚Šã¾ã™ã€‚\nã¾ãšã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã® Lambda-Extension-Name ã«ã¯ Extension ã®åå‰ã‚’ã‚»ãƒƒãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚»ãƒƒãƒˆã™ã‚‹å€¤ã¯ã€ Extension ã®å®Ÿè¡Œå¯èƒ½ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ•ã‚¡ã‚¤ãƒ«åã§ã™ã€‚ä»Šå›ã® Extension ã®å ´åˆã€ invocation-history-extension ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«åã§ /opt/extensions é…ä¸‹ã«å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã®ã§ invocation-history-extension ã‚’å€¤ã¨ã—ã¦ã‚»ãƒƒãƒˆã—ã¾ã™ã€‚\næ¬¡ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã§ã™ãŒã€ã“ã® Extension ã§ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã—ãŸã„ã‚¤ãƒ™ãƒ³ãƒˆã‚’é…åˆ—ã§æŒ‡å®šã—ã¾ã™ã€‚ ã‚¤ãƒ™ãƒ³ãƒˆã®ç¨®é¡ã¯ INVOKE ã¨ SHUTDOWN ã®ã¿ã§ã€ä»Šå›ã¯ä¸¡æ–¹ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã—ãŸã„ã®ã§ä¸¡æ–¹æŒ‡å®šã—ã¾ã™ã€‚\nAPI ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ Lambda-Extension-Identifier ã«ã¯ç™»éŒ²ãŒå®Œäº†ã—ãŸçµæœã¨ã—ã¦ä¸€æ„ãªå€¤ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®å€¤ã¯å¾Œã«ã‚³ãƒ¼ãƒ«ã™ã‚‹ API ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã«ã‚»ãƒƒãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ä¿æŒã—ã¦ãŠãã¾ã™ã€‚\nExtension API ã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯å˜ç´”ã« HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚Œã°ã‚ˆã„ã®ã§ã™ãŒã€ä»Šå›ã¯ãã®éƒ¨åˆ†ã‚’ aws-lambda-api-go ã¨ã„ã†ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ è‡ªä½œ ä½¿ç”¨ã—ã¦å®Ÿè£…ã—ã¾ã™ã€‚\nmichimani/aws-lambda-api-go: This is a client library for Go language to use AWS Lambda\u0026amp;rsquo;s Runtime API, Extension API, Telemetry API, and Logs API. import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;time\u0026#34; \u0026#34;github.com/michimani/aws-lambda-api-go/alago\u0026#34; \u0026#34;github.com/michimani/aws-lambda-api-go/extension\u0026#34; ) type Client struct { alagoClient *alago.Client logger *Logger extensionIdentifier string } func (c *Client) Register(ctx context.Context, extensionName string) error { out, err := extension.Register(ctx, c.alagoClient, \u0026amp;extension.RegisterInput{ LambdaExtensionName: extensionName, Events: []extension.EventType{ extension.EventTypeInvoke, extension.EventTypeShutdown, }, }) if err != nil { return fmt.Errorf(\u0026#34;An expected error occurred at extension registration. err:%v\u0026#34;, err) } if out.StatusCode != http.StatusOK { return fmt.Errorf(\u0026#34;An error occurred at extension registration. statusCode:%d errType:%s errMessage:%s\u0026#34;, out.StatusCode, out.Error.ErrorType, out.Error.ErrorMessage) } c.logger.Info(\u0026#34;Succeeded to register extension.\u0026#34;) c.extensionIdentifier = out.LambdaExtensionIdentifier return nil } ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã® extension.Register é–¢æ•°ã«å¯¾ã—ã¦ extension.RegisterInput ã« Extension ã®åå‰ã¨ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã—ãŸã„ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚»ãƒƒãƒˆã—ã¦æ¸¡ã™ã ã‘ã§ POST /extension/register API ã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ç°¡å˜ã§ã™ã­ã€‚\nAPI ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯ extension.RegisterOutput ã¨ã—ã¦å–å¾—ã§ãã‚‹ã®ã§ã€ RegisterOutput.LambdaExtensionIdentifier ã®å€¤ã‚’ä¿æŒã—ã¦ãŠãã¾ã™ã€‚\nå‚è€ƒ: Lambda Extensions API | Register - AWS Lambda GET /extension/event/next ã§æ¬¡ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—ãƒ»ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° å®Ÿè¡Œç’°å¢ƒã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¨ Extension ã®é–¢ä¿‚ã®ã¨ã“ã‚ã§æ›¸ã„ãŸã¨ãŠã‚Šã€ Lambda ã®å®Ÿè¡Œç’°å¢ƒã¯é–¢æ•°ã® invoke ãŠã‚ˆã³å®Ÿè¡Œç’°å¢ƒã®ç ´æ£„æ™‚ã«ãã‚Œãã‚Œ INVOKE ã¨ SHUTDOWN ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºè¡Œã—ã¾ã™ã€‚ç™ºè¡Œã—ã¾ã™ã€ã¨æ›¸ãã¾ã—ãŸãŒã€å®Ÿéš›ã«ã¯ GET /extension/event/next API ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ãƒ–ãƒ­ãƒƒã‚¯ã—ã¦ã€å®Ÿè¡Œç’°å¢ƒã‹ã‚‰ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºè¡Œã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã‚‹ã¨ã„ã†å‹•ãã«ãªã‚Šã¾ã™ã€‚ãªã®ã§ã€ã“ã® API ã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ãŸã‚ã® http.Client ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã¯é•·ã‚ (ã‚‚ã—ãã¯ 0) ã«ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã“ã® API ã¯ã€ Register API ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ Lambda-Extension-Identifier ã«å«ã¾ã‚Œã¦ã„ãŸå€¤ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ Lambda-Extension-Identifier ã«ã‚»ãƒƒãƒˆã—ã¦ã‚³ãƒ¼ãƒ«ã—ã¾ã™ã€‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã¯ä¸è¦ã§ã™ã€‚\nã“ã¡ã‚‰ã‚‚ Register ã¨åŒã˜ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ã€ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨åˆã‚ã›ã¦ä¸‹è¨˜ã®ã‚ˆã†ã«å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚\nfunc (c *Client) PollingEvent(ctx context.Context) (bool, error) { c.logger.Info(\u0026#34;Waiting for next event...\u0026#34;) out, err := extension.EventNext(ctx, c.alagoClient, \u0026amp;extension.EventNextInput{ LambdaExtensionIdentifier: c.extensionIdentifier, }) if err != nil { return false, err } if out.StatusCode != http.StatusOK { return false, fmt.Errorf(\u0026#34;An error occurred at calling /extension/event/next API. statusCode:%d errType:%s errMessage:%s\u0026#34;, out.StatusCode, out.Error.ErrorType, out.Error.ErrorMessage) } switch out.EventType { case eventTypeInvoke: now := time.Now().UTC() saveInvocationHistory(out.RequestID, \u0026amp;now) c.logger.Info(\u0026#34;Succeeded to save new history. awsRequestId:%s invokedAt:%v\u0026#34;, out.RequestID, now) case eventTypeShutdown: c.logger.Info(\u0026#34;Received shutdown event. reason:%s\u0026#34;, out.ShutdownReason) c.logger.Info(\u0026#34;Truncate invocation history.\u0026#34;) for _, h := range History.Invocations { c.logger.Info(\u0026#34;%+v\u0026#34;, *h) } return false, nil default: return false, fmt.Errorf(\u0026#34;Cannot handle event. eventType:%s\u0026#34;, out.EventType) } return true, nil } ã‚¤ãƒ™ãƒ³ãƒˆã®ç¨®é¡ãŒ INVOKE ã®ã¨ãã¯ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å«ã¾ã‚Œã‚‹ Request ID ã‚’ãƒ¡ãƒ¢ãƒªä¸Šã«ä¿å­˜ã—ã¦ã„ã¾ã™ã€‚ ä¸€æ–¹ã€ã‚¤ãƒ™ãƒ³ãƒˆã®ç¨®é¡ãŒ SHUTDOWN ã®ã¨ãã¯ã€ãã‚Œã¾ã§ã«ä¿å­˜ã—ã¦ã„ãŸ Request ID ã‚’ã™ã¹ã¦ãƒ­ã‚°ã«å‡ºåŠ›ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nãƒ¡ã‚½ãƒƒãƒ‰åã«ã‚‚ã‚ã‚‹ã‚ˆã†ã«ã€å®Ÿè³ªã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒãƒ¼ãƒªãƒ³ã‚°ã—ã¦ã„ã‚‹ã‚ˆã†ãªå‡¦ç†ã«ãªã‚‹ã®ã§ã€ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®è¿”ã‚Šå€¤ã¨ã—ã¦ã¯ bool ã¨ error ã‚’è¿”ã™ã‚ˆã†ã«ã—ã¦ã„ã¦ã€ bool ãŒ true ã§ã‚ã‚Œã°å‘¼ã³å‡ºã—å…ƒ (ä»Šå›ã§ã‚ã‚Œã° main.go#processEvents) ã§å†åº¦ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãƒãƒ¼ãƒªãƒ³ã‚°ã‚’å§‹ã‚ã‚‹ã‚ˆã†ãªå½¢ã«ã—ã¦ã„ã¾ã™ã€‚\nå‚è€ƒ: Lambda Extensions API | Next - AWS Lambda è‡ªä½œã—ãŸ Extension ã‚’ Lambda é–¢æ•°ã§ä½¿ã† ã§ã¯ã€è‡ªä½œã—ãŸ Extension ã‚’å®Ÿéš›ã«ä½¿ã£ã¦ã¿ã¾ã™ã€‚\nExtension ã®åˆ©ç”¨æ–¹æ³•ã¨ã—ã¦ã¯ä¸‹è¨˜ã® 3 é€šã‚ŠãŒã‚ã‚Šã¾ã™ã€‚\nLambda Layer ã¨ã—ã¦ publish ã—ã¦ä½¿ã† Lambda é–¢æ•°ã®ã‚³ãƒ¼ãƒ‰ã¨ä¸€ç·’ã« zip ã«åŒæ¢±ã—ã¦ä½¿ã† ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã«åŒæ¢±ã—ã¦ä½¿ã† ä»Šå›ã¯ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã«åŒæ¢±ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§è‡ªä½œ Extension ã‚’ä½¿ã£ã¦ã¿ã¾ã™ã€‚ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã«ã™ã‚‹ã“ã¨ã§ RIE ã‚’ä½¿ã£ã¦ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã‚‚å®Ÿéš›ã® Lambda ã®å®Ÿè¡Œç’°å¢ƒã«è¿‘ã„å½¢ã§å‹•ä½œç¢ºèªãŒã§ãã¾ã™ã€‚4\nExtension ã®å®Ÿè¡Œå¯èƒ½ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ ã¾ãšã¯ Extension ã‚’å®Ÿè¡Œå¯èƒ½ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ç”¨æ„ã—ã¾ã™ã€‚\nä»Šå›ã¯ Go ã§å®Ÿè£…ã—ãŸã®ã§ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ãƒ“ãƒ«ãƒ‰ã—ã¦å®Ÿè¡Œå¯èƒ½ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã€ zip åŒ–ã—ã¾ã™ã€‚\nGOOS=linux GOARCH=amd64 go build -o bin/extensions/invocation-history-extension main.go \\ \u0026amp;\u0026amp; chmod +x bin/extensions/invocation-history-extension \\ \u0026amp;\u0026amp; cd bin \\ \u0026amp;\u0026amp; zip -r extension.zip extensions/ ã‚‚ã—ãã¯ã€ä»Šå›å®Ÿè£…ã—ãŸ Extension ã«ã¤ã„ã¦ã¯ GitHub ã® Releases ã‹ã‚‰ zip ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ã®ã§ã€ãã¡ã‚‰ã‹ã‚‰å–å¾—ã—ã¦ãã¾ã™ã€‚\nReleases Â· michimani/invocation-history-extension Lambda é–¢æ•°ã®ã‚³ãƒ¼ãƒ‰ ä»Šå›å®Ÿè£…ã—ãŸ Extension ã¯ localhost:1203 ã§ HTTP API ã‚µãƒ¼ãƒã‚’èµ·å‹•ã—ã¦ã„ã‚‹ã®ã§ã€ãã“ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã£ã¦ãã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’é–¢æ•°ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã™ã‚‹ã‚ˆã†ãª Lambda é–¢æ•°ã‚’ç”¨æ„ã—ã¾ã™ã€‚\npackage main import ( \u0026#34;bytes\u0026#34; \u0026#34;context\u0026#34; \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;log\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;time\u0026#34; runtime \u0026#34;github.com/aws/aws-lambda-go/lambda\u0026#34; \u0026#34;github.com/aws/aws-lambda-go/lambdacontext\u0026#34; ) type Response struct { Message string `json:\u0026#34;message\u0026#34;` Invocations []invocation `json:\u0026#34;invocations\u0026#34;` } func handleRequest(ctx context.Context) (*Response, error) { log.Println(\u0026#34;start handler\u0026#34;) defer log.Println(\u0026#34;end handler\u0026#34;) lc, ok := lambdacontext.FromContext(ctx) if !ok { return nil, fmt.Errorf(\u0026#34;Failed to get Lambda context from context.\u0026#34;) } history, err := getInvocationHistory() if err != nil { return nil, err } return \u0026amp;Response{ Message: fmt.Sprintf(\u0026#34;Current request ID is %s\u0026#34;, lc.AwsRequestID), Invocations: history, }, nil } func init() { log.Println(\u0026#34;cold start\u0026#34;) } func main() { runtime.Start(handleRequest) } // Struct of response from Invocation History Extension - GET /invocations API type resultFromExtension struct { Invocations []invocation `json:\u0026#34;invocations\u0026#34;` } type invocation struct { AWSRequestID string `json:\u0026#34;awsRequestId\u0026#34;` InvocatedAt *time.Time `json:\u0026#34;invocatedAt\u0026#34;` } const invocationsEndpoint = \u0026#34;http://localhost:1203/invocations\u0026#34; // Get invocation history from Invocation History Extension IPC. func getInvocationHistory() ([]invocation, error) { req, err := http.NewRequestWithContext(context.Background(), \u0026#34;GET\u0026#34;, invocationsEndpoint, nil) if err != nil { return nil, err } // call Extension API client := http.Client{} res, err := client.Do(req) if err != nil { return nil, err } defer res.Body.Close() buf := new(bytes.Buffer) if _, err := buf.ReadFrom(res.Body); err != nil { return nil, err } bodyString := buf.String() if res.StatusCode != http.StatusOK { return nil, fmt.Errorf(\u0026#34;Failed to get invocation history by using extension. statusCode:%d body:%s\u0026#34;, res.StatusCode, bodyString) } exRes := resultFromExtension{} if err := json.Unmarshal([]byte(bodyString), \u0026amp;exRes); err != nil { return nil, err } return exRes.Invocations, nil } åˆ¥ãƒ—ãƒ­ã‚»ã‚¹ã§èµ·å‹•ã—ã¦ã„ã‚‹ Extension ã® HTTP API ã‚µãƒ¼ãƒã« GET ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ã€ãã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ç¾åœ¨ã® Request ID ã‚’ä»˜ä¸ã—ãŸã‚‚ã®ã‚’é–¢æ•°ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã—ã¦è¿”ã™ã‚ˆã†ãªå®Ÿè£…ã«ãªã£ã¦ã„ã¾ã™ã€‚å…·ä½“çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã¯ã“ã®ã‚ã¨ç¢ºèªã—ã¾ã™ã€‚\nDockerfile Extension ã‚’ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã«åŒæ¢±ã™ã‚‹å ´åˆã¯ Extension ã®å®Ÿè¡Œå¯èƒ½ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸å†…ã® /opt/extensions ä»¥ä¸‹ã«é…ç½®ã™ã‚Œã°ã‚ˆã„ã®ã§ã€ä¸‹è¨˜ã®ã‚ˆã†ãª Dockerfile ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ Extension ã‚’åŒæ¢±ã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nFROM public.ecr.aws/lambda/provided:al2 as build RUN yum install -y golang unzip RUN go env -w GOPROXY=direct ADD go.mod go.sum ./ RUN go mod download ADD . . RUN go build -o /main RUN mkdir -p /opt ## ã“ã“ã¯ GitHub ã‹ã‚‰ç›´æ¥å–å¾—ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã‚‚ã‚ˆã„ # ADD https://github.com/michimani/invocation-history-extension/releases/download/v0.2.0/extension.zip ./ ADD ./bin/extension.zip ./ RUN unzip extension.zip -d /opt RUN rm extension.zip FROM public.ecr.aws/lambda/provided:al2 COPY --from=build /main /main COPY entry.sh / RUN chmod 755 /entry.sh RUN mkdir -p /opt/extensions WORKDIR /opt/extensions COPY --from=build /opt/extensions . ENTRYPOINT [ \u0026#34;/entry.sh\u0026#34; ] CMD [\u0026#34;/main\u0026#34;] AWS ã‚„ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‹ã‚‰æä¾›ã•ã‚Œã¦ã„ã‚‹ Extension ã§å®Ÿè¡Œå¯èƒ½ãƒ•ã‚¡ã‚¤ãƒ«ãã®ã‚‚ã®ãŒå…¬é–‹ã•ã‚Œã¦ã„ãªã„å ´åˆã€ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ãŒã‚ã‚Œã°ãã‚Œã‚’ä½¿ãˆã°ã‚ˆãã¦ã€ Lambda Layer ã¨ã—ã¦å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã® AWS CLI ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ zip å½¢å¼ã§ Extension ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ (AWS Parameters And Secrets Lambda Extension ã®å ´åˆ)\ncurl $( aws lambda get-layer-version-by-arn \\ --arn \u0026#39;arn:aws:lambda:ap-northeast-1:133490724326:layer:AWS-Parameters-and-Secrets-Lambda-Extension:2\u0026#39; \\ --query \u0026#39;Content.Location\u0026#39; \\ --output text ) --output extension.zip ãã®å¾Œ unzip ã—ã¦å®Ÿè¡Œå¯èƒ½ãªãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã‚’ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã«åŒæ¢±ã™ã‚Œã°ã€è‡ªä½œã—ãŸ Extension ã¨åŒæ§˜ã«ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã§ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nãƒ­ãƒ¼ã‚«ãƒ«ã§èµ·å‹•ã—ã¦ invoke Dockerfile ã®æº–å‚™ã‚‚ã§ããŸã®ã§ã€ã‚ã¨ã¯ docker build ã—ã¦ docker run ã™ã‚Œã°ãƒ­ãƒ¼ã‚«ãƒ«ã§ Lambda ã®å®Ÿè¡Œç’°å¢ƒãŒèµ·å‹•ã—ã¾ã™ã€‚\ndocker build -t invocation-history-ex-func:local . \\ \u0026amp;\u0026amp; docker run \\ --rm \\ -p 9000:8080 \\ invocation-history-ex-func:local ã“ã‚Œã§ localhost:9000 ã§ Lambda ã®å®Ÿè¡Œç’°å¢ƒãŒèµ·å‹•ã—ã¦ã„ã‚‹ã®ã§ã€ãã“ã«å¯¾ã—ã¦ curl ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã£ã¦ invoke ã—ã¾ã™ã€‚\ncurl \\ -H \u0026#39;Content-Type: application/json\u0026#39; \\ http://localhost:9000/2015-03-31/functions/function/invocations ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚\n{ \u0026#34;message\u0026#34;: \u0026#34;Current request ID is e65d6f55-2335-47e9-88f9-a851e7d539d5\u0026#34;, \u0026#34;invocations\u0026#34;: [ { \u0026#34;awsRequestId\u0026#34;: \u0026#34;e65d6f55-2335-47e9-88f9-a851e7d539d5\u0026#34;, \u0026#34;invocatedAt\u0026#34;: \u0026#34;2022-12-06T13:25:52.447847893Z\u0026#34; } ] } ç¶šã‘ã¦ invoke ã™ã‚‹ã¨\n{ \u0026#34;message\u0026#34;: \u0026#34;Current request ID is 4a61a5dc-7bbf-43cb-abd0-67ed0388cf5f\u0026#34;, \u0026#34;invocations\u0026#34;: [ { \u0026#34;awsRequestId\u0026#34;: \u0026#34;e65d6f55-2335-47e9-88f9-a851e7d539d5\u0026#34;, \u0026#34;invocatedAt\u0026#34;: \u0026#34;2022-12-06T13:25:52.447847893Z\u0026#34; }, { \u0026#34;awsRequestId\u0026#34;: \u0026#34;4a61a5dc-7bbf-43cb-abd0-67ed0388cf5f\u0026#34;, \u0026#34;invocatedAt\u0026#34;: \u0026#34;2022-12-06T13:27:17.244096344Z\u0026#34; } ] } ãã‚Œã¾ã§ã«åŒã˜å®Ÿè¡Œç’°å¢ƒã§ invoke ã•ã‚ŒãŸéš›ã® Request ID ãŒå±¥æ­´ã¨ãªã£ã¦ä¿æŒã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\nLambda ã®å®Ÿè¡Œç’°å¢ƒãŒå‡ºåŠ›ã—ã¦ã„ã‚‹ãƒ­ã‚°ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\n1START RequestId: e65d6f55-2335-47e9-88f9-a851e7d539d5 Version: $LATEST 206 Dec 2022 13:25:52,433 [INFO] (rapid) External agent invocation-history-extension (c96c9db2-076e-4ac7-9572-f98d4091d0e8) registered, subscribed to [INVOKE SHUTDOWN] 3[Invocation History Extension] INFO: Succeeded to register extension. 4[Invocation History Extension] INFO: Waiting for next event... 52022/12/06 13:25:52 cold start 62022/12/06 13:25:52 start handler 7[Invocation History Extension] INFO: Succeeded to save new history. awsRequestId:e65d6f55-2335-47e9-88f9-a851e7d539d5 invokedAt:2022-12-06 13:25:52.447847893 +0000 UTC 8[Invocation History Extension] INFO: Waiting for next event... 92022/12/06 13:25:52 end handler 10END RequestId: e65d6f55-2335-47e9-88f9-a851e7d539d5 11REPORT RequestId: e65d6f55-2335-47e9-88f9-a851e7d539d5 Init Duration: 0.22 ms Duration: 28.23 ms Billed Duration: 29 ms Memory Size: 3008 MB Max Memory Used: 3008 MB 12START RequestId: 4a61a5dc-7bbf-43cb-abd0-67ed0388cf5f Version: $LATEST 132022/12/06 13:27:17 start handler 14[Invocation History Extension] INFO: Succeeded to save new history. awsRequestId:4a61a5dc-7bbf-43cb-abd0-67ed0388cf5f invokedAt:2022-12-06 13:27:17.244096344 +0000 UTC 15[Invocation History Extension] INFO: Waiting for next event... 162022/12/06 13:27:17 end handler 17END RequestId: 4a61a5dc-7bbf-43cb-abd0-67ed0388cf5f 18REPORT RequestId: 4a61a5dc-7bbf-43cb-abd0-67ed0388cf5f Duration: 1.53 ms Billed Duration: 2 ms Memory Size: 3008 MB Max Memory Used: 3008 MB 1 ã€œ 11 è¡Œç›®ãŒ 1 å›ç›®ã® invoke ã«ã‚ˆã‚‹ãƒ­ã‚°ã§ã€ã“ã®ã¨ãã®ã¿ Register API ã‚’å®Ÿè¡Œã—ãŸãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\nã“ã®çŠ¶æ…‹ã‹ã‚‰ ctr + C ã§å®Ÿè¡Œç’°å¢ƒã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’çµ‚äº†ã•ã›ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n^C06 Dec 2022 13:31:54,898 [INFO] (rapid) Received signal signal=interrupt 06 Dec 2022 13:31:54,898 [INFO] (rapid) Shutting down... 06 Dec 2022 13:31:54,898 [WARNING] (rapid) Reset initiated: SandboxTerminated [Invocation History Extension] INFO: Received shutdown event. reason:SandboxTerminated [Invocation History Extension] INFO: Truncate invocation history. [Invocation History Extension] INFO: {AWSRequestID:e65d6f55-2335-47e9-88f9-a851e7d539d5 InvocatedAt:2022-12-06 13:25:52.447847893 +0000 UTC} [Invocation History Extension] INFO: {AWSRequestID:4a61a5dc-7bbf-43cb-abd0-67ed0388cf5f InvocatedAt:2022-12-06 13:27:17.244096344 +0000 UTC} 06 Dec 2022 13:31:54,899 [INFO] (rapid) runtime exited ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã¯ãƒ—ãƒ­ã‚»ã‚¹çµ‚äº† = å®Ÿè¡Œç’°å¢ƒã®ç ´æ£„ã¨ãªã‚Šã¾ã™ã€‚å‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹ãƒ­ã‚°ã‹ã‚‰ã‚‚ã€ SHUTDOWN ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘å–ã£ã¦ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\nã¾ã¨ã‚ AWS Lambda ã® Extension API ã‚’ä½¿ã£ã¦ã¿ãŸã„ãŒãŸã‚ã« Lambda Extension ã‚’è‡ªä½œã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nLambda Extension ã‚’è‡ªä½œã—ã¦ã¿ã¦ Extension API ãŒã‚„ã£ã¦ã„ã‚‹ã“ã¨ã€ Lambda ã®å®Ÿè¡Œç’°å¢ƒä¸Šã§ã® Extension ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã€ Lambda ãã®ã‚‚ã®ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«ã¤ã„ã¦å®Œå…¨ã«ç†è§£ã§ããŸæ°—ãŒã—ã¾ã™ã€‚\nã¨è¨€ã£ã¦ã‚‚ Extension API ã«ã¯ã¾ã  Init Error API ã¨ Exit Error API ãŒã‚ã‚Šã€ä»Šå›ã¯ãã‚Œã‚‰ã‚’ä½¿ã£ã¦ã„ã¾ã›ã‚“ã€‚ã¾ãŸã€ Lambda ã«ã¯ Extension API ã®ä»–ã«ã‚‚ Runtime APIã€ Telemetry API (Logs API) ã‚‚ã‚ã‚Šã€ã¾ã ã¾ã ä½•ã‚‚ã‚ã‹ã‚‰ãªã„éƒ¨åˆ†ãŒãŸãã•ã‚“ã‚ã‚Šãã†ã§ã™ã€‚\nå€‹äººçš„ã«ä¸€æ™‚æœŸ Lambda ç†±ãŒå†·ã‚ã¦ã„ãŸã‚“ã§ã™ãŒã€æœ€è¿‘ã¾ãŸæ¸©ã¾ã£ã¦ããŸã®ã§ä»Šå¾Œã¯ã“ã®ã‚ãŸã‚Šã® API ç¾¤ã‚’è¿½ã£ã¦ã„ã“ã†ã‹ãªã¨æ€ã„ã¾ã™ã€‚\nAWS Lambda æ‹¡å¼µæ©Ÿèƒ½ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ - AWS Lambda \u0026#160;\u0026#x21a9;\u0026#xfe0e;\nAWS Parameters and Secrets Lambda Extension ã‚’ç™ºè¡¨ \u0026#160;\u0026#x21a9;\u0026#xfe0e;\nSSM Parameter Store ãŠã‚ˆã³ Secrets Manager ã¸ã®å•ã„åˆã‚ã›ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ã“ã¨ã§å†å–å¾—æ™‚ã®ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ¼ãŠã‚ˆã³ã‚³ã‚¹ãƒˆã‚’å‰Šæ¸›ã§ãã‚‹ã¨ã„ã†æ©Ÿèƒ½\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã£ãŸ Lambda é–¢æ•°ã®ã‚ã‚Œã“ã‚Œ - michimani.net \u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-lambda-extension-written-in-go/",
    "title": "AWS Lambda ã® Extension API ã‚’ä½¿ã„ãŸã„ãŒãŸã‚ã« Go ã§ Lambda Extension ã‚’è‡ªä½œã—ã¦ã¿ãŸ"
  },
  {
    "contents": "Lambda é–¢æ•°ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—ã¨ã—ã¦ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã‹ã‚‰ã‚‚ã† 2 å¹´ãŒçµŒã¨ã†ã¨ã—ã¦ã„ã¾ã™ã€‚æœ€è¿‘ã«ãªã£ã¦ã¡ã‚ƒã‚“ã¨è§¦ã‚‹ã‚ˆã†ã«ãªã£ã¦è‰²ã€…ã‚ã‹ã£ã¦ããŸã“ã¨ãŒã‚ã‚‹ã®ã§ã€ã‚„ã£ãŸã“ã¨ã‚’ã¾ã¨ã‚ã¦ãŠãã¾ã™ã€‚\nã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã£ãŸ Lambda é–¢æ•°ã®æ¦‚è¦ Dockerfile AWS ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã† ä»£æ›¿ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã† ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã®å®Ÿè¡Œ RIE ã«ã‚ˆã‚‹ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®å®Ÿè¡Œ ã‚¤ãƒ™ãƒ³ãƒˆã®å†ç¾ ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆã¨ã‚¦ã‚©ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆ Lambda Runtime API ã®åˆ©ç”¨ Lambda Layer (Extension) ã®åˆ©ç”¨ CI/CD åŸºæœ¬çš„ãªæ›´æ–°æ–¹æ³• CI/CD ã‚’æ§‹ç¯‰ã™ã‚‹éš›ã®æ³¨æ„ç‚¹ GitHub Actions ã«ã‚ˆã‚‹ CI/CD Lambda Layer (Extension) ã®ä½¿ã„æ–¹ æ¦‚è¦ Parameter and Secret Lambda Extension ã‚’ä½¿ã£ãŸã‚µãƒ³ãƒ—ãƒ« Extension ã®ãƒã‚¤ãƒŠãƒªå–å¾— ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä½œæˆ å®Ÿè£… Extension ã‚’ä½¿ã£ãŸå ´åˆã®ãƒ­ã‚° ã¾ã¨ã‚ ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã£ãŸ Lambda é–¢æ•°ã®æ¦‚è¦ ã¾ãšã¯æ¦‚è¦ã§ã™ã€‚\nã¨è¨€ã£ã¦ã‚‚é›£ã—ã„ã“ã¨ã¯ãªãã€\nãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—ã¨ã—ã¦ Image ã‚’ã€ ImageURI ã¨ã—ã¦ ECR Repository ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ URI ã‚’æŒ‡å®šã—ã¾ã™ ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã†å ´åˆã¯ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã¯æŒ‡å®šã—ã¾ã›ã‚“ æŒ‡å®šã§ãã‚‹ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã®æœ€å¤§ã‚µã‚¤ã‚ºã¯ 10 GB ã¨ãªã£ã¦ã„ã¾ã™ ãã‚‰ã„ã§ã™ã€‚\nãã®ä»–ã® Lambda é–¢æ•°ã®æ©Ÿèƒ½ (ç’°å¢ƒå¤‰æ•°ã€ Layer (Extension) ãªã©) ã«ã¤ã„ã¦ã¯ã€å¾“æ¥ã® Lambda é–¢æ•°ã¨åŒç­‰ã§ã™ã€‚\nDockerfile Lambda é–¢æ•°ç”¨ã®ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹éš›ã€ãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ AWS ãŒæä¾›ã—ã¦ã„ã‚‹ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã†æ–¹æ³•ã¨ã€ alpine ãªã©ã®ä»£æ›¿ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã†æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œãã‚Œãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ã®ã§ç°¡å˜ã«ã¾ã¨ã‚ã¦ãŠãã¾ã™ã€‚\nã¾ãŸã€ä»Šå›ã¯å‰æã¨ã—ã¦ Go ã§å®Ÿè£…ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã‚’ã‚‚ã¨ã«ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¾ã™ã€‚ãªã®ã§ã€ä¸‹è¨˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã¨ main.go ãŒå­˜åœ¨ã—ã¦ã„ã‚‹ã“ã¨ã¨ã—ã¾ã™ã€‚\n. â”œâ”€â”€ Dockerfile â”œâ”€â”€ entry.sh â”œâ”€â”€ go.mod â”œâ”€â”€ go.sum â””â”€â”€ main.go package main import ( \u0026#34;log\u0026#34; runtime \u0026#34;github.com/aws/aws-lambda-go/lambda\u0026#34; ) type Response struct { Message string `json:\u0026#34;message\u0026#34;` } func handleRequest() (Response, error) { log.Println(\u0026#34;start handler\u0026#34;) defer log.Println(\u0026#34;end handler\u0026#34;) return Response{ Message: \u0026#34;Hello AWS Lambda\u0026#34;, }, nil } func init() { log.Println(\u0026#34;cold start\u0026#34;) } func main() { runtime.Start(handleRequest) } AWS ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã† AWS ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã†å ´åˆã¯ä¸‹è¨˜ã®ã‚ˆã†ãª Dockerfile ã«ãªã‚Šã¾ã™ã€‚\nFROM public.ecr.aws/lambda/provided:al2 as build RUN yum install -y golang RUN go env -w GOPROXY=direct ADD go.mod go.sum ./ RUN go mod download ADD . . RUN go build -o /main FROM public.ecr.aws/lambda/provided:al2 COPY --from=build /main /main ENTRYPOINT [\u0026#34;/main\u0026#34;] AWS ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ ECR Public ã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ docker build ã™ã‚‹ã«ã¯ ECR ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nAWS ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã«ã¯ã€ Lambda Layer (Extension) ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã®æ©Ÿæ§‹ã‚„ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œã™ã‚‹ãŸã‚ã® RIE (Runtime Interface Emulator) ã‚‚å«ã¾ã‚Œã¦ãŠã‚Šã€ãƒ“ãƒ«ãƒ‰å¾Œã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºã¯å¤§ãããªã‚Šã¾ã™ã€‚\nå¾Œè¿°ã—ã¾ã™ãŒã€ RIE ã ã‘ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã«å«ã‚ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã®ã§ã€ AWS ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã†ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦ã¯ Lambda Layer (Extension) ã‚’ä½¿ã„ãŸã„å ´é¢ã¨ãªã‚Šãã†ã§ã™ã€‚\nä»£æ›¿ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã† ä»£æ›¿ã®ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ (ä»Šå›ã¯ alpine) ã‚’ä½¿ã†å ´åˆã¯ä¸‹è¨˜ã®ã‚ˆã†ãª Dockerfile ã«ãªã‚Šã¾ã™ã€‚\nFROM alpine as build RUN apk add go git RUN go env -w GOPROXY=direct ADD go.mod go.sum ./ RUN go mod download ADD . . RUN go build -o /main FROM alpine COPY --from=build /main /main ENTRYPOINT [ \u0026#34;/main\u0026#34; ] ãƒ™ãƒ¼ã‚¹ã«ä½¿ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ã‚µã‚¤ã‚ºã«ã‚‚ã‚ˆã‚Šã¾ã™ãŒã€å¿…è¦æœ€ä½é™ã®æ§‹æˆã¨ãªã‚‹ãŸã‚ AWS ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã†å ´åˆã¨æ¯”è¼ƒã—ã¦ãƒ“ãƒ«ãƒ‰å¾Œã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºã¯å°ã•ããªã‚Šã¾ã™ã€‚\nã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºãŒå°ã•ããªã‚‹åˆ†ã€ Lambda Layer (Extension) ã¯ä½¿ç”¨ã§ããšã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®å®Ÿè¡Œã‚‚ã§ãã¾ã›ã‚“ã€‚\nLambda Layer (Extension) ã‚’ä½¿ç”¨ã—ãªã„å ´åˆã€AWS ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä»£ã‚ã‚Šã«ä»£æ›¿ã¨ãªã‚‹ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã†ã“ã¨ã§ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºã‚’å°ã•ãã§ãã¾ã™ã€‚\nã¨ã¯ã„ãˆãƒ­ãƒ¼ã‚«ãƒ«ã§ã®å®Ÿè¡Œã¯ã§ããŸã»ã†ãŒå¬‰ã—ã„ã®ã§ã€ãã®å ´åˆã¯ä¸‹è¨˜ã®ã‚ˆã†ã« RIE ã ã‘ã‚’è¿½åŠ ã™ã‚‹ã‚ˆã†ãª Dockerfile ã‚’ç”¨æ„ã—ã¾ã™ã€‚\nFROM alpine as build RUN apk add go git RUN go env -w GOPROXY=direct ADD go.mod go.sum ./ RUN go mod download ADD . . RUN go build -o /main FROM alpine COPY --from=build /main /main ADD https://github.com/aws/aws-lambda-runtime-interface-emulator/releases/latest/download/aws-lambda-rie /usr/bin/aws-lambda-rie RUN chmod 755 /usr/bin/aws-lambda-rie COPY entry.sh / RUN chmod 755 /entry.sh ENTRYPOINT [ \u0026#34;/entry.sh\u0026#34; ] CMD [ \u0026#34;/main\u0026#34; ] ã“ã“ã§å‡ºã¦ãã‚‹ entry.sh ã¯ä¸‹è¨˜ã®å†…å®¹ã¨ã—ã¾ã™ã€‚\n#!/bin/sh if [ -z \u0026#34;${AWS_LAMBDA_RUNTIME_API}\u0026#34; ]; then exec /usr/bin/aws-lambda-rie \u0026#34;$@\u0026#34; else exec \u0026#34;$@\u0026#34; fi ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã®å®Ÿè¡Œ ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã£ãŸ Lambda é–¢æ•°ã¯ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã®å®Ÿè¡Œã‚‚å®¹æ˜“ã§ã™ã€‚\nRIE ã«ã‚ˆã‚‹ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®å®Ÿè¡Œ ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã®å®Ÿè¡Œã«ã¯ RIE (Runtime Interface Emulator) ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nå‰é …ã§æ›¸ã„ãŸã‚ˆã†ã« AWS ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã€ä»£æ›¿ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã« RIE ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ Lambda é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸å†…ã« RIE ãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã€ä¸‹è¨˜ã®æ‰‹é †ã§ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®èµ·å‹•ãƒ»å®Ÿè¡ŒãŒå¯èƒ½ã§ã™ã€‚\ndocker build\ndocker build -t container-lambda-function:local . docker run\ndocker run \\ --rm \\ -p 9000:8080 \\ container-lambda-function:local (ãƒãƒ¼ãƒˆã¯ä»»æ„)\nã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ã™ã‚‹ã¨ã€ Lambda é–¢æ•°ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã®ã§ã¯ãªãã€å®Ÿè¡Œå¯èƒ½ãªçŠ¶æ…‹ã«ãªã‚Šã¾ã™ã€‚\næ¨™æº–å‡ºåŠ›ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n03 Nov 2022 13:39:12,623 [INFO] (rapid) exec \u0026#39;/main\u0026#39; (cwd=/var/task, handler=) invoke\nå®Ÿéš›ã« Lambda é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯ã€\nhttp://localhost:9000/2015-03-31/functions/function/invocations ã«å¯¾ã—ã¦ GET ã‚‚ã—ãã¯ POST ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Šã¾ã™ã€‚\ncurl \u0026#39;http://localhost:9000/2015-03-31/functions/function/invocations\u0026#39; curl ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªå‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚\n{\u0026#34;message\u0026#34;:\u0026#34;Hello AWS Lambda\u0026#34;} ã¾ãŸã€èµ·å‹•ã—ã¦ã„ã‚‹ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã®æ¨™æº–å‡ºåŠ›ã§ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªå‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚\nSTART RequestId: b8a7e4ed-381d-4925-8a7a-48a90a4dd2e4 Version: $LATEST 2022/11/03 13:44:08 cold start 2022/11/03 13:44:08 start handler 2022/11/03 13:44:08 end handler END RequestId: b8a7e4ed-381d-4925-8a7a-48a90a4dd2e4 REPORT RequestId: b8a7e4ed-381d-4925-8a7a-48a90a4dd2e4 Init Duration: 0.34 msDuration: 10.43 ms Billed Duration: 11 ms Memory Size: 3008 MB Max Memory Used: 3008 MB ã“ã‚Œã¯å®Ÿéš›ã® Lambda é–¢æ•°ãŒå‡ºåŠ›ã™ã‚‹ãƒ­ã‚°ã¨åŒç­‰ã®å†…å®¹ã«ãªã£ã¦ã„ã¾ã™ã€‚\nä¸€æ–¹ã§ã€ RIE ã¯ã‚¤ãƒ¡ãƒ¼ã‚¸å†…ã«å«ã‚ãšã«ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚1 ãŸã ã€é–‹ç™ºè€…ã®ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã« RIE ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚‚ã‚‰ã†ã®ã¯é¢å€’ãªã®ã§ã€ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸å†…ã«å«ã‚ã¦ã—ã¾ã†ã®ãŒè‰¯ã„ã‹ãªã¨æ€ã„ã¾ã™ã€‚\nãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã« RIE ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã‚Œã‚’ä½¿ã†å ´åˆã€ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•æ™‚ã®ã‚³ãƒãƒ³ãƒ‰ãŒä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\ndocker run -d -v ~/.aws-lambda-rie/aws-lambda \\ --entrypoint /aws-lambda/aws-lambda-rie \\ -p 9000:8080 \\ container-lambda-function:local ã‚¤ãƒ™ãƒ³ãƒˆã®å†ç¾ Lambda é–¢æ•°ã®å®Ÿè¡Œæ™‚ã«ã¯ API Gateway ã‹ã‚‰ã® Payloadã€ S3 ã‚„ SQS ç­‰ã‹ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚\nãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ãã‚Œã‚‰ã®å—ã‘å–ã‚Šã‚’å†ç¾ã™ã‚‹ã«ã¯ã€ curl ã§ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã«ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ POST ã«ã€ã‚¤ãƒ™ãƒ³ãƒˆã® JSON ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã«å…¥ã‚Œã‚‹ã“ã¨ã§å†ç¾ã§ãã¾ã™ã€‚\nä¾‹ãˆã°ã€ SQS é§†å‹•ã® Lambda é–¢æ•°ã‚’å†ç¾ã—ãŸã„å ´åˆã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Šã¾ã™ã€‚\ncurl -X POST \\ -H \u0026#39;Content-Type: application/json\u0026#39; \\ -d \u0026#39;{\u0026#34;Records\u0026#34;: [{\u0026#34;messageId\u0026#34;: \u0026#34;message-id\u0026#34;, \u0026#34;eventSource\u0026#34;: \u0026#34;event-source\u0026#34;, \u0026#34;body\u0026#34;: \u0026#34;{\\\u0026#34;key\\\u0026#34;: \\\u0026#34;value\\\u0026#34;}\u0026#34;}]}\u0026#39; \\ \u0026#39;http://localhost:9000/2015-03-31/functions/function/invocations\u0026#39; SQS é§†å‹•ã® Lambda é–¢æ•°ã®å®Ÿè£…ä¾‹ã¯ã“ã¡ã‚‰ã€‚\nsqs-lambda-example/lambda at main Â· michimani/sqs-lambda-example ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆã¨ã‚¦ã‚©ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆ Lambda é–¢æ•°ã®ç‰¹å¾´ã¨ã—ã¦ã€ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆã¨ã‚¦ã‚©ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆãŒã‚ã‚Šã¾ã™ã€‚\nã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã£ãŸ Lambda é–¢æ•°ã®ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œã§ã¯ã“ã‚Œã‚‰ã®å†ç¾ã‚‚å¯èƒ½ã§ã™ã€‚\nå…·ä½“çš„ãªå‹•ä½œã¨ã—ã¦ã¯ã€ docker run ã§ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ã—ã¦ã‹ã‚‰æœ€åˆã« curl ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ã£ãŸéš›ã®å®Ÿè¡Œã¯ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆã¨ãªã‚Šã€ãã‚Œä»¥é™ã¯ã‚¦ã‚©ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆã®æŒ™å‹•ã¨ãªã‚Šã¾ã™ã€‚èµ·å‹•ä¸­ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’åœæ­¢ã—ã¦èµ·å‹•ã—ãªãŠã›ã°ã€ã¾ãŸã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆã®æŒ™å‹•ã‚’ç¢ºèªã§ãã¾ã™ã€‚\nä¾‹ã§ã‚ã’ã¦ã„ã‚‹ Go ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆæ™‚ã®ã¿ init() é–¢æ•°ãŒå®Ÿè¡Œã•ã‚Œã€ãã‚Œä»¥é™ã¯å®Ÿè¡Œã•ã‚Œãªã„ã“ã¨ãŒç¢ºèªã§ãã¾ã™ã€‚\nã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆæ™‚ã®ãƒ­ã‚°ã€‚\nSTART RequestId: b8a7e4ed-381d-4925-8a7a-48a90a4dd2e4 Version: $LATEST 2022/11/03 13:44:08 cold start 2022/11/03 13:44:08 start handler 2022/11/03 13:44:08 end handler END RequestId: b8a7e4ed-381d-4925-8a7a-48a90a4dd2e4 REPORT RequestId: b8a7e4ed-381d-4925-8a7a-48a90a4dd2e4 Init Duration: 0.34 msDuration: 10.43 ms Billed Duration: 11 ms Memory Size: 3008 MB Max Memory Used: 3008 MB ã‚¦ã‚©ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆæ™‚ã®ãƒ­ã‚°ã€‚\nSTART RequestId: d5016f63-3648-423c-bb7a-597548b83da1 Version: $LATEST 2022/11/03 14:00:20 start handler 2022/11/03 14:00:20 end handler END RequestId: d5016f63-3648-423c-bb7a-597548b83da1 REPORT RequestId: d5016f63-3648-423c-bb7a-597548b83da1 Duration: 1.41 ms Billed Duration: 2 ms Memory Size: 3008 MB Max Memory Used: 3008 MB ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆæ™‚ã«ã¯ init() é–¢æ•°å†…ã§å‡ºåŠ›ã—ã¦ã„ã‚‹ãƒ­ã‚°ãŒã‚ã‚Šã€ã•ã‚‰ã« Init Duration ã®æƒ…å ±ã‚‚å‡ºåŠ›ã•ã‚Œã¦ã„ã¾ã™ãŒã€ã‚¦ã‚©ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆæ™‚ã«ã¯ãã‚Œã‚‰ãŒã‚ã‚Šã¾ã›ã‚“ã€‚\nLambda é–¢æ•°ã®ã“ã®æŒ™å‹•ã«ã‚ˆã£ã¦ DB ã¸ã®ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ãŒå¢—ãˆç¶šã‘ã‚‹ç½ ãŒã‚ã‚Šã¾ã™ãŒã€ãã‚Œã«ã¤ã„ã¦ã‚‚ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§å†ç¾ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nmichimani/lambda-rdb-test: In this repository, you can try to see how the number of DB connections changes depending on the implementation method when connecting to RDB from Lambda functions implemented in Go. Lambda Runtime API ã®åˆ©ç”¨ Lambda ã«ã¯ Lambda Runtime API 2 ã¨ã„ã†ã‚‚ã®ãŒç”¨æ„ã•ã‚Œã¦ãŠã‚Šã€å®Ÿè¡Œä¸­ã® Lambda é–¢æ•°ã«é–¢ã™ã‚‹æƒ…å ±ã‚’å–å¾—ã—ãŸã‚Šã€å‹•ä½œã‚’ä¸ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ RIE ã‚’ä½¿ã£ãŸãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œã§ã¯ã€Lambda Runtime API ã®æŒ™å‹•ã«ã¤ã„ã¦ã‚‚ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nLambda Runtime API ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ã€Lambda é–¢æ•°å®Ÿè¡Œæ™‚ã«è‡ªå‹•çš„ã«è¨­å®šã•ã‚Œã‚‹ AWS_LAMBDA_RUNTIME_API ã¨ã„ã†ç’°å¢ƒå¤‰æ•°ã«è¨­å®šã•ã‚Œã¦ãŠã‚Šã€ RIE ã‚’ä½¿ã£ãŸãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œæ™‚ã«ã‚‚ã“ã®ç’°å¢ƒå¤‰æ•°ã¯è¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚\nGo ã§ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªå®Ÿè£…ã«ã‚ˆã£ã¦ã€å®Ÿè¡Œä¸­ã® Lambda é–¢æ•°ã® Request ID ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nconst ( runtimeAPIEnvKey = \u0026#34;AWS_LAMBDA_RUNTIME_API\u0026#34; runtimeRequestIDHeaderName = \u0026#34;Lambda-Runtime-Aws-Request-Id\u0026#34; ) func getRequestID(client *http.Client) (string, error) { host := os.Getenv(runtimeAPIEnvKey) if host == \u0026#34;\u0026#34; { return \u0026#34;\u0026#34;, fmt.Errorf(\u0026#34;host is empty\u0026#34;) } url := fmt.Sprintf(\u0026#34;http://%s/2018-06-01/runtime/invocation/next\u0026#34;, host) req, err := http.NewRequestWithContext(context.Background(), \u0026#34;GET\u0026#34;, url, nil) if err != nil { return \u0026#34;\u0026#34;, err } res, err := client.Do(req) if err != nil { return \u0026#34;\u0026#34;, err } rHeader := res.Header rIds, exists := rHeader[runtimeRequestIDHeaderName] if !exists { return \u0026#34;\u0026#34;, fmt.Errorf(\u0026#34;\u0026#39;%s\u0026#39; header does not exists.\u0026#34;, runtimeRequestIDHeaderName) } if len(rIds) == 0 { return \u0026#34;\u0026#34;, fmt.Errorf(\u0026#34;Value of \u0026#39;%s\u0026#39; header is empty.\u0026#34;, runtimeRequestIDHeaderName) } return rIds[0], nil } é–¢æ•°å…¨ä½“ã®å®Ÿè£…ã¯ã“ã¡ã‚‰ã€‚\nbase-of-lambda-container-image/main.go at main Â· michimani/base-of-lambda-container-image Lambda Layer (Extension) ã®åˆ©ç”¨ Lambda ã«ã¯ Lambda Layer (Extension) ã¨ã„ã†æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã€‚ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œã§ã¯ã“ã®æ©Ÿèƒ½ã®æŒ™å‹•ã‚‚ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã«é–¢ã—ã¦ã¯å¾Œè¿°ã—ã¾ã™ã€‚\nCI/CD ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã£ãŸ Lambda é–¢æ•°ã® CI/CD ã«ã¤ã„ã¦è€ƒãˆã¦ã¿ã¾ã™ã€‚\nå¾“æ¥ã® Lambda é–¢æ•°ã§ã‚ã‚Œã°ã€è©²å½“ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚³ãƒ¼ãƒ‰ä¸€å¼ã‚’ zip åŒ–ã—ã¦ S3 Bucket ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã€ lambda update-function-code ã«ã¦ã‚½ãƒ¼ã‚¹ã¨ãªã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ã—ã¦ã„\nåŸºæœ¬çš„ãªæ›´æ–°æ–¹æ³• å¾“æ¥ã® Lambda é–¢æ•°ã§ã‚ã‚Œã°ã€è©²å½“ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚³ãƒ¼ãƒ‰ä¸€å¼ã‚’ zip åŒ–ã—ã¦æ›´æ–°ã€ã‚‚ã—ãã¯ zip ã‚’ S3 Bucket ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦æ›´æ–°ã—ã¦ã„ã¾ã—ãŸãŒã€ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã£ãŸ Lambda ã®å ´åˆã¯ãƒ•ãƒ­ãƒ¼ãŒç•°ãªã‚Šã¾ã™ã€‚\nã¾ãšã€å¤‰æ›´å¾Œã®ã‚³ãƒ¼ãƒ‰ã§ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã€ ECR Repository ã« push ã—ã¾ã™ã€‚ ãã—ã¦ã€ lambda update-function-code ã§ ImageURI ã‚’æ›´æ–°ã—ã¾ã™ã€‚\nã“ã®ã¨ãã® URI ã¯ãƒãƒƒã‚·ãƒ¥ä»˜ã URI ã§ã‚‚ã‚ˆã„ã§ã™ãŒã€ latest ç­‰ã®ã‚¿ã‚°ä»˜ã URI ã§ã‚‚å¯ã§ã™ã€‚ã‚€ã—ã‚ã€ã‚¿ã‚°ä»˜ã URI ã‚’ä½¿ã£ã¦æ›´æ–°ã—ãŸã»ã†ãŒã€ãƒªã‚½ãƒ¼ã‚¹ã‚’ CFn ã‚„ Terraform ã§ç®¡ç†ã—ã¦ã„ã‚‹å ´åˆã«ã¯å·®åˆ†ãŒç™ºç”Ÿã—ãªã„ã®ã§ãŠã™ã™ã‚ã§ã™ã€‚\nã‚¿ã‚°ä»˜ã URI ã§æ›´æ–°ã—ãŸå ´åˆã§ã‚‚ã€å®Ÿéš›ã«åˆ©ç”¨ã•ã‚Œã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒãƒƒã‚·ãƒ¥ä»˜ã URI ã«ã¤ã„ã¦ã¯ lambda get-function ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\naws lambda get-function \\ --function-name \u0026#39;lambda-parameters-extension-function\u0026#39; \\ --query \u0026#39;Code\u0026#39; | grep Uri \u0026#34;ImageUri\u0026#34;: \u0026#34;000000000000.dkr.ecr.ap-northeast-1.amazonaws.com/container-lambda-function:latest\u0026#34;, \u0026#34;ResolvedImageUri\u0026#34;: \u0026#34;000000000000.dkr.ecr.ap-northeast-1.amazonaws.com/container-lambda-function@sha256:c0b63302fa2ad2a78e6da8b37b8d4394c1b231a0963d82abd06d37dd4fd66277\u0026#34; æ›´æ–°ã—ãŸã‚ã¨ã¯ã€å®Ÿè¡ŒåŸºç›¤ãŒå¤‰ã‚ã£ã¦ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆã¨ãªã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‹ã‚‰æ–°ã—ã„ã‚³ãƒ¼ãƒ‰ã§ã®å®Ÿè¡Œã¨ãªã‚Šã¾ã™ã€‚\nCI/CD ã‚’æ§‹ç¯‰ã™ã‚‹éš›ã®æ³¨æ„ç‚¹ ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã£ãŸ Lambda é–¢æ•°é–¢é€£ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹éš›ã«ã¯ã€ã„ãã¤ã‹ä¾å­˜é–¢ä¿‚ãŒã‚ã‚Šãƒªã‚½ãƒ¼ã‚¹ä½œæˆã«é–¢ã—ã¦ã¯ä¸‹è¨˜ã®é †åºã§å®Ÿæ–½ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nECR Repository ã‚’ä½œæˆ Lambda é–¢æ•°ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè£… ECR Repository ã« push Lambda é–¢æ•°ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆ (å¯¾è±¡ã¨ãªã‚‹ ECR Repository ã«ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå­˜åœ¨ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚) CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ä½œæˆã™ã‚‹éš›ã«ã‚‚ä¸Šè¨˜ã«æ³¨æ„ã—ãªãŒã‚‰é †ç•ªã«ãƒªã‚½ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã¦ã„ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚å…·ä½“çš„ã«ã¯ã€ã¾ãšã¯ ECR ã« push ã™ã‚‹ã¨ã“ã‚ã¾ã§ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ä½œã£ã¦ä¸€åº¦å®Ÿè¡Œã—ã€ãã®å¾Œã«é–¢æ•°ã‚’æ›´æ–°ã™ã‚‹ã‚¹ãƒ†ãƒƒãƒ—ã‚’è¿½åŠ ã™ã‚‹ã€ã¨ã„ã£ãŸæ®µéšã‚’è¸ã‚€ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nGitHub Actions ã«ã‚ˆã‚‹ CI/CD ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã£ãŸ Lambda é–¢æ•°ã®æ›´æ–°ã‚’ GitHub Actions ã§å®Ÿæ–½ã™ã‚‹å ´åˆã®å®Ÿè£…ä¾‹ã§ã™ã€‚\ndev ãƒ–ãƒ©ãƒ³ãƒã¸ã® push ã§ dev ç’°å¢ƒç”¨ã® Lambda é–¢æ•°ã‚’ã€ main ãƒ–ãƒ©ãƒ³ãƒã¸ã® push ã§ production ç’°å¢ƒç”¨ã® Lambda é–¢æ•°ã‚’ã€ãã‚Œãã‚Œæ›´æ–°ã™ã‚‹ã‚ˆã†ãªã‚µãƒ³ãƒ—ãƒ«ã«ãªã£ã¦ã„ã¾ã™ã€‚\nmichimani/container-lambda-cicd: ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’åˆ©ç”¨ã™ã‚‹ Lambda é–¢æ•°ã® CI/CD ã®ã‚µãƒ³ãƒ—ãƒ«ã€‚ èªè¨¼æƒ…å ±ã«ã¤ã„ã¦ã¯ã€äºˆã‚ä½œæˆã—ã¦ãŠã„ãŸ IAM Role ã® ARN ã®ãƒªãƒã‚¸ãƒˆãƒªã® Secrets ã«è¨­å®šã—ã¦ãŠã„ã¦ã€ yaml å†…ã§ã¯ ${{ secrets.ASSUME_ROLE_ARN }} ã§ä½¿ç”¨ã—ã¾ã™ã€‚å¤–éƒ¨ã‹ã‚‰è¨­å®šãŒå¿…è¦ãªæƒ…å ±ã¯ãã‚Œã ã‘ã§ã™ã€‚\nLambda Layer (Extension) ã®ä½¿ã„æ–¹ ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ãŸ Lambda é–¢æ•°ã§ã® Lambda Layer (Extension) ã®ä½¿ã„æ–¹ã«ã¤ã„ã¦ã§ã™ã€‚\næ¦‚è¦ å¾“æ¥ã® Lambda é–¢æ•°ã§ã¯ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ Layer ã‚’é¸æŠã€ã‚‚ã—ãã¯ Lambda ãƒªã‚½ãƒ¼ã‚¹å†…ã® Layers ã«ä½¿ç”¨ã—ãŸã„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’æŒ‡å®šã™ã‚Œã°ã‚ˆã‹ã£ãŸã§ã™ãŒã€ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ãŸ Lambda é–¢æ•°ã§ã¯ã“ã®æ–¹æ³•ã§ã¯ä½¿ãˆã¾ã›ã‚“ã€‚\næ–¹æ³•ã¨ã—ã¦ã¯ã€ä½¿ç”¨ã—ãŸã„ Layer (Extension) ã®ãƒã‚¤ãƒŠãƒªã‚’ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã«å«ã‚ã‚‹ã“ã¨ã§å®Ÿç¾ã—ã¾ã™ã€‚ é…ç½®ã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚‚æ±ºã¾ã£ã¦ãŠã‚Šã€ /opt/extensions é…ä¸‹ã«ãƒã‚¤ãƒŠãƒªã‚’é…ç½®ã—ã¾ã™ã€‚\nLayer (Extension) ã«ã¤ã„ã¦ã¯ AWS å…¬å¼/3rd party å•ã‚ãšã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚‚ã‚ã‚Šã¾ã™ãŒã€å…¬é–‹ã•ã‚Œã¦ã„ãªã„ã‚‚ã®ã‚‚ã‚ã‚Šã¾ã™ã€‚ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦å…¬é–‹ã•ã‚Œã¦ã„ãªã„ AWS å…¬å¼ã® Layer (Extension) ã«é–¢ã—ã¦ã¯ã€å¯¾å‡¦ã® Layer (Extension) ã® ARN ã‚’ã‚‚ã¨ã« lambda get-layer-version-by-arn ã§å–å¾—ã§ãã¾ã™ã€‚\nä»–ã®æ³¨æ„ç‚¹ã¨ã—ã¦ã€ Dockerfile ã®ã¨ã“ã‚ã§ã‚‚è§¦ã‚Œã¾ã—ãŸãŒã€ Layer (Extension) ã‚’ä½¿ç”¨ã—ãŸã„å ´åˆã¯ AWS ãŒæä¾›ã—ã¦ã„ã‚‹ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nå…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã® AWS å…¬å¼ãƒ–ãƒ­ã‚°ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸å†…ã§Lambda ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨æ‹¡å¼µæ©Ÿèƒ½ã‚’å‹•ä½œã•ã›ã‚‹ | Amazon Web Services ãƒ–ãƒ­ã‚° Parameter and Secret Lambda Extension ã‚’ä½¿ã£ãŸã‚µãƒ³ãƒ—ãƒ« ä¾‹ã¨ã—ã¦ã€å…ˆæ—¥ç™ºè¡¨ã•ã‚Œã¦ã„ãŸ Parameter and Secret Lambda Extension ã‚’ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã™ã‚‹ Lambda é–¢æ•°ã§ä½¿ã†å ´åˆã‚’è€ƒãˆã¾ã™ã€‚\nExtension ã®ãƒã‚¤ãƒŠãƒªå–å¾— ã¾ãšã¯ Extension ã®ãƒã‚¤ãƒŠãƒªã‚’å–å¾—ã—ã¾ã™ã€‚\nParameter and Secret Lambda Extension ã® ARN ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚\nUse AWS Secrets Manager secrets in AWS Lambda functions - AWS Secrets Manager æ±äº¬ (ap-northeast-1) ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã® ARN ã¯\narn:aws:lambda:ap-northeast-1:133490724326:layer:AWS-Parameters-and-Secrets-Lambda-Extension:2\nãªã®ã§ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ zip å½¢å¼ã® Extension ã‚’å–å¾—ã—ã¾ã™ã€‚\ncurl $( aws lambda get-layer-version-by-arn \\ --arn \u0026#39;arn:aws:lambda:ap-northeast-1:133490724326:layer:AWS-Parameters-and-Secrets-Lambda-Extension:2\u0026#39; \\ --query \u0026#39;Content.Location\u0026#39; --output text ) --output ps-ex.zip AWS å…¬å¼ãƒ–ãƒ­ã‚°å†…ã§ã¯ Dockerfile å†…ã«è¨˜è¿°ã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€ ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ã‚„ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ Dockerfile å†…ã«è¨˜è¿°ã—ãŸã‚Šç’°å¢ƒå¤‰æ•°ã§æ¸¡ã—ãŸã‚Šã™ã‚‹ã®ãŒé¢å€’ã ã£ãŸ (ç›´çƒ) ã®ã§ã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã‚‹æ–¹æ³•ã‚’ã¨ã£ã¦ã„ã¾ã™ã€‚\nã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä½œæˆ ä¸‹è¨˜ã®ã‚ˆã†ãª Dockerfile ã§ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¾ã™ã€‚ã¾ãšã¯ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®å®Ÿè¡Œã‚’æƒ³å®šã—ã¦ã„ã‚‹ãŸã‚ entry.sh ã‚’å«ã‚ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n1FROM public.ecr.aws/lambda/provided:al2 as build 2RUN yum install -y golang unzip 3RUN go env -w GOPROXY=direct 4ADD go.mod go.sum ./ 5RUN go mod download 6ADD . . 7RUN go build -o /main 8RUN mkdir -p /opt 9ADD ./ps-ex.zip ./ 10RUN unzip ps-ex.zip -d /opt 11RUN rm ps-ex.zip 12 13FROM public.ecr.aws/lambda/provided:al2 14COPY --from=build /main /main 15COPY entry.sh / 16RUN chmod 755 /entry.sh 17RUN mkdir -p /opt/extensions 18WORKDIR /opt/extensions 19COPY --from=build /opt/extensions . 20ENTRYPOINT [ \u0026#34;/entry.sh\u0026#34; ] 21CMD [\u0026#34;/main\u0026#34;] 8-11 è¡Œç›®ã§ã€ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸ Extension ã® zip ã‚’ãƒ“ãƒ«ãƒ‰ç”¨ã®ã‚¹ãƒ†ãƒ¼ã‚¸ã«è¿½åŠ ã— unzip ã—ã¦ã„ã¾ã™ã€‚\nãã—ã¦ 18-19 è¡Œç›®ã§ã€æœ€çµ‚çš„ã«ä½œæˆã•ã‚Œã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã® /opt/extensions ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« Extension ã®ãƒã‚¤ãƒŠãƒªã‚’é…ç½®ã—ã¦ã„ã¾ã™ã€‚\nå®Ÿè£… Parameter and Secret Lambda Extension ã¯ http://localhost:2773 ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ä»˜ã‘ã¦ã„ã‚‹ã®ã§ã€ä¸‹è¨˜ã®ã‚ˆã†ãªå®Ÿè£…ã§åˆ©ç”¨ã—ã¾ã™ã€‚\nconst ( // Endpoint for getting parameter by Parameters and Secrets Lambda Extension. exGetParameterEndpoint = \u0026#34;http://localhost:2773/systemsmanager/parameters/get\u0026#34; // Header key of secret token secretTokenHeaderKey = \u0026#34;X-Aws-Parameters-Secrets-Token\u0026#34; // Query parameter key queryParameterKeyForName = \u0026#34;name\u0026#34; queryParameterKeyForVersion = \u0026#34;version\u0026#34; ) // Struct of response from AWSParametersAndSecretsLambdaExtension API type resultFromExtension struct { Parameter struct { ARN string DateType string LastModifiedDate time.Time Name string Selector string SourceResult *string Type string Value string Version int } ResultMetadata any } // Get a value using Parameters and Secrets Lambda Extension. func getValueByUsingExtension(key string, version int) (string, error) { // Get a value from extension // https://docs.aws.amazon.com/systems-manager/latest/userguide/ps-integration-lambda-extensions.html query := url.Values{} query.Add(queryParameterKeyForName, key) query.Add(queryParameterKeyForVersion, fmt.Sprintf(\u0026#34;%d\u0026#34;, version)) queryStr := query.Encode() url := fmt.Sprintf(\u0026#34;%s?%s\u0026#34;, exGetParameterEndpoint, queryStr) req, err := http.NewRequestWithContext(context.Background(), \u0026#34;GET\u0026#34;, url, nil) if err != nil { return \u0026#34;\u0026#34;, err } // set X-Aws-Parameters-Secrets-Token header req.Header.Add(secretTokenHeaderKey, os.Getenv(\u0026#34;AWS_SESSION_TOKEN\u0026#34;)) // call Extension API client := http.Client{} res, err := client.Do(req) if err != nil { return \u0026#34;\u0026#34;, err } defer res.Body.Close() buf := new(bytes.Buffer) if _, err := buf.ReadFrom(res.Body); err != nil { return \u0026#34;\u0026#34;, err } bodyString := buf.String() if res.StatusCode != http.StatusOK { return \u0026#34;\u0026#34;, fmt.Errorf(\u0026#34;Failed to get parameter by using extension. statusCode:%d body:%s\u0026#34;, res.StatusCode, bodyString) } exRes := resultFromExtension{} if err := json.Unmarshal([]byte(bodyString), \u0026amp;exRes); err != nil { return \u0026#34;\u0026#34;, err } return exRes.Parameter.Value, nil } Extension ã‚’ä½¿ã£ãŸå ´åˆã®ãƒ­ã‚° Extension ã‚’ä½¿ã£ãŸå ´åˆã€ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆæ™‚ã«ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ­ã‚°ãŒç¢ºèªã§ãã¾ã™ã€‚\n[AWS Parameters and Secrets Lambda Extension] 2022/11/03 15:20:32 PARAMETERS_SECRETS_EXTENSION_LOG_LEVEL is not present. Log level set to info. [AWS Parameters and Secrets Lambda Extension] 2022/11/03 15:20:32 INFO Systems Manager Parameter Store and Secrets Manager Lambda Extension 1.0.94 [AWS Parameters and Secrets Lambda Extension] 2022/11/03 15:20:32 INFO Serving on port 2773 è©³ç´°ãªå®Ÿè£…ã‚µãƒ³ãƒ—ãƒ«ã«ã¤ã„ã¦ã¯ã“ã¡ã‚‰ã€‚\nmichimani/lambda-parameters-extension: Sample code of using Parameter and Secret Lambda Extension. ã¾ã¨ã‚ ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã£ãŸ Lambda é–¢æ•°ã«ã¤ã„ã¦ã€æœ€è¿‘è§¦ã£ã¦ã„ã¦ã‚ã‹ã£ãŸã“ã¨ãªã©ã‚’ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸã€‚\nLambda é–¢æ•°ã¯ä¾¿åˆ©ã§åˆ©ç”¨ã§ãã‚‹å ´é¢ã‚‚å¤šã„åé¢ã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®å‹•ä½œç¢ºèªãŒ (SAM ç­‰ã®ãƒ„ãƒ¼ãƒ«ã‚’åˆ¥é€”ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã‚Šã§) é¢å€’ãªå°è±¡ã§ã—ãŸã€‚\nãã‚ŒãŒã€ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã†ã“ã¨ã§ (å®Ÿéš›ã«ã¯ RIE ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§) å®Ÿéš›ã®ç’°å¢ƒã¨ã»ã¼åŒã˜ã‚ˆã†ãªæŒ™å‹•ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ç‚¹ãŒã€å€‹äººçš„ã«ã¯ä¸€ç•ªå¬‰ã—ã„ã§ã™ã€‚\nã“ã®ä¸€ç‚¹ã ã‘ã§ã‚‚ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ Lambda ã‚’ä½¿ã†ä¾¡å€¤ã¯ã‚ã‚‹ã‹ãªã¨æ€ã£ã¦ã„ã¾ã™ã€‚\nä»–ã«ã¯ã€CI/CD ã«é–¢ã—ã¦ã‚‚ ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ ECR ã« push ã™ã‚‹ã¨ã“ã‚ã¾ã§ã¯ ECS ã‚¿ã‚¹ã‚¯ã®å ´åˆã¨åŒã˜ãªã®ã§ã€ãã®ã‚ãŸã‚Šã®å…±é€šåŒ– (ã‚‚ã—ãã¯ã»ã¼æµç”¨) ãŒã§ãã‚‹ã¨ã„ã†ã®ã‚‚å¬‰ã—ã„ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚\nã¨ã„ã†ã“ã¨ã§ã€ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã£ãŸ Lambda é–¢æ•°ã¯ã„ã„ãã€‚\nã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¦ Go Lambda é–¢æ•°ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ - AWS Lambda \u0026#160;\u0026#x21a9;\u0026#xfe0e;\nAWS Lambda ãƒ©ãƒ³ã‚¿ã‚¤ãƒ  API - AWS Lambda \u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-lambda-function-with-container-image/",
    "title": "ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã£ãŸ Lambda é–¢æ•°ã®ã‚ã‚Œã“ã‚Œ"
  },
  {
    "contents": "CloudFront ã‹ã‚‰ S3 ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶å¾¡ã™ã‚‹æ–¹æ³•ã¨ã—ã¦ Origin Access Identity (OAI) ã¨ã„ã†æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã—ãŸãŒã€ãã‚Œã«ä»£ã‚ã‚‹æ©Ÿèƒ½ã¨ã—ã¦ Origin Access Control (OAC) ã¨ã„ã†æ©Ÿèƒ½ãŒç™ºè¡¨ã•ã‚Œã¾ã—ãŸã€‚ä»Šå›ã¯ã€ AWS CLI ã‚’ä½¿ã£ã¦ OAI ã‚’åˆ©ç”¨ã—ã¦ã„ãŸã‚‚ã®ã‚’ OAC ã«ç§»è¡Œã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦æ›¸ãã¾ã™ã€‚\nç§»è¡Œæ–¹æ³• AWS CLI ã§ã‚„ã£ã¦ã„ã 1. å¯¾è±¡ã® S3 Bucket ã® Bucket Policy ã«ã€ Origin Access Identity ã® Statement ã‚’æ®‹ã—ãŸã¾ã¾ Origin Access Control ã® Statement ã‚’è¿½è¨˜ã™ã‚‹ ç¾åœ¨ã® Bucket Policy ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å–å¾—ã™ã‚‹ Origin Access Control ã«ã‚ˆã‚‹åˆ¶å¾¡ã® Statement ã‚’è¿½è¨˜ã™ã‚‹ Bucket Policy ã‚’æ›´æ–°ã™ã‚‹ 2. Origin Access Control ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹ always (æ¨å¥¨è¨­å®š) never no-override 3. å¯¾è±¡ã® Distribution ã«è¨­å®šã™ã‚‹ 4. å¯¾è±¡ã® S3 Bucket ã® Bucket Policy ã‹ã‚‰ Origin Access Identity ã® Statement ã‚’å‰Šé™¤ã™ã‚‹ 5. ä¸è¦ã«ãªã£ãŸ Origin Access Identity ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’å‰Šé™¤ã™ã‚‹ ã¾ã¨ã‚ ç§»è¡Œæ–¹æ³• åŸºæœ¬çš„ã«ã¯ä¸‹è¨˜ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«æ²¿ã£ã¦ç§»è¡Œã—ã¦ã„ãã¾ã™ã€‚\nRestricting access to an Amazon S3 origin - Amazon CloudFront å…·ä½“çš„ãªæ‰‹é †ã¨ã—ã¦ã¯ã€\nå¯¾è±¡ã® S3 Bucket ã® Bucket Policy ã«ã€ Origin Access Identity ã® Statement ã‚’æ®‹ã—ãŸã¾ã¾ Origin Access Control ã® Statement ã‚’è¿½è¨˜ã™ã‚‹ Origin Access Control ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹ å¯¾è±¡ã® Distribution ã«è¨­å®šã™ã‚‹ å¯¾è±¡ã® S3 Bucket ã® Bucket Policy ã‹ã‚‰ Origin Access Identity ã® Statement ã‚’å‰Šé™¤ã™ã‚‹ ä¸è¦ã«ãªã£ãŸ Origin Access Identity ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’å‰Šé™¤ã™ã‚‹ ã¨ãªã‚Šã¾ã™ã€‚\nAWS CLI ã§ã‚„ã£ã¦ã„ã ä»Šå›ã¯ã€ä¸Šè¨˜ã®æ‰‹é †ã‚’ AWS CLI ã‚’ä½¿ã£ã¦ã‚„ã£ã¦ã¿ã¾ã™ã€‚\nå¿…è¦ãª AWS CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€ v1 ã¯ 1.25.60 ä»¥é™ã€ v2 ã¯ 2.7.27 ä»¥é™ã§ã™ã€‚ä»Šå›ã¯ v2 ã‚’ä½¿ã„ã¾ã™ã€‚\nâ¯ aws --version aws-cli/2.7.27 Python/3.9.11 Darwin/21.6.0 exe/x86_64 prompt/off ä½œæ¥­ã™ã‚‹ã«ã‚ãŸã£ã¦ã¯ã€å¯¾è±¡ã® S3 Bucket ã®åå‰ã¨ CloudFront ã® Distribution ID ãŒå¿…è¦ãªã®ã§ã€ãã‚Œãã‚Œç’°å¢ƒå¤‰æ•°ã«è¨­å®šã—ã¦ãŠãã¾ã™ã€‚\nBUCKET_NAME=\u0026#39;your-bucket-name\u0026#39; DIST_ID=\u0026#39;your-distribution-id\u0026#39; 1. å¯¾è±¡ã® S3 Bucket ã® Bucket Policy ã«ã€ Origin Access Identity ã® Statement ã‚’æ®‹ã—ãŸã¾ã¾ Origin Access Control ã® Statement ã‚’è¿½è¨˜ã™ã‚‹ ç¾åœ¨ã® Bucket Policy ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å–å¾—ã™ã‚‹ aws s3api get-bucket-policy \\ --bucket \u0026#34;${BUCKET_NAME}\u0026#34; \\ --output text \\ | jq . \u0026gt; bucket-policy.json OAI ã«ã‚ˆã‚‹åˆ¶å¾¡ã® Statement ã¨ã—ã¦ä¸‹è¨˜ã®ã‚ˆã†ãªè¨­å®šãŒã•ã‚Œã¦ã„ã¾ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;OriginAccessIdentityStatement\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;AWS\u0026#34;: \u0026#34;arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity your-distribution-id\u0026#34; }, \u0026#34;Action\u0026#34;: [ \u0026#34;s3:GetObject\u0026#34;, \u0026#34;s3:ListBucket\u0026#34; ], \u0026#34;Resource\u0026#34;: [ \u0026#34;arn:aws:s3:::your-bucket-name/*\u0026#34;, \u0026#34;arn:aws:s3:::your-bucket-name\u0026#34; ] } ] } Origin Access Control ã«ã‚ˆã‚‹åˆ¶å¾¡ã® Statement ã‚’è¿½è¨˜ã™ã‚‹ ä¸Šè¨˜ã® JSON ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ç·¨é›†ã—ã¾ã™ã€‚(Distribution ARN ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã¯èª­ã¿æ›¿ãˆã¦ãã ã•ã„)\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ + { + \u0026#34;Sid\u0026#34;: \u0026#34;OriginAccessControlStatement\u0026#34;, + \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, + \u0026#34;Principal\u0026#34;: { + \u0026#34;Service\u0026#34;: \u0026#34;cloudfront.amazonaws.com\u0026#34; + }, + \u0026#34;Action\u0026#34;: [ + \u0026#34;s3:GetObject\u0026#34;, + \u0026#34;s3:ListBucket\u0026#34; + ], + \u0026#34;Resource\u0026#34;: [ + \u0026#34;arn:aws:s3:::your-bucket-name/*\u0026#34;, + \u0026#34;arn:aws:s3:::your-bucket-name\u0026#34; + ], + \u0026#34;Condition\u0026#34;: { + \u0026#34;StringEquals\u0026#34;: { + \u0026#34;AWS:SourceArn\u0026#34;: \u0026#34;arn:aws:cloudfront::000000000000:distribution/your-distribution-id\u0026#34; + } + } + }, { \u0026#34;Sid\u0026#34;: \u0026#34;OriginAccessIdentityStatement\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;AWS\u0026#34;: \u0026#34;arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity your-origin-access-identity-id\u0026#34; }, \u0026#34;Action\u0026#34;: [ \u0026#34;s3:GetObject\u0026#34;, \u0026#34;s3:ListBucket\u0026#34; ], \u0026#34;Resource\u0026#34;: [ \u0026#34;arn:aws:s3:::your-bucket-name/*\u0026#34;, \u0026#34;arn:aws:s3:::your-bucket-name\u0026#34; ] } ] } Bucket Policy ã‚’æ›´æ–°ã™ã‚‹ aws s3api put-bucket-policy \\ --bucket \u0026#34;${BUCKET_NAME}\u0026#34; \\ --policy file://bucket-policy.json å•é¡Œãªã„ã¯ãšã§ã™ãŒã€ä¸€å¿œã“ã®æ™‚ç‚¹ã§ã¡ã‚ƒã‚“ã¨ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚\n2. Origin Access Control ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹ Origin Access Control ãƒªã‚½ãƒ¼ã‚¹ã®ä½œæˆã«ã¯ã€æ–°ãŸã«è¿½åŠ ã•ã‚ŒãŸ cloudfront ã‚³ãƒãƒ³ãƒ‰ã® create-origin-access-control ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚\nâ¯ aws cloudfront create-origin-access-control help ... SYNOPSIS create-origin-access-control --origin-access-control-config \u0026lt;value\u0026gt; [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] [--debug] [--endpoint-url \u0026lt;value\u0026gt;] [--no-verify-ssl] [--no-paginate] [--output \u0026lt;value\u0026gt;] [--query \u0026lt;value\u0026gt;] [--profile \u0026lt;value\u0026gt;] [--region \u0026lt;value\u0026gt;] [--version \u0026lt;value\u0026gt;] [--color \u0026lt;value\u0026gt;] [--no-sign-request] [--ca-bundle \u0026lt;value\u0026gt;] [--cli-read-timeout \u0026lt;value\u0026gt;] [--cli-connect-timeout \u0026lt;value\u0026gt;] [--cli-binary-format \u0026lt;value\u0026gt;] [--no-cli-pager] [--cli-auto-prompt] [--no-cli-auto-prompt] ... ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒã„ãã¤ã‹ã‚ã‚Šã¾ã™ãŒã€ä»Šå›ã¯ yaml ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ã¦ --cli-input-yaml ã§æ¸¡ã—ã¦ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œã£ã¦ã¿ã¾ã™ã€‚\nãã®ãŸã‚ã«ã€ãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹ yaml ã‚’ç”Ÿæˆã—ã¾ã™ã€‚\naws cloudfront create-origin-access-control \\ --generate-cli-skeleton yaml-input \u0026gt; oac.yaml ä¸­èº«ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã€å¿…é ˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ã¿è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚\nOriginAccessControlConfig: # [REQUIRED] Contains the origin access control. Name: \u0026#39;\u0026#39; # [REQUIRED] A name to identify the origin access control. Description: \u0026#39;\u0026#39; # [REQUIRED] A description of the origin access control. SigningProtocol: sigv4 # [REQUIRED] The signing protocol of the origin access control, which determines how CloudFront signs (authenticates) requests. Valid values are: sigv4. SigningBehavior: never # [REQUIRED] Specifies which requests CloudFront signs (adds authentication information to). Valid values are: never, always, no-override. OriginAccessControlOriginType: s3 # [REQUIRED] The type of origin that this origin access control is for. Valid values are: s3. ãªã®ã§ã€ä¸­èº«ã‚’åŸ‹ã‚ã¾ã™ã€‚\nOriginAccessControlConfig: Name: \u0026#39;OriginAccessControlForMyBlog\u0026#39; Description: \u0026#39;Origin Access Control for my blog.\u0026#39; SigningProtocol: sigv4 SigningBehavior: always OriginAccessControlOriginType: s3 Name, Description ã«ã¤ã„ã¦ã¯ä»»æ„ã®æ–‡å­—åˆ—ã‚’å…¥ã‚Œã¾ã™ã€‚\nSigningProtocol ã«ã¯ãã®ã¾ã¾ sigv4 ã‚’ã€ OriginAccessControlOriginType ã«ã‚‚ãã®ã¾ã¾ s3 ã‚’å…¥ã‚Œã¾ã™ã€‚\nSigningBehavior ã«ã¤ã„ã¦ã¯ã€ä¸‹è¨˜å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® Advanced settings for origin access control ã®éƒ¨åˆ†ã‚’ç¢ºèªã—ã€ always, never, no-override ã®ã„ãšã‚Œã‹ã‚’å…¥ã‚Œã¾ã™ã€‚\nRestricting access to an Amazon S3 origin | Advanced settings for origin access control - Amazon CloudFront ãã‚Œãã‚Œã®è¨­å®šã«ã¤ã„ã¦ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å†…å®¹ã‚’è¦ç´„ã—ã¦ã¿ã¾ã™ã€‚\nalways (æ¨å¥¨è¨­å®š) CloudFront ãŒ Origin (S3 Bucket) ã«é€ä¿¡ã™ã‚‹ã™ã¹ã¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ç½²åã—ã¾ã™ã€‚\nnever CloudFront ãŒ Origin (S3 Bucket) ã«é€ä¿¡ã™ã‚‹ã™ã¹ã¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ç½²åã—ã¾ã›ã‚“ã€‚ã“ã‚Œã¯ã¤ã¾ã‚Šã€ã“ã® Origin Access Control ã‚’ä½¿ç”¨ã™ã‚‹ Distribution ã®ã™ã¹ã¦ã® Origin ã«å¯¾ã—ã¦ ã‚¢ã‚¯ã‚»ã‚¹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚’ã‚ªãƒ•ã«ã—ã¾ã™ã€‚\nã“ã®è¨­å®šã‚’ã™ã‚‹å ´åˆã€ Originã¨ãªã‚‹ S3 Bucket ã«ã¯ Public ã«å…¬é–‹ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚å…¬é–‹ã•ã‚Œã¦ã„ãªã„ Bucket ã«å¯¾ã—ã¦ã“ã®è¨­å®šã‚’è¡Œã†ã¨ã€ CloudFront ã¯ Origin ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããšã€ Viewer ã«ã¯ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã—ã¾ã™ã€‚\nno-override Viewer ãƒªã‚¯ã‚¨ã‚¹ãƒˆã« Authorization ãƒ˜ãƒƒãƒ€ãŒå­˜åœ¨ã™ã‚‹å ´åˆã¯ãã‚Œã‚’ Origin ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ä½¿ç”¨ã—ã€å«ã¾ã‚Œã¦ã„ãªã„å ´åˆã¯ CloudFront ãŒç½²åã—ã¾ã™ã€‚\nã“ã®è¨­å®šã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€ Viewer ã‹ã‚‰ã® Authorization ãƒ˜ãƒƒãƒ€ã‚’ Origin ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ä½¿ç”¨ã™ã‚‹ãŸã‚ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒãƒªã‚·ãƒ¼ã§ Authorization ãƒ˜ãƒƒãƒ€ã‚’è¨±å¯ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nä»¥ä¸Šã‹ã‚‰ã€åŸºæœ¬çš„ã«ã¯ always ã§è¨­å®šã—ã¦ãŠã‘ã°è‰¯ã•ãã†ã§ã™ã€‚\nä½œã£ãŸ yaml ã‚’ã‚‚ã¨ã«ã€ Origin Access Control ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚ä½œæˆçµæœã¨ã—ã¦ ID ãŒå¾Œã«å¿…è¦ã«ãªã‚‹ã®ã§æ§ãˆã¦ãŠãã¾ã™ã€‚\naws cloudfront create-origin-access-control \\ --cli-input-yaml file://oac.yaml \\ --query \u0026#39;OriginAccessControl.Id\u0026#39; \\ --output text 3. å¯¾è±¡ã® Distribution ã«è¨­å®šã™ã‚‹ ç¶šã„ã¦ã€ä½œæˆã—ãŸ Origin Access Control ã‚’ Distribution ã«è¨­å®šã—ã¾ã™ã€‚ ã“ã‚Œã¯ cloudfront ã® update-distribution ã¨ã„ã†ã€ã©ãƒ‡ã‚«ã‚¤æ›´æ–°ã‚’è¡Œã†ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚\nã¾ãšã¯ç¾çŠ¶ã® Distribution ã®è¨­å®šã‚’ yaml ã§å–å¾—ã—ã€ä¸­èº«ã‚’å¤‰æ›´ã—ã¦ update-distribution ã§æŠ•ã’ã¾ã™ã€‚\naws cloudfront get-distribution-config \\ --id \u0026#34;${DIST_ID}\u0026#34; \\ --output yaml \\ \u0026gt; dist-config.yaml 100 è¡Œã‚’è¶…ãˆã‚‹ yaml ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã€ãã®ä¸­ã® Origins ã®è¨­å®šã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚ã“ã®ã¨ãã€ Origin Access Identity ã®ãƒªã‚½ãƒ¼ã‚¹ã¯å¾Œã«å‰Šé™¤ã™ã‚‹ã®ã§ã€ your-oai-id ã®éƒ¨åˆ†ã‚’ç’°å¢ƒå¤‰æ•°ã«è¨­å®šã—ã¦ãŠãã¾ã™ã€‚ (OAI_ID='your-oai-id')\n+ OriginAccessControlId: your-oac-id S3OriginConfig: - OriginAccessIdentity: origin-access-identity/cloudfront/your-oai-id + OriginAccessIdentity: \u0026#39;\u0026#39; ã¾ãŸã€ ETag ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã® å€¤ã¯ãã®ã¾ã¾ã§ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã‚’ IfMatch ã«å¤‰æ›´ã—ã¾ã™ã€‚\n- ETag: HOGEHOGEVALUE + IfMatch: HOGEHOGEVALUE ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§æ›´æ–°ã—ã¾ã™ã€‚\naws cloudfront update-distribution \\ --id \u0026#34;${DIST_ID}\u0026#34; \\ --cli-input-yaml file://dist-config.yaml ã“ã®æ™‚ç‚¹ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¦ã„ã‚Œã°ã€æ—¢ã« Origin Access Control ã«ã‚ˆã‚‹åˆ¶å¾¡ã¸ã®ç§»è¡Œã¯æˆåŠŸã—ã¦ã„ã¾ã™ã€‚\n4. å¯¾è±¡ã® S3 Bucket ã® Bucket Policy ã‹ã‚‰ Origin Access Identity ã® Statement ã‚’å‰Šé™¤ã™ã‚‹ Bucket Policy å†…ã® Origin Access Identity ã® Statement ã¯ä¸è¦ã«ãªã£ãŸã®ã§å‰Šé™¤ã—ã¾ã™ã€‚\n1 ã®æ‰‹é †ã§ä½¿ã£ãŸ bucket-policy.json ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«å¤‰æ›´ã—ã€ put-bucket-policy ã§æ›´æ–°ã—ã¾ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;OriginAccessControlStatement\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;Service\u0026#34;: \u0026#34;cloudfront.amazonaws.com\u0026#34; }, \u0026#34;Action\u0026#34;: [ \u0026#34;s3:GetObject\u0026#34;, \u0026#34;s3:ListBucket\u0026#34; ], \u0026#34;Resource\u0026#34;: [ \u0026#34;arn:aws:s3:::your-bucket-name/*\u0026#34;, \u0026#34;arn:aws:s3:::your-bucket-name\u0026#34; ], \u0026#34;Condition\u0026#34;: { \u0026#34;StringEquals\u0026#34;: { \u0026#34;AWS:SourceArn\u0026#34;: \u0026#34;arn:aws:cloudfront::000000000000:distribution/your-distribution-id\u0026#34; } } - }, - { - \u0026#34;Sid\u0026#34;: \u0026#34;OriginAccessIdentityStatement\u0026#34;, - \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, - \u0026#34;Principal\u0026#34;: { - \u0026#34;AWS\u0026#34;: \u0026#34;arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity your-origin-access-identity-id\u0026#34; - }, - \u0026#34;Action\u0026#34;: [ - \u0026#34;s3:GetObject\u0026#34;, - \u0026#34;s3:ListBucket\u0026#34; - ], - \u0026#34;Resource\u0026#34;: [ - \u0026#34;arn:aws:s3:::your-bucket-name/*\u0026#34;, - \u0026#34;arn:aws:s3:::your-bucket-name\u0026#34; - ] } ] } aws s3api put-bucket-policy \\ --bucket \u0026#34;${BUCKET_NAME}\u0026#34; \\ --policy file://bucket-policy.json 5. ä¸è¦ã«ãªã£ãŸ Origin Access Identity ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’å‰Šé™¤ã™ã‚‹ ä¸è¦ã«ãªã£ãŸ Origin Access Identity ã®ãƒªã‚½ãƒ¼ã‚¹ã¯ cloudfront ã‚³ãƒãƒ³ãƒ‰ã® delete-cloud-front-origin-access-identity ã‚³ãƒãƒ³ãƒ‰ã§å‰Šé™¤ã—ã¾ã™ã€‚\naws cloudfront delete-cloud-front-origin-access-identity \\ --id \u0026#34;${OAI_ID}\u0026#34; \\ --if-match $( aws cloudfront get-cloud-front-origin-access-identity \\ --id ${OAI_ID} \\ --query \u0026#39;ETag\u0026#39; \\ --output text) ã¾ã¨ã‚ Amazon CloudFront ã®æ–°ã—ã„ã‚¢ã‚¯ã‚»ã‚¹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«æ©Ÿèƒ½ã§ã‚ã‚‹ Origin Access Control ã¸ã®ç§»è¡Œã‚’ AWS CLI ã§ã‚„ã£ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nTerraform ã‚‚æ¬¡ã® 4.29.0 ã§å¯¾å¿œã•ã‚Œãã†ãªã®ã§ã€å¯¾å¿œã•ã‚ŒãŸã‚‰è©¦ã—ã¦ã¿ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-migrate-cloudfront-oai-to-oac/",
    "title": "AWS CLI ã§ CloudFront ã® OAI ã‚’ OAC ã«ç§»è¡Œã™ã‚‹"
  },
  {
    "contents": "æœ€è¿‘ Go è¨€èªã§ AWS CDK ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ã™ãŒã€ L1 Constructs (low-level constructs) ã§ã®è¨˜è¿°ã«é–¢ã™ã‚‹æƒ…å ±ãŒè¦‹ã¤ã‘ã‚‰ã‚Œãšè‹¦æˆ¦ã—ãŸã®ã§ã€ãƒ¡ãƒ¢ã¨ã—ã¦æ®‹ã—ã¦ãŠãã¾ã™ã€‚\nç›®æ¬¡ å‰æ L1 Constructs ãŒå¿…è¦ãªç†ç”± ãƒªã‚½ãƒ¼ã‚¹æŒ‡å®šã—ãªã„ã€ã¾ãŸã¯å›ºå®šå€¤ã§æŒ‡å®šã™ã‚‹å ´åˆ ç‰¹å®šã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’æŒã¤ Stack ã‚’å¯¾è±¡ãƒªã‚½ãƒ¼ã‚¹ã¨ã™ã‚‹å ´åˆ L1 Constructs ã‚’ä½¿ç”¨ã—ãŸãƒªã‚½ãƒ¼ã‚¹ã®å®šç¾©æ–¹æ³• ã¾ã¨ã‚ å‰æ ä»Šå›ã¯ã€å…ˆæ—¥ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸ CloudFormation Stack ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ SNS çµŒç”±ã§ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ã™ã‚‹æ§‹æˆã‚’ AWS CDK v2 (Go) ã§æ§‹ç¯‰ã—ã¦ã¿ã¾ã™ã€‚\nä½œæˆã™ã‚‹ä¸»ãªãƒªã‚½ãƒ¼ã‚¹ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\nSNS::Topic SNS::TopicPolicy Events::Rule ã¾ãŸã€é€šçŸ¥ã•ã‚Œã‚‹ã®ã¯ ç‰¹å®šã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’æŒã¤ Stack ã®ã¿ ã‚’å¯¾è±¡ã«ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nL1 Constructs ãŒå¿…è¦ãªç†ç”± ä»Šå›ã®æ§‹æˆã§ L1 Constructs ãŒå¿…è¦ã«ãªã‚‹ç†ç”±ã¯ã€ EventPattern ã§ Resources ã‚’æŒ‡å®šã™ã‚‹éš›ã«ã€ prefix æ¼”ç®—å­ã‚’ä½¿ç”¨ã—ãŸã„ã‹ã‚‰ã§ã™ã€‚\nEventPattern ã§ã¯ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ (*) ã«ã‚ˆã‚‹å€¤ã®ãƒãƒƒãƒãŒã§ããš1ã€ä»Šå›ã®è¦ä»¶ã§ã‚ã‚‹ ç‰¹å®šã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’æŒã¤ Stack ã®ã¿ ã‚’å¯¾è±¡ã¨ã—ãŸã„å ´åˆã¯ prefix æ¼”ç®—å­ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚2 ã“ã® prefix æ¼”ç®—å­ã‚’ä½¿ç”¨ã™ã‚‹ã‹å¦ã‹ã§ã€ L1 Constructs ã«ã‚ˆã‚‹å®Ÿè£…ãŒå¿…è¦ã‹å¦ã‹ãŒæ±ºã¾ã‚Šã¾ã™ã€‚\nå…·ä½“çš„ã«ã©ã®ã‚ˆã†ãªé•ã„ã«ãªã‚‹ã®ã‹è¦‹ã¦ã„ãã¾ã™ã€‚\nãƒªã‚½ãƒ¼ã‚¹æŒ‡å®šã—ãªã„ã€ã¾ãŸã¯å›ºå®šå€¤ã§æŒ‡å®šã™ã‚‹å ´åˆ ã¾ãšã€ EventPattern ã¨ã—ã¦æŒ‡å®šã™ã‚‹ JSON ã®ã‚¹ã‚­ãƒ¼ãƒãŠã‚ˆã³è¨˜è¿°æ–¹æ³•ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n{ \u0026#34;detail-type\u0026#34;: [ \u0026#34;CloudFormation Resource Status Change\u0026#34;, \u0026#34;CloudFormation Stack Status Change\u0026#34;, \u0026#34;CloudFormation Drift Detection Status Change\u0026#34; ], \u0026#34;resources\u0026#34;: [ \u0026#34;arn:aws:cloudformation:ap-northeast-1:000000000000:stack/TestStack_Red\u0026#34;, \u0026#34;arn:aws:cloudformation:ap-northeast-1:000000000000:stack/TestStack_Green\u0026#34;, \u0026#34;arn:aws:cloudformation:ap-northeast-1:000000000000:stack/TestStack_Blue\u0026#34; ] } ä¸€æ–¹ã€ AWS CDK (Go) ã® L2 Constructs ã§ EventPattern ã®å®šç¾©ã«ä½¿ç”¨ã™ã‚‹ awsevents.EventPattern æ§‹é€ ä½“ã®å®šç¾©ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚(ä¸Šè¨˜ã® JSON ã¨å¯¾å¿œã™ã‚‹éƒ¨åˆ†ã®ã¿ã€‚å…¨ä½“ã¯ pkg.go.dev ã‚’å‚ç…§ã€‚)\ntype EventPattern struct { DetailType *[]*string `field:\u0026#34;optional\u0026#34; json:\u0026#34;detailType\u0026#34; yaml:\u0026#34;detailType\u0026#34;` Resources *[]*string `field:\u0026#34;optional\u0026#34; json:\u0026#34;resources\u0026#34; yaml:\u0026#34;resources\u0026#34;` } Resources ã¯ *string ã®ã‚¹ãƒ©ã‚¤ã‚¹ã¨ã—ã¦å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€è¨­å®šã—ãŸã„ JSON ã®ã‚¹ã‚­ãƒ¼ãƒã¨ä¸€è‡´ã—ã¦ã„ã¾ã™ã€‚ãªã®ã§ã€å›ºå®šã®ãƒªã‚½ãƒ¼ã‚¹ã‚’å¯¾è±¡ã¨ã™ã‚‹ã€ã‚‚ã—ãã¯ãƒªã‚½ãƒ¼ã‚¹ã‚’æŒ‡å®šã—ãªã„å ´åˆã¯ L2 Constructs ã§å®šç¾©ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ (å¯¾è±¡ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’æŒ‡å®šã—ãªã„å ´åˆã¯ EventPattern.Resources ã‚’çœç•¥ã™ã‚Œã°ã‚ˆã„ã ã‘ã§ã™)\nç‰¹å®šã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’æŒã¤ Stack ã‚’å¯¾è±¡ãƒªã‚½ãƒ¼ã‚¹ã¨ã™ã‚‹å ´åˆ ç‰¹å®šã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’æŒã¤ Stack ã‚’å¯¾è±¡ãƒªã‚½ãƒ¼ã‚¹ã¨ã™ã‚‹å ´åˆã€ EventPattern ã® JSON ã¯ prefix æ¼”ç®—å­ã‚’ä½¿ç”¨ã—ã¦ä¸‹è¨˜ã®ã‚ˆã†ãªè¨˜è¿°ã«ãªã‚Šã¾ã™ã€‚\n{ \u0026#34;detail-type\u0026#34;: [ \u0026#34;CloudFormation Resource Status Change\u0026#34;, \u0026#34;CloudFormation Stack Status Change\u0026#34;, \u0026#34;CloudFormation Drift Detection Status Change\u0026#34; ], \u0026#34;resources\u0026#34;: [ { \u0026#34;prefix\u0026#34;: \u0026#34;arn:aws:cloudformation:ap-northeast-1:000000000000:stack/TestStack\u0026#34; } ] } prefix æ¼”ç®—å­ã‚’ä½¿ã‚ãªã„å ´åˆã¨ã¯ç•°ãªã‚Šã€ resources é…åˆ—ã®ä¸­èº«ãŒæ–‡å­—åˆ—ã§ã¯ãªãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ãªã£ã¦ã„ã¾ã™ã€‚ãªã®ã§ã€ L2 Constructs ã§ã¯ã“ã® JSON ã‚’è¡¨ç¾ã™ã‚‹ã“ã¨ãŒã§ããšã€ L1 Constructs ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒå‡ºã¦ãã¾ã™ã€‚\nL1 Constructs ã‚’ä½¿ç”¨ã—ãŸãƒªã‚½ãƒ¼ã‚¹ã®å®šç¾©æ–¹æ³• ã§ã¯ã“ã“ã§æœ¬é¡Œã®ã€ AWS CDK (Go) ã§ L1 Constructs ã‚’ä½¿ç”¨ã—ã¦ãƒªã‚½ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦è¦‹ã¦ã„ãã¾ã™ã€‚\nçµè«–ã¨ã—ã¦ã€ *map[string]interface{} å‹ã§å®šç¾©ã—ã¾ã™ã€‚\nå…ˆã»ã©ã® prefix æ¼”ç®—å­ã‚’ä½¿ç”¨ã—ãŸ JSON ã‚’è¡¨ç¾ã™ã‚‹ã«ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ã« EventPattern ã‚’å®šç¾©ã—ã¾ã™ã€‚\neventPattern := \u0026amp;map[string]interface{}{ \u0026#34;detail-type\u0026#34;: \u0026amp;[]*string{ jsii.String(\u0026#34;CloudFormation Resource Status Change\u0026#34;), jsii.String(\u0026#34;CloudFormation Stack Status Change\u0026#34;), jsii.String(\u0026#34;CloudFormation Drift Detection Status Change\u0026#34;), }, \u0026#34;resources\u0026#34;: \u0026amp;[]interface{}{ \u0026amp;map[string]*string{ \u0026#34;prefix\u0026#34;: jsii.String(\u0026#34;arn:aws:cloudformation:ap-northeast-1:000000000000:stack/TestStack\u0026#34;), }, }, } L1 Constructs ã ã¨ awsevents.CfnRuleProps.EventPattern ãŒ interface{} å‹ã«ãªã‚‹ã®ã§ã€ *map[string]interface{} å‹ã®ã‚¹ãƒ©ã‚¤ã‚¹ã¨ã—ã¦å®Ÿè£…ã™ã‚‹ã“ã¨ã§å˜ç´”ãªæ–‡å­—åˆ—ã‚„ prefix ãªã©ã®æ¼”ç®—å­ã‚’ä½¿ç”¨ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹ã§ã®æŒ‡å®šãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚\nã“ã‚Œã‚’ awsevents.CfnRule ã®å®šç¾©ã¨åˆã‚ã›ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nawsevents.NewCfnRule(scope, jsii.String(\u0026#34;CloudFormationEventsRule\u0026#34;), \u0026amp;awsevents.CfnRuleProps{ Name: jsii.String(util.ToKebabCase(\u0026#34;cloud-formation-events-rule\u0026#34;)), EventBusName: jsii.String(\u0026#34;default\u0026#34;), State: jsii.String(\u0026#34;ENABLED\u0026#34;), EventPattern: \u0026amp;map[string]interface{}{ \u0026#34;detail-type\u0026#34;: \u0026amp;[]*string{ jsii.String(\u0026#34;CloudFormation Resource Status Change\u0026#34;), jsii.String(\u0026#34;CloudFormation Stack Status Change\u0026#34;), jsii.String(\u0026#34;CloudFormation Drift Detection Status Change\u0026#34;), }, \u0026#34;region\u0026#34;: \u0026amp;[]*string{ region, }, \u0026#34;resources\u0026#34;: \u0026amp;[]interface{}{ \u0026amp;map[string]*string{ \u0026#34;prefix\u0026#34;: jsii.String(\u0026#34;arn:aws:cloudformation:ap-northeast-1:000000000000:stack/TestStack\u0026#34;), }, }, }, Targets: \u0026amp;[]interface{}{ \u0026amp;map[string]*string{ \u0026#34;arn\u0026#34;: jsii.String(\u0026#34;arn:aws:sns:ap-northeast-1:000000000000:TestTopic\u0026#34;), \u0026#34;id\u0026#34;: jsii.String(\u0026#34;Target0\u0026#34;), }, }, }) ã¾ã¨ã‚ AWS CDK v2 ã§ Go è¨€èªã‚’ä½¿ç”¨ã—ãŸå ´åˆã® L1 Constructs ã«ã‚ˆã‚‹ãƒªã‚½ãƒ¼ã‚¹ã®å®šç¾©æ–¹æ³•ã«ã¤ã„ã¦æ›¸ãã¾ã—ãŸã€‚\nv2 ã§ Go ãŒã‚µãƒãƒ¼ãƒˆã•ã‚ŒãŸã¨ã¯ã„ãˆ TypeScript ã§ã®åˆ©ç”¨ãŒå¤§å¤šæ•°ã®ã‚ˆã†ã§ã€ãªã‹ãªã‹ Go ã‚’åˆ©ç”¨ã—ãŸå ´åˆã®æƒ…å ±ãŒãªãå¤§å¤‰ã ã£ãŸã‚“ã§ã™ãŒã€å®Œå…¨ã«ç†è§£ã—ãŸæ°—ãŒã—ã¾ã™ã€‚\nä»Šå›ã®å†…å®¹ã‚’ä½¿ã£ãŸãã®ä»–ã®ãƒªã‚½ãƒ¼ã‚¹ã‚‚åˆã‚ã›ãŸå®Ÿè£…ä¾‹ã¯ä¸‹è¨˜ãƒªãƒã‚¸ãƒˆãƒªã«ç½®ã„ã¦ã„ã¾ã™ã®ã§ã€å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚\naws-cdk-go-examples/cloudformation-events-to-slack at main Â· michimani/aws-cdk-go-examples EventBridge ãƒ«ãƒ¼ãƒ«ç”¨ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½œæˆã™ã‚‹ \u0026#160;\u0026#x21a9;\u0026#xfe0e;\nä»–ã«ã‚‚æ•°å€¤ã®ç¯„å›²ã«ã‚ˆã‚‹ãƒãƒƒãƒãªã©ãŒå¯èƒ½ Amazon EventBridge ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ - Amazon EventBridge \u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-use-aws-cdk-l1-constructs-with-golang/",
    "title": "AWS CDK v2 (Go) ã§ L1 Constructs ã‚’ä½¿ã†"
  },
  {
    "contents": "Terraform ã¨OpenSearch CLI ã§ OpenSearch Service ã«å…¥é–€ã—ã¦ã¿ãŸã®ã§ã€ãã®ãƒ¡ãƒ¢ã§ã™ã€‚\nç›®æ¬¡ ã‚„ã‚‹ã“ã¨ ã¨ã‚Šã‚ãˆãšè©¦ã—ãŸã„ Terraform ã§ OpenSearch Service ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å®šç¾©ã™ã‚‹ ãƒ‰ãƒ¡ã‚¤ãƒ³ ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒãƒªã‚·ãƒ¼ variables.tf ã‚’ä½œæˆã—ã¦ apply OpenSearch CLI ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹ OpenSearch CLI ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­å®š Read Only ãªãƒ­ãƒ¼ãƒ«ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã¦ã¿ã‚‹ Write ã‚‚è¨±å¯ã•ã‚Œã¦ãŸãƒ­ãƒ¼ãƒ«ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã¦ã¿ã‚‹ ã¾ã¨ã‚ ã‚„ã‚‹ã“ã¨ Terraform ã§ OpenSearch Service ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å®šç¾©ã™ã‚‹ ã‚¨ãƒ³ã‚¸ãƒ³ã¯ OpenSearch v1.x ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒãƒªã‚·ãƒ¼ã§ OpenSearch ã«å¯¾ã—ã¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’åˆ¶é™ã™ã‚‹ æ§‹ç¯‰ã—ãŸ OpenSearch ã‚¯ãƒ©ã‚¹ã‚¿ã« OpenSearch CLI ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹ ç•°ãªã‚‹ IAM ãƒ­ãƒ¼ãƒ«ã§èªè¨¼ã—ã¦ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒãƒªã‚·ãƒ¼ã®æŒ™å‹•ã‚’ç¢ºèªã™ã‚‹ ã¨ã‚Šã‚ãˆãšè©¦ã—ãŸã„ ä»¥é™ã¯â†‘ã®å†…å®¹ã‚’é †ç•ªã«æ›¸ã„ã¦ã„ãã ã‘ãªã®ã§ã€ã‚‚ã—å®Ÿéš›ã«è©¦ã—ãŸã„ã¨ã„ã†æ–¹ã¯ä¸‹è¨˜ãƒªãƒã‚¸ãƒˆãƒªã‚’ clone ã—ã¦è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚ terraform/README.md ã‚’èª­ã‚“ã§ã‚‚ã‚‰ãˆã‚Œã°è«¸ã€…è©¦ã›ã¾ã™ã€‚\nmichimani/get-started-opensearch: Hello OpenSearch. Terraform ã§ OpenSearch Service ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å®šç¾©ã™ã‚‹ ä¸‹è¨˜ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚è€ƒã«ã€ OpenSearch Service ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å®šç¾©ã—ã¾ã™ã€‚\naws_opensearch_domain | Resources | hashicorp/aws | Terraform Registry ãƒ‰ãƒ¡ã‚¤ãƒ³ æœ€å°æ§‹æˆã ã¨ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™ã€‚\nresource \u0026#34;aws_opensearch_domain\u0026#34; \u0026#34;first_opensearch\u0026#34; { domain_name = \u0026#34;first-opensearch\u0026#34; engine_version = \u0026#34;OpenSearch_1.2\u0026#34; cluster_config { instance_type = \u0026#34;t3.small.search\u0026#34; } ebs_options { ebs_enabled = true volume_size = 10 } } OpenSearch Service ã§æŒ‡å®šã§ãã‚‹ã‚¨ãƒ³ã‚¸ãƒ³ã¯ aws opensearch list-versions ã§ç¢ºèªã§ãã¾ã™ã€‚2022/07/04 ç¾åœ¨ã ã¨ä¸‹è¨˜ã®ã‚¨ãƒ³ã‚¸ãƒ³ãŒæŒ‡å®šå¯èƒ½ã§ã™ã€‚\n{ \u0026#34;Versions\u0026#34;: [ \u0026#34;OpenSearch_1.2\u0026#34;, \u0026#34;OpenSearch_1.1\u0026#34;, \u0026#34;OpenSearch_1.0\u0026#34;, \u0026#34;Elasticsearch_7.10\u0026#34;, \u0026#34;Elasticsearch_7.9\u0026#34;, \u0026#34;Elasticsearch_7.8\u0026#34;, \u0026#34;Elasticsearch_7.7\u0026#34;, \u0026#34;Elasticsearch_7.4\u0026#34;, \u0026#34;Elasticsearch_7.1\u0026#34;, \u0026#34;Elasticsearch_6.8\u0026#34;, \u0026#34;Elasticsearch_6.7\u0026#34;, \u0026#34;Elasticsearch_6.5\u0026#34;, \u0026#34;Elasticsearch_6.4\u0026#34;, \u0026#34;Elasticsearch_6.3\u0026#34;, \u0026#34;Elasticsearch_6.2\u0026#34;, \u0026#34;Elasticsearch_6.0\u0026#34;, \u0026#34;Elasticsearch_5.6\u0026#34;, \u0026#34;Elasticsearch_5.5\u0026#34;, \u0026#34;Elasticsearch_5.3\u0026#34;, \u0026#34;Elasticsearch_5.1\u0026#34;, \u0026#34;Elasticsearch_2.3\u0026#34;, \u0026#34;Elasticsearch_1.5\u0026#34; ] } ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒãƒªã‚·ãƒ¼ ä»Šå›ã¯ã€æ§‹ç¯‰ã™ã‚‹ OpenSearch ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã«å¯¾ã—ã¦ Read (GET ã‚¢ã‚¯ã‚»ã‚¹) ã®ã¿å¯èƒ½ãª IAM ãƒ­ãƒ¼ãƒ«ã¨ Write (POST, PUT, DELETE ã‚¢ã‚¯ã‚»ã‚¹) ã‚‚å¯èƒ½ãª IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã—ã€ãã‚Œã‚‰ã«ã‚ˆã‚‹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚’è¡Œã†ãŸã‚ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒãƒªã‚·ãƒ¼ã‚’è¨­å®šã—ã¾ã™ã€‚ Terraform ã§ã®å®šç¾©ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nresource \u0026#34;aws_opensearch_domain_policy\u0026#34; \u0026#34;first_domain_policy\u0026#34; { domain_name = aws_opensearch_domain.first_opensearch.domain_name access_policies = \u0026lt;\u0026lt;POLICIES { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;AccessByAdministrator\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;AWS\u0026#34;: [ \u0026#34;arn:aws:iam::${data.aws_caller_identity.current.account_id}:role/demo/opensearch-admin\u0026#34; ] }, \u0026#34;Action\u0026#34;: [ \u0026#34;es:*\u0026#34; ], \u0026#34;Condition\u0026#34;: { \u0026#34;IpAddress\u0026#34;: { \u0026#34;aws:SourceIp\u0026#34;: [ \u0026#34;${var.my_ip}\u0026#34; ] } }, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:es:${data.aws_region.current.name}:${data.aws_caller_identity.current.account_id}:domain/first-opensearch/*\u0026#34; }, { \u0026#34;Sid\u0026#34;: \u0026#34;AccessByReadOnlyUser\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;AWS\u0026#34;: [ \u0026#34;arn:aws:iam::${data.aws_caller_identity.current.account_id}:role/demo/opensearch-read-only\u0026#34; ] }, \u0026#34;Action\u0026#34;: [ \u0026#34;es:ESHttpGet\u0026#34; ], \u0026#34;Condition\u0026#34;: { \u0026#34;IpAddress\u0026#34;: { \u0026#34;aws:SourceIp\u0026#34;: [ \u0026#34;${var.my_ip}\u0026#34; ] } }, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:es:${data.aws_region.current.name}:${data.aws_caller_identity.current.account_id}:domain/first-opensearch/*\u0026#34; } ] } POLICIES } opensearch-admin ã¨ã„ã†ãƒ­ãƒ¼ãƒ«ã«ã¯ es:* ã§ã™ã¹ã¦ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¨±å¯ã—ã€ opensearch-read-only ãƒ­ãƒ¼ãƒ«ã«ã¯ es:ESHttpGet ã§ GET ã‚¢ã‚¯ã‚»ã‚¹ã®ã¿è¨±å¯ã—ã¾ã™ã€‚ã¾ãŸã€ä»Šå›ã¯ Condition ã§ç‰¹å®šã® IP ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã®ã¿è¨±å¯ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nIAM ãƒ­ãƒ¼ãƒ«ã®æ–¹ã®å®šç¾©ã¯ã“ã¡ã‚‰ã€‚\nresource \u0026#34;aws_iam_role\u0026#34; \u0026#34;opensearch_ro_role\u0026#34; { name = \u0026#34;opensearch-read-only\u0026#34; path = \u0026#34;/demo/\u0026#34; assume_role_policy = \u0026lt;\u0026lt;POLICY { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;AWS\u0026#34;: \u0026#34;${var.iam_user_arn}\u0026#34; }, \u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34; } ] } POLICY } resource \u0026#34;aws_iam_role\u0026#34; \u0026#34;opensearch_admin_role\u0026#34; { name = \u0026#34;opensearch-admin\u0026#34; path = \u0026#34;/demo/\u0026#34; assume_role_policy = \u0026lt;\u0026lt;POLICY { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;AWS\u0026#34;: \u0026#34;${var.iam_user_arn}\u0026#34; }, \u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34; } ] } POLICY } ç‰¹å®šã® IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã—ã¦ä½¿ã†ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚ ${var.iam_user_arn} ã«ã¯ã€å®Ÿéš›ã«ã“ã‚Œã‚‰ã®ãƒ­ãƒ¼ãƒ«ã«ã‚¹ã‚¤ãƒƒãƒã™ã‚‹ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ã® ARN ã‚’ variable ã§æŒ‡å®šã—ã¾ã™ã€‚\nvariables.tf ã‚’ä½œæˆã—ã¦ apply variables.tf ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªå½¢ã§ä½œæˆã—ã¦ãŠãã¾ã™ã€‚\nvariable \u0026#34;my_ip\u0026#34; { default = \u0026#34;203.0.113.0\u0026#34; // Your machine\u0026#39;s global IP address. } variable \u0026#34;iam_user_arn\u0026#34; { default = \u0026#34;arn:aws:iam::000000000000:user/hoge\u0026#34; // ARN of the IAM User for which AWS CLI credentials have been set up. } è‡ªèº«ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ç¢ºèªã«ã¯ã€\ncurl -X GET \u0026#39;https://checkip.amazonaws.com/\u0026#39; ãŒã‚·ãƒ³ãƒ—ãƒ«ãªã®ã§ãŠã™ã™ã‚ã§ã™ã€‚\nã‚ã¨ã¯ terraform apply ã§ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚åˆå›ã® apply ã«ã¯ 15 åˆ†ç¨‹åº¦ã‹ã‹ã‚Šã¾ã™ã€‚\nOpenSearch CLI ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹ OpenSearch ã®ã‚¯ãƒ©ã‚¹ã‚¿ãŒæ§‹ç¯‰ã§ããŸã‚‰ã€ OpenSearch CLI ã‚’ä½¿ã£ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã¦ã¿ã¾ã™ã€‚\nOpenSearch CLI ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ä¸‹è¨˜ãƒšãƒ¼ã‚¸ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚\nOpensearch 2.0.1 Â· OpenSearch macOS ã®å ´åˆã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ© (pkg) å½¢å¼ãªã®ã§ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ã®æŒ‡ç¤ºã«å¾“ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\nãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­å®š OpenSearch CLI ã¯ã„ãã¤ã‹ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ä½¿ã„åˆ†ã‘ã‚‹äº‹ãŒã§ãã¾ã™ã€‚ AWS CLI ã§ã„ã† --profile ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¿ãŸã„ãªã®ãŒã‚ã‚Šã¾ã™ã€‚\nãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆã«ã¯ OpenSearch ã‚¯ãƒ©ã‚¹ã‚¿ã® URL ã¨ã€èªè¨¼æ–¹æ³•ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã¾ãšã€ OpenSearch ã‚¯ãƒ©ã‚¹ã‚¿ã® URL ã‚’å–å¾—ã—ã¾ã™ã€‚\nä»Šå›ã¯ first-opensearch ã¨ã„ã†åå‰ã§ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½œæˆã—ãŸã®ã§ã€ä¸‹è¨˜ã® AWS CLI ã‚³ãƒãƒ³ãƒ‰ã§ URL (ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ) ã‚’å–å¾—ã—ã¾ã™ã€‚\nENDPOINT=$( aws opensearch describe-domain \\ --domain-name \u0026#39;first-opensearch\u0026#39; \\ --query \u0026#39;DomainStatus.join(``,[`https://`,Endpoint])\u0026#39; \\ --output text ) \u0026amp;\u0026amp; echo \u0026#34;${ENDPOINT}\u0026#34; ç¶šã„ã¦èªè¨¼æ–¹æ³•ã«ã¤ã„ã¦ã§ã™ãŒã€ OpenSearch CLI ã§ã¯ä¸‹è¨˜ã® 3 ã®èªè¨¼æ–¹æ³•ãŒæŒ‡å®šã§ãã¾ã™ã€‚\ndisabled basic cert aws-iam ä»Šå›ã¯ã€ IAM ãƒ­ãƒ¼ãƒ«ã§ã®èªè¨¼ã‚’è¡Œã†ã®ã§ aws-iam ã‚’èªè¨¼æ–¹æ³•ã¨ã—ã¦æŒ‡å®šã—ã¾ã™ã€‚\nãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆã«ã¯ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nopensearch-cli profile create \\ --auth-type aws-iam \\ --endpoint \u0026#34;${ENDPOINT}\u0026#34; \\ --name env-role aws-iam ã‚’æŒ‡å®šã—ãŸå ´åˆã€èªè¨¼ã«ä½¿ç”¨ã™ã‚‹ AWS ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã¨ AWS ã®ã‚µãƒ¼ãƒ“ã‚¹åã‚’èã‹ã‚Œã¾ã™ã€‚\nãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã«é–¢ã—ã¦ã¯ç‰¹å®šã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹äº‹ã‚‚ã§ãã¾ã™ãŒã€æŒ‡å®šã—ãªã„å ´åˆã¯å®Ÿè¡Œç’°å¢ƒã®ç’°å¢ƒå¤‰æ•°ã‚’ã‚‚ã¨ã«èªè¨¼ã«ä½¿ç”¨ã™ã‚‹ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ãŒé¸æŠã•ã‚Œã¾ã™ã€‚ä»Šå›ã¯ç’°å¢ƒå¤‰æ•°ã«ã‚ˆã£ã¦ä½¿ç”¨ã™ã‚‹ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã„åˆ†ã‘ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚\nAWS ã®ã‚µãƒ¼ãƒ“ã‚¹åã¯ã€ es ã¾ãŸã¯ ec2 ã§æŒ‡å®šã—ã¾ã™ã€‚ä»Šå›ã¯ es ã‚’æŒ‡å®šã—ã¾ã™ã€‚ (OpenSearch Service ã§ã™ãŒ es ã§ã™)\nRead Only ãªãƒ­ãƒ¼ãƒ«ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã¦ã¿ã‚‹ ã¾ãšã¯ Read Only ãªãƒ­ãƒ¼ãƒ« opensearch-read-only ã«ã‚¹ã‚¤ãƒƒãƒã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã¦ã¿ã¾ã™ã€‚\nã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã™ã‚‹ã«ã¯ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nSWITCH_CMD=$( \\ aws sts assume-role \\ --role-arn $(aws iam list-roles \\ --path-prefix \u0026#39;/demo\u0026#39; \\ --query \u0026#39;Roles[?contains(to_string(RoleName), `opensearch-read-only`)].Arn\u0026#39; \\ --output text) \\ --role-session-name \u0026#39;opensearch-read-only\u0026#39; \\ --query \u0026#39;Credentials.join(``,[`export AWS_ACCESS_KEY_ID=\\\u0026#34;`,AccessKeyId,`\\\u0026#34; AWS_SECRET_ACCESS_KEY=\\\u0026#34;`,SecretAccessKey,`\\\u0026#34; AWS_SESSION_TOKEN=\\\u0026#34;`,SessionToken,`\\\u0026#34;`])\u0026#39; \\ --output text) \\ \u0026amp;\u0026amp; eval ${SWITCH_CMD} \\ \u0026amp;\u0026amp; aws sts get-caller-identity ã¡ãªã¿ã«ã€ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ AWS CLI ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¨ã—ã¦ã„ã„æ„Ÿã˜ã«è¨­å®šã—ã¦ãŠãã“ã¨ã§ã€ AWS CLI ã§ã®ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ãŒã‚ã¡ã‚ƒãã¡ã‚ƒç°¡å˜ã«ãªã‚‹ã‚ˆ ã¨ã„ã†ã®ã‚’åˆ¥è¨˜äº‹ã§æ›¸ã„ã¦ã„ã‚‹ã®ã§å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nAWS CLI ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ä½¿ã£ã¦ãƒ¡ãƒãƒ£ã‚¯ãƒãƒ£ç°¡å˜ã«ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ãŸ - michimani.net opensearch-read-only ãƒ­ãƒ¼ãƒ«ã«ã‚¹ã‚¤ãƒƒãƒã§ããŸã‚‰ã€ GET ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã¦ã¿ã¾ã™ã€‚\n$ opensearch-cli curl get \\ --path \u0026#39;_cluster/health\u0026#39; \\ --output-format yaml \\ --profile env-role --- cluster_name: \u0026#34;000000000000:first-opensearch\u0026#34; status: \u0026#34;green\u0026#34; timed_out: false number_of_nodes: 1 number_of_data_nodes: 1 discovered_master: true active_primary_shards: 1 active_shards: 1 relocating_shards: 0 initializing_shards: 0 unassigned_shards: 0 delayed_unassigned_shards: 0 number_of_pending_tasks: 0 number_of_in_flight_fetch: 0 task_max_waiting_in_queue_millis: 0 active_shards_percent_as_number: 100.0 ç¶šã„ã¦ PUT ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã¦ã¿ã¾ã™ã€‚\n$ opensearch-cli curl put \\ --path \u0026#39;demoindex\u0026#39; \\ --profile env-role { \u0026#34;Message\u0026#34;: \u0026#34;User: arn:aws:sts::000000000000:assumed-role/opensearch-read-only/opensearch-read-only is not authorized to perform: es:ESHttpPut because no identity-based policy allows the es:ESHttpPut action\u0026#34; } ã“ã¡ã‚‰ã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚\nã“ã“ã¾ã§çµ‚ã‚ã£ãŸã‚‰ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã‚’è§£é™¤ã™ã‚‹ãŸã‚ã«ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nunset AWS_ACCESS_KEY_ID AWS_SECRET_ACCESS_KEY AWS_SESSION_TOKEN Write ã‚‚è¨±å¯ã•ã‚Œã¦ãŸãƒ­ãƒ¼ãƒ«ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã¦ã¿ã‚‹ æ¬¡ã« Write ã‚‚è¨±å¯ã•ã‚ŒãŸãƒ­ãƒ¼ãƒ« opensearch-admin ã«ã‚¹ã‚¤ãƒƒãƒã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã¦ã¿ã¾ã™ã€‚\nopensearch-admin ã«ã‚¹ã‚¤ãƒƒãƒã™ã‚‹ã«ã¯ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nSWITCH_CMD=$( \\ aws sts assume-role \\ --role-arn $(aws iam list-roles \\ --path-prefix \u0026#39;/demo\u0026#39; \\ --query \u0026#39;Roles[?contains(to_string(RoleName), `opensearch-admin`)].Arn\u0026#39; \\ --output text) \\ --role-session-name \u0026#39;opensearch-admin\u0026#39; \\ --query \u0026#39;Credentials.join(``,[`export AWS_ACCESS_KEY_ID=\\\u0026#34;`,AccessKeyId,`\\\u0026#34; AWS_SECRET_ACCESS_KEY=\\\u0026#34;`,SecretAccessKey,`\\\u0026#34; AWS_SESSION_TOKEN=\\\u0026#34;`,SessionToken,`\\\u0026#34;`])\u0026#39; \\ --output text) \\ \u0026amp;\u0026amp; eval ${SWITCH_CMD} \\ \u0026amp;\u0026amp; aws sts get-caller-identity Read Only ã®ã¨ãã«å¤±æ•—ã—ãŸ PUT ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã¦ã¿ã¾ã™ã€‚\n$ opensearch-cli curl put \\ --path \u0026#39;demoindex\u0026#39; \\ --profile env-role {\u0026#34;acknowledged\u0026#34;:true,\u0026#34;shards_acknowledged\u0026#34;:true,\u0026#34;index\u0026#34;:\u0026#34;demoindex\u0026#34;} ä»Šåº¦ã¯æˆåŠŸã—ã¾ã—ãŸã€‚ç¶šã„ã¦ DELETE ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚‚æŠ•ã’ã¦ã¿ã¾ã™ã€‚\n$ opensearch-cli curl delete \\ --path \u0026#39;demoindex\u0026#39; \\ --profile env-role {\u0026#34;acknowledged\u0026#34;:true} ã“ã¡ã‚‰ã‚‚æˆåŠŸã—ã¾ã—ãŸã€‚\nã“ã“ã¾ã§çµ‚ã‚ã£ãŸã‚‰ã€å¿˜ã‚Œãšã«ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã‚’è§£é™¤ã—ã¦ãŠãã¾ã™ã€‚\nunset AWS_ACCESS_KEY_ID AWS_SECRET_ACCESS_KEY AWS_SESSION_TOKEN ã¾ã¨ã‚ Terraform ã§ OpenSearch Service ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒãƒªã‚·ãƒ¼ã‚’å®šç¾©ã—ãŸ OpenSearch CLI ã§ OpenSearch ã®ã‚¯ãƒ©ã‚¹ã‚¿ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã¦ã¿ãŸ å‰¯ä½œç”¨ã¨ã—ã¦ AWS CLI ã§ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã™ã‚‹ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ãŒç”Ÿã¾ã‚ŒãŸ ",
    "permalink": "https://michimani.net/post/aws-get-started-opensearch-service-via-terraform/",
    "title": "Terraform ã¨ OpenSearch CLI ã§ OpenSearch Service ã«å…¥é–€ã™ã‚‹"
  },
  {
    "contents": "AWS CLI ã§ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã™ã‚‹å ´åˆã€ sts assume-role ã§èªè¨¼æƒ…å ±ã‚’å–å¾—ã—ã€ãã‚Œã‚’ç’°å¢ƒå¤‰æ•°ãªã‚Š ~/.aws/credentials ã«è¿½è¨˜ã—ãŸã‚Šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã•ãã£ã¨ã‚¹ã‚¤ãƒƒãƒã—ãŸã„ã ã‘ãªã®ã«å°‘ã€…æ‰‹é–“ãŒã‹ã‹ã‚‹ã®ã§ã€ AWS CLI ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ä½¿ã£ã¦ã‚³ãƒãƒ³ãƒ‰ä¸€ã¤ã§ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã—ãŸã€‚\nçµè«– ã“ã‚Œã§ã™ã€‚\nawscli-aliases/alias at 9edd908f2d27c8a4acf07a6dc31ce7d19dc6ced3 Â· michimani/awscli-aliases AWS CLI ã§ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã™ã‚‹æµã‚Œ ãã‚‚ãã‚‚ã®ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã®ä»•çµ„ã¿ã¨ AWS CLI ã§ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã® AWS Blog ã®è¨˜äº‹ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nIAM ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆé–“ã® IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ãŸã‚¢ã‚¯ã‚»ã‚¹ã®å§”ä»» - AWS Identity and Access Management AWS CLI ã§ã®æµã‚Œã‚’è¦ç´„ã™ã‚‹ã¨ä¸‹è¨˜ã®é€šã‚Šã¨ãªã‚Šã¾ã™ã€‚\naws sts assume-role ã‚³ãƒãƒ³ãƒ‰ã§ã€ã‚¹ã‚¤ãƒƒãƒã—ãŸã„ãƒ­ãƒ¼ãƒ«ã®ä¸€æ™‚èªè¨¼æƒ…å ±ã‚’å–å¾—ã™ã‚‹ å–å¾—ã—ãŸèªè¨¼æƒ…å ±ã‹ã‚‰ã€å¿…è¦ãªå€¤ã‚’ä¸‹è¨˜ã®ç’°å¢ƒå¤‰æ•°ã«ãã‚Œãã‚Œè¨­å®šã™ã‚‹ AWS_ACCESS_KEY_ID AWS_SECRET_ACCESS_KEY AWS_SESSION_TOKEN ãŸã£ãŸã“ã‚Œã ã‘ã§ã™ãŒã€ 2 ã®éƒ¨åˆ†ãŒå¤šå°‘æ‰‹é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚ã¨ã„ã†ã®ã‚‚ã€æ™®é€šã«ã‚„ã‚‹ã¨ sts assume-role ã®å®Ÿè¡Œçµæœã‹ã‚‰å¿…è¦ãªæƒ…å ±ã‚’ã‚³ãƒ”ãƒšã—ã¦ãã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‰ã§ã™ã€‚\nã“ã®æ‰‹é † 1, 2 ã‚’ --query ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ã„ã„æ„Ÿã˜ã«ã—ã¦ã¿ã¾ã™ã€‚\nquery ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã§æ›¸ã ã¾ãšã¯ã€æ‰‹é † 1 ã§å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰ã€‚\nä»Šå›ã¯ã€ä¾‹ã¨ã—ã¦ä¸‹è¨˜ã®ã‚ˆã†ãª IAM ãƒ­ãƒ¼ãƒ«ã«ã‚¹ã‚¤ãƒƒãƒã—ãŸã„ã¨ã—ã¾ã™ã€‚ (iam get-role ã®å‡ºåŠ›ã®ä¸€éƒ¨ã‚’æŠœç²‹)\n{ \u0026#34;Role\u0026#34;: { \u0026#34;Path\u0026#34;: \u0026#34;/demo/\u0026#34;, \u0026#34;RoleName\u0026#34;: \u0026#34;target-role\u0026#34;, \u0026#34;RoleId\u0026#34;: \u0026#34;AROA2XXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;Arn\u0026#34;: \u0026#34;arn:aws:iam::00000000:role/demo/target-role\u0026#34;, } } ä¸Šè¨˜ã®ãƒ­ãƒ¼ãƒ«ã«ã‚¹ã‚¤ãƒƒãƒã™ã‚‹ãŸã‚ã«ã¯ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\naws sts assume-role \\ --role-arn \u0026#39;arn:aws:iam::00000000:role/demo/target-role\u0026#39; --role-session-name \u0026#39;switch-to-target-role\u0026#39; æ­£å¸¸ã«å®Ÿè¡Œã§ãã‚Œã°ã€ä¸‹è¨˜ã®ã‚ˆã†ãªå‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚\n{ \u0026#34;Credentials\u0026#34;: { \u0026#34;AccessKeyId\u0026#34;: \u0026#34;ASIAXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;SecretAccessKey\u0026#34;: \u0026#34;FbNIxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u0026#34;, \u0026#34;SessionToken\u0026#34;: \u0026#34;IQxxxxx...............xxxxx+4w==\u0026#34;, \u0026#34;Expiration\u0026#34;: \u0026#34;2022-06-30T16:05:13+00:00\u0026#34; }, \u0026#34;AssumedRoleUser\u0026#34;: { \u0026#34;AssumedRoleId\u0026#34;: \u0026#34;AROA2XXXXXXXXXXXXXXXX:switch-to-target-role\u0026#34;, \u0026#34;Arn\u0026#34;: \u0026#34;arn:aws:sts::00000000:assumed-role/target-role/switch-to-target-role\u0026#34; } } ã“ã®ä¸­ã‹ã‚‰ã€ AccessKeyId ã€ SecretAccessKey ã€SessionToken ã‚’ãã‚Œãã‚Œç’°å¢ƒå¤‰æ•° AWS_ACCESS_KEY_ID ã€ AWS_SECRET_ACCESS_KEY ã€ AWS_SESSION_TOKEN ã«è¨­å®šã™ã‚‹ã“ã¨ã§ã‚¹ã‚¤ãƒƒãƒã—ãŸãƒ­ãƒ¼ãƒ«ã§ AWS CLI ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nLinux ã¾ãŸã¯ macOS ã§ã¯ç’°å¢ƒå¤‰æ•°ã®è¨­å®šã«ã¯ export ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã®ã§ã€ --query ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ç’°å¢ƒå¤‰æ•°è¨­å®šç”¨ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚å…·ä½“çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ã€‚\naws sts assume-role \\ --role-arn \u0026#39;arn:aws:iam::00000000:role/demo/target-role\u0026#39; --role-session-name \u0026#39;switch-to-target-role\u0026#39; --query \u0026#39;Credentials.join(``,[`export AWS_ACCESS_KEY_ID=\\\u0026#34;`,AccessKeyId,`\\\u0026#34; AWS_SECRET_ACCESS_KEY=\\\u0026#34;`,SecretAccessKey,`\\\u0026#34; AWS_SESSION_TOKEN=\\\u0026#34;`,SessionToken,`\\\u0026#34;`])\u0026#39; \\ --output text å‡ºåŠ›ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nexport AWS_ACCESS_KEY_ID=\u0026#34;FbNIxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u0026#34; AWS_SECRET_ACCESS_KEY=\u0026#34;IQxxxxx...............xxxxx+4w==\u0026#34; AWS_SESSION_TOKEN=\u0026#34;IQxxxxx...............xxxxx+4w==\u0026#34; ã“ã‚Œã‚’ã‚³ãƒ”ãƒšã—ã¦å®Ÿè¡Œã™ã‚Œã°ã„ã„ã®ã§ã™ãŒã€ãã‚Œã‚‚ã‚³ãƒãƒ³ãƒ‰ã§ã‚„ã£ã¦ã—ã¾ã„ã¾ã™ã€‚\nã“ã®å‡ºåŠ›ã‚’ä¸€æ—¦å¤‰æ•°ã«å…¥ã‚Œã€ãã‚Œã‚’ eval ã§å±•é–‹ã—ã¦å®Ÿè¡Œã—ã¾ã™ã€‚\nSWITCH_CMD=$( \\ aws sts assume-role \\ --role-arn $( \\ aws iam get-role \\ --role-name \u0026#39;target-role\u0026#39; \\ --query \u0026#39;Role.Arn\u0026#39; \\ --output text) \\ --role-session-name \u0026#39;switch-to-target-role\u0026#39; \\ --query \u0026#39;Credentials.join(``,[`export AWS_ACCESS_KEY_ID=\\\u0026#34;`,AccessKeyId,`\\\u0026#34; AWS_SECRET_ACCESS_KEY=\\\u0026#34;`,SecretAccessKey,`\\\u0026#34; AWS_SESSION_TOKEN=\\\u0026#34;`,SessionToken,`\\\u0026#34;`])\u0026#39; \\ --output text) \\ \u0026amp;\u0026amp; eval ${SWITCH_CMD} \\ \u0026amp;\u0026amp; aws sts get-caller-identity eval ã§ export ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸã‚ã¨ã¯ã€æ­£å¸¸ã«ã‚¹ã‚¤ãƒƒãƒã§ãã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã« aws sts get-caller-identity ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚\nå®Ÿè¡Œçµæœã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n{ \u0026#34;UserId\u0026#34;: \u0026#34;AROA2XXXXXXXXXXXX:switch-to-target-role\u0026#34;, \u0026#34;Account\u0026#34;: \u0026#34;000000000000\u0026#34;, \u0026#34;Arn\u0026#34;: \u0026#34;arn:aws:sts::000000000000:assumed-role/target-role/switch-to-target-role\u0026#34; } ä»¥ä¸Šã§ã€ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã§ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚æœ€å¾Œã«ã€ã“ã‚Œã‚’ AWS CLI ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚³ãƒãƒ³ãƒ‰ã¨ã—ã¦è¨­å®šã—ã€ã‚ˆã‚Šç°¡å˜ã«ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã™ã€‚\nAWS CLI ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚³ãƒãƒ³ãƒ‰ã‚’è¨­å®šã™ã‚‹ AWS CLI ã§ã¯ã€ãƒ¦ãƒ¼ã‚¶ãŒä»»æ„ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚³ãƒãƒ³ãƒ‰ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nAWS CLI ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®ä½œæˆã¨ä½¿ç”¨ - AWS Command Line Interface ä¾‹ãˆã°ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’è¨­å®šã—ã¦ãŠã‘ã° aws id ã¨å®Ÿè¡Œã™ã‚‹ã ã‘ã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nid = sts get-caller-identity \\ --query \u0026#39;Account\u0026#39; \\ --output text ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã«ã¯å¼•æ•°ã§å€¤ã‚’æ¸¡ã™ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ä»Šå›ã§ã‚ã‚Œã°å¯å¤‰ãªã®ã¯ãƒ­ãƒ¼ãƒ«åã®ã¿ãªã®ã§ã€ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®å¼•æ•°ã«ãƒ­ãƒ¼ãƒ«åã‚’æ¸¡ã™ã‚ˆã†ã«ã™ã‚Œã°ã‚ˆã„ã®ã§ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’è¨­å®šã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nswitch-role = !f() { SWITCH_CMD=$( \\ aws sts assume-role \\ --role-arn $( \\ aws iam get-role \\ --role-name \u0026#34;${1}\u0026#34; \\ --query \u0026#39;Role.Arn\u0026#39; \\ --output text) \\ --role-session-name \u0026#34;switch-to-${1}\u0026#34; \\ --query \u0026#39;Credentials.join(``,[`export AWS_ACCESS_KEY_ID=\\\u0026#34;`,AccessKeyId,`\\\u0026#34; AWS_SECRET_ACCESS_KEY=\\\u0026#34;`,SecretAccessKey,`\\\u0026#34; AWS_SESSION_TOKEN=\\\u0026#34;`,SessionToken,`\\\u0026#34;`])\u0026#39; \\ --output text) \\ \u0026amp;\u0026amp; eval ${SWITCH_CMD} \\ \u0026amp;\u0026amp; aws sts get-caller-identity }; f ã‚ã¨ã¯ aws switch-role 'target-role' ã¨å®Ÿè¡Œã™ã‚‹ã ã‘ã§ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã§ãã¾ã™ã€‚\nã•ã„ã”ã« AWS CLI ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã„ã„ã ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼æœ€é«˜ ã©ã‚“ã©ã‚“ã‚¹ã‚¤ãƒƒãƒã—ãŸããªã‚‹ ã¡ãªã¿ã«ã€å…ƒã®ãƒ­ãƒ¼ãƒ«ã«æˆ»ã‚ŠãŸã„å ´åˆã¯ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦å„ç’°å¢ƒå¤‰æ•°ã®å€¤ã‚’ã‚¯ãƒªã‚¢ã™ã‚Œã° OK ã§ã™ã€‚\nunset AWS_ACCESS_KEY_ID AWS_SECRET_ACCESS_KEY AWS_SESSION_TOKEN ",
    "permalink": "https://michimani.net/post/aws-switch-role-via-aws-cli/",
    "title": "AWS CLI ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ä½¿ã£ã¦ãƒ¡ãƒãƒ£ã‚¯ãƒãƒ£ç°¡å˜ã«ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "Google Analytics ã®ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ (UA) ãŒ 2023å¹´ 7æœˆã«å»ƒæ­¢ã•ã‚Œã€ãã‚Œä»¥é™ã¯ Google Analytics 4 (GA4) ã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã¾ã  UA å»ƒæ­¢ã¾ã§ã®çŒ¶äºˆã¯ã‚ã‚Šã¾ã™ãŒã€PV ç­‰ã®å„å€¤ã‚’æ¯”è¼ƒã—ãŸããªã£ãŸã¨ãã« 1 å¹´å‰ã®ãƒ‡ãƒ¼ã‚¿ãŒç„¡ã„ã¨å›°ã‚‹ã®ã§ã€ãªã‚‹ã¯ã‚„ã§ç§»è¡Œã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä»Šå›ã¯ã€ã¨ã‚Šã‚ãˆãšã“ã®ãƒ–ãƒ­ã‚°ã‚’ UA ã‹ã‚‰ GA4 ã«ç§»è¡Œã—ã¦ã¿ã¾ã™ã€‚\nãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ« ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ã®ã‚µãƒãƒ¼ãƒˆã¯çµ‚äº†ã—ã¾ã™ - ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ ãƒ˜ãƒ«ãƒ— ã‚„ã‚‹ã“ã¨ GA4 ã«åˆ‡ã‚Šæ›¿ãˆã¦ã„ãªã„çŠ¶æ…‹ã§å¯¾è±¡ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ç”»é¢ã‚’é–‹ãã¨ã€ãƒšãƒ¼ã‚¸ä¸Šéƒ¨ã«ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚\nã“ã“ã® [é–‹å§‹] ã‹ã‚‰ GA4 ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¨­å®šã—ã¦ã„ãã¾ã™ã€‚\nãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®è¨­å®šãŒã§ããŸã‚‰ã€ç™ºè¡Œã•ã‚ŒãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ãƒ–ãƒ­ã‚°ã® \u0026lt;head\u0026gt; ã‚¿ã‚°å†…ã«é…ç½®ã—ã¾ã™ã€‚\nä»Šå›ã¯ã€ç´°ã‹ã„è¨­å®šã¯ã‚¹ã‚­ãƒƒãƒ—ã—ã¦ ã¨ã‚Šã‚ãˆãš GA4 ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ PV ã ã‘ã§ã‚‚è¨ˆæ¸¬ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ã‚’ã‚´ãƒ¼ãƒ«ã¨ã—ã¾ã™ã€‚\nGA4 ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®è¨­å®š å…ˆã»ã©ã® [é–‹å§‹] ã‚’æŠ¼ã™ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªç”»é¢ã«é·ç§»ã—ã¾ã™ã€‚\nä»Šå›ã¯æ–°ãŸã« GA4 ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½œæˆã—ã¾ã™ã€‚\næ–°ã—ã„ Google ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ 4 ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½œæˆã™ã‚‹ GA4 è¨­å®šã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã®ç”»é¢ã‹ã‚‰ æ–°ã—ã„ Google ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ 4 ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ä½œæˆ ã‚’é–‹å§‹ã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nã“ã“ã§ [ä½œæˆ] ã‚’æŠ¼ã™ã¨ã€ GA4 è¨­å®šã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã®ç”»é¢ã«æˆ»ã‚Šã€ä¸‹è¨˜ã®ã‚ˆã†ãªè¡¨ç¤ºã«ãªã‚‹ã€‚\nGA4 ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒä½œæˆã•ã‚ŒãŸã€‚\nGA4 ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®æ©Ÿèƒ½ã®ç¢ºèªã¨è¨­å®šã‚’è¡Œã† [GA4 ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç¢ºèª] ã‚’æŠ¼ã™ã¨ GA4 ã®è¨­å®šç”»é¢ã«é·ç§»ã—ã¾ã™ã€‚\næ­£ç›´ã€è¨­å®šé …ç›®ãŒå¤šã™ãã¦ã‚ˆãã‚ã‹ã‚‰ã‚“ã€‚ã®ã§ã€æ¬²ã‚’å‡ºã•ãšã« PV ã ã‘ã§ã‚‚è¨ˆæ¸¬ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ ã‚’ç›®æŒ‡ã™ã€‚\nãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒªãƒ¼ãƒ  ã®é …ç›®ã‚’è¦‹ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ã¾ã ãƒ‡ãƒ¼ã‚¿ãŒå—ä¿¡ã§ãã¦ã„ã¾ã›ã‚“ã€‚(ãã‚Œã¯ãã†)\nã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ä¸€è¦§ã‹ã‚‰å¯¾è±¡ã®è¡Œã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªè©³ç´°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nã‚¿ã‚°ã®è¨­å®šæ‰‹é † ã«ã‚ã‚‹é€šã‚Šã€ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒªãƒ¼ãƒ ã§å„å€¤ã‚’è¨ˆæ¸¬ã™ã‚‹ã«ã¯ã„ãšã‚Œã‹ã®æ–¹æ³•ã§ãƒšãƒ¼ã‚¸ä¸Šã«ã‚¿ã‚°ã‚’åŸ‹ã‚è¾¼ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nä»Šå›ã¯ æ–°ã—ã„ãƒšãƒ¼ã‚¸ä¸Šã®ã‚¿ã‚°ã‚’è¿½åŠ ã™ã‚‹ ã€ä¸”ã¤ GTM ã‚’ä½¿ã£ã¦ã„ãªã„ãŸã‚ gtag.js ã‚’è¿½åŠ ã™ã‚‹æ–¹æ³•ã§é€²ã‚ã¾ã™ã€‚\nåŸ‹ã‚è¾¼ã‚€ã‚¿ã‚°ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªå½¢å¼ã§ã™ã€‚\n\u0026lt;!-- Global site tag (gtag.js) - Google Analytics --\u0026gt; \u0026lt;script async src=\u0026#34;https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXX\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag(\u0026#39;js\u0026#39;, new Date()); gtag(\u0026#39;config\u0026#39;, \u0026#39;G-XXXXXXXXX\u0026#39;); \u0026lt;/script\u0026gt; ã“ã‚Œã‚’ã“ã®ãƒ–ãƒ­ã‚°ã® \u0026lt;head\u0026gt;\u0026lt;/head\u0026gt; å†…ã«é…ç½®ã—ã¾ã™ã€‚\nGA4 ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚¿ã‚°ã‚’ãƒ–ãƒ­ã‚°ã«è¨­ç½®ã™ã‚‹ ã“ã®ãƒ–ãƒ­ã‚°ã¯ Hugo ã§ç”Ÿæˆã—ã¦ãŠã‚Šã€ãƒ†ãƒ¼ãƒã«ã¯ Simplog ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚\nSimplog ã¯ UA ã®ã‚¿ã‚°åŸ‹ã‚è¾¼ã¿ã«ã¯å¯¾å¿œã—ã¦ã„ã¾ã™ (UA-XXXXXX ã‚’ config.toml ã«è¿½è¨˜ã™ã‚‹ã ã‘ã§ OK) ãŒã€ GA4 ã®åŸ‹ã‚è¾¼ã¿ã«ã¯å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚ãŸã ã€ partials/additional-custom-head.html ã‚’ä½œæˆã™ã‚Œã° head å†…ã«ãã®å†…å®¹ãŒåŸ‹ã‚è¾¼ã¾ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€ partials/additional-custom-head.html ã«ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚¿ã‚°ã‚’è¨˜è¿°ã™ã‚‹æ–¹æ³•ã§å¯¾å¿œã—ã¾ã™ã€‚\nsimplog/head.html at c6940745f5b0751a408f3fc959f231b9ec624e5a Â· michimani/simplog ã‚†ãã‚†ãã¯ G-XXXXXXXXX ã®ã‚¿ã‚°ã‚’ config.toml ã«è¨˜è¿°ã™ã‚‹ã ã‘ã§ã‚¿ã‚°ãŒåŸ‹ã‚è¾¼ã¾ã‚Œã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚(ã—ã¦ãã‚Œã‚‹æ–¹ãŒã„ãŸã‚‰ PR ãŠå¾…ã¡ã—ã¦ã„ã¾ã™)\nè¨­ç½®ã—ã¦æ§˜å­ã‚’è¦‹ã‚‹ GA4 ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚¿ã‚°ã‚’è¨­ç½®ã—ãŸã‚‰ã—ã°ã‚‰ãæ§˜å­ã‚’è¦‹ã¦ã€å…ˆã»ã©ã®ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’ç¢ºèªã—ã¾ã™ã€‚\nä»–ã«ã‚„ã‚‹ã“ã¨ GA4 ã®è¨­å®šã‚’è¦‹ã‚‹é™ã‚Šã ã¨\nGoogle Search Console ã¨ã®çµ±åˆ Google AdSense ã¨ã®çµ±åˆ ã‚ãŸã‚Šã¯è¨­å®šãŒå¿…è¦ãã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/development-migrate-google-analytics-gav4/",
    "title": "Hugo ã§ç”Ÿæˆã—ã¦ã„ã‚‹ãƒ–ãƒ­ã‚°ã‚’ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ã‹ã‚‰ Google Analytics 4 ã«ç§»è¡Œã™ã‚‹"
  },
  {
    "contents": "CloudFormation ã§ Lambda ã® Function URLs ãŒç®¡ç†ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ãŸã®ã§è©¦ã—ã¦ã¿ã¾ã™ã€‚\nå¯¾å¿œã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ Function URLs ã«å¯¾å¿œã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã¯ AWS::Lambda::Urlã€‚ AWS::Lambda::FunctionUrl ã«ãªã‚‹ã®ã§ã¯ï¼Ÿã¨å‹æ‰‹ã«äºˆæƒ³ã—ã¦ã„ã¾ã—ãŸãŒã€é•ã„ã¾ã—ãŸã€‚\nãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\nAuthType: String Cors: Cors AllowCredentials: Boolean AllowHeaders: List of String AllowMethods: List of String AllowOrigins: List of String ExposeHeaders: List of String MaxAge: Integer Qualifier: String TargetFunctionArn: String !Ref ãŒè¿”ã™å€¤ã¯ã€Function URLs ã®è¨­å®šå¯¾è±¡ã¨ãªã‚‹ Lambda é–¢æ•°ã® ARN ã§ã™ã€‚\n!GetAtt ã§ã¯ FunctionArn ãŠã‚ˆã³ FunctionUrl ã‚’æŒ‡å®šã§ãã¾ã™ã€‚\nå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ AWS::Lambda::Url - AWS CloudFormation CFn ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ å‰å›1ã¨åŒæ§˜ã«ã€ ã†ã¿ã»ãŸã‚‹ã®é¢¨é€Ÿãƒ»é¢¨å‘ã‚’è¿”ã™ Lambda é–¢æ•° umiwind ã«å¯¾ã—ã¦ Functions URLs ã‚’è¨­å®šã—ã¦ã¿ã¾ã™ã€‚\nAWSTemplateFormatVersion: \u0026#34;2010-09-09\u0026#34; Description: \u0026#34;Example of Function URL Config\u0026#34; Resources: UmiwindURL: Type: AWS::Lambda::Url Properties: TargetFunctionArn: arn:aws:lambda:ap-northeast-1:000000000000:function:umiwind AuthType: NONE Cors: AllowCredentials: false AllowMethods: - GET AllowOrigins: - \u0026#34;*\u0026#34; Outputs: UmiwindPublicURL: Description: Public endpoint for invoking umiwind Value: !GetAtt UmiwindURL.FunctionUrl ç”Ÿæˆã•ã‚ŒãŸ URL ã‚’ã‚¹ã‚¿ãƒƒã‚¯ã®å‡ºåŠ›ã¨ã—ã¦ã—ã¦ã„ã¾ã™ã€‚\nãƒ‡ãƒ—ãƒ­ã‚¤ã¨ç¢ºèª ãƒ‡ãƒ—ãƒ­ã‚¤ã¯ä½¿ã„å¤ã•ã‚ŒãŸä¸‹è¨˜ã®ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (function_url.sh) ã‚’ä½¿ã£ã¦å®Ÿæ–½ã—ã¾ã™ã€‚\n#!/bin/bash CHANGESET_OPTION=\u0026#34;--no-execute-changeset\u0026#34; if [ $# = 1 ] \u0026amp;\u0026amp; [ $1 = \u0026#34;deploy\u0026#34; ]; then echo \u0026#34;deploy mode\u0026#34; CHANGESET_OPTION=\u0026#34;\u0026#34; fi readonly CFN_TEMPLATE=\u0026#34;$(dirname $0)/function_url.yml\u0026#34; readonly CFN_STACK_NAME=UmiwindURL echo \u0026#34;CFN_TEMPLATE = ${CFN_TEMPLATE}\u0026#34; echo \u0026#34;CFN_STACK_NAME = ${CFN_STACK_NAME}\u0026#34; aws cloudformation deploy \\ --stack-name \u0026#34;${CFN_STACK_NAME}\u0026#34; \\ --template-file \u0026#34;${CFN_TEMPLATE}\u0026#34; ${CHANGESET_OPTION} sh ./function_url.sh \u0026#39;deploy\u0026#39; ç”Ÿæˆã•ã‚ŒãŸ URL ã¯ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã—ã¾ã™ã€‚\naws cloudformation describe-stacks \\ --stack-name UmiwindURL \\ --query \u0026#34;Stacks[0].Outputs[?contains(to_string(OutputKey),\\`UmiwindPublicURL\\`)].OutputValue\u0026#34; \\ --output text ã¾ã¨ã‚ Lambda ã® Function URLs ãŒ CloudFormation ã§æ§‹ç¯‰ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ãŸã®ã§è©¦ã—ãŸ ãã‚Œä»¥ä¸Šã§ã‚‚ãã‚Œä»¥ä¸‹ã§ã‚‚ãªã„ Lambda é–¢æ•°ã«å€‹åˆ¥ã® URL ã‚’è¨­å®šã§ãã‚‹ AWS Lambda Function URLs ã‚’è©¦ã™ - michimani.net \u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-manage-lambda-functions-urls-by-cloudformation/",
    "title": "CloudFormation ã§ Lambda Function URLs ã‚’ç®¡ç†ã™ã‚‹"
  },
  {
    "contents": "AWS ã‹ã‚‰ã¨ã‚ã‚‹ãƒ¡ãƒ¼ãƒ«ãŒå±Šã„ã¦ã„ã¾ã—ãŸã€‚\nWe are contacting you as we have identified that your AWS Account currently has one or more Lambda functions using Python 3.6 runtime.\nWe are ending support for Python 3.6 in AWS Lambda. This follows Python 3.6 End-Of-Life (EOL) reached on December 23, 2021 [1].\nAs described in the Lambda runtime support policy [2], end of support for language runtimes in Lambda happens in two stages. Starting July 18, 2022, Lambda will no longer apply security patches and other updates to the Python 3.6 runtime used by Lambda functions, and functions using Python 3.6 will no longer be eligible for technical support. In addition, you will no longer be able to create new Lambda functions using the Python 3.6 runtime. Starting August 17, 2022, you will no longer be able to update existing functions using the Python 3.6 runtime.\nWe recommend that you upgrade your existing Python 3.6 functions to Python 3.9 before August 17, 2022.\nPython 3.6 ã® EOL ã«å¾“ã£ã¦ã€ Lambda ã§ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã« Python 3.6 ã‚’ä½¿ã£ã¦ã„ã‚‹é–¢æ•°ã¯ 2022å¹´8æœˆ17æ—¥ ä»¥é™ã¯æ›´æ–°ã§ããªããªã‚‹ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚\nå€‹äººã®ç’°å¢ƒãªã®ã§ç‰¹ã«å•é¡Œãªã„ãŒæ›´æ–°ã§ããªããªã‚‹ã¨å›°ã‚‹ã®ã§ã€ã¨ã‚Šã‚ãˆãšå…¨éƒ¨ Python 3.9 ã«æ›´æ–°ã—ã¦ã—ã¾ã„ã¾ã™ã€‚\nPython 3.6 ã‚’ä½¿ã£ã¦ã„ã‚‹ Lambda é–¢æ•°ã‚’ç‰¹å®šã™ã‚‹ ã¾ãšã¯ Python 3.6 ã‚’ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã«ä½¿ã£ã¦ã„ã‚‹ Lambda é–¢æ•°ã‚’ç‰¹å®šã—ã¾ã™ã€‚ä¸‹è¨˜ AWS CLI ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€å„ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«å¯¾ã—ã¦å¯¾è±¡ã® Lambda é–¢æ•°ãŒå­˜åœ¨ã™ã‚‹ã‹ã©ã†ã‹èª¿ã¹ã¾ã™ã€‚\nfor region in $(aws ec2 describe-regions --query \u0026#39;Regions[].RegionName\u0026#39; --output text); do echo \u0026#34;Lambda function in ${region} with Python 3.6 runtime\u0026#34; aws lambda list-functions \\ --query \u0026#39;Functions[?contains(to_string(Runtime),`python3.6`)].FunctionArn\u0026#39; \\ --region \u0026#34;${region}\u0026#34; done çµæœã€‚\nLambda function in eu-north-1 with Python 3.6 runtime [] Lambda function in ap-south-1 with Python 3.6 runtime [] Lambda function in eu-west-3 with Python 3.6 runtime [] Lambda function in eu-west-2 with Python 3.6 runtime [] Lambda function in eu-west-1 with Python 3.6 runtime [] Lambda function in ap-northeast-3 with Python 3.6 runtime [] Lambda function in ap-northeast-2 with Python 3.6 runtime [] Lambda function in ap-northeast-1 with Python 3.6 runtime [ \u0026#34;arn:aws:lambda:ap-northeast-1:000000000000:function:StartStopEc2\u0026#34;, \u0026#34;arn:aws:lambda:ap-northeast-1:000000000000:function:KeyakizakaBlogUpdateCheck\u0026#34;, \u0026#34;arn:aws:lambda:ap-northeast-1:000000000000:function:ResizeS3BacketOperation\u0026#34;, \u0026#34;arn:aws:lambda:ap-northeast-1:000000000000:function:DeployTestDev\u0026#34;, \u0026#34;arn:aws:lambda:ap-northeast-1:000000000000:function:toSlack\u0026#34;, \u0026#34;arn:aws:lambda:ap-northeast-1:000000000000:function:iot1click_onclick_sms_20190710142349\u0026#34;, \u0026#34;arn:aws:lambda:ap-northeast-1:000000000000:function:HinatazakaBlogUpdateCheck\u0026#34;, \u0026#34;arn:aws:lambda:ap-northeast-1:000000000000:function:DeployTest\u0026#34;, \u0026#34;arn:aws:lambda:ap-northeast-1:000000000000:function:PutItemToDynamoDbFromJson\u0026#34;, \u0026#34;arn:aws:lambda:ap-northeast-1:000000000000:function:iot1click_onclick_sms_20190710143217\u0026#34; ] Lambda function in sa-east-1 with Python 3.6 runtime [] Lambda function in ca-central-1 with Python 3.6 runtime [] Lambda function in ap-southeast-1 with Python 3.6 runtime [] Lambda function in ap-southeast-2 with Python 3.6 runtime [] Lambda function in eu-central-1 with Python 3.6 runtime [] Lambda function in us-east-1 with Python 3.6 runtime [] Lambda function in us-east-2 with Python 3.6 runtime [] Lambda function in us-west-1 with Python 3.6 runtime [] Lambda function in us-west-2 with Python 3.6 runtime [ \u0026#34;arn:aws:lambda:us-west-2:000000000000:function:iot1click_onclick_email_20190710142349\u0026#34;, \u0026#34;arn:aws:lambda:us-west-2:000000000000:function:iot1click_onclick_email_20190710143217\u0026#34;, \u0026#34;arn:aws:lambda:us-west-2:000000000000:function:iot1click_onclick_sms_20190705234051\u0026#34; ] ãã“ãã“ã‚ã‚Šã¾ã—ãŸã€‚\nã¾ã¨ã‚ã¦æ›´æ–°ã™ã‚‹ 3.6 â†’ 3.9 ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãªã®ã§ç‰¹ã«æ°—ã«ã™ã‚‹ã¨ã“ã‚ã¯ãªã•ãã†ãªã®ã§ã€ä¸”ã¤å€‹äººã®ç’°å¢ƒãªã®ã§ã¨ã‚Šã‚ãˆãšå‹•ä½œç¢ºèªã¯ç½®ã„ã¦ãŠã„ã¦ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã ã‘æ›´æ–°ã—ã¾ã™ã€‚\nä¸‹è¨˜ AWS CLI ã‚³ãƒãƒ³ãƒ‰ã§ã¾ã¨ã‚ã¦æ›´æ–°ã—ã¾ã™ã€‚\nfor region in $(aws ec2 describe-regions --query \u0026#39;Regions[].RegionName\u0026#39; --output text); do for arn in $(aws lambda list-functions \\ --query \u0026#39;Functions[?contains(to_string(Runtime),`python3.6`)].FunctionArn\u0026#39; \\ --region \u0026#34;${region}\u0026#34; \\ --output text); do echo \u0026#34;update ${arn}...\u0026#34; aws lambda update-function-configuration \\ --function-name \u0026#34;${arn}\u0026#34; \\ --runtime \u0026#39;python3.9\u0026#39; \\ --region \u0026#34;${region}\u0026#34; \\ --query \u0026#39;Runtime\u0026#39; done done çµæœã€‚\nupdate arn:aws:lambda:ap-northeast-1:000000000000:function:StartStopEc2... \u0026#34;python3.9\u0026#34; update arn:aws:lambda:ap-northeast-1:000000000000:function:KeyakizakaBlogUpdateCheck... \u0026#34;python3.9\u0026#34; update arn:aws:lambda:ap-northeast-1:000000000000:function:ResizeS3BacketOperation... \u0026#34;python3.9\u0026#34; update arn:aws:lambda:ap-northeast-1:000000000000:function:DeployTestDev... \u0026#34;python3.9\u0026#34; update arn:aws:lambda:ap-northeast-1:000000000000:function:toSlack... \u0026#34;python3.9\u0026#34; update arn:aws:lambda:ap-northeast-1:000000000000:function:iot1click_onclick_sms_20190710142349... \u0026#34;python3.9\u0026#34; update arn:aws:lambda:ap-northeast-1:000000000000:function:HinatazakaBlogUpdateCheck... \u0026#34;python3.9\u0026#34; update arn:aws:lambda:ap-northeast-1:000000000000:function:DeployTest... \u0026#34;python3.9\u0026#34; update arn:aws:lambda:ap-northeast-1:000000000000:function:PutItemToDynamoDbFromJson... \u0026#34;python3.9\u0026#34; update arn:aws:lambda:ap-northeast-1:000000000000:function:iot1click_onclick_sms_20190710143217... \u0026#34;python3.9\u0026#34; update arn:aws:lambda:us-west-2:000000000000:function:iot1click_onclick_email_20190710142349... \u0026#34;python3.9\u0026#34; update arn:aws:lambda:us-west-2:000000000000:function:iot1click_onclick_email_20190710143217... \u0026#34;python3.9\u0026#34; update arn:aws:lambda:us-west-2:000000000000:function:iot1click_onclick_sms_20190705234051... \u0026#34;python3.9\u0026#34; ä¸€å¿œå†ç¢ºèª for region in $(aws ec2 describe-regions --query \u0026#39;Regions[].RegionName\u0026#39; --output text); do echo \u0026#34;Lambda function in ${region} with Python 3.6 runtime\u0026#34; aws lambda list-functions \\ --query \u0026#39;Functions[?contains(to_string(Runtime),`python3.6`)].FunctionArn\u0026#39; \\ --region \u0026#34;${region}\u0026#34; done çµæœã€‚\nLambda function in eu-north-1 with Python 3.6 runtime [] Lambda function in ap-south-1 with Python 3.6 runtime [] Lambda function in eu-west-3 with Python 3.6 runtime [] Lambda function in eu-west-2 with Python 3.6 runtime [] Lambda function in eu-west-1 with Python 3.6 runtime [] Lambda function in ap-northeast-3 with Python 3.6 runtime [] Lambda function in ap-northeast-2 with Python 3.6 runtime [] Lambda function in ap-northeast-1 with Python 3.6 runtime [] Lambda function in sa-east-1 with Python 3.6 runtime [] Lambda function in ca-central-1 with Python 3.6 runtime [] Lambda function in ap-southeast-1 with Python 3.6 runtime [] Lambda function in ap-southeast-2 with Python 3.6 runtime [] Lambda function in eu-central-1 with Python 3.6 runtime [] Lambda function in us-east-1 with Python 3.6 runtime [] Lambda function in us-east-2 with Python 3.6 runtime [] Lambda function in us-west-1 with Python 3.6 runtime [] Lambda function in us-west-2 with Python 3.6 runtime [] ã•ã‚ˆã†ãªã‚‰ã€ Python 3.6 ğŸ‘‹\næ³¨æ„ç‚¹ ã‚ãã¾ã§ã‚‚æ‰‹å‹•ã§ä½œã£ãŸ Lambda é–¢æ•°ã«å¯¾ã—ã¦ã®ã¿ã®å¤‰æ›´ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ CFn ã‚„ Terraform ãªã©ã§ç®¡ç†ã•ã‚Œã¦ã„ã‚‹ Lambda é–¢æ•°ã‚’ã“ã®æ–¹æ³•ã§ç·¨é›†ã—ãŸå ´åˆã€ãã‚Œã‚‰ã®æ¬¡å›ä»¥é™ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ ",
    "permalink": "https://michimani.net/post/aws-update-lambda-functions-python36-to-python39/",
    "title": "AWS CLI ã§ Lambda é–¢æ•°ã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚’ä¸€æ‹¬ã§æ›´æ–°ã™ã‚‹"
  },
  {
    "contents": "AWS Lambda ã®å„é–¢æ•°ã«å¯¾ã—ã¦å€‹åˆ¥ã® URL ã‚’å‰²ã‚Šå½“ã¦ã‚‹æ©Ÿèƒ½ AWS Lambda Function URLs ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸã®ã§è©¦ã—ã¦ã¿ã¾ã™ã€‚\nä¾‹ã®ã”ã¨ãã€è«¸ã€…ã®æ“ä½œã¯ AWS CLI v1 (1.22.90 ä»¥é™) ã§æ—¢ã«å¯¾å¿œã—ã¦ã„ã‚‹ (v2 ã¯å¤šåˆ† æ•°æ—¥å¾Œã«å¯¾å¿œ) ã®ã§ CLI ã§æ“ä½œã—ã¾ã™ã€‚\nè¿½è¨˜ (2022/04/09) v2 ã«é–¢ã—ã¦ã‚‚ 2.5.4 ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¾ã—ãŸã€‚\naws-cli/CHANGELOG.rst at 2.5.4 Â· aws/aws-cli è¿½è¨˜ 2 (2022/04/22) CloudFormation ã§ã‚‚æ§‹ç¯‰ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ãŸã®ã§è©¦ã—ã¾ã—ãŸã€‚\nCloudFormation ã§ Lambda Function URLs ã‚’ç®¡ç†ã™ã‚‹ - michimani.net AWS Lambda Function URLs ã®æ¦‚è¦ è©³ç´°ã¯ä¸‹è¨˜ã® AWS å…¬å¼ãƒ–ãƒ­ã‚°ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nAnnouncing AWS Lambda Function URLs: Built-in HTTPS Endpoints for Single-Function Microservices | AWS News Blog AWS Lambda ã®å„é–¢æ•°ã«å€‹åˆ¥ã® URL ã‚’å‰²ã‚Šå½“ã¦ã€ HTTPS ã§ Lambda é–¢æ•°ã‚’ invoke ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ API Gateway ã®è¨­å®šãŒä¸è¦ã«ãªã‚‹ URL ã¯ Lambda é–¢æ•°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«å¯¾ã—ã¦è¨­å®šã™ã‚‹ è¤‡æ•°è¨­å®šã§ãã€ä¾‹ãˆã°é–‹ç™ºä¸­ã®ç¢ºèªç”¨ã‚’ $LATEST ã«è¨­å®šã—ã€å®‰å®šç‰ˆã‚„ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç”¨ã‚’ä»–ã®ä»»æ„ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã«è¨­å®šã™ã‚‹ ã¨ã„ã£ãŸã“ã¨ãŒå¯èƒ½ Functions URLs ã®è¨­å®šè‡ªä½“ã«æ–™é‡‘ã¯ç™ºç”Ÿã›ãšã€ Lambda é–¢æ•°ã®å®Ÿè¡Œã«å¯¾ã—ã¦ç™ºç”Ÿã™ã‚‹æ–™é‡‘ã«å«ã¾ã‚Œã‚‹ èªå¯æ–¹æ³•ã¨ã—ã¦ã¯ IAM ã‚‚ã—ãã¯ ç„¡ã— (å®Œå…¨ã«ãƒ‘ãƒ–ãƒªãƒƒã‚¯) ãŒé¸æŠã§ãã‚‹ CORS ã‚‚è¨­å®šå¯ ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã® Content-type ã¯ application/json ã‚‚ã—ãã¯ text/* ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ æŒ‡å®šã—ãªã„å ´åˆã€ base64-encoded ãªå€¤ã¨ã—ã¦æ¸¡ã•ã‚Œã‚‹ã®ã§ Lambda é–¢æ•°å´ã§ decode ãŒå¿…è¦ã«ãªã‚‹ API Gateway ã¨ã®ä½¿ã„åˆ†ã‘ ä¸‹è¨˜ã®ã‚ˆã†ãª API Gateway ã®æ©Ÿèƒ½ã‚’ä½¿ã„ãŸã„ã‹ã©ã†ã‹ ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚° ã‚«ã‚¹ã‚¿ãƒ ã‚ªãƒ¼ã‚½ãƒ©ã‚¤ã‚¶ãƒ¼ ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ ä½¿ç”¨ãƒ—ãƒ©ãƒ³ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ webhook ã®ãƒãƒ³ãƒ‰ãƒ©ãªã©ã§ã‚ã‚Œã° Functions URLs ãŒã‚ˆã•ãã† è¿½åŠ ã•ã‚ŒãŸãƒªã‚½ãƒ¼ã‚¹ Functions URLs ã®ãƒªãƒªãƒ¼ã‚¹ã«ä¼´ã£ã¦ FunctionUrlConfig ã¨ã„ã†æ–°ã—ã„ãƒªã‚½ãƒ¼ã‚¹ãŒå¢—ãˆã¦ã„ã¾ã™ã€‚1\nFunctionUrl (string) ç™ºè¡Œã•ã‚ŒãŸ HTTP URLã€‚\nFunctionArn (string) è¨­å®šã•ã‚Œã¦ã„ã‚‹ Lambda é–¢æ•°ã® ARN\nAuthType (string) èªå¯ã‚¿ã‚¤ãƒ—ã€‚ AWS_IAM ã¾ãŸã¯ NONE\nCors (structure) CORS ã®è¨­å®šã€‚è©³ç´°ã¯ä¸‹è¨˜ã®é …ç›®ã€‚\nAllowCredentials (boolean) Cookie ã‚„ãã®ä»–ã®ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«ã‚’è¨±å¯ã™ã‚‹ã‹ã©ã†ã‹ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ false ã€‚\nAllowHeaders (list) ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã«è¨±å¯ã™ã‚‹ãƒ˜ãƒƒãƒ€ (string) ã®ãƒªã‚¹ãƒˆã€‚\nAllowMethods (list) è¨±å¯ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ (string) ã®ãƒªã‚¹ãƒˆã€‚\nAllowOrigins (list) è¨±å¯ã™ã‚‹ origin (string) ã®ãƒªã‚¹ãƒˆã€‚\nExposeHeaders (list) ã‚ªãƒªã‚¸ãƒ³ã«å¯¾ã—ã¦å…¬é–‹ã—ãŸã„ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ (string) ã®ãƒªã‚¹ãƒˆã€‚\nMaxAge (integer) ãƒ–ãƒ©ã‚¦ã‚¶ã® preflight request ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹æ™‚é–“ (ç§’)ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ 0 ã€‚\nCreationTime (string) FunctionUrlConfig ãŒä½œæˆã•ã‚ŒãŸæ—¥æ™‚ã€‚ISO-8601 (YYYY-MM-DDThh:mm:ss.sTZD).\nLastModifiedTime (string) FunctionUrlConfig ãŒæ›´æ–°ã•ã‚ŒãŸæ—¥æ™‚ã€‚ISO-8601 (YYYY-MM-DDThh:mm:ss.sTZD).\nAWS CLI ã«è¿½åŠ ã•ã‚ŒãŸã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ AWS CLI ã«ã‚‚ã€ãã®ãƒªã‚½ãƒ¼ã‚¹ã«å¯¾ã™ã‚‹ create, delete, get, list, update ã®ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ãŒå¢—ãˆã¦ã„ã¾ã™ã€‚\naws lambda help | grep function-url o create-function-url-config o delete-function-url-config o get-function-url-config o list-function-url-configs o update-function-url-config ä¾‹ãˆã° create-function-url-config ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\nSYNOPSIS create-function-url-config --function-name \u0026lt;value\u0026gt; [--qualifier \u0026lt;value\u0026gt;] --auth-type \u0026lt;value\u0026gt; [--cors \u0026lt;value\u0026gt;] [--cli-input-json \u0026lt;value\u0026gt;] [--generate-cli-skeleton \u0026lt;value\u0026gt;] function-name URL ã‚’ç™ºè¡Œã—ãŸã„ Lambda é–¢æ•°ã®åå‰ ã¾ãŸã¯ ARN ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nqualifier URL ã‚’ç™ºè¡Œã—ãŸã„ Lambda é–¢æ•°ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã€‚æŒ‡å®šã—ãªã„å ´åˆ $LATEST ã«ãªã‚Šã¾ã™ã€‚\nauth-type èªå¯æ–¹æ³•ã€‚ AWS_IAM ã¾ãŸã¯ NONE ã‚’æŒ‡å®šã—ã¾ã™ã€‚\ncors CORS ã®è¨­å®šã€‚ä¸‹è¨˜å†…å®¹ã§è¨­å®šã—ã¾ã™ã€‚\n{ \u0026#34;AllowCredentials\u0026#34;: true, \u0026#34;AllowHeaders\u0026#34;: [ \u0026#34;\u0026#34; ], \u0026#34;AllowMethods\u0026#34;: [ \u0026#34;\u0026#34; ], \u0026#34;AllowOrigins\u0026#34;: [ \u0026#34;\u0026#34; ], \u0026#34;ExposeHeaders\u0026#34;: [ \u0026#34;\u0026#34; ], \u0026#34;MaxAge\u0026#34;: 0 } è¨­å®šã—ã¦ã¿ã‚‹ ã ã„ã¶å‰ã«ä½œã£ã¦æ”¾ç½®ã—ã¦ã„ãŸ umiwind-lambda ã¨ã„ã†é–¢æ•°ãŒã‚ã£ãŸã®ã§ã€ãã‚Œã«å¯¾ã—ã¦è¨­å®šã—ã¦ã¿ã¾ã™ã€‚\nä»Šå›ã¯ã¨ã‚Šã‚ãˆãšè©¦ã—ã¦ã™ãæ¶ˆã™ã®ã§èªå¯ã¯ãªã—ã€ CORS ã‚‚ * ã§è¨­å®šã—ã¦å®Œå…¨ãªãƒ‘ãƒ–ãƒªãƒƒã‚¯çŠ¶æ…‹ã§è©¦ã™ã€‚ã“ã®çŠ¶æ…‹ã§ URL ãŒå‰²ã‚ŒãŸã‚‰ã¨æ€ã†ã¨æ€–ã„ã§ã™ã­ã€‚\naws lambda create-function-url-config \\ --function-name \u0026#39;umiwind-lambda\u0026#39; \\ --auth-type \u0026#39;NONE\u0026#39; \\ --cors \u0026#39;AllowCredentials=false,AllowMethods=GET,AllowOrigins=*\u0026#39; å‡ºåŠ›ã€‚\n{ \u0026#34;FunctionUrl\u0026#34;: \u0026#34;https://ouws7qavn54XXXXXXXXXXXXXXXXXXXXX.lambda-url.ap-northeast-1.on.aws/\u0026#34;, \u0026#34;FunctionArn\u0026#34;: \u0026#34;arn:aws:lambda:ap-northeast-1:000000000000:function:umiwind-lambda\u0026#34;, \u0026#34;AuthType\u0026#34;: \u0026#34;NONE\u0026#34;, \u0026#34;Cors\u0026#34;: { \u0026#34;AllowCredentials\u0026#34;: false, \u0026#34;AllowMethods\u0026#34;: [ \u0026#34;GET\u0026#34; ], \u0026#34;AllowOrigins\u0026#34;: [ \u0026#34;*\u0026#34; ] }, \u0026#34;CreationTime\u0026#34;: \u0026#34;2022-04-06T23:32:56.130866Z\u0026#34; } curl ã§å©ã„ã¦ã¿ã¾ã™ã€‚\ncurl https://ouws7qavn54XXXXXXXXXXXXXXXXXXXXX.lambda-url.ap-northeast-1.on.aws/ | jq å‡ºåŠ›ã€‚\n{ \u0026#34;ja\u0026#34;: { \u0026#34;date\u0026#34;: \u0026#34;2022/04/07\u0026#34;, \u0026#34;vector\u0026#34;: \u0026#34;åŒ—åŒ—æ±\u0026#34;, \u0026#34;time\u0026#34;: \u0026#34;08:55\u0026#34;, \u0026#34;velocity\u0026#34;: \u0026#34;8 m\u0026#34;, \u0026#34;message\u0026#34;: \u0026#34;[2022/04/07 08:55 JST] ç¾åœ¨ã®é¢¨å‘ã¯ åŒ—åŒ—æ± é¢¨é€Ÿã¯ 8 m ã§ã™\u0026#34; }, \u0026#34;en\u0026#34;: { \u0026#34;date\u0026#34;: \u0026#34;2022/04/07\u0026#34;, \u0026#34;vector\u0026#34;: \u0026#34;NNE\u0026#34;, \u0026#34;time\u0026#34;: \u0026#34;08:55\u0026#34;, \u0026#34;velocity\u0026#34;: \u0026#34;8 m\u0026#34;, \u0026#34;message\u0026#34;: \u0026#34;[2022/04/07 08:55 JST] The current wind direction is NNE and the wind speed is 8 m.\u0026#34; }, \u0026#34;message\u0026#34;: \u0026#34;ok\u0026#34; } ç„¡äº‹ã«ã†ã¿ã»ãŸã‚‹ã®é¢¨å‘ãƒ»é¢¨é€ŸãŒå–ã‚Œã¾ã—ãŸã€‚ç°¡å˜ã€‚\nå‰Šé™¤ delete-function-url-config ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§å‰Šé™¤ã—ã¾ã™ã€‚\naws lambda delete-function-url-config \\ --function-name umiwind-lambda ã¾ã¨ã‚ Lambda é–¢æ•°ã‚’ HTTP URL ã§ invoke ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸ AWS CLI ã¯ã€æ…£ç¿’é€šã‚Šä»Šã¯ã¾ã  v1 ã®ã¿åˆ©ç”¨å¯ v1 ã¯ 1.22.90 ä»¥é™ã€ v2 ã¯ 2.5.4 ä»¥é™ã§ã‚µãƒãƒ¼ãƒˆ aws lambda get-function-url-config help ã®å‡ºåŠ›ã‹ã‚‰ç¢ºèª\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-ger-started-lambda-functions-urls/",
    "title": "Lambda é–¢æ•°ã«å€‹åˆ¥ã® URL ã‚’è¨­å®šã§ãã‚‹ AWS Lambda Function URLs ã‚’è©¦ã™"
  },
  {
    "contents": "Amazon CloudFront ãŒ Server Timing ã«å¯¾å¿œã—ãŸã¿ãŸã„ãªã®ã§ã€æ—¢å­˜ã® distribution ã«å¯¾ã—ã¦è¨­å®šã—ã¦ã©ã‚“ãªæƒ…å ±ãŒå¾—ã‚‰ã‚Œã‚‹ã®ã‹è©¦ã—ã¦ã¿ã¾ã™ã€‚\nServer Timing ã¨ã¯ This specification enables a server to communicate performance metrics about the request-response cycle to the user agent. It also standardizes a JavaScript interface to enable applications to collect, process, and act on these metrics to optimize application delivery.\nServer Timing : https://w3c.github.io/server-timing/ W3C ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ä»•æ§˜ã§ã€ã‚µãƒ¼ãƒã«å¯¾ã™ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«é–¢ã™ã‚‹æƒ…å ±ã‚’ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ã® Server-Timing ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’é€šã˜ã¦ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ä¼ãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚\nã“ã‚Œã«ã‚ˆã‚Šã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¾ãŸã¯ã‚ªãƒªã‚¸ãƒ³ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å–å¾—ã™ã‚‹ã®ã«ã‹ã‹ã£ãŸæ™‚é–“ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã©ã®ã‚ˆã†ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã•ã‚Œã¦ã©ã“ã§æ™‚é–“ãŒè²»ã‚„ã•ã‚ŒãŸã‹ã‚’çŸ¥ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã§ã™ã€‚\nAmazon CloudFront ã§ã®ã‚µãƒãƒ¼ãƒˆ Starting today, you can configure your CloudFront distributions to include Server Timing headers to monitor CloudFront behavior and performance. Server Timing headers provide detailed performance information, such as whether content was served from cache when a request was received, how the request was routed to the CloudFront edge location, and how much time elapsed during each stage of the connection and response process.\nAmazon CloudFront now supports Server Timing headers CloudFront ã§ã¯ã€ ResponseHeadersPolicy ã®è¨­å®šé …ç›®ã¨ã—ã¦ Server Timing ãŒè¿½åŠ ã•ã‚Œã€ æœ‰åŠ¹/ç„¡åŠ¹ ã¨ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ãƒ¬ãƒ¼ãƒˆã‚’è¨­å®šã—ã¾ã™ã€‚\nç¾æ™‚ç‚¹ (2022/04/01) ã§ã¯ AWS CLI ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ (1.22.86, 2.5.1) ã§ã‚‚å¯¾å¿œã—ã¦ãŠã‚‰ãšã€ create-response-headers-policy ãŠã‚ˆã³ update-response-headers-policy ã§è¨­å®šã§ããšã€ get-response-headers-policy ãŠã‚ˆã³ list-response-headers-policies ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã‚‚è¨­å®šé …ç›®ã®æƒ…å ±ã¯å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ãªã®ã§ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ã®ã¿è¨­å®šãƒ»é–²è¦§ãŒå¯èƒ½ã§ã™ã€‚\nè¨­å®šã—ã¦ç¢ºèª ResponseHeadersPolicy ã®é …ç›®ã¨ã—ã¦ã¯ æœ‰åŠ¹/ç„¡åŠ¹ ã¨ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ãƒ¬ãƒ¼ãƒˆã®ã¿ã§ã€ä½œæˆã—ãŸ ResponseHeadersPolicy ã‚’ä»»æ„ã® distribution ã®ä»»æ„ã® behavior ã® Response headers policy ã«ã¦è¨­å®šã—ã¦ä½¿ã„ã¾ã™ã€‚\næ‰‹é †ã«ã¤ã„ã¦ã¯ç‰¹ã«æ–°ã—ã„è¦ç´ ã‚‚ãªã„ã®ã§å‰²æ„›ã€ã¨ã‚Šã‚ãˆãšã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ãƒ¬ãƒ¼ãƒˆã¯ 100% ã§è¨­å®šã—ã¦ç¢ºèªã—ã¾ã™ã€‚\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ç¢ºèªã«ã¯ httpie ã‚’ä½¿ã„ã¾ã™ã€‚(curl ã‚‚ã„ã„ã‘ã© httpie ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒä½¿ã„ã‚„ã™ã„ã€‚å‡ºåŠ›ã‚‚è¦‹ã‚„ã™ã„ã€‚)\nhttp -p hH https://michimani.net/ CLI ã§ http ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ãªã‚‰ HTTPie ãŒä¾¿åˆ© - michimani.net å‡ºåŠ›ã®ç¢ºèª CloudFront ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆã—ãŸå ´åˆã¨ã—ãªã‹ã£ãŸå ´åˆã¨ã§ã€ãã‚Œãã‚Œ Server-Timing ãƒ˜ãƒƒãƒ€ã«å«ã¾ã‚Œã‚‹å€¤ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nServer-Timing ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã®è©³ç´°ãªèª¬æ˜ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nUnderstanding response headers policies #server-timing-header - Amazon CloudFront ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆã—ãŸå ´åˆ HTTP/1.1 200 OK Accept-Ranges: bytes Age: 1 Cache-Control: no-store Connection: keep-alive Content-Length: 10871 Content-Type: text/html;charset=UTF-8 Date: Fri, 01 Apr 2022 14:34:31 GMT ETag: \u0026#34;a9105ce3fc62d088f4c991060d32d77f\u0026#34; Last-Modified: Thu, 17 Mar 2022 09:41:20 GMT Server: AmazonS3 Server-Timing: cdn-cache-hit,cdn-pop;desc=\u0026#34;NRT12-C3\u0026#34;,cdn-rid;desc=\u0026#34;KwMMqgb8SoVYsOfXg7IFyIfE0nTpjdjNfwpPzDPQPdv7ldjaNqTJGw==\u0026#34;,cdn-hit-layer;desc=\u0026#34;EDGE\u0026#34; Via: 1.1 e72e0d477a3b173c0d7c54332be184a4.cloudfront.net (CloudFront) X-Amz-Cf-Id: KwMMqgb8SoVYsOfXg7IFyIfE0nTpjdjNfwpPzDPQPdv7ldjaNqTJGw== X-Amz-Cf-Pop: NRT12-C3 X-Cache: Hit from cloudfront x-amz-server-side-encryption: AES256 ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§æƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚\ncdn-cache-hit, cdn-pop;desc=\u0026#34;NRT12-C3\u0026#34;, cdn-rid;desc=\u0026#34;KwMMqgb8SoVYsOfXg7IFyIfE0nTpjdjNfwpPzDPQPdv7ldjaNqTJGw==\u0026#34;, cdn-hit-layer;desc=\u0026#34;EDGE\u0026#34; cdn-cache-hit ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆã—ãŸã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\ncdn-pop;desc=\u0026ldquo;NRT12-C3\u0026rdquo; CloudFront ã®ã©ã® POP (point of presence) ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã—ãŸã‹ã€‚\nNRT ã¯æˆç”°ç©ºæ¸¯ã® IATA ã‚³ãƒ¼ãƒ‰ãªã®ã§ã€ãã®ã‚ãŸã‚Šã®ã‚¨ãƒƒã‚¸ãŒå‡¦ç†ã—ãŸã¨æ€ã‚ã‚Œã‚‹ã€‚\ncdn-rid;desc=\u0026ldquo;KwMMqgb8SoVYsOfXg7IFyIfE0nTpjdjNfwpPzDPQPdv7ldjaNqTJGw==\u0026rdquo; ãƒªã‚¯ã‚¨ã‚¹ãƒˆ IDã€‚ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒˆç”¨ã€‚\ncdn-hit-layer;desc=\u0026ldquo;EDGE\u0026rdquo; ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆã—ãŸãƒ¬ã‚¤ãƒ¤ãƒ¼ã€‚CloudFront ãŒã‚ªãƒªã‚¸ãƒ³ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã‚ãšã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™å ´åˆã«å«ã¾ã‚Œã‚‹å€¤ã€‚\nã“ã®å ´åˆ EDGE ãªã®ã§ POP ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ãƒ’ãƒƒãƒˆã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹ãƒ’ãƒƒãƒˆã®å ´åˆ HTTP/1.1 200 OK Accept-Ranges: bytes Cache-Control: no-store Connection: keep-alive Content-Length: 10871 Content-Type: text/html;charset=UTF-8 Date: Fri, 01 Apr 2022 14:34:06 GMT ETag: \u0026#34;a9105ce3fc62d088f4c991060d32d77f\u0026#34; Last-Modified: Thu, 17 Mar 2022 09:41:20 GMT Server: AmazonS3 Server-Timing: cdn-upstream-layer;desc=\u0026#34;EDGE\u0026#34;,cdn-upstream-dns;dur=0,cdn-upstream-connect;dur=9,cdn-upstream-fbl;dur=78,cdn-cache-miss,cdn-pop;desc=\u0026#34;NRT12-C3\u0026#34;,cdn-rid;desc=\u0026#34;0_6wUpeXAmA-0HC9ZWaMp9MnPjjlhtC4PmP7bHkfXXqYt-bMIxz5tw==\u0026#34; Via: 1.1 823128cacec2b9d382c65187bf76768e.cloudfront.net (CloudFront) X-Amz-Cf-Id: 0_6wUpeXAmA-0HC9ZWaMp9MnPjjlhtC4PmP7bHkfXXqYt-bMIxz5tw== X-Amz-Cf-Pop: NRT12-C3 X-Cache: Miss from cloudfront x-amz-server-side-encryption: AES256 cdn-upstream-layer;desc=\u0026#34;EDGE\u0026#34;, cdn-upstream-dns;dur=0, cdn-upstream-connect;dur=9, cdn-upstream-fbl;dur=78, cdn-cache-miss, cdn-pop;desc=\u0026#34;NRT12-C3\u0026#34;, cdn-rid;desc=\u0026#34;0_6wUpeXAmA-0HC9ZWaMp9MnPjjlhtC4PmP7bHkfXXqYt-bMIxz5tw==\u0026#34; cdn-upstream-layer;desc=\u0026ldquo;EDGE\u0026rdquo; CloudFront ãŒã‚ªãƒªã‚¸ãƒ³ã«å¯¾ã—ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ãŸã¨ãã«å«ã¾ã‚Œã‚‹å€¤ã€‚\nã“ã®å ´åˆã€ POP ãŒã‚ªãƒªã‚¸ãƒ³ã«å¯¾ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ãŸã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\ncdn-upstream-dns;dur=0 ã‚ªãƒªã‚¸ãƒ³ã® DNS ãƒ¬ã‚³ãƒ¼ãƒ‰ã®å–å¾—ã«ã‹ã‹ã£ãŸæ™‚é–“ (ãƒŸãƒªç§’) ã€‚\n0 ã®å ´åˆã€ CloudFront ãŒã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¦ã„ã‚‹ DNS ã‚’çµæœã‚’ä½¿ç”¨ã—ãŸã‹ã€æ—¢å­˜ã®æ¥ç¶šã‚’å†åˆ©ç”¨ã—ãŸã“ã¨ã‚’ç¤ºã—ã¾ã™ã€‚\ncdn-upstream-connect;dur=9 ã‚ªãƒªã‚¸ãƒ³ã® DNS è§£æ±ºãŒå®Œäº†ã—ã¦ã‹ã‚‰ã‚ªãƒªã‚¸ãƒ³ã¸ã® TCP æ¥ç¶šãŒå®Œäº†ã™ã‚‹ã¾ã§ã«ã‹ã‹ã£ãŸæ™‚é–“ (ãƒŸãƒªç§’) ã€‚\ncdn-upstream-fbl;dur=78 ã‚ªãƒªã‚¸ãƒ³ã¸ã® HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå®Œäº†ã—ã¦ã‹ã‚‰ã€æœ€åˆã®ãƒã‚¤ãƒˆåˆ—ãŒè¿”ã£ã¦ãã‚‹ã¾ã§ã«ã‹ã‹ã£ãŸæ™‚é–“ (ãƒŸãƒªç§’) ã€‚ (fbl = first byte latency)\ncdn-cache-miss ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆã›ãšã€ã‚ªãƒªã‚¸ãƒ³ã«å¯¾ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ã„ã¾ã™ã€‚\ncdn-pop;desc=\u0026ldquo;NRT12-C3\u0026rdquo; CloudFront ã®ã©ã® POP (point of presence) ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã—ãŸã‹ã€‚\nNRT ã¯æˆç”°ç©ºæ¸¯ã® IATA ã‚³ãƒ¼ãƒ‰ãªã®ã§ã€ãã®ã‚ãŸã‚Šã®ã‚¨ãƒƒã‚¸ãŒå‡¦ç†ã—ãŸã¨è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚\ncdn-rid;desc=\u0026ldquo;0_6wUpeXAmA-0HC9ZWaMp9MnPjjlhtC4PmP7bHkfXXqYt-bMIxz5tw==\u0026rdquo; ãƒªã‚¯ã‚¨ã‚¹ãƒˆ IDã€‚ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒˆç”¨ã€‚\nã¾ã¨ã‚ CloudFront ãŒ ServerTiming ã«å¯¾å¿œã—ã¦ã€è«¸ã€…ã®æƒ…å ±ãŒãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ã‹ã‚‰å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nç‰¹ã«ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆã—ãªã‹ã£ãŸå ´åˆã«ã‚ªãƒªã‚¸ãƒ³ã¨ã®æ¥ç¶šã«ã‹ã‹ã£ãŸæ™‚é–“ã€ã‚ªãƒªã‚¸ãƒ³ã‹ã‚‰ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã£ã¦ãã‚‹ã¾ã§ã«ã‹ã‹ã£ãŸæ™‚é–“ãŒã‚ã‹ã‚‹ã‚ˆã†ã«ãªã£ãŸã“ã¨ã§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã®ãŸã‚ã®ä¸€ã¤ã®æƒ…å ±ã¨ã—ã¦å½¹ã«ç«‹ã¡ãã†ã§ã™ã€‚\nAWS CLI/AWS SDK/Terraform ã§ ResponseHeadersPolicy ã®è¨­å®šé …ç›®ã‚’å®šç¾©ãƒ»é–²è¦§ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã‚‰ã¾ãŸè©¦ã—ã¾ã™ã€‚\nå‚è€ƒ Server Timing : https://w3c.github.io/server-timing/ Amazon CloudFront now supports Server Timing headers Understanding response headers policies - Amazon CloudFront Amazon CloudFrontãŒCDN-ã‚ªãƒªã‚¸ãƒ³é–“ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è¨ˆæ¸¬ã™ã‚‹Server Timingã«å¯¾å¿œã—ã¾ã—ãŸ | DevelopersIO ",
    "permalink": "https://michimani.net/post/aws-cloudfront-support-server-timing/",
    "title": "Amazon CloudFront ãŒ Server Timing ã«å¯¾å¿œã—ãŸã¿ãŸã„ãªã®ã§è©¦ã—ã¦ã¿ã‚‹"
  },
  {
    "contents": "ã‚¿ã‚¤ãƒˆãƒ«ã®é€šã‚Šã€ macOS 12.3 ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸç›´å¾Œã‹ã‚‰ MacBook Pro (Intel) ã§å¤–éƒ¨ãƒ¢ãƒ‹ã‚¿ãƒ¼ãŒ 1 æšã—ã‹èªè­˜ã—ãªããªã‚Šã¾ã—ãŸã€‚\nMac mini ã¨ LG ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã§ã®ä¼¼ãŸã‚ˆã†ãªæŒ™å‹•ã¯ã„ãã¤ã‹å ±å‘Šã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ãŒã€ MacBook Pro ã§ã®äº‹è±¡ã¯ã‚ã¾ã‚Šè¦‹ãªã„ã®ã§ä½•ã‹ã®å‚è€ƒã«ãªã‚Œã°ã€‚(ä½•ã®)\nè§£æ±ºç­– äº‹è±¡ã«ã¤ã„ã¦ã‚‚æŠŠæ¡ã—ã¦ã„ã¦ã€ã¨ã«ã‹ãè§£æ±ºç­–ãŒçŸ¥ã‚ŠãŸã„ã¨ã„ã†ã‹ã¯ã“ã“ã ã‘èª­ã‚“ã§è©¦ã—ã¦ã¿ã¦ã‚‚ã‚‰ãˆã‚Œã°ã¨æ€ã„ã¾ã™ã€‚\nçµè«–ã€DisplayPort 1.4 ã§ã®æ¥ç¶šã§ã¯ãªãã€ HDMI ã§æ¥ç¶šã™ã‚Œã° 2 æšã®ãƒ¢ãƒ‹ã‚¿ãƒ¼ã‚’èªè­˜ã—ã¦ãã‚Œã¾ã—ãŸã€‚\nå¯¾è±¡ MacBook Pro 13-inch, 2018, Four Thunderbolt 3 Ports å¤–éƒ¨ãƒ¢ãƒ‹ã‚¿ãƒ¼ BenQ EL2870U BenQ EL3270U èµ·ã“ã£ãŸäº‹è±¡ å¤–éƒ¨ãƒ¢ãƒ‹ã‚¿ãƒ¼ãŒ 1 æšã—ã‹èªè­˜ã—ãªããªã£ãŸ 2 æšæ¥ç¶šã—ãŸçŠ¶æ…‹ã§å†èµ·å‹•ã™ã‚‹ã¨ã€èªè­˜ã¯ã—ã¦ã„ã‚‹ã£ã½ã„ (ã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒè¨­å®šã®ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã«ã¯å‡ºã¦ã“ãªã„) ãŒç‰‡æ–¹ã®ãƒ¢ãƒ‹ã‚¿ãƒ¼ã¯ãƒ–ãƒ©ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã—ã¦ã„ã‚‹ æ¥ç¶šã—ã¦ã„ã‚‹ã‚±ãƒ¼ãƒ–ãƒ«ã‚’æŠœãå·®ã—ã™ã‚‹ã¨ã€ãã‚Œä»¥é™ã¯ãƒ–ãƒ©ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã™ã‚‰ã—ãªã„ ã„ã¤ã‹ã‚‰ macOS 12.2 ã‹ã‚‰ macOS 12.3 ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸç›´å¾Œã‹ã‚‰ã€‚\nè©¦ã—ãŸã“ã¨ MacBook Pro å´ SMC ãƒªã‚»ãƒƒãƒˆ NVRAM ãƒªã‚»ãƒƒãƒˆ å¤–éƒ¨ãƒ¢ãƒ‹ã‚¿ãƒ¼ã‚’æ¥ç¶šã—ãŸçŠ¶æ…‹ã§å†èµ·å‹• å¤–éƒ¨ãƒ¢ãƒ‹ã‚¿ãƒ¼ã‚’æ¥ç¶šã—ã¦ã„ãªã„çŠ¶æ…‹ã§å†èµ·å‹•ã€èµ·å‹•å¾Œã«æ¥ç¶š ã‚·ã‚¹ãƒ†ãƒ çµ‚äº† â†’ èµ·å‹• æ¥ç¶šã¾ã‚ã‚Š æ™®æ®µã¯ä¸‹è¨˜ã®ã‚ˆã†ã«æ¥ç¶šã—ã¦ã„ã¾ã™ã€‚\n[MacBook Pro] -- [CalDigit USB Pro Dock] -- DisplayPort -- [BenQ EL2870U] | `-- DisplayPort -- [BenQ EL3270U] ã“ã®çŠ¶æ…‹ã§ãƒ€ãƒ¡ã ã£ãŸã®ã§ã€ä¸‹è¨˜ã®æ¥ç¶šæ–¹æ³•ã‚’è©¦ã—ã¾ã—ãŸã€‚\na. 1 æšã¯ Dock çµŒç”±ã€ã‚‚ã† 1 æšã¯ USB Type-C ã§ MBP ã¨ç›´æ¥ [MacBook Pro] -- [CalDigit USB Pro Dock] -- DisplayPort -- [BenQ EL2870U] | `-- USB Type-C -- [BenQ EL3270U] ã“ã‚Œã‚‚ã ã‚ã€‚\nb. 1 æšã¯ USB Type-C ã§ MBP ã¨ç›´æ¥ã€1 æšã¯ Apple ç´”æ­£ã‚¢ãƒ€ãƒ—ã‚¿çµŒç”±ã§ HDMI æ¥ç¶š [MacBook Pro] -- [Apple USB Digital Multi Port] -- HDMI -- [BenQ EL2870U] | `-- USB Type-C -- [BenQ EL3270U] ã“ã‚Œã‚‚ã ã‚ã€‚\nc. 2 æšã¨ã‚‚ Apple ç´”æ­£ã‚¢ãƒ€ãƒ—ã‚¿çµŒç”±ã§ HDMI æ¥ç¶š [MacBook Pro] -- [Apple USB Digital Multi Port] -- HDMI -- [BenQ EL2870U] | `-- [Apple USB Digital Multi Port] -- HDMI -- [BenQ EL3270U] ã“ã‚Œã¯ OK ã§ã—ãŸã€‚\nã¡ãªã¿ã«ä¼šç¤¾ã‹ã‚‰è²¸ä¸ã•ã‚Œã¦ã„ã‚‹ MacBook Pro (13-inch, 2020, Four Thunderbolt 3 Ports) ã§ã¯ã“ã®æ¥ç¶šæ–¹æ³•ã‚’ã¨ã£ã¦ãŠã‚Šã€ macOS 12.2 ã§å•é¡Œãªã 2 æšèªè­˜ã•ã‚Œã¦ã„ã¾ã™ã€‚\nDisplayPort ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå•é¡Œï¼Ÿ DisplayPort 1.4 ã®ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ãŒåŸå› ã¨ã„ã†è¨˜äº‹ã‚‚ã‚ã‚Šã€ä»Šå›ã®äº‹è±¡ã¨è©¦ã—ãŸçµæœã‹ã‚‰ã‚‚ãŠãã‚‰ããã†ãªã®ã‹ãªã¨ã„ã†è¦‹è§£ã§ã™ã€‚\nã²ã¨ã“ã¨ ã›ã£ã‹ãå¤§ãã„ãƒ¢ãƒ‹ã‚¿ãƒ¼ãŒ 2 æšã‚ã‚‹ã®ã« 1 æšæ­»ã‚“ã§ã‚‹ã®ã¯è¾›ã„ã§ã™ã­ã€‚\n",
    "permalink": "https://michimani.net/post/gadget-macos-12-3-issue-for-intel-mac/",
    "title": "macOS 12.3 ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸã‚‰ MacBook Pro (Intel) ã§å¤–éƒ¨ãƒ¢ãƒ‹ã‚¿ãƒ¼ãŒ 1 æšã—ã‹èªè­˜ã—ãªããªã£ãŸ"
  },
  {
    "contents": "ä½•ã‚‚æ›¸ã‹ãªã„ã®ã¯ã‚¢ãƒ¬ãªã®ã§ã€ç°¡å˜ã« 2021 å¹´ã®æŒ¯ã‚Šè¿”ã‚Šã‚’ã—ã¦ãŠãã¾ã™ã€‚\nå»å¹´ã®æœ€å¾Œã«æ›¸ã„ã¦ã„ãŸã“ã¨ ä»Šå¹´ã¯ 11 æœˆã«è»¢è·ã—ã¦ç’°å¢ƒãŒå¤§ããå¤‰ã‚ã£ãŸã®ã§ã€æ¥å¹´ã¯ã‚‚ã£ã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å¯„ã‚Šã€ã¨ã„ã†ã‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ã‹ã®å†…å®¹ã€ã‚ã¨ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²ã‚æ–¹ã¨ã‹ãã®ã¸ã‚“ã®çŸ¥è¦‹ã‚’æ·±ã‚ãŸã„ãªã¨æ€ã„ã¾ã™ã€‚ã‚ã¨ã¯ã€ Go è¨€èªã‚’ãƒ¡ã‚¤ãƒ³ã§è§¦ã‚‹ã“ã¨ã«ãªã£ãŸã®ã§ã‚‚ã£ã¨ Go ã®å‹‰å¼·ã—ã¾ã™ã€‚\nhttps://michimani.net/post/other-retrospect-in-2020/ ã“ã“ã«æ›¸ã„ã¦ã„ãŸã“ã¨ã‚’ä¸­å¿ƒã«æŒ¯ã‚Šè¿”ã£ã¦ã¿ã¾ã™ã€‚\nã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å¯„ã‚Šã€ã¨ã„ã†ã‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ã‹ã®å†…å®¹ AWS Lambda Ã— RDS è¾›ã•ã‚’èº«ã‚’ã‚‚ã£ã¦æ„Ÿã˜ãŸ ãƒ‡ãƒ¼ã‚¿æ€è€ƒã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³ ã‚’èª­ã‚“ã§åˆ†æ•£ã‚·ã‚¹ãƒ†ãƒ ã®è¾›ã•ã‚’çŸ¥ã£ãŸ æœ€å¾Œã®ã»ã†ã§ã‚µãƒ¼ãƒ“ã‚¹åˆ†å‰²ã•ã‚ŒãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã¤ã„ã¦è¨­è¨ˆã—ãŸ ã–ã£ãã‚Šæ›¸ãã¨ã“ã‚“ãªãã‚‰ã„ã§ã—ã‚‡ã†ã‹ã€‚(å°‘ãªã„)\nå…¨ä½“çš„ã«ã¯ AWS ã‚’ä½¿ã£ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®é‹ç”¨ã«ã¤ã„ã¦ (ã–ã£ãã‚Š) ã¯è‰²ã€…çµŒé¨“å€¤ãŒãŸã¾ã£ãŸã‹ãªã¨æ€ã„ã¾ã™ã€‚ãŸã ã€ãã®å‹¢ã„ã§å—é¨“ã—ãŸ SAP ã¯ 12 ç‚¹è¶³ã‚‰ãšã«ä¸åˆæ ¼ã ã£ãŸã®ã§ã€ã¾ã ã¾ã åˆå¿ƒè€…ã§ã™ã€‚SAA ã®æœŸé™ãŒåˆ‡ã‚Œã‚‹æ¥å¹´ã® 6 æœˆã¾ã§ã«ã¯åˆæ ¼ã—ãŸã„ã¨ã“ã‚ã€‚(ã“ã“ã§è¨€è³ªè­¦å¯ŸãŒãã‚‹)\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²ã‚æ–¹ åŠå¹´ãã‚‰ã„ã‚¹ã‚¯ãƒ©ãƒ ãƒã‚¹ã‚¿ãƒ¼ã‚„ã£ã¦ã¿ãŸ (é€²è¡Œå½¢) PdM ä¸åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å„æ‰€ã¨ä»•æ§˜ã¨ã‹ãƒªãƒªãƒ¼ã‚¹æ—¥ã®èª¿æ•´ã¨ã‹ã—ãŸ é …ç›®ã¨ã—ã¦ã¯å°‘ãªã„ã§ã™ãŒã€ã“ã®éƒ¨åˆ†ãŒå¤§ãã„ã‹ãªã¨ã€‚\nã‚¹ã‚¯ãƒ©ãƒ ãƒã‚¹ã‚¿ãƒ¼ã‚’ã‚„ã‚‹æ©Ÿä¼šãŒè»¢ãŒã£ã¦ããŸã®ã§ã€ä½•ã‚‚ã‚ã‹ã‚‰ãªã„çŠ¶æ…‹ã§ãã®ãƒœãƒ¼ãƒ«ã‚’æ‹¾ã£ã¦åŠå¹´ãã‚‰ã„ã‚¹ã‚¯ãƒ©ãƒ ãƒã‚¹ã‚¿ãƒ¼ã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚ç¾åœ¨é€²è¡Œå½¢ã§ã‚„ã£ã¦ã¾ã™ã€‚ãŠãã‚‰ãä¸–é–“ä¸€èˆ¬ã«æœŸå¾…ã•ã‚Œã‚‹ã‚¹ã‚¯ãƒ©ãƒ ãƒã‚¹ã‚¿ãƒ¼ã¨ã—ã¦ã®å‹•ãã¯å‡ºæ¥ã¦ã„ãªã„æ°—ãŒã—ã¾ã™ãŒã€ã¨ã«ã‹ããƒãƒ¼ãƒ ã®éšœå®³ã‚’æ’é™¤ã™ã‚‹å‹•ãã‚’å¿ƒãŒã‘ã¦å‹•ãã¾ã—ãŸã€‚(å‹•ã„ã¦ã„ã¾ã™)\nå„ã‚¹ã‚¯ãƒ©ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã®æº–å‚™ (miro ã®ãƒœãƒ¼ãƒ‰ä½œã£ãŸã‚Š Jira ã®ãƒœãƒ¼ãƒ‰ä½œã£ãŸã‚Šãªã‚“ã‚„ã‹ã‚“ã‚„) ã¨é€²è¡Œã€ä»–éƒ¨ç½²ãƒ»ä»–ãƒãƒ¼ãƒ ã¨ã®èª¿æ•´ãªã©ãªã©ã‚’ã‚„ã‚Šã¾ã—ãŸã€‚ã“ã®ã¸ã‚“ã‚’ã‚„ã£ã¦ã„ã‚‹ã¨ã¾ã¨ã¾ã£ãŸæ™‚é–“ã‚’ç¢ºä¿ã™ã‚‹ã®ãŒé›£ã—ãã€è‡ªåˆ†ãŒæ‰‹ã‚’å‹•ã‹ã—ã¦å®Ÿè£…ã—ãŸã‚Šã™ã‚‹ã“ã¨ã¯å°‘ãªããªã‚Šã¾ã—ãŸã€‚ã‚„ã‚Šå§‹ã‚ã¦ã‹ã‚‰æ•°ãƒ¶æœˆã¯ã€æ‰‹å‹•ã‹ã›ãªã„ã®è¾›ã„ãªã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€è‡ªåˆ†ãŒç€æ‰‹ã—ãŸã‚¿ã‚¹ã‚¯ã®é€²æ—ãŒèŠ³ã—ããªãã¦ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã«ãªã‚‹å ´é¢ã‚‚ã‚ã£ã¦ã€éšœå®³ã‚’æ’é™¤ã™ã‚‹ãŸã‚ã®äººé–“ãŒéšœå®³ã«ãªã£ã¦ã—ã¾ã£ã¦ã„ã‚‹ãª\u0026hellip;ã¨æ€ã†ã“ã¨ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚ãã†ãªã£ã¦ã¯æœ¬æœ«è»¢å€’ãªã®ã§ã€ä¸€ç•ªã®å½¹å‰²ã¯éšœå®³ã®æ’é™¤ã§ã‚ã‚‹ã¨è¨€ã„èã‹ã›ã¦æœ€è¿‘ã¯ã¡ã‚‡ã£ã¨è«¦ã‚ã¨ã„ã†ã‹æ°—æŒã¡ã®æ•´ç†ãŒã¤ã„ã¦ããŸæ„Ÿã˜ã§ã™ã€‚\né›£ã—ã„éƒ¨åˆ†ã¯å¤šã€…ã‚ã‚Šã¾ã™ãŒã€ãƒ¬ãƒˆãƒ­ã‚¹ãƒšã‚¯ãƒ†ã‚£ãƒ–ã§ä½¿ç”¨ã™ã‚‹æŒ¯ã‚Šè¿”ã‚Šã®æ‰‹æ³•ãŒè‰²ã€…ã‚ã£ãŸã‚Šã€Jira åŠ›ãŒä¸ŠãŒã£ãŸã‚Šã€ãã‚‚ãã‚‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã£ã¦ã©ã†ã‚„ã£ãŸã‚‰ä¸Šæ‰‹ãé€²ã‚€ã‚“ã‚„ï¼Ÿã¨ã„ã†ã¨ã“ã‚ã‚’è€ƒãˆã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã¯åç©«ã‹ãªã¨æ€ã„ã¾ã™ã€‚\nä»–ã®ä¼šç¤¾ã•ã‚“ãŒã©ã‚“ãªæ„Ÿã˜ã§ã‚¹ã‚¯ãƒ©ãƒ å›ã—ã¦ã‚‹ã®ã‹æ°—ã«ãªã‚‹ã¨ã“ã‚ã§ã™ã€‚\nGo ã®å‹‰å¼·ã—ã¾ã™ ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’é€šã˜ã¦æ—¥ã€…å‹‰å¼· CLI ãƒ„ãƒ¼ãƒ«ã¨ã‹ Twitter API ç”¨ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä½œã£ãŸã‚Šã—ãŸ Go ã«é–¢ã—ã¦ã¯ã€ä»–ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒæ›¸ã„ãŸã‚³ãƒ¼ãƒ‰èª­ã‚“ã ã‚Šã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã‚‚ã‚‰ã„ãªãŒã‚‰æ—¥ã€…å‹‰å¼·ä¸­ã§ã™ã€‚\nã‚¹ã‚¯ãƒ©ãƒ ãƒã‚¹ã‚¿ãƒ¼ã«ãªã£ã¦ä»•äº‹ã§æ‰‹ã‚’å‹•ã‹ã›ãªã„æ™‚æœŸã«ã¯ã€å‹‰å¼·ã‚‚ã‹ã­ã¦ Twitter API v2 ç”¨ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚\nmichimani/gotwi å‹¢ã„ã§ä½œã£ã¦ã¿ãŸå‰²ã«ã¯ã‚¹ã‚¿ãƒ¼ãŒ 15 ã‚‚ä»˜ã„ãŸã‚Š (å¤šãã¯ãªã„ã‘ã©å¬‰ã—ã„)ã€ Twitter ã® developer ãƒšãƒ¼ã‚¸ ã«è¼‰ã£ãŸã‚Šã—ã¾ã—ãŸã€‚(å¬‰ã—ã„)\nTwitter API v2 ã¯ã¾ã ç¶šã€…ã¨ API ãŒè¿½åŠ ã•ã‚Œã¦ã„ã£ã¦ã„ã‚‹ã®ã§ã€ç›†æ ½ã‚’è‚²ã¦ã‚‹ã‚ˆã†ã«ç´°ã€…ã¨ãƒ¡ãƒ³ãƒ†ã—ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\nãã®ä»– Chrome æ‹¡å¼µä½œã£ã¦å…¬é–‹ã—ãŸ Google Workspaces ç”¨ã®ã‚¢ãƒ‰ã‚ªãƒ³ä½œã£ã¦å…¬é–‹ã—ãŸ ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å‹‰å¼·ä¼šã¯ã‚ã¾ã‚Šå‚åŠ ã§ããªã‹ã£ãŸ ä½“é‡ã¯æ¸›ã‚‰ã›ãªã‹ã£ãŸ ãƒã‚¤ã‚¯ä¹—ã‚Šæ›ãˆãŸ ã¾ã¨ã‚ å…¨ä½“é€šã—ã¦ã‚ã¾ã‚Šé€²æ—ã®ãªã„ä¸€å¹´ã ã£ãŸãªã¨ã€ä¸»è¦³çš„ã«ã¯æ€ã†ã€‚ã‚‚ã†å°‘ã—ç´°ã‹ã„æœŸé–“ã§ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å¾—ã‚‰ã‚Œã‚‹ã¨å¬‰ã—ã„ãªã¨æ„Ÿã˜ã‚‹å ´é¢ãŒã‚ã£ãŸã‚Šã€ä»Šã‚„ã£ã¦ã‚‹ã“ã¨ãŒæ­£è§£ãªã®ã‹ãŒã‚ã‹ã‚‹æ—¥ãŒã„ã¤ãªã‚“ã ï¼Ÿã¨ã„ã†ä¸å®‰ã•ã‚‚ã‚ã‚‹ã€‚ãŸã ã€ä»Šã¾ã§ã‚„ã£ãŸã“ã¨ãŒãªã„ã“ã¨ã‚’ã‚„ã£ã¦ã„ã‚‹ã®ã§ãã®è¾ºã‚‚æ‰‹æ¢ã‚Šãªã®ã‹ãªãƒ¼ã¨æ€ã£ãŸã‚Šã€‚ã§ã‚‚ä½•ã‹ã—ã‚‰è©•ä¾¡ã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ¬²ã—ã„ãªã¨æ€ã£ãŸã‚Šã€‚ãã‚“ãªå¹´æœ«ã§ã™ã€‚(ã¨ã¯)\næ¥å¹´ã“ãã¯ SAP åˆæ ¼ã—ã¾ã™ã€‚ãã‚Œã§ã¯ã¾ãŸæ¥å¹´ğŸ‘‹\n",
    "permalink": "https://michimani.net/post/other-retrospect-in-2021/",
    "title": "2021 å¹´ã‚’é›‘ã«æŒ¯ã‚Šè¿”ã£ã¦ã¿ã‚‹"
  },
  {
    "contents": "ã¯ã˜ã‚ã« ã“ã®è¨˜äº‹ã¯ å¼è­·å£«ãƒ‰ãƒƒãƒˆã‚³ãƒ  Advent Calendar 2021 ã® 9 æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚\næ˜¨æ—¥ã¯ @takky ã•ã‚“ã® ã€Œ ãƒãƒ¼ãƒ ã§å†…éƒ¨APIé–‹ç™ºã‚’ã™ã‚‹ã¨ãã®ãƒ„ãƒ¼ãƒ« ã€ ã®è©±ã§ã—ãŸã€‚ãœã²ã“ã¡ã‚‰ã®è¨˜äº‹ã‚‚ã”è¦§ãã ã•ã„ã€‚\nã¡ãªã¿ã«å»å¹´ã¯ AWS CLI ã ã‘ã§ Hugo ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹ãƒãƒ³ã‚ºã‚ªãƒ³çš„ãªè¨˜äº‹ ã‚’æ›¸ã„ã¦ã¾ã—ãŸã€‚\nç›®æ¬¡ ä»Šå›æ›¸ãã“ã¨ ä½œã£ãŸã‚‚ã® ã–ã£ãã‚Šè§£èª¬ CDK ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ Go ã§ Lambda é–¢æ•°ã‚’å®Ÿè£…ã™ã‚‹ CDK ã§ Go ã§å®Ÿè£…ã—ãŸ Lambda é–¢æ•°ã‚’å®šç¾©ã™ã‚‹ CDK ã§ Step Functions ã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’å®šç¾©ã™ã‚‹ CDK ã®ãƒ†ã‚¹ãƒˆ ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸ Lambda é–¢æ•°ã€ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’æ‰‹å‹•ã§å®Ÿè¡Œã™ã‚‹ ã¾ã¨ã‚ ä»Šå›æ›¸ãã“ã¨ ä»Šå›ã¯ã€ã“ã® 1 å¹´é–“ã§æ–°ãŸã«è§¦ã‚ŒãŸæŠ€è¡“è¦ç´ ã¨ã€ä»Šã¾ã§ã»ã¨ã‚“ã©è§¦ã£ã¦ã„ãªã‹ã£ãŸ AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç„¡ç†ã‚„ã‚Šçµ„ã¿åˆã‚ã›ã¦ä½•ã‹ã‚’ä½œã£ã¦ã¿ãŸè©±ã§ã™ã€‚\nã“ã® 1 å¹´é–“ã§æ–°ãŸã«è§¦ã‚ŒãŸæŠ€è¡“è¦ç´ ã¯ã€ Go è¨€èªã§ã™ã€‚\nGo è¨€èªã‚’æœ¬æ ¼çš„ã«å®Ÿå‹™ã§ä½¿ã†ã‚ˆã†ã«ãªã£ãŸã®ã¯å¼è­·å£«ãƒ‰ãƒƒãƒˆã‚³ãƒ ã«è»¢è·ã—ã¦ã‹ã‚‰ãªã®ã§ã€æ­´ã¨ã—ã¦ã¯ã¡ã‚‡ã†ã© 1 å¹´ãã‚‰ã„ã§ã™ã€‚ä»Šå›ã¯ã€Go ã‚’ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã¨ã—ãŸ Lambda é–¢æ•°ã‚’å®Ÿè£…ã—ã¾ã™ã€‚Lambda é–¢æ•°ã§ã¯ã€ å®£ä¼ã‚‚å…¼ã­ã¦ è‡ªä½œã—ãŸ Twitter API v2 ã® Go ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ç‰¹å®šã®æ–‡å­—åˆ—ã‚’ãƒ„ã‚¤ãƒ¼ãƒˆã—ã¾ã™ã€‚\nä»Šã¾ã§ã»ã¨ã‚“ã©è§¦ã£ã¦ã„ãªã‹ã£ãŸ AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦ã¯ã€ AWS Step Functions (ä»¥ä¸‹ã€Step Functions (åŠè§’ã‚¹ãƒšãƒ¼ã‚¹è­¦å¯Ÿã«æ³¨æ„ã§ã™)) ã‚’ä½¿ã£ã¦ã¿ã¾ã™ã€‚\nStep Functions ã«é–¢ã—ã¦ã¯ã€æœ€è¿‘ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸ AWS SDK Integration ã‚‚è©¦ã—ã¦ã¿ã¾ã™ã€‚\nGo ã§ Lambda é–¢æ•°ã‚’æ›¸ããŸã„æ–¹ã€ AWS CDK ã‚’ä½¿ã£ã¦ Step Functions ã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’æ§‹ç¯‰ã—ã¦ã¿ãŸã„æ–¹ã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚\nä½œã£ãŸã‚‚ã® ä½œã£ãŸã‚‚ã®ã¯ã€ Step Functions ã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã¨ã—ã¦ AWS SDK Integration ã¨ Lambda é–¢æ•°ã‚’ç¹‹ã’ãŸã ã‘ã®ç°¡ç´ ãªç¿»è¨³ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§ã™ã€‚\nã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã¯ä¸‹è¨˜ã®ã‚ˆã†ãª JSON ã‚’ input ã¨ã—ã¦å—ã‘å–ã‚Šã¾ã™ã€‚\n{ \u0026#34;sourceLang\u0026#34;: \u0026#34;ja\u0026#34;, \u0026#34;targetLang\u0026#34;: \u0026#34;en\u0026#34;, \u0026#34;inputText\u0026#34;: \u0026#34;ã“ã‚“ã«ã¡ã¯\u0026#34; } AWS SDK Integration ã§ã¯ã€å—ã‘å–ã£ãŸ input ã‚’ã‚‚ã¨ã« Amazon Translate ã® TranslateText ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nå®Ÿè¡Œã—ãŸçµæœã® JSON ã‹ã‚‰ç¿»è¨³æ¸ˆã¿ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¸‹è¨˜ã®ã‚ˆã†ãª JSON ã«åŸ‹ã‚è¾¼ã‚ã“ã‚“ã§ã€æ¬¡ã® Lambda é–¢æ•°ã« input ã¨ã—ã¦æ¸¡ã—ã¾ã™ã€‚ { \u0026#34;inputText\u0026#34;: \u0026#34;Hello\u0026#34; } Lambda é–¢æ•°ã¯å—ã‘å–ã£ãŸ JSON ã® inputeText ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®æ–‡å­—åˆ—ã‚’ã€ Twitter API v2 ã® POST /v2/tweets ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ãƒ„ã‚¤ãƒ¼ãƒˆã—ã¾ã™ã€‚\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã—ã¦ãƒ„ã‚¤ãƒ¼ãƒˆã•ã‚Œã¦ãŸãƒ„ã‚¤ãƒ¼ãƒˆã® ID ãŒè¿”ã£ã¦ãã‚‹ã®ã§ã€ãã®å€¤ã‚’ output ã—ã¾ã™ã€‚ ãã—ã¦ã€ã“ã‚Œã‚‰ã®æ§‹æˆã¯ AWS CDK (ä»¥ä¸‹ã€CDK) ã§ç®¡ç†ã—ã¾ã™ã€‚\nCDK ã«ã¤ã„ã¦ã¯ã€æœ€è¿‘ \u0026ldquo;RC\u0026rdquo; ãŒå–ã‚Œã¦ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸ v2.0.0 ã‚’ TypeScript ã§ä½¿ã„ã¾ã™ã€‚\nv2 ä½¿ã†ãªã‚‰ CDK ã‚‚ Go ä½¿ãˆã°ã„ã„ã®ã§ã¯ï¼Ÿ ã¨ãªã‚Šã¾ã™ãŒã€ Go ã«ã¤ã„ã¦ã¯ã¾ã  developer release ãªã®ã§ã“ã“ã§ã¯ TypeScript ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚\nä½œã£ãŸã‚‚ã®ã¯ GitHub ã«ç½®ã„ã¦ã„ã¾ã™ã€‚ä»¥é™ã¯ã»ã¼ã“ã®ãƒªãƒã‚¸ãƒˆãƒªå†…ã®èª¬æ˜ã«ãªã‚‹ã®ã§ã€ä¸­èº«ã ã‘è¦‹ãŸã„ã¨ã„ã†æ–¹ã¯ãƒªãƒã‚¸ãƒˆãƒªã®æ–¹ã‚’ã”è¦§ãã ã•ã„ã€‚\nã–ã£ãã‚Šè§£èª¬ ã“ã“ã‹ã‚‰ã¯ä½œã£ãŸã‚‚ã® ( michimani/honyakutter-ts ) ã®è§£èª¬ã‚’ã—ã¦ã„ãã¾ã™ã€‚\nè§£èª¬ã®å‰æ è§£èª¬ã™ã‚‹ã«ã‚ãŸã£ã¦ã€ä¸‹è¨˜ã®å†…å®¹ã‚’å‰æã¨ã—ã¾ã™ã€‚\nAWS CDK ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 2.0.0 ãƒ‡ãƒ—ãƒ­ã‚¤å¯¾è±¡ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¯ ap-northeast-1 (æ±äº¬) AWS CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ v2.4.5 ãŠã‚ˆã³ 1.22.21 Go ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 1.17 ãƒ­ãƒ¼ã‚«ãƒ«ã®ç’°å¢ƒã¯ macOS 11.6 (Intel) CDK ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ ã¾ãšã¯ CDK ã§ç®¡ç†ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã§ã™ã€‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆé¡ã€ Makefileã€ Git ç®¡ç†ã•ã‚Œãªã„ã‚‚ã®ãªã©ã€ç›´æ¥ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«é–¢ä¿‚ãªã„ã‚‚ã®ã¯çœç•¥ã—ã¦ã„ã¾ã™ã€‚\nhonyakutter-ts â”œâ”€â”€ README.md â”œâ”€â”€ bin â”‚ â””â”€â”€ honyakutter-ts.ts â”œâ”€â”€ cdk.json â”œâ”€â”€ jest.config.js â”œâ”€â”€ lib â”‚ â””â”€â”€ honyakutter-ts-stack.ts â”œâ”€â”€ package-lock.json â”œâ”€â”€ package.json â”œâ”€â”€ resources â”‚ â”œâ”€â”€ lambda.ts â”‚ â”œâ”€â”€ lambdaFunctions â”‚ â”‚ â””â”€â”€ tweet â”‚ â”‚ â”œâ”€â”€ go.mod â”‚ â”‚ â”œâ”€â”€ go.sum â”‚ â”‚ â””â”€â”€ main.go â”‚ â”œâ”€â”€ logs.ts â”‚ â””â”€â”€ stepFunctions.ts â”œâ”€â”€ test â”‚ â””â”€â”€ honyakutter-ts.test.ts â”œâ”€â”€ testdata â”‚ â”œâ”€â”€ statemachine_input.json â”‚ â””â”€â”€ tweet_lambda_payload.json â””â”€â”€ tsconfig.json cdk init --language=typescript ã§åˆæœŸåŒ–ã—ãŸã¨ãã«ç”Ÿæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ä»¥å¤–ã«è¿½åŠ ã—ã¦ã„ã‚‹ã®ã¯ resources ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ testdata ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã™ã€‚\nresources reosurces ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ AWS ã®å„ç¨®ãƒªã‚½ãƒ¼ã‚¹ã®å®šç¾©ã‚’ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«åˆ†ã‘ã¦é…ç½®ã—ã¦ã„ã¾ã™ã€‚\nlambda.ts \u0026hellip; ãƒ„ã‚¤ãƒ¼ãƒˆã™ã‚‹ãŸã‚ã® Lambda é–¢æ•°ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ logs.ts \u0026hellip; Step Functions ã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã®å®Ÿè¡Œçµæœã‚’å‡ºåŠ›ã™ã‚‹ CloudWatch Logs ã® LogGroup ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ stepFunctions.ts \u0026hellip; Step Functions ã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ ã¾ãŸã€ Lambda é–¢æ•°ã®å®Ÿä½“ (ã‚³ãƒ¼ãƒ‰) ã«ã¤ã„ã¦ã¯ lambdaFunctions ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®ã—ã¦ã„ã¾ã™ã€‚\nä»Šå›ã¯ Go ã§å®Ÿè£…ã—ãŸã®ã§ã€ lambdaFunctions/tweet ã®ä¸‹ã« main.go ã¨ go.mod ãŠã‚ˆã³ go.sum ãŒã‚ã‚Šã¾ã™ã€‚\ntestdata testdata ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸ Lambda é–¢æ•°ã‚’å˜ä½“ã§èµ·å‹•ã€ãŠã‚ˆã³ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’èµ·å‹•ã™ã‚‹ã¨ãã« input ã¨ã—ã¦æ¸¡ã™ JSON ã‚’ç½®ã„ã¦ã„ã¾ã™ã€‚Lambda é–¢æ•°ãŠã‚ˆã³ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’æ‰‹å‹•ã§å®Ÿè¡Œã™ã‚‹éš›ã«ã¯ AWS CLI ã‚’ä½¿ã„ã¾ã™ã€‚(å¾Œè¿°ã—ã¾ã™)\nGo ã§ Lambda é–¢æ•°ã‚’å®Ÿè£…ã™ã‚‹ ä»Šå›ã¯ event (= input) ã¨ã—ã¦å—ã‘å–ã£ãŸæ–‡å­—åˆ—ã«ã€å®Ÿè¡Œæ™‚ã®æ™‚åˆ»ã‚’ä»˜ä¸ã—ã¦ãƒ„ã‚¤ãƒ¼ãƒˆã™ã‚‹ Lambda é–¢æ•°ã‚’ Go ã§å®Ÿè£…ã—ã¾ã—ãŸã€‚ main.go ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚\npackage main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;time\u0026#34; \u0026#34;github.com/aws/aws-lambda-go/lambda\u0026#34; \u0026#34;github.com/michimani/gotwi\u0026#34; \u0026#34;github.com/michimani/gotwi/tweets\u0026#34; \u0026#34;github.com/michimani/gotwi/tweets/types\u0026#34; ) const ( OAuthTokenEnvKeyName = \u0026#34;GOTWI_ACCESS_TOKEN\u0026#34; OAuthTokenSecretEnvKeyName = \u0026#34;GOTWI_ACCESS_TOKEN_SECRET\u0026#34; ) type TweetEvent struct { Text TweetText `json:\u0026#34;inputText\u0026#34;` } type TweetText string func (t TweetText) withCurrentTime() string { now := time.Now() return fmt.Sprintf(\u0026#34;[%s] %s\u0026#34;, now, t) } func handleRequest(ctx context.Context, event TweetEvent) (string, error) { fmt.Printf(\u0026#34;%#+v\\n\u0026#34;, event) c, err := newTiwtterClient() if err != nil { return \u0026#34;\u0026#34;, err } tweetText := event.Text.withCurrentTime() tweetID, err := tweet(c, tweetText) if err != nil { return \u0026#34;\u0026#34;, err } return tweetID, nil } func newTiwtterClient() (*gotwi.GotwiClient, error) { in := \u0026amp;gotwi.NewGotwiClientInput{ AuthenticationMethod: gotwi.AuthenMethodOAuth1UserContext, OAuthToken: os.Getenv(OAuthTokenEnvKeyName), OAuthTokenSecret: os.Getenv(OAuthTokenSecretEnvKeyName), } return gotwi.NewGotwiClient(in) } func tweet(c *gotwi.GotwiClient, text string) (string, error) { p := \u0026amp;types.ManageTweetsPostParams{ Text: gotwi.String(text), } res, err := tweets.ManageTweetsPost(context.Background(), c, p) if err != nil { return \u0026#34;\u0026#34;, err } return gotwi.StringValue(res.Data.ID), nil } func main() { lambda.Start(handleRequest) } ãƒ„ã‚¤ãƒ¼ãƒˆã¯ Twitter API v2 ã® POST /v2/tweet ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¾ã™ã€‚ãã®éš›ã€ gotwi ã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚Go ã§ Twitter API v2 ã‚’ä½¿ãˆã‚‹è‰¯ã„æ„Ÿã˜ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒãªã‹ã£ãŸã®ã§ã€ Go ã®å‹‰å¼·ã‚‚å…¼ã­ã¦è‡ªä½œã—ã¾ã—ãŸã€‚\nTwitter Developer ã§å–å¾—ã—ãŸ API Key/API Key Secret ãŠã‚ˆã³ Access Token/Access Token Secret ã‚’ç’°å¢ƒå¤‰æ•°ãŠã‚ˆã³ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆæ™‚ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ Twitter ã®å„ç¨® API ã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nStream ç³» API ã«ã¤ã„ã¦ã¯ã¾ã ã‚µãƒãƒ¼ãƒˆã§ãã¦ã„ãªã„ã®ã§ã™ãŒã€ãã‚Œä»¥å¤–ã® v2 ã§åˆ©ç”¨å¯èƒ½ãª API ã«ã¤ã„ã¦ã¯å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚star ãã ã•ã„\nå°‘ã—è©±ãŒé€¸ã‚Œã¾ã—ãŸã€‚\nGo ã§ Lambda é–¢æ•°ã‚’å®Ÿè£…ã™ã‚‹éš›ã«ã¯ã€ Context ã¨ Event ã‚’å—ã‘å–ã‚‹é–¢æ•° (ä»Šå›ã ã¨ handleRequest()) ã‚’å®šç¾©ã—ã¦ã€ main é–¢æ•°å†…ã§ãã®é–¢æ•°ã‚’ lambda.Start ã«æ¸¡ã™ã‚ˆã†ã«ã—ã¾ã™ã€‚\nEvent ã«é–¢ã—ã¦ã¯ JSON ã§æ¸¡ã•ã‚Œã‚‹ã®ã§ã€ãƒ‘ãƒ¼ã‚¹ã§ãã‚‹ã‚ˆã†ã«æ§‹é€ ä½“ã‚’å®šç¾©ã—ã¦ãŠãã¾ã™ã€‚(ä»Šå›ã§ã‚ã‚Œã° TweetEvent)\nLambda é–¢æ•°ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã—ã¦ã€ä»Šå›ã¯å˜ç´”ã« String ã‚’è¿”ã—ã¦ã„ã¾ã™ãŒã€ JSON ã‚’è¿”ã—ãŸã„å ´åˆã¯åˆ¥é€” JSON ã‚¿ã‚°ã‚’ã¤ã‘ãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŒã¤æ§‹é€ ä½“ã‚’ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”¨ã«å®šç¾©ã—ã¦ã€ãƒãƒ³ãƒ‰ãƒ©ãƒ¼é–¢æ•°ã§ãã‚Œã‚’è¿”ã™ã‚ˆã†ã«ã—ã¾ã™ã€‚ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”¨ã®æ§‹é€ ä½“ã‚’å®šç¾©ã—ã¦ã„ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚‚ç½®ã„ã¦ãŠãã¾ã™ã€‚\nGo ã§å®Ÿè£…ã—ãŸ Lambda é–¢æ•°ã¯ã€ãƒ“ãƒ«ãƒ‰ã—ã¦ã‹ã‚‰ zip ã¨ã—ã¦ã€ã¾ãŸã¯ S3 ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãƒ“ãƒ«ãƒ‰ã™ã‚‹éš›ã€ OS ã¯ linux ã‚’ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ amd64 ã‚’ã€ãã‚Œãã‚ŒæŒ‡å®šã—ã¾ã™ã€‚\nGOOS=linux GOARCH=amd64 go build -o bin/main ãƒãƒ³ãƒ‰ãƒ©ãƒ¼é–¢æ•°ã¨ãƒ¡ã‚¤ãƒ³é–¢æ•°ã®å®šç¾©ã€ãŠã‚ˆã³ãƒ“ãƒ«ãƒ‰æ™‚ã® OS ã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«æ°—ã‚’ã¤ã‘ã‚Œã°ã€ã‚ã¨ã¯æ™®é€šã« Go ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦å®Ÿè£…ã™ã‚‹ã ã‘ã§ã™ã€‚\nCDK ã§ Go ã§å®Ÿè£…ã—ãŸ Lambda é–¢æ•°ã‚’å®šç¾©ã™ã‚‹ Go ã§å®Ÿè£…ã—ãŸ Lambda ã‚’ CDK ã§å®šç¾©ã™ã‚‹ã«ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n1import { Duration } from \u0026#34;aws-cdk-lib\u0026#34;; 2import { Construct } from \u0026#34;constructs\u0026#34;; 3import * as lambda from \u0026#34;aws-cdk-lib/aws-lambda\u0026#34;; 4 5const memorySize = 128; 6const timeout = 60; 7 8/** 9 * Lambda function that tweet a text. 10 * @param scope 11 * @returns lambda.Function 12 */ 13function tweetLambdaFunction(scope: Construct): lambda.Function { 14 return new lambda.Function(scope, \u0026#34;TweetLambdaFunction\u0026#34;, { 15 functionName: \u0026#34;honyakutter-ts-tweet-function\u0026#34;, 16 description: \u0026#34;Tweet text.\u0026#34;, 17 code: new lambda.AssetCode(\u0026#34;./resources/lambdaFunctions/tweet/bin/\u0026#34;), 18 handler: \u0026#34;main\u0026#34;, 19 runtime: lambda.Runtime.GO_1_X, 20 memorySize: memorySize, 21 timeout: Duration.seconds(timeout), 22 environment: { 23 GOTWI_API_KEY: process.env.TWITTER_API_KEY!, 24 GOTWI_API_KEY_SECRET: process.env.TWITTER_API_KEY_SECRET!, 25 GOTWI_ACCESS_TOKEN: process.env.TWITTER_ACCESS_TOKEN!, 26 GOTWI_ACCESS_TOKEN_SECRET: process.env.TWITTER_ACCESS_TOKEN_SECRET! 27 } 28 }); 29} 30 31export { tweetLambdaFunction }; ãƒã‚¤ãƒ³ãƒˆã«ãªã‚‹ã®ã¯ Lambda é–¢æ•°ã®å®Ÿä½“ (= ã‚³ãƒ¼ãƒ‰) ã‚’ã©ã†ã‚„ã£ã¦æ¸¡ã™ã‹ã€ã§ã™ã€‚\nPython ã‚„ Node.js ã§ã‚ã‚Œã° new lambda.InlineCode() ã§ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã§ã‚³ãƒ¼ãƒ‰ã‚’æŒ‡å®šã§ãã¾ã™ãŒã€ Go ã®å ´åˆã¯ new lambda.AssetCode() ã§ãƒ“ãƒ«ãƒ‰å¾Œã®ãƒã‚¤ãƒŠãƒªãŒé…ç½®ã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã—ã¾ã™ã€‚(17 è¡Œç›®)\nã¡ãªã¿ã« CDK v1 ã«ã¯ @aws-cdk/aws-lambda-go ã¨ã„ã†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã‚ã‚Šã€ã‚ˆã‚Šç°¡å˜ã« Go ã§å®Ÿè£…ã—ãŸ Lambda é–¢æ•°ã‚’å®šç¾©ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚(ãƒ­ãƒ¼ã‚«ãƒ«ãƒã‚·ãƒ³ã« Dokcer ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™)\nCDK v2 ã«ã‚‚åŒæ§˜ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ã‚ã‚Šã¾ã™ãŒã€ã“ã®è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã‚‹æ™‚ç‚¹ (2021-12-09 æ™‚ç‚¹) ã§ã¯ Î± ç‰ˆã§ã—ãŸã€‚\n@aws-cdk/aws-lambda-go-alpha CDK ã§ Step Functions ã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’å®šç¾©ã™ã‚‹ ä»Šå›ã¯ resources/stepFunctions.ts ã§ä¸‹è¨˜ã®ã‚ˆã†ã«å®šç¾©ã—ã¦ã„ã¾ã™ã€‚\n1import { Duration } from \u0026#34;aws-cdk-lib\u0026#34;; 2import { Construct } from \u0026#34;constructs\u0026#34;; 3import * as lambda from \u0026#34;aws-cdk-lib/aws-lambda\u0026#34;; 4import * as stepfunctions from \u0026#34;aws-cdk-lib/aws-stepfunctions\u0026#34;; 5import * as tasks from \u0026#34;aws-cdk-lib/aws-stepfunctions-tasks\u0026#34;; 6import { StateMachineLogGroup } from \u0026#34;./logs\u0026#34;; 7 8const stateMachineTimeout = 300; 9const taskTimeout = 60; 10 11function translateTweetStateMaschine( 12 scope: Construct, 13 tweetFunc: lambda.Function 14) { 15 const initState = new stepfunctions.Pass(scope, \u0026#34;init\u0026#34;, { 16 comment: \u0026#34;init state\u0026#34; 17 }); 18 19 // Translate state 20 const translateResultSelector: { [key: string]: string } = { 21 \u0026#34;inputText.$\u0026#34;: \u0026#34;$.TranslatedText\u0026#34; 22 }; 23 const callAWSServiceProps: tasks.CallAwsServiceProps = { 24 service: \u0026#34;Translate\u0026#34;, 25 action: \u0026#34;translateText\u0026#34;, 26 iamResources: [\u0026#34;*\u0026#34;], 27 iamAction: \u0026#34;translate:TranslateText\u0026#34;, 28 parameters: { 29 SourceLanguageCode: stepfunctions.JsonPath.stringAt(\u0026#34;$.sourceLang\u0026#34;), 30 TargetLanguageCode: stepfunctions.JsonPath.stringAt(\u0026#34;$.targetLang\u0026#34;), 31 Text: stepfunctions.JsonPath.stringAt(\u0026#34;$.inputText\u0026#34;) 32 }, 33 resultSelector: translateResultSelector 34 }; 35 const translateState = new tasks.CallAwsService( 36 scope, 37 \u0026#34;TranslateByAmazonTranslate\u0026#34;, 38 callAWSServiceProps 39 ); 40 41 // Tweet state 42 const tweetState = lambdaFunctionToTask(scope, tweetFunc, {}); 43 44 const definition = initState.next(translateState).next(tweetState); 45 46 const logGroup = StateMachineLogGroup( 47 scope, 48 \u0026#34;TranslateTweetStateMachineLogGroup\u0026#34; 49 ); 50 new stepfunctions.StateMachine(scope, \u0026#34;TranslateTweetStateMaschine\u0026#34;, { 51 stateMachineName: \u0026#34;honyakutter-ts-translate-tweet-state-maschine\u0026#34;, 52 stateMachineType: stepfunctions.StateMachineType.EXPRESS, 53 timeout: Duration.seconds(stateMachineTimeout), 54 definition: definition, 55 logs: { 56 destination: logGroup, 57 level: stepfunctions.LogLevel.ALL 58 } 59 }); 60} 61 62function lambdaFunctionToTask( 63 scope: Construct, 64 func: lambda.Function, 65 resultSelector: { [key: string]: string } 66): tasks.LambdaInvoke { 67 const props: tasks.LambdaInvokeProps = { 68 lambdaFunction: func, 69 invocationType: tasks.LambdaInvocationType.REQUEST_RESPONSE, 70 timeout: Duration.seconds(taskTimeout), 71 resultSelector: resultSelector 72 }; 73 74 return new tasks.LambdaInvoke(scope, func.functionName, props); 75} 76 77export { translateTweetStateMaschine }; ãƒã‚¤ãƒ©ã‚¤ãƒˆã—ã¦ã„ã‚‹ç®‡æ‰€ãŒã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã®å„ã‚¹ãƒ†ãƒ¼ãƒˆã«ãªã£ã¦ã„ã¾ã™ã€‚ã²ã¨ã¤ãšã¤è¦‹ã¦ã„ãã¾ã™ã€‚\nä½•ã‚‚ã—ãªã„æœ€åˆã®ã‚¹ãƒ†ãƒ¼ãƒˆ 15const initState = new stepfunctions.Pass(scope, \u0026#34;init\u0026#34;, { 16 comment: \u0026#34;init state\u0026#34; 17}); ã“ã‚Œã¯ä¸€ç•ªæœ€åˆã«ç½®ãã‚¹ãƒ†ãƒ¼ãƒˆ (å¿…ãšç½®ãã‚ã‘ã§ã¯ãªã„) ã§ã€Type ã¯ Pass ã§ã™ã€‚Pass ã¯ input ã‚’ãã®ã¾ã¾ output ã¨ã—ã¦æ¬¡ã®ã‚¹ãƒ†ãƒ¼ãƒˆã«æ¸¡ã—ã¾ã™ã€‚\nAWS SDK Integration ã§ç¿»è¨³ã‚’å®Ÿè¡Œã™ã‚‹ã‚¹ãƒ†ãƒ¼ãƒˆ 20 const translateResultSelector: { [key: string]: string } = { 21 \u0026#34;inputText.$\u0026#34;: \u0026#34;$.TranslatedText\u0026#34; 22 }; 23 const callAWSServiceProps: tasks.CallAwsServiceProps = { 24 service: \u0026#34;Translate\u0026#34;, 25 action: \u0026#34;translateText\u0026#34;, 26 iamResources: [\u0026#34;*\u0026#34;], 27 iamAction: \u0026#34;translate:TranslateText\u0026#34;, 28 parameters: { 29 SourceLanguageCode: stepfunctions.JsonPath.stringAt(\u0026#34;$.sourceLang\u0026#34;), 30 TargetLanguageCode: stepfunctions.JsonPath.stringAt(\u0026#34;$.targetLang\u0026#34;), 31 Text: stepfunctions.JsonPath.stringAt(\u0026#34;$.inputText\u0026#34;) 32 }, 33 resultSelector: translateResultSelector 34 }; 35 const translateState = new tasks.CallAwsService( 36 scope, 37 \u0026#34;TranslateByAmazonTranslate\u0026#34;, 38 callAWSServiceProps 39 ); ç¶šã„ã¦ã¯ã€input å†…ã®æ–‡å­—åˆ—ã‚’ç¿»è¨³ã™ã‚‹ã‚¹ãƒ†ãƒ¼ãƒˆã§ã€ Type ã¯ Task ã§ã™ã€‚Task ã§ã¯ã€ Lambda é–¢æ•°ã‚’å®Ÿè¡Œã—ãŸã‚Šã€ ECS ã‚¿ã‚¹ã‚¯ã‚’èµ·å‹•ã—ãŸã‚Šã€ AWS SDK Integration ã§ AWS ã®å„ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã“ã“ã§ã¯ AWS SDK Integration ã§ Amazon Translate ã® TranslateText ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚\nAWS SDK Integration ã§å„ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹å ´åˆã¯ã€ tasks.CallAwsService() ã§ã‚¿ã‚¹ã‚¯ã‚’ç”Ÿæˆã—ã¾ã™ã€‚ãã®éš›ã® props ã§ã€ \u0026ldquo;ã©ã®ã‚µãƒ¼ãƒ“ã‚¹ã®\u0026rdquo;ã€ \u0026ldquo;ã©ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’\u0026rdquo;ã€ \u0026ldquo;ã©ã‚“ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§\u0026rdquo; å®Ÿè¡Œã™ã‚‹ã‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚å®Ÿè¡Œæ™‚ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦ã‚¹ãƒ†ãƒ¼ãƒˆã¸ã® input å†…ã®å€¤ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ JsonPath.stringAt() ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nä»Šå›ã€ã“ã®ã‚¹ãƒ†ãƒ¼ãƒˆã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ãª JSON ãŒ input ã¨ã—ã¦æ¸¡ã•ã‚Œã‚‹ã®ã§ã€ãã‚Œãã‚Œ \u0026quot;$.sourceLang\u0026quot; ã®ã‚ˆã†ã«ã—ã¦å–å¾—ã—ã€ TranslteText ã®å„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã‚»ãƒƒãƒˆã—ã¦ã„ã¾ã™ã€‚\n{ \u0026#34;sourceLang\u0026#34;: \u0026#34;ja\u0026#34;, \u0026#34;targetLang\u0026#34;: \u0026#34;en\u0026#34;, \u0026#34;inputText\u0026#34;: \u0026#34;ã“ã‚“ã«ã¡ã¯\u0026#34; } ã¾ãŸã€ã“ã®ã‚¹ãƒ†ãƒ¼ãƒˆã§ã¯ ResultSelector ã¨ã—ã¦ \u0026quot;inputText.$\u0026quot;: \u0026quot;$.TranslatedText\u0026quot; ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€ã“ã® Task ã®å®Ÿè¡Œçµæœã‚’ã‚¹ãƒ†ãƒ¼ãƒˆã® output ã¨ã—ã¦æ¬¡ã®ã‚¹ãƒ†ãƒ¼ãƒˆã«æ¸¡ã™ãŸã‚ã«è‰¯ã„æ„Ÿã˜ã«åŠ å·¥ã™ã‚‹ãŸã‚ã®è¨­å®šã§ã™ã€‚ä»Šå›ã§ã‚ã‚Œã°ã€ResultSelector ã‚’æŒ‡å®šã—ãªã„å ´åˆã¯ Amazon Translate ã® TranslateText ã®å®Ÿè¡Œçµæœã§ã‚ã‚‹ä¸‹è¨˜ã®ã‚ˆã†ãª JSON ãŒãã®ã¾ã¾ã“ã®ã‚¹ãƒ†ãƒ¼ãƒˆã® output ã¨ãªã‚Šã€æ¬¡ã®ã‚¹ãƒ†ãƒ¼ãƒˆã«æ¸¡ã•ã‚Œã¾ã™ã€‚\n{ \u0026#34;SourceLanguageCode\u0026#34;: \u0026#34;ja\u0026#34;, \u0026#34;TargetLanguageCode\u0026#34;: \u0026#34;en\u0026#34;, \u0026#34;TranslatedText\u0026#34;: \u0026#34;Hello\u0026#34; } æ¬¡ã®ã‚¹ãƒ†ãƒ¼ãƒˆã§ã‚ã‚‹ Lambda é–¢æ•°ã«ã¯ {\u0026quot;inputText\u0026quot;: \u0026quot;hogehoge\u0026quot;} ã¨ã„ã† JSON ã‚’ event (= input) ã¨ã—ã¦æ¸¡ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãªã®ã§ã€ã“ã®ç¿»è¨³ã‚¹ãƒ†ãƒ¼ãƒˆã® output ã‚’ ResultSelector ã§åŠ å·¥ã—ã¦ã„ã¾ã™ã€‚\nResultSelector ã‚’ \u0026quot;inputText.$\u0026quot;: \u0026quot;$.TranslatedText\u0026quot; ã®ã‚ˆã†ã«å®šç¾©ã™ã‚‹ã“ã¨ã§ã€ã“ã®ã‚¹ãƒ†ãƒ¼ãƒˆã® output ã¯ä¸‹è¨˜ã®ã‚ˆã†ãª JSON ã«ãªã‚Šã¾ã™ã€‚\n{ \u0026#34;inputText\u0026#34;: \u0026#34;Hello\u0026#34; } ãƒ„ã‚¤ãƒ¼ãƒˆã™ã‚‹ Lamdba é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã‚¹ãƒ†ãƒ¼ãƒˆ 42const tweetState = lambdaFunctionToTask(scope, tweetFunc, {}); ç¶šã„ã¦ã¯ã€ input å†…ã®æ–‡å­—åˆ—ã‚’ãƒ„ã‚¤ãƒ¼ãƒˆã™ã‚‹ Lambda é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã‚¹ãƒ†ãƒ¼ãƒˆã§ã€ Type ã¯ã“ã¡ã‚‰ã‚‚ Task ã§ã™ã€‚ã“ã®ã‚¹ãƒ†ãƒ¼ãƒˆã§ã¯ ResultSelector ã¯æŒ‡å®šã—ã¦ã„ãªã„ã®ã§ã€ Lambda é–¢æ•°ã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒãã®ã¾ã¾ã‚¹ãƒ†ãƒ¼ãƒˆã® output ã«ãªã‚Šã¾ã™ã€‚\nã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã®å®šç¾©ã‚’ç”Ÿæˆ æœ€å¾Œã«ã€ã“ã‚Œã¾ã§å®šç¾©ã—ãŸã‚¹ãƒ†ãƒ¼ãƒˆã‚’ç¹‹ã’ã¦ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã®å®šç¾©ã‚’ç”Ÿæˆã—ã¾ã™ã€‚\n44const definition = initState.next(translateState).next(tweetState); ã€ŒCDK ã§ Step Fucntions ã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’å®šç¾©ã™ã‚‹ã®ã€ã‚ã£ã¡ã‚ƒæ¥½ï¼ã€ ã¨ã„ã†ã®ã¯ä»¥å‰ã‹ã‚‰èã„ã¦ã„ãŸã®ã§ã™ãŒã€ãã®æ¥½ã•ã‚’èº«ã‚’ä»¥ã¦æ„Ÿã˜ã¾ã—ãŸã€‚\nã‚„ã£ã¦ã„ã‚‹ã®ã¯ã€å„ã‚¹ãƒ†ãƒ¼ãƒˆã‚’ next() ã§ç¹‹ã„ã§ã„ã‚‹ã ã‘ã§ã™ã€‚ç›´æ„Ÿçš„ã§ã‚ã‹ã‚Šã‚„ã™ãã¦ã‚ã£ã¡ã‚ƒæ¥½ã§ã™ã­ã“ã‚Œã¯ã€‚\nä¾‹ãˆã°ã€ terraform ã§ã“ã‚Œã¨åŒã˜å®šç¾©ã‚’ã—ã‚ˆã†ã¨æ€ã†ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªè¨˜è¿°ã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nresource \u0026#34;aws_sfn_state_machine\u0026#34; \u0026#34;sfn_state_machine\u0026#34; { name = \u0026#34;honyakutter-ts-translate-tweet-state-maschine\u0026#34; type = \u0026#34;EXPRESS\u0026#34; definition = \u0026lt;\u0026lt;EOF { \u0026#34;StartAt\u0026#34;: \u0026#34;init\u0026#34;, \u0026#34;States\u0026#34;: { \u0026#34;init\u0026#34;: { \u0026#34;Type\u0026#34;: \u0026#34;Pass\u0026#34;, \u0026#34;Comment\u0026#34;: \u0026#34;init state\u0026#34;, \u0026#34;Next\u0026#34;: \u0026#34;TranslateByAmazonTranslate\u0026#34; }, \u0026#34;TranslateByAmazonTranslate\u0026#34;: { \u0026#34;Next\u0026#34;: \u0026#34;honyakutter-ts-tweet-function\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;Task\u0026#34;, \u0026#34;ResultSelector\u0026#34;: { \u0026#34;inputText.$\u0026#34;: \u0026#34;$.TranslatedText\u0026#34; }, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:states:::aws-sdk:translate:translateText\u0026#34;, \u0026#34;Parameters\u0026#34;: { \u0026#34;SourceLanguageCode.$\u0026#34;: \u0026#34;$.sourceLang\u0026#34;, \u0026#34;TargetLanguageCode.$\u0026#34;: \u0026#34;$.targetLang\u0026#34;, \u0026#34;Text.$\u0026#34;: \u0026#34;$.inputText\u0026#34; } }, \u0026#34;honyakutter-ts-tweet-function\u0026#34;: { \u0026#34;End\u0026#34;: true, \u0026#34;Retry\u0026#34;: [ { \u0026#34;ErrorEquals\u0026#34;: [ \u0026#34;Lambda.ServiceException\u0026#34;, \u0026#34;Lambda.AWSLambdaException\u0026#34;, \u0026#34;Lambda.SdkClientException\u0026#34; ], \u0026#34;IntervalSeconds\u0026#34;: 2, \u0026#34;MaxAttempts\u0026#34;: 6, \u0026#34;BackoffRate\u0026#34;: 2 } ], \u0026#34;Type\u0026#34;: \u0026#34;Task\u0026#34;, \u0026#34;TimeoutSeconds\u0026#34;: 60, \u0026#34;ResultSelector\u0026#34;: {}, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:states:::lambda:invoke\u0026#34;, \u0026#34;Parameters\u0026#34;: { \u0026#34;FunctionName\u0026#34;: \u0026#34;arn:aws:lambda:ap-northeast-1:XXXXXXXXXXXX:function:honyakutter-ts-tweet-function\u0026#34;, \u0026#34;Payload.$\u0026#34;: \u0026#34;$\u0026#34;, \u0026#34;InvocationType\u0026#34;: \u0026#34;RequestResponse\u0026#34; } } }, \u0026#34;TimeoutSeconds\u0026#34;: 300 } EOF } ã“ã® definition ã®éƒ¨åˆ†ã¯æ‰‹æ›¸ãã§ã™ã€‚è¾›ã„ã§ã™ã­ã“ã‚Œã¯ã€‚\nCDK ã®ãƒ†ã‚¹ãƒˆ CDK ã®ãƒ†ã‚¹ãƒˆã¨ã¯ã€å®šç¾©ã—ãŸãƒªã‚½ãƒ¼ã‚¹ãŒæ­£ã—ãæ§‹ç¯‰ã•ã‚Œã‚‹ã‹ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚ä»Šå›ã§ã‚ã‚Œã°ã€ Lambda é–¢æ•°ã€ Step Functions ã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ãŒå®šç¾©ã—ãŸé€šã‚Šã«æ§‹ç¯‰ã•ã‚Œã‚‹ã‹ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚\nã¨è¨€ã£ã¦ã‚‚å®Ÿéš›ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦æ§‹ç¯‰ã•ã‚Œã‚‹ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã‚ã‘ã§ã¯ãªãã€ TypeScript ã§è¨˜è¿°ã—ãŸå®šç¾©ã‹ã‚‰ CloudFormation ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”Ÿæˆã—ã€ãã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«å¯¾ã—ã¦æœŸå¾…ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ãŒå­˜åœ¨ã™ã‚‹ã‹ã€ã¨ã„ã†ãƒ†ã‚¹ãƒˆã«ãªã‚Šã¾ã™ã€‚å…·ä½“çš„ã«ã¯ã€ Lambda é–¢æ•°ãŒæ§‹ç¯‰ã•ã‚Œã‚‹ã“ã¨ã®ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n1import * as cdk from \u0026#34;aws-cdk-lib\u0026#34;; 2import { Template } from \u0026#34;aws-cdk-lib/assertions\u0026#34;; 3import * as HonyakutterTs from \u0026#34;../lib/honyakutter-ts-stack\u0026#34;; 4 5test(\u0026#34;Tweet Lambda function Created\u0026#34;, () =\u0026gt; { 6 // set environment values for test 7 process.env.TWITTER_API_KEY = \u0026#34;twitter_api_key_for_test\u0026#34;; 8 process.env.TWITTER_API_KEY_SECRET = \u0026#34;twitter_api_key_secret_for_test\u0026#34;; 9 process.env.TWITTER_ACCESS_TOKEN = \u0026#34;twitter_access_token_for_test\u0026#34;; 10 process.env.TWITTER_ACCESS_TOKEN_SECRET = \u0026#34;twitter_access_token_secret_for_test\u0026#34;; 11 12 const app = new cdk.App(); 13 const stack = new HonyakutterTs.HonyakutterTsStack(app, \u0026#34;StackForTest\u0026#34;); 14 const template = Template.fromStack(stack); 15 16 template.hasResourceProperties(\u0026#34;AWS::Lambda::Function\u0026#34;, { 17 FunctionName: \u0026#34;honyakutter-ts-tweet-function\u0026#34;, 18 Description: \u0026#34;Tweet text.\u0026#34;, 19 Runtime: \u0026#34;go1.x\u0026#34;, 20 Handler: \u0026#34;main\u0026#34;, 21 MemorySize: 128, 22 Timeout: 60, 23 Environment: { 24 Variables: { 25 GOTWI_API_KEY: \u0026#34;twitter_api_key_for_test\u0026#34;, 26 GOTWI_API_KEY_SECRET: \u0026#34;twitter_api_key_secret_for_test\u0026#34;, 27 GOTWI_ACCESS_TOKEN: \u0026#34;twitter_access_token_for_test\u0026#34;, 28 GOTWI_ACCESS_TOKEN_SECRET: \u0026#34;twitter_access_token_secret_for_test\u0026#34; 29 } 30 } 31 }); 32}); 12, 13 è¡Œç›®ã§ã‚¹ã‚¿ãƒƒã‚¯ã‚’ç”Ÿæˆã—ã€ãã®ã‚¹ã‚¿ãƒƒã‚¯ã‚’ã‚‚ã¨ã« 14 è¡Œç›®ã§ CloudFormation ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”Ÿæˆã—ã¦ã„ã¾ã™ã€‚\nãã—ã¦ 16 è¡Œç›®ã§ã€ç”Ÿæˆã—ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒæœŸå¾…ã™ã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒã¤ãƒªã‚½ãƒ¼ã‚¹ã‚’å«ã‚“ã§ã„ã‚‹ã‹ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ã„ã¾ã™ã€‚\nãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸ Lambda é–¢æ•°ã€ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’æ‰‹å‹•ã§å®Ÿè¡Œã™ã‚‹ ä»Šå›ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã‚‹ãƒ¡ã‚¤ãƒ³ã®ãƒªã‚½ãƒ¼ã‚¹ã¨ã—ã¦ã¯ Lambda é–¢æ•°ã¨ Step Functions ã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã§ã™ã€‚(ãã®ä»– IAM Role/IAM Policy/CloudWatch Logs ã® LogGroup ç­‰ã‚‚ã‚‚ã¡ã‚ã‚“ã‚ã‚Šã¾ã™)\nãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã®å‹•ä½œç¢ºèªæ–¹æ³•ã¨ã—ã¦ã€ Lambda é–¢æ•°å˜ä½“ã®å®Ÿè¡Œã€ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã¨ã—ã¦ã®å®Ÿè¡Œã‚’ãã‚Œãã‚Œæ‰‹å‹•ã§ã§ãã‚‹ã‚ˆã†ãªæº–å‚™ã‚’ã—ã¾ã—ãŸã€‚å†’é ­ã§ testdata ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¤ã„ã¦è§¦ã‚Œã¾ã—ãŸãŒã€ãã“ã«é…ç½®ã—ãŸ JSON ã‚’ä½¿ã£ã¦ãã‚Œãã‚Œæ‰‹å‹•å®Ÿè¡Œã—ã¾ã™ã€‚\nå®Ÿè¡Œã™ã‚‹ã«ã‚ãŸã£ã¦ã¯ AWS CLI ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä½¿ç”¨ã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ v2.4.5 ãŠã‚ˆã³ 1.22.21 ã§ã™ã€‚ v2 ã¨ v1 ã§ã¯è‹¥å¹²ã‚³ãƒãƒ³ãƒ‰ã«é•ã„ãŒã‚ã‚‹ã®ã§ã€ãã‚Œã«ã¤ã„ã¦ã¯å¾Œè¿°ã—ã¾ã™ã€‚\nLambda é–¢æ•°å˜ä½“ã®å®Ÿè¡Œ Lambda é–¢æ•°ã®å®Ÿè¡Œã«ã¯ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚(v2 ã§å®Ÿè¡Œã™ã‚‹å ´åˆã®ã‚³ãƒãƒ³ãƒ‰)\naws lambda invoke \\ --function-name honyakutter-ts-tweet-function \\ --invocation-type Event \\ --region ap-northeast-1 \\ --payload fileb://testdata/tweet_lambda_payload.json \\ out ã“ã®ã‚³ãƒãƒ³ãƒ‰ã«é–¢ã—ã¦ã€ v1 ã§å®Ÿè¡Œã™ã‚‹å ´åˆã¯ä¸‹è¨˜ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚\naws lambda invoke \\ --function-name honyakutter-ts-tweet-function \\ --invocation-type Event \\ --region ap-northeast-1 \\ - --payload fileb://testdata/tweet_lambda_payload.json \\ + --payload file://testdata/tweet_lambda_payload.json \\ out ã“ã‚Œã¯ AWS CLI ã® v2 ã¨ v1 ã§ãƒã‚¤ãƒŠãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æ‰±ã„ãŒé•ã†ãŸã‚ã§ã™ã€‚è©³ç´°ã«ã¤ã„ã¦ã¯ä»Šå›ã®è¨˜äº‹ã®å†…å®¹ã‹ã‚‰ã¯ã‚ºãƒ¬ã‚‹ã®ã§ã€ä¸‹è¨˜ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nç ´å£Šçš„å¤‰æ›´ - AWS CLI ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 1 ã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 2 ã¸ã®ç§»è¡Œ - AWS Command Line Interface ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã®é–‹å§‹ Step Functions ã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’é–‹å§‹ã™ã‚‹ã«ã¯ã€ã¾ãšã¯ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nSTATEMACHINE_ARN=$( aws stepfunctions list-state-machines \\ --query \u0026#34;stateMachines[?name==\u0026#39;honyakutter-ts-translate-tweet-state-maschine\u0026#39;].stateMachineArn\u0026#34; \\ --output text ) \u0026amp;\u0026amp; echo \u0026#34;${STATEMACHINE_ARN}\u0026#34; ç¶šã„ã¦ã€å–å¾—ã—ãŸ ARN ã‚’ã‚‚ã¨ã«ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’é–‹å§‹ã—ã¾ã™ã€‚\naws stepfunctions start-execution \\ --state-machine-arn \u0026#34;${STATEMACHINE_ARN}\u0026#34; \\ --input file://testdata/statemachine_input.json ã†ã¾ãã„ãã¨è‹±èªã«ç¿»è¨³ã•ã‚ŒãŸæ–‡ç« ãŒãƒ„ã‚¤ãƒ¼ãƒˆã•ã‚Œã¾ã™ã€‚\n[2021-12-07 17:40:17.516840688 +0000 UTC m=+0.036532198] Hello. This is translated from Japanese to English in Amazon Translate (AWS SDK Task State) using Step Functions and tweeted with Lambda functions It is a sentence that was made.\n\u0026mdash; michimani Lv.861 (@michimani210) December 7, 2021 ã¾ã¨ã‚ å¼è­·å£«ãƒ‰ãƒƒãƒˆã‚³ãƒ  Advent Calendar 2021 ã® 9 æ—¥ç›®ã®è¨˜äº‹ã¨ã—ã¦ã€Go ã¨ AWS ã‚’ç„¡ç†ã‚„ã‚Šæ··ãœè¾¼ã‚“ã è©±ã§ã—ãŸã€‚\nå»å¹´ã®ãƒãƒ³ã‚ºã‚ªãƒ³å½¢å¼ã®è¨˜äº‹ ã¨ã¯é•ã£ã¦å˜ç´”ãªã‚„ã£ã¦ã¿ãŸè¨˜äº‹æ‹…ã£ã¦ã—ã¾ã„ã¾ã—ãŸãŒã€å†’é ­ã«æ›¸ã„ãŸé€šã‚Šã€Go ã§ Lambda é–¢æ•°ã‚’æ›¸ããŸã„æ–¹ã€ AWS CDK ã‚’ä½¿ã£ã¦ Step Functions ã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’æ§‹ç¯‰ã—ã¦ã¿ãŸã„æ–¹ã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚(æ—©ã AWS CDK (golang) ã§è§¦ã£ã¦ã¿ãŸè©±ã‚‚æ›¸ããŸã„)\næ˜æ—¥ã®æ‹…å½“ã¯ @takapiya ã•ã‚“ã§ã™ã€‚ãŠæ¥½ã—ã¿ã«ï¼\n",
    "permalink": "https://michimani.net/post/aws-deploy-step-functions-state-machine-using-cdk-v2/",
    "title": "AWS Step Functions ã‚’ä½¿ã£ãŸç¿»è¨³ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ AWS CDK v2 (TypeScript) ã§æ§‹ç¯‰ã—ã¦ã¿ãŸè©±"
  },
  {
    "contents": "AWS ã®ã‚µãƒ¼ãƒ“ã‚¹æ¡ä»¶ (AWS Service Terms) ãŒ 2021å¹´ 12æœˆ 3æ—¥ã«æ›´æ–°ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚æ¯å¹´ re:Invent ã®ã“ã®æ™‚æœŸã«ãªã‚‹ã¨è©±é¡Œ(?)ã«ãªã‚‹ Beta ç‰ˆã¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç‰ˆã®æ‰±ã„ã«ã¤ã„ã¦ã€é–¢é€£ã™ã‚‹æ¡é …ã‚’ç¢ºèªã—ã¦ã¿ã¾ã—ãŸã€‚\næ³¨æ„ ã“ã‚Œã¯ 2021 å¹´ 12 æœˆ 6 æ—¥æ™‚ç‚¹ã®æƒ…å ±ã‚’ã‚‚ã¨ã«æ›¸ã„ã¦ã„ã¾ã™\nç›®æ¬¡ Beta ç‰ˆã¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç‰ˆã«é–¢ã™ã‚‹ã“ã‚Œã¾ã§ 2019å¹´ã®å¤é ƒ 2020å¹´ã®ç§‹é ƒ 2021å¹´ 12æœˆ 3æ—¥ç¾åœ¨ã®ã‚µãƒ¼ãƒ“ã‚¹æ¡ä»¶ çµå±€ã©ã†ãªã®ï¼Ÿ Beta ç‰ˆã¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç‰ˆã«é–¢ã™ã‚‹ã“ã‚Œã¾ã§ 2019å¹´ã®å¤é ƒ 2019å¹´ã® 7æœˆé ƒã€å½“æ™‚ã¯ã¾ã  Beta ç‰ˆã ã£ãŸ AWS Chatbot ã®è¨˜äº‹ã‚’ãƒ–ãƒ­ã‚°ã«æ›¸ã„ãŸã¨ã“ã‚ã€Twitter ã§æŒ‡æ‘˜ã‚’å—ã‘ã¦éå…¬é–‹ã«ã™ã‚‹ ã¨ã„ã†ã“ã¨ãŒã‚ã‚Šã¾ã—ãŸã€‚å½“æ™‚ã¯ Beta ç‰ˆã«é–¢ã™ã‚‹æƒ…å ±å…¬é–‹ã«ã¤ã„ã¦ä½•ã‚‚è€ƒãˆã¦ã„ãªã‹ã£ãŸã®ã§ã€æŒ‡æ‘˜ã—ã¦ã„ãŸã ã„ãŸæ–¹ã«ã¯æ„Ÿè¬ã—ã¦ã„ã¾ã™ã€‚\nãã®æ™‚ã«è‡ªåˆ†ãªã‚Šã«èª¿ã¹ãŸã‚Š AWS ã®ã‚µãƒãƒ¼ãƒˆã«å•ã„åˆã‚ã›ãŸã¨ãã®ãƒ–ãƒ­ã‚°ã¯ä¸‹è¨˜ã§ã™ã€‚\nçµè«–ã€ãã®å½“æ™‚ã¯ Beta ç‰ˆãŠã‚ˆã³ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ ã¨ã•ã‚Œã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢ã™ã‚‹æƒ…å ±ã¯ã™ã¹ã¦ç§˜å¯†æƒ…å ±ã§ã‚ã‚Šã€å€‹äººã®ãƒ–ãƒ­ã‚°ç­‰ã§å…¬é–‹ã™ã‚‹ã“ã¨ã¯ NG ã¨ã„ã†çµæœã§ã—ãŸã€‚\n2020å¹´ã®ç§‹é ƒ ãã‚Œã‹ã‚‰ç´„ä¸€å¹´çµŒã£ãŸ 2020å¹´ã®ç§‹é ƒã€ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã•ã‚“ã®ãƒ–ãƒ­ã‚°ã§ä¸‹è¨˜ã®ã‚ˆã†ãªè¨˜äº‹ãŒå…¬é–‹ã•ã‚Œã¾ã—ãŸã€‚\nã“ã®è¨˜äº‹ã«ã‚ˆã‚‹ã¨ã€\nã„ã¤æ™‚ç‚¹ã®æƒ…å ±ã§ã‚ã‚‹ã‹ã‚’æ˜è¨˜ ä¸å…·åˆã‚„æ”¹å–„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯AWSã¸ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’è¡Œã† ã“ã‚Œã‚‰ã‚’æ˜è¨˜ã™ã‚Œã°ãƒ–ãƒ­ã‚°ã§ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã¯å•é¡Œãªã„ã¨ã®ã“ã¨ã§ã—ãŸã€‚\nãŸã ã—ã€ã“ã‚Œã¯ã‚ãã¾ã§ã‚‚ AWS ã‹ã‚‰ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã•ã‚“ã¸ã®å›ç­”ã§ã‚ã‚Šã€ä¸€å€‹äººã‚‚ã“ã®æµã‚Œã«ã®ã£ã¦ã—ã¾ã£ã¦ã„ã„ã®ã‹ä¸å®‰ã ã£ãŸã®ã§ã€å€‹äººçš„ã«ã¯ Beta ç‰ˆãŠã‚ˆã³ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç‰ˆã«ã¤ã„ã¦ã¯ã²ã£ãã‚Šè§¦ã£ã¦ã„ã¾ã—ãŸã€‚\n2021å¹´ 12æœˆ 3æ—¥ç¾åœ¨ã®ã‚µãƒ¼ãƒ“ã‚¹æ¡ä»¶ ã‚µãƒ¼ãƒ“ã‚¹æ¡ä»¶ã®æœ€æ–°ã¯ 2021å¹´ 12æœˆ 3æ—¥ã€ã¤ã„æœ€è¿‘ã§ã™ã€‚1\næ­£ç›´ã€ 2019å¹´ã®ä¸€ä»¶ä»¥æ¥ã¡ã‚ƒã‚“ã¨ã‚µãƒ¼ãƒ“ã‚¹æ¡ä»¶ã®æ›´æ–°ã‚’è¿½ã£ã¦ã„ãŸã‚ã‘ã§ã¯ãªã„ã®ã§ã™ãŒã€ã“ã®æœ€æ–°ç‰ˆã§ã® Beta ç‰ˆãŠã‚ˆã³ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç‰ˆã«é–¢ã™ã‚‹è¨˜è¿°ã‚’å†åº¦ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚\nBeta ç‰ˆãŠã‚ˆã³ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç‰ˆã«é–¢ã™ã‚‹æ‰±ã„ã«ã¤ã„ã¦ã¯ã€ 2. Betas and Previews ã® 2.5 ã§æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\n2.5. Test Observations, Suggestions concerning a Beta Service or Beta Region, and any other information about or involving (including the existence of) any Beta Service or Beta Region are considered AWS Confidential Information.\nã¨ã‚Šã‚ãˆãšã€ AWS ã®ç§˜å¯†æƒ…å ±ã§ã‚ã‚‹ ã¨ã„ã†ã“ã¨ã¯æ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€å…¬é–‹ã—ã¦ã¯ãƒ€ãƒ¡ ã¨ã„ã†ã“ã¨ã¯ 2.5 ãŠã‚ˆã³ 2 ã®ä»–ã®é …ã«ã‚‚æ›¸ã‹ã‚Œã¦ã„ã¾ã›ã‚“ã€‚\nã§ã¯ã€ã“ã“ã§è¨€ã† AWS Confidential Information ã¨ã¯ä½•ãªã®ã‹ã€‚ãã‚Œã¯ 1. Universal Service Terms (Applicable to All Services) ã® 1.7 ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\n1.7. If your Agreement does not include a provision on AWS Confidential Information, and you and AWS do not have an effective non-disclosure agreement in place, then you agree that you will not disclose AWS Confidential Information (as defined in the AWS Customer Agreement), except as required by law.\nAWS ã¨ã®å¥‘ç´„æ›¸ã«ç§˜å¯†æƒ…å ±ã«é–¢ã™ã‚‹æ¡é …ãŒå«ã¾ã‚Œã¦ãŠã‚‰ãšã€æœ‰åŠ¹ãªç§˜å¯†ä¿æŒå¥‘ç´„ã‚’çµã‚“ã§ã„ãªã„å ´åˆã¯ã€æ³•å¾‹ã§è¦æ±‚ã•ã‚Œã‚‹å ´åˆã‚’é™¤ã„ã¦ AWS ç§˜å¯†æƒ…å ±ã‚’é–‹ç¤ºã—ãªã„ã“ã¨ã«åŒæ„ã™ã‚‹ã€‚ ã¨ã„ã†å†…å®¹ã§ã™ã€‚ã¤ã¾ã‚Šã€ä½•ã‹ã—ã‚‰ AWS ã¨ã®å¥‘ç´„æ™‚ã«ç§˜å¯†æƒ…å ±ã«é–¢ã™ã‚‹æ¡é …ã‚’å«ã‚“ã§å¥‘ç´„ã—ãªã„å ´åˆã¯ Beta ç‰ˆãŠã‚ˆã³ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç‰ˆã«é–¢ã™ã‚‹æƒ…å ±ã¯é–‹ç¤ºã§ããªã„ã€ã¨èª­ã¿ã¨ã‚Œã¾ã™ã€‚\nçµå±€ã©ã†ãªã®ï¼Ÿ ã‚¯ãƒ©ãƒ¡ã‚½ã•ã‚“ã® 2020 å¹´ã®è¨˜äº‹ã§ã¯æ¡ä»¶ä»˜ãã§å…¬é–‹å¯ã¨ãªã£ã¦ã„ã¾ã—ãŸãŒã€ã‚µãƒ¼ãƒ“ã‚¹æ¡ä»¶ã‚’èª­ã‚€é™ã‚Šã§ã¯ã‚„ã¯ã‚Šå…¬é–‹ã¯ã§ããªã„ã®ã‹ãªã¨ã€‚\nçµå±€ã‚ˆãã‚ã‹ã‚‰ã‚“ã®ã§ã€ Beta ç‰ˆãŠã‚ˆã³ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç‰ˆã«ã¤ã„ã¦ã¯ã²ã£ãã‚Šè§¦ã£ã¦ã²ã£ãã‚Šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’é€ã‚ã†ã¨æ€ã„ã¾ã™ã€‚\nã“ã®è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã‚‹æ™‚ç‚¹ã§ã€æ—¥æœ¬èªç‰ˆã®ã‚µãƒ¼ãƒ“ã‚¹æ¡ä»¶ã®æœ€çµ‚æ›´æ–°ã¯ 2021 å¹´ 10 æœˆ 5 æ—¥ã§ã™ã€‚è‹±èªç‰ˆã§å†…å®¹ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-service-terms-update-at-20211203/",
    "title": "AWS ã®ã‚µãƒ¼ãƒ“ã‚¹æ¡ä»¶ãŒã¤ã„æœ€è¿‘æ›´æ–°ã•ã‚Œã¦ã„ãŸã®ã§ Beta ç‰ˆã¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç‰ˆã®æ‰±ã„ã«ã¤ã„ã¦ç¢ºèªã—ã¦ã¿ãŸ"
  },
  {
    "contents": "Application Load Balancer ã®ãƒ‘ã‚¹ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«ã¦ã€ãƒ‘ã‚¹ã‚’ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰æŒ‡å®šã—ãªã‹ã£ãŸå ´åˆã®ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒã©ã®ã‚ˆã†ãªæ‰±ã„ã«ãªã‚‹ã®ã‹ã‚’ç¢ºã‹ã‚ã¦ã¿ã¾ã—ãŸã€‚\nç›®æ¬¡ çµè«– ã‚„ã£ãŸã“ã¨ æ‰‹é † Application Load Balancer ä½œæˆ ãƒªã‚¹ãƒŠãƒ¼ã‚’è¿½åŠ  ãƒ‘ã‚¹ãƒ™ãƒ¼ã‚¹ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¿½åŠ  ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä»˜ä¸ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆ æƒé™¤ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã®ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«ã‚’å‰Šé™¤ ALB ã‚’å‰Šé™¤ çµè«– The path pattern is applied only to the path of the URL, not to its query parameters. It is applied only to visible ASCII characters; control characters (0x00 to 0x1f and 0x7f) are excluded.\nListeners for your Application Load Balancers - Elastic Load Balancing ã–ã£ãã‚Šæ—¥æœ¬èªè¨³ã€‚\nãƒ‘ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€URLã®ãƒ‘ã‚¹ã«ã®ã¿é©ç”¨ã•ã‚Œã€ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã«ã¯é©ç”¨ã•ã‚Œã¾ã›ã‚“ã€‚ã¾ãŸã€åˆ¶å¾¡æ–‡å­—ï¼ˆ0x00ï½0x1fã€0x7fï¼‰ã‚’é™¤ãã€å¯è¦–ã®ASCIIæ–‡å­—ã«ã®ã¿é©ç”¨ã•ã‚Œã¾ã™ã€‚\nã‚„ã£ãŸã“ã¨ ALB ã‚’ä½œæˆ å›ºå®šãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™ãƒªã‚¹ãƒŠãƒ¼ã‚’è¿½åŠ  ãƒ‘ã‚¹ãƒ™ãƒ¼ã‚¹ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¿½åŠ  å„ãƒ‘ã‚¹ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ç¢ºèª ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä»˜ä¸ã—ãŸå ´åˆã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ç¢ºèª æ‰‹é † Application Load Balancer ä½œæˆ SUBNET_ID_1=\u0026#34;subnet-0561f45xxxxxxxxxx\u0026#34; SUBNET_ID_2=\u0026#34;subnet-036c672xxxxxxxxxx\u0026#34; \\ ALB_ARN=$( aws elbv2 create-load-balancer \\ --name path-routeing-lb \\ --subnets \u0026#34;${SUBNET_ID_1}\u0026#34; \u0026#34;${SUBNET_ID_2}\u0026#34; \\ --region ap-northeast-1 \\ --query \u0026#34;LoadBalancers[0].LoadBalancerArn\u0026#34; \\ --output text ) \\ \u0026amp;\u0026amp; echo \u0026#34;${ALB_ARN}\u0026#34; å‡ºåŠ›\narn:aws:elasticloadbalancing:ap-northeast-1:000000000000:loadbalancer/app/path-routeing-lb/aac5a9xxxxxxxxxx ãƒªã‚¹ãƒŠãƒ¼ã‚’è¿½åŠ  LISTENER_ARN=$( aws elbv2 create-listener \\ --load-balancer-arn \u0026#34;${ALB_ARN}\u0026#34; \\ --protocol HTTP \\ --port 80 \\ --default-actions \u0026#39;{\u0026#34;Type\u0026#34;:\u0026#34;fixed-response\u0026#34;,\u0026#34;FixedResponseConfig\u0026#34;:{\u0026#34;MessageBody\u0026#34;: \u0026#34;{\\\u0026#34;message\\\u0026#34;:\\\u0026#34;This is the default action.\\\u0026#34;}\u0026#34;,\u0026#34;StatusCode\u0026#34;:\u0026#34;200\u0026#34;,\u0026#34;ContentType\u0026#34;:\u0026#34;application/json\u0026#34;}}\u0026#39; \\ --query \u0026#34;Listeners[0].ListenerArn\u0026#34; \\ --output text ) \\ \u0026amp;\u0026amp; echo \u0026#34;${LISTENER_ARN}\u0026#34; å‡ºåŠ›\narn:aws:elasticloadbalancing:ap-northeast-1:000000000000:listener/app/path-routeing-lb/aac5a9xxxxxxxxxx/8fea4fxxxxxxxxxx è¿½åŠ ã—ãŸãƒªã‚¹ãƒŠãƒ¼ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‹ç¢ºèªã—ã¾ã™ã€‚\nã¾ãšã¯ä½œæˆã—ãŸ ALB ã® DNS åã‚’å–å¾—ã—ã¦ãŠãã¾ã™ã€‚\nDNS_NAME=$( aws elbv2 describe-load-balancers \\ --load-balancer-arns \u0026#34;${ALB_ARN}\u0026#34; \\ --query \u0026#34;LoadBalancers[0].DNSName\u0026#34; \\ --output text ) ã“ã®æ™‚ç‚¹ã§ã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã®ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰è¨­å®šã«ã‚ˆã£ã¦ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã®ã§ã€è‡ªåˆ†ã®ãƒã‚·ãƒ³ã® IP ã‹ã‚‰ã®ã¿ 80 ãƒãƒ¼ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nã¾ãš ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ— ID ã‚’å–å¾—ã—ã¾ã™ã€‚\nSG_ID=$( aws elbv2 describe-load-balancers \\ --load-balancer-arns \u0026#34;${ALB_ARN}\u0026#34; \\ --query \u0026#34;LoadBalancers[0].SecurityGroups[0]\u0026#34; \\ --output text ) ç¶šã„ã¦ã€è‡ªåˆ†ã®ãƒã‚·ãƒ³ã® IP ã‚’å–å¾—ã—ã¾ã™ã€‚\nMY_IP=$(curl http://checkip.amazonaws.com/) ãã‚Œã‚‰ã®å€¤ã‚’ä½¿ç”¨ã—ã¦ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\naws ec2 authorize-security-group-ingress \\ --group-id \u0026#34;${SG_ID}\u0026#34; \\ --protocol tcp \\ --port 80 \\ --cidr \u0026#34;${MY_IP}\u0026#34;/32 ã“ã‚Œã§ ALB ã«å¯¾ã—ã¦ DNS åã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€ httpie1 ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ã¦ã¿ã¾ã™ã€‚\n$ http \u0026#34;${DNS_NAME}\u0026#34; HTTP/1.1 200 OK Connection: keep-alive Content-Length: 41 Content-Type: application/json; charset=utf-8 Date: Mon, 23 Aug 2021 14:06:56 GMT Server: awselb/2.0 { \u0026#34;message\u0026#34;: \u0026#34;This is the default action.\u0026#34; } è¨­å®šã—ãŸå›ºå®šå€¤ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã£ã¦ãã¾ã—ãŸã€‚\nãƒ‘ã‚¹ãƒ™ãƒ¼ã‚¹ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¿½åŠ  ç¶šã„ã¦ã€ãƒ‘ã‚¹ãƒ™ãƒ¼ã‚¹ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¿½åŠ ã—ã¾ã™ã€‚\nä»Šå›ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã™ã€‚\n/not-found ã¯ 404 ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”å´ /error ã¯ 500 ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”å´ aws elbv2 create-rule --listener-arn \u0026#34;${LISTENER_ARN}\u0026#34; --priority 1 \\ --conditions Field=path-pattern,Values=\u0026#39;/not-found\u0026#39; \\ --actions \u0026#39;{\u0026#34;Type\u0026#34;:\u0026#34;fixed-response\u0026#34;,\u0026#34;FixedResponseConfig\u0026#34;:{\u0026#34;MessageBody\u0026#34;: \u0026#34;{\\\u0026#34;message\\\u0026#34;:\\\u0026#34;This is 404 path.\\\u0026#34;}\u0026#34;,\u0026#34;StatusCode\u0026#34;:\u0026#34;404\u0026#34;,\u0026#34;ContentType\u0026#34;:\u0026#34;application/json\u0026#34;}}\u0026#39; \\ \u0026amp;\u0026amp; aws elbv2 create-rule --listener-arn \u0026#34;${LISTENER_ARN}\u0026#34; --priority 2 \\ --conditions Field=path-pattern,Values=\u0026#39;/error\u0026#39; \\ --actions \u0026#39;{\u0026#34;Type\u0026#34;:\u0026#34;fixed-response\u0026#34;,\u0026#34;FixedResponseConfig\u0026#34;:{\u0026#34;MessageBody\u0026#34;: \u0026#34;{\\\u0026#34;message\\\u0026#34;:\\\u0026#34;This is 500 path.\\\u0026#34;}\u0026#34;,\u0026#34;StatusCode\u0026#34;:\u0026#34;500\u0026#34;,\u0026#34;ContentType\u0026#34;:\u0026#34;application/json\u0026#34;}}\u0026#39; ãã‚Œãã‚Œã®ãƒ‘ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚\n$ http \u0026#34;${DNS_NAME}/not-found\u0026#34; HTTP/1.1 404 Not Found Connection: keep-alive Content-Length: 31 Content-Type: application/json; charset=utf-8 Date: Mon, 23 Aug 2021 14:15:16 GMT Server: awselb/2.0 { \u0026#34;message\u0026#34;: \u0026#34;This is 404 path.\u0026#34; } $ http \u0026#34;${DNS_NAME}/error\u0026#34; HTTP/1.1 500 Internal Server Error Connection: keep-alive Content-Length: 31 Content-Type: application/json; charset=utf-8 Date: Mon, 23 Aug 2021 14:15:32 GMT Server: awselb/2.0 { \u0026#34;message\u0026#34;: \u0026#34;This is 500 path.\u0026#34; } ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã§æŒ‡å®šã—ã¦ã„ãªã„ã®ã§ã€ä¸Šè¨˜ã‹ã‚‰å§‹ã¾ã‚‹ãƒ‘ã‚¹ã§ã‚ã£ã¦ã‚‚ãã‚Œã‚‰ã«ç¶šããƒ‘ã‚¹ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã—ã¦ã¯ã€ãƒ«ãƒ¼ãƒ«ã«ãƒãƒƒãƒã›ãšã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã‚Šã¾ã™ã€‚\n$ http \u0026#34;${DNS_NAME}/error-error\u0026#34; HTTP/1.1 200 OK Connection: keep-alive Content-Length: 41 Content-Type: application/json; charset=utf-8 Date: Mon, 23 Aug 2021 14:16:58 GMT Server: awselb/2.0 { \u0026#34;message\u0026#34;: \u0026#34;This is the default action.\u0026#34; } ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä»˜ä¸ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆ ã§ã¯ã€ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒä»˜ä¸ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã©ã†ãªã‚‹ã§ã—ã‚‡ã†ã‹ã€‚\n/error ã« ?errorType=internal-server-error ã¨ã„ã†ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä»˜ä¸ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ã¿ã¾ã™ã€‚\n$ http \u0026#34;${DNS_NAME}/error?errorType=internal-server-error\u0026#34; HTTP/1.1 500 Internal Server Error Connection: keep-alive Content-Length: 31 Content-Type: application/json; charset=utf-8 Date: Mon, 23 Aug 2021 14:19:04 GMT Server: awselb/2.0 { \u0026#34;message\u0026#34;: \u0026#34;This is 500 path.\u0026#34; } 500 ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã‚Šã¾ã™ã€‚\nã¤ã¾ã‚Šã€ãƒ‘ã‚¹ãƒ™ãƒ¼ã‚¹ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã§ã¯ æŒ‡å®šã—ãŸãƒ‘ã‚¹ã«ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®éƒ¨åˆ†ã¯å«ã¾ã‚Œã¾ã‚Œãšã€ãƒ«ãƒ¼ãƒ«ã®åˆ¤å®šã«ã¯ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’é™¤ããƒ‘ã‚¹éƒ¨åˆ†ã®ã¿ã§åˆ¤å®šã•ã‚Œã¾ã™ã€‚é€†ã«è¨€ã†ã¨ã€ç‰¹å®šã®ãƒ‘ã‚¹ã«å¯¾ã—ã¦ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è€ƒæ…®ã—ãŸãƒ‘ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ã—ãŸã„å ´åˆã§ã‚ã£ã¦ã‚‚ã€ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã§ /error* ã®ã‚ˆã†ã«æŒ‡å®šã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\næƒé™¤ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã®ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«ã‚’å‰Šé™¤ aws ec2 revoke-security-group-ingress \\ --group-id \u0026#34;${SG_ID}\u0026#34; \\ --protocol tcp \\ --port 80 \\ --cidr \u0026#34;${MY_IP}\u0026#34;/32 ALB ã‚’å‰Šé™¤ aws elbv2 delete-load-balancer \\ --load-balancer-arn \u0026#34;${ALB_ARN}\u0026#34; CLI ã§ http ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ãªã‚‰ HTTPie ãŒä¾¿åˆ© - michimani.net \u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-alb-path-routing-with-query-parameters/",
    "title": "ALB ã®ãƒ‘ã‚¹ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®é–¢ä¿‚"
  },
  {
    "contents": "Go ã§å®Ÿè£…ã—ãŸ Lambda é–¢æ•°ã‹ã‚‰ RDB ã«æ¥ç¶šã—ãŸéš›ã«ã€DB æ¥ç¶šæ•°ã®å¢—ãˆæ–¹ãŒå®Ÿè£…æ–¹æ³•ã«ã‚ˆã£ã¦ã©ã®ã‚ˆã†ã«å¤‰ã‚ã‚‹ã®ã‹ã‚’ç¢ºèªã—ã¦ã¿ã¾ã—ãŸã€‚\nç›®æ¬¡ å‰ç½®ã è©¦ã—ãŸã„ã“ã¨ æ¤œè¨¼ç’°å¢ƒ ã‚„ã£ã¦ã¿ã‚‹ 1. handler å†…ã§ DB ã¸ã®æ¥ç¶šã‚’ç¢ºç«‹ã—ã€ DB æ¥ç¶šã‚’æ˜ç¤ºçš„ã« Close ã—ãªã„å ´åˆ 2. handler å†…ã§ DB ã¸ã®æ¥ç¶šã‚’ç¢ºç«‹ã—ã€ handler ã®å‡¦ç†ã®æœ€å¾Œã§ DB æ¥ç¶šã‚’æ˜ç¤ºçš„ã« Close ã™ã‚‹ 3. handler å¤–ã§ DB æ¥ç¶šã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å®šç¾©ã—ã€ handler å†…ã§ã¯æ¥ç¶šã®å­˜åœ¨ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ç„¡ã‘ã‚Œã°ç¢ºç«‹ã™ã‚‹ ã¾ã¨ã‚ å‰ç½®ã Lambda + RDS ã¯ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã—ã¦èªã‚‰ã‚Œã‚‹ã“ã¨ã‚‚å¤šã„ã§ã™ã€‚ãã®ç†ç”±ã¨ã—ã¦ã‚ˆãè©±é¡Œã«ã‚ãŒã‚‹ã®ã¯ã€Lambda é–¢æ•°ãŒå¤§é‡ã«èµ·å‹•ã™ã‚‹ã“ã¨ã«ã‚ˆã‚‹ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ã®æ¯æ¸‡å•é¡Œã§ã™ã€‚ä»Šå›ã¯ã€ãã®èª²é¡Œã«å¯¾ã™ã‚‹å®Ÿè£…å´ã§ã®å¯¾å‡¦æ³•æ–¹æ³•ã‚’å®Ÿéš›ã«è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚\nè©¦ã—ãŸã„ã“ã¨ ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³æ¯æ¸‡ã¸ã®å¯¾å‡¦æ–¹æ³•ã¨ã—ã¦ã¯ã€ RDS Proxy ã®åˆ©ç”¨ã‚„å®Ÿè£…æ–¹æ³•ã«ã‚ˆã‚‹å¯¾å¿œãŒã‚ã‚Šã¾ã™ãŒã€ä»Šå›ã¯å®Ÿè£…æ–¹æ³•ã«ã‚ˆã‚‹å¯¾å¿œã‚’è©¦ã—ã¾ã™ã€‚\nå…·ä½“çš„ã«ã¯ã€åŒã˜å®Ÿè¡Œç’°å¢ƒã§ã®èµ·å‹• (ã‚¦ã‚©ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆ) ãŒé€£ç¶šã—ãŸã¨ãã«ã€ DB æ¥ç¶šæ•°ãŒã©ã®ã‚ˆã†ã«å¢—ãˆã‚‹ã®ã‹ã€ã¾ãŸã¯å¢—ãˆãªã„ã®ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚å®Ÿè£…æ–¹æ³•ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã—ã¦ã¯ä¸‹è¨˜ã® 3 ã¤ã§ã™ã€‚\nhandler å†…ã§ DB ã¸ã®æ¥ç¶šã‚’ç¢ºç«‹ã—ã€ DB æ¥ç¶šã‚’æ˜ç¤ºçš„ã« Close ã—ãªã„ handler å†…ã§ DB ã¸ã®æ¥ç¶šã‚’ç¢ºç«‹ã—ã€ handler ã®å‡¦ç†ã®æœ€å¾Œã§ DB æ¥ç¶šã‚’æ˜ç¤ºçš„ã« Close ã™ã‚‹ handler å¤–ã§ DB æ¥ç¶šã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å®šç¾©ã—ã€ handler å†…ã§ã¯æ¥ç¶šã®å­˜åœ¨ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ç„¡ã‘ã‚Œã°ç¢ºç«‹ã™ã‚‹ æ¤œè¨¼ç’°å¢ƒ ä»Šå›ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã§ Lambda ã¨ RDB (MySQL 8.0) ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’ç«‹ã¦ã¦æ¤œè¨¼ã—ã¾ã—ãŸã€‚\nå®Ÿéš›ã« Lambda + RDS ã®ç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹ã®ã¯é¢å€’ã ã£ãŸã®ã¨ã€ãƒ­ãƒ¼ã‚«ãƒ«ã ã¨ Lambda ã®ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆ/ã‚¦ã‚©ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆã‚’å†ç¾ã—ã‚„ã™ã„ã“ã¨ã‚‚ã‚ã£ã¦ã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®æ¤œè¨¼ã¨ã—ã¦ã„ã¾ã™ã€‚\nå…·ä½“çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ã‚’ç”¨æ„ã—ã¦ã€ docker-compose ã§ã¾ã¨ã‚ã¦èµ·å‹•ã—ã¾ã™ã€‚\n. â”œâ”€â”€ docker-compose.yml â”œâ”€â”€ lambda-close-db â”‚ â”œâ”€â”€ Dockerfile â”‚ â”œâ”€â”€ entry.sh â”‚ â”œâ”€â”€ go.mod â”‚ â”œâ”€â”€ go.sum â”‚ â””â”€â”€ main.go â”œâ”€â”€ lambda-not-close-db â”‚ â”œâ”€â”€ Dockerfile â”‚ â”œâ”€â”€ entry.sh â”‚ â”œâ”€â”€ go.mod â”‚ â”œâ”€â”€ go.sum â”‚ â””â”€â”€ main.go â”œâ”€â”€ lambda-reuse-db â”‚ â”œâ”€â”€ Dockerfile â”‚ â”œâ”€â”€ entry.sh â”‚ â”œâ”€â”€ go.mod â”‚ â”œâ”€â”€ go.sum â”‚ â””â”€â”€ main.go â””â”€â”€ mysql â”œâ”€â”€ Dockerfile â””â”€â”€ init.sql ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ GitHub ã«ç½®ã„ã¦ã‚ã‚‹ã®ã§ã€ clone ã—ã¦ docker-compose up -d ã‚’å©ã‘ã°ãŠæ‰‹å…ƒã§æ¤œè¨¼ã—ã¦ã‚‚ã‚‰ãˆã‚‹ã¯ãšã§ã™ã€‚\nmichimani/lambda-rdb-test | GitHub ã‚„ã£ã¦ã¿ã‚‹ ã¾ãšã¯å¿…è¦ãªã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ã—ã¾ã™ã€‚\n$ docker-compose up -d $ docker-compose ps Name Command State Ports ------------------------------------------------------------------------------------------------------------- lambda-rdb docker-entrypoint.sh mysqld Up 0.0.0.0:8000-\u0026gt;3306/tcp,:::8000-\u0026gt;3306/tcp, 33060/tcp lambda-rdb-func-1 /entry.sh /main Up 0.0.0.0:8001-\u0026gt;8080/tcp,:::8001-\u0026gt;8080/tcp lambda-rdb-func-2 /entry.sh /main Up 0.0.0.0:8002-\u0026gt;8080/tcp,:::8002-\u0026gt;8080/tcp lambda-rdb-func-3 /entry.sh /main Up 0.0.0.0:8003-\u0026gt;8080/tcp,:::8003-\u0026gt;8080/tcp 3 ã¤ã® Lambda é–¢æ•°ã¨ RDB ã®ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ã¾ã—ãŸã€‚\nåˆ¥ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ RDB ã®ã‚³ãƒ³ãƒ†ãƒŠã«å…¥ã£ã¦ãŠã„ã¦ã€ Lambda é–¢æ•°ã‚’ invoke ã™ã‚‹ãŸã³ã«æ¥ç¶šæ•°ãŒã©ã®ã‚ˆã†ã«å¤‰åŒ–ã™ã‚‹ã‹ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚\n$ docker exec -it lambda-rdb bash root@c97cb098b401:/# mysql -proot -e\u0026#39;show status like \u0026#34;Threads_connected\u0026#34;;\u0026#39; +-------------------+-------+ | Variable_name | Value | +-------------------+-------+ | Threads_connected | 1 | +-------------------+-------+ Lambda é–¢æ•°ã‚’ invoke ã™ã‚‹å‰ã®æ™‚ç‚¹ã§ã®æ¥ç¶šæ•°ã¯ 1 ã§ã™ã€‚(ã“ã® SQL ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã®æ¥ç¶šã§ã™)\n1. handler å†…ã§ DB ã¸ã®æ¥ç¶šã‚’ç¢ºç«‹ã—ã€ DB æ¥ç¶šã‚’æ˜ç¤ºçš„ã« Close ã—ãªã„å ´åˆ ã¾ãšã¯ handler å†…ã§æ¯å› DB æ¥ç¶šã‚’ç¢ºç«‹ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã§è©¦ã—ã¦ã¿ã¾ã™ã€‚å®Ÿè£…ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚\npackage main import ( \u0026#34;database/sql\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;os\u0026#34; runtime \u0026#34;github.com/aws/aws-lambda-go/lambda\u0026#34; _ \u0026#34;github.com/go-sql-driver/mysql\u0026#34; ) type Response struct { Message string `json:\u0026#34;message\u0026#34;` StatusCode int `json:\u0026#34;statusCode\u0026#34;` } func handleRequest() (Response, error) { // Create DB connection each invocation, and do not close it. db, err := initDB() if err != nil { fmt.Println(err.Error()) return Response{Message: err.Error(), StatusCode: http.StatusInternalServerError}, err } title, err := getTitle(db) if err != nil { fmt.Println(err.Error()) return Response{Message: err.Error(), StatusCode: http.StatusInternalServerError}, err } return Response{ Message: fmt.Sprintf(\u0026#34;title: %s\u0026#34;, *title), StatusCode: http.StatusOK, }, nil } func initDB() (*sql.DB, error) { dbName := os.Getenv(\u0026#34;DB_DATABASE\u0026#34;) dbUser := os.Getenv(\u0026#34;DB_USER\u0026#34;) dbPass := os.Getenv(\u0026#34;DB_PASS\u0026#34;) d, err := sql.Open(\u0026#34;mysql\u0026#34;, fmt.Sprintf(\u0026#34;%s:%s@tcp(db:3306)/%s\u0026#34;, dbUser, dbPass, dbName)) if err != nil { return nil, err } if err := d.Ping(); err != nil { return nil, err } return d, nil } func getTitle(db *sql.DB) (*string, error) { var title string sql := \u0026#34;SELECT title FROM sample_table LIMIT 1\u0026#34; err := db.QueryRow(sql).Scan(\u0026amp;title) if err != nil { return nil, err } return \u0026amp;title, nil } func main() { runtime.Start(handleRequest) } ã“ã® Lambda é–¢æ•°ã¯ 8001 ãƒãƒ¼ãƒˆã§èµ·å‹•ã—ã¦ã„ã‚‹ã®ã§ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ invoke ã—ã¾ã™ã€‚\n$ curl \u0026#34;http://localhost:8001/2015-03-31/functions/function/invocations\u0026#34; å‡ºåŠ›ã¨ã—ã¦ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚å®Ÿè¡Œæ™‚ã«ç‰¹ã«ã‚¨ãƒ©ãƒ¼ãŒãªã‘ã‚Œã° statusCode: 200 ã§ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n{\u0026#34;message\u0026#34;:\u0026#34;title: This is a sample record\u0026#34;,\u0026#34;statusCode\u0026#34;:200} 1 å›å®Ÿè¡Œã—ãŸæ™‚ç‚¹ã§ DB æ¥ç¶šæ•°ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nroot@c97cb098b401:/# mysql -proot -e\u0026#39;show status like \u0026#34;Threads_connected\u0026#34;;\u0026#39; +-------------------+-------+ | Variable_name | Value | +-------------------+-------+ | Threads_connected | 2 | +-------------------+-------+ 2 ã«ãªã£ã¦ã„ã¾ã™ã€‚ç¶šã„ã¦ã€ 10 å›å®Ÿè¡Œã—ã¦ã‹ã‚‰æ¥ç¶šæ•°ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ for i in `seq 10`; do curl \u0026#34;http://localhost:8001/2015-03-31/functions/function/invocations\u0026#34; done root@c97cb098b401:/# mysql -proot -e\u0026#39;show status like \u0026#34;Threads_connected\u0026#34;;\u0026#39; +-------------------+-------+ | Variable_name | Value | +-------------------+-------+ | Threads_connected | 12 | +-------------------+-------+ å®Ÿè¡Œå›æ•°åˆ†ã ã‘å¢—ãˆã¦ã¾ã™ã€‚\nã“ã®çµæœã‹ã‚‰ã€ Lambda é–¢æ•°ãŒåŒã˜å®Ÿè¡Œç’°å¢ƒã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹é–“ã¯ã€ä¸€åº¦æ¥ç¶šã—ãŸ DB æ¥ç¶šãŒæ®‹ã‚Šç¶šã‘ã¦ã„ã‚‹ã®ãŒã‚ã‹ã‚Šã¾ã™ã€‚\nå®Ÿè¡Œç’°å¢ƒã‚’ä½œã‚Šç›´ã™å ´åˆã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã¯ Lambda é–¢æ•°ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’å†èµ·å‹•ã™ã‚Œã° OK ã§ã™ã€‚(å®Ÿéš›ã® Lambda ã§ã¯ã€å®Ÿè¡Œç’°å¢ƒãŒå…¥ã‚Œæ›¿ã‚ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ã‚ã‹ã‚Šã¾ã›ã‚“)\n$ docker-compose restart lambda1 å†èµ·å‹•å¾Œã«æ¥ç¶šæ•°ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nroot@c97cb098b401:/# mysql -proot -e\u0026#39;show status like \u0026#34;Threads_connected\u0026#34;;\u0026#39; +-------------------+-------+ | Variable_name | Value | +-------------------+-------+ | Threads_connected | 1 | +-------------------+-------+ 1 ã«æˆ»ã‚Šã¾ã—ãŸã€‚\nã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã€ã„ã‚ã‚†ã‚‹ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ã®æ¯æ¸‡ã«ã¤ãªãŒã‚‹å®Ÿè£…æ–¹æ³•ã§ã™ã€‚\n2. handler å†…ã§ DB ã¸ã®æ¥ç¶šã‚’ç¢ºç«‹ã—ã€ handler ã®å‡¦ç†ã®æœ€å¾Œã§ DB æ¥ç¶šã‚’æ˜ç¤ºçš„ã« Close ã™ã‚‹ ç¶šã„ã¦ã¯ã€ 1 ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨åŒã˜ãæ¯å› handler å†…ã§ DB æ¥ç¶šã‚’ç¢ºç«‹ã™ã‚‹ãŒã€ handler å†…ã§æ˜ç¤ºçš„ã«æ¥ç¶šã‚’ Close ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ 1 ã¨ã®å·®åˆ†ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã€ defer db.Close() ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚\n--- ./lambda-not-close-db/main.go 2021-08-19 23:47:39.000000000 +0900 +++ ./lambda-close-db/main.go 2021-08-19 23:47:47.000000000 +0900 @@ -16,13 +16,16 @@ } func handleRequest() (Response, error) { - // Create DB connection each invocation, and do not close it. + // Create DB connection each invocation. db, err := initDB() if err != nil { fmt.Println(err.Error()) return Response{Message: err.Error(), StatusCode: http.StatusInternalServerError}, err } + // Close DB connection at end of each invocation. + defer db.Close() + title, err := getTitle(db) if err != nil { fmt.Println(err.Error()) ã“ã® Lambda é–¢æ•°ã¯ 8002 ãƒãƒ¼ãƒˆã§èµ·å‹•ã—ã¦ã„ã‚‹ã®ã§ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ invoke ã—ã¾ã™ã€‚(å‡ºåŠ›ã¯ 1 ã¨åŒã˜ãªã®ã§å‰²æ„›ã—ã¾ã™ã€‚)\n$ curl \u0026#34;http://localhost:8002/2015-03-31/functions/function/invocations\u0026#34; å®Ÿè¡Œå¾Œã«æ¥ç¶šæ•°ã‚’ç¢ºèªã—ã¾ã™ã€‚\nroot@c97cb098b401:/# mysql -proot -e\u0026#39;show status like \u0026#34;Threads_connected\u0026#34;;\u0026#39; +-------------------+-------+ | Variable_name | Value | +-------------------+-------+ | Threads_connected | 1 | +-------------------+-------+ 1 ã®ã¾ã¾ã§ã™ã€‚\nå…ˆã»ã©ã¨åŒã˜ã‚ˆã†ã« 10 å›å®Ÿè¡Œã—ã¦ã‹ã‚‰ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ for i in `seq 10`; do curl \u0026#34;http://localhost:8002/2015-03-31/functions/function/invocations\u0026#34; done root@c97cb098b401:/# mysql -proot -e\u0026#39;show status like \u0026#34;Threads_connected\u0026#34;;\u0026#39; +-------------------+-------+ | Variable_name | Value | +-------------------+-------+ | Threads_connected | 1 | +-------------------+-------+ ã‹ã‚ã‚‰ãš 1 ã®ã¾ã¾ã§ã™ã€‚\nã“ã‚ŒãŒã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³æ¯æ¸‡ã¸ã®å®Ÿè£…æ–¹æ³•ã«ã‚ˆã‚‹å¯¾å‡¦æ³•ã®ã²ã¨ã¤ã§ã™ã€‚æ¯å› æ˜ç¤ºçš„ã« DB æ¥ç¶šã‚’ Close ã™ã‚‹ã“ã¨ã§ã€åŒã˜å®Ÿè¡Œç’°å¢ƒã§ã®å®Ÿè¡Œã§ã‚ã£ã¦ã‚‚ DB ã®æ¥ç¶šæ•°ãŒå¢—ãˆã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\n3. handler å¤–ã§ DB æ¥ç¶šã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å®šç¾©ã—ã€ handler å†…ã§ã¯æ¥ç¶šã®å­˜åœ¨ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ç„¡ã‘ã‚Œã°ç¢ºç«‹ã™ã‚‹ æœ€å¾Œã«ã€ DB æ¥ç¶šã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ handler å¤– ã§å®šç¾©ã€ã¤ã¾ã‚Šã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã¨ã—ã¦å®šç¾©ã—ã¦ãŠã„ã¦ã€ handler å†…ã§ã¯æ¥ç¶šã®å­˜åœ¨ãƒã‚§ãƒƒã‚¯ã‚’ã—ã¦ç„¡ã‘ã‚Œã°ç¢ºç«‹ã™ã‚‹ã‚ˆã†ãªå®Ÿè£…ã§è©¦ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆæ™‚ã«æ¥ç¶šãŒç¢ºç«‹ã•ã‚Œã€ãã‚Œä»¥é™ã¯åŒã˜ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã„ã¾ã‚ã™ã‚ˆã†ãªå®Ÿè£…ã§ã™ã€‚ 1 ã¨ã®å·®åˆ†ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\n--- ./lambda-not-close-db/main.go 2021-08-19 23:47:39.000000000 +0900 +++ ./lambda-reuse-db/main.go 2021-08-19 23:49:43.000000000 +0900 @@ -15,12 +15,19 @@ StatusCode int `json:\u0026#34;statusCode\u0026#34;` } +// Define the DB connection as a global variable. +var db *sql.DB + func handleRequest() (Response, error) { - // Create DB connection each invocation, and do not close it. - db, err := initDB() - if err != nil { - fmt.Println(err.Error()) - return Response{Message: err.Error(), StatusCode: http.StatusInternalServerError}, err + // Create a DB connection only if it is nil. + if db == nil || db.Ping() != nil { + d, err := initDB() + if err != nil { + fmt.Println(err.Error()) + return Response{Message: err.Error(), StatusCode: http.StatusInternalServerError}, err + } + + db = d } title, err := getTitle(db) ã“ã® Lambda é–¢æ•°ã¯ 8003 ãƒãƒ¼ãƒˆã§èµ·å‹•ã—ã¦ã„ã‚‹ã®ã§ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ invoke ã—ã¾ã™ã€‚ (å‡ºåŠ›ã¯ 1 ã¨åŒã˜ãªã®ã§å‰²æ„›ã—ã¾ã™ã€‚)\n$ curl \u0026#34;http://localhost:8003/2015-03-31/functions/function/invocations\u0026#34; æ¥ç¶šæ•°ã‚’ç¢ºèªã—ã¾ã™ã€‚\nroot@c97cb098b401:/# mysql -proot -e\u0026#39;show status like \u0026#34;Threads_connected\u0026#34;;\u0026#39; +-------------------+-------+ | Variable_name | Value | +-------------------+-------+ | Threads_connected | 2 | +-------------------+-------+ 2 ã«ãªã£ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¾ã§ã¨åŒæ§˜ã« 10 å›å®Ÿè¡Œã—ã¦ã‹ã‚‰ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ for i in `seq 10`; do curl \u0026#34;http://localhost:8003/2015-03-31/functions/function/invocations\u0026#34; done root@c97cb098b401:/# mysql -proot -e\u0026#39;show status like \u0026#34;Threads_connected\u0026#34;;\u0026#39; +-------------------+-------+ | Variable_name | Value | +-------------------+-------+ | Threads_connected | 2 | +-------------------+-------+ åˆå›ã«ç¢ºç«‹ã•ã‚ŒãŸæ¥ç¶šã‚’å†åˆ©ç”¨ã™ã‚‹ã®ã§ã€ 2 ã®ã¾ã¾ã§ã™ã€‚\nLamdba ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’å†èµ·å‹• (ã¾ãŸã¯åœæ­¢) ã™ã‚Œã°ã€åˆå›ã«ç¢ºç«‹ã•ã‚ŒãŸ 1 ã¤ã®æ¥ç¶šã¯è§£æ”¾ã•ã‚Œã€ 1 ã«æˆ»ã‚Šã¾ã™ã€‚\n$ docker-compose restart lambda3 root@c97cb098b401:/# mysql -proot -e\u0026#39;show status like \u0026#34;Threads_connected\u0026#34;;\u0026#39; +-------------------+-------+ | Variable_name | Value | +-------------------+-------+ | Threads_connected | 1 | +-------------------+-------+ ã¾ã¨ã‚ Go ã§å®Ÿè£…ã—ãŸ Lambda é–¢æ•°ã‹ã‚‰ RDB ã«æ¥ç¶šã™ã‚‹éš›ã«ã€å®Ÿè£…æ–¹æ³•ã«ã‚ˆã£ã¦æ¥ç¶šæ•°ãŒã©ã®ã‚ˆã†ã«å¤‰åŒ–ã™ã‚‹ã®ã‹ã‚’è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚\nGo ã® database/sql ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã¯æ˜ç¤ºçš„ã« Close ã™ã‚‹å¿…è¦ã¯ãªã„æ—¨ã®è¨˜è¼‰ãŒã‚ã‚Šã¾ã™ãŒã€ Lambda é–¢æ•°ã®å®Ÿè£…ã‚’ã™ã‚‹éš›ã«ã¯æ³¨æ„ãŒå¿…è¦ãã†ã§ã™ã€‚\nThe returned DB is safe for concurrent use by multiple goroutines and maintains its own pool of idle connections. Thus, the Open function should be called just once. It is rarely necessary to close a DB.\nsql Â· database/sql Â· pkg.go.dev Lambda + RDS ã®ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ãŒèªã‚‰ã‚Œã‚‹éš›ã®ãƒ¡ã‚¤ãƒ³ã®é …ç›®ã§ã‚ã‚ã†ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³æ¯æ¸‡ã®å•é¡Œã§ã™ãŒã€ä»®ã« RDS Proxy ã‚’ä½¿ã†ã«ã—ã¦ã‚‚ä¸è¦ãªæ¥ç¶šã‚’å¢—ã‚„ã™ã®ã¯è‰¯ããªã„ã®ã§ã€å®Ÿè£…ãƒ¬ãƒ™ãƒ«ã§ã®å¯¾å¿œã¯å¿…é ˆã‹ãªã¨æ€ã„ã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/aws-how-connections-increase-rdb-from-lambda/",
    "title": "Go ã§å®Ÿè£…ã—ãŸ Lambda é–¢æ•°ã‹ã‚‰ RDB ã«æ¥ç¶šã—ãŸã¨ãã®ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ã®å¢—ãˆæ–¹"
  },
  {
    "contents": "ä»¥å‰ Fargate ã§ã®ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•ã¾ã§ã®æ™‚é–“ã‚’è¨ˆæ¸¬ã—ã¾ã—ãŸãŒã€ã©ã†ã‚„ã‚‰æœ€è¿‘ãã®æ™‚é–“ãŒçŸ­ããªã£ã¦ã„ã‚‹ã¨ã„ã†è©±ã‚’è¦‹ã‹ã‘ãŸã®ã§å®Ÿéš›ã«è¨ˆæ¸¬ã—ã¦å‰å›ã¨æ¯”è¼ƒã—ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ å‰å› è¨ˆæ¸¬ã™ã‚‹æ¡ä»¶ ã‚„ã£ã¦ã¿ã‚‹ ã¾ã¨ã‚ å‰å› å‰å›è¨ˆæ¸¬ã—ãŸã®ã¯ä»Šå¹´ã® 2æœˆã§ã—ãŸã€‚\nAWS SDK for Go V2 ã‚’ä½¿ã£ã¦ Fargate for ECS ã§ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¦ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã™ã‚‹ã¾ã§ã®æ™‚é–“ã‚’è¨ˆæ¸¬ã—ã¦ã¿ãŸ - michimani.net ãã“ã‹ã‚‰ç´„åŠå¹´ãŸã£ãŸä»Šã€ Fargate ã§ã®ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•ã¾ã§ã®æ™‚é–“ãŒçŸ­ããªã£ãŸã‚‰ã—ã„ã®ã§ã€ã‚ã‚‰ãŸã‚ã¦è¨ˆæ¸¬ã—ã¦ã¿ã¾ã™ã€‚\nè¨ˆæ¸¬ã™ã‚‹æ¡ä»¶ æ¡ä»¶ã¯å‰å›åŒæ§˜ã«ä¸‹è¨˜ã®å†…å®¹ã§å®Ÿæ–½ã—ã¾ã™ã€‚\nã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚º: ç´„ 256 MB CPU: 256 MB ãƒ¡ãƒ¢ãƒª: 512 MB â¯ docker images fargate-speed-test REPOSITORY TAG IMAGE ID CREATED SIZE fargate-speed-test latest fc479f1d67e2 5 months ago 270MB â¯ cat task-definition.json | jq . { \u0026#34;family\u0026#34;: \u0026#34;fargate-speed-test\u0026#34;, \u0026#34;networkMode\u0026#34;: \u0026#34;awsvpc\u0026#34;, \u0026#34;containerDefinitions\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;fargate-speed-test-app\u0026#34;, \u0026#34;image\u0026#34;: \u0026#34;000000000000.dkr.ecr.ap-northeast-1.amazonaws.com/fargate-speed-test\u0026#34;, \u0026#34;logConfiguration\u0026#34;: { \u0026#34;logDriver\u0026#34;: \u0026#34;awslogs\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;awslogs-group\u0026#34;: \u0026#34;/dev/fargate-speed-test-task\u0026#34;, \u0026#34;awslogs-region\u0026#34;: \u0026#34;ap-northeast-1\u0026#34;, \u0026#34;awslogs-stream-prefix\u0026#34;: \u0026#34;dev\u0026#34; } } } ], \u0026#34;requiresCompatibilities\u0026#34;: [ \u0026#34;FARGATE\u0026#34; ], \u0026#34;executionRoleArn\u0026#34;: \u0026#34;arn:aws:iam::000000000000:role/fargate-speed-test-task-exec-role\u0026#34;, \u0026#34;cpu\u0026#34;: \u0026#34;256\u0026#34;, \u0026#34;memory\u0026#34;: \u0026#34;512\u0026#34; } ã‚„ã£ã¦ã¿ã‚‹ ã§ã¯è¨ˆæ¸¬ã—ã¦ã¿ã¾ã™ã€‚ã¡ãªã¿ã«ã€å‰å›ã®çµæœã¯ 37.879 sec ã§ã—ãŸã€‚æ®‹å¿µãªãŒã‚‰å˜ç™ºã®å®Ÿè¡Œæ™‚é–“ã—ã‹æ®‹ã—ã¦ã„ãªã‹ã£ãŸã®ã§ãªã‚“ã¨ã‚‚è¨€ãˆãªã„ã§ã™ãŒã€ä»Šå›ã¯ 10 å›ãã‚‰ã„å®Ÿè¡Œã—ã¦ãã®å¹³å‡ã‚’å‡ºã—ã¦æ¯”è¼ƒã—ã¦ã¿ã¾ã™ã€‚\nã‚³ãƒ¼ãƒ‰ã¯å‰å›ã¨åŒã˜ã“ã‚Œã‚’ä½¿ã„ã¾ã™ã€‚\nThis is a script using the AWS SDK for Go V2 and Go 1.16. Measure the time it takes to launch AWS Fargate for ECS. ã¨ã‚Šã‚ãˆãš 1å›ã€‚\nâ¯ go run main.go Task Created. TaskARN: arn:aws:ecs:ap-northeast-1:000000000000:task/fargate-speed-test-cluster/000000000000000000000000e628db6d aws ecs describe-tasks --cluster fargate-speed-test-cluster --tasks arn:aws:ecs:ap-northeast-1:000000000000:task/fargate-speed-test-cluster/000000000000000000000000e628db6d Task Stopped. TaskARN: arn:aws:ecs:ap-northeast-1:000000000000:task/fargate-speed-test-cluster/000000000000000000000000e628db6d CreatedAt: 2021-07-29 13:34:58.037 +0000 UTC StartedAt: 2021-07-29 13:35:38.626 +0000 UTC StoppedAt: 2021-07-29 13:36:23.11 +0000 UTC TakenTimeToStart: 40.589s ğŸ¤”\nã¨ã‚Šã‚ãˆãšã€ãƒ«ãƒ¼ãƒ—ã§å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ã‚³ãƒ¼ãƒ‰ä¿®æ­£ã—ã¦ã‚ã¨ 9å›è¨ˆæ¸¬ã—ã¦ã¿ã¾ã™ã€‚\nfunc main() { - if err := runECSTask(); err != nil { - fmt.Println(err.Error()) + var wg sync.WaitGroup + + for i := 0; i \u0026lt; 9; i++ { + wg.Add(1) + go func() { + defer wg.Done() + if err := runECSTask(); err != nil { + fmt.Println(err.Error()) + } + }() } + wg.Wait() } â¯ go run main.go TakenTimeToStart: 25.07 TakenTimeToStart: 25.278 TakenTimeToStart: 25.16 TakenTimeToStart: 24.759 TakenTimeToStart: 30.34 TakenTimeToStart: 46.153 TakenTimeToStart: 47.481 TakenTimeToStart: 37.311 TakenTimeToStart: 55.649 æœ€åˆã® 1 å›ã¨åˆã‚ã›ã¦å¹³å‡ã¨ã‚‹ã¨ã€ 35.779 sec ã€‚\nã†ãƒ¼ã‚“\u0026hellip;ã€‚ã‚‚ã†ä¸€åº¦ 10 å›å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\nâ¯ go run main.go TakenTimeToStart: 24.852s TakenTimeToStart: 24.819s TakenTimeToStart: 26.999s TakenTimeToStart: 25.865s TakenTimeToStart: 26.792s TakenTimeToStart: 24.165s TakenTimeToStart: 24.585s TakenTimeToStart: 24.914s TakenTimeToStart: 43.41s TakenTimeToStart: 36.45s å¹³å‡ 28.285 sec ã€‚æ—©ããªã£ã¦ã‚‹æ„ŸãŒå‡ºã¦ãã¾ã—ãŸã€‚\nã¨ã„ã†æ„Ÿã˜ã§åˆè¨ˆ 100 å›å®Ÿè¡Œã—ãŸå¹³å‡å€¤ã¯ 33.087 sec ã§ã—ãŸã€‚\nå‰å›ãŒ 37.879 sec ã ã£ãŸã®ã§ã€çµ¶å¯¾å€¤ã ã¨ 4.792 sec ã€å‰²åˆã«ã™ã‚‹ã¨ 12.65 % çŸ­ããªã£ã¦ã¾ã™ã€‚\nã¾ã¨ã‚ Fargate ã§ã®ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•ã¾ã§ã®æ™‚é–“ãŒçŸ­ããªã£ãŸã‚‰ã—ã„ã®ã§è©¦ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚çµæœã¨ã—ã¦ã¯ã€ 10% ã»ã©çŸ­ç¸®ã•ã‚ŒãŸã‹ãªï¼Ÿãã‚‰ã„ã®å°è±¡ã§ã—ãŸã€‚ä»–ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºã€CPUã€ãƒ¡ãƒ¢ãƒªã®çµ„ã¿åˆã‚ã›ã ã¨é•ã£ãŸçµæœãŒå‡ºã¦ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nç¾æ™‚ç‚¹ã§ Fargate ã§ã¯ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒåˆ©ç”¨ã§ããªã„ã®ã§ã€ãã“ã‚’ãªã‚“ã¨ã‹\u0026hellip;ã¨ã„ã†æ€ã„ã¯å¤‰ã‚ã‚‰ãšã§ã™ã€‚å‰å›è¼‰ã›ãŸ issue ã‚‚ã‚³ãƒ¡ãƒ³ãƒˆã¯å¢—ãˆã¦ã¾ã™ãŒã€å®Ÿç¾ã¯é›£ã—ãã†ãªã®ã§ã¯ï¼Ÿã¨ã„ã†æ„è¦‹ã‚‚ã‚ã‚Šã¾ã™ã€‚\n[Fargate/ECS] [Image caching]: provide image caching for Fargate. Â· Issue #696 Â· aws/containers-roadmap ã©ã†ãªã‚‹ã‚“ã§ã—ã‚‡ã†ã‹ã€‚\n",
    "permalink": "https://michimani.net/post/aws-how-long-does-fargate-take-to-start-2nd/",
    "title": "Fargate ã§ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•ã¾ã§ã®æ™‚é–“ãŒçŸ­ããªã£ãŸã‚‰ã—ã„ã®ã§ã‚ã‚‰ãŸã‚ã¦è¨ˆæ¸¬ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "AWS Lambda ã«ã¯ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆã¨ã‚¦ã‚©ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆã® 2 ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚ã‚Šã¾ã™ãŒã€ãã‚Œãã‚Œã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ Go ã® init() é–¢æ•°ã®æŒ¯ã‚‹èˆã„ãŒç•°ãªã‚‹ã‚ˆã†ãªã®ã§å®Ÿéš›ã«è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚\nçµè«– AWS Lambda ã®ã‚¦ã‚©ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆæ™‚ã«ã¯ Go ã® init() é–¢æ•°ã¯å®Ÿè¡Œã•ã‚Œã¾ã›ã‚“ã€‚\næ‰‹å…ƒã§ç¢ºèªã•ã‚ŒãŸã„å ´åˆã¯ã€ä¸‹è¨˜ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ clone ã—ã¦ãŠè©¦ã—ãã ã•ã„ã€‚\nmichimani/base-of-lambda-container-image | GitHub è©¦ã—ã¦ã¿ã‚‹ å®Ÿéš›ã« AWS ä¸Šã«ä½œã£ãŸ Lambda ã®ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆ/ã‚¦ã‚©ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆã¯ã“ã¡ã‚‰ã§ã¯åˆ¶å¾¡ã§ããªã„ã®ã§ã€ Lambda ã®ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œã—ã¦è©¦ã—ã¾ã™ã€‚\nè©¦ã™ãŸã‚ã«ç”¨æ„ã—ãŸ Go ã®ã‚³ãƒ¼ãƒ‰ã¯ä¸‹è¨˜ã§ã™ã€‚\npackage main import ( \u0026#34;log\u0026#34; \u0026#34;net/http\u0026#34; runtime \u0026#34;github.com/aws/aws-lambda-go/lambda\u0026#34; ) type Response struct { Message string `json:\u0026#34;message\u0026#34;` StatusCode int `json:\u0026#34;statusCode\u0026#34;` } var count int func handleRequest() (Response, error) { log.Println(\u0026#34;start handler\u0026#34;) defer log.Println(\u0026#34;end handler\u0026#34;) count++ message := \u0026#34;Hello AWS Lambda\u0026#34; for i := 0; i \u0026lt; count; i++ { message = message + \u0026#34;!\u0026#34; } return Response{ Message: message, StatusCode: http.StatusOK, }, nil } func init() { count = 0 log.Println(\u0026#34;init function called\u0026#34;) } func main() { runtime.Start(handleRequest) } ã“ã®ã‚³ãƒ¼ãƒ‰ã€å®Ÿè¡Œã™ã‚‹ã¨ã©ã‚“ãªãƒ­ã‚°å‡ºåŠ›ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ãªã‚‹ã§ã—ã‚‡ã†ã‹ã€‚\nä¸‹è¨˜ã®ã‚ˆã†ãª Dockerfile ã‚’ç”¨æ„ã—ã¦ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚\nFROM public.ecr.aws/lambda/provided:al2 as build # install compiler RUN yum install -y golang RUN go env -w GOPROXY=direct # cache dependencies ADD go.mod go.sum ./ RUN go mod download # build ADD . . RUN go build -o /main # copy artifacts to a clean image FROM public.ecr.aws/lambda/provided:al2 COPY --from=build /main /main COPY entry.sh / RUN chmod 755 /entry.sh ENTRYPOINT [ \u0026#34;/entry.sh\u0026#34; ] docker build -t base-of-lambda-container-image . ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ã—ã¾ã™ã€‚\ndocker run \\ --rm \\ -p 9000:8080 \\ base-of-lambda-container-image:latest /main åˆ¥ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ Lambda ã‚’ invoke ã—ã¾ã™ã€‚\ncurl \u0026#34;http://localhost:9000/2015-03-31/functions/function/invocations\u0026#34; ã™ã‚‹ã¨ã€ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ã—ã¦ã„ã‚‹æ–¹ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªå‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚\nSTART RequestId: 7910c8d7-1394-455a-b253-64f6322044bc Version: $LATEST time=\u0026#34;2021-07-01T14:34:23.324\u0026#34; level=info msg=\u0026#34;extensionsDisabledByLayer(/opt/disable-extensions-jwigqn8j) -\u0026gt; stat /opt/disable-extensions-jwigqn8j: no such file or directory\u0026#34; time=\u0026#34;2021-07-01T14:34:23.324\u0026#34; level=warning msg=\u0026#34;Cannot list external agents\u0026#34; error=\u0026#34;open /opt/extensions: no such file or directory\u0026#34; 2021/07/01 14:34:23 init function called 2021/07/01 14:34:23 start handler 2021/07/01 14:34:23 end handler END RequestId: 7910c8d7-1394-455a-b253-64f6322044bc REPORT RequestId: 7910c8d7-1394-455a-b253-64f6322044bc Init Duration: 0.18 ms Duration: 6.83 ms Billed Duration: 100 ms Memory Size: 3008 MB Max Memory Used: 3008 MB REPORT ã®ä¸­ã« Init Duration ã®æƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã®ã§ã€ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ init() ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚‚ã‚ã‹ã‚Šã¾ã™ã€‚\nä¸€æ–¹ã€ invoke ã—ãŸæ–¹ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã¯ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã—ã¦ä¸‹è¨˜ã®å‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚\n{\u0026#34;message\u0026#34;:\u0026#34;Hello AWS Lambda!\u0026#34;,\u0026#34;statusCode\u0026#34;:200} ã§ã¯ã€ç¶šã‘ã¦ã‚‚ã†ä¸€åº¦å®Ÿè¡Œã™ã‚‹ã¨ã©ã†ãªã‚‹ã§ã—ã‚‡ã†ã‹ã€‚\nã‚³ãƒ³ãƒ†ãƒŠå´ã¨ invoke å´ã€ãã‚Œãã‚Œã®å‡ºåŠ›ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nSTART RequestId: 28c51c4b-cd7a-43b7-a2ae-fa8ef9017015 Version: $LATEST 2021/07/01 14:37:01 start handler 2021/07/01 14:37:01 end handler END RequestId: 28c51c4b-cd7a-43b7-a2ae-fa8ef9017015 REPORT RequestId: 28c51c4b-cd7a-43b7-a2ae-fa8ef9017015 Duration: 1.17 ms Billed Duration: 100 ms Memory Size: 3008 MB Max Memory Used: 3008 MB REPORT ã®ä¸­ã« Init Duration ã®æƒ…å ±ãŒå«ã¾ã‚Œã¦ãŠã‚‰ãšã€ã‚¦ã‚©ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ãã—ã¦ã€ init function called ã®ãƒ­ã‚°ãŒãªã„ãŸã‚ init() ã¯å®Ÿè¡Œã•ã‚Œã¦ã„ãªã„ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\n{\u0026#34;message\u0026#34;:\u0026#34;Hello AWS Lambda!!\u0026#34;,\u0026#34;statusCode\u0026#34;:200} message ã®èªå°¾ã® ! ãŒ 2 ã¤ã«ãªã£ã¦ã„ã¾ã™ã€‚ã“ã®ã‚ˆã†ã«ãªã‚‹ã®ã¯ä¸‹è¨˜ãŒåŸå› ã§ã™ã€‚\ninit() ãŒå®Ÿè¡Œã•ã‚Œãªã„ãŸã‚ count ã®å€¤ãŒ 0 ã§åˆæœŸåŒ–ã•ã‚Œãªã‹ã£ãŸ count ã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•° (ãƒãƒ³ãƒ‰ãƒ©å¤–ã§å®šç¾©ã—ãŸå¤‰æ•°) ã®ãŸã‚ã€å‰å›å®Ÿè¡Œæ™‚ã® 1 ãŒæ ¼ç´ã•ã‚Œã¦ã„ãŸ ã“ã®ã¾ã¾é€£ç¶šã§å®Ÿè¡Œã—ã¦ã„ãã¨ ! ã®æ•°ã¯å¢—ãˆã¦ã„ãã¾ã™ã€‚\n$ for i in `seq 5`; do curl \u0026#34;http://localhost:9000/2015-03-31/functions/function/invocations\u0026#34; \u0026amp;\u0026amp; echo \u0026#34;\\n\u0026#34; done {\u0026#34;message\u0026#34;:\u0026#34;Hello AWS Lambda!!!\u0026#34;,\u0026#34;statusCode\u0026#34;:200} {\u0026#34;message\u0026#34;:\u0026#34;Hello AWS Lambda!!!!\u0026#34;,\u0026#34;statusCode\u0026#34;:200} {\u0026#34;message\u0026#34;:\u0026#34;Hello AWS Lambda!!!!!\u0026#34;,\u0026#34;statusCode\u0026#34;:200} {\u0026#34;message\u0026#34;:\u0026#34;Hello AWS Lambda!!!!!!\u0026#34;,\u0026#34;statusCode\u0026#34;:200} {\u0026#34;message\u0026#34;:\u0026#34;Hello AWS Lambda!!!!!!!\u0026#34;,\u0026#34;statusCode\u0026#34;:200} ã‚³ãƒ³ãƒ†ãƒŠã‚’ä¸€æ—¦åœæ­¢ã—ã¦å†åº¦èµ·å‹•ã™ã‚Œã°ã€æœ€åˆã®ä¸€å›ã ã‘ã¯ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\nã¾ã¨ã‚ AWS Lambda ã®ã‚¦ã‚©ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆæ™‚ã«ã¯ Go ã® init() é–¢æ•°ã¯å®Ÿè¡Œã•ã‚Œã¾ã›ã‚“ã€‚\nå®Ÿè¡Œã”ã¨ã«åˆæœŸåŒ–ã—ãŸã„å¤‰æ•°ãŒã‚ã‚‹å ´åˆã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã§å®šç¾©ã›ãšã«ãƒãƒ³ãƒ‰ãƒ©å†…ã§å®£è¨€ãƒ»åˆæœŸåŒ–ã™ã‚‹ã€ã‚‚ã—ãã¯ beforeHandler() ã¿ãŸã„ãªåˆæœŸåŒ–ç”¨ã®é–¢æ•°ã‚’ä½œã£ã¦ã€ãƒãƒ³ãƒ‰ãƒ©ã®æœ€åˆã§ãã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã¿ãŸã„ãªã“ã¨ã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šãã†ã§ã™ã€‚\nä¸‹è¨˜ã®ãƒªãƒã‚¸ãƒˆãƒªã«ä»Šå›ã®æŒ™å‹•ã‚’è©¦ã™ã“ã¨ãŒã§ãã‚‹ä¸€å¼ã‚’ç½®ã„ã¦ã„ã‚‹ã®ã§ã€æ‰‹å…ƒã§ç¢ºèªã—ãŸã„å ´åˆã¯ clone ã—ã¦è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nmichimani/base-of-lambda-container-image: This is a base of the AWS Lambda function in Go and deploys it as a container image. ",
    "permalink": "https://michimani.net/post/aws-behavior-of-go-init-func-on-lambda/",
    "title": "AWS Lambda ã«ãŠã‘ã‚‹ Go ã® init() ã®æŒ¯ã‚‹èˆã„"
  },
  {
    "contents": "ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¿ãƒ–ã£ã¦æ°—ä»˜ã„ãŸã‚‰ã‚ã¡ã‚ƒãã¡ã‚ƒé–‹ã„ã¦ã‚‹ã“ã¨ã£ã¦ã‚ˆãã‚ã‚Šã¾ã™ã‚ˆã­ï¼Ÿ(åœ§åŠ›) ã¨ã„ã†ã“ã¨ã§ã€å¤§é‡ã«é–‹ã‹ã‚ŒãŸã‚¿ãƒ–ã‚’ãƒšãƒ¼ã‚¸ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã”ã¨ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹ Chrome æ‹¡å¼µã‚’ä½œã£ã¦ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã—ã¾ã—ãŸã€‚ã“ã®è¨˜äº‹ã¯ã€å…¬é–‹ã¾ã§ã®è¨˜éŒ²ã¨æ‹¡å¼µæ©Ÿèƒ½ãã®ã‚‚ã®ã®å®£ä¼ã§ã™ã€‚\næ•£ã‚‰ã‹ã£ãŸã‚¿ãƒ–ã‚’ãƒ‰ãƒ¡ã‚¤ãƒ³ã”ã¨ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹ Chrome æ‹¡å¼µä½œã£ãŸã€‚ pic.twitter.com/NB4NnCVxZw\n\u0026mdash; michimani Lv.859 (@michimani210) June 10, 2021 ç›®æ¬¡ æ¦‚è¦ Chrome æ‹¡å¼µã®å®Ÿè£… Getting started ã®æ¦‚è¦ Chrome æ‹¡å¼µç”¨ã® API ã‚’ä½¿ã£ã¦ã¿ã‚‹ chrome.tabs chrome.tabGroups ã‚¹ãƒˆã‚¢ã¸ã®å…¬é–‹ ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ç™»éŒ² å¿…è¦ãªç´ æ ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¸ã®å–ã‚Šçµ„ã¿ ç”³è«‹ã‹ã‚‰å…¬é–‹ã¾ã§ ã¾ã¨ã‚ æ¦‚è¦ Google Chrome ã®æ‹¡å¼µæ©Ÿèƒ½ã‚’è‡ªä½œã—ã¦ Chrome ã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã—ã¾ã—ãŸã€‚Chrome æ‹¡å¼µã‚’ä½œã‚‹ã®ã¯åˆã‚ã¦ã ã£ãŸã®ã§ã€ã©ã‚“ãªæ„Ÿã˜ã§ä½œã£ãŸã®ã‹ã€ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹ãŸã‚ã«ä½•ã‚’ã—ãŸã®ã‹ã«ã¤ã„ã¦æ›¸ãã¾ã™ã€‚\nã¡ãªã¿ã«ã€ä½œã£ã¦å…¬é–‹ã—ãŸã®ã¯ Group Tabs ã¨ã„ã†æ‹¡å¼µæ©Ÿèƒ½ã§ã™ã€‚ãã®åã®é€šã‚Šã€é–‹ã‹ã‚Œã¦ã„ã‚‹ã‚¿ãƒ–ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹æ‹¡å¼µæ©Ÿèƒ½ã§ã™ã€‚\nã§ãã‚‹ã“ã¨ã¨ã—ã¦ã¯ã€æ¬¡ã® 3 ã¤ã§ã™ã€‚\nã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å†…ã®ã‚¿ãƒ– (å›ºå®šã•ã‚ŒãŸã‚‚ã®ã‚’é™¤ã) ã‚’ URL ã§ã‚½ãƒ¼ãƒˆã™ã‚‹ ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å†…ã®ã‚¿ãƒ– (å›ºå®šã•ã‚ŒãŸã‚‚ã®ã‚’é™¤ã) ã‚’ãƒ‰ãƒ¡ã‚¤ãƒ³åã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹ ã‚¿ãƒ–ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã‚’è§£é™¤ã™ã‚‹ Group Tabs - Chrome Web Store ãœã²ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä½¿ã£ã¦ã¿ã¦ãã ã•ã„ã€‚\nã¡ãªã¿ã«ã‚¿ãƒ–ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã¯ Chrome 89 ä»¥é™ã§åˆ©ç”¨å¯èƒ½ãªã®ã§ã€å¿…ç„¶çš„ã«ã“ã®æ‹¡å¼µæ©Ÿèƒ½ã‚‚ Chrome 89 ä»¥é™ã§åˆ©ç”¨å¯èƒ½ã§ã™ã€‚\nChrome æ‹¡å¼µã®å®Ÿè£… Chrome æ‹¡å¼µã®å®Ÿè£…ã§ã™ãŒã€ã‚ã¡ã‚ƒãã¡ã‚ƒç°¡å˜ã§ã—ãŸã€‚ JavaScript ã§ã®å®Ÿè£…ã«ãªã‚‹ã®ã§ã€ js ã§ã®å®Ÿè£…çµŒé¨“ãŒã‚ã‚‹æ–¹ãªã‚‰ã‚ˆã‚Šç°¡å˜ã«æ„Ÿã˜ã‚‰ã‚Œã‚‹ã¨æ€ã„ã¾ã™ã€‚\nChrome æ‹¡å¼µã§ã¯ chrome ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦è«¸ã€…ã®è¦ç´ ã‚’æ“ä½œã—ã¦ã„ãã¾ã™ã€‚ä¾‹ãˆã°ä»Šå›ã®ã‚ˆã†ã«ã‚¿ãƒ–ã‚’æ“ä½œã™ã‚‹å ´åˆã¯ã€ chrome.tabs ã«å«ã¾ã‚Œã‚‹ API ã‚’ä½¿ã„ã¾ã™ã€‚\nChrome Developers ã®ã‚µã‚¤ãƒˆã«ã¯å„ API ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã¨ Chrome æ‹¡å¼µæ©Ÿèƒ½ã«é–¢ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ1ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚ Getting started ã§ã¯ã€ã¨ã¦ã‚‚ä¸å¯§ãªæ‰‹é †ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ã®ã§ã€ã‚µãƒ³ãƒ—ãƒ«ã®å®Ÿè£…ã¾ã§ç‰¹ã«è©°ã¾ã‚‹ã“ã¨ãªãé€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nGetting started - Chrome Developers Getting started ã®æ¦‚è¦ Getting started ã§ã¯ã€ã‚µãƒ³ãƒ—ãƒ«ã¨ã—ã¦ ã€Œé–‹ã„ã¦ã„ã‚‹ãƒšãƒ¼ã‚¸ã®èƒŒæ™¯è‰²ã‚’å¤‰æ›´ã™ã‚‹ã€ æ‹¡å¼µæ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ã€‚\næ‰‹é †ã¨ã—ã¦ã¯æ¬¡ã®ã‚ˆã†ãªå†…å®¹ã§ã™ã€‚\nmanifest.json ã®ä½œæˆ ãƒãƒƒã‚¯ã‚°ãƒ©ãƒ³ãƒ‰ã§å‹•ä½œã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè£… æ‹¡å¼µæ©Ÿèƒ½ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’æŠ¼ã—ãŸã¨ãã«å‡ºã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”¨ã® HTML ã®å®Ÿè£… ãƒ¡ãƒ‹ãƒ¥ãƒ¼å†…ã®ãƒœã‚¿ãƒ³ãªã©ã‚’æŠ¼ã—ãŸã¨ãã«ç™ºç«ã™ã‚‹å‡¦ç†ã®å®Ÿè£… ï¼‹Î± 1 ã€œ 4 ã®æ‰‹é †ã§æ‹¡å¼µæ©Ÿèƒ½ã®å¤§æ ã¯å®Œæˆã™ã‚‹ã®ã§ã€ã‚ã¨ã¯ 3 ã¨ 4 ã®å®Ÿè£…ã‚’ç›®çš„ã®å‡¦ç†ã‚’é”æˆã™ã‚‹ãŸã‚ã«ã„ã‚ã‚“ãª API ã‚’ä½¿ã£ã¦å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚\nChrome æ‹¡å¼µç”¨ã® API ã‚’ä½¿ã£ã¦ã¿ã‚‹ ä»Šå›ä½œæˆã—ãŸã®ã¯ã‚¿ãƒ–ã‚’æ“ä½œã™ã‚‹æ‹¡å¼µæ©Ÿèƒ½ã§ã™ã€‚ãªã®ã§ã€ä½¿ç”¨ã—ãŸ API ã¯ chrome.tabs ã¨ chrome.tabGroups ã®ã¿ã§ã™ã€‚\nãã‚Œãã‚Œã® API ã«ã¤ã„ã¦ã€ã©ã®ã‚ˆã†ã«ä½¿ã£ãŸã‹æ›¸ã„ã¦ãŠãã¾ã™ã€‚ã“ã‚Œã‚’è¦‹ã¦ã‚‚ã‚‰ãˆã‚Œã°ä»–ã® API ã®ä½¿ã„æ–¹ã‚‚ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ãã‚‹ã¨æ€ã„ã¾ã™ã€‚\nchrome.tabs chrome.tabs API ã§ã¯ã€ã‚¿ãƒ–ã‚’ä½œã£ãŸã‚Šç§»å‹•ã•ã›ãŸã‚Šãƒªãƒ­ãƒ¼ãƒ‰ã—ãŸã‚Šã¨ã„ã£ãŸæ“ä½œãŒã§ãã¾ã™ã€‚\nchrome.tabs - Chrome Developers ä¾‹ãˆã°ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å†…ã®ã‚¿ãƒ–ã®ãƒªã‚¹ãƒˆã‚’å–å¾—ã™ã‚‹å ´åˆã¯ query ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ä¸‹è¨˜ã®ã‚ˆã†ã«å®Ÿè£…ã—ã¾ã™ã€‚\nconst targetTabConditions = { currentWindow: true, pinned: false, url: [\u0026#39;http://*/*\u0026#39;, \u0026#39;https://*/*\u0026#39;], groupId: chrome.tabGroups.TAB_GROUP_ID_NONE }; const tabs = await chrome.tabs.query(targetTabConditions); tabs.forEach(tab =\u0026gt; { console.log(`${tab.title}: ${tab.url}`); }); // Group Tabs - Chrome ã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢: https://chrome.google.com/webstore/detail/group-tabs/cnmcnafaccboidemenkpfnlgfcejijgm/ // DeepL API: https://www.deepl.com/docs-api/translating-text/large-volumes/ // aws-cli/CHANGELOG.rst at develop Â· aws/aws-cli: https://github.com/aws/aws-cli/blob/develop/CHANGELOG.rst // oapi-codegen/README.md at master Â· deepmap/oapi-codegen: https://github.com/deepmap/oapi-codegen/blob/master/README.md ã‚¿ãƒ–ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹ group ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚ chrome.tabs API ã«å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚\nã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ãŸã„ã‚¿ãƒ–ã® ID ã‚’é…åˆ—ã«ã—ã¦æ¸¡ã™ã ã‘ã§ã™ã€‚\nconst tabs = await chrome.tabs.query(targetTabConditions); // tab ID ã®é…åˆ—ã‚’ä½œã‚‹ const tabIdList = Array(); tabs.forEach(tab =\u0026gt; { tabIdList.push(tab.id); }); // ID ã®é…åˆ—ã‚’æ¸¡ã™ const groupId = await chrome.tabs.group({tabIds: tabIdList}); chrome.tabGroups chrome.tabGroups API ã§ã¯ã€ã‚¿ãƒ–ã‚°ãƒ«ãƒ¼ãƒ—ã®ã‚¿ã‚¤ãƒˆãƒ«å¤‰æ›´ã€è‰²å¤‰æ›´ã€ç§»å‹•ã€ãªã©ã®æ“ä½œãŒã§ãã¾ã™ã€‚\nchrome.tabGroups - Chrome Developers ä»Šå›ã®æ‹¡å¼µæ©Ÿèƒ½ã§ã¯ã€ chrome.tabs.group ã§ä½œæˆã—ãŸã‚¿ãƒ–ã‚°ãƒ«ãƒ¼ãƒ—ã®ã‚¿ã‚¤ãƒˆãƒ«ãªã©ã‚’æ›´æ–°ã™ã‚‹ãŸã‚ã« update ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚\nconst groupId = await chrome.tabs.group({tabIds: tabIdList}); await chrome.tabGroups.update(groupId, { title: \u0026#39;hoge group\u0026#39;, color: \u0026#39;green\u0026#39; }) ã‚¹ãƒˆã‚¢ã¸ã®å…¬é–‹ Google Workspace ã®ã‚¢ãƒ‰ã‚ªãƒ³ã¨é•ã„ã€ Chrome ã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã¸ã®å…¬é–‹ã‚‚éå¸¸ã«ç°¡å˜ã§ã—ãŸã€‚\nãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ç™»éŒ² Chrome ã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§æ‹¡å¼µæ©Ÿèƒ½ã‚’å…¬é–‹ã™ã‚‹ã«ã¯ã€ã¾ãšã¯ Chrome ã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã®ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ç™»éŒ²ã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nChrome ã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ - ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼å¥‘ç´„ ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ç™»éŒ²ã«ã¯ã€ç™»éŒ²æ™‚ã« 1 å›ã®ã¿ 5ãƒ‰ãƒ«ã®ç™»éŒ²æ–™ã‚’æ”¯æ‰•ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ç™»éŒ²ã‚’ã—ãŸã‚ã¨ã¯ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‹ã‚‰æ‹¡å¼µæ©Ÿèƒ½ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ (ZIP ãƒ•ã‚¡ã‚¤ãƒ«) ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€å¿…è¦äº‹é …ã‚’å…¥åŠ›ã—ã¦ç”³è«‹ã—ã¾ã™ã€‚\nå¿…è¦ãªç´ æ å…¥åŠ›é …ç›®ä»¥å¤–ã§ã¯ã€ä¸‹è¨˜ã®ç´ æãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚\n1280x800 ã¾ãŸã¯ 640x400 JPEG ã¾ãŸã¯ 24 ãƒ“ãƒƒãƒˆ PNG (ã‚¢ãƒ«ãƒ•ã‚¡ãªã—) ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 1 æš 128x128 ã®ã‚¢ã‚¤ã‚³ãƒ³ç”»åƒ ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¸ã®å–ã‚Šçµ„ã¿ å…¥åŠ›é …ç›®ã¨ã—ã¦å¤šå°‘è¿·ã†ã¨ã—ãŸã‚‰ã€ ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¸ã®å–ã‚Šçµ„ã¿ ã‹ã¨æ€ã„ã¾ã™ã€‚\nãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¸ã®å–ã‚Šçµ„ã¿ã¨ã—ã¦ã¯ä¸‹è¨˜ã®é …ç›®ã«ã¤ã„ã¦å…¥åŠ›ã€ã¾ãŸã¯ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã«ã‚ˆã‚‹ãƒã‚§ãƒƒã‚¯ã‚’ã—ã¾ã™ã€‚\nå˜ä¸€ç”¨é€” å…¬é–‹ã™ã‚‹æ‹¡å¼µæ©Ÿèƒ½ãŒã€å˜ä¸€ã®ã€é™ã‚‰ã‚ŒãŸç¯„å›²ã®ç”¨é€”ã§ã‚ã‚‹ã“ã¨ã‚’èª¬æ˜ã—ã¾ã™ã€‚(æ—¥æœ¬èªã§ OK ã§ã—ãŸ) æ¨©é™ãŒå¿…è¦ãªç†ç”± manifest.json ã® permission ã§æŒ‡å®šã—ã¦ã„ã‚‹æ¨©é™ãŒå¿…è¦ãªç†ç”±ã‚’èª¬æ˜ã—ã¾ã™ã€‚ (æ—¥æœ¬èªã§ OK ã§ã—ãŸ) ãƒ‡ãƒ¼ã‚¿ä½¿ç”¨ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‡ãƒ¼ã‚¿ (å€‹äººã‚’ç‰¹å®šã§ãã‚‹æƒ…å ±ã€å¥åº·ã«é–¢ã™ã‚‹æƒ…å ±ã€ä½ç½®æƒ…å ±ã€ãªã©) ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã§é¸æŠã—ã¾ã™ã€‚ å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ç›®çš„å¤–ã§ä½¿ç”¨ã—ãªã„æ—¨ã®å®£è¨€ã‚’ã€ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹ã“ã¨ã§å®£è¨€ã—ã¾ã™ã€‚ ç”³è«‹ã‹ã‚‰å…¬é–‹ã¾ã§ å¿…è¦äº‹é …ã‚’å…¥åŠ›ã—ã¦ç”³è«‹ã™ã‚‹ã¨ã€å¯©æŸ»ãŒé–‹å§‹ã—ã¾ã™ã€‚\nä»Šå›ã®å ´åˆã€ç”³è«‹ã‹ã‚‰ 2 æ—¥ç¨‹åº¦ã§ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã•ã‚Œã¾ã—ãŸã€‚ãŸã ã—ã€å…¬é–‹ã•ã‚ŒãŸéš›ã«ã“ã¡ã‚‰å´ã¸ã®é€šçŸ¥ã¯ãªã‹ã£ãŸã®ã§ã€é©å®œãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§é€²æ—ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nåˆå›ã®ç”³è«‹å¾Œã€æ‹¡å¼µæ©Ÿèƒ½ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸Šã’ã¦å†ç”³è«‹ã—ãŸéš›ã«ã‚‚ã€ 2 æ—¥ç¨‹åº¦ã§æ›´æ–°ãŒã‚¹ãƒˆã‚¢ã«åæ˜ ã•ã‚Œã¾ã—ãŸã€‚ã“ã®ã‚ãŸã‚Šã®æœŸé–“ã¯ã©ã‚Œãã‚‰ã„ãŒç›¸å ´ãªã®ã‹ã¯ã‚ã‹ã‚Šã¾ã›ã‚“ãŒã€ã‚·ãƒ³ãƒ—ãƒ«ãªæ©Ÿèƒ½ã§ã‚ã‚Œã°å…¬é–‹ã¾ã§ã®æœŸé–“ã¯æ•°æ—¥ãªã®ã§ã¯ï¼Ÿã¨æ€ã£ã¦ã„ã¾ã™ã€‚\nã¾ã¨ã‚ æ•£ã‚‰ã‹ã£ãŸã‚¿ãƒ–ã‚’è‰¯ã„æ„Ÿã˜ã«æ•´ç†ã—ã¦ãã‚Œã‚‹ Chrome æ‹¡å¼µã‚’ä½œã£ã¦ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã—ãŸè©±ã§ã—ãŸã€‚\nä»¥å‰ã« Google Workspace ã®ã‚¢ãƒ‰ã‚ªãƒ³ã‚’ä½œã£ã¦å…¬é–‹ã—ãŸã¨ãã¨æ¯”ã¹ã‚‹ã¨ã€ã‚ã£ã‘ãªãå…¬é–‹ã¾ã§ã§ãã¦ã—ã¾ã£ãŸãªã¨ã„ã†å°è±¡ã§ã™ã€‚\nGoogle ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ Markdown å½¢å¼ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¤‰æ›ã™ã‚‹ã‚¢ãƒ‰ã‚ªãƒ³ã‚’ä½œã£ã¦å…¬é–‹ã—ã¾ã—ãŸ - michimani.net ä»Šå›ä½œã£ãŸæ‹¡å¼µæ©Ÿèƒ½ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ GitHub ã§å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§ã€ãƒã‚°å ±å‘Šã‚„è¦æœ›ãªã©ã‚ã‚Œã°ãœã² issue ä½œã£ã¦ã„ãŸã ã‘ã‚‹ã¨å¬‰ã—ã„ã§ã™ã€‚\nmichimani/chrome-tab-ex: This is a Chrome extension that sorts and groups tabs. ã‚¹ãƒˆã‚¢ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚‚åŠ±ã¿ã«ãªã‚Šã¾ã™ã®ã§ã€ãœã²ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãŸã ã„ã¦ã€å¿Œæ†šã®ãªã„ã”æ„è¦‹ã‚’ã„ãŸã ã‘ã‚Œã°ã¨æ€ã„ã¾ã™ã€‚\nGroup Tabs - Chrome Web Store Welcome - Chrome Developers \u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/development-publish-chrome-extension-grouping-tabs-by-domain/",
    "title": "æ•£ã‚‰ã‹ã£ãŸ Chrome ã®ã‚¿ãƒ–ã‚’ãƒ‰ãƒ¡ã‚¤ãƒ³ã”ã¨ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹æ‹¡å¼µæ©Ÿèƒ½ã‚’ä½œã£ãŸ"
  },
  {
    "contents": " What\u0026rsquo;s this? This is a Google Chrome Extension that sort, group and ungroup tabs.\nFeatures Sort all tabs in the current window by its URL Group tabs in the current window by its domain Ungroup all tab groups in the current window Usage Install this extension from Chrome Web Store.\nGroup Tabs - Chrome Web Store Click extension icon, and select an action.\nSource Code michimani/chrome-tab-ex: This is a Chrome extension that sorts and groups tabs. If you have any comments or bug reports, please create an issue in the above repository.\nLogo ",
    "permalink": "https://michimani.net/projects/group-tabs/about/",
    "title": "About Group Tabs"
  },
  {
    "contents": "å»å¹´ã® 3 æœˆé ƒã‹ã‚‰ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ã«ãªã£ã¦ä»¥é™ è‡ªå®…ã®ä½œæ¥­ç’°å¢ƒã‚’æ•´ãˆã¦ãã¾ã—ãŸãŒã€ã“ã®æ˜¥ã«å¼•ã£è¶Šã—ã‚’æ©Ÿã«è«¸ã€…è‰¯ã„æ„Ÿã˜ã«å†æ§‹ç¯‰ã—ãŸã®ã§ãƒ¡ãƒ¢ç¨‹åº¦ã«æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nç›®æ¬¡ å‰å›æ›¸ã„ãŸè¨˜äº‹ å†æ§‹ç¯‰ã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ ãƒ‡ã‚¹ã‚¯ã®æ”¹å–„ FLEXISPOT E3B ã‹ãªã§ã‚‚ã® å¤©æ¿ ãƒ©ãƒãƒ¼ã‚¦ãƒƒãƒ‰ ãƒŠãƒãƒ¥ãƒ©ãƒ« ä¼šç¤¾ PC ã¨å€‹äºº PC ã¨ã®ã‚¹ãƒ ãƒ¼ã‚ºãªåˆ‡ã‚Šæ›¿ãˆ ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ å‘¨è¾ºæ©Ÿå™¨ é…ç·š ã¾ã¨ã‚ å‰å›æ›¸ã„ãŸè¨˜äº‹ å»å¹´ã® 4 æœˆé ƒã€ã‚¯ãƒ©ãƒ¡ã‚½ã®ç¤¾é•·ã§ã‚ã‚‹æ¨ªç”°ã•ã‚“ã®è¨˜äº‹ã‚’èª­ã‚“ã§ã€è‡ªåˆ†ã‚‚å½“æ™‚ã®ä½œæ¥­ç’°å¢ƒã«ã¤ã„ã¦ãƒ–ãƒ­ã‚°ã‚’æ›¸ãã¾ã—ãŸã€‚(ä¸€èˆ¬çš„ ã£ã¦ãªã‚“ã ï¼Ÿã£ã¦æ„Ÿã˜ã§ã™ãŒ)\nä¸€èˆ¬çš„ãªã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã—ã¦ãã‚Œã£ã½ã„ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã‚’æ•´ãˆã¦ã¿ãŸ - michimani.net ã“ã‚Œã‚’æ›¸ã„ã¦ã‹ã‚‰ã‚‚è‰²ã€…è²·ã„è¶³ã—ã¦ç’°å¢ƒã‚’æ•´å‚™ã—ã¦ã„ãŸã®ã§ã™ãŒã€ä»Šå›å¼•ã£è¶Šã—ã‚’æ©Ÿã«è«¸ã€…ã‚’ä¸€æ–°ã—ã¦è‰¯ã„æ„Ÿã˜ã«å†æ§‹ç¯‰ã§ããŸã®ã§ã€ä»Šå›ã¯å†æ§‹ç¯‰å¾Œã®ç’°å¢ƒã«ã¤ã„ã¦æ›¸ãã¾ã™ã€‚\næ¨ªç”°ã•ã‚“ã®è¨˜äº‹ã¯ã“ã¡ã‚‰\nç¤¾é•·ã¨ã—ã¦æœ€ä½é™ã®ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã‚’æ•´ãˆã¦ã¿ãŸ | DevelopersIO å†æ§‹ç¯‰ã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ ç’°å¢ƒã‚’å†æ§‹ç¯‰ã™ã‚‹ã«ã‚ãŸã£ã¦é”æˆã—ãŸã‹ã£ãŸã®ã¯ä¸‹è¨˜ã®å†…å®¹ã§ã™ã€‚\nãƒ‡ã‚¹ã‚¯ã®æ”¹å–„ ã‚¹ã‚¿ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒ‡ã‚¹ã‚¯ã®å°å…¥ å¥¥è¡Œãã®ã‚ã‚‹å¤©æ¿ ä¼šç¤¾ PC ã¨å€‹äºº PC ã¨ã®ã‚¹ãƒ ãƒ¼ã‚ºãªåˆ‡ã‚Šæ›¿ãˆ é…ç·š ãã‚Œãã‚Œã«ã¤ã„ã¦æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nãƒ‡ã‚¹ã‚¯ã®æ”¹å–„ ã¾ãšã¯ãƒ‡ã‚¹ã‚¯ã®æ”¹å–„ã§ã™ã€‚ã¨ã„ã£ã¦ã‚‚ã“ã‚ŒãŒãƒ¡ã‚¤ãƒ³ã§ã™ã€‚\nã“ã‚Œã¾ã§ã¯ IKEA ã® LINNMON / ADILS ã¨ã„ã† å¥¥è¡Œã 60 cm å¹… 200 cm ã®ãƒ‡ã‚¹ã‚¯ã‚’ä½¿ã£ã¦ã„ã¾ã—ãŸã€‚å¹…ãŒåºƒã„ã®ã¯è‰¯ã‹ã£ãŸã®ã§ã™ãŒã€å¥¥è¡ŒããŒã‚‚ã†å°‘ã—ã»ã—ã‹ã£ãŸã®ã¨ã€è„šãŒè¯å¥¢ã§ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ 2 æšã‚’ç½®ã„ã¦ã„ã‚‹ã¨ç‰‡å´ã«é‡ã•ãŒã‹ã‹ã£ã¦å®‰å®šã—ãªã„ã¨ã„ã†ä¸æº€ãƒã‚¤ãƒ³ãƒˆãŒã‚ã‚Šã¾ã—ãŸã€‚\nã¨ã„ã†ã“ã¨ã§ä»Šå›ã®æ”¹å–„ã§ã¯ å¥¥è¡Œã ã¨ ä¸å®‰å®šã• ã®æ”¹å–„ã¨ã€ã‚ã‚‰ã‚†ã‚‹ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ç’°å¢ƒæ§‹ç¯‰ãƒ–ãƒ­ã‚°ã§ç´¹ä»‹ã•ã‚Œã¦ã„ãŸ æ˜‡é™ãƒ‡ã‚¹ã‚¯ã®å°å…¥ ã‚’ç›®çš„ã¨ã—ã¾ã—ãŸã€‚\nçµæœã¨ã—ã¦ä¸‹ã®å†™çœŸã®ã‚ˆã†ãªç’°å¢ƒã«ãªã‚Šã¾ã—ãŸã€‚\nãƒ‡ã‚¹ã‚¯ã®è„šã¯ FLEXISPOT - E3B ã§ã€å¤©æ¿ã¯ ã‹ãªã§ã‚‚ã® - THE BOARD / ãƒ©ãƒãƒ¼ã‚¦ãƒƒãƒ‰ ãƒŠãƒãƒ¥ãƒ©ãƒ« (å¹… 180 / å¥¥è¡Œã 80) ã«ã—ã¾ã—ãŸã€‚ãã‚Œãã‚Œæ‰€æ„Ÿã‚’æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nFLEXISPOT E3B FLEXISPOT ã®æ˜‡é™ãƒ‡ã‚¹ã‚¯ã«ã¤ã„ã¦ã¯ã„ã‚ã‚“ãªãƒ–ãƒ­ã‚°ã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒæ›¸ã‹ã‚Œã¦ã„ã¦ã€ç¤¾å†…ã§ã‚‚ä½¿ã£ã¦ã‚‹äººãŒã„ã¦è‰¯ã•ãã†ã ãªã¨ã¯æ€ã£ã¦ã„ã¾ã—ãŸã€‚\nAmazon ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼å†…ã§ã¯ã€å–ã‚Šä»˜ã‘ã«å¿…è¦ãªç©´ãŒç©ºã„ã¦ã„ãªã‹ã£ãŸã‚Šã€æ˜‡é™ã®èª¤å‹•ä½œãªã©ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚‚ã„ãã¤ã‹ã‚ã‚Šã¾ã—ãŸãŒã€ã¾ã‚ã€ãã‚Œã«ã‚ãŸã£ãŸã‚‰ä»•æ–¹ãªã„ã¨æ€ã£ã¦è³¼å…¥ã—ã¾ã—ãŸã€‚\nã¾ãšã€æ¢±åŒ…é‡é‡ãŒç´„ 30 kg ã¨çµæ§‹ãªé‡ã•ãŒã‚ã‚‹ã®ã§éåŠ›ãªè‡ªåˆ†ã«ã¯æ‰±ã†ã®ãŒå¤§å¤‰ã§ã—ãŸã€‚\néƒ¨å“è‡ªä½“ã¯ã“ã‚Œã ã‘ã§ã™ã€‚\nçµ„ç«‹è‡ªä½“ã¯éå¸¸ã«ç°¡å˜ã§ã€è„šè‡ªä½“ã®çµ„ã¿ç«‹ã¦ã«ã¯ç‰¹ã«åˆ¥é€”å·¥å…·ãŒå¿…è¦ã«ãªã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ãŸã ã—ã€æ˜‡é™ã™ã‚‹éƒ¨åˆ†ã®ãƒ‘ãƒ¼ãƒ„ã¯ç‰¹ã«é‡ãŸã„ã®ã§ã€çµ„ã¿ç«‹ã¦ã®éš›ã«ã¯æ‰±ã„ã«æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚\nä»Šå›ã¯å¤©æ¿åˆ¥å£²ã‚Šã®ã‚‚ã®ã‚’è³¼å…¥ã—ã¾ã—ãŸãŒã€å¤©æ¿ã¨çµ„ã¿ä»˜ã‘ã‚‹ãŸã‚ã®ãƒã‚¸ã¯ä»˜å±ã—ã¦ã„ã¾ã™ã€‚ãƒã‚¸ç©´ã¯ 22 ã€œ 26 ç®‡æ‰€ (è„šã®å¹…ã«ã‚ˆã‚‹) ãªã®ã§ã€é›»å‹•ãƒ‰ãƒªãƒ«ãŠã‚ˆã³é›»å‹•ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ãŒç„¡ã„ã¨å¤©æ¿ã®å–ã‚Šä»˜ã‘ã¯ã—ã‚“ã©ã„ã§ã™ã€‚\nãƒªãƒªãƒ¼ãƒ•(RELIFE) å…­è§’è»¸ãƒ‰ãƒªãƒ« æœ¨å·¥ãƒ»æ¨¹è„‚ç”¨ãƒ‰ãƒªãƒ«åˆƒ 10æœ¬çµ„ 26808 ã‚¢ã‚¤ãƒªã‚¹ã‚ªãƒ¼ãƒ¤ãƒ é›»å‹•ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆãƒ‰ãƒ©ã‚¤ãƒãƒ¼ 10.8V å……é›»å¼ è»½é‡ LEDãƒ©ã‚¤ãƒˆ æ­£é€†è»¢åˆ‡æ›¿ JID80 ãƒ“ãƒƒãƒˆ10ç¨®ãƒ»ãƒãƒƒãƒ†ãƒªãƒ¼ãƒ»å……é›»å™¨ä»˜ã ã€å…±é€šãƒãƒƒãƒ†ãƒªãƒ¼ã‚·ãƒªãƒ¼ã‚ºã€‘ æ˜‡é™ã«ã¤ã„ã¦ã¯ã€ç‰¹ã«ä¸å…·åˆã¯ãªã‹ã£ãŸã§ã™ã€‚\nå¤©æ¿ã¨ã€ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ 2 æš (27 ã‚¤ãƒ³ãƒ ã¨ 32 ã‚¤ãƒ³ãƒ)ã€ãã®ä»– PC å‘¨è¾ºæ©Ÿå™¨ãªã©ã‚’è¼‰ã›ãŸçŠ¶æ…‹ã§ã‚‚å®‰å®šã—ã¦æ˜‡é™ã—ã¦ãã‚Œã¾ã™ã€‚\nè«¸ã€…ã‚»ãƒƒãƒ†ã‚£ãƒ³ã‚°ã—çµ‚ã‚ã£ãŸçŠ¶æ…‹ã§ã®æ˜‡é™ pic.twitter.com/qU1K8tgbrX\n\u0026mdash; michimani Lv.859 (@michimani210) April 25, 2021 ãƒ¡ãƒ¢ãƒªæ©Ÿèƒ½ã‚‚ã‚ã‚Šã€åº§ã£ã¦ä½œæ¥­ã™ã‚‹ã¨ãã®é«˜ã•ã¨ç«‹ã£ã¦ä½œæ¥­ã™ã‚‹ã¨ãã®é«˜ã•ã‚’è¨­å®šã—ã¦ãŠãã“ã¨ã§ã€ãƒœã‚¿ãƒ³ä¸€ã¤ã§è¨­å®šã—ãŸé«˜ã•ã¾ã§æ˜‡é™ã—ã¦ãã‚Œã¾ã™ã€‚\nãƒ¡ãƒ¢ãƒªæ©Ÿèƒ½ã‚’ã¤ã‹ãŸæ˜‡é™ã§ä¸€ã¤æ°—ã«ãªã‚‹ã®ãŒã€è¨­å®šã—ãŸé«˜ã•ã§ ãƒ‰ãƒ³ãƒƒ ã¦æ„Ÿã˜ã§æ€¥ã«æ­¢ã¾ã‚‹ç‚¹ã§ã™ã€‚ã¨è¨€ã£ã¦ã‚‚æœºã®ä¸Šã®ã‚‚ã®ãŒå€’ã‚ŒãŸã‚Šãƒ¢ãƒ‹ã‚¿ãƒ¼ã‚¢ãƒ¼ãƒ ãŒæºã‚ŒãŸã‚Šã™ã‚‹ç¨‹ã§ã¯ãªã„ã®ã§ã™ãŒã€‚ä¸Šä¸‹ãƒœã‚¿ãƒ³ã§æ˜‡é™ã•ã›ã‚‹å ´åˆã«ã¯ã€ãƒœã‚¿ãƒ³ã‚’é›¢ã—ã¦ã‹ã‚‰æ•°ç§’ã¯æ˜‡é™ã‚¹ãƒ”ãƒ¼ãƒ‰ãŒç·©ã‚„ã‹ã«ãªã£ã¦æ­¢ã¾ã‚‹ã®ã§ã€ãã‚Œã«æ¯”ã¹ã‚‹ã¨æ€¥ã«æ­¢ã¾ã‚‹æ„Ÿã˜ã¯ã‚ã‚Šã¾ã™ã€‚\nè³¼å…¥ã™ã‚‹å‰ã«æ°—ã«ãªã£ã¦ã„ãŸã®ã¯ã€é«˜ãã—ãŸçŠ¶æ…‹ã§ã®å®‰å®šåº¦ã§ã™ã€‚ãŒã€ã“ã‚Œã«é–¢ã—ã¦ã¯ææ†‚ã§ã—ãŸã€‚\nç«‹ã£ã¦ä½œæ¥­ã—ã¦ã„ã‚‹ã¨ãã¯ã‚ã‚‹ç¨‹åº¦ä½“é‡ã‚’é ã‘ã¦ã‚‚ã³ãã¨ã‚‚ã—ãªã„ã§ã™ã—ã€å‰å¾Œã®ãƒ–ãƒ¬ã¯ã»ã¨ã‚“ã©ãªã„ã®ã§å®‰å®šæ„Ÿã¯æŠœç¾¤ã§ã™ã€‚ãŸã ã—æ§‹é€ ä¸Šå·¦å³ã®æºã‚Œã«ã¯å¼·ããªã„ã®ã§ã€ãã®ç‚¹ã¯é ­ã«å…¥ã‚Œã¦ãŠã„ãŸã»ã†ãŒè‰¯ã•ãã†ã§ã™ã€‚ã¨è¨€ã£ã¦ã‚‚ã€å¿ƒé…ã«ãªã‚‹ãã‚‰ã„æºã‚Œã‚‹ã‚ã‘ã§ã¯ãªã„ã®ã§ã€ç¥çµŒè³ªã«ãªã‚‹ã»ã©ã§ã¯ãªã„ã§ã™ã€‚\nã‚¹ã‚¿ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒ‡ã‚¹ã‚¯ã€æƒ³åƒä»¥ä¸Šã«è‰¯ã„ç’°å¢ƒã§ã€æœ€è¿‘ã§ã¯æ¥­å‹™ã®åŠåˆ†ä»¥ä¸Šã¯ãŸã£ãŸçŠ¶æ…‹ã§ä½œæ¥­ã—ã¦ã„ã‚‹ãã‚‰ã„ã§ã™ã€‚\nãƒ•ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã§ç«‹ã£ãŸã¾ã¾ä½œæ¥­ã—ã¦ã„ã‚‹ã¨ã©ã†ã—ã¦ã‚‚è¶³ã®è£ãŒç—›ããªã‚‹ã®ã§ã€ç–²åŠ´è»½æ¸›ç”¨ã®ãƒãƒƒãƒˆã‚’ä½¿ã†ã¨ã ã„ã¶æ¥½ã«ãªã‚Šã¾ã™ã€‚\nå…«å¹¡ã­ã˜ ç–²åŠ´è»½æ¸›ãƒãƒƒãƒˆ ãƒ–ãƒ©ãƒƒã‚¯ 900X450 1æšå…¥ã‚Š ã“ã¡ã‚‰ã®ãƒ¢ãƒ‡ãƒ«ã«ã¯éšœå®³ç‰©æ¤œçŸ¥æ©Ÿèƒ½ãŒã‚ã‚Šã€æ˜‡é™ä¸­ã«ä¸Šã‚„ä¸‹ã‹ã‚‰è² è·ãŒã‹ã‹ã£ãŸå ´åˆã«ã¯æ˜‡é™ãŒè‡ªå‹•ã§æ­¢ã¾ã‚Šã¾ã™ã€‚\nã“ã®æ©Ÿèƒ½ã§ä¸€ã¤æ°—ã‚’ã¤ã‘ãŸã„ã®ãŒã€ã‚ã‚Šã¨ã¡ã‚‡ã£ã¨ã—ãŸè² è·ã‚‚æ¤œçŸ¥ã•ã‚Œã‚‹ã¨ã„ã†ç‚¹ã§ã™ã€‚ä¾‹ãˆã°ã€ãƒ‡ã‚¹ã‚¯ã‹ã‚‰é£›ã³å‡ºã—ãŸè«¸ã€…ã®é…ç·šãŒæ˜‡é™æ™‚ã«å£ã¨æ“¦ã‚ŒãŸã‚Šã™ã‚‹å ´åˆã€å£ã¨ã®å¼•ã£ã‹ã‹ã‚Šå…·åˆã«ã‚ˆã£ã¦ã¯éšœå®³ç‰©æ¤œçŸ¥æ©Ÿèƒ½ãŒä½œå‹•ã—ã¦æ˜‡é™ãŒè‡ªå‹•ã§æ­¢ã¾ã£ã¦ã—ã¾ã†ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã«é–¢ã—ã¦ã¯å®Ÿéš›ã«ä½•åº¦ã‹èµ·ã“ã£ã¦ã„ã¦æ°—ã«ãªã£ã¦ã„ãŸã®ã§ã€å¾Œè¿°ã™ã‚‹é…ç·šã®æ•´ç†ã§å¯¾å¿œã—ã¾ã—ãŸã€‚\nãªã®ã§ã€ç‰¹ã«éšœå®³ç‰©ãŒãªã„ã®ã«è‡ªå‹•åœæ­¢ãŒä½œå‹•ã™ã‚‹å ´åˆã¯ã“ã®ã‚ãŸã‚Šã‚‚ç¢ºèªã™ã‚‹ã¨ã‚ˆã•ãã†ã§ã™ã€‚\nFLEXISPOT ã‚¹ã‚¿ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒ‡ã‚¹ã‚¯ é›»å‹•å¼ æ˜‡é™ãƒ‡ã‚¹ã‚¯ é«˜ã•èª¿ç¯€ãƒ‡ã‚¹ã‚¯ äººé–“å·¥å­¦ ãƒ¡ãƒ¢ãƒªãƒ¼æ©Ÿèƒ½ä»˜ã ã‚ªãƒ•ã‚£ã‚¹ãƒ¯ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒ–ãƒ« ãƒ‘ã‚½ã‚³ãƒ³ãƒ‡ã‚¹ã‚¯ ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒ‡ã‚¹ã‚¯ å­¦ç¿’æœº å‹‰å¼·æœº ãƒ–ãƒ©ãƒƒã‚¯ E3Bï¼ˆå¤©æ¿åˆ¥å£²ã‚Šï¼‰ ã‹ãªã§ã‚‚ã® å¤©æ¿ ãƒ©ãƒãƒ¼ã‚¦ãƒƒãƒ‰ ãƒŠãƒãƒ¥ãƒ©ãƒ« ã‹ãªã§ã‚‚ã® ã«ã¤ã„ã¦ã¯ã€ãŸã¾ã«åºƒå‘Šã§å‡ºã¦ãã¦ã„ã¦ã€è‰¯ã„æ„Ÿã˜ã®æœºå£²ã£ã¦ã‚‹ãªã¨ã„ã†èªè­˜ã¯ã‚ã‚Šã¾ã—ãŸã€‚ãŸã ã€ä»Šå›ã«é–¢ã—ã¦ã¯è„šã¯ä¸è¦ãªã®ã§å…¨ãæ¤œè¨ã—ã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚ãŒã€ç¤¾å†…ã®äººã«å¤©æ¿ã®ã¿ã§ã‚‚å£²ã£ã¦ã„ã‚‹ã®ã‚’æ•™ãˆã¦ã„ãŸã ã„ã¦ã€æœ€çµ‚çš„ã«ã‹ãªã§ã‚‚ã®ã§å¤©æ¿ã‚’è³¼å…¥ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚æœ€è¿‘ã¯å¤©æ¿ã‚’è‡ªä½œã™ã‚‹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã•ã‚“ã‚’è‡ªåˆ†ã®è¦³æ¸¬ç¯„å›²ã§ã‚ˆããŠè¦‹ã‹ã‘ã™ã‚‹ã®ã§ã™ãŒã€ä»Šå›ã¯æ—¢è£½å“ã‚’é¸ã³ã¾ã—ãŸã€‚ (ã„ã¤ã‹ DIY ã—ãŸã„)\nã‹ãªã§ã‚‚ã®ã®è‰¯ã„ã¨ã‚ã“ã¯ã€æœ¨ã®æè³ªã¨å¤©æ¿ã®ã‚µã‚¤ã‚ºã‚’é¸ã¹ã‚‹ã®ã¨ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ç©´ã‚ã‘åŠ å·¥ã‚‚ã—ã¦ãã‚Œã‚‹ç‚¹ã§ã™ã€‚\næœ¨ã®æè³ªã«ã¤ã„ã¦ã¯ã€ã‹ãªã§ã‚‚ã®ã§å–ã‚Šæ‰±ã£ã¦ã„ã‚‹æœ¨æã®ä¸­ã§ã‚‚ä¸€ç•ªç¡¬ã„ ãƒ©ãƒãƒ¼ã‚¦ãƒƒãƒ‰ ã§ã€è‰²ã¯ãƒŠãƒãƒ¥ãƒ©ãƒ«ã«ã—ã¾ã—ãŸã€‚\nå¤©æ¿ã®ã‚µã‚¤ã‚ºã¯ å¹…ãŒ 100 cm ã€œ 180 cm ã€å¥¥è¡ŒããŒ 45 cm ã€œ 80 cm ã®ç¯„å›²ã§æŒ‡å®šå¯èƒ½ã§ã€ä»Šå›ã¯ãã‚Œãã‚Œã®æœ€å¤§ã‚µã‚¤ã‚ºã§ã‚ã‚‹ 180 cm x 80 cm ã«ã—ã¾ã—ãŸã€‚å¤©æ¿ã®åšã•ã¯ 2.5 cm ã§ã™ã€‚\nãã—ã¦ãƒ‡ã‚¹ã‚¯ã®å·¦å¥¥ã«ã‚ãŸã‚‹ç®‡æ‰€ã«ä¸¸å‹ã®é…ç·šå­”ã‚’ç©ºã‘ã¦ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚\nå¤©æ¿è‡ªä½“ã®é‡ã•ã¯æœ¨ã®æè³ªã¨ã‚µã‚¤ã‚ºã«ã‚ˆã£ã¦å¤‰ã‚ã‚Šã¾ã™ãŒã€ä»Šå›ã® ãƒ©ãƒãƒ¼ã‚¦ãƒƒãƒ‰ x 180 x 80 ã ã¨ ç´„ 24 kg ã§ã—ãŸã€‚\nå¤©æ¿è‡ªä½“ã®é‡ã•ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã§è¨ˆç®—æ–¹æ³•ãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nå¤©æ¿ã®é‡é‡ã‚’æ•™ãˆã¦ãã ã•ã„ : by KANADEMONO ãƒ˜ãƒ«ãƒ—ã‚»ãƒ³ã‚¿ãƒ¼ å¤©æ¿è‡ªä½“ã‚‚é‡é‡ãŒã‹ãªã‚Šã‚ã‚‹ã®ã§ã€ FLEXISPOT ã®è„šã¸ã®çµ„ä»˜ã‘ã«ã¯è‹¦åŠ´ã—ã¾ã—ãŸã€‚æœ¬æ¥ã§ã‚ã‚Œã°å¤©æ¿ã‚’ä¸‹ã«ãŠã„ã¦ã€è„šã‚’ãã®ä¸Šã«ä¹—ã›ã¦çµ„ã¿ä»˜ã‘ã‚‹ã¨ã‚ˆã„ã®ã§ã™ãŒã€ãã†ã™ã‚‹ã¨ä¸€äººã§ã²ã£ãã‚Šè¿”ã™ã“ã¨ã¯ã»ã¼ä¸å¯èƒ½ã§ã™ã€‚ä»Šå›ã¯ä¸€äººã§ã®ä½œæ¥­ã ã£ãŸãŸã‚è„šã®ä¸Šã«å¤©æ¿ã‚’ç½®ã„ã¦ã€ä¸Šå‘ãã«ãƒã‚¸ã‚’ç· ã‚ã¦çµ„ã¿ä»˜ã‘ã¾ã—ãŸã€‚ä¸Šå‘ãã¸ã®ãƒã‚¸ç· ã‚ã¯ä½“é‡ã‚’ã‹ã‘ã‚‰ã‚Œãªã„åˆ†åŠ›ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€ã‚ã‚‰ã‹ã˜ã‚ãƒ‰ãƒªãƒ«ã§ç©´ã‚’é–‹ã‘ã¦ãŠãã“ã¨ã‚’ãŠã™ã™ã‚ã—ã¾ã™ã€‚\nTHE BOARD / ãƒ©ãƒãƒ¼ã‚¦ãƒƒãƒ‰ ãƒŠãƒãƒ¥ãƒ©ãƒ«â€“ by KANADEMONO ä¼šç¤¾ PC ã¨å€‹äºº PC ã¨ã®ã‚¹ãƒ ãƒ¼ã‚ºãªåˆ‡ã‚Šæ›¿ãˆ ç¾åœ¨æ‰€å±ã—ã¦ã„ã‚‹ä¼šç¤¾ã§ã¯æ¥­å‹™ç”¨ã® PC (MacBook Pro) ãŒè²¸ä¸ã•ã‚Œã¦ãŠã‚Šä»•äº‹ä¸­ã¯ãã‚Œã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã§ä½¿ã£ã¦ã„ã‚‹ MacBook Pro ã¯åˆ¥ã«ã‚ã‚‹ã®ã§ã€ ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã‚„ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãªã©ã®å‘¨è¾ºæ©Ÿå™¨ã¯åŒã˜ã‚‚ã®ã‚’ä½¿ã„ãŸã„ã—ã€ãŸã ã—å„ã‚±ãƒ¼ãƒ–ãƒ«ã®æŠœãå·®ã—ãªã©ã¯æ¥µåŠ›æ¸›ã‚‰ã—ãŸã„ ã¨ã„ã†ã®ãŒä»Šå›ã®ç›®çš„ã§ã™ã€‚\nçµè«–ã‹ã‚‰è¨€ã†ã¨ã€ä¸‹å›³ã®ã‚ˆã†ãªæ§‹æˆã§è½ã¡ç€ãã¾ã—ãŸã€‚\nå¤§ããã‚ã‘ã¦ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã¨å‘¨è¾ºæ©Ÿå™¨ã¨ã§æ¥ç¶šã®ã‚³ãƒ³ã‚»ãƒ—ãƒˆ (?) ãŒç•°ãªã‚‹ã®ã§ã€ãã‚Œãã‚Œã«ã¤ã„ã¦è©³ç´°ã‚’æ›¸ãã¾ã™ã€‚\nãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã¯ 2 æš (BenQ ã® 27 ã‚¤ãƒ³ãƒã¨ 32 ã‚¤ãƒ³ãƒ) ã‚ã‚Šã¾ã™ã€‚\nã¾ãšä¼šç¤¾ PC ã‹ã‚‰ã¯ Apple ã® USB-C Digital AV Multiport (USB-C, USB-A, HDMI) ã‚’ 2 ã¤ä½¿ã£ã¦ã€HDMI ã§ãã‚Œãã‚Œã®ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã«æ¥ç¶šã—ã¦ã„ã¾ã™ã€‚\nä¸€æ–¹ã® USB-C Digital AV Multiport ã«ã¯ USB-C - Ethernet ã‚¢ãƒ€ãƒ—ã‚¿ã‚’æ¥ç¶šã—ã¦æœ‰ç·š LAN ã«ç¹‹ã„ã§ãŠã‚Šã€ã‚‚ã†ä¸€æ–¹ã® USB-C Digital AV Multiport ã«ã¯é›»æºã‚±ãƒ¼ãƒ–ãƒ«ã¨ã€å¾Œè¿°ã™ã‚‹ USB åˆ‡æ›¿å™¨ã‚’æ¥ç¶šã—ã¦ã„ã¾ã™ã€‚\nUSB-C Digital AV Multiportã‚¢ãƒ€ãƒ—ã‚¿ å€‹äºº PC ã‹ã‚‰ã¯ã€ CalDigit ã® USB Dock ã‚’ä½¿ã£ã¦ã€ DisplayPort ã§ãã‚Œãã‚Œã®ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã«æ¥ç¶šã—ã¦ã„ã¾ã™ã€‚\nCalDigit ã® USB Dock ã«ã¯ Ethernet ã¨ USB-A ãƒãƒ¼ãƒˆãŒã‚ã‚Šã€ã“ã®ãƒãƒ¼ãƒˆã¯å¾Œè¿°ã™ã‚‹ USB åˆ‡æ›¿å™¨ã‚’æ¥ç¶šã—ã¦ã„ã¾ã™ã€‚ã“ã¡ã‚‰ã® MacBook Pro ã¯ USB Dock çµŒç”±ã§çµ¦é›»ã•ã‚Œã¦ã„ã¾ã™ã€‚\nCalDigit USB-C Pro Dock Thunderbolt 3ã‚±ãƒ¼ãƒ–ãƒ« (0.7m)ä»˜ã USB-Cãƒ‰ãƒƒã‚­ãƒ³ã‚°ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ DisplayPort 1.2 x 2 ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã«ã¤ã„ã¦ã¯ãã‚Œãã‚Œã® PC ã‹ã‚‰å„ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã«æ¥ç¶šã™ã‚‹ã“ã¨ã§ã€ã‚±ãƒ¼ãƒ–ãƒ«ã®æŠœãå·®ã—ã¯ä¸è¦ã«ãªã‚Šã¾ã™ã€‚\nå‘¨è¾ºæ©Ÿå™¨ å‘¨è¾ºæ©Ÿå™¨ã¨ã—ã¦æ¥ç¶šã—ãŸã„ã®ã¯ä¸‹è¨˜ã®ãƒ‡ãƒã‚¤ã‚¹ã§ã™ã€‚\nã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ Web ã‚«ãƒ¡ãƒ© ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ ã“ã‚Œã‚‰ã®æ¥ç¶šã‚’ä¼šç¤¾ PC ã¨å€‹äºº PC ã§ã‚¹ãƒ ãƒ¼ã‚ºã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã¨å¬‰ã—ã„ãªã¨æ€ã£ã¦ã„ãŸã‚ã‘ã§ã™ã€‚\nãã“ã§è¦‹ã¤ã‘ãŸã®ãŒã€ ELECOM - KVMã‚¹ã‚¤ãƒƒãƒ ã¨ã„ã†ã‚¢ã‚¤ãƒ†ãƒ ã§ã™ã€‚\nã‚¨ãƒ¬ã‚³ãƒ  KVMã‚¹ã‚¤ãƒƒãƒ ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒ»ãƒã‚¦ã‚¹ç”¨ æ‰‹å…ƒã‚¹ã‚¤ãƒƒãƒä»˜ ãƒ–ãƒ©ãƒƒã‚¯ KM-A22BBK ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ãƒ€ã‚µã„ã®ã§ã™ãŒã€ã“ã‚ŒãŒã‚ã¡ã‚ƒãã¡ã‚ƒè‰¯ã„ã‚¢ã‚¤ãƒ†ãƒ ã§ã—ãŸã€‚\nã“ã‚Œã¯ USB-A ã®ã‚ªã‚¹ãŒ 2 ã¤ã€ãƒ¡ã‚¹ãŒ 2 ã¤ã€åˆ‡ã‚Šæ›¿ãˆã‚¹ã‚¤ãƒƒãƒ ãŒã²ã¨ã¤ã«ãªã£ã¦ã„ã‚‹ã‚‚ã®ã§ã€åˆ‡ã‚Šæ›¿ãˆãŸã„ 2 ã¤ã® PC ãã‚Œãã‚Œã«ã‚ªã‚¹ã‚’æ¥ç¶šã—ã€ãƒ¡ã‚¹ã«ã¯åˆ‡ã‚Šæ›¿ãˆãŸã„ãƒ‡ãƒã‚¤ã‚¹ã‚’æ¥ç¶šã—ã¾ã™ã€‚\nä»Šå›ã¯ã€å‰è¿°ã—ãŸã¨ãŠã‚Šã‚ªã‚¹ã®ä¸€æ–¹ã‚’ä¼šç¤¾ PC ã«æ¥ç¶šã—ãŸ USB-C Digital AV Multiport ã«ã€ã‚‚ã†ä¸€æ–¹ã‚’å€‹äºº PC ã«æ¥ç¶šã—ãŸ CalDigit ã® USB Dock ã«ã€ãã‚Œãã‚Œæ¥ç¶šã—ã¾ã™ã€‚\nåˆ‡ã‚Šæ›¿ãˆã¦ä½¿ã„ãŸã„ãƒ‡ãƒã‚¤ã‚¹ãŒ 3 ã¤ã‚ã‚‹ã®ã§ã€ãƒ¡ã‚¹ã®ä¸€æ–¹ã«ã¯ USB-A ã®ãƒãƒ–ã‚’æ¥ç¶šã—ã¦ 3 ã¤ã®ãƒ‡ãƒã‚¤ã‚¹ã‚’æ¥ç¶šã—ã¦ã„ã¾ã™ã€‚\nã‚ã¨ã¯ã€åˆ‡ã‚Šæ›¿ãˆã‚¹ã‚¤ãƒƒãƒã‚’æŠ¼ã™ã“ã¨ã§å„ãƒ‡ãƒã‚¤ã‚¹ã®æ¥ç¶šå…ˆãŒä¼šç¤¾ PC ã¨å€‹äºº PC ã¨ã§åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\næ™®æ®µã®é‹ç”¨ã¨ã—ã¦ã¯ã€ä½œæ¥­ã—ã¦ã„ã‚‹ PC ã‚’ã‚¹ãƒªãƒ¼ãƒ—ã•ã›ã¦ã€ã‚¹ã‚¤ãƒƒãƒã‚’åˆ‡ã‚Šæ›¿ãˆã¦ã‹ã‚‰ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã™ã‚‹ã“ã¨ã§ä»–æ–¹ã® PC ãŒã‚¹ãƒªãƒ¼ãƒ—ã‹ã‚‰å¾©å¸°ã™ã‚‹ ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚\nåˆ‡ã‚Šæ›¿ãˆã‚¹ã‚¤ãƒƒãƒã«ã¯ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ãƒ©ãƒ³ãƒ—ãŒã¤ã„ã¦ã„ã¦ã€ã‚ªãƒ¬ãƒ³ã‚¸è‰²ã¨ç·‘è‰²ã§æ¥ç¶šã•ã‚Œã¦ã„ã‚‹ PC ã‚’èªè­˜ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã“ã‚Œã«ã‚ˆã£ã¦ã€å„ç¨®ã‚±ãƒ¼ãƒ–ãƒ«ã®æŠœãå·®ã—ã¯ä¸€åˆ‡ä¸è¦ã§ 2 ã¤ã® PC é–“ã§å…±é€šã®å‘¨è¾ºæ©Ÿå™¨ã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«åˆ‡ã‚Šæ›¿ãˆãªãŒã‚‰ä½¿ã†ã“ã¨ãŒã§ãã¦ã„ã¾ã™ã€‚\nç§ã®å ´åˆã¯ãã‚Œãã‚Œã® PC ã«åˆ¥ã€…ã®ãƒˆãƒ©ãƒƒã‚¯ãƒ‘ãƒƒãƒ‰ã‚’ Bluetooth æ¥ç¶šã—ã¦ã„ã¾ã™ãŒã€ã“ã®æ–¹æ³•ã§ã‚ã‚Œã°ä¸€ã¤ã®ãƒã‚¦ã‚¹ã‚’æœ‰ç·šæ¥ç¶šã—ã¦ä½¿ã†ã“ã¨ã‚‚ã§ããã†ã§ã™ã€‚\nå‰å›ã‹ã‚‰ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ å‘¨è¾ºæ©Ÿå™¨ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¨ã—ã¦ã¯ã€ãƒã‚¤ã‚¯ã¨ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã™ã€‚\nãƒã‚¤ã‚¯ã¯ marantz - MPM-1000 ã§ã™ã€‚\nã€Amazoné™å®šãƒ–ãƒ©ãƒ³ãƒ‰ã€‘888M ãƒãƒ©ãƒ³ãƒ„ãƒ—ãƒ­ ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãƒ¼ãƒã‚¤ã‚¯ãƒ­ãƒ›ãƒ³ ã‚¦ã‚£ãƒ³ãƒ‰ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒ»ã‚¹ã‚¿ãƒ³ãƒ‰ãƒ»XLRã‚±ãƒ¼ãƒ–ãƒ«ä»˜å± MPM-1000 ã‚ã¡ã‚ƒãã¡ã‚ƒéŸ³è³ªã«æ‹˜ã£ã¦ã„ã‚‹ã‚ã‘ã§ã‚‚ãªã„ã®ã§ã€æ¯”è¼ƒçš„å®‰ä¾¡ãªã‚³ãƒ³ãƒ‡ãƒ³ã‚µãƒã‚¤ã‚¯ã§ã‚ã‚‹ MPM-1000 ã«ã—ã¾ã—ãŸã€‚\nä»¥å‰ä½¿ã£ã¦ã„ãŸã®ã¯ TASCAM ã® DR-07X ã§ã™ã€‚æœ¬æ¥ã¯ãƒ¬ã‚³ãƒ¼ãƒ€ãƒ¼ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã‚‚ã®ã§ã€ USB æ¥ç¶šã§ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ã—ã¦ã‚‚ä½¿ãˆã‚‹ã¨ã„ã†ãƒ‡ãƒã‚¤ã‚¹ã§ã—ãŸã€‚åŸºæœ¬çš„ã«ã¯æ™®é€šã«ä½¿ãˆã¦ã„ãŸã®ã§ã™ãŒã€å¤§ãã‚ã®ãƒã‚¤ã‚ºãŒä¹—ã‚‹ã“ã¨ãŒå¢—ãˆã¦ããŸ (ç‰¹ã«é‡‘æ›œã«ãªã‚‹ã¨é »ç™ºã—ã¦ã„ãŸ) ã®ã§ ã¡ã‚ƒã‚“ã¨ã—ãŸã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ã‚»ãƒƒãƒˆã§ãƒã‚¤ã‚¯ã‚’æ¥ç¶šã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚\nãã—ã¦ã€ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ã—ã¦é¸ã‚“ã ã®ãŒ YAMAHA - AG03 ã§ã™ã€‚\nãƒ¤ãƒãƒ YAMAHA ã‚¦ã‚§ãƒ–ã‚­ãƒ£ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒŸã‚­ã‚µãƒ¼ ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ 3ãƒãƒ£ãƒ³ãƒãƒ« AG03 ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆé…ä¿¡ã«ä¾¿åˆ©ãªæ©Ÿèƒ½ä»˜ã éŸ³æ¥½åˆ¶ä½œã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³Cubasis LEå¯¾å¿œ æ­£ç›´ã€ Web ä¼šè­°ç­‰ã§ä¼šè©±ã™ã‚‹ãŸã‚ã ã‘ã«å°å…¥ã™ã‚‹ã®ã¯ã‚¹ãƒšãƒƒã‚¯éå¤šã ã¨ã¯æ€ã£ãŸã®ã§ã™ãŒã€ã‚‚ã—ä»Šå¾Œ DTM ã¨ã‹ã‚„ã‚ŠãŸããªã£ãŸã¨ãã«ã‚‚ä½¿ãˆã‚‹ã‚ˆã†ã«ã¨æ€ã£ã¦ã“ã‚Œã«ã—ã¾ã—ãŸã€‚ (å¯èƒ½æ€§ã¯ã‚¼ãƒ­ã§ã¯ãªã„)\né…ç·š æœ€å¾Œã«é…ç·šã§ã™ã€‚\nã‚ã‚‰ãŸã‚ã¦ãƒ‡ã‚¹ã‚¯å‘¨ã‚Šã®ãƒ‡ãƒã‚¤ã‚¹é–¢ä¿‚ã®å›³ã‚’è²¼ã‚Šã¾ã™ã€‚\nå›³ã«ã™ã‚‹ã¨ã‚·ãƒ³ãƒ—ãƒ«ã«è¦‹ãˆã¾ã™ãŒã€å®Ÿéš›ã«ã¯é…ç½®ã®é–¢ä¿‚ã‹ã‚‰å„ã‚±ãƒ¼ãƒ–ãƒ«ã®å–ã‚Šå›ã—ãŒé›£ã—ãã€é©å½“ã«æ¥ç¶šã—ã¦ã„ã‚‹ã¨ã‚«ã‚ªã‚¹ã«ãªã‚Šã¾ã™ã€‚ã¾ãŸã€å‰è¿°ã—ãŸã¨ãŠã‚Šæ˜‡é™ãƒ‡ã‚¹ã‚¯ã®éšœå®³ç‰©æ¤œçŸ¥ã«å¼•ã£ã‹ã‹ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚‹ãŸã‚ã€è¦‹ãŸç›®ã®å•é¡Œã ã‘ã§ãªãå®Ÿç”¨é¢ã§ã‚‚é…ç·šã®æ•´ç†ã¯é‡è¦ãªã‚ã‘ã§ã™ã€‚\nã¨ã„ã†ã“ã¨ã§ã€ä»Šå›ã®é…ç·šæ•´ç†ã®ç›®çš„ã¨ã—ã¦ã¯ã€ã‚¹ãƒ ãƒ¼ã‚ºãªæ˜‡é™ãŒã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã¨è¦‹ãŸç›®ã®æ”¹å–„ã§ã™ã€‚\nå¤©æ¿ã®ä¸Šã«ã‚ã‚‹ã®ã¯ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ã‚±ãƒ¼ãƒ–ãƒ«ã®ã¿ã§ã€ãã‚Œä»¥å¤–ã®é…ç·šã¯æœºã®ä¸‹ã«å…¨éƒ¨é›†ã‚ã¦ã„ã¾ã™ã€‚å…·ä½“çš„ã«ã¯ã€ã‚¯ãƒ©ãƒ³ãƒ—å¼ã®ã‚±ãƒ¼ãƒ–ãƒ«ãƒˆãƒ¬ãƒ¼ã‚’è¨­ç½®ã—ã¦ãã“ã«é›»æºã‚¿ãƒƒãƒ—ã‚’ç½®ã„ã¦ã„ã¾ã™ã€‚\nãƒ—ãƒ©ã‚¹ Garage é…ç·šã‚±ãƒ¼ãƒ–ãƒ«ãƒˆãƒ¬ãƒ¼ å¹…40cm ãƒãƒ£ã‚³ãƒ¼ãƒ«ã‚°ãƒ¬ãƒ¼ 434664 å„ã‚±ãƒ¼ãƒ–ãƒ«ã¯ãã®ã‚±ãƒ¼ãƒ–ãƒ«ãƒˆãƒ¬ãƒ¼ã®ã‚¯ãƒ©ãƒ³ãƒ—ã‚„ãƒ¢ãƒ‹ã‚¿ãƒ¼ã‚¢ãƒ¼ãƒ ã®ã‚¯ãƒ©ãƒ³ãƒ—ã®å†…å´ã‚’é€šã™ã‚ˆã†ã«ã—ã¦ã€ãƒ‡ã‚¹ã‚¯ã®å¤–ã«æ¥µåŠ›ã¯ã¿å‡ºã•ãªã„ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ãã‚ŒãŒä¸‹ã®å†™çœŸã§ã™ã€‚\nãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã«æ¥ç¶šã•ã‚Œã¦ã„ã‚‹ã‚±ãƒ¼ãƒ–ãƒ«ã¯ã§ãã‚‹é™ã‚Šã‚¢ãƒ¼ãƒ ã«é€™ã‚ã›ã‚‹ã‚ˆã†ã«ã—ã¦ã‚¢ãƒ¼ãƒ ã‚’å¯å‹•ã—ã‚„ã™ãã—ã¦ã„ã¾ã™ã€‚\né›»æºã‚¿ãƒƒãƒ—è‡ªä½“ã®ã‚±ãƒ¼ãƒ–ãƒ«ã¨ LAN ã‚±ãƒ¼ãƒ–ãƒ«ã«ã¤ã„ã¦ã¯ã€è›‡ã®ãŠã‚‚ã¡ã‚ƒã¿ãŸã„ãªã‚±ãƒ¼ãƒ–ãƒ«ãƒ€ã‚¯ãƒˆã‚’ä½¿ã£ã¦ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚\nFLEXISPOT ã‚±ãƒ¼ãƒ–ãƒ«ãƒ€ã‚¯ãƒˆ é…ç·šãƒ€ã‚¯ãƒˆ é…ç·šåç´ ãƒ‘ã‚½ã‚³ãƒ³ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼ ã‚±ãƒ¼ãƒ–ãƒ«ãƒãƒ¥ãƒ¼ãƒ– ã‚±ãƒ¼ãƒ–ãƒ«åç´ ã‚ªãƒ•ã‚£ã‚¹åç´ ãã®ä»–ã€ä½™ã£ãŸã‚±ãƒ¼ãƒ–ãƒ«ã‚’ã¾ã¨ã‚ã‚‹ãŸã‚ã«ãƒã‚¸ãƒƒã‚¯ãƒ†ãƒ¼ãƒ—å¼ã®çµæŸãƒãƒ³ãƒ‰ã‚’ä½¿ã£ãŸã‚Šã€ãŸã‚‹ã‚“ã§ã„ã‚‹ã‚±ãƒ¼ãƒ–ãƒ«ã‚’å¤©æ¿è£ã«é€™ã‚ã›ã‚‹ãŸã‚ã«å°ã•ã„ã‚¯ãƒªãƒƒãƒ—ã‚’ä½¿ã£ãŸã‚Šã—ã¦ã„ã¾ã™ã€‚\nTrilancerã‚±ãƒ¼ãƒ–ãƒ«çµæŸãƒãƒ³ãƒ‰, ãƒãƒ³ãƒ‰ åç´ãƒãƒ³ãƒ‰ ã‚¹ãƒˆãƒ©ãƒƒãƒ—, ã‚³ãƒ¼ãƒ‰é…ç·šåç´ (é»’, 3 ã‚µã‚¤ã‚º) 3M ã‚³ãƒãƒ³ãƒ‰ ãƒ•ãƒƒã‚¯ ã‚­ãƒ¬ã‚¤ã«ã¯ãŒã›ã‚‹ ä¸¡é¢ãƒ†ãƒ¼ãƒ— ã‚³ãƒ¼ãƒ‰ç”¨ ã‚¯ãƒªã‚¢ Sã‚µã‚¤ã‚º 20å€‹ CMG-S-CL20 ã¾ã¨ã‚ ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã‚’å†æ§‹ç¯‰ã—ãŸè©±ã§ã—ãŸã€‚\næ˜¨å¹´ 3 æœˆé ƒã‹ã‚‰ç¶šã„ã¦ã„ã‚‹åœ¨å®…å‹¤å‹™ã§ã™ãŒã€çµ‚ã‚ŠãŒè¦‹ãˆãªã„ (ã‚‚ã†ã“ã®ã¾ã¾ã§ã‚‚è‰¯ã„æ°—ã¯ã—ã¦ã„ã‚‹) ã®ã§ã€æ€ã„åˆ‡ã£ã¦è«¸ã€…è‰¯ã„ã‚‚ã®ã‚’æƒãˆã¦ã¿ã¾ã—ãŸã€‚çµæœã¨ã—ã¦ã¯ã‹ãªã‚Šå¿«é©ãªç©ºé–“ãŒå®Œæˆã—ã¦æº€è¶³ã—ã¦ã¾ã™ã€‚ç‰¹ã«ã‚¹ã‚¿ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒ‡ã‚¹ã‚¯ã‚’å°å…¥ã—ã¦ã‹ã‚‰ã¯åº§ã‚Šã£ã±ãªã—ã«ãªã‚‹ã“ã¨ãŒãªããªã‚Šã€å¥åº·é¢ã§ã‚‚è‰¯ã„ç”Ÿæ´»ã«ãªã£ã¦ãã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nç’°å¢ƒæ§‹ç¯‰ã™ã‚‹ã¨ã„ã£ã¦ã‚‚ã©ã“ã‹ã‚‰æ‰‹ã‚’ä»˜ã‘ãŸã‚‰ã‚ˆã„ã‹ã‚ã‹ã‚‰ãªã„ã¨ã„ã†æ–¹ã‚‚ã„ã‚‹ã‹ã‚‚çŸ¥ã‚Œã¾ã›ã‚“ãŒã€ã¾ãšã¯é›»å‹•ãƒ‰ãƒªãƒ«ã¨é›»å‹•ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã‚’æº–å‚™ã™ã‚‹ã¨ã“ã‚ã‹ã‚‰å§‹ã‚ã‚‹ã®ã‚’ãŠã™ã™ã‚ã—ã¾ã™ã€‚ã“ã‚Œã‚‰ãŒã‚ã‚‹ã¨ä½•ã‚’ã™ã‚‹ã«ã‚‚ä½œæ¥­ãŒæ—ã‚Šã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/gadget-update-for-working-from-home/",
    "title": "ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯é–‹å§‹ã‹ã‚‰ 1 å¹´ä»¥ä¸ŠçµŒã£ãŸã®ã§ä½œæ¥­ç’°å¢ƒã‚’è‰¯ã„æ„Ÿã˜å†æ§‹ç¯‰ã—ãŸ"
  },
  {
    "contents": "CloudFront Functions ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã¯ç¾æ™‚ç‚¹ã§ JavaScript (ECMAScript 5.1 æº–æ‹ ) ã¨ãªã£ã¦ã„ã¾ã™ãŒã€ã€ŒECMAScript 5.1 !? ã„ã¤ã®è¦æ ¼ã‚„ã­ã‚“ã€è§£æ•£ã€‚ã€ ã¨ãªã‚‹å‰ã«ã‚ã‚‰ãŸã‚ã¦å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚“ã§è©³ç´°ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nãªãŠã€å†…å®¹ã«ã¤ã„ã¦ã¯ 2021/05/13 æ™‚ç‚¹ã®ã‚‚ã®ã§ã™ã€‚\nç›®æ¬¡ ã¯ã˜ã‚ã« ECMAScript 5.1 compliant Core features å¼ã¨æ¼”ç®—å­ æ–‡ã¨å®£è¨€ é–¢æ•° Primitive objects Object String Number Built-in objects Date Function Regular expressions Array Typed arrays Built-in modules Crypto (hash and HMAC) Query string ã¾ã¨ã‚ ã¯ã˜ã‚ã« ä»Šå›ã®å†…å®¹ã¯ã€ä¸‹è¨˜ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å†…å®¹ã‚’è‡ªåˆ†ãªã‚Šã«ã¾ã¨ã‚ãŸã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä»¥ä¸Šã®å†…å®¹ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nJavaScript runtime features for CloudFront Functions - Amazon CloudFront ECMAScript 5.1 compliant CloudFront Functions ã®ç™ºè¡¨ã«æ­“å–œã—ãŸã‚‚ã®ã®ã€ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãŒ JavaScript ã®ã¿ã§ä¸”ã¤ ECMAScript 5.1 compliant ã¨ãªã£ã¦ã„ã¦ã€æ®‹å¿µã«æ€ã£ãŸæ–¹ã¯å°‘ãªããªã„ã¨æ€ã„ã¾ã™ã€‚ãŸã ã—ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nThe CloudFront Functions JavaScript runtime environment is compliant with ECMAScript (ES) version 5.1 and also supports some features of ES versions 6 through 9.\nJavaScript runtime features for CloudFront Functions - Amazon CloudFront ã¤ã¾ã‚Š ãƒ™ãƒ¼ã‚¹ã¯ ECMAScript 5.1 (2011/06)1 ã§ã™ãŒã€ ES 6 (2015)2 ã‹ã‚‰ ES 9 (2018)3 ã«å«ã¾ã‚Œã‚‹ä¸€éƒ¨ã®æ©Ÿèƒ½ã‚‚ã‚µãƒãƒ¼ãƒˆã—ã¦ãŠã‚Šã€ã•ã‚‰ã« ES ã®ä»•æ§˜ã«å«ã¾ã‚Œãªã„éæ¨™æº–ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚æä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚\nãªã®ã§ã€ ES 5.1 ä»¥é™ã®ä»•æ§˜ã§ä½•ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã®ã‹ã€éæ¨™æº–ã®ãƒ¡ã‚½ãƒƒãƒ‰ã£ã¦å…·ä½“çš„ã«ä½•ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã®ã‹ã€æ°—ã«ãªã£ãŸã¨ã“ã‚ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚\nã¡ãªã¿ã«ã€ ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚„ AWS CLI ãªã©ã‹ã‚‰ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚’æŒ‡å®šã™ã‚‹å ´åˆã¯ cloudfront-js-1.0 ã¨ã„ã†åå‰ã«ãªã£ã¦ã„ã¾ã™ã€‚\nCore features ES ã®ã‚³ã‚¢ã¨ãªã‚‹ä»•æ§˜ã«ã¤ã„ã¦ã§ã™ã€‚\nå¼ã¨æ¼”ç®—å­ ES 5.1 ã®ã™ã¹ã¦ã®æ¼”ç®—å­ã«åŠ ãˆã¦ã€ ES 7 ã«å«ã¾ã‚Œã‚‹ ã¹ãä¹—æ¼”ç®—å­ ** ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nvar side = 4; var square = side ** 2; console.log(square); // 16 æ–‡ã¨å®£è¨€ ä¸‹è¨˜ã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nå®£è¨€ var â€» let ãŠã‚ˆã³ const ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ (ES 6)\nåˆ¶å¾¡ãƒ•ãƒ­ãƒ¼ break continue if...else switch try...catch [finally] throw åå¾©å‡¦ç† for for...in while do...while ãã®ä»– label é–¢æ•° ES 5.1 ã®ã™ã¹ã¦ã®æ©Ÿèƒ½ã«åŠ ãˆã¦ã€ ES 6 ã«å«ã¾ã‚Œã‚‹ arrow function ã€ rest parameter (æ®‹ä½™å¼•æ•°) ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nvar sum = (...args) =\u0026gt; { var total = 0; for (var i in args) { total += args[i]; } return total; } console.log(sum(2,4,6)); // 12 Primitive objects Object ES 5.1 ã® Object ãƒ¡ã‚½ãƒƒãƒ‰ (ä¸€éƒ¨) ã«åŠ ãˆã¦ã€ ES 6 ãŠã‚ˆã³ ES 8 ã«å«ã¾ã‚Œã‚‹ä¸‹è¨˜ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nassign (ES 6)\nvar curry = {source: \u0026#39;ãƒãƒ¼ã‚¯\u0026#39;, spicy: \u0026#39;2è¾›\u0026#39;}; var rice = {origin: \u0026#39;æ–°æ½Ÿ\u0026#39;, quantity: \u0026#39;400g\u0026#39;}; var curryRice = Object.assign(rice, curry); console.log(curry); console.log(rice); console.log(curryRice); // {source:\u0026#39;ãƒãƒ¼ã‚¯\u0026#39;,spicy:\u0026#39;2è¾›\u0026#39;} // {origin:\u0026#39;æ–°æ½Ÿ\u0026#39;,quantity:\u0026#39;400g\u0026#39;,source:\u0026#39;ãƒãƒ¼ã‚¯\u0026#39;,spicy:\u0026#39;2è¾›\u0026#39;} // {origin:\u0026#39;æ–°æ½Ÿ\u0026#39;,quantity:\u0026#39;400g\u0026#39;,source:\u0026#39;ãƒãƒ¼ã‚¯\u0026#39;,spicy:\u0026#39;2è¾›\u0026#39;} is (ES 6)\nvar rice = {origin: \u0026#39;æ–°æ½Ÿ\u0026#39;, quantity: \u0026#39;400g\u0026#39;}; var thaiRice = {origin: \u0026#39;ã‚¿ã‚¤\u0026#39;, quantity: \u0026#39;400g\u0026#39;}; console.log(Object.is(rice, thaiRice)); console.log(Object.is(rice.quantity, thaiRice.quantity)); // false // true prototype.setPrototypeOf (ES 6)\nentries (ES 8)\nvar curryRice = {origin: \u0026#39;æ–°æ½Ÿ\u0026#39;, quantity: \u0026#39;400g\u0026#39;, source: \u0026#39;ãƒãƒ¼ã‚¯\u0026#39;, spicy: \u0026#39;2è¾›\u0026#39;}; console.log(Object.entries(curryRice)); // [[\u0026#39;origin\u0026#39;,\u0026#39;æ–°æ½Ÿ\u0026#39;],[\u0026#39;quantity\u0026#39;,\u0026#39;400g\u0026#39;],[\u0026#39;source\u0026#39;,\u0026#39;ãƒãƒ¼ã‚¯\u0026#39;],[\u0026#39;spicy\u0026#39;,\u0026#39;2è¾›\u0026#39;]] values (ES 8)\nvar curryRice = {origin: \u0026#39;æ–°æ½Ÿ\u0026#39;, quantity: \u0026#39;400g\u0026#39;, source: \u0026#39;ãƒãƒ¼ã‚¯\u0026#39;, spicy: \u0026#39;2è¾›\u0026#39;}; console.log(Object.values(curryRice)); // [\u0026#39;æ–°æ½Ÿ\u0026#39;,\u0026#39;400g\u0026#39;,\u0026#39;ãƒãƒ¼ã‚¯\u0026#39;,\u0026#39;2è¾›\u0026#39;] String ES 5.1 ã® String ãƒ¡ã‚½ãƒƒãƒ‰ (ä¸€éƒ¨) ã«åŠ ãˆã¦ã€ ES 6ã€ ES 8ã€ ES 9 ã«å«ã¾ã‚Œã‚‹ä¸‹è¨˜ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nfromCodePoint\nprototype.codePointAt (ES 6) prototype.endsWith (ES 6) prototype.includes (ES 6) prototype.repeat (ES 6) prototype.startsWith (ES 6) prototype.padStart (ES 8) prototype.padEnd (ES 8) prototype.trimStart (ES 9) prototype.trimEnd (ES 9) æ›´ã«ã€ä¸‹è¨˜ã®éæ¨™æº–ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nprototype.bytesFrom(array | string, encoding) prototype.fromBytes(start[, end]) prototype.fromUTF8(start[, end]) prototype.toBytes(start[, end]) prototype.toUTF8(start[, end]) ç”¨é€”ãŒãƒ‘ãƒƒã¨æ€ã„ã¤ã‹ãªã‹ã£ãŸã‚“ã§ã™ãŒã€å…¬å¼ã® example ã§ã¯ JWT ã®æ¤œè¨¼ã¨ã—ã¦ String.bytesFrom() ã‚’ä½¿ã£ã¦ã¾ã—ãŸã€‚\nValidate a simple token in the request - Amazon CloudFront Number ES 5.1 ã®ã™ã¹ã¦ã® Number ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã€ ES 6 ã«å«ã¾ã‚Œã‚‹ä¸‹è¨˜ã®ãƒ¡ã‚½ãƒƒãƒ‰/å®šæ•°ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nisFinite isInteger isNaN isSafeInteger parseFloat parseInt prototype.toExponential prototype.toFixed prototype.toPrecision EPSILON MAX_SAFE_INTEGER MAX_VALUE MIN_SAFE_INTEGER MIN_VALUE NEGATIVE_INFINITY NaN POSITIVE_INFINITY Built-in objects Date ES 5.1 ã® Date ã®æ©Ÿèƒ½ãŒã™ã¹ã¦ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ãŒã€ä¸‹è¨˜ã®åˆ¶é™ãŒã‚ã‚Šã¾ã™ã€‚\nã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®è¦³ç‚¹ã‹ã‚‰ã€ Date ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§è¿”å´ã•ã‚Œã‚‹ç¾åœ¨æ™‚åˆ»ã¯å®Ÿè¡Œã•ã‚Œã‚‹ Function ã®ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ å†…ã§å¸¸ã«ä¸€å®šã§ã€ãã®å€¤ã¯ Function ãŒèµ·å‹•ã—ãŸæ™‚ç‚¹ã®æ™‚åˆ»ã¨ãªã‚Šã¾ã™ã€‚\nã¤ã¾ã‚Šã€é–¢æ•°ã®é–‹å§‹ã¨çµ‚äº†æ™‚ç‚¹ã§ãã‚Œãã‚Œã®æ™‚åˆ»ã‚’å–å¾—ã—ã¦ã€ãã®å·®åˆ†ã‹ã‚‰é–¢æ•°ã®å®Ÿè¡Œæ™‚é–“ã‚’å–å¾—ã™ã‚‹ã‚ˆã†ãªã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚\nvar start = Date.now(); /** * ä½•ã‹ã—ã‚‰ã®å‡¦ç† */ var end = Date.now(); console.log(`${start}\\n${end}`); // 1620857555194 // 1620857555194 Function Function constructors ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚\nvar hello = new Function(\u0026#39;return \u0026#34;Hello\u0026#34;;\u0026#39;); console.log(hello()); // Error Message: The CloudFront function associated with the CloudFront distribution is invalid or could not run. TypeError: function constructor is disabled in \u0026#34;safe\u0026#34; mode var bye = function() {return \u0026#39;Bye\u0026#39;;}; console.log(bye()); // bye (safe ã˜ã‚ƒãªã„ãƒ¢ãƒ¼ãƒ‰ãªã‚‰ä½¿ãˆã‚‹ã®ã‹\u0026hellip;ï¼Ÿ)\nRegular expressions ES 5.1 ã®ã™ã¹ã¦ã® RegExp ã®æ©Ÿèƒ½ã«åŠ ãˆã¦ã€ ES 9 ã«å«ã¾ã‚Œã‚‹ named capture groups ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nvar CURRY_RICE_RE = /ã‚½ãƒ¼ã‚¹:(?\u0026lt;source\u0026gt;.*) è¾›ã•:(?\u0026lt;spicy\u0026gt;.*) ã”é£¯ã®é‡:(?\u0026lt;rice\u0026gt;.*)/; var menu = \u0026#39;ã‚½ãƒ¼ã‚¹:ãƒãƒ¼ã‚¯ è¾›ã•:2è¾› ã”é£¯ã®é‡:300g\u0026#39;; var matched = CURRY_RICE_RE.exec(menu); console.log(matched.groups.source); console.log(matched.groups.spicy); console.log(matched.groups.rice); // ãƒãƒ¼ã‚¯ // 2è¾› // 300g Array ES 5.1 ã® Array ãƒ¡ã‚½ãƒƒãƒ‰ (ä¸€éƒ¨) ã«åŠ ãˆã¦ã€ ES 6 ãŠã‚ˆã³ ES 7 ã«å«ã¾ã‚Œã‚‹ä¸‹è¨˜ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nof (ES 6) prototype.copyWithin (ES 6) prototype.fill (ES 6) prototype.find (ES 6) prototype.findIndex (ES 6) prototype.includes (ES 7) var currySource = Array.of(\u0026#39;ãƒãƒ¼ã‚¯\u0026#39;, \u0026#39;ãƒ“ãƒ¼ãƒ•\u0026#39;); console.log(currySource); // [\u0026#39;ãƒãƒ¼ã‚¯\u0026#39;,\u0026#39;ãƒ“ãƒ¼ãƒ•\u0026#39;] console.log(currySource.copyWithin(0, 1, 2)); // [\u0026#39;ãƒ“ãƒ¼ãƒ•\u0026#39;,\u0026#39;ãƒ“ãƒ¼ãƒ•\u0026#39;] console.log(currySource.fill(\u0026#39;ãƒãƒ¤ã‚·\u0026#39;, 1, 2)); // [\u0026#39;ãƒ“ãƒ¼ãƒ•\u0026#39;,\u0026#39;ãƒãƒ¤ã‚·\u0026#39;] console.log(currySource.find(element =\u0026gt; element = \u0026#39;ãƒ“ãƒ¼ãƒ•\u0026#39;)); // ãƒ“ãƒ¼ãƒ• console.log(currySource.findIndex(element =\u0026gt; element = \u0026#39;ãƒ“ãƒ¼ãƒ•\u0026#39;)); // 0 console.log(currySource.includes(\u0026#39;ã‚­ãƒ¼ãƒ\u0026#39;)); // false Typed arrays ES 6 ã«å«ã¾ã‚Œã‚‹ å‹ä»˜ãé…åˆ— ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nInt8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array var int8array = new Int8Array(2); int8array[0] = 0; console.log(int8array); int8array[1] = \u0026#39;string\u0026#39;; console.log(int8array); int8array[1] = 1; console.log(int8array); // Int8Array [0,0] // Int8Array [0,0] // Int8Array [0,1] Built-in modules Built-in modules ã¨ã—ã¦ crypto ã¨ querystring ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ãŠã‚Šã€ãã‚Œãã‚Œ require ã§èª­ã¿è¾¼ã‚€ã“ã¨ã§ä½¿ç”¨ã§ãã¾ã™ã€‚\nCrypto (hash and HMAC) crypto ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯ã€æ¨™æº–çš„ãªãƒãƒƒã‚·ãƒ¥ãŠã‚ˆã³ãƒãƒƒã‚·ãƒ¥ãƒ™ãƒ¼ã‚¹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸èªè¨¼ã‚³ãƒ¼ãƒ‰ (HMAC) ã®ãƒ˜ãƒ«ãƒ‘ãŒæä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚ä¸‹è¨˜ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ãŠã‚Šã€ãã‚Œãã‚Œ Node.js ã®å¯¾å¿œã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰4 ã¨åŒã˜æŒ™å‹•ã¨ãªã‚Šã¾ã™ã€‚\nHashing methods crypto.createHash(algorithm) hash.update(data) hash.digest([encoding]) var crypto = require(\u0026#39;crypto\u0026#39;); var text = \u0026#39;I love curry.\u0026#39;; var hash = crypto.createHash(\u0026#39;sha256\u0026#39;); // or md5, sha1 hash.update(text); var digest = hash.digest(\u0026#39;hex\u0026#39;); // or base64, base64url console.log(`${text}\\n${digest}`); // I love curry. // 74dc57666d14c957cf622ad110f1c8d88c0f3390ee057333e97bcaf0c50ac82a HMAC methods crypto.createHmac(algorithm, secret key) hmac.update(data) hmac.digest([encoding]) var crypto = require(\u0026#39;crypto\u0026#39;); var text = \u0026#39;I love curry.\u0026#39;; var hmac = crypto.createHmac(\u0026#39;sha256\u0026#39;, \u0026#39;secret key hoge\u0026#39;); // or md5, sha1 hmac.update(text); var digest = hmac.digest(\u0026#39;hex\u0026#39;); // or base64, base64url console.log(`${text}\\n${digest}`); // I love curry. // 2e3ef82b9c4265d77b977ab9d778663e240da3737e0059ca82c0f93b49f4ddd1 Query string querystring ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯ã€ URL å†…ã®ã‚¯ã‚¨ãƒªæ–‡å­—åˆ—ã‚’è§£æã—ã¦æ“ä½œã™ã‚‹ãŸã‚ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒæä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚ä¸‹è¨˜ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ãŠã‚Šã€ãã‚Œãã‚Œ Node.js ã®å¯¾å¿œã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰5 ã¨åŒã˜æŒ™å‹•ã¨ãªã‚Šã¾ã™ã€‚\nãŸã ã€ CloudFront Functions ã«æ¸¡ã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯è‡ªå‹•çš„ã«ãƒ‘ãƒ¼ã‚¹ã•ã‚Œã‚‹ã®ã§ã€ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã†å ´é¢ã¯ã»ã¼ãªã„ã§ã™ã€‚\nquerystring.escape(string) é€šå¸¸ã¯ querystring.stringify() çµŒç”±ã§å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚ã€ç›´æ¥ä½¿ç”¨ã™ã‚‹ã“ã¨ã¯ãªã„ querystring.parse(string[, separator[, equal[, options]]]) querystring.stringify(object[, separator[, equal[, options]]]) querystring.unescape(string) é€šå¸¸ã¯ querystring.parse() çµŒç”±ã§å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚ã€ç›´æ¥ä½¿ç”¨ã™ã‚‹ã“ã¨ã¯ãªã„ var qs = require(\u0026#39;querystring\u0026#39;); var queryString = \u0026#39;source=beef\u0026amp;rice=300\u0026amp;topping=egg\u0026amp;topping=garlic\u0026#39;; var parsed = qs.parse(queryString); console.log(JSON.stringify(parsed, null, 2)); // { // \u0026#34;source\u0026#34;: \u0026#34;beef\u0026#34;, // \u0026#34;rice\u0026#34;: \u0026#34;300\u0026#34;, // \u0026#34;topping\u0026#34;: [ // \u0026#34;egg\u0026#34;, // \u0026#34;garlic\u0026#34; // ] // } var params = { source: \u0026#39;pork\u0026#39;, rice: \u0026#39;500\u0026#39;, topping: [ \u0026#39;seafood\u0026#39; ] } var paramsString = qs.stringify(params); console.log(paramsString); // source=pork\u0026amp;rice=500topping=seafood ã¾ã¨ã‚ CloudFront Functions ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã«ã¤ã„ã¦ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å†…å®¹ã‚’èª­ã‚“ã§ã¿ãŸè©±ã§ã—ãŸã€‚\nãƒ™ãƒ¼ã‚¹ã¯ ECMAScript 5.1 ã§ã™ãŒ ãã‚Œä»¥é™ã® ES 9 ã¾ã§ã®å†…å®¹ã‚‚å«ã¾ã‚Œã¦ã„ã‚‹ã®ã§ã€ ECMAScript 5.1 ã¨ã„ã†æ–‡å­—ã ã‘ã§æ°—ã‚’è½ã¨ã™ã®ã¯æ—©ãã†ã§ã™ã€‚ãã‚‚ãã‚‚ CloudFront Functions ã§ã¯å¤–éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã§ããªã‹ã£ãŸã‚Šãƒ¡ãƒ¢ãƒªã‚„å®Ÿè¡Œæ™‚é–“ã®åˆ¶é™ãŒå³ã—ã„ã“ã¨ã‚‚ã‚ã‚Šã€å¤ã„ä»•æ§˜ã§ã‚‚ãªã‚“ã¨ã‹ãªã£ã¦ã„ã‚‹ã®ã‹ãªã¨æ€ã„ã¾ã—ãŸã€‚ã¨ã¯ã„ãˆ var ã§å¤‰æ•°å®£è¨€ã™ã‚‹ã®ã¯ã¡ã‚‡ã£ã¨æ°—æŒã¡æ‚ªã„ã§ã™ã€‚\nä»Šå¾Œãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã¯æ›´æ–°ã•ã‚Œã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ç¾çŠ¶ã§ã¯è«¸ã€…ã®åˆ¶é™ã®ä¸­ã§å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ä¸Šã§ã¯ ECMAScript 5.1 æº–æ‹ ã§ã‚ã£ã¦ã‚‚å›°ã‚‹ã“ã¨ã¯ãªã•ãã†ã§ã™ã€‚\nECMAScript Language Specification - ECMA-262 Edition 5.1 \u0026#160;\u0026#x21a9;\u0026#xfe0e;\nECMAScript 2015 Language Specification â€“ ECMA-262 6th Edition \u0026#160;\u0026#x21a9;\u0026#xfe0e;\nECMAScriptÂ® 2018 LanguageÂ Specification \u0026#160;\u0026#x21a9;\u0026#xfe0e;\nCrypto | Node.js v16.1.0 Documentation \u0026#160;\u0026#x21a9;\u0026#xfe0e;\nQuery string | Node.js v16.1.0 Documentation \u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-about-runtime-of-cloudfront-functions/",
    "title": "CloudFront Functions ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã«ã¤ã„ã¦èª¿ã¹ã¦ã¿ãŸ"
  },
  {
    "contents": "CloudFront Functions ã¨ã„ã†æ–°ã—ã„æ©Ÿèƒ½ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸã®ã§ AWS CLI ã§è§¦ã£ã¦ã¿ã¾ã™ã€‚ã¤ã„ã§ã«ã€ Lambda@Edge ã§ã‚„ã£ã¦ã„ã‚‹ã“ã®ãƒ–ãƒ­ã‚°ã® URL æ­£è¦åŒ–å‡¦ç†ã‚’ CloudFront Functions ã«ç§»è¡Œã—ã¦ã¿ã¾ã—ãŸã€‚\nç›®æ¬¡ CloudFront Functions ã¨ã¯ Lambda@Edge ã§ã‚„ã£ã¦ãŸã“ã¨ã‚’ãã®ã¾ã¾ã‚„ã‚‹ CloudFront Functions ã®è¦ä»¶ã«åˆã†ã®ã‹ AWS CLI ã§ã‚„ã£ã¦ã¿ã‚‹ CloudFront Functions ç”¨ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆ Function ã‚’ä½œæˆ Function ã‚’ãƒ†ã‚¹ãƒˆ Function ã‚’ Publish Distribution ã¨ã®ç´ä»˜ã‘ ã¾ã¨ã‚ CloudFront Functions ã¨ã¯ Amazon CloudFront announces the general availability of CloudFront Functions, a new serverless edge compute capability. You can use this new CloudFront feature to run JavaScript functions across 225+ CloudFront edge locations in 90 cities across 47 countries. CloudFront Functions is built for lightweight HTTP(S) transformations and manipulations, allowing you to deliver richer, more personalized content with low latency to your customers.\nAmazon CloudFront announces CloudFront Functions, a lightweight edge compute capability CloudFront ã®ã‚¨ãƒƒã‚¸ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã€ JavaScript ã§å®Ÿè£…ã•ã‚ŒãŸé–¢æ•°ã‚’å®Ÿè¡Œã§ãã‚‹ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚\nCloudFront ã«ã¯ä¼¼ãŸã‚ˆã†ãªæ©Ÿèƒ½ã¨ã—ã¦ Lambda@Edge ã¨ã„ã†ã®ãŒã‚ã‚Šã¾ã™ãŒã€æœ¬å½“ã«ã–ã£ãã‚Šã¨ã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã¯åŒã˜ã‚ˆã†ãªæ©Ÿèƒ½ã ã¨ã„ã†èªè­˜ã§ã™ã€‚ãŒã€ã‚‚ã¡ã‚ã‚“é•ã„ã¯ã‚ã‚Šã€è©³ç´°ã«ã¤ã„ã¦ã¯æ—¢ã«ã‚¯ãƒ©ãƒ¡ã‚½ã•ã‚“ã®è¨˜äº‹ã§è§£èª¬ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã‚¨ãƒƒã‚¸ã§çˆ†é€Ÿã‚³ãƒ¼ãƒ‰å®Ÿè¡Œï¼CloudFront FunctionsãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸï¼ | DevelopersIO ã¡ãªã¿ã«ã€ä»Šå› è§¦ã‚‹ç¯„å›²ã§æ°—ã«ãªã‚‹å·®ã¯ä¸‹è¨˜ã®éƒ¨åˆ†ã§ã™ã€‚\nCloudFront Functions Lambda@Edge ãƒ©ãƒ³ã‚¿ã‚¤ãƒ  JavaScript Node.js, Python æœ€å¤§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚µã‚¤ã‚º 10 KB 1 MB1 æœ€å¤§ãƒ¡ãƒ¢ãƒª 2 MB 128 MB2 æœ€å¤§å®Ÿè¡Œæ™‚é–“ 1ms æœªæº€ 5 ç§’3 CloudFront Functions ã¯ã€ç•¥ã—ã¦ CF2 ã¨å‘¼ã¶ã‚ˆã†ã§ã™ã€‚\nAnnouncing CloudFront Functions (CF2), a new serverless edge compute capability for lightweight customizations. CF2 runs custom Javascript code at all of CloudFrontâ€™s 225+ edge locations with minimal latency and will cost ~1/6th that of Lambda@Edge.. https://t.co/tlD5dvwpmj\n\u0026mdash; Amazon CloudFront (@cloudfront) May 3, 2021 Lambda@Edge ã§ã‚„ã£ã¦ãŸã“ã¨ã‚’ãã®ã¾ã¾ã‚„ã‚‹ ä»Šå›ã‚„ã‚‹ã®ã¯ã€ ã“ã®ãƒ–ãƒ­ã‚°ã«å¯¾ã—ã¦æ—¢ã« Lambda@Edge ã§ã‚„ã£ã¦ã„ã‚‹ URL ã®æ­£è¦åŒ–ã‚’ã€ CloudFront Functions ã«ç§»è¡Œã—ã¾ã™ã€‚\nLambda@Edge ã§ã®æ­£è¦åŒ–ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®è¨˜äº‹ã§æ›¸ã„ã¦ã„ã¾ã™ã€‚\nLambda@Edge ã§é™çš„ã‚µã‚¤ãƒˆã® URL ã‚’æ­£è¦åŒ–ã™ã‚‹ - michimani.net Viewer Request ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã€ / ç„¡ã—ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ / ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã—ãŸã‚Šã€ / ã§ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã« /index..html ã‚’è£œå®Œã—ã¦ã‚ªãƒªã‚¸ãƒ³ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æµã—ãŸã‚Šã€ã¨ã„ã†ã“ã¨ã‚’ã‚„ã£ã¦ã„ã¾ã™ã€‚\nCloudFront Functions ã®è¦ä»¶ã«åˆã†ã®ã‹ å‰è¿°ã—ãŸã¨ãŠã‚Š Lambda@Edge ã¨ CloudFront Functions ã¨ã§ã¯é•ã„ãŒã„ãã¤ã‹ã‚ã‚‹ã®ã§ã€ãã“ã‚’ã‚¯ãƒªã‚¢ã§ãã‚‹ã‹ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚\nãƒ©ãƒ³ã‚¿ã‚¤ãƒ  ã“ã‚Œã¯åŒã˜å‡¦ç†ã‚’ JavaScript ã§æ›¸ãæ›ãˆã‚Œã°ã‚ˆã„ã ã‘ãªã®ã§ã€ä½œæ¥­ã¯ç™ºç”Ÿã™ã‚‹ã‚‚ã®ç§»è¡Œã¯å¯èƒ½ã§ã™ã€‚ã¡ãªã¿ã«ä»Šå›å¯¾è±¡ã¨ãªã£ã¦ã„ã‚‹ Lambda@Edge ã¯ Node.js ã§å®Ÿè£…ã—ã¦ã„ã‚‹ã‚‚ã®ãªã®ã§ã€å¤§ããªå¤‰æ›´ã¯ãªã•ãã†ã§ã™ã€‚\næœ€å¤§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚µã‚¤ã‚º Lambda@Edge ã§ä½¿ã£ã¦ã„ã‚‹ Lambda é–¢æ•°ã®ã‚µã‚¤ã‚ºã¯ 991.0 byte ãªã®ã§ã€ 10 KB ä»¥å†…ã«åã¾ã£ã¦ã„ã¾ã™ã€‚\næœ€å¤§ãƒ¡ãƒ¢ãƒª ã“ã‚Œã¯ã©ã†ã—ã‚ˆã†ã‚‚ãªã„ã®ã§ 2 MB ã§ãŒã‚“ã°ã‚Šã¾ã™ã€‚\næœ€å¤§å®Ÿè¡Œæ™‚é–“ ã“ã“ãŒä¸€ç•ªã®å•é¡Œã§ã™ã€‚\nCloudFront Functions ã§ã¯æœ€å¤§å®Ÿè¡Œæ™‚é–“ãŒ 1ms æœªæº€ ã¨ã„ã†ã“ã¨ã§ã€æœ¬å½“ã«è»½ã„å‡¦ç†ã®å®Ÿè¡Œã—ã‹ã§ããªã•ãã†ã§ã™ã€‚ã¨ã¯ã„ãˆã€ URL ã®æ­£è¦åŒ–ç¨‹åº¦ã§ã‚ã‚Œã°å®Ÿè¡Œã§ããã†ã§ã™ãŒã€å¿µã®ãŸã‚ç¾çŠ¶ã® Lambda@Edge ã®å‡¦ç†ã«ã©ã‚Œãã‚‰ã„ã‹ã‹ã£ã¦ã„ã‚‹ã®ã‹ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚ã¡ãªã¿ã« Lambda é–¢æ•°ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹ãƒ¡ãƒ¢ãƒªã¯ 128 MB ã§ã™ã€‚\nç¢ºèªæ–¹æ³•ã¨ã—ã¦ã¯ã€ Lambda é–¢æ•°ã®å®Ÿè¡Œãƒ­ã‚°ã‹ã‚‰ REPORT å†…ã® Duration ã¨ Billed Duration ã®å·®ã‚’ã¿ã¾ã™ã€‚\n$ aws logs get-log-events \\ --log-group-name ${LOG_GP_NAME} \\ --log-stream-name \u0026#34;${LOG_ST_NAME}\u0026#34; \\ --query \u0026#34;events[?contains(message, \\`REPORT\\`)].message\u0026#34; \\ --output text REPORT RequestId: 889e0e28-4980-48f3-a134-8327666ccc97\tDuration: 6.44 ms\tBilled Duration: 7 ms\tMemory Size: 128 MB\tMax Memory Used: 63 MB\tInit Duration: 164.61 ms REPORT RequestId: d2e219b5-757a-487f-aa3e-148db76e1292\tDuration: 113.00 ms\tBilled Duration: 113 ms\tMemory Size: 128 MB\tMax Memory Used: 64 MB REPORT RequestId: 9005ebdf-0783-4577-b45a-426db365a5a4\tDuration: 128.46 ms\tBilled Duration: 129 ms\tMemory Size: 128 MB\tMax Memory Used: 65 MB REPORT RequestId: e0facf39-87a9-4fb6-a2a5-98example2dc6\tDuration: 1.35 ms\tBilled Duration: 2 ms\tMemory Size: 128 MB\tMax Memory Used: 65 MB REPORT RequestId: f12d9777-142d-4d07-8aa9-6eexample2ebb\tDuration: 5.51 ms\tBilled Duration: 6 ms\tMemory Size: 128 MB\tMax Memory Used: 65 MB REPORT RequestId: ad884280-69a2-4784-9883-6aexample6a0c\tDuration: 1.36 ms\tBilled Duration: 2 ms\tMemory Size: 128 MB\tMax Memory Used: 65 MB REPORT RequestId: 93c493a1-f07d-405f-8702-14examplee3d3\tDuration: 1.33 ms\tBilled Duration: 2 ms\tMemory Size: 128 MB\tMax Memory Used: 65 MB REPORT RequestId: 280d7b33-9cee-4aa4-89f7-afexamplebf8e\tDuration: 1.30 ms\tBilled Duration: 2 ms\tMemory Size: 128 MB\tMax Memory Used: 65 MB REPORT RequestId: 26d94ea2-90fe-470b-8140-6bexample9432\tDuration: 1.16 ms\tBilled Duration: 2 ms\tMemory Size: 128 MB\tMax Memory Used: 65 MB REPORT RequestId: 2691e2c7-14e2-45f4-bd48-02examplee3de\tDuration: 1.15 ms\tBilled Duration: 2 ms\tMemory Size: 128 MB\tMax Memory Used: 65 MB REPORT RequestId: e42686f5-5d52-4fdf-906a-40example24b2\tDuration: 1.10 ms\tBilled Duration: 2 ms\tMemory Size: 128 MB\tMax Memory Used: 65 MB ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŠ›ãŒç„¡ã„ã®ã§å‡ºåŠ›çµæœã‚’ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«è²¼ã‚Šä»˜ã‘ã¦ç¢ºèªã—ã¦ã¿ã‚‹ã¨ã€æœ€å¤§ã§ 0.9 ms ãã‚‰ã„ã€å¹³å‡ã§ã¯ 0.7334 ms ã¨ã„ã†ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚å®Ÿè¡Œæ™‚é–“çš„ã«ã¯å•é¡Œãªã•ãã†ã§ã™ãŒã€ãƒ­ã‚°ã‹ã‚‰ã‚‚åˆ†ã‹ã‚‹é€šã‚Šæ¯å› 65 MB ãã‚‰ã„ãƒ¡ãƒ¢ãƒªã‚’ä½¿ã£ã¦ã®ã“ã®çµæœã§ã™ã€‚ CloudFront Functions ã® 2 MB ã§ã„ã‘ã‚‹ã‹ã©ã†ã‹ã¯ã€ Functions ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿæ–½ã—ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã‚ã‹ã‚Šã¾ã™ã€‚\nAWS CLI ã§ã‚„ã£ã¦ã¿ã‚‹ AWS CLI ã§ã¯ã€ä¸‹è¨˜ã® 8 å€‹ã®ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚ ãªãŠã€ã“ã®è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã‚‹æ™‚ç‚¹ (2021/05/04) ã§ã¯ v1 ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 1.19.64 ã§ã®ã¿å¯¾å¿œã—ã¦ãŠã‚Šã€ v2 ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 2.2.1 ã§ã¯ã¾ã ä½¿ãˆã¾ã›ã‚“ã€‚\nv1 ã§ã¯ 1.19.64 ä»¥é™ã§ã€ v2 ã§ã¯ 2.2.2 ä»¥é™ã§åˆ©ç”¨å¯èƒ½ã«ãªã£ã¦ã„ã¾ã™ã€‚\ncreate-function delete-function describe-function get-function list-functions publish-function test-function update-function ã‚„ã‚‹ã“ã¨ã¨ã—ã¦ã¯ã€ CloudFront Functions ç”¨ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œã£ã¦ã€ Function ã‚’ä½œã£ã¦ã€ãƒ†ã‚¹ãƒˆã—ã¦ã€å…¬é–‹ã—ã¦ã€ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¨ç´ä»˜ã‘ã‚‹ã€ã§ã™ã€‚\nCloudFront Functions ç”¨ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆ CloudFront Functions ã® Function ã®å®Ÿè£…æ–¹æ³•ã«ã¤ã„ã¦ã¯ã€ä¸‹è¨˜ CloudFront ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚è€ƒã«ã—ã¾ã™ã€‚\nWriting function code (CloudFront Functions programming model) - Amazon CloudFront æ›¸ãæ–¹ã¨ã—ã¦ã¯ã€ event ã‚’å—ã‘å–ã‚‹é–¢æ•° handler ã‚’å®Ÿè£…ã—ã¾ã™ã€‚\nfunction handler(event) { var request = event.request; var uri = request.uri; /** ã„ã‚ã„ã‚ã‚„ã‚‹ */ // ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã›ãŸã„å ´åˆ if (hoge) { var response = { statusCode: 302, statusDescription: \u0026#39;Found\u0026#39;, headers: { \u0026#34;location\u0026#34;: { \u0026#34;value\u0026#34;: redirectUrl } } } return response; } return request; } ä»Šå›ã¯ Viewer Request ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«å®Ÿè¡Œã™ã‚‹ã®ã§ã€ return ã™ã‚‹å…ˆã¯ã‚ªãƒªã‚¸ãƒ³ (S3) ã¨ãªã‚Šã¾ã™ã€‚ ãŸã ã—ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã« location ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ä»˜ä¸ã™ã‚‹ã“ã¨ã§ã€ã‚ªãƒªã‚¸ãƒ³ã«åˆ°é”ã™ã‚‹å‰ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ã“ã“ã¯ Lambda@Edge ã¨åŒã˜ã§ã™ã€‚\nä»Šå›ã‚„ã‚ŠãŸã„ã®ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\n/ ç„¡ã—ã¯ / ã‚ã‚Šã« 301 ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ /index..html ä»˜ãã®å ´åˆã¯ /index..html ç„¡ã—ã« 301 ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ ã‚ªãƒªã‚¸ãƒ³ã¸ã¯ /index..html ã‚’è£œå®Œã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆ / ã‚ã‚ŠãŒæ­£è¦ã® URL ã¨ã—ãŸã„ãŸã‚ã€ 301 (æ’ä¹…çš„ãª) ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã¨ã—ã¦ã„ã¾ã™ã€‚\nfunction handler(event) { var host = \u0026#39;https://michimani.net\u0026#39;; var request = event.request; var requestUri = request.uri; // ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã—ã¦ã¯ä½•ã‚‚ã—ãªã„ if (requestUri == \u0026#39;\u0026#39; || requestUri == \u0026#39;/\u0026#39;) { return request; } // `/` ç„¡ã— ã¾ãŸã¯ `index.html` ä»˜ãã¯ `/` ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã™ã‚‹ if (requestUri.match(/((page|post|posts|tags|categories|archives|about)(\\/.*[^\\/])?|\\/index\\.html)$/)) { var redirectUrl = host + requestUri.replace(\u0026#39;/index.html\u0026#39;, \u0026#39;\u0026#39;) + \u0026#39;/\u0026#39;; var response = { statusCode: 301, statusDescription: \u0026#39;Found\u0026#39;, headers: { location: { value: redirectUrl } } } // Viewer ã«å¯¾ã—ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™ return response; } // ã‚ªãƒªã‚¸ãƒ³ã«å¯¾ã—ã¦ã¯ `/index.html` ã‚’è£œå®Œã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ var actualUri = requestUri.replace(/\\/$/, \u0026#39;\\/index.html\u0026#39;); request.uri = actualUri; // ã‚ªãƒªã‚¸ãƒ³ã¸ãƒªã‚¯ã‚¨ã‚¹ãƒˆ return request; } ã“ã‚Œã‚’ cf2-redirect.js ã¨ã—ã¦ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚\nOptimizing request URI for CloudFront with CloudFront Functions (CF2) that has HUGO site that deployed to a S3 bucket as origin. | GitHub gist Function ã‚’ä½œæˆ Function ã®ä½œæˆã«ã¯ cloudfront reate-function ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚\n$ aws cloudfront create-function help ... SYNOPSIS create-function --name \u0026lt;value\u0026gt; --function-config \u0026lt;value\u0026gt; --function-code \u0026lt;value\u0026gt; [--cli-input-json \u0026lt;value\u0026gt;] [--generate-cli-skeleton \u0026lt;value\u0026gt;] --function-config ã§ã¯ Comment ã¨ Runtime ã‚’æŒ‡å®šã—ã¾ã™ãŒã€ç¾æ™‚ç‚¹ã§ Runtime ã«æŒ‡å®šã§ãã‚‹ã®ã¯ cloudfront-js-1.0 ã®ã¿ã§ã™ã€‚\nå…ˆã»ã©ä½œæˆã—ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚‚ã¨ã«ã€ Function ã‚’ä½œæˆã—ã¾ã™ã€‚\n$ aws cloudfront create-function \\ --name cf2-redirect \\ --function-config Comment=\u0026#34;Redirect Function\u0026#34;,Runtime=cloudfront-js-1.0 \\ --function-code file://cf2-redirect.js { \u0026#34;Location\u0026#34;: \u0026#34;https://cloudfront.amazonaws.com/2020-05-31/function/arn:aws:cloudfront::XXXXXXXXXXXX:function/cf2-redirect\u0026#34;, \u0026#34;ETag\u0026#34;: \u0026#34;ETVEXAMPLE\u0026#34;, \u0026#34;FunctionSummary\u0026#34;: { \u0026#34;Name\u0026#34;: \u0026#34;cf2-redirect\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;UNPUBLISHED\u0026#34;, \u0026#34;FunctionConfig\u0026#34;: { \u0026#34;Comment\u0026#34;: \u0026#34;Redirect Function\u0026#34;, \u0026#34;Runtime\u0026#34;: \u0026#34;cloudfront-js-1.0\u0026#34; }, \u0026#34;FunctionMetadata\u0026#34;: { \u0026#34;FunctionARN\u0026#34;: \u0026#34;arn:aws:cloudfront::XXXXXXXXXXXX:function/cf2-redirect\u0026#34;, \u0026#34;Stage\u0026#34;: \u0026#34;DEVELOPMENT\u0026#34;, \u0026#34;CreatedTime\u0026#34;: \u0026#34;2021-05-04T14:26:41.142Z\u0026#34;, \u0026#34;LastModifiedTime\u0026#34;: \u0026#34;2021-05-04T14:26:41.142Z\u0026#34; } } } ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ UNPUBLISHED ã€ ã‚¹ãƒ†ãƒ¼ã‚¸ã¯ DEVELOPMENT ã«ãªã£ã¦ã„ã¾ã™ã€‚\ndescribe-function ã§ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws cloudfront describe-function \\ --name cf2-redirect { \u0026#34;ETag\u0026#34;: \u0026#34;ETVEXAMPLE\u0026#34;, \u0026#34;FunctionSummary\u0026#34;: { \u0026#34;Name\u0026#34;: \u0026#34;cf2-redirect\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;UNPUBLISHED\u0026#34;, \u0026#34;FunctionConfig\u0026#34;: { \u0026#34;Comment\u0026#34;: \u0026#34;Redirect Function\u0026#34;, \u0026#34;Runtime\u0026#34;: \u0026#34;cloudfront-js-1.0\u0026#34; }, \u0026#34;FunctionMetadata\u0026#34;: { \u0026#34;FunctionARN\u0026#34;: \u0026#34;arn:aws:cloudfront::XXXXXXXXXXXX:function/cf2-redirect\u0026#34;, \u0026#34;Stage\u0026#34;: \u0026#34;DEVELOPMENT\u0026#34;, \u0026#34;CreatedTime\u0026#34;: \u0026#34;2021-05-04T14:26:41.142Z\u0026#34;, \u0026#34;LastModifiedTime\u0026#34;: \u0026#34;2021-05-04T14:26:41.185Z\u0026#34; } } } ã¡ãªã¿ã« get-function ã§ã¯ã€æŒ‡å®šã—ãŸ Function ã®ã‚³ãƒ¼ãƒ‰ã‚’ ouput ã¨ã—ã¦å–å¾—ã§ãã¾ã™ã€‚\nFunction ã‚’ãƒ†ã‚¹ãƒˆ ä½œæˆã—ãŸ Function ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ã¿ã¾ã™ã€‚ãƒ†ã‚¹ãƒˆã™ã‚‹ã«ã¯ cloudfront test-function ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚\n$ aws cloudfront test-function help ... SYNOPSIS test-function --name \u0026lt;value\u0026gt; --if-match \u0026lt;value\u0026gt; [--stage \u0026lt;value\u0026gt;] --event-object \u0026lt;value\u0026gt; [--cli-input-json \u0026lt;value\u0026gt;] [--generate-cli-skeleton \u0026lt;value\u0026gt;] --if-match ã«ã¯ã€å¯¾è±¡ã® Function ã® ETag ã®å€¤ã‚’æŒ‡å®šã—ã¾ã™ã€‚(describe-function ã§ç¢ºèª)\n--event-object ã«ã¤ã„ã¦ã¯ã€ä¸‹è¨˜ CloudFront ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚è€ƒã«ã—ã¦ã€æ¬¡ã®ã‚ˆã†ãª JSON ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¦ event-object.json ã¨ã—ã¦ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚\n{ \u0026#34;version\u0026#34;: \u0026#34;1.0\u0026#34;, \u0026#34;context\u0026#34;: { \u0026#34;distributionDomainName\u0026#34;: \u0026#34;test.cloudfront.net\u0026#34;, \u0026#34;distributionId\u0026#34;: \u0026#34;TESTDISTID\u0026#34;, \u0026#34;eventType\u0026#34;: \u0026#34;viewer-request\u0026#34;, \u0026#34;requestId\u0026#34;: \u0026#34;TEST-REQUEST-ID\u0026#34; }, \u0026#34;viewer\u0026#34;: { \u0026#34;ip\u0026#34;: \u0026#34;111.111.111.111\u0026#34; }, \u0026#34;request\u0026#34;: { \u0026#34;method\u0026#34;: \u0026#34;GET\u0026#34;, \u0026#34;uri\u0026#34;: \u0026#34;/categories/aws\u0026#34;, \u0026#34;headers\u0026#34;: { \u0026#34;host\u0026#34;: { \u0026#34;value\u0026#34;: \u0026#34;test.example.com\u0026#34; }, \u0026#34;user-agent\u0026#34;: { \u0026#34;value\u0026#34;: \u0026#34;test user agent0\u0026#34; } } } } CloudFront Functions event structure - Amazon CloudFront ä¸Šè¨˜ã®ã‚¤ãƒ™ãƒ³ãƒˆã§ã¯ https://michimani.net/category/aws ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ã§ã€ / ã‚ã‚Šã¸ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒå–å¾—ã§ãã‚Œã° OK ã§ã™ã€‚\n$ CFF_NAME=\u0026#34;cf2-redirect\u0026#34; $ aws cloudfront test-function \\ --name \u0026#34;${CFF_NAME}\u0026#34; \\ --if-match $( \\ aws cloudfront describe-function \\ --name \u0026#34;${CFF_NAME}\u0026#34; \\ --query \u0026#34;ETag\u0026#34; \\ --output text) \\ --event-object file://event-object.json { \u0026#34;TestResult\u0026#34;: { \u0026#34;FunctionSummary\u0026#34;: { \u0026#34;Name\u0026#34;: \u0026#34;cf2-redirect\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;UNPUBLISHED\u0026#34;, \u0026#34;FunctionConfig\u0026#34;: { \u0026#34;Comment\u0026#34;: \u0026#34;Redirect Function\u0026#34;, \u0026#34;Runtime\u0026#34;: \u0026#34;cloudfront-js-1.0\u0026#34; }, \u0026#34;FunctionMetadata\u0026#34;: { \u0026#34;FunctionARN\u0026#34;: \u0026#34;arn:aws:cloudfront::XXXXXXXXXXXX:function/cf2-redirect\u0026#34;, \u0026#34;Stage\u0026#34;: \u0026#34;DEVELOPMENT\u0026#34;, \u0026#34;CreatedTime\u0026#34;: \u0026#34;2021-05-04T14:26:41.142Z\u0026#34;, \u0026#34;LastModifiedTime\u0026#34;: \u0026#34;2021-05-04T15:28:21.410Z\u0026#34; } }, \u0026#34;ComputeUtilization\u0026#34;: \u0026#34;35\u0026#34;, \u0026#34;FunctionExecutionLogs\u0026#34;: [], \u0026#34;FunctionErrorMessage\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;FunctionOutput\u0026#34;: \u0026#34;{\\\u0026#34;response\\\u0026#34;:{\\\u0026#34;headers\\\u0026#34;:{\\\u0026#34;location\\\u0026#34;:{\\\u0026#34;value\\\u0026#34;:\\\u0026#34;https://michimani.net/categories/aws/\\\u0026#34;}},\\\u0026#34;statusDescription\\\u0026#34;:\\\u0026#34;Found\\\u0026#34;,\\\u0026#34;cookies\\\u0026#34;:{},\\\u0026#34;statusCode\\\u0026#34;:301}}\u0026#34; } } FunctionOutput ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€ 301 ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆç”¨ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã£ã¦ã„ã‚‹ã®ãŒã‚ã‹ã‚Šã¾ã™ã€‚ã¾ãŸã€ ComputeUtilization ã®å€¤ãŒ 35 ã¨ã„ã†ã“ã¨ã§ã€ã“ã‚Œã¯å®Ÿè¡Œæ™‚é–“ãŒ 1ms æœªæº€ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚\nIt also shows the compute utilization, which is a number between 0 and 100 that indicates the amount of time that the function took to run as a percentage of the maximum allowed time. For example, a compute utilization of 35 means that the function completed in 35% of the maximum allowed time.\nTesting functions - Amazon CloudFront Function ã‚’ Publish Function ã®ãƒ†ã‚¹ãƒˆãŒã§ããŸã‚‰ã€ cloudfront publish-function ã‚³ãƒãƒ³ãƒ‰ã§ publish ã—ã¾ã™ã€‚\n$ aws cloudfront publish-function help ... SYNOPSIS publish-function --name \u0026lt;value\u0026gt; --if-match \u0026lt;value\u0026gt; [--cli-input-json \u0026lt;value\u0026gt;] [--generate-cli-skeleton \u0026lt;value\u0026gt;] å¿…è¦ãªã®ã¯ Function ã®åå‰ã¨ ETag ãªã®ã§ã€ä¸‹è¨˜ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ã€‚\n$ aws cloudfront publish-function \\ --name \u0026#34;${CFF_NAME}\u0026#34; \\ --if-match $( \\ aws cloudfront describe-function \\ --name \u0026#34;${CFF_NAME}\u0026#34; \\ --query \u0026#34;ETag\u0026#34; \\ --output text) { \u0026#34;FunctionSummary\u0026#34;: { \u0026#34;Name\u0026#34;: \u0026#34;cf2-redirect\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;UNASSOCIATED\u0026#34;, \u0026#34;FunctionConfig\u0026#34;: { \u0026#34;Comment\u0026#34;: \u0026#34;Redirect Function\u0026#34;, \u0026#34;Runtime\u0026#34;: \u0026#34;cloudfront-js-1.0\u0026#34; }, \u0026#34;FunctionMetadata\u0026#34;: { \u0026#34;FunctionARN\u0026#34;: \u0026#34;arn:aws:cloudfront::XXXXXXXXXXXX:function/cf2-redirect\u0026#34;, \u0026#34;Stage\u0026#34;: \u0026#34;LIVE\u0026#34;, \u0026#34;CreatedTime\u0026#34;: \u0026#34;2021-05-04T16:05:34.967Z\u0026#34;, \u0026#34;LastModifiedTime\u0026#34;: \u0026#34;2021-05-04T16:05:34.967Z\u0026#34; } } } Distribution ã¨ã®ç´ä»˜ã‘ Distribution ã¨ã®ç´ä»˜ã‘ã¯ CloudFront Functions é–¢é€£ã® API ã§ã¯ãªã CloudFront ã® update-distribution ã§è¡Œã„ã¾ã™ã€‚ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ã¯ CloudFront Functions ã®ç”»é¢ã® Associate ã‚¿ãƒ–ã‹ã‚‰å®Ÿè¡Œã§ãã¾ã™ã€‚\nupdate-distribution ã‚’è¡Œã†ã«ã¯ DistributionConfig ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€æ—¢å­˜ã® DistributionConfig ã‚’ get-distribution ã§å–å¾—ã—ã¾ã™ã€‚\n$ CF_DIST_ID=\u0026#34;YOURDISTID\u0026#34; $ aws cloudfront get-distribution \\ --id ${CF_DIST_ID} \\ | jq \u0026#34;.Distribution.DistributionConfig\u0026#34; \\ \u0026gt; distribution-config.json ãã—ã¦ã€ DistributionConfig ã® LambdaFunctionAssociations ã‚’å‰Šé™¤ã—ã¦ã€ä»£ã‚ã‚Šã« FunctionAssociations ã®éƒ¨åˆ†ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã€‚\n{ \u0026#34;FunctionAssociations\u0026#34;: { \u0026#34;Quantity\u0026#34;: 1, \u0026#34;Items\u0026#34;: [ { \u0026#34;FunctionARN\u0026#34;: \u0026#34;\u0026lt;CloudFront Function ã® ARN\u0026gt;\u0026#34;, \u0026#34;EventType\u0026#34;: \u0026#34;viewer-request\u0026#34; } ] } } Function ã® ARN ã¯ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§å–å¾—ã—ã¾ã™ã€‚\n$ aws cloudfront describe-function \\ --name \u0026#34;${CFF_NAME}\u0026#34; \\ --query \u0026#34;FunctionSummary.FunctionMetadata.FunctionARN\u0026#34; \\ --output text æ›´æ–°å‰å¾Œã®å·®åˆ†ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n--- distribution-config.json\t2021-05-05 00:45:35.000000000 +0900 +++ distribution-config-update.json\t2021-05-05 00:59:53.000000000 +0900 @@ -59,18 +59,18 @@ \u0026#34;SmoothStreaming\u0026#34;: false, \u0026#34;Compress\u0026#34;: false, \u0026#34;LambdaFunctionAssociations\u0026#34;: { + \u0026#34;Quantity\u0026#34;: 0 + }, + \u0026#34;FunctionAssociations\u0026#34;: { \u0026#34;Quantity\u0026#34;: 1, \u0026#34;Items\u0026#34;: [ { - \u0026#34;LambdaFunctionARN\u0026#34;: \u0026#34;arn:aws:lambda:us-east-1:XXXXXXXXXXXX:function:CFRedirectIndexDocument:29\u0026#34;, + \u0026#34;FunctionARN\u0026#34;: \u0026#34;arn:aws:cloudfront::XXXXXXXXXXXX:function/cf2-redirect\u0026#34;, \u0026#34;EventType\u0026#34;: \u0026#34;viewer-request\u0026#34;, \u0026#34;IncludeBody\u0026#34;: false } ] }, - \u0026#34;FunctionAssociations\u0026#34;: { - \u0026#34;Quantity\u0026#34;: 0 - }, \u0026#34;FieldLevelEncryptionId\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;ForwardedValues\u0026#34;: { \u0026#34;QueryString\u0026#34;: true, æ›´æ–°ç”¨ã® JSON ãŒã§ããŸã®ã§ã€ cloudfront update-distribution ã‚³ãƒãƒ³ãƒ‰ã§æ›´æ–°ã—ã¾ã™ã€‚\n$ aws cloudfront update-distribution \\ --id ${CF_DIST_ID} \\ --if-match $( \\ aws cloudfront get-distribution \\ --id ${CF_DIST_ID} \\ --query \u0026#34;ETag\u0026#34; \\ --output text) \\ --distribution-config file://distribution-config-update.json ã¾ã¨ã‚ CloudFront Functions ã‚’ AWS CLI ã§è§¦ã£ã¦ã¿ã‚‹ã¤ã„ã§ã«ã€ãƒ–ãƒ­ã‚°ã® URL æ­£è¦åŒ–å‡¦ç†ã‚’ Lambda@Edge ã‹ã‚‰ç§»è¡Œã—ãŸè©±ã§ã—ãŸã€‚\nCloudFront Functions ã¯ Lambda@Edge ã¨æ¯”è¼ƒã—ã¦ã€ã‚ˆã‚Šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«è¿‘ã„ã¨ã“ã‚ã§å‹•ããŸã‚ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®é«˜é€ŸåŒ–ãŒæœŸå¾…ã§ãã¾ã™ã€‚ã¾ãŸã€æ–™é‡‘ã«ã¤ã„ã¦ã‚‚å®‰ããªã‚Šã€ä»Šå›ã®ç§»è¡Œã«ã‚ˆã‚Šæ¯æœˆ Lambda@Edge ã§ 0.1 USD ãã‚‰ã„ã‹ã‹ã£ã¦ã„ãŸã®ãŒã€ãŠãã‚‰ãç„¡æ–™æ ã®ç¯„å›²å†…ã«åã¾ã‚Šãã†ã§ã™ã€‚\n2,000,000 CloudFront Function Invocations\nInvocation pricing is $0.10 per 1 million invocations ($0.0000001 per request).\nCDN Pricing | Free Tier Eligible, Pay-as-you-go | Amazon CloudFront Lambda@Edge ã¨æ¯”è¼ƒã—ã¦å®Ÿè¡Œæ™‚é–“ã‚„ãƒ¡ãƒ¢ãƒªã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚µã‚¤ã‚ºã®åˆ¶é™ã¯å³ã—ã„ã§ã™ãŒã€ä»Šå›ã®ã‚ˆã†ãªãƒ‘ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç¨‹åº¦ã®å‡¦ç†ã§ã‚ã‚Œã°ãƒ¡ãƒªãƒƒãƒˆã—ã‹ç„¡ã„ã®ã§ã€ã™ãã«ã§ã‚‚ç§»è¡Œã™ã‚‹ã®ãŒè‰¯ã„ã‹ãªã¨æ€ã„ã¾ã—ãŸã€‚\nViewer ãƒˆãƒªã‚¬ãƒ¼ã®å ´åˆã€‚ Origin ãƒˆãƒªã‚¬ãƒ¼ã®å ´åˆã¯ 50 MBã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nViewer ãƒˆãƒªã‚¬ãƒ¼ã®å ´åˆã€‚ Origin ãƒˆãƒªã‚¬ãƒ¼ã®å ´åˆã¯ 10 GBã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nViewer ãƒˆãƒªã‚¬ãƒ¼ã®å ´åˆã€‚ Origin ãƒˆãƒªã‚¬ãƒ¼ã®å ´åˆã¯ 30 ç§’ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-normalize-url-using-cloudfront-functions/",
    "title": "CloudFront Functions ã‚’ AWS CLI ã§è§¦ã‚‹ â€• ã¤ã„ã§ã«ãƒ–ãƒ­ã‚°ã® URL æ­£è¦åŒ–ã‚’ Lambda@Edge ã‹ã‚‰ç§»è¡Œã—ãŸ"
  },
  {
    "contents": "AWS CLI v2 ã«ã¯ å¯¾è©±å½¢å¼ã§ãƒªã‚½ãƒ¼ã‚¹ã‚’æ“ä½œã§ãã‚‹ wizard ã‚³ãƒãƒ³ãƒ‰ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚ä»Šå›ã¯ãã® wizard ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ DynamoDB ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ wizard ã‚³ãƒãƒ³ãƒ‰ DynamoDB ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¦ã¿ã‚‹ Intro Capacity Encryption Preview Done ä½œæˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª ã¾ã¨ã‚ wizard ã‚³ãƒãƒ³ãƒ‰ AWS CLI v2 ã§ã¯ã€ GA å½“åˆ (v2.0.0) ã‹ã‚‰ wizard ã‚³ãƒãƒ³ãƒ‰ãŒåˆ©ç”¨å¯èƒ½ã§ã€ä¸€éƒ¨ã®ãƒªã‚½ãƒ¼ã‚¹ã«å¯¾ã™ã‚‹æ“ä½œã‚’å¯¾è©±çš„ã«å®Ÿè¡Œã§ãã¾ã™ã€‚ã“ã®è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã‚‹æ™‚ç‚¹ (2021/04/30) æ™‚ç‚¹ã§ wizard ã‚³ãƒãƒ³ãƒ‰ã«å¯¾å¿œã—ã¦ã„ã‚‹ã®ã¯ä¸‹è¨˜ã®æ“ä½œã§ã€ configure ã‚’é™¤ã„ã¦ã¯ aws \u0026lt;ã‚µãƒ¼ãƒ“ã‚¹\u0026gt; wizard \u0026lt;wizard ç”¨ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰\u0026gt; ã¨ã„ã†å½¢ã§å®Ÿè¡Œã—ã¾ã™ã€‚\nAWS CLI ã® config è¨­å®š aws configure å®Ÿè¡Œæ™‚ã«è‡ªå‹•ã§å¯¾è©±ãƒ¢ãƒ¼ãƒ‰ã«ãªã‚‹ DynamoDB ã®ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ aws dynamodb wizard new-table EventBridge ã®ãƒ«ãƒ¼ãƒ«ä½œæˆ aws events wizard new-rule IAM ã®ãƒ­ãƒ¼ãƒ«ä½œæˆ aws iam wizard new-role Lambda ã®é–¢æ•°ä½œæˆ aws lambda wizard new-function DynamoDB ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¦ã¿ã‚‹ ä»Šå›ã¯ã€ DynamoDB ã® wizard ã‚³ãƒãƒ³ãƒ‰ã§å¯¾è©±å½¢å¼ã§ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¦ã¿ã¾ã™ã€‚\naws dynamodb wizard new-table ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒèµ·å‹•ã—ã¾ã™ã€‚\nIntro Capacity Encryption Preview Done ã® 5 ã‚¹ãƒ†ãƒƒãƒ—ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\nIntro Intro ã§ã¯ä¸‹è¨˜é …ç›®ã‚’å…¥åŠ›ã¾ãŸã¯é¸æŠã—ã¦ã„ãã¾ã™ã€‚\nãƒ†ãƒ¼ãƒ–ãƒ«å ãƒ—ãƒ©ã‚¤ãƒãƒªãƒ¼ã‚­ãƒ¼å ãƒ—ãƒ©ã‚¤ãƒãƒªãƒ¼ã‚­ãƒ¼ã®ã‚¿ã‚¤ãƒ— String / Number / Binary ã‹ã‚‰é¸æŠ ã‚½ãƒ¼ãƒˆã‚­ãƒ¼ã‚’è¿½åŠ ã™ã‚‹ã‹ã©ã†ã‹ Yes / No ã§é¸æŠ (ã‚½ãƒ¼ãƒˆã‚­ãƒ¼ã‚’è¿½åŠ ã™ã‚‹å ´åˆ) ã‚½ãƒ¼ãƒˆã‚­ãƒ¼å ã‚½ãƒ¼ãƒˆã‚­ãƒ¼ã®ã‚¿ã‚¤ãƒ— String / Number / Binary ã‹ã‚‰é¸æŠ Capacity Capacity ã§ã¯ä¸‹è¨˜é …ç›®ã‚’å…¥åŠ›ã¾ãŸã¯é¸æŠã—ã¦ã„ãã¾ã™ã€‚\nã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ãƒ¼ãƒ¢ãƒ¼ãƒ‰ Provisioned / On-demand ã‹ã‚‰é¸æŠ (Provisioned ã‚’é¸æŠã—ãŸå ´åˆ) Read ã®ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ãƒ¼ãƒ¦ãƒ‹ãƒƒãƒˆ Write ã®ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ãƒ¼ãƒ¦ãƒ‹ãƒƒãƒˆ Encryption Encryption ã§ã¯ä¸‹è¨˜é …ç›®ã‚’å…¥åŠ›ã¾ãŸã¯é¸æŠã—ã¦ã„ãã¾ã™ã€‚\nãƒ†ãƒ¼ãƒ–ãƒ«ã®æš—å·åŒ–è¨­å®š DEFAULT / KMS - AWS managed CMK / KMS - Customer managed CMK ã‹ã‚‰é¸æŠ (KMS - Customer managed CMK ã‚’é¸æŠã—ãŸå ´åˆ) ã‚«ã‚¹ã‚¿ãƒãƒ¼ãƒãƒãƒ¼ã‚¸ãƒ‰ãª CMK ã®ãƒ‘ã‚¹ Preview Preview ã§ã¯ã€ä½œæˆã•ã‚Œã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã®å†…å®¹ã‚’ AWS CLI ã‚³ãƒãƒ³ãƒ‰ã¾ãŸã¯ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã—ã¦ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nDone Done ã§ã¯ã€ã“ã‚Œã¾ã§ã®è¨­å®šå†…å®¹ã§å®Ÿè¡Œã™ã‚‹ã‹ã©ã†ã‹ã‚’é¸æŠã—ã¾ã™ã€‚\nYes ã‚’é¸æŠã™ã‚‹ã¨ã€ Preview ã§é¸æŠã—ãŸå†…å®¹ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nAWS CLI command ã‚’é¸æŠã—ã¦ã„ãŸå ´åˆ Wizard successfully created DynamoDB Table: Table name: user Primary partition key: id (S) Primary sort key: age (N) Steps to create table is equivalent to running the following sample AWS CLI commands: aws dynamodb create-table \\ --table-name \u0026#39;user\u0026#39; \\ --attribute-definitions \\ \u0026#39;AttributeName=id,AttributeType=S\u0026#39; \\ \u0026#39;AttributeName=age,AttributeType=N\u0026#39; \\ --key-schema \\ \u0026#39;AttributeName=id,KeyType=HASH\u0026#39; \\ \u0026#39;AttributeName=age,KeyType=RANGE\u0026#39; \\ --provisioned-throughput \\ \u0026#39;ReadCapacityUnits=1,WriteCapacityUnits=1\u0026#39; CloudFormation template ã‚’é¸æŠã—ã¦ã„ãŸå ´åˆ Wizard successfully created DynamoDB Table: Table name: user Primary partition key: id (S) Primary sort key: age (N) Steps to create table is equivalent to deploying the following sample AWS CloudFormation template: Resources: user: Type: \u0026#34;AWS::DynamoDB::Table\u0026#34; Properties: TableName: user AttributeDefinitions: - AttributeName: id AttributeType: S - AttributeName: age AttributeType: N KeySchema: - AttributeName: id KeyType: HASH - AttributeName: age KeyType: RANGE ProvisionedThroughput: ReadCapacityUnits: 1 WriteCapacityUnits: 1 ä½œæˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª ä½œæˆã•ã‚ŒãŸãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws dynamodb describe-table \\ --table-name user { \u0026#34;Table\u0026#34;: { \u0026#34;AttributeDefinitions\u0026#34;: [ { \u0026#34;AttributeName\u0026#34;: \u0026#34;age\u0026#34;, \u0026#34;AttributeType\u0026#34;: \u0026#34;N\u0026#34; }, { \u0026#34;AttributeName\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;AttributeType\u0026#34;: \u0026#34;S\u0026#34; } ], \u0026#34;TableName\u0026#34;: \u0026#34;user\u0026#34;, \u0026#34;KeySchema\u0026#34;: [ { \u0026#34;AttributeName\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;KeyType\u0026#34;: \u0026#34;HASH\u0026#34; }, { \u0026#34;AttributeName\u0026#34;: \u0026#34;age\u0026#34;, \u0026#34;KeyType\u0026#34;: \u0026#34;RANGE\u0026#34; } ], \u0026#34;TableStatus\u0026#34;: \u0026#34;ACTIVE\u0026#34;, \u0026#34;CreationDateTime\u0026#34;: \u0026#34;2021-05-01T01:05:31.656000+09:00\u0026#34;, \u0026#34;ProvisionedThroughput\u0026#34;: { \u0026#34;NumberOfDecreasesToday\u0026#34;: 0, \u0026#34;ReadCapacityUnits\u0026#34;: 1, \u0026#34;WriteCapacityUnits\u0026#34;: 1 }, \u0026#34;TableSizeBytes\u0026#34;: 0, \u0026#34;ItemCount\u0026#34;: 0, \u0026#34;TableArn\u0026#34;: \u0026#34;arn:aws:dynamodb:ap-northeast-1:XXXXXXXXXXXX:table/user\u0026#34;, \u0026#34;TableId\u0026#34;: \u0026#34;3327e6ef-b638-4318-80b5-8722cc840ee6\u0026#34; } } ã¾ã¨ã‚ AWS CLI ã® wizard ã‚³ãƒãƒ³ãƒ‰ã§ DynamoDB ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nwizard ãŒä½¿ãˆã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã¯é™ã‚‰ã‚Œã¦ã„ã‚‹ã‚‚ã®ã®ã€å¯¾è©±å½¢å¼ã§å¿…è¦ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’åŸ‹ã‚ã¦ã„ãã®ã¯ã‚„ã¯ã‚Šç›´æ„Ÿçš„ã§ã‚ã‹ã‚Šã‚„ã™ã„ã§ã™ã€‚CLI ã¨ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã®æ“ä½œã®è‰¯ã„ã¨ã“ã‚ã‚’åˆã‚ã›ãŸã‚ˆã†ãªæ„Ÿã˜ã§ã€ä»Šå¾Œå¯¾å¿œã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ãŒå¢—ãˆã¦ã„ãã¨è‰¯ã„ãªã¨æ€ã„ã¾ã—ãŸã€‚\nã‚ã¨ã€å®Ÿéš›ã«ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã™ã‚‹ä¸€ã¤å‰ã®æ®µéšã§ AWS CLI ã®ã‚³ãƒãƒ³ãƒ‰ã¨ CloudFormation ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ä½œã‚ŠãŸã„ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹ãŸã‚ã«ã©ã®ã‚ˆã†ãªã‚³ãƒãƒ³ãƒ‰ã‚„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå¿…è¦ã«ãªã‚‹ã®ã‹ã‚’ç¢ºèªã™ã‚‹æ‰‹æ®µã¨ã—ã¦ã‚‚è‰¯ã•ãã†ã ãªã¨æ€ã„ã¾ã—ãŸã€‚\nã¡ãªã¿ã«ã€å¯¾å¿œã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦ã¯ã€ AWS CLI ã®ä¸‹è¨˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¦‹ã‚‹ã¨ç¢ºèªã§ãã¾ã™ã€‚\naws-cli/awscli/customizations/wizard/wizards at v2 Â· aws/aws-cli AWS CLI ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚ä¸Šè¨˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¦‹ã¦ã­ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã—ãŸã€‚\nTo contribute or view the full list of available AWS CLI wizards, see the AWS CLI wizards folder on GitHub.\nUsing the AWS CLI wizards - AWS Command Line Interface ",
    "permalink": "https://michimani.net/post/aws-create-dynamodb-table-using-wizard-command/",
    "title": "AWS CLI ã® wizard ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦å¯¾è©±å½¢å¼ã§ DynamoDB ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã™ã‚‹"
  },
  {
    "contents": "æ™®æ®µã¯ãƒ‘ãƒƒãƒãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒæ›´æ–°ã•ã‚Œã¦ã„ãã“ã¨ãŒå¤šã„ AWS CLI ã§ã™ãŒã€ä»Šæœã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§ã¯ v2 ã®ãƒã‚¤ãƒŠãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä¸ŠãŒã£ã¦ 2.1.39 ã‹ã‚‰ 2.2.0 ã«ãªã‚Šã¾ã—ãŸã€‚ CHANGELOG ã‚’ã‚‚ã¨ã«ã€ã©ã“ãŒå¤‰ã‚ã£ãŸã®ã‹è¦‹ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ v2.2.0 ã®å¤‰æ›´ç‚¹ å¤‰æ›´ç‚¹ã®è©³ç´° ãƒ˜ãƒ«ãƒ—ã§ç¢ºèªã§ãã‚‹ãƒ¬ãƒ™ãƒ«ã®å¤‰æ›´ç‚¹ ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ™ãƒ«ã®å¤‰æ›´ CRT ã‚’ä½¿ã£ã¦ S3 è»¢é€ã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹ default ã§å®Ÿè¡Œ crt ã§å®Ÿè¡Œ ãã‚‚ãã‚‚ AWS Common Runtime (CRT) ã¨ã¯ ã¾ã¨ã‚ v2.2.0 ã®å¤‰æ›´ç‚¹ AWS CLI ã§ã¯ã€ãƒã‚¤ãƒŠãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒæ›´æ–°ã•ã‚Œã‚‹ã¨ãã¯ CHANGELOG ã« feature: ã¨ã—ã¦å†…å®¹ãŒè¨˜è¼‰ã•ã‚Œã¾ã™ã€‚\nä»Šå›ã® 2.2.0 ã§ã¯ä¸‹è¨˜ã®è¨˜è¿°ãŒã‚ã‚Šã¾ã—ãŸã€‚\nfeature:s3: Add experimental support for performing S3 transfers using the AWS Common Runtime (CRT). It provides a C-based S3 transfer client that can improve transfer throughput for s3 commands.\naws-cli/CHANGELOG.rst at 2.2.0 Â· aws/aws-cli ç›´è¨³ã™ã‚‹ã¨\nAWS Common Runtimeï¼ˆCRTï¼‰ã‚’ä½¿ç”¨ã—ã¦S3è»¢é€ã‚’å®Ÿè¡Œã™ã‚‹å®Ÿé¨“çš„ãªã‚µãƒãƒ¼ãƒˆã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚ã“ã‚Œã¯ã€Cãƒ™ãƒ¼ã‚¹ã®S3è»¢é€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’æä¾›ã—ã€s3ã‚³ãƒãƒ³ãƒ‰ã®è»¢é€ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\u0026hellip;ãªã‚‹ã»ã©ã€‚\nå¤‰æ›´ç‚¹ã®è©³ç´° CHANGELOG ãŠã‚ˆã³ã‚³ãƒŸãƒƒãƒˆã‚’ã‚‚ã¨ã«ã€å¤‰æ›´ç‚¹ã®è©³ç´°ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nãƒ˜ãƒ«ãƒ—ã§ç¢ºèªã§ãã‚‹ãƒ¬ãƒ™ãƒ«ã®å¤‰æ›´ç‚¹ s3 ã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦ã€ãƒ˜ãƒ«ãƒ—ã§ç¢ºèªã§ãã‚‹ãƒ¬ãƒ™ãƒ«ã®å¤‰æ›´ç‚¹ã¯ç¢ºèªã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ (åˆ©ç”¨å¯èƒ½ãªã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã€ãƒ˜ãƒ«ãƒ—ã®å†…å®¹ã¯åŒã˜)\nã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ™ãƒ«ã®å¤‰æ›´ ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã«é–¢ã—ã¦ã¯ã€ä¸‹è¨˜ã®ã‚³ãƒŸãƒƒãƒˆã«ã¦å·®åˆ†ã‚’ç¢ºèªã§ãã¾ã™ã€‚\nMerge pull request #6105 from kyleknap/crt-s3 Â· aws/aws-cli@2e05300 CHANGELOG ã§è¨˜è¼‰ã®ã‚ã£ãŸè»¢é€ã«é–¢ã™ã‚‹å¤‰æ›´ãŒåŠ ãˆã‚‰ã‚Œã¦ãŠã‚Šã€ transfer_client ã¨ã—ã¦ crt ã‚’æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚\ns3 ã‚³ãƒãƒ³ãƒ‰ã®ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã®ã†ã¡ã€ S3 è»¢é€ã‚’åˆ©ç”¨ã™ã‚‹ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚(= S3TransferCommand)\ncp mv rm sync ã“ã‚Œã¯ awscli/customizations/s3/subcommands.py#L708 ã‚ãŸã‚Šã§ç¢ºèªã§ãã¾ã™ã€‚\naws-cli/subcommands.py at v2 Â· aws/aws-cli S3TransferCommand ã§ã¯ã€ config ãƒ•ã‚¡ã‚¤ãƒ« (= ~/.aws/config) ã‹ã‚‰å–å¾—ã—ãŸ S3 ã«é–¢ã™ã‚‹è¨­å®šã®ä¸­ã‹ã‚‰ã€ preferred_transfer_client ã§æŒ‡å®šã—ãŸå€¤ã‚’ transfer_client ã¨ã—ã¦ä½¿ã†ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ä»Šå›ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§ã¯ã€config ãƒ•ã‚¡ã‚¤ãƒ«ã§ transfer_client ã‚’æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã¨ã„ã†å†…å®¹ã ã¨ã„ã†ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚\nCRT ã‚’ä½¿ã£ã¦ S3 è»¢é€ã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹ å¤‰æ›´ç‚¹ã®å†…å®¹ãŒã‚ã‹ã£ãŸã®ã§ã€å®Ÿéš›ã« CRT ã‚’ä½¿ç”¨ã—ã¦ S3 è»¢é€ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚ä»Šå›ã¯ s3 cp ã‚³ãƒãƒ³ãƒ‰ã§ãã®é•ã„ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œè©³ç´°ã«ã¤ã„ã¦ã¯ --debug ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã‚‹ã“ã¨ã§ç¢ºèªã§ãã¾ã™ã€‚\ndefault ã§å®Ÿè¡Œ ã¾ãšã¯ã€æ–°ãŸã«æŒ‡å®šå¯èƒ½ã¨ãªã£ãŸ preferred_transfer_client ã‚’ä½¿ã‚ãšã« s3 cp ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3 cp sample.txt s3://aws-cli-2-2-0-test-XXXXXXXXXXXX/ --debug ãƒ‡ãƒãƒƒã‚°ã®å‡ºåŠ›ã¯å‰²ã¨é‡ãŒã‚ã‚‹ã®ã§ transfer ã§ grep ã—ãŸçµæœã ã‘è²¼ã‚Šã¾ã™ã€‚\n2021-04-28 23:27:32,931 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.force-glacier-transfer: calling handler \u0026lt;awscli.paramfile.URIArgumentHandler object at 0x7f823ca186a0\u0026gt; 2021-04-28 23:27:33,015 - MainThread - s3transfer.utils - DEBUG - Acquiring 0 2021-04-28 23:27:33,015 - ThreadPoolExecutor-1_0 - s3transfer.tasks - DEBUG - UploadSubmissionTask(transfer_id=0, {\u0026#39;transfer_future\u0026#39;: \u0026lt;s3transfer.futures.TransferFuture object at 0x7f823d24e220\u0026gt;}) about to wait for the following futures [] 2021-04-28 23:27:33,015 - ThreadPoolExecutor-1_0 - s3transfer.tasks - DEBUG - UploadSubmissionTask(transfer_id=0, {\u0026#39;transfer_future\u0026#39;: \u0026lt;s3transfer.futures.TransferFuture object at 0x7f823d24e220\u0026gt;}) done waiting for dependent futures 2021-04-28 23:27:33,016 - ThreadPoolExecutor-1_0 - s3transfer.tasks - DEBUG - Executing task UploadSubmissionTask(transfer_id=0, {\u0026#39;transfer_future\u0026#39;: \u0026lt;s3transfer.futures.TransferFuture object at 0x7f823d24e220\u0026gt;}) with kwargs {\u0026#39;client\u0026#39;: \u0026lt;botocore.client.S3 object at 0x7f823d1fb6d0\u0026gt;, \u0026#39;config\u0026#39;: \u0026lt;s3transfer.manager.TransferConfig object at 0x7f823d2394c0\u0026gt;, \u0026#39;osutil\u0026#39;: \u0026lt;s3transfer.utils.OSUtils object at 0x7f823d239550\u0026gt;, \u0026#39;request_executor\u0026#39;: \u0026lt;s3transfer.futures.BoundedExecutor object at 0x7f823d239790\u0026gt;, \u0026#39;transfer_future\u0026#39;: \u0026lt;s3transfer.futures.TransferFuture object at 0x7f823d24e220\u0026gt;} 2021-04-28 23:27:33,022 - ThreadPoolExecutor-1_0 - s3transfer.futures - DEBUG - Submitting task PutObjectTask(transfer_id=0, {\u0026#39;bucket\u0026#39;: \u0026#39;aws-cli-2-2-0-test-XXXXXXXXXXXX\u0026#39;, \u0026#39;key\u0026#39;: \u0026#39;sample.txt\u0026#39;, \u0026#39;extra_args\u0026#39;: {\u0026#39;ContentType\u0026#39;: \u0026#39;text/plain\u0026#39;}}) to executor \u0026lt;s3transfer.futures.BoundedExecutor object at 0x7f823d239790\u0026gt; for transfer request: 0. 2021-04-28 23:27:33,022 - ThreadPoolExecutor-1_0 - s3transfer.utils - DEBUG - Acquiring 0 2021-04-28 23:27:33,022 - ThreadPoolExecutor-0_0 - s3transfer.tasks - DEBUG - PutObjectTask(transfer_id=0, {\u0026#39;bucket\u0026#39;: \u0026#39;aws-cli-2-2-0-test-XXXXXXXXXXXX\u0026#39;, \u0026#39;key\u0026#39;: \u0026#39;sample.txt\u0026#39;, \u0026#39;extra_args\u0026#39;: {\u0026#39;ContentType\u0026#39;: \u0026#39;text/plain\u0026#39;}}) about to wait for the following futures [] 2021-04-28 23:27:33,022 - ThreadPoolExecutor-0_0 - s3transfer.tasks - DEBUG - PutObjectTask(transfer_id=0, {\u0026#39;bucket\u0026#39;: \u0026#39;aws-cli-2-2-0-test-XXXXXXXXXXXX\u0026#39;, \u0026#39;key\u0026#39;: \u0026#39;sample.txt\u0026#39;, \u0026#39;extra_args\u0026#39;: {\u0026#39;ContentType\u0026#39;: \u0026#39;text/plain\u0026#39;}}) done waiting for dependent futures 2021-04-28 23:27:33,023 - ThreadPoolExecutor-1_0 - s3transfer.utils - DEBUG - Releasing acquire 0/None 2021-04-28 23:27:33,023 - ThreadPoolExecutor-0_0 - s3transfer.tasks - DEBUG - Executing task PutObjectTask(transfer_id=0, {\u0026#39;bucket\u0026#39;: \u0026#39;aws-cli-2-2-0-test-XXXXXXXXXXXX\u0026#39;, \u0026#39;key\u0026#39;: \u0026#39;sample.txt\u0026#39;, \u0026#39;extra_args\u0026#39;: {\u0026#39;ContentType\u0026#39;: \u0026#39;text/plain\u0026#39;}}) with kwargs {\u0026#39;client\u0026#39;: \u0026lt;botocore.client.S3 object at 0x7f823d1fb6d0\u0026gt;, \u0026#39;fileobj\u0026#39;: \u0026lt;s3transfer.utils.ReadFileChunk object at 0x7f823d24ea30\u0026gt;, \u0026#39;bucket\u0026#39;: \u0026#39;aws-cli-2-2-0-test-XXXXXXXXXXXX\u0026#39;, \u0026#39;key\u0026#39;: \u0026#39;sample.txt\u0026#39;, \u0026#39;extra_args\u0026#39;: {\u0026#39;ContentType\u0026#39;: \u0026#39;text/plain\u0026#39;}} 2021-04-28 23:27:33,024 - ThreadPoolExecutor-0_0 - botocore.endpoint - DEBUG - Making request for OperationModel(name=PutObject) with params: {\u0026#39;url_path\u0026#39;: \u0026#39;/aws-cli-2-2-0-test-XXXXXXXXXXXX/sample.txt\u0026#39;, \u0026#39;query_string\u0026#39;: {}, \u0026#39;method\u0026#39;: \u0026#39;PUT\u0026#39;, \u0026#39;headers\u0026#39;: {\u0026#39;Content-Type\u0026#39;: \u0026#39;text/plain\u0026#39;, \u0026#39;User-Agent\u0026#39;: \u0026#39;aws-cli/2.2.0 Python/3.8.8 Darwin/20.4.0 exe/x86_64 prompt/off command/s3.cp\u0026#39;, \u0026#39;Content-MD5\u0026#39;: \u0026#39;1B2M2Y8AsgTpgAmY7PhCfg==\u0026#39;, \u0026#39;Expect\u0026#39;: \u0026#39;100-continue\u0026#39;}, \u0026#39;body\u0026#39;: \u0026lt;s3transfer.utils.ReadFileChunk object at 0x7f823d24ea30\u0026gt;, \u0026#39;url\u0026#39;: \u0026#39;https://s3.ap-northeast-1.amazonaws.com/aws-cli-2-2-0-test-XXXXXXXXXXXX/sample.txt\u0026#39;, \u0026#39;context\u0026#39;: {\u0026#39;client_region\u0026#39;: \u0026#39;ap-northeast-1\u0026#39;, \u0026#39;client_config\u0026#39;: \u0026lt;botocore.config.Config object at 0x7f823d1fb7c0\u0026gt;, \u0026#39;has_streaming_input\u0026#39;: True, \u0026#39;auth_type\u0026#39;: None, \u0026#39;signing\u0026#39;: {\u0026#39;bucket\u0026#39;: \u0026#39;aws-cli-2-2-0-test-XXXXXXXXXXXX\u0026#39;}}} 2021-04-28 23:27:33,025 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event request-created.s3.PutObject: calling handler \u0026lt;function signal_not_transferring at 0x7f823c455040\u0026gt; 2021-04-28 23:27:33,027 - ThreadPoolExecutor-0_0 - botocore.hooks - DEBUG - Event request-created.s3.PutObject: calling handler \u0026lt;function signal_transferring at 0x7f823c0360d0\u0026gt; 2021-04-28 23:27:33,180 - ThreadPoolExecutor-0_0 - s3transfer.utils - DEBUG - Releasing acquire 0/None CRT ã®æ–‡å­—ã‚‚ãªãã€æ™®é€šã«å®Ÿè¡Œã•ã‚Œã¦ã‚‹æ„ŸãŒã‚ã‚Šã¾ã™ã€‚\ncrt ã§å®Ÿè¡Œ ç¶šã„ã¦ã€ preferred_transfer_client ã« crt ã‚’æŒ‡å®šã—ã¦å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚ config ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã€‚\n[default] region=ap-northeast-1 output=json s3 = preferred_transfer_client=crt ã“ã‚Œã§å®Ÿè¡Œã—ã¦ã€å…ˆã»ã©ã¨åŒã˜ããƒ‡ãƒãƒƒã‚°ã®å‡ºåŠ›ã‚’ transfer ã§ grep ã—ãŸçµæœã‚’è²¼ã‚Šã¾ã™ã€‚\n2021-04-28 23:33:09,262 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.force-glacier-transfer: calling handler \u0026lt;awscli.paramfile.URIArgumentHandler object at 0x7fb2aba1a6a0\u0026gt; 2021-04-28 23:33:09,360 - MainThread - awscli.customizations.s3.subscribers - DEBUG - Not providing transfer size. Future: \u0026lt;s3transfer.crt.CRTTransferFuture object at 0x7fb2ac2a3730\u0026gt; does not offerthe capability to notify the size of a transfer 2021-04-28 23:33:09,365 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.PutObject: calling handler \u0026lt;bound method BotocoreCRTRequestSerializer._capture_http_request of \u0026lt;s3transfer.crt.BotocoreCRTRequestSerializer object at 0x7fb2ac23b4c0\u0026gt;\u0026gt; 2021-04-28 23:33:09,366 - MainThread - botocore.hooks - DEBUG - Event before-send.s3.PutObject: calling handler \u0026lt;bound method BotocoreCRTRequestSerializer._make_fake_http_response of \u0026lt;s3transfer.crt.BotocoreCRTRequestSerializer object at 0x7fb2ac23b4c0\u0026gt;\u0026gt; 2021-04-28 23:33:09,367 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.PutObject: calling handler \u0026lt;bound method BotocoreCRTRequestSerializer._change_response_to_serialized_http_request of \u0026lt;s3transfer.crt.BotocoreCRTRequestSerializer object at 0x7fb2ac23b4c0\u0026gt;\u0026gt; CRT ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹æ°—é…ãŒã‚ã‚Šã¾ã™ã€‚\nã¨ã„ã†ã“ã¨ã§ã€ AWS Common Runtimeï¼ˆCRTï¼‰ã‚’ä½¿ç”¨ã—ã¦S3è»¢é€ã‚’å®Ÿè¡Œã™ã‚‹å®Ÿé¨“çš„ãªã‚µãƒãƒ¼ãƒˆ ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã€å®Ÿéš›ã«å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nãã‚‚ãã‚‚ AWS Common Runtime (CRT) ã¨ã¯ å‰é …ã¾ã§ã®å†…å®¹ãŒ AWS CLI v2.2.0 ã§ã®å¤‰æ›´ç‚¹ã¨ã„ã†ã“ã¨ã¿ãŸã„ã§ã™ãŒã€ãã‚‚ãã‚‚ CRT ã£ã¦ä½•ï¼Ÿ ã¨ãªã£ãŸã®ã§èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚\nAWS Common Runtime (CRT) ã¯ã€ C è¨€èªã§æ›¸ã‹ã‚ŒãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€ Go ã‚’é™¤ãå„è¨€èªã® SDK ã®ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦æ¡ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒ©ã‚¤ãƒ–ãƒ©ãƒªè‡ªä½“ã¯ 9 å€‹ã®ç‹¬ç«‹ã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§æ§‹æˆã•ã‚Œã¦ãŠã‚Šã€å†…å®¹ (å½¹å‰²) ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\nawslabs/aws-c-common: åŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿æ§‹é€  awslabs/aws-c-io: TCP, UDP, SSL/TLS awslabs/aws-c-mqtt: MQTT awslabs/aws-c-http: HTTP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ awslabs/aws-c-cal: æš—å·åŒ– awslabs/aws-c-auth: AWS ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰èªè¨¼ awslabs/aws-c-compression: åœ§ç¸®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  awslabs/aws-c-event-stream: ã‚¤ãƒ™ãƒ³ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç† awslabs/aws-checksums: CRC32c/CRC32 ã«ã‚ˆã‚‹æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ è©³ç´°ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã€‚\nAWS Common Runtime (CRT) libraries - AWS SDKs and Tools AWS CLI ã¯ Python ã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã®ã§ SDK for Python (boto) ã‚’ä½¿ã£ã¦ãŠã‚Šã€ãã®ä¸­ã§ aws-crt-python ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚\ns3transfer/crt.py at develop Â· boto/s3transfer awslabs/aws-crt-python: Python bindings for the AWS Common Runtime CHANGELOG ã«ã‚‚æ›¸ã‹ã‚Œã¦ã„ã¾ã—ãŸãŒã€ CRT ã‚’ä½¿ç”¨ã—ã¦ S3 è»¢é€ã‚’è¡Œã†ã“ã¨ã§ã€ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã®å‘ä¸ŠãŒæœŸå¾…ã§ãã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚\n\u0026hellip; ã“ã®ã‚ãŸã‚Šã¯æ·±è¿½ã„ã™ã‚‹ã¨ã‚­ãƒªãŒãªã•ãã†ãªã®ã§ã€ã–ã£ãã‚Šã¨ã“ã®è¾ºã¾ã§ã«ã—ã¦ãŠãã¾ã™ã€‚\nã¾ã¨ã‚ AWS CLI v2 ã®ãƒã‚¤ãƒŠãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä¸ŠãŒã£ãŸã®ã§ã€å¤‰æ›´ç‚¹ã«ã¤ã„ã¦èª¿ã¹ã¦ã¿ãŸè©±ã§ã—ãŸã€‚ã¤ã„ã§ã« AWS Common Runtime (CRT) ã«ã¤ã„ã¦ã‚‚å°‘ã—ã ã‘èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚\nv1 ã¯æ–°æ©Ÿèƒ½ã¸ã®å¯¾å¿œãŒæ—©ã„ã§ã™ãŒã€ v2 ã¯ã“ã†ã„ã£ãŸå®Ÿé¨“çš„ãªã‚µãƒãƒ¼ãƒˆãŒè¿½åŠ ã•ã‚Œã¦ã„ãã¨ã„ã†ç‚¹ã§ v1 ã¨å·®åˆ¥åŒ–ã—ã¦ã‚‹æ„Ÿã˜ãªã‚“ã§ã—ã‚‡ã†ã‹ã€‚\nã¨ã‚Šã‚ãˆãšã€å¤‰æ›´ç‚¹ã®å†…å®¹ãŒæŠŠæ¡ã§ããŸã®ã§ã‚ˆã—ã¨ã—ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-changes-in-aws-cli-v2.2.0/",
    "title": "AWS CLI v2.2.0 ã®å¤‰æ›´ç‚¹ã«ã¤ã„ã¦èª¿ã¹ã¦ã¿ãŸ"
  },
  {
    "contents": "AWS CLI ã«ã¯ä»»æ„ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚³ãƒãƒ³ãƒ‰ã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ã“ã¨ã‚’æœ€è¿‘çŸ¥ã£ãŸã®ã§ã€è©¦ã—ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ AWS CLI ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ è¨­å®šæ–¹æ³• ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚³ãƒãƒ³ãƒ‰ã§å¼•æ•°ã‚’å—ã‘å–ã‚ŠãŸã„å ´åˆ ã„ã‚ã„ã‚è¨­å®šã—ã¦ã¿ãŸ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã‚’å–å¾—ã™ã‚‹ å®Ÿè¡Œãƒ¦ãƒ¼ã‚¶ãƒ¼ (ãƒ­ãƒ¼ãƒ«) ã® ARN ã‚’å–å¾—ã™ã‚‹ ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚’æŒ‡å®šã—ã¦ Lambda é–¢æ•°ä¸€è¦§ã‚’å–å¾—ã™ã‚‹ ECR ã«ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ ã¾ã¨ã‚ AWS CLI ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ AWS CLI ã«ã¯ã€ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰ã‚„é•·ã„ã‚³ãƒãƒ³ãƒ‰ã«å¯¾ã—ã¦ã‚ã‚‰ã‹ã˜ã‚ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã“ã®æ©Ÿèƒ½è‡ªä½“ã¯ã€ v1 ã§ã‚ã‚Œã° 1.11.24 ä»¥é™ã€ v2 ã§ã‚ã‚Œã° 2.0.0 ä»¥é™ã§åˆ©ç”¨å¯èƒ½ã¨ã„ã†ã“ã¨ã§ã€ã ã„ã¶å‰ã‹ã‚‰ä½¿ãˆã‚‹æ©Ÿèƒ½ã ã£ãŸã‚ˆã†ã§ã™ã€‚\nfeature:alias: Add ability to alias commands in the CLI aws-cli/CHANGELOG.rst at develop | 1.11.24 Â· aws/aws-cli è¨­å®šæ–¹æ³• è¨­å®šæ–¹æ³•ã¯è‡³ã£ã¦ç°¡å˜ã§ã€ ~/.aws/cli ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã€ãã“ã« alias ã¨ã„ã†åå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ãã ã‘ã§ã™ã€‚\nalias ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’è¨˜è¿°ã—ã¾ã™ã€‚\n[toplevel] whoami = sts get-caller-identity ä¸Šè¨˜ã®è¨­å®šã§ã¯ã€ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ãŒç­‰ä¾¡ã¨ãªã‚Šã¾ã™ã€‚\naws sts get-caller-identity aws whoami ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚³ãƒãƒ³ãƒ‰ã§å¼•æ•°ã‚’å—ã‘å–ã‚ŠãŸã„å ´åˆ è¨­å®šã—ãŸã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚³ãƒãƒ³ãƒ‰ã§å¼•æ•°ã‚’å—ã‘å–ã£ã¦ä½¿ã„ãŸã„å ´åˆã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚\ncreate-bucket = !f() { aws s3api create-bucket \\ --bucket \u0026#34;${1}\u0026#34; \\ --create-bucket-configuration \u0026#34;LocationConstraint=${2}\u0026#34; \\ --region \u0026#34;${2}\u0026#34; }; f ä¸Šè¨˜ã®ä¾‹ã§ã¯ç¬¬ä¸€å¼•æ•°ã«ãƒã‚±ãƒƒãƒˆåã€ç¬¬äºŒå¼•æ•°ã«å¯¾è±¡ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§æ–°ãŸã« S3 ãƒã‚±ãƒƒãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\n$ aws create-bucket mybucket ap-northeast-1 { \u0026#34;Location\u0026#34;: \u0026#34;http://mybucket.s3.amazonaws.com/\u0026#34; } ã„ã‚ã„ã‚è¨­å®šã—ã¦ã¿ãŸ è¨­å®šæ–¹æ³•ãŒã‚ã‹ã£ãŸã®ã§ã€æ™®æ®µã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰ã«ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’è¨­å®šã—ã¦ã¿ã¾ã—ãŸã€‚\nAWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã‚’å–å¾—ã™ã‚‹ id = sts get-caller-identity \\ --query \u0026#39;Account\u0026#39; \\ --output text å®Ÿè¡Œãƒ¦ãƒ¼ã‚¶ãƒ¼ (ãƒ­ãƒ¼ãƒ«) ã® ARN ã‚’å–å¾—ã™ã‚‹ myarn = sts get-caller-identity \\ --query \u0026#39;Arn\u0026#39; \\ --output text ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚’æŒ‡å®šã—ã¦ Lambda é–¢æ•°ä¸€è¦§ã‚’å–å¾—ã™ã‚‹ # 1st parameter: \u0026lt;runtime\u0026gt; lambda-fn-runtime = !f() { aws lambda list-functions \\ --query \u0026#34;Functions[?contains(to_string(Runtime),\\`${1}\\`)]\u0026#34; }; f ECR ã«ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ # 1st parameter: \u0026lt;region\u0026gt; ecr-login = !f() { aws ecr get-login-password \\ --region \u0026#34;${1}\u0026#34; \\ | docker login \\ --username AWS \\ --password-stdin $(aws id).dkr.ecr.${1}.amazonaws.com }; f ã¾ã¨ã‚ AWS CLI ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’è©¦ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nAWS Lab ã®ãƒªãƒã‚¸ãƒˆãƒªã«ã¯æ§˜ã€…ãªã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã™ã‚‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚³ãƒãƒ³ãƒ‰ãŒè¨˜è¿°ã•ã‚ŒãŸ alias ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ãŒã€æœ€çµ‚æ›´æ–°ãŒ 3 å¹´å‰ã¨ã‹ãªã®ã§è‡ªåˆ†ã§ä½œã£ã¦ã„ãã®ãŒè‰¯ã•ãã†ã§ã™ã€‚\nawslabs/awscli-aliases: Repository for AWS CLI aliases. ä»Šå›ã®ãƒ–ãƒ­ã‚°ã§ç´¹ä»‹ã—ãŸã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¯ä¸‹è¨˜ã®ãƒªãƒã‚¸ãƒˆãƒªã«ãŠã„ã¦ã„ã¾ã™ã€‚\nmichimani/awscli-aliases: Collection of my alias commands for the AWS CLI. ",
    "permalink": "https://michimani.net/post/aws-how-to-use-aws-cli-alias/",
    "title": "AWS CLI ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ã¿ã‚‹"
  },
  {
    "contents": "CloudTrail ã«è¨˜éŒ²ã•ã‚ŒãŸè¨¼è·¡ã‹ã‚‰ IAM ãƒãƒªã‚·ãƒ¼ã‚’ç”Ÿæˆã™ã‚‹æ©Ÿèƒ½ãŒ AWS IAM Access Analyzer ã«è¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ä»Šå›ã¯ãã®æ©Ÿèƒ½ã‚’ AWS CLI ã‹ã‚‰ä½¿ã£ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ æ–°æ©Ÿèƒ½ã®æ¦‚è¦ AWS CLI ã‹ã‚‰ä½¿ã£ã¦ã¿ã‚‹ å¯¾å¿œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã®è©³ç´° ã‚„ã£ã¦ã¿ã‚‹ å¯¾è±¡ã¨ãªã‚‹ CloudTrail ã®è¨¼è·¡ã® ARN IAM ãƒãƒªã‚·ãƒ¼ç”Ÿæˆç”¨ã® IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹ cloud-trail-details ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç”¨ã® JSON ã‚’ä½œæˆ start-generating-policy ã‚’å®Ÿè¡Œ ç”Ÿæˆã•ã‚ŒãŸ IAM ãƒãƒªã‚·ãƒ¼ã‚’ç¢ºèªã™ã‚‹ ã¾ã¨ã‚ æ–°æ©Ÿèƒ½ã®æ¦‚è¦ AWS IAM Access Analyzer ã®æ©Ÿèƒ½ã¨ã—ã¦ã€CLoudTrail ã«è¨˜éŒ²ã•ã‚ŒãŸè¨¼è·¡ã‹ã‚‰ IAM ãƒãƒªã‚·ãƒ¼ã‚’ç”Ÿæˆã™ã‚‹ã¨ã„ã†æ©Ÿèƒ½ãŒç™ºè¡¨ã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã¯ã¤ã¾ã‚Šã€å®Ÿéš›ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«åŸºã¥ã„ã¦æœ€ä½é™å¿…è¦ãªæ¨©é™ã‚’ä»˜ä¸ã—ãŸãƒãƒªã‚·ãƒ¼ã‚’ç”Ÿæˆã§ãã‚‹1ã¨ã„ã†æ©Ÿèƒ½ã«ãªã‚Šã¾ã™ã€‚\nIAM Access Analyzer makes it easier to implement least privilege permissions by generating IAM policies based on access activity IAM Access Analyzer makes it easier to implement least privilege permissions by generating IAM policies based on access activity | AWS Security Blog AWS CLI ã‹ã‚‰ä½¿ã£ã¦ã¿ã‚‹ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ã®æ“ä½œã«ã¤ã„ã¦ã¯ã€ä¸Šè¨˜ã® AWS ãƒ–ãƒ­ã‚°ã‚„ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã•ã‚“ã®ãƒ–ãƒ­ã‚°ã§æ—¢ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã“ã§ã¯ AWS CLI ã‹ã‚‰ãã®æ©Ÿèƒ½ã‚’ä½¿ã£ã¦ã¿ã¾ã™ã€‚\n[UPDATE] IAMãƒ¦ãƒ¼ã‚¶ãƒ¼/IAMãƒ­ãƒ¼ãƒ«ã®å®Ÿéš›ã®æ“ä½œå±¥æ­´ã‹ã‚‰IAMãƒãƒªã‚·ãƒ¼ãŒç”Ÿæˆå¯èƒ½ã«ãªã‚Šã¾ã—ãŸ ! | DevelopersIO å¯¾å¿œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ ä»Šå›ã®æ©Ÿèƒ½ã‚’ä½¿ã†ã«ã¯ã€ accessanalyzer ã‚³ãƒãƒ³ãƒ‰ã® start-policy-generation ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nä¾‹ã®ã”ã¨ãã€ã“ã®è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã‚‹æ™‚ç‚¹ã§ã¯ v1 ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚ã‚‹ 1.19.47 ã§ã®ã¿å¯¾å¿œã—ã¦ãŠã‚Šã€ v2 ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚ã‚‹ 2.1.35 ã§ã¯ä½¿ãˆã¾ã›ã‚“ã€‚\nã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã®è©³ç´° accessanalyzer start-policy-generation ã®ãƒ˜ãƒ«ãƒ—ã§ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™ã€‚\n$ aws accessanalyzer start-policy-generation help ... SYNOPSIS start-policy-generation [--client-token \u0026lt;value\u0026gt;] [--cloud-trail-details \u0026lt;value\u0026gt;] --policy-generation-details \u0026lt;value\u0026gt; [--cli-input-json \u0026lt;value\u0026gt;] [--generate-cli-skeleton \u0026lt;value\u0026gt;] ... ãµãƒ¼ã‚“ã€ãªã‚‹ã»ã©ã€‚ã¨ã„ã†ã“ã¨ã§ --generate-cli-skeleton ã§è©³ç´°ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws accessanalyzer start-policy-generation --generate-cli-skeleton { \u0026#34;clientToken\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;cloudTrailDetails\u0026#34;: { \u0026#34;accessRole\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;endTime\u0026#34;: \u0026#34;1970-01-01T00:00:00\u0026#34;, \u0026#34;startTime\u0026#34;: \u0026#34;1970-01-01T00:00:00\u0026#34;, \u0026#34;trails\u0026#34;: [ { \u0026#34;allRegions\u0026#34;: true, \u0026#34;cloudTrailArn\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;regions\u0026#34;: [ \u0026#34;\u0026#34; ] } ] }, \u0026#34;policyGenerationDetails\u0026#34;: { \u0026#34;principalArn\u0026#34;: \u0026#34;\u0026#34; } } å‰²ã¨ã‚·ãƒ³ãƒ—ãƒ«ã§ã™ã­ã€‚\nã¡ãªã¿ã«ã€ä»Šå›ã®æ©Ÿèƒ½ã«é–¢é€£ã—ã¦æ–°ãŸã«è¿½åŠ ã•ã‚ŒãŸã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã¯ã€ start-policy-generation ã‚’å«ã‚ã¦ä¸‹è¨˜ã® 4 ã¤ã§ã™ã€‚\ncancel-policy-generation get-generated-policy list-policy-generations start-policy-generation IAM ãƒãƒªã‚·ãƒ¼ã®ç”Ÿæˆã«ã¯å°‘ã—æ™‚é–“ãŒã‹ã‹ã‚‹ã‚ˆã†ãªã®ã§ã€ç”Ÿæˆã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ãŸã‚Šã€ç”Ÿæˆä¸­ã®ä¸€è¦§ã‚’å–å¾—ã—ãŸã‚Šã§ãã‚‹ã‚³ãƒãƒ³ãƒ‰ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã‚„ã£ã¦ã¿ã‚‹ ã§ã¯ã€æ—©é€Ÿ start-policy-generation ã§ IAM ãƒãƒªã‚·ãƒ¼ã‚’ç”Ÿæˆã—ã¦ã¿ã¾ã™ã€‚\nå¿…é ˆã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ --policy-generation-details ã®ã¿ãªã®ã§ã€ã¾ãšã¯ã“ã‚Œã®ã¿æŒ‡å®šã—ã¦å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n--policy-generation-details ã§æŒ‡å®šã™ã‚‹ã®ã¯ principalArn ã§ã™ã€‚ã“ã® ARN ã¨ã¯ã€ç”Ÿæˆã™ã‚‹ IAM ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã™ã‚‹äºˆå®šã® IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ ã¾ãŸã¯ IAM ãƒ­ãƒ¼ãƒ«ã® ARN ã«ãªã‚Šã¾ã™ã€‚ä»Šå›ã¯ AWS CLI ã‚’å®Ÿè¡Œã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ (ãƒ­ãƒ¼ãƒ«) ã® ARN ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã«ã—ã¾ã™ãŒã€ãã® ARN ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ã¯ sts get-caller-identity ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\n$ PRINCIPAL_ARN=$( \\ aws sts get-caller-identity \\ --query \u0026#34;Arn\u0026#34; \\ --output text ) \u0026amp;\u0026amp; echo \u0026#34;${PRINCIPAL_ARN}\u0026#34; arn:aws:iam::111111111111:user/hogehoge ã“ã®å€¤ã‚’ä½¿ã£ã¦ã€æ¬¡ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã¨ã—ã¦ jobID ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã®ã§ã€å¤‰æ•°ã§å—ã‘ã¾ã™ã€‚\n$ JOB_ID=$( \\ aws accessanalyzer start-policy-generation \\ --policy-generation-details principalArn=${PRINCIPAL_ARN} \\ --query \u0026#34;jobId\u0026#34; \\ --output text \\ ) \u0026amp;\u0026amp; echo \u0026#34;${JOB_ID}\u0026#34; An error occurred (ValidationException) when calling the StartPolicyGeneration operation: Missing cloudTrailDetails ãã‚“ãªæ°—ã¯ã—ã¦ã„ã¾ã—ãŸãŒã€ --cloud-trail-details ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ CloudTrail ã®æ¡ä»¶ã‚‚æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚\nCloudTrail ã®æ¡ä»¶ã¯ä¸‹è¨˜å½¢å¼ã® JSON ã§æŒ‡å®šã—ã¾ã™ã€‚\n{ \u0026#34;accessRole\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;endTime\u0026#34;: \u0026#34;1970-01-01T00:00:00\u0026#34;, \u0026#34;startTime\u0026#34;: \u0026#34;1970-01-01T00:00:00\u0026#34;, \u0026#34;trails\u0026#34;: [ { \u0026#34;allRegions\u0026#34;: true, \u0026#34;cloudTrailArn\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;regions\u0026#34;: [ \u0026#34;\u0026#34; ] } ] } accessRole : IAM Access Analyzer ã«ã‚ˆã£ã¦ IAM ãƒãƒªã‚·ãƒ¼ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã® IAM ãƒ­ãƒ¼ãƒ«ã® ARN ã§ã™ã€‚ endTime : CloudTrail ã§è§£æã™ã‚‹æœŸé–“ã®çµ‚äº†æ—¥æ™‚ã§ã™ã€‚çœç•¥ã—ãŸå ´åˆã¯ç¾åœ¨æ—¥æ™‚ãŒã‚»ãƒƒãƒˆã•ã‚Œã¾ã™ã€‚ startTime : CloudTrail ã§è§£æã™ã‚‹æœŸé–“ã®é–‹å§‹æ—¥æ™‚ã§ã™ã€‚ trails : å¯¾è±¡ã¨ã™ã‚‹ CloudTrail ã®è¨¼è·¡ã®ãƒªã‚¹ãƒˆã§ã™ã€‚ allRegions : ã™ã¹ã¦ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å¯¾è±¡ã«ã™ã‚‹ã‹ã©ã†ã‹ã§ã™ã€‚ cloudTrailArn : è§£æã™ã‚‹å¯¾è±¡ã¨ãªã‚‹ CLoudTrail ã®è¨¼è·¡ã® ARN ã§ã™ã€‚ regions : å¯¾è±¡ã¨ã™ã‚‹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒªã‚¹ãƒˆã§ã™ã€‚ ãã‚Œãã‚Œå¿…è¦ãªã‚‚ã®ã‚’æº–å‚™ã—ã¦ã„ãã¾ã™ã€‚\nå¯¾è±¡ã¨ãªã‚‹ CloudTrail ã®è¨¼è·¡ã® ARN ä»Šå›ã¯ä¸€ã¤ã®è¨¼è·¡ã‚’å¯¾è±¡ã¨ã—ã¦ã€ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚‚æ±äº¬ (ap-northeast-1) ã«çµã£ã¦ç”Ÿæˆã™ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚ãªã®ã§ã€å…ˆã«å¯¾è±¡ã®è¨¼è·¡ã® ARN ã‚’å–å¾—ã—ã¦ãŠãã¾ã™ã€‚\n$ TRAIL_ARN=$( \\ aws cloudtrail list-trails \\ --query \u0026#34;Trails[0].TrailARN\u0026#34; \\ --output text \\ ) \u0026amp;\u0026amp; echo \u0026#34;${TRAIL_ARN}\u0026#34; arn:aws:cloudtrail:ap-northeast-1:111111111111:trail/hogehoge-trail IAM ãƒãƒªã‚·ãƒ¼ç”Ÿæˆç”¨ã® IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹ accessRole ã«æŒ‡å®šã™ã‚‹ IAM ãƒãƒªã‚·ãƒ¼ç”Ÿæˆç”¨ã® IAM ãƒ­ãƒ¼ãƒ«ã¯æ–°ãŸã«ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã€ä½œæˆã—ã¾ã™ã€‚(ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰å®Ÿè¡Œã™ã‚‹å ´åˆã€åˆå›ã¯å‹æ‰‹ã«ä½œã£ã¦ãã‚Œã¾ã™)\nãã®éš›ã«ã€ CloudTrail ã®è¨¼è·¡ãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹ S3 ãƒã‚±ãƒƒãƒˆåãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€ã‚ã‚‰ã‹ã˜ã‚å–å¾—ã—ã¦ãŠãã¾ã™ã€‚\n$ TRAIL_BUCKET_NAME=$( \\ aws cloudtrail get-trail \\ --name \u0026#34;${TRAIL_ARN}\u0026#34; \\ --query \u0026#34;Trail.S3BucketName\u0026#34; \\ --output text \\ ) \u0026amp;\u0026amp; echo \u0026#34;${TRAIL_BUCKET_NAME}\u0026#34; hogehoge-trail-bucket-000000 S3 ãƒã‚±ãƒƒãƒˆåã‚’ç”¨ã„ã¦ã€ä¸‹è¨˜ã®ã‚ˆã†ãª IAM ãƒãƒªã‚·ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\n$ cat \u0026lt;\u0026lt; EOF \u0026gt; access-role-policy.json { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: \u0026#34;cloudtrail:GetTrail\u0026#34;, \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;iam:GenerateServiceLastAccessedDetails\u0026#34;, \u0026#34;iam:GetServiceLastAccessedDetails\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;s3:GetObject\u0026#34;, \u0026#34;s3:ListBucket\u0026#34;, \u0026#34;s3:GetBucketLocation\u0026#34; ], \u0026#34;Resource\u0026#34;: [ \u0026#34;arn:aws:s3:::${TRAIL_BUCKET_NAME}\u0026#34;, \u0026#34;arn:aws:s3:::${TRAIL_BUCKET_NAME}/*\u0026#34; ] } ] } EOF â€»å¯¾è±¡ã¨ãªã‚‹ CloudTrail ã®è¨¼è·¡ãŒ KMS æš—å·åŒ–ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€ä¸‹è¨˜ã®æ¨©é™ã‚‚å¿…è¦ã«ãªã‚Šã¾ã™ã€‚\n{ \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;kms:Decrypt\u0026#34; ], \u0026#34;Resource\u0026#34;: [ \u0026#34;arn:aws:kms:\u0026lt;region\u0026gt;:\u0026lt;account-id\u0026gt;:key/\u0026lt;key\u0026gt;\u0026#34; ], \u0026#34;Condition\u0026#34;: { \u0026#34;StringLike\u0026#34;: { \u0026#34;kms:ViaService\u0026#34;: \u0026#34;s3.*.amazonaws.com\u0026#34; } } } ç”Ÿæˆã—ãŸ JSON ã‚’ã‚‚ã¨ã« IAM ãƒãƒªã‚·ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚\n$ ACCESS_ROLE_POLICY_ARN=$( \\ aws iam create-policy \\ --policy-name \u0026#34;iam-access-analizer-generate-policy-role-policy\u0026#34; \\ --path \u0026#34;/sample/\u0026#34; \\ --policy-document file://access-role-policy.json \\ --query \u0026#34;Policy.Arn\u0026#34; \\ --output text \\ ) \u0026amp;\u0026amp; echo \u0026#34;${ACCESS_ROLE_POLICY_ARN}\u0026#34; arn:aws:iam::111111111111:policy/sample/iam-access-analizer-generate-policy-role-policy ç¶šã„ã¦ã€ã“ã® IAM ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ãã®éš›ã€ IAM Access Analyzer ã«å¯¾ã™ã‚‹ä¿¡é ¼ãƒãƒªã‚·ãƒ¼ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€ä¸‹è¨˜ã®ã‚ˆã†ãªä¿¡é ¼ãƒãƒªã‚·ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ (JSON) ã‚’ä½œæˆã—ã¦ãŠãã¾ã™ã€‚\n$ cat \u0026lt;\u0026lt;EOF \u0026gt; assume-role-policy-doc.json { \u0026#34;Version\u0026#34;: \u0026#34;2008-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;Service\u0026#34;: \u0026#34;access-analyzer.amazonaws.com\u0026#34; }, \u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34; } ] } EOF IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n$ ACCESS_ROLE_ARN=$( \\ aws iam create-role \\ --role-name iam-access-analizer-generate-policy-role \\ --assume-role-policy-document file://assume-role-policy-doc.json \\ --query \u0026#34;Role.Arn\u0026#34; \\ --output text \\ ) \u0026amp;\u0026amp; echo \u0026#34;${ACCESS_ROLE_ARN}\u0026#34; arn:aws:iam::111111111111:role/iam-access-analizer-generate-policy-role ä½œæˆã—ãŸ IAM ãƒ­ãƒ¼ãƒ«ã«ã€å…ˆã»ã©ä½œæˆã—ãŸ IAM ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã—ã¾ã™ã€‚\n$ aws iam attach-role-policy \\ --role-name iam-access-analizer-generate-policy-role \\ --policy-arn \u0026#34;${ACCESS_ROLE_POLICY_ARN}\u0026#34; cloud-trail-details ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç”¨ã® JSON ã‚’ä½œæˆ ã“ã“ã¾ã§ã§ã€ --cloud-trail-details ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã™ã‚‹ãŸã‚ã«å¿…è¦ãªæƒ…å ±ãŒæƒã„ã¾ã—ãŸã€‚å®Ÿéš›ã« start-policy-generation å®Ÿè¡Œæ™‚ã«æŒ‡å®šã™ã‚‹éš›ã«ã¯ JSON ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦æŒ‡å®šã™ã‚‹ã®ã§ã€ã“ã‚Œã¾ã§ã®æƒ…å ±ã‚’ JSON ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ç”Ÿæˆã—ã¾ã™ã€‚\nãªãŠã€è¨¼è·¡ã®è§£ææœŸé–“ã¯ 2021å¹´ã«å…¥ã£ã¦ã‹ã‚‰ç¾æ™‚ç‚¹ã¾ã§ ã¨ã—ã¾ã™ã€‚\n$ cat \u0026lt;\u0026lt; EOF \u0026gt; cloud-trail-details.json { \u0026#34;accessRole\u0026#34;: \u0026#34;${ACCESS_ROLE_ARN}\u0026#34;, \u0026#34;startTime\u0026#34;: \u0026#34;2021-01-01T00:00:00\u0026#34;, \u0026#34;trails\u0026#34;: [ { \u0026#34;allRegions\u0026#34;: false, \u0026#34;cloudTrailArn\u0026#34;: \u0026#34;${TRAIL_ARN}\u0026#34;, \u0026#34;regions\u0026#34;: [ \u0026#34;ap-northeast-1\u0026#34; ] } ] } EOF start-generating-policy ã‚’å®Ÿè¡Œ è«¸ã€…æº–å‚™ãŒæ•´ã£ãŸã®ã§ã‚ã‚‰ãŸã‚ã¦ start-generating-policy ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n$ JOB_ID=$( \\ aws accessanalyzer start-policy-generation \\ --policy-generation-details principalArn=${PRINCIPAL_ARN} \\ --cloud-trail-details file://cloud-trail-details.json \\ --query \u0026#34;jobId\u0026#34; \\ --output text \\ ) \u0026amp;\u0026amp; echo \u0026#34;${JOB_ID}\u0026#34; An error occurred (ServiceQuotaExceededException) when calling the StartPolicyGeneration operation: Policy Generation limit exceeded: policy generation CloudTrail time range ã¯ã„ã€å¤±æ•—ã—ã¾ã—ãŸã€‚\nåŸå› ã¨ã—ã¦ã¯ã€ è¨¼è·¡ã®è§£æã«æŒ‡å®šã§ãã‚‹æœŸé–“ã¯æœ€å¤§ã§ 90 æ—¥ ã ã‹ã‚‰ã§ã™ã­ã€‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã¿ã¾ã—ã‚‡ã†ã€‚\nSet up for policy template generation â€“ You specify a time period of up to 90 days for IAM Access Analyzer to analyze your historical AWS CloudTrail events.\nGenerate policies based on access activity - AWS Identity and Access Management ã¨ã„ã†ã“ã¨ãªã®ã§ã€ 2021/02 ã€œ 2021/03 ã® 2ãƒ¶æœˆé–“ã«çµã£ã¦è§£æã—ã¦ã¿ã¾ã™ã€‚\n$ cat \u0026lt;\u0026lt; EOF \u0026gt; cloud-trail-details.json { \u0026#34;accessRole\u0026#34;: \u0026#34;${ACCESS_ROLE_ARN}\u0026#34;, \u0026#34;endTime\u0026#34;: \u0026#34;2021-04-01T00:00:00\u0026#34;, \u0026#34;startTime\u0026#34;: \u0026#34;2021-02-01T00:00:00\u0026#34;, \u0026#34;trails\u0026#34;: [ { \u0026#34;allRegions\u0026#34;: false, \u0026#34;cloudTrailArn\u0026#34;: \u0026#34;${TRAIL_ARN}\u0026#34;, \u0026#34;regions\u0026#34;: [ \u0026#34;ap-northeast-1\u0026#34; ] } ] } EOF $ JOB_ID=$( \\ aws accessanalyzer start-policy-generation \\ --policy-generation-details principalArn=${PRINCIPAL_ARN} \\ --cloud-trail-details file://cloud-trail-details.json \\ --query \u0026#34;jobId\u0026#34; \\ --output text \\ ) \u0026amp;\u0026amp; echo \u0026#34;${JOB_ID}\u0026#34; f4fc04f6-d4b7-4155-a722-321a19885855 ç„¡äº‹ã«å®Ÿè¡Œã•ã‚Œã¾ã—ãŸã€‚\nget-generated-policy ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡ŒçŠ¶æ³ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws accessanalyzer get-generated-policy \\ --job-id \u0026#34;${JOB_ID}\u0026#34; { \u0026#34;generatedPolicyResult\u0026#34;: { \u0026#34;properties\u0026#34;: { \u0026#34;cloudTrailProperties\u0026#34;: { \u0026#34;endTime\u0026#34;: \u0026#34;2021-04-01T00:00:00Z\u0026#34;, \u0026#34;startTime\u0026#34;: \u0026#34;2021-02-01T00:00:00Z\u0026#34;, \u0026#34;trailProperties\u0026#34;: [ { \u0026#34;allRegions\u0026#34;: false, \u0026#34;cloudTrailArn\u0026#34;: \u0026#34;arn:aws:cloudtrail:ap-northeast-1:111111111111:trail/hogehoge-trail\u0026#34;, \u0026#34;regions\u0026#34;: [ \u0026#34;ap-northeast-1\u0026#34; ] } ] }, \u0026#34;principalArn\u0026#34;: \u0026#34;arn:aws:iam::111111111111:user/hogehoge\u0026#34; } }, \u0026#34;jobDetails\u0026#34;: { \u0026#34;jobId\u0026#34;: \u0026#34;f4fc04f6-d4b7-4155-a722-321a19885855\u0026#34;, \u0026#34;startedOn\u0026#34;: \u0026#34;2021-04-08T12:27:54Z\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;IN_PROGRESS\u0026#34; } } \u0026quot;status\u0026quot;: \u0026quot;IN_PROGRESS\u0026quot; ã«ãªã£ã¦ã¾ã™ã­ã€‚\nã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã ã‘ç¢ºèªã™ã‚‹ã«ã¯ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n$ aws accessanalyzer get-generated-policy \\ --job-id \u0026#34;${JOB_ID}\u0026#34; \\ --query \u0026#34;jobDetails.status\u0026#34; \\ --output text SUCCEEDED ç”Ÿæˆã•ã‚ŒãŸ IAM ãƒãƒªã‚·ãƒ¼ã‚’ç¢ºèªã™ã‚‹ ãƒãƒªã‚·ãƒ¼ç”Ÿæˆã‚¸ãƒ§ãƒ–ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ SUCCEEDED ã«ãªã£ãŸã‚‰ã€ get-generated-policy ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã®å‡ºåŠ›çµæœã«ç”Ÿæˆã•ã‚ŒãŸ IAM ãƒãƒªã‚·ãƒ¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚æ³¨æ„ã—ãŸã„ã®ã¯ã€ç”Ÿæˆã•ã‚ŒãŸ IAM ãƒãƒªã‚·ãƒ¼ã®æƒ…å ± (ARN ãªã©) ã§ã¯ãªãã€ã‚ãã¾ã§ã‚‚ JSON å½¢å¼ã®ãƒãƒªã‚·ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã„ã†ã“ã¨ã§ã™ã€‚ãªã®ã§ã€å‡ºåŠ›çµæœã‚’ JSON ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã—ã¾ã™ã€‚\n$ aws accessanalyzer get-generated-policy \\ --job-id \u0026#34;${JOB_ID}\u0026#34; \\ --query \u0026#34;generatedPolicyResult.generatedPolicies[0].policy\u0026#34; \\ --output text \\ | jq . \u0026gt; generated-policy.json \\ \u0026amp;\u0026amp; cat generated-policy.json { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;SupportedServiceSid0\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;ec2:AssociateRouteTable\u0026#34;, \u0026#34;ec2:AttachInternetGateway\u0026#34;, \u0026#34;ec2:AuthorizeSecurityGroupIngress\u0026#34;, \u0026#34;ec2:CreateInternetGateway\u0026#34;, \u0026#34;ec2:CreateRoute\u0026#34;, \u0026#34;ec2:CreateRouteTable\u0026#34;, \u0026#34;ec2:CreateSecurityGroup\u0026#34;, \u0026#34;ec2:CreateSubnet\u0026#34;, \u0026#34;ec2:CreateTags\u0026#34;, \u0026#34;ec2:CreateVpc\u0026#34;, \u0026#34;ec2:DeleteSubnet\u0026#34;, \u0026#34;ec2:DeleteVpc\u0026#34;, \u0026#34;ec2:DescribeAccountAttributes\u0026#34;, \u0026#34;ec2:DescribeAddresses\u0026#34;, \u0026#34;ec2:DescribeAvailabilityZones\u0026#34;, \u0026#34;ec2:DescribeCarrierGateways\u0026#34;, \u0026#34;ec2:DescribeCustomerGateways\u0026#34;, \u0026#34;ec2:DescribeDhcpOptions\u0026#34;, \u0026#34;ec2:DescribeEgressOnlyInternetGateways\u0026#34;, \u0026#34;ec2:DescribeFlowLogs\u0026#34;, \u0026#34;ec2:DescribeHosts\u0026#34;, \u0026#34;ec2:DescribeInstanceStatus\u0026#34;, \u0026#34;ec2:DescribeInstances\u0026#34;, \u0026#34;ec2:DescribeInternetGateways\u0026#34;, \u0026#34;ec2:DescribeKeyPairs\u0026#34;, \u0026#34;ec2:DescribeLaunchTemplates\u0026#34;, \u0026#34;ec2:DescribeManagedPrefixLists\u0026#34;, \u0026#34;ec2:DescribeNatGateways\u0026#34;, \u0026#34;ec2:DescribeNetworkAcls\u0026#34;, \u0026#34;ec2:DescribeNetworkInterfaces\u0026#34;, \u0026#34;ec2:DescribePlacementGroups\u0026#34;, \u0026#34;ec2:DescribeRegions\u0026#34;, \u0026#34;ec2:DescribeRouteTables\u0026#34;, \u0026#34;ec2:DescribeSecurityGroups\u0026#34;, \u0026#34;ec2:DescribeSnapshots\u0026#34;, \u0026#34;ec2:DescribeStaleSecurityGroups\u0026#34;, \u0026#34;ec2:DescribeSubnets\u0026#34;, \u0026#34;ec2:DescribeTags\u0026#34;, \u0026#34;ec2:DescribeVolumeAttribute\u0026#34;, \u0026#34;ec2:DescribeVolumeStatus\u0026#34;, \u0026#34;ec2:DescribeVolumes\u0026#34;, \u0026#34;ec2:DescribeVolumesModifications\u0026#34;, \u0026#34;ec2:DescribeVpcAttribute\u0026#34;, \u0026#34;ec2:DescribeVpcEndpointServiceConfigurations\u0026#34;, \u0026#34;ec2:DescribeVpcEndpoints\u0026#34;, \u0026#34;ec2:DescribeVpcPeeringConnections\u0026#34;, \u0026#34;ec2:DescribeVpcs\u0026#34;, \u0026#34;ec2:DescribeVpnConnections\u0026#34;, \u0026#34;ec2:DescribeVpnGateways\u0026#34;, \u0026#34;ec2:ModifySubnetAttribute\u0026#34;, \u0026#34;ec2:ModifyVpcAttribute\u0026#34;, \u0026#34;ecs:CreateCluster\u0026#34;, \u0026#34;ecs:DescribeClusters\u0026#34;, \u0026#34;ecs:DescribeServices\u0026#34;, \u0026#34;ecs:DescribeTaskDefinition\u0026#34;, \u0026#34;ecs:DescribeTasks\u0026#34;, \u0026#34;ecs:ListAccountSettings\u0026#34;, \u0026#34;ecs:ListClusters\u0026#34;, \u0026#34;ecs:ListContainerInstances\u0026#34;, \u0026#34;ecs:ListServices\u0026#34;, \u0026#34;ecs:ListTagsForResource\u0026#34;, \u0026#34;ecs:ListTaskDefinitionFamilies\u0026#34;, \u0026#34;ecs:ListTaskDefinitions\u0026#34;, \u0026#34;ecs:ListTasks\u0026#34;, \u0026#34;ecs:PutClusterCapacityProviders\u0026#34;, \u0026#34;ecs:RegisterTaskDefinition\u0026#34;, \u0026#34;ecs:RunTask\u0026#34;, \u0026#34;ecs:StopTask\u0026#34;, \u0026#34;ecs:TagResource\u0026#34;, \u0026#34;elasticloadbalancing:DescribeLoadBalancers\u0026#34;, \u0026#34;kms:CreateKey\u0026#34;, \u0026#34;kms:DescribeKey\u0026#34;, \u0026#34;kms:GenerateDataKey\u0026#34;, \u0026#34;kms:GetKeyPolicy\u0026#34;, \u0026#34;kms:ListAliases\u0026#34;, \u0026#34;kms:ListKeys\u0026#34;, \u0026#34;lambda:GetFunction\u0026#34;, \u0026#34;lambda:GetFunctionConfiguration\u0026#34;, \u0026#34;ram:GetResourceShareAssociations\u0026#34;, \u0026#34;resource-groups:ListGroups\u0026#34;, \u0026#34;s3:CreateBucket\u0026#34;, \u0026#34;s3:GetAccountPublicAccessBlock\u0026#34;, \u0026#34;s3:GetBucketAcl\u0026#34;, \u0026#34;s3:GetBucketLocation\u0026#34;, \u0026#34;s3:GetBucketPolicy\u0026#34;, \u0026#34;s3:GetBucketPolicyStatus\u0026#34;, \u0026#34;s3:GetBucketPublicAccessBlock\u0026#34;, \u0026#34;s3:GetBucketVersioning\u0026#34;, \u0026#34;s3:GetBucketWebsite\u0026#34;, \u0026#34;s3:ListAccessPoints\u0026#34;, \u0026#34;s3:ListAllMyBuckets\u0026#34;, \u0026#34;ssm:DeleteParameter\u0026#34;, \u0026#34;ssm:GetParameter\u0026#34;, \u0026#34;ssm:GetParametersByPath\u0026#34;, \u0026#34;ssm:PutParameter\u0026#34;, \u0026#34;sts:GetCallerIdentity\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; } ] } ã¡ã‚‡ã£ã¨ã—ãŸæ„Ÿå‹•ã‚’è¦šãˆã¾ã™ã­ã€‚\nã¡ãªã¿ã«ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰æ“ä½œã™ã‚‹å ´åˆã¯ç”Ÿæˆçµæœã‹ã‚‰ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç¢ºèªã—ã€ã‚¨ãƒ‡ã‚£ã‚¿ã§ç·¨é›†ã—ã€ IAM ãƒãƒªã‚·ãƒ¼ã®ç”Ÿæˆã€ IAM ãƒ­ãƒ¼ãƒ«ã«ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ã¨ã“ã‚ã¾ã§å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nAWS CLI ã§ãã“ã¾ã§ã‚„ã‚ã†ã¨ã™ã‚‹ã¨ã€ä¸Šè¨˜ã® JSON ã‚’å„ç¨®ã‚¨ãƒ‡ã‚£ã‚¿ã§ç·¨é›†ã— (å¿…è¦ã§ã‚ã‚Œã°) ã€ iam crate-policy ã§ IAM ãƒãƒªã‚·ãƒ¼ã‚’ç”Ÿæˆã—ã€ iam attach-policy ã§ IAM ãƒ­ãƒ¼ãƒ«ã«ã‚¢ã‚¿ãƒƒãƒã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®éƒ¨åˆ†ã«é–¢ã—ã¦ã¯æ–°ã—ã„è¦ç´ ãŒãªã„ã®ã§ã“ã“ã§ã¯çœç•¥ã—ã¾ã™ã€‚\nã¾ã¨ã‚ CloudTrail ã«è¨˜éŒ²ã•ã‚ŒãŸè¨¼è·¡ã‹ã‚‰ IAM ãƒãƒªã‚·ãƒ¼ã‚’ç”Ÿæˆã™ã‚‹æ©Ÿèƒ½ãŒ AWS IAM Access Analyzer ã«è¿½åŠ ã•ã‚ŒãŸã®ã§ AWS CLI ã‹ã‚‰ãã®æ©Ÿèƒ½ã‚’ä½¿ã£ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã“ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’è¦‹ãŸã¨ãã¯ IAM ãƒãƒªã‚·ãƒ¼ã¾ã§ç”Ÿæˆã—ã¦ãã‚Œã‚‹ã‚‚ã®ã ã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€å®Ÿéš›ã«ã¯ IAM ãƒãƒªã‚·ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç”Ÿæˆã¾ã§ã§ã—ãŸã€‚ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§æ“ä½œã™ã‚‹å ´åˆã¯ã€å®Ÿéš›ã« IAM ãƒãƒªã‚·ãƒ¼ã®ç”Ÿæˆã‹ã‚‰ IAM ãƒ­ãƒ¼ãƒ«ã¸ã®ã‚¢ã‚¿ãƒƒãƒã¾ã§é€£ç¶šã—ã¦æ“ä½œã§ãã¾ã™ãŒã€ AWS CLI ã§ã¯ãã‚Œãã‚Œå¿…è¦ãªã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦æ“ä½œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nå¿…è¦ãªæ¨©é™ã‚’åŸå‘³ã—ãŸ IAM ãƒãƒªã‚·ãƒ¼ã®ç”Ÿæˆã¯ã¨ã¦ã‚‚å¤§å¤‰ãªä½œæ¥­ãªã®ã§ã€å®Ÿéš›ã®æ“ä½œã®å‚¾å‘ã«åŸºã¥ã„ãŸ IAM ãƒãƒªã‚·ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç”Ÿæˆã—ã¦ãã‚Œã‚‹ã®ã¯ã‚ã‚ŠãŒãŸã„ã§ã™ã­ã€‚ãŸã ã—ã€ã“ã®è§£æçµæœã«ã‚ˆã‚‹æ¨©é™ã§ååˆ†ã‹ã¨ã„ã†ã¨ãã†ã§ã¯ãªã„ã®ã§ â€• ä¾‹ãˆã° 90 æ—¥ä»¥ä¸Šã®ã‚¹ãƒ‘ãƒ³ã§å®Ÿè¡Œã™ã‚‹ã‚ˆã†ãªå®šæœŸä½œæ¥­ã¸ã®æ¨©é™ãŒæ¬²ã—ã„å ´åˆ ãŠãã‚‰ãã“ã®è§£æã§ã¯æ‹¾ãˆãªã„ã®ã§ã€ç”Ÿæˆã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’é©å®œç·¨é›†ã—ã¦åˆ©ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šãã†ã§ã™ã€‚ã¨ã¯ã„ãˆã€ãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹ãƒãƒªã‚·ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç”Ÿæˆã—ã¦ãã‚Œã‚‹ã®ã¯ã„ã„ã§ã™ã­ã€‚\nç”Ÿæˆã•ã‚ŒãŸãƒãƒªã‚·ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å¤‰æ›´ã‚’åŠ ãˆãšã«ä½¿ç”¨ã™ã‚‹ã‚ˆã†ãªæƒ³å®šã§ã‚ã‚Œã°ã€ AWS CLI ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œã£ã¦è‰¯ã„æ„Ÿã˜ã«åŠ¹ç‡åŒ–ã§ããã†ã§ã™ã€‚\nå®Ÿéš›ã«ç”Ÿæˆã•ã‚Œã‚‹ã®ã¯ JSON å½¢å¼ã®ãƒãƒªã‚·ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã€ IAM ãƒãƒªã‚·ãƒ¼è‡ªä½“ãŒç”Ÿæˆã•ã‚Œã‚‹ã‚ã‘ã§ã¯ãªã„\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-get-started-generating-iam-policies-based-on-actual-activity/",
    "title": "CloudTrail ã®è¨¼è·¡ã‹ã‚‰ IAM ãƒãƒªã‚·ãƒ¼ã‚’ä½œæˆã™ã‚‹ IAM Access Analyzer ã®æ–°æ©Ÿèƒ½ã‚’ AWS CLI ã§è©¦ã™"
  },
  {
    "contents": "å…ˆæ—¥å…¬é–‹ã•ã‚ŒãŸ ECS Exec ã® Interactive ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰ã®ãƒ­ã‚°ã‚’ CloudWatch Logs ãŠã‚ˆã³ S3 ã«å‡ºåŠ›ã—ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ æ‰‹é † ã‚„ã£ã¦ã¿ã‚‹ ECS ã‚¿ã‚¹ã‚¯ã®ä½œæˆãƒ»èµ·å‹• ECS Exec ã§ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ CloudWatch Logs ã§ ECS Exec ã®ãƒ­ã‚°ã‚’ç¢ºèª ã¾ã¨ã‚ æ‰‹é † æ‰‹é †ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã® ECS ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚è€ƒã«ã—ã¦ã„ã¾ã™ã€‚\nUsing Amazon ECS Exec for debugging - Amazon Elastic Container Service ã‚„ã£ã¦ã¿ã‚‹ ä»Šå›ã¯ã€é©å½“ãª Web ã‚µãƒ¼ãƒãƒ¼ã‚’ ECS ã§å®Ÿè¡Œã—ã¦ã€ãã®ã‚¿ã‚¹ã‚¯ã«å¯¾ã—ã¦ ECS Exec ã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€ãã®ãƒ­ã‚°ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nECS ã‚¿ã‚¹ã‚¯ã®ä½œæˆãƒ»èµ·å‹• ã¾ãšã¯ã€ ECS Exec ã‚’å®Ÿè¡Œã™ã‚‹å¯¾è±¡ã¨ãªã‚‹ ECS ã‚¿ã‚¹ã‚¯ã‚’ä½œæˆãƒ»èµ·å‹•ã—ã¾ã™ã€‚æ‰‹é †ã«ã¤ã„ã¦ã¯ä»¥å‰ã«æ›¸ã„ãŸä¸‹è¨˜ã®è¨˜äº‹ã¨ã»ã¼åŒã˜ãªã®ã§ã€é‡è¤‡ã™ã‚‹éƒ¨åˆ†ã¯æŠ˜ã‚ŠãŸãŸã‚“ã§ã¾ã™ã€‚(VPCã€ã‚µãƒ–ãƒãƒƒãƒˆã¾ã‚ã‚Šã«ã¤ã„ã¦ã¯å‰å›ã®ã‚‚ã®ã‚’ä½¿ã„ã¾ã™)\nECS ã‚¿ã‚¹ã‚¯ã‚’ä½œã£ã¦å®Ÿè¡Œã—ã¦ CloudWatch ã§ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹ã¾ã§ã‚’ AWS CLI ã ã‘ã§ã‚„ã£ã¦ã¿ãŸ - michimani.net ãªãŠã€è¨˜äº‹åŸ·ç­†æ™‚ç‚¹ã§ã¯ ECS Exec ãŒ AWS CLI v2 ã«å¯¾å¿œã—ã¦ã„ãªã„ãŸã‚ã€ AWS CLI v1 1.19.30 ã‚’ä½¿ã„ã¾ã™ã€‚\n$ aws --version aws-cli/1.19.30 Python/3.8.5 Darwin/20.3.0 botocore/1.20.30 è¿½è¨˜ v2 ã«é–¢ã—ã¦ã‚‚ 2.1.31 ã§å¯¾å¿œã—ã¦ã„ã¾ã—ãŸã€‚\naws-cli/CHANGELOG.rst at 2.1.31 Â· aws/aws-cli 0. å¿…è¦ãªç’°å¢ƒå¤‰æ•°ã®è¨­å®š ã¾ãšã¯å¿…è¦ãªç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¾ã™ã€‚ $ APP_NAME=\u0026#34;ecs-exec-test\u0026#34; $ AWS_ACCOUNT_ID=$( \\ aws sts get-caller-identity \\ --query \u0026#39;Account\u0026#39; \\ --output text) 1. ECR ãƒªãƒã‚¸ãƒˆãƒªä½œæˆ ECR ã«ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã¾ã™ã€‚ $ ECR_REPO_URI=$( \\ aws ecr create-repository \\ --repository-name ${APP_NAME} \\ --region ap-northeast-1 \\ --query \u0026#34;repository.repositoryUri\u0026#34; \\ --output text) 2. Dockerfile ã‚’ä½œæˆ ECS ã‚¿ã‚¹ã‚¯ã¨ã—ã¦å®Ÿè¡Œã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã€ä¸‹è¨˜ã® Dockerfile ã§å®šç¾©ã—ã¾ã™ã€‚\nFROM ubuntu:20.10 RUN apt-get update \\ \u0026amp;\u0026amp; apt-get install nginx -y COPY index.html /var/www/html EXPOSE 80 CMD [\u0026#34;nginx\u0026#34;, \u0026#34;-g\u0026#34;, \u0026#34;daemon off;\u0026#34;] index.html ã¯ä¸‹è¨˜ã®å†…å®¹ã§ã™ã€‚\nHello ECS Exec! 3. ãƒ“ãƒ«ãƒ‰ã—ã¦ ECR ã« Push ãƒ“ãƒ«ãƒ‰ã—ã¦ ECR ã« Push ã—ã¾ã™ã€‚ # ãƒ“ãƒ«ãƒ‰ $ docker build -t ${APP_NAME} . # ã‚¿ã‚°ä»˜ã‘ $ docker tag ${APP_NAME}:latest ${AWS_ACCOUNT_ID}.dkr.ecr.ap-northeast-1.amazonaws.com/${APP_NAME}:latest # ECR ã«ãƒ­ã‚°ã‚¤ãƒ³ $ aws ecr get-login-password \\ --region ap-northeast-1 \\ | docker login \\ --username AWS \\ --password-stdin ${AWS_ACCOUNT_ID}.dkr.ecr.ap-northeast-1.amazonaws.com # push $ docker push ${AWS_ACCOUNT_ID}.dkr.ecr.ap-northeast-1.amazonaws.com/${APP_NAME}:latest 4. ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ä½œæˆ ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ä½œæˆæ™‚ã«ã€ ECS Exec ã§å®Ÿè¡Œã—ãŸãƒ­ã‚°ã‚’å‡ºåŠ›ã™ã‚‹ CloudWatch Log ã®ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã€åŠã³ S3 ãƒã‚±ãƒƒãƒˆã‚’æŒ‡å®šã—ã¾ã™ã€‚\n$ aws ecs create-cluster \\ --cluster-name ${APP_NAME}-cluster \\ --configuration executeCommandConfiguration=\u0026#34;{ \\ logging=OVERRIDE, \\ logConfiguration={ \\ cloudWatchLogGroupName=/dev/${APP_NAME}, \\ s3BucketName=${APP_NAME}-${AWS_ACCOUNT_ID}, \\ s3KeyPrefix=test \\ } \\ }\u0026#34; 5. ã‚¿ã‚¹ã‚¯å®Ÿè¡Œãƒ­ãƒ¼ãƒ«ä½œæˆ ã‚¿ã‚¹ã‚¯å®Ÿè¡Œãƒ­ãƒ¼ãƒ«ä½œæˆã—ã¾ã™ã€‚ # AssumeRole Policy Document ä½œæˆ $ cat \u0026lt;\u0026lt;EOF \u0026gt; assume-role-policy-doc-for-task-exec-role.json { \u0026#34;Version\u0026#34;: \u0026#34;2008-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;Service\u0026#34;: \u0026#34;ecs-tasks.amazonaws.com\u0026#34; }, \u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34; } ] } EOF # IAM Role ä½œæˆ $ TASK_EXEC_ROLE_ARN=$( \\ aws iam create-role \\ --role-name ${APP_NAME}-task-exec-role \\ --assume-role-policy-document file://assume-role-policy-doc-for-task-exec-role.json \\ --query \u0026#34;Role.Arn\u0026#34; \\ --output text) # ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ IAM Policy ã® ARN å–å¾— $ POLICY_ARN=$(\\ aws iam list-policies \\ --path-prefix \u0026#34;/service-role/\u0026#34; \\ --max-items 1000 \\ --query \u0026#34;Policies[?PolicyName == \\`AmazonECSTaskExecutionRolePolicy\\`].Arn\u0026#34; \\ --output text) # Role ã« Policy ã‚’ã‚¢ã‚¿ãƒƒãƒ $ aws iam attach-role-policy \\ --role-name ${APP_NAME}-task-exec-role \\ --policy-arn ${POLICY_ARN} 6. ã‚¿ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½œæˆ ã‚¿ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nä»Šå›ä½œæˆã™ã‚‹ ECS ã‚¿ã‚¹ã‚¯ã§ã¯ã€ ECS Exec ã‚’å®Ÿè¡Œ/ãã®ãƒ­ã‚°ã‚’å‡ºåŠ›ã™ã‚‹ãŸã‚ã« CloudWatch Logsã€ S3ã€ SSM ã¸ã®æ¨©é™ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚\n# AssumeRole Policy Document ä½œæˆ $ cat \u0026lt;\u0026lt;EOF \u0026gt; assume-role-policy-doc-for-task-role.json { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;Service\u0026#34;: \u0026#34;ecs-tasks.amazonaws.com\u0026#34; }, \u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34; } ] } EOF # IAM Role ä½œæˆ $ TASK_ROLE_ARN=$( \\ aws iam create-role \\ --role-name ${APP_NAME}-task-role \\ --assume-role-policy-document file://assume-role-policy-doc-for-task-role.json \\ --query \u0026#34;Role.Arn\u0026#34; \\ --output text ) \\ \u0026amp;\u0026amp; echo \u0026#34;${TASK_ROLE_ARN}\u0026#34; # ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ IAM Policy ã‚’ä½œæˆ $ cat \u0026lt;\u0026lt;EOF \u0026gt; policy-for-task-role.json { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;s3:GetBucketLocation\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;s3:GetEncryptionConfiguration\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:s3:::${APP_NAME}-${AWS_ACCOUNT_ID}\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;s3:PutObject\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:s3:::${APP_NAME}-${AWS_ACCOUNT_ID}/*\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;logs:DescribeLogGroups\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;logs:CreateLogStream\u0026#34;, \u0026#34;logs:DescribeLogStreams\u0026#34;, \u0026#34;logs:PutLogEvents\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:logs:ap-northeast-1:${AWS_ACCOUNT_ID}:log-group:/dev/${APP_NAME}:*\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;ssmmessages:CreateControlChannel\u0026#34;, \u0026#34;ssmmessages:CreateDataChannel\u0026#34;, \u0026#34;ssmmessages:OpenControlChannel\u0026#34;, \u0026#34;ssmmessages:OpenDataChannel\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; } ] } EOF # ã‚¿ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç”¨ã®ãƒãƒªã‚·ãƒ¼ä½œæˆ $ TASK_ROLE_POLICY_ARN=$( \\ aws iam create-policy \\ --policy-name \u0026#34;${APP_NAME}-task-role-policy\u0026#34; \\ --path \u0026#34;/sample/\u0026#34; \\ --policy-document file://policy-for-task-role.json \\ --query \u0026#34;Policy.Arn\u0026#34; \\ --output text) # ã‚¿ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆ $ aws iam attach-role-policy \\ --role-name ${APP_NAME}-task-role \\ --policy-arn ${TASK_ROLE_POLICY_ARN} 7. ã‚¿ã‚¹ã‚¯å®šç¾©ä½œæˆ ã‚¿ã‚¹ã‚¯å®šç¾©ã‚’ä½œæˆã—ã¾ã™ã€‚ $ cat \u0026lt;\u0026lt;EOF \u0026gt; task-definition.json { \u0026#34;family\u0026#34;: \u0026#34;${APP_NAME}\u0026#34;, \u0026#34;networkMode\u0026#34;: \u0026#34;awsvpc\u0026#34;, \u0026#34;containerDefinitions\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;${APP_NAME}-app\u0026#34;, \u0026#34;image\u0026#34;: \u0026#34;${ECR_REPO_URI}\u0026#34;, \u0026#34;logConfiguration\u0026#34;: { \u0026#34;logDriver\u0026#34;: \u0026#34;awslogs\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;awslogs-group\u0026#34;: \u0026#34;/dev/${APP_NAME}-task\u0026#34;, \u0026#34;awslogs-region\u0026#34;: \u0026#34;ap-northeast-1\u0026#34;, \u0026#34;awslogs-stream-prefix\u0026#34;: \u0026#34;dev\u0026#34; } } } ], \u0026#34;requiresCompatibilities\u0026#34;: [ \u0026#34;FARGATE\u0026#34; ], \u0026#34;taskRoleArn\u0026#34;: \u0026#34;${TASK_ROLE_ARN}\u0026#34;, \u0026#34;executionRoleArn\u0026#34;: \u0026#34;${TASK_EXEC_ROLE_ARN}\u0026#34;, \u0026#34;cpu\u0026#34;: \u0026#34;256\u0026#34;, \u0026#34;memory\u0026#34;: \u0026#34;512\u0026#34; } EOF # ã‚¿ã‚¹ã‚¯å®šç¾©ã‚’ä½œæˆ $ TASK_DEF_ARN=$( \\ aws ecs register-task-definition \\ --cli-input-json file://task-definition.json \\ --query \u0026#34;taskDefinition.taskDefinitionArn\u0026#34; \\ --output text) \\ \u0026amp;\u0026amp; echo \u0026#34;${TASK_DEF_ARN}\u0026#34; 8. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°ç”¨ã® ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ä½œæˆ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°ç”¨ã® ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ä½œæˆã—ã¾ã™ã€‚ $ aws logs create-log-group \\ --log-group-name /dev/${APP_NAME}-task 9. ExecuteCommand ãƒ­ã‚°ç”¨ã®ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã€ S3 ãƒã‚±ãƒƒãƒˆä½œæˆ ECS Exec ã§å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰ã®ãƒ­ã‚°ã‚’å‡ºåŠ›ã™ã‚‹ CloudWatch Logs ã®ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã€ S3 ãƒã‚±ãƒƒãƒˆä½œæˆã—ã¾ã™ã€‚\n$ aws s3 mb \u0026#34;s3://${APP_NAME}-${AWS_ACCOUNT_ID}\u0026#34; $ aws logs create-log-group \\ --log-group-name \u0026#34;/dev/${APP_NAME}\u0026#34; 10. ã‚¿ã‚¹ã‚¯å®Ÿè¡Œ ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ã“ã®ã¨ã --enable-execute-command ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¦ ecs run-task ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n$ TASK_ARN=$(\\ aws ecs run-task \\ --cluster ${APP_NAME}-cluster \\ --task-definition \u0026#34;${TASK_DEF_ARN}\u0026#34; \\ --network-configuration \u0026#34;awsvpcConfiguration={subnets=[${SUBNET_ID}],assignPublicIp=ENABLED}\u0026#34; \\ --launch-type FARGATE \\ --enable-execute-command \\ --query \u0026#34;tasks[0].taskArn\u0026#34; \\ --output text) å®Ÿè¡ŒçŠ¶æ³ç¢ºèª $ aws ecs describe-tasks \\ --tasks ${TASK_ARN} \\ --cluster ${APP_NAME}-cluster \\ --query \u0026#34;tasks[0].lastStatus\u0026#34; \\ --output text 11. ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç¢ºèª ã‚¿ã‚¹ã‚¯ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ RUNNING ã«ãªã£ãŸã‚‰ã€è‡ªå‹•çš„ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸ Public IP ã«å¯¾ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ç¢ºèªã—ã¾ã™ã€‚\nå‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ IP ã‚’å–å¾— ecs describe-tasks ã§å®Ÿè¡Œä¸­ã‚¿ã‚¹ã‚¯ã®è©³ç´°ã‚’å–å¾—ã—ã¾ã™ã€‚ãã®ä¸­ã«å«ã¾ã‚Œã‚‹ networkInterfaceId ã‚’ã‚‚ã¨ã«ã—ã¦ã€ ec2 describe-network-interfaces ã‚’ä½¿ã£ã¦ ENI ã®è©³ç´°ã‚’å–å¾—ã—ã€ãã®ä¸­ã«å«ã¾ã‚Œã‚‹ PublicIp ã‚’å–å¾—ã—ã¾ã™ã€‚\nENDPOINT=$(\\ aws ec2 describe-network-interfaces \\ --network-interface-ids $(\\ aws ecs describe-tasks \\ --tasks ${TASK_ARN} \\ --cluster ${APP_NAME}-cluster \\ --query \u0026#34;tasks[0].attachments[0].details[?name==\u0026#39;networkInterfaceId\u0026#39;].value\u0026#34; \\ --output text) \\ --query \u0026#34;NetworkInterfaces[0].PrivateIpAddresses[0].Association.PublicIp\u0026#34; \\ --output text) ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç¢ºèª $ http ${ENDPOINT} HTTP/1.1 200 OK Accept-Ranges: bytes Connection: keep-alive Content-Length: 14 Content-Type: text/html Date: Sun, 21 Mar 2021 06:28:56 GMT ETag: \u0026#34;6056e3af-e\u0026#34; Last-Modified: Sun, 21 Mar 2021 06:02:09 GMT Server: nginx/1.18.0 (Ubuntu) Hello ECS Exec! http ã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®è¨˜äº‹ã‚’ã”è¦§ãã ã•ã„ã€‚\nCLI ã§ http ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ãªã‚‰ HTTPie ãŒä¾¿åˆ© - michimani.net ECS Exec ã§ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ ã‚¿ã‚¹ã‚¯ãŒèµ·å‹•ã—ãŸã®ã§ã€ ECS Exec ã§ã‚³ãƒ³ãƒ†ãƒŠã«å¯¾ã—ã¦ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ aws ecs execute-command \\ --cluster \u0026#34;${APP_NAME}-cluster\u0026#34; \\ --task \u0026#34;${TASK_ARN}\u0026#34; \\ --command \u0026#34;/bin/bash\u0026#34; \\ --interactive The Session Manager plugin was installed successfully. Use the AWS CLI to start a session. Starting session with SessionId: ecs-execute-command-0e5f16ff1ee160a21 root@68e6de2197e642e7b106a5d205e05641-2282341209:/# cd /var/www/html/ root@68e6de2197e642e7b106a5d205e05641-2282341209:/var/www/html# ls index.html root@68e6de2197e642e7b106a5d205e05641-2282341209:/var/www/html# echo \u0026#39;Hello AWS !!!\u0026#39; \u0026gt;| index.html root@68e6de2197e642e7b106a5d205e05641-2282341209:/var/www/html# cat index.html Hello AWS !!! root@68e6de2197e642e7b106a5d205e05641-2282341209:/var/www/html# exit exit Exiting session with sessionId: ecs-execute-command-0e5f16ff1ee160a21. ä»Šå›ã¯ã€ index.html ã®ä¸­èº«ã‚’ Hello AWS !!! ã«æ›¸ãæ›ãˆã¦ã„ã¾ã™ã€‚\nãã®çµæœã¨ã—ã¦ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒå¤‰ã‚ã£ã¦ã¾ã™ã€‚\n$ http ${ENDPOINT} HTTP/1.1 200 OK Accept-Ranges: bytes Connection: keep-alive Content-Length: 14 Content-Type: text/html Date: Sun, 21 Mar 2021 06:28:56 GMT ETag: \u0026#34;6056e3af-e\u0026#34; Last-Modified: Sun, 21 Mar 2021 06:13:59 GMT Server: nginx/1.18.0 (Ubuntu) Hello AWS !!! CloudWatch Logs ã§ ECS Exec ã®ãƒ­ã‚°ã‚’ç¢ºèª ä¸Šè¨˜ã§å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰ã®ãƒ­ã‚°ã‚’ CloudWatch Logs ã§ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚ç›´è¿‘ã®ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’å–å¾—ã—ã€ãã®ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ å†…ã®ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—ã—ã¦ã„ã¾ã™ã€‚\n# æœ€æ–°ã®ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ åã‚’å–å¾— $ LOG_ST_NAME=$(\\ aws logs describe-log-streams \\ --log-group-name /dev/${APP_NAME} \\ --query \u0026#39;max_by(logStreams[], \u0026amp;lastEventTimestamp).logStreamName\u0026#39; \\ --output text) # ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’æŒ‡å®šã—ã¦ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾— $ aws logs get-log-events \\ --log-group-name /dev/${APP_NAME} \\ --log-stream-name \u0026#34;${LOG_ST_NAME}\u0026#34; \\ --limit 5 \\ --query \u0026#39;events[].[join(``, [ to_string(timestamp) ,`: `,message])]\u0026#39; \\ --output text 1616307128716: Script started on 2021-03-21 06:12:07+00:00 [\u0026lt;not executed on terminal\u0026gt;] root@68e6de2197e642e7b106a5d205e05641-2282341209:/# cd /var/www/html/ root@68e6de2197e642e7b106a5d205e05641-2282341209:/var/www/html# ls index.html root@68e6de2197e642e7b106a5d205e05641-2282341209:/var/www/html# echo \u0026#39;Hello AWS !!!\u0026#39; \u0026gt;| index.html root@68e6de2197e642e7b106a5d205e05641-2282341209:/var/www/html# cat index.html Hello AWS !!! root@68e6de2197e642e7b106a5d205e05641-2282341209:/var/www/html# exit exit Script done on 2021-03-21 06:12:07+00:00 [COMMAND_EXIT_CODE=\u0026#34;0\u0026#34;] å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰ã€åŠã³å‡ºåŠ›ã•ã‚ŒãŸå†…å®¹ãŒãƒ­ã‚°ã«è¨˜éŒ²ã•ã‚Œã¦ã„ã¾ã™ã€‚\nãªãŠã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ç¢ºèªã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªçŠ¶æ…‹ã§ç¢ºèªã§ãã¾ã™ã€‚\nã¡ãªã¿ã« S3 ãƒã‚±ãƒƒãƒˆã«å‡ºåŠ›ã•ã‚ŒãŸãƒ­ã‚°ã¯\u0026hellip; S3 ãƒã‚±ãƒƒãƒˆã«å‡ºåŠ›ã•ã‚ŒãŸãƒ­ã‚°ã¯ã€ CloudWatch Logs ã«å‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹å†…å®¹ã¨åŒã˜ã§ã™ã€‚\nScript started on 2021-03-21 06:12:07+00:00 [\u0026lt;not executed on terminal\u0026gt;] \u001b]0;root@68e6de2197e642e7b106a5d205e05641-2282341209: /\u0007root@68e6de2197e642e7b106a5d205e05641-2282341209:/# \u001b[K\u001b]0;root@68e6de2197e642e7b106a5d205e05641-2282341209: /\u0007root@68e6de2197e642e7b106a5d205e05641-2282341209:/# cd /var/www/html/ \u001b]0;root@68e6de2197e642e7b106a5d205e05641-2282341209: /var/www/html\u0007root@68e6de2197e642e7b106a5d205e05641-2282341209:/var/www/html# ls index.html \u001b]0;root@68e6de2197e642e7b106a5d205e05641-2282341209: /var/www/html\u0007root@68e6de2197e642e7b106a5d205e05641-2282341209:/var/www/html# echo \u0026#39;\u0026#39;\u0008H\u0026#39;\u0008e\u0026#39;\u0008l\u0026#39;\u0008l\u0026#39;\u0008o\u0026#39;\u0008 \u0026#39;\u0008A\u0026#39;\u0008W\u0026#39;\u0008S\u0026#39;\u0008 \u0026#39;\u0008!\u0026#39;\u0008!\u0026#39;\u0008!\u0026#39;\u0008\u001b[C \u0026gt;~ \u001b[A\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[K \u001b[K\u001b[A\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C| index.html \u001b]0;root@68e6de2197e642e7b106a5d205e05641-2282341209: /var/www/html\u0007root@68e6de2197e642e7b106a5d205e05641-2282341209:/var/www/html# cat index.html Hello AWS !!! \u001b]0;root@68e6de2197e642e7b106a5d205e05641-2282341209: /var/www/html\u0007root@68e6de2197e642e7b106a5d205e05641-2282341209:/var/www/html# exit exit Script done on 2021-03-21 06:12:07+00:00 [COMMAND_EXIT_CODE=\u0026#34;0\u0026#34;] ã¾ã¨ã‚ ECS Exec ã® Interactive ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œã—ãŸãƒ­ã‚°ã‚’ CloudWatch Logs ãŠã‚ˆã³ S3 ãƒã‚±ãƒƒãƒˆã«å‡ºåŠ›ã—ã¦å†…å®¹ã‚’ç¢ºèªã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nå‰å›ã®è¨˜äº‹ã§ã¯ã€å˜ç™ºã®ã‚³ãƒãƒ³ãƒ‰ã¯ CloudTrail ã«è¨˜éŒ²ã•ã‚Œã‚‹ã“ã¨ã¯æ›¸ãã¾ã—ãŸãŒã€ä»Šå›ã¯ Interactive ã«å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦ã‚‚è¨˜éŒ²ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã¾ã—ãŸã€‚å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰ã ã‘ã§ãªãå®Ÿè¡Œæ™‚ã«å‡ºåŠ›ã•ã‚ŒãŸå†…å®¹ã‚‚ãƒ­ã‚°ã«è¨˜éŒ²ã•ã‚Œã‚‹ã®ã§ã€ç›£æŸ»ç›®çš„ã ã‘ã§ãªããƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒˆã®ä½œæ¥­ãƒ­ã‚°ã¨ã—ã¦ã‚‚ã€ã‚ã¨ã‹ã‚‰ç¢ºèªã§ãã‚‹ã®ã¯è‰¯ã•ãã†ã§ã™ã€‚\nã“ã®æµã‚Œ (?) ã§ CloudShell ã§ã®æ“ä½œã‚‚ãƒ­ã‚°ã«è¨˜éŒ²ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã¨ã„ã„ã®ã«ãªãƒ¼ã¨æ€ã£ã¦ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-logging-ecs-execute-commands-as-interactive/",
    "title": "ECS Exec ã® Interactive ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰ã®ãƒ­ã‚°ã‚’ CloudWatch Logs ãŠã‚ˆã³ S3 ã«å‡ºåŠ›ã™ã‚‹"
  },
  {
    "contents": "Amazon ECS ã§ç¨¼åƒä¸­ã®ã‚³ãƒ³ãƒ†ãƒŠã«å¯¾ã—ã¦ SSH æ¥ç¶šã›ãšã«ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã§ãã‚‹æ©Ÿèƒ½ ECS Exec ãŒç™ºè¡¨ã•ã‚Œã¾ã—ãŸã€‚ã‚³ãƒ¼ãƒ«ã•ã‚Œã‚‹ API ã¯ ExecuteCommand ã§ã™ã€‚ä»Šå›ã¯ AWS Copilot ã¨ AWS CLI ã‚’ä½¿ã£ã¦ã€ç¨¼åƒä¸­ã®ã‚³ãƒ³ãƒ†ãƒŠã«å¯¾ã—ã¦ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ å‰æ ExecuteCommand API AWS Copilot ã§å®Ÿè¡Œã™ã‚‹ copilot svc exec AWS CLI ã§å®Ÿè¡Œã™ã‚‹ ecs execute-command non-interactive ã¯ç¾æ™‚ç‚¹ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ CloudTrail ã§è¨¼è·¡ã®ç¢ºèª ã¾ã¨ã‚ è¿½è¨˜ å‰æ Amazon ECS ã§ç¨¼åƒã—ã¦ã„ã‚‹ã‚³ãƒ³ãƒ†ãƒŠãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¾ã™ã€‚ä»Šå›ã¯ã€ä¸‹è¨˜ã®è¨˜äº‹å†…ã§æ§‹ç¯‰ã—ãŸ ECS ã‚¿ã‚¹ã‚¯ã«å¯¾ã—ã¦å®Ÿè¡Œã™ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚\nAWS Copilot ã§ç”Ÿæˆã•ã‚Œã‚‹ã‚¿ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«ä»»æ„ã®ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ - michimani.net ExecuteCommand API ä»Šå›ç™ºè¡¨ã•ã‚ŒãŸ API ExecuteCommand ã¯ã€ ECS ã§ç¨¼åƒä¸­ã®ã‚³ãƒ³ãƒ†ãƒŠã«å¯¾ã—ã¦ã€ SSH æ¥ç¶šã›ãšã«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã‚‹ API ã§ã™ã€‚å¯¾è±¡ã®ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ¬ãƒ¼ãƒ³ã¯ EC2 ãŠã‚ˆã³ Fargate ã§ã€ Fargate ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 1.4.0 ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€ç¨¼åƒä¸­ã®ã‚³ãƒ³ãƒ†ãƒŠã«ã¯ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 1.50.2 ä»¥ä¸Šã® Container Agent Version ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nè©³ã—ãã¯ AWS ã® What\u0026rsquo;s New ã¨ãƒ–ãƒ­ã‚°ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nAmazon ECS now allows you to execute commands in a container running on Amazon EC2 or AWS Fargate NEW â€“ Using Amazon ECS Exec to access your containers on AWS Fargate and Amazon EC2 | Containers AWS Copilot ã§å®Ÿè¡Œã™ã‚‹ ã¾ãšã¯ AWS Copilot ã§å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\nAWS Copilot ã¯ã€ä»Šå›ã® API ç™ºè¡¨ã«åˆã‚ã›ã¦å…¬é–‹ã•ã‚ŒãŸæœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 1.4.0 ãŒå¿…è¦ãªã®ã§ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¦ãŠãã¾ã™ã€‚ãªãŠã€ç§ã®ç’°å¢ƒ - macOS Big Sur ã§ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã‚ˆã†ã¨ã—ãŸã‚‰ã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸã®ã§ã€ãã®å ´åˆã¯ Command Line Tools ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚Šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nmacOS Big Sur ã§ Copilot ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã‚ˆã†ã¨ã—ãŸã‚‰ã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸ - michimani.net Homebrew ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã‚‹å ´åˆã¯ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¾ã™ã€‚\n$ brew upgrade copilot-cli $ copilot version version: v1.4.0, built for darwin copilot svc exec AWS Copilot ã‚’ä½¿ã£ã¦ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹å ´åˆã€ copilot svc exec ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n$ copilot svc exec ã™ã‚‹ã¨ã€ Session Manager ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„ã¨è¨€ã‚ã‚ŒãŸã®ã§ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\nLooks like the Session Manager plugin is not installed yet. Would you like to install the plugin to execute into the container? [? for help] (y/N) Session Manager ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã‚³ãƒ³ãƒ†ãƒŠã«å¯¾ã—ã¦ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã“ã‚ã§ã€ä»Šåº¦ã¯æ¬¡ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã—ãŸã€‚\nFound only one deployed service list-s3-buckets-app in environment test Execute `/bin/sh` in container list-s3-buckets-app in task e1c5b556450545e5a99895ced3143dc2. âœ˜ Failed to execute command /bin/sh. Is `exec: true` set in your manifest? âœ˜ execute command /bin/sh in container list-s3-buckets-app: execute command: InvalidParameterException: The execute command failed because execute command was not enabled when the task was run or the execute command agent isnâ€™t running. Wait and try again or run a new task with execute command enabled and try again. å¯¾è±¡ã®ã‚³ãƒ³ãƒ†ãƒŠã§ã¯ã€ç’°å¢ƒå¤‰æ•° enableExecuteCommand ã« true ãŒã‚»ãƒƒãƒˆã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ AWS Copilot ã§ç®¡ç†ã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®å ´åˆã€ manifext.yml ã«ã¦ exec: true ã‚’è¨˜è¿°ã—ã¾ã™ã€‚\nã“ã‚Œã«é–¢ã—ã¦ã¯ä¸‹è¨˜ã® Copilot ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nLoad Balanced Web Service - exec | AWS Copilot CLI ã‚ã‚‰ãŸã‚ã¦å®Ÿè¡Œã™ã‚‹ã¨ã€ã‚ãŸã‹ã‚‚ SSH ã—ãŸã‹ã®ã‚ˆã†ã«ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ä¸Šã§ã‚³ãƒ³ãƒ†ãƒŠå†…ã®ã‚·ã‚§ãƒ«ãŒèµ·å‹•ã—ã¾ã™ã€‚\n$ copilot svc exec Found only one deployed service list-s3-buckets-app in environment test Execute `/bin/sh` in container list-s3-buckets-app in task xxxxxxxxxxxxxxxxxxxx05c661910a95. Starting session with SessionId: ecs-execute-command-08dc04c5e87685c1d /go # ã‚ã¨ã¯æ™®é€šã«ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã™ã‚‹ã ã‘ã§ã™ã€‚\n/go # go version go version go1.15.5 linux/amd64 /go # env HOSTNAME=ip-10-0-0-179.ap-northeast-1.compute.internal COPILOT_SERVICE_NAME=list-s3-buckets-app SHLVL=1 HOME=/root AWS_CONTAINER_CREDENTIALS_RELATIVE_URI=/v2/credentials/7ce3249f-c697-0000-0000-xxxxxxxxxxxx AWS_EXECUTION_ENV=AWS_ECS_FARGATE AWS_DEFAULT_REGION=ap-northeast-1 COPILOT_ENVIRONMENT_NAME=test ECS_CONTAINER_METADATA_URI_V4=http://169.254.170.2/v4/xxxxxxxxxxxxxxxxxxxx05c661910a95-3314152222 TERM=xterm-256color ECS_CONTAINER_METADATA_URI=http://169.254.170.2/v3/xxxxxxxxxxxxxxxxxxxx05c661910a95-3314152222 PATH=/go/bin:/usr/local/go/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin COPILOT_APPLICATION_NAME=hello-ecs COPILOT_SERVICE_DISCOVERY_ENDPOINT=hello-ecs.local LANG=C.UTF-8 COPILOT_LB_DNS=hello-Publi-SGUJQBQMXO00-1567060405.ap-northeast-1.elb.amazonaws.com GOPATH= AWS_REGION=ap-northeast-1 PWD=/go GOLANG_VERSION=1.15.5 /go # exit Exiting session with sessionId: ecs-execute-command-08dc04c5e87685c1d. AWS CLI ã§å®Ÿè¡Œã™ã‚‹ ç¶šã„ã¦ AWS CLI ã§ã€ECS ã§ç¨¼åƒä¸­ã®ã‚³ãƒ³ãƒ†ãƒŠã«å¯¾ã—ã¦ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\nAWS CLI ã§ã¯ã€ã“ã®è¨˜äº‹åŸ·ç­†æ™‚ç‚¹ (2021/03/16) ã§ v1 ã® 1.19.28 ã®ã¿å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚\n$ aws --version aws-cli/1.19.28 Python/3.8.5 Darwin/20.3.0 botocore/1.20.28 ã“ã®æ™‚ç‚¹ã§ v2 ã®æœ€æ–°ã¯ 2.1.30 ã§ã™ãŒã€ã¾ã å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚å¤šåˆ†ã€ã„ã¤ã‚‚ã®æµã‚Œãªã‚‰æ•°æ—¥å¾Œã«å¯¾å¿œã•ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚\necs execute-command AWS CLI ã§ã¯ ecs- execute-command ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚\n$ aws ecs execute-command help ... SYNOPSIS execute-command [--cluster \u0026lt;value\u0026gt;] [--container \u0026lt;value\u0026gt;] --command \u0026lt;value\u0026gt; --interactive | --non-interactive --task \u0026lt;value\u0026gt; [--cli-input-json \u0026lt;value\u0026gt;] [--generate-cli-skeleton \u0026lt;value\u0026gt;] ... ä¸»ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\n--cluster : å¯¾è±¡ã®ã‚³ãƒ³ãƒ†ãƒŠãŒç¨¼åƒã—ã¦ã„ã‚‹ ECS ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å --container : å¯¾è±¡ã®ã‚³ãƒ³ãƒ†ãƒŠå (ã‚¿ã‚¹ã‚¯å†…ã§è¤‡æ•°ã®ã‚³ãƒ³ãƒ†ãƒŠãŒç¨¼åƒã—ã¦ã„ã‚‹å ´åˆã«å¿…è¦) --command : å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ --task : å¯¾è±¡ã®ã‚³ãƒ³ãƒ†ãƒŠãŒç¨¼åƒã—ã¦ã„ã‚‹ã‚¿ã‚¹ã‚¯ã® ARN ã¾ãŸã¯ ID --interactive | --non-interactive : ã‚³ãƒãƒ³ãƒ‰ã‚’ã©ã®ã‚ˆã†ã«å®Ÿè¡Œã™ã‚‹ã‹ ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼åã¨ã‚¿ã‚¹ã‚¯ ID ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€å…ˆã«å–å¾—ã—ã¦ãŠãã¾ã™ã€‚\n$ CLUSTER_NAME=$( \\ aws ecs describe-clusters \\ --clusters \u0026#34;$(\\ aws ecs list-clusters \\ --query \u0026#34;clusterArns[?contains(@, \\`hello-ecs\\`)] | [0]\u0026#34; \\ --output text )\u0026#34; \\ --query \u0026#34;clusters[0].clusterName\u0026#34; \\ --output text) $ TASK_ARN=$(\\ aws ecs list-tasks \\ --cluster \u0026#34;${CLUSTER_NAME}\u0026#34; \\ --query \u0026#34;taskArns[0]\u0026#34; \\ --output text) å®Ÿè¡Œã—ã¾ã™ã€‚ã¾ãšã¯ --interactive ã§å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ aws ecs execute-command \\ --cluster \u0026#34;${CLUSTER_NAME}\u0026#34; \\ --task \u0026#34;${TASK_ARN}\u0026#34; \\ --command \u0026#34;go version\u0026#34; \\ --interactive The Session Manager plugin was installed successfully. Use the AWS CLI to start a session. Starting session with SessionId: ecs-execute-command-05539dfac9c3bd94d go version go1.15.5 linux/amd64 Exiting session with sessionId: ecs-execute-command-05539dfac9c3bd94d. ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒèµ·å‹•ã—ã€ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡ŒçµæœãŒå‡ºåŠ›ã•ã‚Œã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒçµ‚äº†ã—ã¾ã—ãŸã€‚\nã€Œinteractive ã¨ã¯\u0026hellip;ã€ã¨ä¸€ç¬æ€ã„ã¾ã—ãŸãŒã€å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰ãŒ go version ãªã®ã§å¯¾è©±ã‚‚ã‚¯ã‚½ã‚‚ãªã‹ã£ãŸã§ã™ã€‚\nã¨ã„ã†ã“ã¨ã§ã€ /bin/sh ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ aws ecs execute-command \\ --cluster \u0026#34;${CLUSTER_NAME}\u0026#34; \\ --task \u0026#34;${TASK_ARN}\u0026#34; \\ --command \u0026#34;/bin/sh\u0026#34; \\ --interactive The Session Manager plugin was installed successfully. Use the AWS CLI to start a session. Starting session with SessionId: ecs-execute-command-027f2f4e471434482 /go # Copilot ã®ã¨ãã¨åŒæ§˜ã«ã€ã‚·ã‚§ãƒ«èµ·å‹•ã—ã¦ ã‚ãŸã‹ã‚‚ SSH ã—ãŸã‹ã®ã‚ˆã†ã«è¦‹ãˆã¾ã™ã€‚\nã‚ã¨ã¯æ™®é€šã«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€logout ã¾ãŸã¯ exit ã§çµ‚äº†ã—ã¾ã™ã€‚\n/go # go version go version go1.15.5 linux/amd64 /go # env HOSTNAME=ip-10-0-0-179.ap-northeast-1.compute.internal COPILOT_SERVICE_NAME=list-s3-buckets-app SHLVL=1 HOME=/root AWS_CONTAINER_CREDENTIALS_RELATIVE_URI=/v2/credentials/7ce3249f-c697-0000-0000-xxxxxxxxxxxx AWS_EXECUTION_ENV=AWS_ECS_FARGATE AWS_DEFAULT_REGION=ap-northeast-1 COPILOT_ENVIRONMENT_NAME=test ECS_CONTAINER_METADATA_URI_V4=http://169.254.170.2/v4/xxxxxxxxxxxxxxxxxxxx05c661910a95-3314152222 TERM=xterm-256color ECS_CONTAINER_METADATA_URI=http://169.254.170.2/v3/xxxxxxxxxxxxxxxxxxxx05c661910a95-3314152222 PATH=/go/bin:/usr/local/go/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin COPILOT_APPLICATION_NAME=hello-ecs COPILOT_SERVICE_DISCOVERY_ENDPOINT=hello-ecs.local LANG=C.UTF-8 COPILOT_LB_DNS=hello-Publi-SGUJQBQMXO00-1567060405.ap-northeast-1.elb.amazonaws.com GOPATH= AWS_REGION=ap-northeast-1 PWD=/go GOLANG_VERSION=1.15.5 /go # exit Exiting session with sessionId: ecs-execute-command-027f2f4e471434482. non-interactive ã¯ç¾æ™‚ç‚¹ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ ã¡ãªã¿ã« --non-interactive ã¯ç¾æ™‚ç‚¹ã§ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ã‚ˆã†ã§ã™ã€‚\n$ aws ecs execute-command \\ --cluster \u0026#34;${CLUSTER_NAME}\u0026#34; \\ --task \u0026#34;${TASK_ARN}\u0026#34; \\ --command \u0026#34;go version\u0026#34; \\ --non-interactive The Session Manager plugin was installed successfully. Use the AWS CLI to start a session. An error occurred (InvalidParameterException) when calling the ExecuteCommand operation: Interactive is the only mode supported currently. CloudTrail ã§è¨¼è·¡ã®ç¢ºèª ExecuteCommand API ã®å®Ÿè¡Œã«é–¢ã—ã¦ã¯ã€ CloudTrail ã§è¨¼è·¡ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nCopilot ã§å®Ÿè¡Œã—ãŸå ´åˆ { \u0026#34;eventVersion\u0026#34;: \u0026#34;1.08\u0026#34;, \u0026#34;userIdentity\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;AssumedRole\u0026#34;, \u0026#34;principalId\u0026#34;: \u0026#34;XXXXXXXXXXXXXXXXBBZHM:1615903571022057000\u0026#34;, \u0026#34;arn\u0026#34;: \u0026#34;arn:aws:sts::000000000000:assumed-role/hello-ecs-test-EnvManagerRole/1615903571022057000\u0026#34;, \u0026#34;accountId\u0026#34;: \u0026#34;000000000000\u0026#34;, \u0026#34;accessKeyId\u0026#34;: \u0026#34;ASIA2FQKQ3TURQ676CHH\u0026#34;, \u0026#34;sessionContext\u0026#34;: { \u0026#34;sessionIssuer\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;Role\u0026#34;, \u0026#34;principalId\u0026#34;: \u0026#34;XXXXXXXXXXXXXXXXBBZHM\u0026#34;, \u0026#34;arn\u0026#34;: \u0026#34;arn:aws:iam::000000000000:role/hello-ecs-test-EnvManagerRole\u0026#34;, \u0026#34;accountId\u0026#34;: \u0026#34;000000000000\u0026#34;, \u0026#34;userName\u0026#34;: \u0026#34;hello-ecs-test-EnvManagerRole\u0026#34; }, \u0026#34;webIdFederationData\u0026#34;: {}, \u0026#34;attributes\u0026#34;: { \u0026#34;mfaAuthenticated\u0026#34;: \u0026#34;false\u0026#34;, \u0026#34;creationDate\u0026#34;: \u0026#34;2021-03-16T14:06:11Z\u0026#34; } } }, \u0026#34;eventTime\u0026#34;: \u0026#34;2021-03-16T14:06:12Z\u0026#34;, \u0026#34;eventSource\u0026#34;: \u0026#34;ecs.amazonaws.com\u0026#34;, \u0026#34;eventName\u0026#34;: \u0026#34;ExecuteCommand\u0026#34;, \u0026#34;awsRegion\u0026#34;: \u0026#34;ap-northeast-1\u0026#34;, \u0026#34;sourceIPAddress\u0026#34;: \u0026#34;153.225.234.16\u0026#34;, \u0026#34;userAgent\u0026#34;: \u0026#34;aws-ecs-cli-v2/v1.4.0 (darwin) aws-sdk-go/1.37.31 (go1.15.6; darwin; amd64)\u0026#34;, \u0026#34;requestParameters\u0026#34;: { \u0026#34;cluster\u0026#34;: \u0026#34;hello-ecs-test-Cluster-XXXXXXXXXXdZ\u0026#34;, \u0026#34;container\u0026#34;: \u0026#34;list-s3-buckets-app\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;/bin/sh\u0026#34;, \u0026#34;interactive\u0026#34;: true, \u0026#34;task\u0026#34;: \u0026#34;xxxxxxxxxxxxxxxxxxxx05c661910a95\u0026#34; }, \u0026#34;responseElements\u0026#34;: { \u0026#34;clusterArn\u0026#34;: \u0026#34;arn:aws:ecs:ap-northeast-1:000000000000:cluster/hello-ecs-test-Cluster-XXXXXXXXXXdZ\u0026#34;, \u0026#34;containerArn\u0026#34;: \u0026#34;arn:aws:ecs:ap-northeast-1:000000000000:container/69a7d1af-0000-0000-0000-xxxxxxxxxxxx\u0026#34;, \u0026#34;containerName\u0026#34;: \u0026#34;list-s3-buckets-app\u0026#34;, \u0026#34;interactive\u0026#34;: true, \u0026#34;session\u0026#34;: { \u0026#34;sessionId\u0026#34;: \u0026#34;ecs-execute-command-08dc04c5e87685c1d\u0026#34;, \u0026#34;streamUrl\u0026#34;: \u0026#34;wss://ssmmessages.ap-northeast-1.amazonaws.com/v1/data-channel/ecs-execute-command-08dc04c5e87685c1d?role=publish_subscribe\u0026#34;, \u0026#34;tokenValue\u0026#34;: \u0026#34;HIDDEN_DUE_TO_SECURITY_REASONS\u0026#34; }, \u0026#34;taskArn\u0026#34;: \u0026#34;arn:aws:ecs:ap-northeast-1:000000000000:task/hello-ecs-test-Cluster-XXXXXXXXXXdZ/xxxxxxxxxxxxxxxxxxxx05c661910a95\u0026#34; }, \u0026#34;requestID\u0026#34;: \u0026#34;6b08cb73-b9f3-4394-bda9-5c9d1691bf9c\u0026#34;, \u0026#34;eventID\u0026#34;: \u0026#34;9ce15175-3700-48c6-8e50-081950d14f65\u0026#34;, \u0026#34;readOnly\u0026#34;: false, \u0026#34;eventType\u0026#34;: \u0026#34;AwsApiCall\u0026#34;, \u0026#34;managementEvent\u0026#34;: true, \u0026#34;eventCategory\u0026#34;: \u0026#34;Management\u0026#34;, \u0026#34;recipientAccountId\u0026#34;: \u0026#34;000000000000\u0026#34; } AWS CLI ã§å®Ÿè¡Œã—ãŸå ´åˆ { \u0026#34;eventVersion\u0026#34;: \u0026#34;1.08\u0026#34;, \u0026#34;userIdentity\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;IAMUser\u0026#34;, \u0026#34;principalId\u0026#34;: \u0026#34;AIDAIXKQKK3IJ7GXIEEGE\u0026#34;, \u0026#34;arn\u0026#34;: \u0026#34;arn:aws:iam::000000000000:user/HOGE\u0026#34;, \u0026#34;accountId\u0026#34;: \u0026#34;000000000000\u0026#34;, \u0026#34;accessKeyId\u0026#34;: \u0026#34;XXXXXXXXXXXXXXXXXL2X\u0026#34;, \u0026#34;userName\u0026#34;: \u0026#34;HOGE\u0026#34; }, \u0026#34;eventTime\u0026#34;: \u0026#34;2021-03-16T14:55:36Z\u0026#34;, \u0026#34;eventSource\u0026#34;: \u0026#34;ecs.amazonaws.com\u0026#34;, \u0026#34;eventName\u0026#34;: \u0026#34;ExecuteCommand\u0026#34;, \u0026#34;awsRegion\u0026#34;: \u0026#34;ap-northeast-1\u0026#34;, \u0026#34;sourceIPAddress\u0026#34;: \u0026#34;153.225.234.16\u0026#34;, \u0026#34;userAgent\u0026#34;: \u0026#34;aws-cli/1.19.28 Python/3.8.5 Darwin/20.3.0 botocore/1.20.28\u0026#34;, \u0026#34;requestParameters\u0026#34;: { \u0026#34;cluster\u0026#34;: \u0026#34;hello-ecs-test-Cluster-XXXXXXXXXXdZ\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;/bin/sh\u0026#34;, \u0026#34;interactive\u0026#34;: true, \u0026#34;task\u0026#34;: \u0026#34;arn:aws:ecs:ap-northeast-1:000000000000:task/hello-ecs-test-Cluster-XXXXXXXXXXdZ/xxxxxxxxxxxxxxxxxxxx05c661910a95\u0026#34; }, \u0026#34;responseElements\u0026#34;: { \u0026#34;clusterArn\u0026#34;: \u0026#34;arn:aws:ecs:ap-northeast-1:000000000000:cluster/hello-ecs-test-Cluster-XXXXXXXXXXdZ\u0026#34;, \u0026#34;containerArn\u0026#34;: \u0026#34;arn:aws:ecs:ap-northeast-1:000000000000:container/69a7d1af-0000-0000-0000-xxxxxxxxxxxx\u0026#34;, \u0026#34;containerName\u0026#34;: \u0026#34;list-s3-buckets-app\u0026#34;, \u0026#34;interactive\u0026#34;: true, \u0026#34;session\u0026#34;: { \u0026#34;sessionId\u0026#34;: \u0026#34;ecs-execute-command-027f2f4e471434482\u0026#34;, \u0026#34;streamUrl\u0026#34;: \u0026#34;wss://ssmmessages.ap-northeast-1.amazonaws.com/v1/data-channel/ecs-execute-command-027f2f4e471434482?role=publish_subscribe\u0026#34;, \u0026#34;tokenValue\u0026#34;: \u0026#34;HIDDEN_DUE_TO_SECURITY_REASONS\u0026#34; }, \u0026#34;taskArn\u0026#34;: \u0026#34;arn:aws:ecs:ap-northeast-1:000000000000:task/hello-ecs-test-Cluster-XXXXXXXXXXdZ/xxxxxxxxxxxxxxxxxxxx05c661910a95\u0026#34; }, \u0026#34;requestID\u0026#34;: \u0026#34;87faac46-6ae1-4887-8218-599e0db3ba85\u0026#34;, \u0026#34;eventID\u0026#34;: \u0026#34;ae940740-7a41-4355-a0a0-714d608ece7c\u0026#34;, \u0026#34;readOnly\u0026#34;: false, \u0026#34;eventType\u0026#34;: \u0026#34;AwsApiCall\u0026#34;, \u0026#34;managementEvent\u0026#34;: true, \u0026#34;eventCategory\u0026#34;: \u0026#34;Management\u0026#34;, \u0026#34;recipientAccountId\u0026#34;: \u0026#34;000000000000\u0026#34; } å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰ã‚‚è¨¼è·¡ã«ã¯å«ã¾ã‚Œã¦ã„ã¾ã™ãŒã€ã“ã‚Œã¯ã‚ãã¾ã§ã‚‚ ExecuteCommand API ã‚³ãƒ¼ãƒ«æ™‚ã«æŒ‡å®šã—ãŸã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚ä»Šå›è©¦ã—ãŸã‚ˆã†ã« /bin/sh ã‚’å®Ÿè¡Œã—ã¦ interactive ãƒ¢ãƒ¼ãƒ‰ã«ãªã£ãŸã‚ã¨ã«å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦ã¯ CloudTrail ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚ã“ã“ã¯ç›£æŸ»çš„ã«æ‚©ã¾ã—ã„ç‚¹ã‹ã¨æ€ã„ã¾ã™ã€‚\nã¾ã¨ã‚ ECS ã§ç¨¼åƒä¸­ã®ã‚³ãƒ³ãƒ†ãƒŠã«å¯¾ã—ã¦ SSH ã›ãšã«ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã§ãã‚‹ API ãŒå…¬é–‹ã•ã‚ŒãŸã®ã§ AWS Copilot ã¨ AWS CLI ãã‚Œãã‚Œã‚’ä½¿ã£ã¦ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã®çµæœãŒå‡ºåŠ›ã•ã‚Œã‚‹ã ã‘ãªã®ã‹ãªã¨æƒ³åƒã—ã¦ã¾ã—ãŸãŒã€ã‚ãŸã‹ã‚‚ã‚³ãƒ³ãƒ†ãƒŠã« SSH ã—ãŸã‹ã®ã‚ˆã†ã«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã§ããŸã®ã§ã€æ„Ÿå‹•ã—ã¾ã—ãŸã€‚\nã“ã‚Œã§ç¨¼åƒä¸­ã‚³ãƒ³ãƒ†ãƒŠã®èª¿æŸ»ã¯ã‚„ã‚Šã‚„ã™ããªã£ãŸåé¢ã€ç°¡å˜ã«ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€å¿…è¦ãªã¨ãã ã‘ IAM Role ã§è¨±å¯ã™ã‚‹ãªã©ã—ã¦åˆ¶é™ã—ã¦ãŠã„ãŸã»ã†ãŒè‰¯ã„ã®ã‹ãªã¨æ€ã„ã¾ã—ãŸã€‚ã¨ã„ã†ã®ã‚‚ã€ ExecuteCommand API ã‚³ãƒ¼ãƒ«æ™‚ã®ã‚³ãƒãƒ³ãƒ‰ã¯ CloudTrail ã§ç¢ºèªã§ãã¾ã™ãŒã€ã‚·ã‚§ãƒ«ã‚’èµ·å‹•ã—ã¦å¯¾è©±çš„ã«å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰ã¯è¿½ãˆãªã„ã‹ã‚‰ã§ã™ã€‚\nã¨ã¯è¨€ãˆã€ã“ã®æ“ä½œã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã« SSH ç”¨ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä¿æŒã—ã¦ã„ãŸå ´åˆã¯ã€ãã‚Œã‚‰ãŒä¸è¦ã«ãªã‚Šã¾ã™ã—ã€è«¸ã€…ã®èª¿æŸ»ã¯ã‹ãªã‚Šæ—ã‚‹ã‚ˆã†ã«ãªã‚Šãã†ã§ã™ã€‚\nè¿½è¨˜ ã‚ã¨ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç¢ºèªã—ãŸã¨ã“ã‚ã€ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ä½œæˆæ™‚ã« ExecuteCommand API ã§å¯¾è©±çš„ã«å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰ã«é–¢ã™ã‚‹è¨­å®šã‚’ã™ã‚‹ã“ã¨ã§ã€ CloudWatch Logs ã¾ãŸã¯ S3 ã«ãã®ãƒ­ã‚°ãŒå‡ºã›ãã†ã§ã—ãŸã€‚\nUsing Amazon ECS Exec for debugging - Amazon Elastic Container Service ã“ã‚Œã¯æ¬¡å›è©¦ã—ã¦ã¿ã¾ã™ã€‚ æ›¸ãã¾ã—ãŸã€‚\nECS Exec ã® Interactive ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰ã®ãƒ­ã‚°ã‚’ CloudWatch Logs ãŠã‚ˆã³ S3 ã«å‡ºåŠ›ã™ã‚‹ - michimani.net ",
    "permalink": "https://michimani.net/post/aws-about-exuecution-command-in-container-running-on-ecs-fargate/",
    "title": "AWS Copilot ã¨ AWS CLI ã‚’ä½¿ã£ã¦ ECS Exec ã‚’è©¦ã™"
  },
  {
    "contents": "macOS Big Sur ã§ AWS Copilot ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã‚ˆã†ã¨ã—ãŸã‚‰ã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸã®ã§ã€ãã®æ™‚ã®å¯¾å¿œã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚çµè«–ã¨ã—ã¦ã¯ CLT ã®å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ã—ãŸã€‚\nèµ·ã“ã£ãŸã“ã¨ AWS Copilot 1.1.0 ã‚’ã€æœ€æ–°ã® 1.4.0 ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã‚ˆã†ã¨ã—ãŸã‚‰ã€ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚\nCopilot 1.1.0 ã¯ macOS Catalina (10.x) ã®ã¨ãã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠã‚Šã€ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã‚ˆã†ã¨ã—ãŸæ™‚ç‚¹ã§ macOS ã¯ Big Sur (11.2.3) ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¦ã„ã¾ã—ãŸã€‚\n$ brew upgrade copilot-cli Updating Homebrew... ... ... ==\u0026gt; Upgrading 1 outdated package: aws/tap/copilot-cli 1.1.0 -\u0026gt; 1.4.0 ==\u0026gt; Upgrading aws/tap/copilot-cli 1.1.0 -\u0026gt; 1.4.0 ==\u0026gt; Downloading https://github.com/aws/copilot-cli/releases/download/v1.4.0/copilot_1.4.0_macOS_amd64.tar.gz ==\u0026gt; Downloading from https://github-releases.githubusercontent.com/202018792/01197900-8595-11eb-81da-2085a3edc283?X-Amz-Algorithm=AWS4- ######################################################################## 100.0% Error: Your Command Line Tools (CLT) does not support macOS 11. It is either outdated or was modified. Please update your Command Line Tools (CLT) or delete it if no updates are available. Update them from Software Update in System Preferences or run: softwareupdate --all --install --force If that doesn\u0026#39;t show you any updates, run: sudo rm -rf /Library/Developer/CommandLineTools sudo xcode-select --install Alternatively, manually download them from: https://developer.apple.com/download/more/. Error: An exception occurred within a child process: SystemExit: exit å¯¾å¿œ ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã¨ãŠã‚Šã«å¯¾å¿œã—ã¦ã„ãã¾ã™ã€‚\nã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®ç¢ºèª ã¾ãšã¯ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®ç¢ºèªã§ã™ã€‚\n$ softwareupdate --all --install --force Software Update Tool Finding available software No updates are available. ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚\nCLT (Command Line Tools) ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒãªã‹ã£ãŸã®ã§ã€ CLT ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã® CLT ã‚’å‰Šé™¤ã€‚\n$ sudo rm -rf /Library/Developer/CommandLineTools Password: # ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ› CLT ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚\n$ sudo xcode-select --install xcode-select: note: install requested for command line developer tools ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒå‡ºã‚‹ã®ã§ã€åˆ©ç”¨è¦ç´„ã«åŒæ„ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\ncopilot-cli ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ å†åº¦ brew upgrade ã‚’å®Ÿè¡Œã—ã¦ copilot-cli ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¾ã™ã€‚\n$ brew upgrade copilot-cli ==\u0026gt; Upgrading 1 outdated package: aws/tap/copilot-cli 1.1.0 -\u0026gt; 1.4.0 ==\u0026gt; Upgrading aws/tap/copilot-cli 1.1.0 -\u0026gt; 1.4.0 ==\u0026gt; Downloading https://github.com/aws/copilot-cli/releases/download/v1.4.0/copilot_1.4.0_macOS_amd64.tar.gz Already downloaded: /Users/yito/Library/Caches/Homebrew/downloads/dd28217387b8d74caa7947d0dfedf18c129289ae2ecdc1a4f485d825765911c3--copilot_1.4.0_macOS_amd64.tar.gz ==\u0026gt; Caveats zsh completions have been installed to: /usr/local/share/zsh/site-functions ==\u0026gt; Summary ğŸº /usr/local/Cellar/copilot-cli/1.4.0: 5 files, 44.7MB, built in 7 seconds Removing: /usr/local/Cellar/copilot-cli/1.1.0... (5 files, 42.4MB) ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèªã€‚\n$ copilot version version: v1.4.0, built for darwin ",
    "permalink": "https://michimani.net/post/aws-error-occuerd-in-upgrading-copilot-at-macos-bigsur/",
    "title": "macOS Big Sur ã§ Copilot ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã‚ˆã†ã¨ã—ãŸã‚‰ã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸ"
  },
  {
    "contents": "Go ã®ç·´ç¿’ã®ãŸã‚ã« AWS SDK for Go V2 ã‚’ä½¿ã£ã¦ ACM ã‚’ç°¡å˜ã«æ‰±ãˆã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸çš„ãªã‚‚ã®ã‚’ä½œã£ã¦ã„ã¾ã™ã€‚ãã®éš›ã€ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ã™ã‚‹ãŸã‚ã« SDK ã‚’ãƒ¢ãƒƒã‚¯ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã®ã§ã€ãã®æ–¹æ³•ã«ã¤ã„ã¦æ›¸ãã¾ã™ã€‚\nç›®æ¬¡ ã¯ã˜ã‚ã« goacm AWS SDK for Go V2 ã®ãƒ¢ãƒƒã‚¯åŒ–ã¨ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’è¦‹æ®ãˆãŸå®Ÿè£… ã‚µãƒ¼ãƒ“ã‚¹ã® API ã®ãƒ¢ãƒƒã‚¯åŒ– ãƒ¢ãƒƒã‚¯ã‚’åˆ©ç”¨ã—ãŸãƒ†ã‚¹ãƒˆ ã²ã¨ã“ã¨ ã¯ã˜ã‚ã« AWS SDK for Go V2 ã§ã¯ã€ V1 ã®ã¨ãã«ã‚ã£ãŸ ***iface ç³»ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ã„ãªã„ã®ã§ã€ SDK éƒ¨åˆ†ã‚’ãƒ¢ãƒƒã‚¯ã—ãŸã„å ´åˆã¯è‡ªåˆ†ã§ API ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ã€å…¬å¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã‚‚ã¨ã« SDK ã®ãƒ¢ãƒƒã‚¯ã‚’ä½œã£ã¦ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ã“ã‚ã¾ã§ã®æ–¹æ³•ã«ã¤ã„ã¦æ›¸ã„ã¦ã„ã¾ã™ã€‚\nAWS SDK for Go ã®ãƒ¢ãƒƒã‚¯åŒ–ã«ã¤ã„ã¦æ‚©ã‚“ã§ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°è‰¯ã„ã®ã§ã™ãŒã€é€†ã«æ›¸ãæ–¹ãŠã‹ã—ã„ã¨ã“ã‚ç­‰ã‚ã‚Œã°ã‚³ãƒ¡ãƒ³ãƒˆã„ãŸã ã‘ã‚‹ã¨å¬‰ã—ã„ã§ã™ã€‚\ngoacm ä»Šå›é¡Œæã«ã™ã‚‹ã®ã¯ goacm ã¨ã„ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã€ ACM (AWS Certificate Manager) ã§ã®æ“ä½œã‚’ãƒ©ãƒƒãƒ—ã—ãŸã‚‚ã®ã«ãªã£ã¦ã¾ã™ã€‚ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰ ACM ã‚’æ“ä½œã™ã‚‹ã“ã¨ã£ã¦ã‚ã‚“ã¾ã‚Šãªã„ã¨æ€ã†ã‚“ã§ã™ãŒã€ ACM ã§ã§ãã‚‹ã“ã¨ã£ã¦é™ã‚‰ã‚Œã¦ã„ã‚‹ã®ã§è¿·å­ã«ãªã‚‰ãªã„ã‹ãªã¨æ€ã£ã¦é¸ã³ã¾ã—ãŸã€‚ã‚ã¨ã€å€‹äººçš„ã« ACM å¥½ããªã®ã§ã€‚\nmichimani/goacm: goacm is a simple package for using AWS Certificate Manager from applications implimented golang. SDK ã®ãƒ¢ãƒƒã‚¯åŒ–ã¨ãƒ†ã‚¹ãƒˆã«ã¤ã„ã¦ã¯ã“ã®ã‚ã¨æ›¸ã„ã¦ã„ãã¾ã™ãŒã€å¤šåˆ†ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ãŸã»ã†ãŒã‚ã‹ã‚Šã‚„ã™ã„ã®ã§â†‘ã® GitHub ã®ã»ã†ã‚’è¦‹ã¦ãã ã•ã„ã€‚\nAWS SDK for Go V2 ã®ãƒ¢ãƒƒã‚¯åŒ–ã¨ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ AWS SDK for Go V1 ã«ã¯ ***iface ã¨ã„ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ (ACM ã§ã‚ã‚Œã° acmiface) ãŒå«ã¾ã‚Œã¦ã„ã¦ã€ãã‚Œã‚’ã‚‚ã¨ã« mockgen ã§ãƒ¢ãƒƒã‚¯ã‚’ç°¡å˜ã«ç”Ÿæˆã™ã‚‹ã“ã¨ãŒã§ãã¦ã„ã¾ã—ãŸã€‚ V2 ã§ã‚‚ GA å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ (ACM ã§ã‚ã‚Œã° v0.24.0 ) ã¾ã§ã¯å­˜åœ¨ã—ã¦ã„ã¾ã—ãŸãŒã€ãã‚Œä»¥é™å‰Šé™¤ã•ã‚Œã¦ã„ã¾ã™ã€‚\nãªã®ã§ã€ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„ API ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’ä½œã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€å†…éƒ¨ã§ SDK ã‚’ä½¿ã†é–¢æ•°ã§ã¯ã€ãã®å¼•æ•°ã¨ã—ã¦ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’å—ã‘å–ã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ãƒ†ã‚¹ãƒˆãŒã—ã‚„ã™ããªã‚Šã¾ã™ã€‚\nãªãŠã€å‚è€ƒã«ã™ã‚‹ã®ã¯ä¸‹è¨˜ã® AWS SDK for Go V2 ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã™ã€‚\nUnit Testing with the AWS SDK for Go V2 | AWS SDK for Go V2 ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’è¦‹æ®ãˆãŸå®Ÿè£… ã¾ãšã€ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ã—ã‚„ã™ã„ã‚ˆã†ãªå®Ÿè£…ã«ã¤ã„ã¦ã§ã™ã€‚ç‹¬è‡ªã§é–¢æ•°ã‚’ä½œæˆã™ã‚‹éš›ã«ã€å¼•æ•°ã«ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’å—ã‘å–ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€ ARN ã‚’æŒ‡å®šã—ã¦ Certificate ã‚’å–å¾—ã™ã‚‹ GetCertificate ã¨ã„ã†é–¢æ•°ã‚’ä½œã‚‹å ´åˆã€æ¬¡ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n// GetCertificate returns the details of the certificate. func GetCertificate(ctx context.Context, api ACMDescribeCertificateAPI, arn string) (Certificate, error) { in := acm.DescribeCertificateInput{ CertificateArn: aws.String(arn), } out, err := api.DescribeCertificate(ctx, \u0026amp;in) if err != nil { return Certificate{}, err } vMethod := \u0026#34;\u0026#34; recordSet := RecordSet{} if out.Certificate.DomainValidationOptions != nil { vMethod = string(out.Certificate.DomainValidationOptions[0].ValidationMethod) if vMethod == string(types.ValidationMethodDns) { recordSet.HostedDomainName = aws.ToString(out.Certificate.DomainValidationOptions[0].ValidationDomain) recordSet.Name = aws.ToString(out.Certificate.DomainValidationOptions[0].ResourceRecord.Name) recordSet.Value = aws.ToString(out.Certificate.DomainValidationOptions[0].ResourceRecord.Value) recordSet.Type = string(out.Certificate.DomainValidationOptions[0].ResourceRecord.Type) } } return Certificate{ Arn: arn, DomainName: aws.ToString(out.Certificate.DomainName), Status: string(out.Certificate.Status), Type: string(out.Certificate.Type), FailureReason: string(out.Certificate.FailureReason), ValidationMethod: vMethod, ValidationRecordSet: recordSet, }, nil } å¼•æ•°ã¨ã—ã¦ Certificate ã® ARN ã ã‘ã‚’å—ã‘å–ã‚‹ã®ã§ã¯ãªãã€ ACM ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ (API) (ã¨ Context) ã‚’å—ã‘å–ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nè«¸ã€…ã®æ§‹é€ ä½“ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«å®šç¾©ã—ã¦ã„ã¾ã™ã€‚\n// ACMDescribeCertificateAPI is an interface that defines the set of ACM API operations required by the DescribeCertificate function. type ACMDescribeCertificateAPI interface { DescribeCertificate(ctx context.Context, params *acm.DescribeCertificateInput, optFns ...func(*acm.Options)) (*acm.DescribeCertificateOutput, error) } // RecordSet is a structure that reopresents a record set for Route 53. type RecordSet struct { HostedDomainName string Name string Value string Type string TTL int64 } // Certificate is a structure that represents a Certificate. type Certificate struct { Arn string Region string DomainName string Type string Status string FailureReason string ValidationMethod string ValidationRecordSet RecordSet } ã“ã®é–¢æ•°ã®å ´åˆã€å†…éƒ¨ã§ ACM ã® DescribeCertificate() ã‚’å‘¼ã‚“ã§ã„ã‚‹ã®ã§ã€ãã®éƒ¨åˆ†ã‚’ãƒ¢ãƒƒã‚¯åŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã‚ã¨ã«ãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„ã‚ˆã†ã«ã€ GetCertificate() ã§ã¯ã€ãƒ¡ã‚½ãƒƒãƒ‰ DescribeCertificate() ã‚’æŒã¤ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ ACMDescribeCertificateAPI ã‚’å—ã‘å–ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\næ¬¡ã®é …ã§ DescribeCertificate() ã‚’æŒã¤ ACMDescribeCertificateAPI ã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ã¦ã„ãã¾ã™ã€‚\nã‚µãƒ¼ãƒ“ã‚¹ã® API ã®ãƒ¢ãƒƒã‚¯åŒ– ã¾ãšã€ãƒ¢ãƒƒã‚¯ç”¨ã®æ§‹é€ ä½“ã€é–¢æ•°ã€åŠã³ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã—ã¾ã™ã€‚\n// MockACMAPI is a struct that represents an ACM client. type MockACMAPI struct { DescribeCertificateAPI MockACMDescribeCertificateAPI } // MockACMDescribeCertificateAPI is a type that represents a function that mock ACM\u0026#39;s DescribeCertificate. type MockACMDescribeCertificateAPI func(ctx context.Context, params *acm.DescribeCertificateInput, optFns ...func(*acm.Options)) (*acm.DescribeCertificateOutput, error) // DescribeCertificate returns a function that mock original of ACM DescribeCertificate. func (m MockACMAPI) DescribeCertificate(ctx context.Context, params *acm.DescribeCertificateInput, optFns ...func(*acm.Options)) (*acm.DescribeCertificateOutput, error) { return m.DescribeCertificateAPI(ctx, params, optFns...) } ãã—ã¦ã€ãƒ¢ãƒƒã‚¯ã®ä¸­èº«ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°ã‚’æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã—ã¾ã™ã€‚\n// MockACMParams is a structure with the elements needed to generate a mock. type MockACMParams struct { Certificate Certificate } // GenerateMockACMAPI return MockACMAPI. func GenerateMockACMAPI(mockParams []MockACMParams) MockACMAPI { return MockACMAPI{ DescribeCertificateAPI: GenerateMockACMDescribeCertificateAPI(mockParams), } } // GenerateMockACMDescribeCertificateAPI returns MockACMDescribeCertificateAPI. func GenerateMockACMDescribeCertificateAPI(mockParams []MockACMParams) MockACMDescribeCertificateAPI { return MockACMDescribeCertificateAPI(func(ctx context.Context, params *acm.DescribeCertificateInput, optFns ...func(*acm.Options)) (*acm.DescribeCertificateOutput, error) { if params.CertificateArn == nil { return nil, errors.New(\u0026#34;expect Certificate ARN to not be nil\u0026#34;) } var availableCertificates map[string]*acm.DescribeCertificateOutput = map[string]*acm.DescribeCertificateOutput{} for _, mp := range mockParams { if mp.Certificate.Arn == \u0026#34;\u0026#34; { continue } dv := types.DomainValidation{ ValidationMethod: types.ValidationMethod(mp.Certificate.ValidationMethod), } if mp.Certificate.ValidationMethod == string(types.ValidationMethodDns) { dv.DomainName = aws.String(mp.Certificate.DomainName) dv.ValidationDomain = aws.String(mp.Certificate.ValidationRecordSet.HostedDomainName) dv.ResourceRecord = \u0026amp;types.ResourceRecord{ Name: aws.String(mp.Certificate.ValidationRecordSet.Name), Value: aws.String(mp.Certificate.ValidationRecordSet.Value), Type: types.RecordType(mp.Certificate.ValidationRecordSet.Type), } } availableCertificates[mp.Certificate.Arn] = \u0026amp;acm.DescribeCertificateOutput{ Certificate: \u0026amp;types.CertificateDetail{ CertificateArn: aws.String(mp.Certificate.Arn), DomainName: aws.String(mp.Certificate.DomainName), Status: types.CertificateStatus(mp.Certificate.Status), Type: types.CertificateType(mp.Certificate.Type), FailureReason: types.FailureReason(mp.Certificate.FailureReason), DomainValidationOptions: []types.DomainValidation{dv}, }, } } dco := availableCertificates[*params.CertificateArn] if dco == nil { return nil, fmt.Errorf(\u0026#34;certificate arn not found arn: %s\u0026#34;, *params.CertificateArn) } return dco, nil }) } ã“ã® GenerateMockACMDescribeCertificateAPI() ãŒä½•ã‚’ã—ã¦ã„ã‚‹ã‹ã¨ã„ã†ã¨ã€ãƒ¢ãƒƒã‚¯ç”Ÿæˆç”¨ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ MockParams ã®ã‚¹ãƒ©ã‚¤ã‚¹ã‚’å—ã‘å–ã£ã¦ã€ãã®åˆ†ã® Certificate ã‚’ availableCertificates map[string]*acm.DescribeCertificateOutput ã¨ã—ã¦ä¿æŒã™ã‚‹ã‚ˆã†ãª DescribeCertificate ã®ãƒ¢ãƒƒã‚¯ MockACMDescribeCertificateAPI ã‚’è¿”ã—ã¦ã„ã¾ã™ã€‚ (ä¼ã‚ã£ã¦ã»ã—ã„)\nã“ã®ãƒ¢ãƒƒã‚¯ã«å¯¾ã—ã¦ acm.DescribeCertificateInput ã§ ARN ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ availableCertificates ã®ã‚­ãƒ¼ã«å­˜åœ¨ã™ã‚‹ ARN ã§ã‚ã‚Œã°ãã‚Œã«ç´ã¥ã acm.DescribeCertificateOutput ã‚’è¿”ã—ã¦ãã‚Œã¾ã™ã€‚\nGenerateMockACMAPI() ã§ã¯ã€ ACM ã®ä»–ã® API (ListCertificates ã¨ã‹ DeleteCertificate) ã®ãƒ¢ãƒƒã‚¯ã‚’è¿½åŠ ã—ãŸéš›ã«ã€ãã‚Œã‚‰ã‚’ã™ã¹ã¦æŒã¤ã‚ˆã†ãª ACM ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ãƒ¢ãƒƒã‚¯ã‚’ä½œã‚‹ãŸã‚ã§ã™ã€‚ã“ã“ã‹ goacm ã®ã‚³ãƒ¼ãƒ‰ è¦‹ã¦ã‚‚ã‚‰ã†ã¨ã‚ã‹ã‚Šã‚„ã™ã„ã‹ã¨æ€ã„ã¾ã™ã€‚\nãƒ¢ãƒƒã‚¯ã‚’åˆ©ç”¨ã—ãŸãƒ†ã‚¹ãƒˆ ãƒ¢ãƒƒã‚¯ãŒã§ããŸã®ã§ã€ãã‚Œã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«å®Ÿè£…ã—ã¾ã™ã€‚\nfunc TestGetCertificate(t *testing.T) { ap := []MockACMParams{ { Certificate: Certificate{ Arn: \u0026#34;arn:aws:acm:ap-northeast-1:000000000000:certificate/this-is-a-sample-arn\u0026#34;, DomainName: \u0026#34;test.example.com\u0026#34;, Status: string(types.CertificateStatusIssued), Type: string(types.CertificateTypeAmazonIssued), }, }, } cases := []struct { name string acmClient func(t *testing.T) MockACMAPI arn string wantErr bool expect Certificate }{ { name: \u0026#34;normal\u0026#34;, acmClient: func(t *testing.T) MockACMAPI { return GenerateMockACMAPI(ap) }, arn: \u0026#34;arn:aws:acm:ap-northeast-1:000000000000:certificate/this-is-a-sample-arn\u0026#34;, wantErr: false, expect: Certificate{ Arn: \u0026#34;arn:aws:acm:ap-northeast-1:000000000000:certificate/this-is-a-sample-arn\u0026#34;, DomainName: \u0026#34;test.example.com\u0026#34;, Status: string(types.CertificateStatusIssued), Type: string(types.CertificateTypeAmazonIssued), FailureReason: \u0026#34;\u0026#34;, }, }, { name: \u0026#34;notFound\u0026#34;, acmClient: func(t *testing.T) MockACMAPI { return GenerateMockACMAPI(ap) }, arn: \u0026#34;arn:aws:acm:ap-northeast-1:000000000000:certificate/not-found-arn\u0026#34;, wantErr: true, expect: Certificate{}, }, } for _, tt := range cases { t.Run(tt.name, func(t *testing.T) { ctx := context.TODO() c, err := GetCertificate(ctx, tt.acmClient(t), tt.arn) if tt.wantErr { assert.Error(t, err) return } assert.NoError(t, err) assert.Equal(t, tt.expect, c) }) } } ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã¨ã—ã¦ã¯ã€ æŒ‡å®šã—ãŸ ARN ã§ Certificate ãŒå–å¾—ã§ãã‚‹ã“ã¨ ã¨ã€ æŒ‡å®šã—ãŸ ARN ã«è©²å½“ã™ã‚‹ Certificate ãŒå­˜åœ¨ã—ãªã„å ´åˆã«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã“ã¨ ã§ã™ã€‚\nãƒ¢ãƒƒã‚¯ç”¨ã® API ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã¨ã—ã¦ä¸‹è¨˜ã‚’å®šç¾©ã—ã¦ã€å…ˆã»ã©å®Ÿè£…ã—ãŸ GenerateMockACMDescribeCertificateAPI() ã«æ¸¡ã—ã¦ã„ã¾ã™ã€‚\nap := []MockACMParams{ { Certificate: Certificate{ Arn: \u0026#34;arn:aws:acm:ap-northeast-1:000000000000:certificate/this-is-a-sample-arn\u0026#34;, DomainName: \u0026#34;test.example.com\u0026#34;, Status: string(types.CertificateStatusIssued), Type: string(types.CertificateTypeAmazonIssued), }, }, } ç”Ÿæˆã—ãŸãƒ¢ãƒƒã‚¯ API ã‚’ä½¿ã£ã¦è‡ªä½œã® GetCertificate() ã‚’å®Ÿè¡Œã—ã¦ã€å„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚\nã²ã¨ã“ã¨ Go ã®ç·´ç¿’ã®ãŸã‚ã« AWS SDK for Go V2 ã‚’ä½¿ã£ã¦ä½œã£ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ã™ã‚‹ãŸã‚ã« SDK ã‚’ãƒ¢ãƒƒã‚¯ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã®ã§ã€ãã®æ–¹æ³•ã«ã¤ã„ã¦æ›¸ãã¾ã—ãŸã€‚\nSDK for Go V2 ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚è€ƒã«ã—ãŸã‚‚ã®ã®ã€ã“ã†ã„ã†ä½œã‚Šæ–¹ã§è‰¯ã„ã®ã‹ï¼Ÿã¿ãŸã„ãªã®ã¯è‡ªä¿¡ãŒãªã„ã®ã§ã€ã¨ã‚Šã‚ãˆãšã‚„ã£ãŸã“ã¨ã‚’æ›¸ã„ã¦ã¿ã¾ã—ãŸã€‚ã“ã®è¨˜äº‹ãŒã©ã‚Œã ã‘ã®äººã®ç›®ã«ãµã‚Œã‚‹ã‹ã‚ã‹ã‚Šã¾ã›ã‚“ãŒã€ AWS SDK for Go V2 ã®ãƒ¢ãƒƒã‚¯åŒ–ã€ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã«ã¤ã„ã¦ä½•ã‹åå¿œãŒã‚ã‚‹ã¨å¬‰ã—ã„ãªãƒ¼ã¨æ€ã£ã¦ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-mock-for-aws-sdk-go-v2/",
    "title": "AWS SDK for Go V2 ã‚’ãƒ¢ãƒƒã‚¯ã—ã¦ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ã™ã‚‹"
  },
  {
    "contents": "ECS ã¨ Fargate ã‚’ä½¿ã£ã¦ãƒãƒƒãƒå‡¦ç†ã¨ã‹å®Ÿè¡Œã™ã‚‹ã®ã¯æ¥½ã ãªã¨ã„ã†æ°—æŒã¡ã«ãªã£ã¦ã„ã‚‹ã®ã§ã™ãŒã€æ°—ã«ãªã‚‹ã®ã¯ã‚¿ã‚¹ã‚¯ã‚’ä½œæˆã—ã¦ã‹ã‚‰å®Ÿéš›ã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã¾ã§ã®æ™‚é–“ã§ã™ã€‚ä»Šå›ã¯ãã®æ™‚é–“ã‚’è¨ˆæ¸¬ã—ã¦ã¿ã¾ã™ã€‚æœ€è¿‘ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸ Go 1.16 ã¨ AWS SDK for Go V2 ã‚’ä½¿ã£ã¦è¨ˆæ¸¬ç”¨ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¾ã—ãŸã€‚\nç›®æ¬¡ ã¯ã˜ã‚ã« ã‚¿ã‚¹ã‚¯ã§å®Ÿè¡Œã™ã‚‹ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ èµ·å‹•æ™‚é–“ã‚’è¨ˆæ¸¬ã™ã‚‹ã‚³ãƒ¼ãƒ‰ go:embed ECS ã‚¿ã‚¹ã‚¯ã®å®Ÿè¡Œ TasksStoppedWaiter ã§ã‚¿ã‚¹ã‚¯ãŒåœæ­¢ã™ã‚‹ã¾ã§å¾…æ©Ÿ å®Ÿè¡Œã—ã¦ã¿ã‚‹ ã¾ã¨ã‚ ã¯ã˜ã‚ã« Fargate for ECS ã§ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã€å®Ÿéš›ã« Fargate ã§ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã™ã‚‹ã¾ã§ã®æ™‚é–“ã‚’è¨ˆæ¸¬ã—ã¾ã™ã€‚\nã‚¿ã‚¹ã‚¯ã®å®Ÿè¡Œæ™‚ã«ã¯ã€ã‚¿ã‚¹ã‚¯ã®æƒ…å ±ã¨ã—ã¦ CreatedAt ãŒè¨˜éŒ²ã•ã‚Œã€ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•æ™‚ã«ã¯ StartedAt ãŒè¨˜éŒ²ã•ã‚Œã¾ã™ã€‚ãªã®ã§ã€ã“ã®å·®åˆ†ã‚’è¨ˆæ¸¬ã™ã‚‹ã®ãŒä»Šå›ã®ç›®çš„ã§ã™ã€‚\nAWS CLI ã‚’ä½¿ã†å ´åˆã€ã‚¿ã‚¹ã‚¯ã®å®Ÿè¡Œã«ã¯ ecs run-task ã‚³ãƒãƒ³ãƒ‰ã‚’ã€ã‚¿ã‚¹ã‚¯ã®æƒ…å ±ã‚’å–å¾—ã™ã‚‹ã«ã¯ ecs-describe-tasks ã‚³ãƒãƒ³ãƒ‰ã‚’ãã‚Œãã‚Œå®Ÿè¡Œã—ã¾ã™ã€‚ãŸã ã€ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•ã¾ã§ã®æ™‚é–“ã‚’ã‚³ãƒãƒ³ãƒ‰ã§è¨ˆæ¸¬ã™ã‚‹ã®ã¯ã¡ã‚‡ã£ã¨ã‚ã‚“ã©ãã•ãã†ãªã®ã§ã€ä»Šå›ã¯ã‚¿ã‚¹ã‚¯ã®å®Ÿè¡Œã‹ã‚‰æ™‚é–“ã®è¨ˆæ¸¬ã¾ã§ã‚’è¡Œã†ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ AWS SDK for Go V2 ã‚’ä½¿ã£ã¦å®Ÿè£…ã—ã¦ã¿ã¾ã™ã€‚\nã¾ãŸã€æœ€è¿‘ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸ Go 1.16 ã®æ©Ÿèƒ½ã®ä¸­ã‹ã‚‰ go:embed ã‚‚ä½¿ã£ã¦ã¿ã¾ã™ã€‚\nãªãŠã€ä»Šå›ã®è¨ˆæ¸¬ã«ã‚ãŸã£ã¦ã¯ä¸‹è¨˜ã®è¨˜äº‹ã‚’å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸğŸ™‡ğŸ»â€â™‚ï¸\nAWS Fargate ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºæ¯ã®èµ·å‹•æ™‚é–“ã®é•ã„ - Qiita ã‚¿ã‚¹ã‚¯ã§å®Ÿè¡Œã™ã‚‹ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ ä»Šå›ã¯èµ·å‹•ã™ã‚Œã°ã„ã„ã ã‘ãªã®ã§ã€ä¸‹è¨˜ã®ã‚ˆã†ãª Dockerfile ã§ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¾ã™ã€‚\nFROM busybox:latest ARG PAD=0 RUN dd if=/dev/urandom of=/padding bs=1M count=$PAD ãƒ“ãƒ«ãƒ‰æ™‚ã« PAD ã«å€¤ã‚’æŒ‡å®šã—ã¦ã€ä»»æ„ã®ã‚µã‚¤ã‚ºã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¾ã™ã€‚ä»Šå›ã¯ 256MB ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¾ã™ã€‚\n$ docker build -t fargate-speed-test . --build-arg PAD=256 # ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºã®ç¢ºèª (\u0026#34;ã ã„ãŸã„\u0026#34; 256 MB) $ docker images fargate-speed-test REPOSITORY TAG IMAGE ID CREATED SIZE fargate-speed-test latest fc479f1d67e2 4 hours ago 270MB ã“ã‚Œã‚’ ECR ã« push ã—ã¦ãŠãã¾ã™ã€‚ã“ã®ã‚ãŸã‚Šã®è©³ã—ã„ã‚³ãƒãƒ³ãƒ‰æ“ä½œã«ã¤ã„ã¦ã¯å‰å›ã®è¨˜äº‹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nECS ã‚¿ã‚¹ã‚¯ã‚’ä½œã£ã¦å®Ÿè¡Œã—ã¦ CloudWatch ã§ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹ã¾ã§ã‚’ AWS CLI ã ã‘ã§ã‚„ã£ã¦ã¿ãŸ - michimani.net èµ·å‹•æ™‚é–“ã‚’è¨ˆæ¸¬ã™ã‚‹ã‚³ãƒ¼ãƒ‰ ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¦ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•ã¾ã§ã®æ™‚é–“ã‚’è¨ˆæ¸¬ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¾ã™ã€‚\npackage main import ( \u0026#34;context\u0026#34; _ \u0026#34;embed\u0026#34; \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; \u0026#34;github.com/aws/aws-sdk-go-v2/aws\u0026#34; \u0026#34;github.com/aws/aws-sdk-go-v2/config\u0026#34; \u0026#34;github.com/aws/aws-sdk-go-v2/service/ecs\u0026#34; \u0026#34;github.com/aws/aws-sdk-go-v2/service/ecs/types\u0026#34; ) type AppConfig struct { Cluster string `json:\u0026#34;cluster\u0026#34;` TaskDefinitionArn string `json:\u0026#34;taskDefinitionArn\u0026#34;` SubnetID string `json:\u0026#34;subnetId\u0026#34;` Region string `json:\u0026#34;region\u0026#34;` } //go:embed config.json var configJson []byte // runECSTask runs ECS task func runECSTask() error { var appConfig AppConfig if jerr := json.Unmarshal(configJson, \u0026amp;appConfig); jerr != nil { return jerr } cfg, err := config.LoadDefaultConfig(context.TODO(), config.WithRegion(appConfig.Region)) if err != nil { return err } client := ecs.NewFromConfig(cfg) runTaskIn := \u0026amp;ecs.RunTaskInput{ TaskDefinition: aws.String(appConfig.TaskDefinitionArn), Cluster: aws.String(appConfig.Cluster), NetworkConfiguration: \u0026amp;types.NetworkConfiguration{ AwsvpcConfiguration: \u0026amp;types.AwsVpcConfiguration{ Subnets: []string{ appConfig.SubnetID, }, AssignPublicIp: types.AssignPublicIpEnabled, }, }, LaunchType: types.LaunchTypeFargate, } runOut, rerr := client.RunTask(context.TODO(), runTaskIn) if rerr != nil { return rerr } taskArn := aws.ToString(runOut.Tasks[0].TaskArn) fmt.Println(\u0026#34;Task Created.\u0026#34;) fmt.Println(\u0026#34;\\tTaskARN: \u0026#34;, taskArn) fmt.Printf(\u0026#34;\\taws ecs describe-tasks --cluster %s --tasks %s\\n\\n\u0026#34;, appConfig.Cluster, taskArn) waiter := ecs.NewTasksStoppedWaiter(client) waitParams := \u0026amp;ecs.DescribeTasksInput{ Tasks: []string{taskArn}, Cluster: aws.String(appConfig.Cluster), } maxWaitTime := 5 * time.Minute if werr := waiter.Wait(context.TODO(), waitParams, maxWaitTime); werr != nil { return werr } describeIn := \u0026amp;ecs.DescribeTasksInput{ Tasks: []string{taskArn}, Cluster: aws.String(appConfig.Cluster), } stopOut, serr := client.DescribeTasks(context.TODO(), describeIn) if serr != nil { return serr } createdAt := *stopOut.Tasks[0].CreatedAt startedAt := *stopOut.Tasks[0].StartedAt stoppedAt := *stopOut.Tasks[0].StoppedAt takenTime := startedAt.Sub(createdAt) fmt.Println(\u0026#34;Task Stopped.\u0026#34;) fmt.Println(\u0026#34;\\tTaskARN: \u0026#34;, aws.ToString(stopOut.Tasks[0].TaskArn)) fmt.Println(\u0026#34;\\tCreatedAt: \u0026#34;, createdAt) fmt.Println(\u0026#34;\\tStartedAt: \u0026#34;, startedAt) fmt.Println(\u0026#34;\\tStoppedAt: \u0026#34;, stoppedAt) fmt.Printf(\u0026#34;\\tTakenTimeToStart: %s\u0026#34;, takenTime) return nil } func main() { if err := runECSTask(); err != nil { fmt.Println(err.Error()) } } gist - This is a script using the AWS SDK for Go V2 and Go 1.16. Measure the time it takes to launch AWS Fargate for ECS. ä¸­èº«ã‚’ç°¡å˜ã«è§£èª¬ã—ã¦ãŠãã¾ã™ã€‚\ngo:embed import ( _ \u0026#34;embed\u0026#34; ) //go:embed config.json var configJson []byte ã“ã®éƒ¨åˆ†ã§ã€ Go 1.16 ã§å®Ÿè£…ã•ã‚ŒãŸ go:embed ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚\nä½•ã‚’ã—ã¦ã„ã‚‹ã‹ã¨ã„ã†ã¨ã€ä¸Šã®è¨˜è¿°ã§ã¯ã“ã® main.go ã¨åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚‹ config.json ã‚’ byte ã®ã‚¹ãƒ©ã‚¤ã‚¹ã¨ã—ã¦ configJson ã«ä»£å…¥ã—ã¦ã„ã¾ã™ã€‚ãã—ã¦ãã® configJson ã‚’ AppConfig ã®æ§‹é€ ä½“ã«å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚\ngo:embed ã‚’ä½¿ã£ã¦åŸ‹ã‚è¾¼ã¾ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãƒã‚¤ãƒŠãƒªã«ã‚‚å«ã¾ã‚Œã‚‹ãŸã‚ã€ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚ã‚Œã°ç”»åƒã‚„ CSS ãªã©ã‚’ go:embed ã§åŸ‹ã‚è¾¼ã‚€ã“ã¨ã§è«¸ã€…ã‚’ä¸€ã¤ã®ãƒã‚¤ãƒŠãƒªã«å«ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ go:embed ãŠã‚ˆã³ Go 1.16 ã®ãã®ä»–ã®ãƒªãƒªãƒ¼ã‚¹å†…å®¹ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®è¨˜äº‹ã§è©³ã—ãè§£èª¬ã•ã‚Œã¦ã„ã¾ã™ã€‚\nGo 1.16é€£è¼‰ãŒå§‹ã¾ã‚Šã¾ã™ | ãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼æŠ€è¡“ãƒ–ãƒ­ã‚° config.json ã§ã¯ã€ ECS ã‚¿ã‚¹ã‚¯ã®å®Ÿè¡Œã«æœ€ä½é™å¿…è¦ãªæƒ…å ±ã‚’ä¿æŒã—ã¦ã„ã¾ã™ã€‚\n{ \u0026#34;cluster\u0026#34;: \u0026#34;fargate-speed-test-cluster\u0026#34;, \u0026#34;taskDefinitionArn\u0026#34;: \u0026#34;arn:aws:ecs:ap-northeast-1:000000000000:task-definition/fargate-speed-test:5\u0026#34;, \u0026#34;subnetId\u0026#34;: \u0026#34;subnet-06ee4b00000000000\u0026#34;, \u0026#34;region\u0026#34;: \u0026#34;ap-northeast-1\u0026#34; } ECS ã‚¿ã‚¹ã‚¯ã®å®Ÿè¡Œ ä¸‹è¨˜ã®éƒ¨åˆ†ã§ ECS ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚\ncfg, err := config.LoadDefaultConfig(context.TODO(), config.WithRegion(appConfig.Region)) if err != nil { return err } client := ecs.NewFromConfig(cfg) runTaskIn := \u0026amp;ecs.RunTaskInput{ TaskDefinition: aws.String(appConfig.TaskDefinitionArn), Cluster: aws.String(appConfig.Cluster), NetworkConfiguration: \u0026amp;types.NetworkConfiguration{ AwsvpcConfiguration: \u0026amp;types.AwsVpcConfiguration{ Subnets: []string{ appConfig.SubnetID, }, AssignPublicIp: types.AssignPublicIpEnabled, }, }, LaunchType: types.LaunchTypeFargate, } runOut, rerr := client.RunTask(context.TODO(), runTaskIn) if rerr != nil { return rerr } ecs - Client.RunTask Â· pkg.go.dev TasksStoppedWaiter ã§ã‚¿ã‚¹ã‚¯ãŒåœæ­¢ã™ã‚‹ã¾ã§å¾…æ©Ÿ ä¸‹è¨˜ã®éƒ¨åˆ†ã§ã€å®Ÿè¡Œã—ãŸã‚¿ã‚¹ã‚¯ãŒåœæ­¢ã™ã‚‹ã¾ã§å¾…æ©Ÿã—ã¦ã„ã¾ã™ã€‚\nwaiter := ecs.NewTasksStoppedWaiter(client) waitParams := \u0026amp;ecs.DescribeTasksInput{ Tasks: []string{taskArn}, Cluster: aws.String(appConfig.Cluster), } maxWaitTime := 5 * time.Minute if werr := waiter.Wait(context.TODO(), waitParams, maxWaitTime); werr != nil { return werr } ecs - NewTasksStoppedWaiter Â· pkg.go.dev ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¿ã‚¹ã‚¯ãŒçµ‚äº†ã—ãŸçŠ¶æ…‹ã®ã‚¿ã‚¹ã‚¯ã®çŠ¶æ…‹ã‚’å–å¾—ã§ãã€ã‚¿ã‚¹ã‚¯å®Ÿè¡Œã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã™ã‚‹ã¾ã§ã®æ™‚é–“ã‚’è¨ˆæ¸¬ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nå®Ÿè¡Œã—ã¦ã¿ã‚‹ $ go run main.go Task Created. TaskARN: arn:aws:ecs:ap-northeast-1:000000000000:task/fargate-speed-test-cluster/fc2a03112a0000000000xxxxxxxxxxxx aws ecs describe-tasks --cluster fargate-speed-test-cluster --tasks arn:aws:ecs:ap-northeast-1:000000000000:task/fargate-speed-test-cluster/fc2a03112a0000000000xxxxxxxxxxxx Task Stopped. TaskARN: arn:aws:ecs:ap-northeast-1:000000000000:task/fargate-speed-test-cluster/fc2a03112a0000000000xxxxxxxxxxxx CreatedAt: 2021-02-19 15:33:20.308 +0000 UTC StartedAt: 2021-02-19 15:33:58.187 +0000 UTC StoppedAt: 2021-02-19 15:34:41.937 +0000 UTC TakenTimeToStart: 37.879s 37.879s ã‹ã‹ã£ãŸã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚\nã¾ã¨ã‚ AWS SDK for Go V2 ã‚’ä½¿ã£ã¦ Farget for ECS ã§ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¦ã€å®Ÿéš›ã«ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã™ã‚‹ã¾ã§ã®æ™‚é–“ã‚’è¨ˆæ¸¬ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚ã¤ã„ã§ã«ã€ Go 1.16 ã§ç››ã‚Šè¾¼ã¾ã‚ŒãŸ go:embed ã‚‚ä½¿ã£ã¦ã¿ã¾ã—ãŸã€‚\nä»Šå¾Œã‚„ã‚ŠãŸã„ã“ã¨ã¨ã—ã¦ã¯ã€ ECS_IMAGE_PULL_BEHAVIOR ã‚’æœ‰åŠ¹ã«ã—ãŸã¨ãã«èµ·å‹•ã¾ã§ã®æ™‚é–“ãŒã©ã‚Œãã‚‰ã„çŸ­ããªã‚‹ã®ã‹ã‚’è¨ˆæ¸¬ã—ãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\nECS (EC2) ã ã¨ã€ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ãŸã‚ã®è¨­å®šã¨ã—ã¦ ECS_IMAGE_PULL_BEHAVIOR ãŒä½¿ãˆã‚‹ã®ã§ã™ãŒã€ã“ã®è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã‚‹æ™‚ç‚¹ã§ã¯ Fargate ã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚\nAmazon ECS on EC2ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯? | DevelopersIO ãªã®ã§ã€æ¬¡ã¯ã“ã®è¨­å®šãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸã‚‰æ”¹ã‚ã¦è¨ˆæ¸¬ã—ã¦ã€ã©ã‚Œã ã‘æ—©ããªã‚‹ã®ã‹è©¦ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-how-long-does-fargate-take-to-start/",
    "title": "AWS SDK for Go V2 ã‚’ä½¿ã£ã¦ Fargate for ECS ã§ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¦ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã™ã‚‹ã¾ã§ã®æ™‚é–“ã‚’è¨ˆæ¸¬ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "å‰ã« AWS Copilot ã‚’ä½¿ã£ã¦ ECS ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã™ã‚‹ç’°å¢ƒ (VPC ã¨ã‹ ã‚µãƒ–ãƒãƒƒãƒˆã¨ã‹) ã‚’ã‚µã‚¯ãƒƒã¨ä½œã£ãŸã®ã§ã™ãŒã€ä»Šå›ã¯ãªã‚“ã¨ãªã AWS CLI ã§å…¨éƒ¨ä½œã£ã¦ã¿ã¾ã—ãŸã€‚æ°—è»½ã«å§‹ã‚ãŸå‰²ã«ã¯çµæ§‹ãªãƒœãƒªãƒ¥ãƒ¼ãƒ ã«ãªã£ãŸã®ã§ã€å‚™å¿˜éŒ²ã¨ã—ã¦æ®‹ã—ã¦ãŠãã¾ã™ã€‚\nAWS Copilot ã‚’ä½¿ã£ã¦ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚ŒãŸ ECS ã‚¿ã‚¹ã‚¯ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ - michimani.net ç›®æ¬¡ ã¯ã˜ã‚ã« ä½œæˆã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ ä½œã£ã¦ã„ã ECR VPC ECS CloudWatch å®Ÿè¡Œã™ã‚‹ ç¢ºèªã™ã‚‹ ECS ã‚¿ã‚¹ã‚¯ã®å®Ÿè¡ŒçŠ¶æ³ CloudWatch Logs ã®ã‚¤ãƒ™ãƒ³ãƒˆ ã¾ã¨ã‚ ã¯ã˜ã‚ã« ä»Šå›ã¯ã€ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå†…ã® S3 ãƒã‚±ãƒƒãƒˆã®æ•°ã‚’å‡ºåŠ›ã™ã‚‹ ECS ã‚¿ã‚¹ã‚¯ ã‚’ä½œæˆã—ã¦å®Ÿè¡Œã—ã¾ã™ã€‚\nå®Ÿè¡Œã™ã‚‹ã¾ã§ã«å¿…è¦ãªè«¸ã€…ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¦ã€å®Ÿéš›ã«å®Ÿè¡Œã—ã€CloudWatch Logs ã«å‡ºåŠ›ã•ã‚ŒãŸãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹ã¨ã“ã‚ã¾ã§ã‚’ AWS CLI ã§ã‚„ã£ã¦ã¿ã¾ã™ã€‚å¿…è¦ã«ãªã‚‹è«¸ã€…ã®å€¤ã¯å¤‰æ•°ã«è¨­å®šã—ãªãŒã‚‰é€²ã‚ã¦ã„ã‚‹ã®ã§ã€ã™ã¹ã¦åŒä¸€ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ç¶šã‘ã¦å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚\nAWS CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€å®Ÿè¡Œæ™‚ç‚¹ã§æœ€æ–°ã ã£ãŸ 2.1.26 ã‚’ä½¿ã„ã¾ã™ã€‚\n$ aws --version aws-cli/2.1.26 Python/3.7.4 Darwin/19.6.0 exe/x86_64 prompt/off ä½œæˆã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ ä½œæˆã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\nECR ãƒªãƒã‚¸ãƒˆãƒª VPC ã‚µãƒ–ãƒãƒƒãƒˆ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ ãƒ«ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ« ECS ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ ã‚¿ã‚¹ã‚¯å®šç¾© IAM ãƒ­ãƒ¼ãƒ« CloudWatch ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ— ä½œã£ã¦ã„ã ã§ã¯ã€å‰é …ã§æŒ™ã’ãŸãƒªã‚½ãƒ¼ã‚¹ã‚’é †ã«ä½œã£ã¦ã„ãã¾ã™ã€‚ä»Šå›ä½œæˆã™ã‚‹ã‚¿ã‚¹ã‚¯ (ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³) ã®åå‰ã¯ esc-task-test ã¨ã—ã¾ã™ã€‚\n$ APP_NAME=\u0026#34;esc-task-test\u0026#34; ã¾ãŸã€ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã‚‚å¿…è¦ã«ãªã‚‹ã®ã§ã€å…ˆã«å¤‰æ•°ã«è¨­å®šã—ã¦ãŠãã¾ã™ã€‚\n$ AWS_ACCOUNT_ID=$( \\ aws sts get-caller-identity \\ --query \u0026#39;Account\u0026#39; \\ --output text ) \\ \u0026amp;\u0026amp; echo \u0026#34;${AWS_ACCOUNT_ID}\u0026#34; ã¾ãŸã€ã‚³ãƒãƒ³ãƒ‰å†…ã§æ¼ã‚Œã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªãƒªã‚½ãƒ¼ã‚¹ã‚’é™¤ã„ã¦ã™ã¹ã¦æ±äº¬ ap-northeast-1 ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ä½œæˆã—ã¾ã™ã€‚\nECR ã¾ãšã¯ ECR ã®ãƒªãƒã‚¸ãƒˆãƒªã§ã™ã€‚\n$ ECR_REPO_URI=$( \\ aws ecr create-repository \\ --repository-name ${APP_NAME} \\ --region ap-northeast-1 \\ --query \u0026#34;repository.repositoryUri\u0026#34; \\ --output text ) \\ \u0026amp;\u0026amp; echo \u0026#34;${ECR_REPO_URI}\u0026#34; ãƒªãƒã‚¸ãƒˆãƒªãŒä½œæˆã§ããŸã‚‰ã€ docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ push ã—ã¦ãŠãã¾ã™ã€‚ä»Šå›ã¯ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå†…ã® S3 ãƒã‚±ãƒƒãƒˆã®æ•°ã‚’æ¨™æº–å‡ºåŠ›ã«å‡ºåŠ›ã™ã‚‹ã ã‘ã®ã‚¿ã‚¹ã‚¯ãªã®ã§ã€ Amazon Linux ã‚’ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ã€ä¸­ã§ AWS CLI ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ s3api list-buckets ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¾ã™ã€‚ Dockerfile ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\nFROM amazonlinux:2.0.20210126.0-with-sources RUN yum install -y unzip less \\ \u0026amp;\u0026amp; curl \u0026#34;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\u0026#34; -o \u0026#34;awscliv2.zip\u0026#34; \\ \u0026amp;\u0026amp; unzip awscliv2.zip \\ \u0026amp;\u0026amp; ./aws/install \\ \u0026amp;\u0026amp; aws --version CMD BUCKET_CNT=$(\\ aws s3api list-buckets --query \u0026#34;Buckets[] | length(@)\u0026#34; --output text) \\ \u0026amp;\u0026amp; echo \u0026#34;There are ${BUCKET_CNT} S3 buckets\u0026#34; ãƒ“ãƒ«ãƒ‰ã—ã¦ã€ä½œæˆã—ãŸ ECR ãƒªãƒã‚¸ãƒˆãƒªã« push ã—ã¾ã™ã€‚\n# ãƒ“ãƒ«ãƒ‰ $ docker build -t ${APP_NAME} . # ã‚¿ã‚°ä»˜ã‘ $ docker tag ${APP_NAME}:latest ${AWS_ACCOUNT_ID}.dkr.ecr.ap-northeast-1.amazonaws.com/${APP_NAME}:latest # ECR ã«ãƒ­ã‚°ã‚¤ãƒ³ $ aws ecr get-login-password \\ --region ap-northeast-1 \\ | docker login \\ --username AWS \\ --password-stdin ${AWS_ACCOUNT_ID}.dkr.ecr.ap-northeast-1.amazonaws.com # push $ docker push ${AWS_ACCOUNT_ID}.dkr.ecr.ap-northeast-1.amazonaws.com/${APP_NAME}:latest VPC ç¶šã„ã¦ã€ VPC ãªã©ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é–¢é€£ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚ä»Šå›ã¯ ECR ã‹ã‚‰ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¦å®Ÿè¡Œã™ã‚‹ã®ã§ã€ ECS ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã™ã‚‹ã‚µãƒ–ãƒãƒƒãƒˆã‹ã‚‰ã¯å¤–éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«æ¥ç¶šã§ãã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚å®Ÿéš›ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚µãƒ–ãƒãƒƒãƒˆã§å®Ÿè¡Œã—ã¦ NAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤çµŒç”±ã§æ¥ç¶šã™ã‚‹æ–¹æ³•ãŒä¸€èˆ¬çš„ã‹ã¨æ€ã„ã¾ã™ãŒã€ä»Šå›ã¯ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚µãƒ–ãƒãƒƒãƒˆã§å®Ÿè¡Œã™ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚(NAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤é«˜ã„ã®ã§\u0026hellip;)\nãªã®ã§ã€è«¸ã€…ã®ãƒªã‚½ãƒ¼ã‚¹ã®ä½œæˆé †åºã¨ã—ã¦ã¯ã€ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\nVPC ä½œæˆ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ (IGW) ä½œæˆã€VPC ã«ã‚¢ã‚¿ãƒƒãƒ ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆã€IGW ã¸ã®ãƒ«ãƒ¼ãƒˆã‚’ä½œæˆ ã‚µãƒ–ãƒãƒƒãƒˆã‚’ä½œæˆ ãƒ«ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã‚µãƒ–ãƒãƒƒãƒˆã‚’é–¢é€£ä»˜ã‘ Public IP ã®è‡ªå‹•ä»˜ä¸è¨­å®š ã§ã¯é †ç•ªã«ã‚„ã£ã¦ã„ãã¾ã™ã€‚\n1. VPC ä½œæˆ $ VPC_ID=$( \\ aws ec2 create-vpc \\ --cidr-block 10.0.0.0/16 \\ --query \u0026#34;Vpc.VpcId\u0026#34; \\ --output text )\\ \u0026amp;\u0026amp; echo \u0026#34;${VPC_ID}\u0026#34; 2. ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ (IGW) ä½œæˆã€VPC ã«ã‚¢ã‚¿ãƒƒãƒ # IGW ã‚’ä½œæˆ $ IGW_ID=$(\\ aws ec2 create-internet-gateway \\ --query \u0026#34;InternetGateway.InternetGatewayId\u0026#34; \\ --output text )\\ \u0026amp;\u0026amp; echo \u0026#34;${IGW_ID}\u0026#34; # VPC ã«ã‚¢ã‚¿ãƒƒãƒ $ aws ec2 attach-internet-gateway \\ --vpc-id \u0026#34;${VPC_ID}\u0026#34; \\ --internet-gateway-id \u0026#34;${IGW_ID}\u0026#34; 3. ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆã€IGW ã¸ã®ãƒ«ãƒ¼ãƒˆã‚’ä½œæˆ # ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆ $ ROUTE_TABLE_ID=$( \\ aws ec2 create-route-table \\ --vpc-id \u0026#34;${VPC_ID}\u0026#34; \\ --query \u0026#34;RouteTable.RouteTableId\u0026#34; \\ --output text )\\ \u0026amp;\u0026amp; echo \u0026#34;${ROUTE_TABLE_ID}\u0026#34; # IGW ã¸ã®ãƒ«ãƒ¼ãƒˆã®ä½œæˆ $ aws ec2 create-route \\ --route-table-id \u0026#34;${ROUTE_TABLE_ID}\u0026#34; \\ --destination-cidr-block 0.0.0.0/0 \\ --gateway-id \u0026#34;${IGW_ID}\u0026#34; 4. ã‚µãƒ–ãƒãƒƒãƒˆã‚’ä½œæˆ $ SUBNET_ID=$( \\ aws ec2 create-subnet \\ --cidr-block 10.0.0.0/24 \\ --vpc-id \u0026#34;${VPC_ID}\u0026#34; \\ --query \u0026#34;Subnet.SubnetId\u0026#34; \\ --output text )\\ \u0026amp;\u0026amp; echo \u0026#34;${SUBNET_ID}\u0026#34; 5. ãƒ«ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã‚µãƒ–ãƒãƒƒãƒˆã‚’é–¢é€£ä»˜ã‘ $ aws ec2 associate-route-table \\ --subnet-id \u0026#34;${SUBNET_ID}\u0026#34; \\ --route-table-id \u0026#34;${ROUTE_TABLE_ID}\u0026#34; 6. Public IP ã®è‡ªå‹•ä»˜ä¸è¨­å®š $ aws ec2 modify-subnet-attribute \\ --subnet-id \u0026#34;${SUBNET_ID}\u0026#34; \\ --map-public-ip-on-launch ã©ã†ã§ã‚‚ã„ã„ã‚“ã§ã™ãŒã€ VPC é–¢é€£ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†éš›ã«ã‚‚ AWS CLI ã®ã‚³ãƒãƒ³ãƒ‰ã¯ ec2 ãªã‚“ã§ã™ã‚ˆã­ã€‚æœ€è¿‘ã¯ã‚‚ã† VPC ã¯ EC2 ã ã‘ã®ã‚‚ã®ã§ã¯ãªã„æ°—ã‚‚ã™ã‚‹ã®ã§ã™ãŒã€éå»ã®çµŒç·¯ã‹ã‚‰ã‚‚ã“ã†ãªã£ã¦ã„ã‚‹ã‚“ã§ã—ã‚‡ã†ã‹ã€‚\nECS ç¶šã„ã¦ã¯ ECR ã®ãƒªã‚½ãƒ¼ã‚¹ã§ã™ã€‚ä½œæˆã™ã‚‹ã®ã¯ä¸‹è¨˜ã®ãƒªã‚½ãƒ¼ã‚¹ã§ã™ã€‚\nã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ ã‚¿ã‚¹ã‚¯å®šç¾© ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ $ aws ecs create-cluster \\ --cluster-name ${APP_NAME}-cluster \\ --region ap-northeast-1 ã‚¿ã‚¹ã‚¯å®šç¾© ã‚¿ã‚¹ã‚¯å®šç¾©ã‚’ä½œæˆã™ã‚‹éš›ã«ã€ ã‚¿ã‚¹ã‚¯å®Ÿè¡Œãƒ­ãƒ¼ãƒ« ã¨ ã‚¿ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€ãã‚Œãã‚Œä½œæˆã—ã¾ã™ã€‚\nã‚¿ã‚¹ã‚¯å®Ÿè¡Œãƒ­ãƒ¼ãƒ« ãƒ­ãƒ¼ãƒ«ã«ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ãƒãƒªã‚·ãƒ¼ã¯ã€äºˆã‚ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ AmazonECSTaskExecutionRolePolicy ã‚’ä½¿ã„ã¾ã™ã€‚\n# AssumeRole Policy Document ä½œæˆ $ cat \u0026lt;\u0026lt;EOF \u0026gt; assume-role-policy-doc-for-task-exec-role.json { \u0026#34;Version\u0026#34;: \u0026#34;2008-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;Service\u0026#34;: \u0026#34;ecs-tasks.amazonaws.com\u0026#34; }, \u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34; } ] } EOF # IAM Role ä½œæˆ $ TASK_EXEC_ROLE_ARN=$( \\ aws iam create-role \\ --role-name ${APP_NAME}-task-exec-role \\ --assume-role-policy-document file://assume-role-policy-doc-for-task-exec-role.json \\ --query \u0026#34;Role.Arn\u0026#34; \\ --output text ) \\ \u0026amp;\u0026amp; echo \u0026#34;${TASK_EXEC_ROLE_ARN}\u0026#34; # ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ IAM Policy ã® ARN å–å¾— $ POLICY_ARN=$(\\ aws iam list-policies \\ --path-prefix \u0026#34;/service-role/\u0026#34; \\ --max-items 1000 \\ --query \u0026#34;Policies[?PolicyName == \\`AmazonECSTaskExecutionRolePolicy\\`].Arn\u0026#34; \\ --output text )\\ \u0026amp;\u0026amp; echo \u0026#34;${POLICY_ARN=$}\u0026#34; # Role ã« Policy ã‚’ã‚¢ã‚¿ãƒƒãƒ $ aws iam attach-role-policy \\ --role-name ${APP_NAME}-task-exec-role \\ --policy-arn ${POLICY_ARN} ã‚¿ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« ä»Šå›ã®ã‚¿ã‚¹ã‚¯ã§ã¯ S3 ãƒã‚±ãƒƒãƒˆã®ãƒªã‚¹ãƒˆã‚’å–å¾—ã—ã¦ã„ã‚‹ã®ã§ã€ S3 ã«å¯¾ã™ã‚‹èª­ã¿å–ã‚Šæ¨©é™ãŒã‚ã‚Œã°ååˆ†ã§ã™ã€‚ãªã®ã§ã€ãƒ­ãƒ¼ãƒ«ã«ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ãƒãƒªã‚·ãƒ¼ã¯ã€äºˆã‚ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ AmazonS3ReadOnlyAccess ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\n# AssumeRole Policy Document ä½œæˆ $ cat \u0026lt;\u0026lt;EOF \u0026gt; assume-role-policy-doc-for-task-role.json { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;Service\u0026#34;: \u0026#34;ecs-tasks.amazonaws.com\u0026#34; }, \u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34; } ] } EOF # IAM Role ä½œæˆ $ TASK_ROLE_ARN=$( \\ aws iam create-role \\ --role-name ${APP_NAME}-task-role \\ --assume-role-policy-document file://assume-role-policy-doc-for-task-role.json \\ --query \u0026#34;Role.Arn\u0026#34; \\ --output text ) \\ \u0026amp;\u0026amp; echo \u0026#34;${TASK_ROLE_ARN}\u0026#34; # ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ IAM Policy ã® ARN å–å¾— $ TASK_ROLE_POLICY_ARN=$(\\ aws iam list-policies \\ --max-items 1000 \\ --query \u0026#34;Policies[?PolicyName == \\`AmazonS3ReadOnlyAccess\\`].Arn\u0026#34; \\ --output text )\\ \u0026amp;\u0026amp; echo \u0026#34;${TASK_ROLE_POLICY_ARN}\u0026#34; # Role ã« Policy ã‚’ã‚¢ã‚¿ãƒƒãƒ $ aws iam attach-role-policy \\ --role-name ${APP_NAME}-task-role \\ --policy-arn ${TASK_ROLE_POLICY_ARN} ã‚¿ã‚¹ã‚¯å®šç¾© å¿…è¦ãªãƒ­ãƒ¼ãƒ«ãŒæƒã£ãŸã®ã§ã€ã‚¿ã‚¹ã‚¯å®šç¾©ã‚’ä½œæˆã—ã¾ã™ã€‚ã‚¿ã‚¹ã‚¯å®šç¾©ã® JSON ã¯ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç¢ºèªã—ã¦ã€ä»Šå›ã¯å¿…è¦æœ€ä½é™ã®é …ç›®ã®ã¿æŒ‡å®šã—ã¾ã™ã€‚\n# ã‚¿ã‚¹ã‚¯å®šç¾©ç”¨ã® JSON ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç¢ºèª $ aws ecs register-task-definition \\ --generate-cli-skeleton # å¿…è¦æœ€ä½é™ã®å†…å®¹ã§ task-definition.json ã‚’ä½œæˆ $ cat \u0026lt;\u0026lt;EOF \u0026gt; task-definition.json { \u0026#34;family\u0026#34;: \u0026#34;${APP_NAME}\u0026#34;, \u0026#34;networkMode\u0026#34;: \u0026#34;awsvpc\u0026#34;, \u0026#34;containerDefinitions\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;${APP_NAME}-app\u0026#34;, \u0026#34;image\u0026#34;: \u0026#34;${ECR_REPO_URI}\u0026#34;, \u0026#34;logConfiguration\u0026#34;: { \u0026#34;logDriver\u0026#34;: \u0026#34;awslogs\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;awslogs-group\u0026#34;: \u0026#34;/dev/${APP_NAME}-task\u0026#34;, \u0026#34;awslogs-region\u0026#34;: \u0026#34;ap-northeast-1\u0026#34;, \u0026#34;awslogs-stream-prefix\u0026#34;: \u0026#34;dev\u0026#34; } } } ], \u0026#34;requiresCompatibilities\u0026#34;: [ \u0026#34;FARGATE\u0026#34; ], \u0026#34;taskRoleArn\u0026#34;: \u0026#34;${TASK_ROLE_ARN}\u0026#34;, \u0026#34;executionRoleArn\u0026#34;: \u0026#34;${TASK_EXEC_ROLE_ARN}\u0026#34;, \u0026#34;cpu\u0026#34;: \u0026#34;256\u0026#34;, \u0026#34;memory\u0026#34;: \u0026#34;512\u0026#34; } EOF # ã‚¿ã‚¹ã‚¯å®šç¾©ã‚’ä½œæˆ $ TASK_DEF_ARN=$( \\ aws ecs register-task-definition \\ --cli-input-json file://task-definition.json \\ --query \u0026#34;taskDefinition.taskDefinitionArn\u0026#34; \\ --output text) \\ \u0026amp;\u0026amp; echo \u0026#34;${TASK_DEF_ARN}\u0026#34; CloudWatch æœ€å¾Œã«ã€ CloudWatch Logs ã®ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆã—ã¦ãŠãã¾ã™ã€‚\n$ aws logs create-log-group \\ --log-group-name /dev/${APP_NAME}-task å®Ÿè¡Œã™ã‚‹ è«¸ã€…æº–å‚™ãŒæ•´ã£ãŸã®ã§ã€ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n$ TASK_ARN=$(\\ aws ecs run-task \\ --cluster ${APP_NAME}-cluster \\ --task-definition \u0026#34;${TASK_DEF_ARN}\u0026#34; \\ --network-configuration \u0026#34;awsvpcConfiguration={subnets=[${SUBNET_ID}],assignPublicIp=ENABLED}\u0026#34; \\ --launch-type FARGATE \\ --query \u0026#34;tasks[0].taskArn\u0026#34; \\ --output text )\\ \u0026amp;\u0026amp; echo ${TASK_ARN} ç¢ºèªã™ã‚‹ å®Ÿè¡ŒçŠ¶æ³ã‚’ç¢ºèªã—ã¤ã¤ã€å®Ÿè¡ŒãŒçµ‚ã‚ã£ãŸã‚‰ CloudWatch Logs ã§ãƒ­ã‚°ã‚’ç¢ºèªã—ã¾ã™ã€‚\nECS ã‚¿ã‚¹ã‚¯ã®å®Ÿè¡ŒçŠ¶æ³ # ã‚¿ã‚¹ã‚¯ã®å®Ÿè¡ŒçŠ¶æ³ç¢ºèª $ aws ecs describe-tasks \\ --tasks ${TASK_ARN} \\ --cluster ${APP_NAME}-cluster \\ --query \u0026#34;tasks[0].lastStatus\u0026#34; \\ --output text STOPPED ã«ãªã£ã¦ã„ã‚Œã°ã‚¿ã‚¹ã‚¯ã®å®Ÿè¡Œã¯çµ‚ã‚ã£ã¦ã„ã¾ã™ã€‚\nCloudWatch Logs ã«ã‚¤ãƒ™ãƒ³ãƒˆãŒå‡ºåŠ›ã•ã‚Œã¦ã„ãªã„ã¨ã‹ã€ãã®ä»–çµæœãŒãŠã‹ã—ã„å ´åˆã«ã¯ --query ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å¤–ã—ã¦ç¢ºèªã—ã¾ã™ã€‚\nCloudWatch Logs ã®ã‚¤ãƒ™ãƒ³ãƒˆ # æœ€æ–°ã®ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ åã‚’å–å¾— $ LOG_ST_NAME=$(\\ aws logs describe-log-streams \\ --log-group-name /dev/${APP_NAME}-task \\ --query \u0026#39;max_by(logStreams[], \u0026amp;lastEventTimestamp).logStreamName\u0026#39; \\ --output text) \\ \u0026amp;\u0026amp; echo \u0026#34;${LOG_ST_NAME}\u0026#34; # ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆå–å¾— $ aws logs get-log-events \\ --log-group-name /dev/${APP_NAME}-task \\ --log-stream-name \u0026#34;${LOG_ST_NAME}\u0026#34; \\ --limit 5 \\ --query \u0026#39;events[].[join(``, [ to_string(timestamp) ,`: `,message])]\u0026#39; \\ --output text 1613656782996: There are 80 S3 buckets ã®ã‚ˆã†ãªå‡ºåŠ›ãŒã•ã‚Œã‚Œã° OK ã§ã™ã€‚\nã¾ã¨ã‚ ECS ã‚¿ã‚¹ã‚¯ã‚’ä½œã£ã¦ã€å®Ÿè¡Œã—ã¦ CloudWatch ã§ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹ã¾ã§ã‚’ AWS CLI ã ã‘ã§ã‚„ã£ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\næ¥½ã•ã§ã„ã†ã¨ Copilot ã®ã»ã†ãŒåœ§å€’çš„ã§ã™ã€‚ãŒã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å‘¨ã‚Šã®ãƒªã‚½ãƒ¼ã‚¹ã¨ã‹ã€ãã®ä»– ECS ã§ã‚¿ã‚¹ã‚¯å®Ÿè¡Œã™ã‚‹ã¨ãã«å¿…è¦ãªãƒªã‚½ãƒ¼ã‚¹ã¨ãã®é–¢ä¿‚ã«ã¤ã„ã¦ç†è§£ã™ã‚‹ã«ã¯ã€ã‚„ã£ã±ã‚Š AWS CLI ã¯æœ€é©ã§ã—ãŸã€‚\nECS ã¾ã‚ã‚Šã¯æœ€è¿‘ã«ãªã£ã¦ã¡ã‚ƒã‚“ã¨è§¦ã£ã¦ã‚‹ã‚“ã§ã™ãŒã€ã¨ã‚Šã‚ãˆãšå‹•ãã‚‚ã®ã‚’ Copilot ã§ã‚µã‚¯ãƒƒã¨ä½œã£ã¦ã€ãã®å¾Œã§ CLI ã§ä¸€ã¤ãšã¤ä½œã£ã¦ã„ãã£ã¦ã„ã†æ–¹æ³•ãŒå€‹äººçš„ã«ã¯ã‹ãªã‚Šã—ã£ãã‚Šãã¦ã¾ã™ã€‚ECS ã‚ˆãã‚ã‹ã‚‰ã‚“ã£ã¦ã„ã†æ–¹ã¯åŒã˜ã‚ˆã†ãªé †åºã§è§¦ã£ã¦ã¿ã‚‹ã¨ç†è§£ã—ã‚„ã™ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\n",
    "permalink": "https://michimani.net/post/aws-run-ecs-task-using-only-aws-cli/",
    "title": "ECS ã‚¿ã‚¹ã‚¯ã‚’ä½œã£ã¦å®Ÿè¡Œã—ã¦ CloudWatch ã§ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹ã¾ã§ã‚’ AWS CLI ã ã‘ã§ã‚„ã£ã¦ã¿ãŸ"
  },
  {
    "contents": "Google ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆä¸Šã§ä½œæˆã—ãŸè¡¨ã‚’ Markdown å½¢å¼ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¤‰æ›ã™ã‚‹ã‚¢ãƒ‰ã‚ªãƒ³ã‚’ä½œæˆã—ã¦ã€ç„¡äº‹ã« Google Workspace Marketplace ã§å…¬é–‹ã•ã‚Œã¾ã—ãŸğŸ‰\nå…¬é–‹ã•ã‚Œã‚‹ã¾ã§è‰²ã€…å¤§å¤‰ã ã£ãŸã®ã§ã€å¿˜ã‚Œãªã„ã†ã¡ã«ä½•ã‚’ã‚„ã£ãŸã®ã‹æ›¸ã„ã¦ãŠãã¾ã™ã€‚ã¨ã“ã‚ã©ã“ã‚ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’è²¼ã£ã¦èª¬æ˜ã—ã¦ã„ã¾ã™ãŒã€ã„ã¤ UI ãŒå¤‰æ›´ã•ã‚Œã‚‹ã‹ã‚ã‹ã‚‰ãªã„ã®ã§ã€ã‚‚ã—å‚è€ƒã«ã•ã‚Œã‚‹æ–¹ã¯ãã®ã‚ãŸã‚Šã”ç†è§£ãã ã•ã„ã€‚\nç›®æ¬¡ æ¦‚è¦ çµŒç·¯ ã‚„ã£ãŸã“ã¨ä¸€è¦§ ã‚„ã£ãŸã“ã¨è©³ç´° 1. GCP ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ 2. ã‚¢ãƒ‰ã‚ªãƒ³ã‚’ä½œæˆ 3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ãƒ—ãƒ­ã‚¤ 4. OAuth åŒæ„ç”»é¢ã®æ‰¿èªã‚’å—ã‘ã‚‹ 5. Google Workspace Marketplace ã«ç”³è«‹ã™ã‚‹ Google Workspace Marketplace ã§å…¬é–‹ã•ã‚ŒãŸ æ¦‚è¦ Google ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç”¨ã®ã‚¢ãƒ‰ã‚ªãƒ³ã‚’è‡ªä½œã—ã¦ Google Workspace Marketplace ã«å…¬é–‹ã—ã¾ã—ãŸã€‚å…¬é–‹ã¾ã§ã«ã„ãã¤ã‹ã‚„ã‚‹ã“ã¨ãŒã‚ã£ãŸã®ã§ã€ä½•ã‚’ã‚„ã£ãŸã®ã‹æ›¸ãè¨˜ã—ã¦ãŠãã¾ã™ã€‚\nã¡ãªã¿ã«ã€å…¬é–‹ã—ãŸã®ã¯ GenerateMarkdownTable ã¨ã„ã†ã‚¢ãƒ‰ã‚ªãƒ³ã§ã™ã€‚ãã®åå‰ã®é€šã‚Šã€ Google ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆä¸Šã§ä½œæˆã—ãŸè¡¨ã‚’ Markdown å½¢å¼ã®ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨è¨˜ã«å¤‰æ›ã™ã‚‹ã‚¢ãƒ‰ã‚ªãƒ³ã§ã™ã€‚\nä»¥å‰ã«ä¼¼ãŸã‚ˆã†ãªäº‹ãŒã§ãã‚‹ã‚¢ãƒ‰ã‚ªãƒ³ãŒã‚ã£ãŸã®ã§ã™ãŒã€åˆ©ç”¨ã§ããªããªã£ã¦ã„ãŸãŸã‚è‡ªä½œã—ã¾ã—ãŸã€‚ã‚‚ã—ã‚ˆã‹ã£ãŸã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä½¿ã£ã¦ã¿ã¦ãã ã•ã„ã€‚\nGenerateMarkdownTable - Google Workspace Marketplace ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ GitHub ã«ç½®ã„ã¦ã„ã‚‹ã®ã§ã€ãƒã‚°ã¨ã‹ã‚ã‚Œã° issue ç«‹ã¦ã¦ã‚‚ã‚‰ãˆã‚‹ã¨é ‘å¼µã£ã¦ç›´ã—ã¾ã™ã€‚è¦æœ›ã¨ã‹ã‚‚ issue ã§ã‚‚ã‚‰ãˆã‚‹ã¨å¯¾å¿œã™ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nmichimani/gen-md-table: A Google Spreadsheet add-on that converts selected tables to Markdown table formats. çµŒç·¯ ä»¥å‰ä½¿ã£ã¦ã„ãŸã‚¢ãƒ‰ã‚ªãƒ³ãŒä½¿ãˆãªããªã£ã¦ã„ãŸã“ã¨ã¨ã€åŒã˜ã‚ˆã†ã« Twitter ã§å˜†ã‹ã‚Œã¦ã„ã‚‹ãƒ„ã‚¤ãƒ¼ãƒˆã‚’è¦‹ã¦ã€ã¨ã‚Šã‚ãˆãšé›‘ã«ä½œã£ã¦ã¿ã‚‹ã‹ã€ã¨æ€ã£ãŸã®ãŒçµŒç·¯ã§ã™ã€‚\nã“ã®ã‚¢ãƒ‰ã‚ªãƒ³ä½¿ãˆãªããªã£ã¡ã‚ƒã£ãŸã®ã‹ããããhttps://t.co/0QoV9GdfRH\n\u0026mdash; æ·±æ¾¤ä¿Š (@shun_quartet) January 27, 2021 ã‚„ã£ãŸã“ã¨ä¸€è¦§ ã¾ãšã¯ Google ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç”¨ã®ã‚¢ãƒ‰ã‚ªãƒ³ã‚’ä½œæˆã—ã¦å…¬é–‹ã™ã‚‹ã¾ã§ã«ã‚„ã£ãŸã“ã¨ã‚’æ›¸ãå‡ºã—ã¦ã¿ã¾ã™ã€‚\nGCP ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ ã‚¢ãƒ‰ã‚ªãƒ³ã‚’ä½œæˆ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ãƒ—ãƒ­ã‚¤ OAuth åŒæ„ç”»é¢ã®æ‰¿èªã‚’å—ã‘ã‚‹ Google Workspace Marketplace ã«ç”³è«‹ã™ã‚‹ æ„å¤–ã¨å°‘ãªã„ã¨æ€ã‚ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã§ã™ãŒã€ç‰¹ã« 4 ã¨ 5 ã§æº–å‚™ã™ã‚‹ã‚‚ã®ãŒè‰²ã€…ã‚ã‚‹ã®ã§å¤§å¤‰ã§ã™ã€‚\nã‚„ã£ãŸã“ã¨è©³ç´° å¤šåˆ†é•·ããªã‚Šã¾ã™ãŒã€ä¸Šã§æŒ™ã’ãŸå†…å®¹ã®è©³ç´°ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\n1. GCP ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ ã¾ãšã¯ GCP ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\nGCP ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã£ã¦ã©ã“ã«ä½•ãŒã‚ã‚‹ã®ã‹æœªã ã«ã‚ˆãã‚ã‹ã‚‰ãªã„ã®ã§ã™ãŒã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã‚ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé¸æŠç”»é¢ã‹ã‚‰æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚æ—¢ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚ã‚‹å ´åˆã¯ãã‚Œã‚’ä½¿ã£ã¦ã‚‚è‰¯ã„ã¨æ€ã„ã¾ã™ãŒã€ä»Šå›ã¯æ–°ãŸã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã—ãŸã€‚\n2. ã‚¢ãƒ‰ã‚ªãƒ³ã‚’ä½œæˆ ç¶šã„ã¦ã‚¢ãƒ‰ã‚ªãƒ³ã‚’ä½œæˆã—ã¾ã™ã€‚ã‚¢ãƒ‰ã‚ªãƒ³ã¯ Google Apps Script ã§å®Ÿè£…ã—ã¾ã™ã€‚\nä»Šå›ã¯ Google ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ã‚¢ãƒ‰ã‚ªãƒ³ãªã®ã§ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’æ–°è¦ä½œæˆã—ã¦ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã‹ã‚‰ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚ã‚³ãƒ¼ãƒ‰ã®è©³ç´°ã«ã¤ã„ã¦ã¯ GitHub ã‚’è¦‹ã¦ã‚‚ã‚‰ã†ã¨ã—ã¦ã€ã‚¢ãƒ‰ã‚ªãƒ³ã¨ã—ã¦å®Ÿè£…ã™ã‚‹å ´åˆã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªæ§‹æˆã§å®Ÿè£…ã—ã¾ã™ã€‚\nfunction onInstall(e) { onOpen(e); } function onOpen(e) { SpreadsheetApp.getUi().createAddonMenu() .addItem(\u0026#39;do something\u0026#39;, \u0026#39;doSomething\u0026#39;) .addToUi(); } function doSomething() { // do something } addItem() ã®ç¬¬ä¸€å¼•æ•°ã«ã¯ ã‚¢ãƒ‰ã‚ªãƒ³ã§è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ ã‚’ã€ç¬¬äºŒå¼•æ•°ã«ã¯ ãƒ¡ãƒ‹ãƒ¥ãƒ¼é¸æŠæ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹é–¢æ•°å ã‚’æŒ‡å®šã—ã¾ã™ã€‚è¤‡æ•°æŒ‡å®šã™ã‚‹ã“ã¨ã§ã‚¢ãƒ‰ã‚ªãƒ³ã¨ã—ã¦å®Ÿè¡Œã§ãã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’å¢—ã‚„ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚¢ãƒ‰ã‚ªãƒ³è‡ªä½“ã®åå‰ã¯ã€ App Script ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã«ãªã‚Šã¾ã™ã€‚\nå®Ÿè£…ãŒå®Œäº†ã—ãŸã‚‰ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ã§ã‚¢ãƒ‰ã‚ªãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã¤ã¾ã‚Šã€ç‰¹å®šã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã§ã ã‘ä½¿ç”¨ã§ãã‚‹ã‚¢ãƒ‰ã‚ªãƒ³ã§ã‚ã‚Œã°ã€ç‰¹ã«å…¬é–‹ã™ã‚‹å¿…è¦ã‚‚ãªãä½¿ãˆã‚‹ã¨ã„ã†ã‚ã‘ã§ã™ã€‚ã‚ã¾ã‚Šãã‚“ãªç”¨é€”ã§ã‚¢ãƒ‰ã‚ªãƒ³ä½œã‚‰ãªã„ã¨æ€ã„ã¾ã™ãŒ\u0026hellip;ã€‚\n3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ãƒ—ãƒ­ã‚¤ ã‚¢ãƒ‰ã‚ªãƒ³ãŒå®Ÿè£…ã§ããŸã‚‰ã€ 1 ã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚\nã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã®å·¦ã«ã‚ã‚‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®š (æ­¯è»Šãƒãƒ¼ã‚¯) ã‚’æŠ¼ã—ã¦ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å¤‰æ›´\nå…ˆã»ã© GCP ã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç•ªå· (11æ¡ã®æ•°å­—) ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\nã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã®å³ä¸Šã«ã‚ã‚‹ ãƒ‡ãƒ—ãƒ­ã‚¤ ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ æ–°ã—ã„ãƒ‡ãƒ—ãƒ­ã‚¤ ã‚’é¸æŠ\né–‹ã„ãŸãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®å·¦ã«ã‚ã‚‹æ­¯è»Šã‹ã‚‰ ã‚¢ãƒ‰ã‚ªãƒ³ ã‚’é¸æŠ\nä»»æ„ã®èª¬æ˜æ–‡ã‚’å…¥ã‚Œã¦ ãƒ‡ãƒ—ãƒ­ã‚¤ ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™\n4. OAuth åŒæ„ç”»é¢ã®æ‰¿èªã‚’å—ã‘ã‚‹ ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã¨æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ãŒãªã‹ãªã‹é‡ã‚ã§ã—ãŸã€‚\nOAuth åŒæ„ç”»é¢ã®æ‰¿èª ã¨ã¯ã€ä½œæˆã—ãŸã‚¢ãƒ‰ã‚ªãƒ³ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‡ãƒ¼ã‚¿ã«æ­£ã—ã„æ–¹æ³•ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹ã‹ã©ã†ã‹ã€ã©ã®ã‚ˆã†ãªæ–¹æ³•ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹ã‹ã‚’ç¤ºã—ã¦ã€æ‰¿èªã—ã¦ã‚‚ã‚‰ã† ã¨ã„ã†ã‚¹ãƒ†ãƒƒãƒ—ã§ã™ã€‚å…·ä½“çš„ã«ã¯ã€ GCP ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ OAuth åŒæ„ç”»é¢ ã‹ã‚‰ç”³è«‹ã‚’è¡Œã„ã¾ã™ã€‚\nã“ã“ã‹ã‚‰ã‚¢ãƒ—ãƒªç™»éŒ²ã‚’ã—ã¦æ‰¿èªã‚’å—ã‘ã‚‹ã®ã§ã™ãŒã€å…¥åŠ›ãŒå¿…è¦ãªæƒ…å ±ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚(çµæ§‹ã‚ã‚Šã¾ã™)\nã‚¢ãƒ—ãƒªå ç”³è«‹ã‚’ã™ã‚‹ã‚¢ãƒ—ãƒªã®åå‰ã§ã™ã€‚\nã“ã“ã§å…¥åŠ›ã—ãŸåå‰ã¯ Marketplace ã§è¡¨ç¤ºã•ã‚Œã‚‹åå‰ã§ã¯ãªãã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ OAuth èªè¨¼ã™ã‚‹éš›ã®ç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹åå‰ã§ã™ã€‚\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚µãƒãƒ¼ãƒˆãƒ¡ãƒ¼ãƒ« OAuth åŒæ„ç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚µãƒãƒ¼ãƒˆç”¨ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã™ã€‚\nGoogle ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® Gmail ã‚¢ãƒ‰ãƒ¬ã‚¹ã§è‰¯ã•ãã†ã§ã™ã€‚\nã‚¢ãƒ—ãƒªã®ãƒ­ã‚´ OAuth åŒæ„ç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚¢ãƒ—ãƒªã®ãƒ­ã‚´ã§ã™ã€‚\nå¾Œã«å¿…è¦ã«ãªã‚‹ Marketplace æ²è¼‰ç”¨ã®ãƒ­ã‚´ã¨åˆã‚ã›ã‚‹ã¨è‰¯ã•ãã†ã§ã™ã€‚\nã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ ãã®åã®é€šã‚Šã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã§ã™ã€‚\nã“ã“ã§å…¥åŠ›ã™ã‚‹ URL ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯ã€ Google Search Console ã§æ‰¿èªæ¸ˆã¿ã«ãªã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä»Šå›ã¯ã“ã®ãƒ–ãƒ­ã‚°ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ã£ã¦ã€ /projects ä»¥ä¸‹ã«ã‚¢ãƒ—ãƒªç”¨ã®ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã—ãŸã®ã§è¿½åŠ ã§ã®æ“ä½œã¯ä¸è¦ã§ã—ãŸãŒã€ã¾ãšã²ã¨ã¤é«˜ã‚ã®ãƒãƒ¼ãƒ‰ãƒ«ã‹ãªã¨æ€ã„ã¾ã™ã€‚\nä»Šå›ã¯ä¸‹è¨˜ãƒšãƒ¼ã‚¸ã‚’ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã¨ã—ã¦å…¥åŠ›ã—ã¾ã—ãŸã€‚\nhttps://michimani.net/projects/gen-markdown-table/about/ ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«ã¤ã„ã¦ã¯è‹±èªã§è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ ã¸ã®ãƒªãƒ³ã‚¯ ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã¸ã®ãƒªãƒ³ã‚¯ã§ã™ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³ã®åˆ¶é™ã¨ã—ã¦ã¯ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã¨åŒæ§˜ã§ã™ã€‚ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã«ã¤ã„ã¦ã‚‚è‹±èªã§è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã€å†…å®¹ã¯ Google API Services User Data Policy ã®å†…å®¹ã‚’æº€ãŸã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nä»Šå›ã¯ä¸‹è¨˜ãƒšãƒ¼ã‚¸ã‚’ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã¸ã®ãƒªãƒ³ã‚¯ã¨ã—ã¦å…¥åŠ›ã—ã¾ã—ãŸã€‚\nhttps://michimani.net/projects/gen-markdown-table/privacy-policy/ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆ©ç”¨è¦ç´„ ã¸ã®ãƒªãƒ³ã‚¯ åˆ©ç”¨è¦ç´„ã¸ã®ãƒªãƒ³ã‚¯ã§ã™ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³åˆ¶é™ã«ã¤ã„ã¦ã¯åŒä¸Šã§ã€ã“ã¡ã‚‰ã‚‚è‹±èªã§ã®è¨˜è¿°ãŒå¿…è¦ã§ã™ã€‚\nä»Šå›ã¯ä¸‹è¨˜ãƒšãƒ¼ã‚¸ã‚’åˆ©ç”¨è¦ç´„ã¸ã®ãƒªãƒ³ã‚¯ã¨ã—ã¦å…¥åŠ›ã—ã¾ã—ãŸã€‚\nhttps://michimani.net/projects/gen-markdown-table/terms-of-service/ ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã®é€£çµ¡å…ˆæƒ…å ± (ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹) Google ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® Gmail ã‚¢ãƒ‰ãƒ¬ã‚¹ã§è‰¯ã•ãã†ã§ã™ã€‚\nã‚¹ã‚³ãƒ¼ãƒ— ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¯¾ã—ã¦è¨±å¯ã‚’æ±‚ã‚ã‚‹ã‚¹ã‚³ãƒ¼ãƒ—ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\nä»Šå›ä½œæˆã™ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã©ã‚“ãªã‚¹ã‚³ãƒ¼ãƒ—ãŒå¿…è¦ã«ãªã‚‹ã‹ã¯ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã®æ¦‚è¦ãƒšãƒ¼ã‚¸ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nä»Šå›ã§ã‚ã‚Œã°ä¸‹è¨˜ã®ã‚¹ã‚³ãƒ¼ãƒ—ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚\nhttps://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/script.container.ui ã“ã‚Œã‚‰ã¯ æ©Ÿå¯†æ€§ã®é«˜ã„ API ã‚¹ã‚³ãƒ¼ãƒ— ã«ã‚ãŸã‚‹ãŸã‚ã€ã©ã®ã‚ˆã†ãªç›®çš„ã§ã“ã®ã‚¹ã‚³ãƒ¼ãƒ—ãŒå¿…è¦ã«ãªã‚‹ã®ã‹ã‚’å…¥åŠ›ã—ã¾ã™ã€‚ã“ã“ã¯æ—¥æœ¬èªã§ã‚‚å¤§ä¸ˆå¤«ã§ã—ãŸã€‚\nã‚¹ã‚³ãƒ¼ãƒ—ã®ä½¿ç”¨æ–¹æ³•ã‚’ç¤ºã—ãŸãƒ‡ãƒ¢å‹•ç”» æ©Ÿå¯†æ€§ã®é«˜ã„ã‚¹ã‚³ãƒ¼ãƒ—ã«è¨±å¯ã‚’æ±‚ã‚ã‚‹å ´åˆã€ã©ã®ã‚ˆã†ã«ãã®ã‚¹ã‚³ãƒ¼ãƒ—ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã¨ã„ã†ãƒ‡ãƒ¢å‹•ç”»ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚ãƒ‡ãƒ¢å‹•ç”»ã¯ YouTube ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦é™å®šå…¬é–‹ã¨ã—ã¦ã€ URL ã‚’ãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›ã—ã¾ã™ã€‚\nãƒ‡ãƒ¢å‹•ç”»ã®å†…å®¹ã¨ã—ã¦ã¯ã€å®Ÿéš›ã« ã‚¢ãƒ‰ã‚ªãƒ³ã¨ã—ã¦ä½¿ç”¨ã—ã¦ OAuth åŒæ„ç”»é¢ã‚’è¡¨ç¤ºã—ã€ç”³è«‹ã•ã‚Œã¦ã„ã‚‹ã‚¹ã‚³ãƒ¼ãƒ—ã¨æ•´åˆæ€§ãŒã‚ã‚‹ã‹ã‚’ç¤ºã—ã¾ã™ã€‚ã¾ãŸã€å®Ÿéš›ã«ã‚¢ãƒ‰ã‚ªãƒ³ã§ã©ã‚“ãªæ“ä½œã‚’ã—ãŸéš›ã«è©²å½“ã®ã‚¹ã‚³ãƒ¼ãƒ—ãŒå¿…è¦ã«ãªã£ã¦ã„ã‚‹ã‹ã‚’ç¤ºã—ã¾ã™ã€‚ãƒ‡ãƒ¢å‹•ç”»ã¯è‡ªåˆ†ã§å–‹ã‚‹å¿…è¦ã¯ãªã„ã§ã™ãŒã€èª¬æ˜ã‚’åŠ ãˆã‚‹ã®ã§ã‚ã‚Œã°è‹±èªã§ãƒ†ãƒ­ãƒƒãƒ—ã‚’å…¥ã‚ŒãŸã‚Šã™ã‚‹ã¨è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚\nå…¬é–‹ã•ã‚Œã¦ã„ãªã„ã‚¢ãƒ‰ã‚ªãƒ³ã‚’ ã‚¢ãƒ‰ã‚ªãƒ³ã¨ã—ã¦ä½¿ç”¨ ã™ã‚‹ãŸã‚ã«ã¯ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã®å®Ÿè¡Œãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ ã‚¢ãƒ‰ã‚ªãƒ³ã¨ã—ã¦ãƒ†ã‚¹ãƒˆ ã‚’é¸æŠã—ã¾ã™ã€‚ã“ã“ã§ãƒãƒã£ãŸã®ãŒã€ã“ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã®æ—§ UI ã§ã—ã‹å‡ºãªã„ã‚“ã§ã™ã‚ˆã­ã€‚ã¨ã„ã†ã“ã¨ã§ã€æ–° UI ã§ä½¿ã£ã¦ã„ã‚‹å ´åˆã«ã¯å³ç«¯ã«ã‚ã‚‹ ä»¥å‰ã®ã‚¨ãƒ‡ã‚£ã‚¿ã‚’ä½¿ç”¨ ã‹ã‚‰æ—§ UI ã«æˆ»ã—ã¦å®Ÿè¡Œã—ã¾ã™ã€‚\nã‚ã¨ã¯ã€å®Ÿéš›ã®æ“ä½œç”»é¢ã‚’éŒ²ç”»ã—ã¦ iMovie ã¨ã‹ã§è‰¯ã„æ„Ÿã˜ã«ç·¨é›†ã™ã‚‹ã ã‘ã§ã™ã€‚ã“ã‚Œã‚‚çµæ§‹ãªãƒãƒ¼ãƒ‰ãƒ«ã§ã™ã€‚\nãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ã€ã‚¢ãƒ‰ã‚ªãƒ³ã¨ã—ã¦å®Ÿè¡Œã—ãŸéš›ã«è¡¨ç¤ºã•ã‚Œã‚‹ OAuth åŒæ„ç”»é¢ã® URL ã«å«ã¾ã‚Œã¦ã„ã‚‹ client_id ãŒã€ä»Šç”³è«‹ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã® client_id ã¤ã¾ã‚Š ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç•ªå· ã¨ä¸€è‡´ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã€ãã‚Œã‚’å‹•ç”»å†…ã§ç¤ºã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚æ–¹æ³•ã¨ã—ã¦ã¯ã€ OAuth åŒæ„ç”»é¢ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ‹¡å¤§è¡¨ç¤ºã™ã‚‹ã‹ã€ã¾ãŸã¯ã‚³ãƒ”ãƒ¼ã—ã¦ã‚¨ãƒ‡ã‚£ã‚¿ã«è²¼ã‚Šä»˜ã‘ã¦è¡¨ç¤ºã•ã›ã‚‹ã‹ã€ãŒè‰¯ã•ãã†ã§ã™ã€‚\nãã®ä»–ã€çœç•¥å¯èƒ½ãªé …ç›®ãŒå‡ºã¦ãã¾ã™ãŒã€æ–‡å­—é€šã‚Šçœç•¥ã—ã¦å¤§ä¸ˆå¤«ã§ã—ãŸã€‚\nä¸Šè¨˜ã‚’å…¥åŠ›ã—ã¦ç”³è«‹ã‚’ã™ã‚‹ã¨æ•°æ—¥çµŒã£ã¦ã‹ã‚‰ Google ã•ã‚“ã‹ã‚‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒãƒ¡ãƒ¼ãƒ«ã§å±Šãã¾ã™ã€‚ãƒ¡ãƒ¼ãƒ«ã®ã‚¿ã‚¤ãƒˆãƒ«ã¯ OAuth Verification Request for Project ã¿ãŸã„ãªæ„Ÿã˜ã§ã™ã€‚\nç”³è«‹ã—ãŸå†…å®¹ã«å¯¾ã—ã¦ã“ã¡ã‚‰ã§å¯¾å¿œãŒå¿…è¦ãªå ´åˆã¯ã€å¯¾å¿œæ–¹æ³•ã‚’æ•™ãˆã¦ãã‚Œã¾ã™ã€‚ã“ã“ã¾ã§ã®æ‰‹é †ã§ã¯ã“ã®ãƒ¡ãƒ¼ãƒ«ã§ä½•åº¦ã‹ã‚„ã‚Šå–ã‚Šã‚’ã—ã¦ä¿®æ­£ã—ãŸå†…å®¹ã‚’åæ˜ ã—ã¦ã„ã‚‹ã®ã§ã€å…¨éƒ¨ã§ãã¦ã„ã‚Œã°ã‚¹ãƒ ãƒ¼ã‚ºã«ã„ãã¨æ€ã„ã¾ã™ã€‚ãŸã ã—ã€å¿…ãšä¸€ç™ºã§é€šã‚‹ä¿è¨¼ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nãƒ¡ãƒ¼ãƒ«ã¯ã‚‚ã¡ã‚ã‚“è‹±èªãªã®ã§ã€ Google ç¿»è¨³ã‚„ DeepL ç¿»è¨³ã‚’é§†ä½¿ã—ã¦é ‘å¼µã£ã¦ã‚„ã‚Šã¨ã‚Šã—ã¾ã—ã‚‡ã†ã€‚\n5. Google Workspace Marketplace ã«ç”³è«‹ã™ã‚‹ OAuth åŒæ„ç”»é¢ã®æ‰¿èªãŒé€šã£ã¦ã„ãªãã¦ã‚‚ä¸¦è¡Œã—ã¦ç”³è«‹ã™ã‚‹ã“ã¨ã¯å¯èƒ½ã§ã™ã€‚ãŸã ã—ã€ Google Workspace Marketplace ã§ã®å¯©æŸ»é …ç›®ã« OAuth åŒæ„ç”»é¢ã®æ‰¿èªãŒãªã•ã‚Œã¦ã„ã‚‹ã“ã¨ ã¨ã„ã†é¡ã®ã‚‚ã®ãŒã‚ã‚‹ã®ã§ã€å¯©æŸ»ã‚’é€šéã™ã‚‹ãŸã‚ã«ã¯ OAuth åŒæ„ç”»é¢ã®æ‰¿èªã¯å¿…é ˆã§ã™ã€‚\nMarketplace ã¸ã®ç”³è«‹ã‚’è¡Œã†ãŸã‚ã«ã¯ã€ã¾ãšã¯ GCP ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¦ Google Workspace Marketplace SDK ã‚’æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nGCP ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã‚ã‚‹æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ ã€ŒGoogle Workspace Marketplaceã€ã§æ¤œç´¢ã™ã‚‹ã¨å‡ºã¦ãã‚‹ã®ã§ã€é¸æŠã—ã¦æœ‰åŠ¹ã«ã—ã¾ã™ã€‚\nãã—ã¦ã€ Google Workspace Marketplace SDK ã®ç®¡ç†ç”»é¢ã‹ã‚‰ã€ ã‚¢ãƒ—ãƒªã®æ§‹æˆ ã‚’é¸æŠã—ã€ä¸‹è¨˜å†…å®¹ã‚’å…¥åŠ›ã—ã¦ã„ãã¾ã™ã€‚\nã‚¢ãƒ—ãƒªã®çµ±åˆ ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ã‚¢ãƒ‰ã‚ªãƒ³ ã®ã¿ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¾ã™ã€‚\nã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ ã‚¢ãƒ‰ã‚ªãƒ³ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ã‚¹ã‚¯ãƒªãƒ—ãƒˆ ID ã«ã¯ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šãƒšãƒ¼ã‚¸ã§ç¢ºèªã§ãã‚‹ ã‚¹ã‚¯ãƒªãƒ—ãƒˆ ID ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\nã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ ã‚¢ãƒ‰ã‚ªãƒ³ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ ã«ã¯ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒœã‚¿ãƒ³ã‹ã‚‰ ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ç®¡ç† ã§ç¢ºèªã§ãã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚’å…¥åŠ›ã—ã¾ã™ã€‚æœ€æ–°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\nOAuth ã‚¹ã‚³ãƒ¼ãƒ— OAuth åŒæ„ç”»é¢ã®ç”³è«‹æ™‚ã«å…¥åŠ›ã—ãŸã‚‚ã®ã¨åŒã˜ã‚¹ã‚³ãƒ¼ãƒ—ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ãƒ¡ãƒ¼ãƒ«ã¨ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã™ã‚‹ã‚¹ã‚³ãƒ¼ãƒ—ã¯å…¥åŠ›ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã‚Œã¯ãã®ã¾ã¾ã«ã—ã¦ãŠãã¾ã™ã€‚\nDeveloper Link ä¸‹è¨˜ã®æƒ…å ±ã‚’å…¥åŠ›ã—ã¾ã™ã€‚ãã‚Œãã‚Œã€ Marketplace ã§è¡¨ç¤ºã•ã‚Œã‚‹å†…å®¹ã§ã™ã€‚\nã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã® URL ã‚¢ãƒ‰ã‚ªãƒ³ã®ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ URL ã§ã™ã€‚ ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼å é–‹ç™ºè€…ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹åå‰ã§ã™ã€‚ michimani ã«ã—ã¦ã„ã¾ã™ã€‚ ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã® URL é–‹ç™ºè€…ã®ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã§ã™ã€‚ã“ã®ãƒ–ãƒ­ã‚°ã® URL ã«ã—ã¦ã„ã¾ã™ã€‚ ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ Google ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® Gmail ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ã—ã¦ã„ã¾ã™ã€‚ ä»¥ä¸Šã€ ã‚¢ãƒ—ãƒªã®æ§‹æˆ ã«é–¢ã—ã¦ã¯å†…å®¹ã‚’ä¿å­˜ã™ã‚‹ã ã‘ã§ã™ã€‚\nç¶šã„ã¦ã€ ã‚¹ãƒˆã‚¢ã®æ²è¼‰æƒ…å ± ã§ã‚¢ãƒ‰ã‚ªãƒ³ã®ç”³è«‹ã‚’é€²ã‚ã¦ã„ãã¾ã™ã€‚\nã‚¢ãƒ—ãƒªã®è©³ç´° å°‘ãªãã¨ã‚‚1ã¤ã®è¨€èªã§ã€ä¸‹è¨˜å†…å®¹ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\nã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å ã‚¢ãƒ‰ã‚ªãƒ³ã®åå‰ã€‚ã‚¹ãƒˆã‚¢ã ã‘ã§ãªãã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ã‚¢ãƒ‰ã‚ªãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«ã‚‚è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ ç°¡å˜ãªèª¬æ˜ ã‚¢ãƒ‰ã‚ªãƒ³ã®æ¦‚è¦ è©³ç´°ãªèª¬æ˜ æ“ä½œæ–¹æ³•ãªã© ã‚«ãƒ†ã‚´ãƒªã¯ã€é©å½“ãªã‚‚ã®ã‚’é¸æŠã—ã¾ã™ã€‚\nã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¢ã‚»ãƒƒãƒˆ ã‚¢ã‚¤ã‚³ãƒ³ã‚„ãƒãƒŠãƒ¼ã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ãŒã€YouTube ã«ã‚¢ãƒƒãƒ—ã—ãŸãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³å‹•ç”»ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚OAuth èªè¨¼ã®ãƒ‡ãƒ¢å‹•ç”»ã¨é•ã„ã€ã“ã“ã§æŒ‡å®šã—ãŸå‹•ç”»ã¯å…¬é–‹è¨­å®šã«ã—ã¦ãŠãã¾ã™ã€‚\nã‚¢ã‚¤ã‚³ãƒ³ 32x32 å¿…é ˆ 48x48 96x96 128x128 å¿…é ˆ ãƒãƒŠãƒ¼ 440x280 å¿…é ˆ ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ ã‚µã‚¤ã‚ºã®æŒ‡å®šã¯ç„¡ã„ãŒ 4 æšå¿…è¦ ã‚µãƒãƒ¼ãƒˆãƒªãƒ³ã‚¯ åˆ©ç”¨è¦ç´„ã‚„ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ãªã©ã¸ã®ãƒªãƒ³ã‚¯ã‚’å…¥åŠ›ã—ã¾ã™ã€‚8 ç®‡æ‰€ã»ã©å…¥åŠ›é …ç›®ãŒã‚ã‚Šã¾ã™ãŒã€å¿…é ˆãªã®ã¯ä¸‹è¨˜ã®ãƒªãƒ³ã‚¯ã®ã¿ã§ã™ã€‚\nåˆ©ç”¨è¦ç´„ã® URL ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã® URL ã‚µãƒãƒ¼ãƒˆã® URL ã¾ãŸã€ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã®ãƒ’ãƒ³ãƒˆ ã¨ã—ã¦ã€ç°¡å˜ãªèª¬æ˜æ–‡ã‚’å…¥åŠ›ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€Marketplace ã®ã‚¢ãƒ‰ã‚ªãƒ³ã®ãƒšãƒ¼ã‚¸ã§ã€èª¬æ˜æ¬„ã®ä¸€ç•ªä¸Šã«å¤ªå­—ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nä»¥ä¸Šã®å†…å®¹ã‚’å…¥åŠ›ã—ãŸã‚‰ã€å†…å®¹ã‚’ä¿å­˜ã—ã¦ç”³è«‹ã—ã¾ã™ã€‚\nç”³è«‹ã‹ã‚‰æ•°æ—¥çµŒã¤ã¨ã€ Google ã•ã‚“ã‹ã‚‰ãƒ¡ãƒ¼ãƒ«ãŒå±Šãã¾ã™ã€‚ãƒ¡ãƒ¼ãƒ«ã«ã¯ Google ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…±æœ‰ã•ã‚Œã¦ãŠã‚Šã€ãã®ä¸­ã§å„é …ç›®ã®æŒ‡æ‘˜å†…å®¹ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚æŒ‡æ‘˜äº‹é …ã‚’ä¿®æ­£ã—ãŸã‚‰ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…ã®ã‚³ãƒ¡ãƒ³ãƒˆã§ã€Œç›´ã—ã¾ã—ãŸã‚ˆã€œã€ã¨ã‚³ãƒ¡ãƒ³ãƒˆã™ã‚‹æ„Ÿã˜ã§ã™ã€‚\nGoogle Workspace Marketplace ã§å…¬é–‹ã•ã‚ŒãŸ ã‚¢ãƒ‰ã‚ªãƒ³ã®å…¬é–‹ãªã‚“ã¦åˆã‚ã¦ã®çµŒé¨“ã ã£ãŸã®ã§ã€ä½•åº¦ã‚‚ Google ã®äººã¨ãƒ¡ãƒ¼ãƒ«ã‚’ã‚„ã‚Šã¨ã‚Šã—ã¦ã€ãªã‚“ã¨ã‹ç„¡äº‹ã«å…¬é–‹ã•ã‚Œã¾ã—ãŸã€‚æœ€åˆã®ç”³è«‹ã‹ã‚‰å…¬é–‹ã¾ã§ã€ã¡ã‚‡ã†ã© 2 é€±é–“ã‹ã‹ã‚Šã¾ã—ãŸã€‚é€”ä¸­ã€è‹±èªã§ã®ã‚„ã‚Šã¨ã‚Šã«å¿ƒãŒæŠ˜ã‚Œã‹ã‘ã¾ã—ãŸãŒã€ã‚ã’ãšã«é ‘å¼µã£ã¦ã‚ˆã‹ã£ãŸã§ã™ã€‚\næ™‚å·®ã®é–¢ä¿‚ã§æ·±å¤œã‚„æ—©æœã«ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæœãŒæ¥ã¦ã€æ—¥ä¸­å¯¾å¿œã—ã¦ã‚‚ãã‚Œã«è¿”ç­”ãŒæ¥ã‚‹ã®ãŒã¾ãŸæ·±å¤œã‚„æ—©æœã¨ã„ã†ã“ã¨ã§ã‚ã‚‹æ„å‘³ãƒªã‚ºãƒ æ„Ÿã¯ã‚ã£ãŸã‚‚ã®ã®ã€ã©ã†ã—ã¦ã‚‚ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¾ã§ã®æ™‚é–“ãŒç©ºã„ã¦ã—ã¾ã†ã®ãŒã‚‚ã©ã‹ã—ã‹ã£ãŸã§ã™ã€‚\nç„¡äº‹ã«å…¬é–‹ã•ã‚Œã‚‹ã¨ GenerateMarkdownTable - Editor Add-on - Launched ã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ã§ãƒ¡ãƒ¼ãƒ«ãŒå±Šãã€ Google ã•ã‚“ã¨ã®ã‚„ã‚Šã¨ã‚Šã¯ãŠã—ã¾ã„ã§ã™ã€‚æœ¬æ–‡ã«ã¯ We wanted to thank you for your patience and for working on our comments and suggestions. Weâ€™ve completed our review and your item has been published. ã¨æ›¸ã‹ã‚Œã¦ã„ã¦ã€ã“ã¡ã‚‰ã“ã Thank you ã£ã¦æ„Ÿã˜ã§ã—ãŸã€‚\nã¨ã‚Šã‚ãˆãšå…¬é–‹ã¾ã§ã§ãã¦ãƒ›ãƒƒã¨ã—ã¦ã„ã‚‹ã®ã¨ã€ã‚‚ã—ã‚ˆã‹ã£ãŸã‚‰ä½¿ã£ã¦ã„ãŸã ããŸã„ãªã€ã¨ã„ã†æ°—æŒã¡ã§ã™ã€‚\nGenerateMarkdownTable - Google Workspace Marketplace ",
    "permalink": "https://michimani.net/post/development-how-to-publish-google-spreadsheet-add-on/",
    "title": "Google ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ Markdown å½¢å¼ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¤‰æ›ã™ã‚‹ã‚¢ãƒ‰ã‚ªãƒ³ã‚’ä½œã£ã¦å…¬é–‹ã—ã¾ã—ãŸ"
  },
  {
    "contents": "å…ˆæ—¥ Amazon CloudFront ã®æ–°ã—ã„æ–™é‡‘ãƒ—ãƒ©ãƒ³ Security Savings Bundle ã¨ã„ã†ã‚‚ã®ãŒç™ºè¡¨ã•ã‚Œã¾ã—ãŸã€‚å€‹äººåˆ©ç”¨ã®ç¯„å›²ã§ã‚‚ã©ã‚Œãã‚‰ã„ã®ã‚³ã‚¹ãƒˆå‰Šæ¸›ãŒã§ãã‚‹ã®ã‹è©¦ç®—ã—ã¦ã¿ã¾ã—ãŸã€‚\nç›®æ¬¡ Security Savings Bundle ã¨ã¯ Security Savings Bundle ã«é–¢ã™ã‚‹ Q\u0026amp;amp;A å®Ÿéš›ã«ã©ã‚Œãã‚‰ã„å‰Šæ¸›ã§ãã‚‹ã®ã‹ å€‹äººåˆ©ç”¨ã§ã®æ¯æœˆã®æ–™é‡‘ CloudFront ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‹ã‚‰è©¦ç®— ã¾ã¨ã‚ Security Savings Bundle ã¨ã¯ Today, we are announcing the Amazon CloudFront Security Savings Bundle, a flexible self-service pricing plan that helps you save up to 30% on your CloudFront bill in exchange for a monthly spend commitment for a 1-year term. The savings bundle also includes free AWS WAF (Web Application Firewall) usage up to 10% of your committed amount. Any additional Standard CloudFront or WAF charges not covered by the CloudFront Security Savings Bundle still apply.\nIntroducing Amazon CloudFront Security Savings Bundle è©³ç´°ã«ã¤ã„ã¦ã¯ä¸Šè¨˜ã®å…¬å¼ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã«æ›¸ã„ã¦ã‚ã‚Šã¾ã™ãŒã€ã–ã£ã¨ã¾ã¨ã‚ã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚\næ¯æœˆæ”¯æ‰•ã†æ–™é‡‘ (commitment) ã‚’äºˆã‚æ±ºã‚ã¦æ”¯æ‰•ã† commitment ã«å¿œã˜ã¦ CloudFront ãŠã‚ˆã³ AWS WAF ã§ä½¿ç”¨ã§ãã‚‹ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆãŒä»˜ä¸ã•ã‚Œã‚‹ CloudFront ç”¨ã®ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã¯ commitment ã® ç´„ 1.4285 å€ (= 30% ã‚ªãƒ•) AWS WAF ç”¨ã®ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã¯ commitment ã® 10% commitment ã¨ã—ã¦ã‚«ãƒãƒ¼ã§ãã‚‹æ–™é‡‘ã«ã¯ Lambda@Edge ã«ã‹ã‹ã‚‹ã‚³ã‚¹ãƒˆã‚‚å«ã¾ã‚Œã‚‹ ä¸Šè¨˜ã®ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ãƒšãƒ¼ã‚¸ã§èª¬æ˜ã•ã‚Œã¦ã„ã‚‹ commitment ã‚’ 70 USD ã¨ã—ã¦å ´åˆã®ä¾‹ ã‚’ç”¨ã„ã¦å…·ä½“çš„ãªæ•°å€¤ã‚’å‡ºã™ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªè¨ˆç®—ã«ãªã‚Šã¾ã™ã€‚\nCloudFront ã®æ–™é‡‘æ”¯æ‰•ã„ã«ä½¿ç”¨ã§ãã‚‹ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆãŒ 100 USD ä»˜ä¸ã•ã‚Œã¾ã™ã€‚(ã¤ã¾ã‚Š 30% ã‚³ã‚¹ãƒˆå‰Šæ¸›) AWS WAF ã§ä½¿ç”¨ã§ãã‚‹ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆãŒ 7 USD ä»˜ä¸ã•ã‚Œã¾ã™ AWS WAF ã® 7 USD ã¨ã¯ã€ç´„ 11,666,666 ãƒªã‚¯ã‚¨ã‚¹ãƒˆåˆ†ã®ã‚³ã‚¹ãƒˆ ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ã¯ã€ EC2 ã‚„ EDS ã®ãƒªã‚¶ãƒ¼ãƒ–ãƒ‰ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚\nSecurity Savings Bundle ã«é–¢ã™ã‚‹ Q\u0026amp;A Security Savings Bundle ã«é–¢ã™ã‚‹ Q\u0026amp;A ã«é–¢ã—ã¦ã¯ä¸‹è¨˜ã®å…¬å¼ãƒšãƒ¼ã‚¸ã§è‰²ã€…æ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€ãã“ã‹ã‚‰æŠœç²‹ã—ã¦ã„ãã¤ã‹å†…å®¹ã‚’è¦‹ã¦ã¿ã¾ã™ã€‚\nCloudFront security savings bundle - Amazon CloudFront Q. commitment ã«ã¯ CloudFront ã®ã™ã¹ã¦ã®æ–™é‡‘ã«é©ç”¨ã•ã‚Œã‚‹ã®ã‹ï¼Ÿ ãƒ‡ãƒ¼ã‚¿è»¢é€æ–™é‡‘ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ–™é‡‘ã€Lambda@Edgeæ–™é‡‘ãªã©ã€ã™ã¹ã¦ã®CloudFrontåˆ©ç”¨æ–™é‡‘ã«é©ç”¨ã•ã‚Œã¾ã™ã€‚\nQ. ç‰¹å®šã®æœŸé–“ä¸­ã«ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚’ä½¿ã„åˆ‡ã‚‰ãªã‹ã£ãŸå ´åˆã©ã†ãªã‚‹ã‹ï¼Ÿ ä½¿ã„åˆ‡ã‚‰ãªã‹ã£ãŸ commitment ã¯å¤±åŠ¹ã—ã€æ¬¡ã®æœŸé–“ã«ç¹°ã‚Šè¶Šã™ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚\nQ. ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚’è¶…éã—ãŸå ´åˆã¯ã©ã†ãªã‚‹ï¼Ÿ è¶…éã—ãŸåˆ†ã¯é€šå¸¸ã®æ–™é‡‘è¨­å®šã§è«‹æ±‚ã•ã‚Œã¾ã™ã€‚\nQ. CloudFront ã®åˆ©ç”¨é‡ãŒã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚’è¶…éã—ãŸéš›ã«é€šçŸ¥ã‚’å—ã‘å–ã‚‹ã“ã¨ã¯ã§ãã‚‹ï¼Ÿ AWS Budgets ã§é–¾å€¤ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ ãƒ¡ãƒ¼ãƒ«ã‚„ Amazon SNS ã‚’é€šã˜ã¦é€šçŸ¥ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nå®Ÿéš›ã«ã©ã‚Œãã‚‰ã„å‰Šæ¸›ã§ãã‚‹ã®ã‹ æœ€å¤§ã§ 30% ã¨ã®ã“ã¨ã§ã™ãŒã€å®Ÿéš›ã«ã©ã‚Œãã‚‰ã„å‰Šæ¸›ã§ãã‚‹ã®ã‹è©¦ç®—ã—ã¦ã¿ã¾ã™ã€‚å€‹äººã§åˆ©ç”¨ã—ã¦ã„ã‚‹ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ã¯æ™®æ®µã‹ã‚‰å¤§ã—ãŸã‚³ã‚¹ãƒˆãŒç™ºç”Ÿã—ã¦ã„ãªã„ã®ã§ã™ãŒã€ãã‚Œã§ã‚‚åŠ¹æœãŒã‚ã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚\nå€‹äººåˆ©ç”¨ã§ã®æ¯æœˆã®æ–™é‡‘ ç¾åœ¨ã€å€‹äººåˆ©ç”¨ã®ç¯„å›²ã§ã¯ CloudFront ã®æ–™é‡‘ã¨ã—ã¦æ¯æœˆç´„ 1.7 USD ç¨‹åº¦ã§ã™ã€‚å˜ç´”ã«è¨ˆç®—ã™ã‚‹ã¨ã€å¹´é–“ 20.4 USD ãªã®ã§ã€ç´„ 2,142 å†† ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nã“ã‚ŒãŒã©ã‚Œãã‚‰ã„å‰Šæ¸›ã§ãã‚‹ã®ã‹ CloudFront ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§è©¦ç®—ã—ã¦ã¿ã¾ã™ã€‚\nCloudFront ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‹ã‚‰è©¦ç®— ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ CloudFront ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€å·¦ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã« Savings Bundle ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã“ã® Overview ã‹ã‚‰è©¦ç®—ã€ãŠã‚ˆã³ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã®è³¼å…¥ãŒã§ãã¾ã™ã€‚\nè©¦ç®—æ–¹æ³•ã¨ã—ã¦ã¯ã€éå»ã®ã‚³ã‚¹ãƒˆã‹ã‚‰ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ã—ã¦ãã‚Œã‚‹ Historical usage ã¨ã€ã‚«ãƒªã‚­ãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã«ã‚ˆã‚‹ Calculator ãŒã‚ã‚Šã¾ã™ã€‚ãŸã ã—ã€éå»ã«ååˆ†ãªæ”¯æ‰•å±¥æ­´ãŒãªã„ã¨ã€ Historical usage ã«ã‚ˆã‚‹è©¦ç®—ã¯åˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚\nCalculator ã«ã‚ˆã‚‹è©¦ç®—ã§ã¯ã€ CloudFront ã®å„ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ (åœ°åŸŸ) ã«å¯¾ã™ã‚‹è»¢é€é‡ (GB) ã¨ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å¹³å‡ã‚µã‚¤ã‚ºã‚’å…¥åŠ›ã™ã‚‹ã“ã¨ã§è©¦ç®—ãŒã§ãã¾ã™ã€‚ãŸã ã—ã€ã“ã“ã§ã¯ Lambda@Edge ã®ä½¿ç”¨é‡ã‚’å…¥åŠ›ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚\nã©ã¡ã‚‰ã®è©¦ç®—æ–¹æ³•ã§ã‚‚ã€æœ€å¾Œã¯è‡ªåˆ†ã§ commitment ã‚’å…¥åŠ›ã™ã‚‹ç”»é¢ã«ãªã‚Šã€ãã®ç”»é¢ã§ã‚‚ä¸‹è¨˜ã®æƒ…å ±ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\ncommitment ã«å¿œã˜ãŸã‚¯ãƒ¬ã‚¸ãƒƒãƒˆ CloudFront ãŠã‚ˆã³ WAF ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã‚‹ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆ å¹´é–“ã§å‰Šæ¸›ã§ãã‚‹ã‚³ã‚¹ãƒˆ ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ã§ã¯ 1.16 USD ã¨è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€ä»Šå›ã¯ 1.2 USD ã® commitment ã§è¨­å®šã—ã¦ã¿ã¾ã™ã€‚ã™ã‚‹ã¨ã€ CF ç”¨ã®ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆãŒ 1.71 USD ä»˜ä¸ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ã¾ãŸã€ãã‚Œã«åŠ ãˆã¦ AWS WAF ã§ä½¿ç”¨ã§ãã‚‹ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆãŒ 0.12 USD ä»˜ä¸ã•ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‹ã‚Šã¾ã™ã€‚\nã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å¹´é–“å‰Šæ¸›ã‚³ã‚¹ãƒˆã¯ WAF ç”¨ã®åˆ†ã‚‚å«ã¾ã‚Œã¦ã„ã‚‹ã®ã§ 7.61 USD ã¨è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ãŒã€ CloudFront ã ã‘ã«é™ã‚‹ã¨ 6.12 USD ã®å‰Šæ¸›ã¨ãªã‚Šã¾ã™ã€‚\nã“ã®å†…å®¹ã§è‰¯ã‘ã‚Œã° Next ã‚’æŠ¼ã—ã¦ç¢ºèªç”»é¢ã¸é€²ã¿ã¾ã™ã€‚\nå•é¡Œãªã‘ã‚Œã° Purchase ã‚’æŠ¼ã—ã¦ commitment ã‚’è³¼å…¥ã—ã¾ã™ã€‚\nè³¼å…¥ç›´å¾Œã¯ Status ãŒ Planned ã«ãªã£ã¦ã„ã¾ã™ãŒã€ã—ã°ã‚‰ãã™ã‚‹ã¨ Active ã«å¤‰ã‚ã‚Šã¾ã™ã€‚ã“ã®å†…å®¹ã¯ Savings Bundle ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã® Inventory ã‹ã‚‰ç¢ºèªã§ãã¾ã™ã€‚\nã¾ã¨ã‚ Amazon CloudFront ã®æ–°ã—ã„æ–™é‡‘ãƒ—ãƒ©ãƒ³ Security Savings Bundle ã§ã©ã‚Œãã‚‰ã„ã‚³ã‚¹ãƒˆå‰Šæ¸›ã§ãã‚‹ã®ã‹è©¦ç®—ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚å€‹äººåˆ©ç”¨ã®ç¯„å›²ã§ã‚‚ã€ã»ã¼ 30 % ã‚³ã‚¹ãƒˆå‰Šæ¸›ã§ãã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚\nå¤§é‡ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚ã£ãŸã‚Šã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥çŸ­ã‚ã§ã‚ªãƒªã‚¸ãƒ³ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå¤šããªã£ãŸã‚Šã™ã‚‹ã¨ CloudFront ã®ã‚³ã‚¹ãƒˆã¯é«˜ããªã£ã¦ãã‚‹ã®ã§ã€ CloudFront ã‚’ä½¿ã£ã¦ã„ã‚‹æ–¹ã¯ä¸€åº¦è©¦ç®—ã—ã¦ã¿ã‚‹ã¨ã‚ˆã•ãã†ã§ã™ã€‚ã¾ãŸã€ WAF ã®ãŸã‚ã« CloudFront ã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã„ã†ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚‚ã‚ã‚‹ã¨æ€ã†ã®ã§ã€ãã†ã„ã†æ–¹ã«ã¯ WAF ã®ã‚³ã‚¹ãƒˆã«å……ã¦ã‚‰ã‚Œã‚‹ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚‚ã¤ã„ã¦ãã‚‹ã®ã¯å¬‰ã—ã„ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚\n",
    "permalink": "https://michimani.net/post/aws-get-started-cloudfront-saving-bundle/",
    "title": "CloudFront ã®æ–°æ–™é‡‘ãƒ—ãƒ©ãƒ³ Security Savings Bundle ã§ã©ã‚Œãã‚‰ã„ã‚³ã‚¹ãƒˆå‰Šæ¸›ã§ãã‚‹ã®ã‹è©¦ç®—ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "Go ã§ã¡ã‚‡ã£ã¨ã—ãŸ CLI ãƒ„ãƒ¼ãƒ«ã‚’ä½œã£ãŸã®ã§ã€ GitHub Actions ã¨ GoReleaser ã‚’ä½¿ã£ã¦ brew ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã—ãŸã€‚ãã®æ™‚ã®æ‰‹é †ã‚’ã¾ã¨ã‚ã¦ãŠãã¾ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ ã‚„ã£ãŸã“ã¨ 1. homebrew-genlink ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆ 2. genlink ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆ 3. brew ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã¾ã¨ã‚ å‚è€ƒã«ã—ãŸè¨˜äº‹ æ¦‚è¦ GitHub Actions ã¨ GoReleaser ã‚’ä½¿ã£ã¦ Go ã§æ›¸ã„ãŸ CLI ãƒ„ãƒ¼ãƒ«ã‚’ brew ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nå®Ÿéš›ã«ã“ã®æ–¹æ³•ã§å…¬é–‹ã—ã¦ã„ã‚‹ãƒ„ãƒ¼ãƒ«ãŒã‚ã‚‹ã®ã§ã€ã“ã‚Œã‚’å…¬é–‹ã™ã‚‹ã¨ãã«ã¨ã£ãŸæ‰‹é †ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nmichimani/genlink - GitHub ã¡ãªã¿ã«ã“ã‚Œã¯ã€ URL ã‚’æ¸¡ã™ã¨ã„ã‚ã‚“ãªå½¢å¼ (Markdown/HTML/QR ã‚³ãƒ¼ãƒ‰) ã§ãƒªãƒ³ã‚¯ã‚’ç”Ÿæˆã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚\nã‚„ã£ãŸã“ã¨ ã‚„ã£ãŸã“ã¨ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\nhomebrew-genlink ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆ genlink ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆ CLI ãƒ„ãƒ¼ãƒ«ã®å®Ÿè£… CREDITS ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ .github/workflows/release.yml ã¨ .goreleaser.yml ã‚’ä½œæˆ ã‚¿ã‚°ä»˜ã‘ã—ã¦ Push brew ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ãã‚Œãã‚Œè©³ç´°ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\n1. homebrew-genlink ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆ ã¾ãšã¯ GitHub ã§ homebrew-genlink ã¨ã„ã†ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã‚Šã¾ã™ã€‚\nã“ã‚Œã¯ã€ä½œæˆã—ãŸãƒ„ãƒ¼ãƒ«ã‚’ brew tap ã‚’ä½¿ç”¨ã—ã¦é…å¸ƒã™ã‚‹ãŸã‚ã«å¿…è¦ãªãƒªãƒã‚¸ãƒˆãƒªã¨ãªã‚Šã¾ã™ã€‚\nbrew ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã¯ã€åŸºæœ¬çš„ã«ã¯ Homebrew å…¬å¼ã® Homebrew/homebrew-core ã«è¿½åŠ ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãŸã ã—ã€å…¬å¼ãƒªãƒã‚¸ãƒˆãƒªã¸è¿½åŠ ã—ã¦ã‚‚ã‚‰ã†ã¨ãªã‚‹ã¨ã€ PR ã‚’ä½œã£ã¦ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã‚‚ã‚‰ã£ã¦ãƒãƒ¼ã‚¸ã—ã¦ã‚‚ã‚‰ã†æµã‚Œã«ãªã‚Šã€å…¬é–‹ã¾ã§ã«æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚ã¾ãŸã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã®ãŸã³ã«ã“ã®ãƒ•ãƒ­ãƒ¼ã‚’è¸ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nbrew tap ã‚’ä½¿ã†ã¨ã€å…¬å¼ä»¥å¤–ã®ãƒªãƒã‚¸ãƒˆãƒªã«ã‚ã‚‹ãƒ„ãƒ¼ãƒ«ã‚’ brew ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ãã®éš›ã€å¯¾è±¡ã¨ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®å‘½åè¦å‰‡ãŒã€Œhomebrew-{hoge}ã€ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nã“ã®ãƒªãƒã‚¸ãƒˆãƒªã¯ã‚ãã¾ã§ã‚‚ brew tap ã§èªè­˜ã•ã›ã‚‹ãŸã‚ã®ãƒªãƒã‚¸ãƒˆãƒªã§ã€ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã§ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç®¡ç†ã™ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nbrew/Taps.md at master Â· Homebrew/brew 2. genlink ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆ å®Ÿéš›ã«ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç®¡ç†ã™ã‚‹ãƒªãƒã‚¸ãƒˆãƒª genlink ã‚’ä½œæˆã—ã¾ã™ã€‚ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã™ã‚‹éš›ã€ LICENSE ã‚’ä¸€ç·’ã«ä½œã£ã¦ãŠãã¾ã™ã€‚(ã“ã‚Œã¯ä»»æ„ã§ã™)\n2-1. CLI ãƒ„ãƒ¼ãƒ«ã®å®Ÿè£… ãƒ„ãƒ¼ãƒ«ã‚’å®Ÿè£…ã—ã¾ã™ã€‚\nGo ã§ CLI ãƒ„ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹éš›ã€æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã® flag ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ™‚ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ã„ã„æ„Ÿã˜ã«æ‰±ã†äº‹ãŒã§ãã¾ã™ã€‚ main.go ã¯ã“ã‚“ãªæ„Ÿã˜ã«ãªã£ã¦ã¾ã™ã€‚\npackage main import ( \u0026#34;flag\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; ) var ( targetUrl *string = flag.String(\u0026#34;u\u0026#34;, \u0026#34;\u0026#34;, \u0026#34;Type of link to output\u0026#34;) genType *string = flag.String(\u0026#34;t\u0026#34;, \u0026#34;md\u0026#34;, \u0026#34;Type of link to output\u0026#34;) outDir *string = flag.String(\u0026#34;o\u0026#34;, \u0026#34;\u0026#34;, \u0026#34;Directory to output QR code\u0026#34;) version string revision string ) func usage() { format := ` _ _ _ __ _ ___ _ __ | (_)_ __ | | __ / _\u0026#39; |/ _ \\ \u0026#39;_ \\| | | \u0026#39;_ \\| |/ / | (_| | __/ | | | | | | | | \u0026lt; \\__, |\\___|_| |_|_|_|_| |_|_|\\_\\ |___/ Version: %s-%s Usage: genlink [flags] [values] Flags: -u (required) URL -t Type of link to output md: Markdown (default) html: HTML a tag html-bl: HTML a tag with \u0026#39;target=\u0026#34;_blank\u0026#34;\u0026#39; qr: QR code image -o Absolute path to directory to output QR code Use this flag in combination with \u0026#39;-t qr\u0026#39; Default is current directory Author: michimani \u0026lt;michimani210@gmail.com\u0026gt; ` fmt.Fprintln(os.Stderr, fmt.Sprintf(format, version, revision)) } func main() { flag.Usage = usage flag.Parse() os.Exit(run()) } func run() int { res, err := Generate(*targetUrl, *genType, *outDir) if err != nil { fmt.Println(err.Error()) return 1 } fmt.Println(res) return 0 } flag.Usage ã«ä»£å…¥ã—ãŸé–¢æ•°ã¯ã€ -h ã¾ãŸã¯ --help ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¦å®Ÿè¡Œã—ãŸéš›ã«å®Ÿè¡Œã•ã‚Œã‚‹ã®ã§ã€ã‚³ãƒãƒ³ãƒ‰ã®ä½¿ã„æ–¹ã‚’å‡ºåŠ›ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nversion string revision string å®£è¨€ã ã‘ã—ã¦åˆæœŸåŒ–ã—ã¦ã„ãªã„ã“ã®å¤‰æ•°ã«ã¤ã„ã¦ã¯å¾Œã§èª¬æ˜ã—ã¾ã™ã€‚\nã¡ãªã¿ã« ã€Œgenlinkã€ã‚¢ã‚¹ã‚­ãƒ¼ã‚¢ãƒ¼ãƒˆã¯ figlet ã‚³ãƒãƒ³ãƒ‰ã§ç”Ÿæˆã—ã¾ã—ãŸã€‚ macOS ã§ã‚ã‚Œã° brew install figlet ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã€‚\n2-2. CREDITS ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ Go ã§ä½œæˆã—ãŸ (Go ã«é™ã‚‰ãšã§ã™ãŒ) ãƒ„ãƒ¼ãƒ«ã‚’é…å¸ƒã™ã‚‹éš›ã€ãã®ãƒ„ãƒ¼ãƒ«å†…ã§ä½¿ç”¨ã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ã‚’ãƒã‚¤ãƒŠãƒªã«åŒæ¢±ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚Go ã®å ´åˆã€ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã ã‘ã§ãªãæ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã¤ã„ã¦ã‚‚ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã«ã¤ã„ã¦ã¯ã“ã®ã‚ãŸã‚Šã§è­°è«–ã•ã‚Œã¦ã„ã¾ã™ã€‚\nStandard library licensing question Â· Issue #19893 Â· golang/go ãŸã ã€ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ã‚’ã™ã¹ã¦ç¢ºèªã™ã‚‹ã®ã¯é¢å€’ã§ã™ã€‚ãã“ã§ä¾¿åˆ©ãªã®ãŒã€ gocredits ã¨ã„ã†ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚\nSongmu/gocredits: creates CREDITS file from LICENSE files of dependencies brew ã¾ãŸã¯ go get ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ gocredits . \u0026gt; CREDITS ã‚’å®Ÿè¡Œã™ã‚‹ã ã‘ã§ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ãŒ CREDITS ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n2-3. .github/workflows/release.yml ã¨ .goreleaser.yml ã‚’ä½œæˆ .github/workflows/release.yml ã¯ GitHub Actions ã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚ã“ã‚Œã«ã¤ã„ã¦ã¯ GoReleaser ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…ã«ã‚µãƒ³ãƒ—ãƒ«ãŒã‚ã‚Šã€ã»ã¼ãã®ã¾ã¾ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nGitHub Actions - GoReleaser ä»Šå›ã¯ã“ã®ã‚µãƒ³ãƒ—ãƒ«ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚\nname: release on: push: tags: - \u0026#34;v[0-9]+.[0-9]+.[0-9]+\u0026#34; jobs: goreleaser: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v2 with: fetch-depth: 1 - name: Setup Go uses: actions/setup-go@v2 with: go-version: 1.15 - name: Run GoReleaser uses: goreleaser/goreleaser-action@v2 with: version: latest args: release --rm-dist env: GITHUB_TOKEN: ${{ secrets.ACCESS_TOKEN }} ã‚µãƒ³ãƒ—ãƒ«ã‹ã‚‰ã®ä¸»ãªå¤‰æ›´ç‚¹ã‚’æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nã¾ãšã¯ã€GitHub Actions ã®èµ·å‹•æ¡ä»¶ã‚’ã€tag ãŒ Push ã•ã‚ŒãŸã¨ãã«ã—ã¦ã„ã¾ã™ã€‚\non: push: tags: - \u0026#34;v[0-9]+.[0-9]+.[0-9]+\u0026#34; ç¶šã„ã¦ã€ GITHUB_TOKEN ã«è¨­å®šã™ã‚‹å€¤ã®åå‰ã‚’ secrets.ACCESS_TOKEN ã«å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ GITHUB_TOKEN ã®ã¾ã¾å®Ÿè¡Œã—ãŸéš›ã« Actions ã§ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸã‹ã‚‰ã§ã™ã€‚\nâ¨¯ release failed after 45.53s error=homebrew tap formula: failed to publish artifacts: PUT https://api.github.com/repos/michimani/homebrew-genlink/contents/Formula/genlink.rb: 403 Resource not accessible by integration [] Error: The process \u0026#39;/opt/hostedtoolcache/goreleaser-action/0.155.0/x64/goreleaser\u0026#39; failed with exit code 1 ã“ã® Actions ã§ã¯ã€å¾Œã«èª¬æ˜ã™ã‚‹ .goreleaser.yml ã§ä½œæˆã—ãŸ Homebrew ç”¨ã® formula ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€æœ€åˆã«ä½œæˆã—ãŸ homebre-genlink ãƒªãƒã‚¸ãƒˆãƒªã« Push ã—ã¾ã™ã€‚ãã®éš›ã«æ¨©é™ãŒãªã„ã¨æ€’ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\nã“ã®å¯¾å‡¦æ³•ã¨ã—ã¦ã€ GitHub ã® Settings \u0026gt; Developer settings \u0026gt; Personal access tokens ã‹ã‚‰æ–°ãŸã« token ã‚’ä½œæˆã—ã€ genlink ãƒªãƒã‚¸ãƒˆãƒªã® Settings \u0026gt; Secrets ã‹ã‚‰åå‰ã‚’ã¤ã‘ã¦è¿½åŠ ã—ã¾ã™ã€‚ã“ã®ã¨ãã®åå‰ã¨ã—ã¦ GITHUB_TOKEN ã¯ä½¿ç”¨ã§ããªã„ãŸã‚ ACCESS_TOKEN ã¨ã—ã¦è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚å¿…è¦ scope ã¯ã€ã¨ã‚Šã‚ãˆãš repo ã«ãƒã‚§ãƒƒã‚¯ãŒå…¥ã£ã¦ã„ã‚Œã° OK ã§ã™ã€‚\n.goreleaser.yml ã¯ã€ãƒ“ãƒ«ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚„ formula ã®é…ç½®å ´æ‰€ãªã©ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚å†…å®¹ã¯ä¸‹è¨˜ã®é€šã‚Šã€‚\nproject_name: genlink env: - GO111MODULE=on before: hooks: - go mod tidy builds: - main: . binary: genlink ldflags: -s -w -X main.version={{.Version}} -X main.revision={{.ShortCommit}} -X main.date={{.Date}} archives: - replacements: darwin: darwin linux: linux windows: windows amd64: x86_64 files: - LICENSE - CREDITS release: prerelease: auto brews: - tap: owner: michimani name: homebrew-genlink folder: Formula homepage: \u0026#39;https://github.com/michimani/genlink\u0026#39; description: \u0026#39;Generates the URL link in various formats\u0026#39; license: \u0026#34;MIT\u0026#34; å†…å®¹ã«ã¤ã„ã¦å°‘ã—è§£èª¬ã€‚\nbuilds: - main: . binary: genlink ldflags: -s -w -X main.version={{.Version}} -X main.revision={{.ShortCommit}} -X main.date={{.Date}} ã“ã®éƒ¨åˆ†ã§ Go ã®ãƒã‚¤ãƒŠãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã„ã¾ã™ãŒã€ãã®éš›ã« ldflags ã‚’æŒ‡å®šã—ã¦ main ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å¤‰æ•° version ã€ revision ã€ date ã«å€¤ã‚’åŸ‹ã‚è¾¼ã‚“ã§ã„ã¾ã™ã€‚ãƒ„ãƒ¼ãƒ«ã®å®Ÿè£…ã®éƒ¨åˆ†ã§è§¦ã‚Œã¾ã—ãŸãŒã€å®£è¨€ã ã‘ã—ã¦ã„ãŸå¤‰æ•°ã¯ã“ã“ã§å€¤ã‚’åŸ‹ã‚è¾¼ã‚€ãŸã‚ã«å®£è¨€ã—ã¦ã„ãŸã‚ã‘ã§ã™ã€‚\nã“ã†ã™ã‚‹ã“ã¨ã§ã€ãƒ„ãƒ¼ãƒ«å†…ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚„ãƒªãƒ“ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚’è¡¨ç¤ºã™ã‚‹éš›ã«ã‚‚ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´ã¯å¿…è¦ãªãã€ãƒ“ãƒ«ãƒ‰æ™‚ã«å€¤ã‚’åŸ‹ã‚è¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚\nbrews: - tap: owner: michimani name: homebrew-genlink folder: Formula homepage: \u0026#39;https://github.com/michimani/genlink\u0026#39; description: \u0026#39;Generates the URL link in various formats\u0026#39; ã“ã®éƒ¨åˆ†ã§ã€ä½œæˆã—ãŸ formula ã‚’é…ç½®ã™ã‚‹ãƒªãƒã‚¸ãƒˆãƒªã¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚å®Ÿéš›ã«é…ç½®ã•ã‚Œã‚‹ã®ã¯ .rb ãƒ•ã‚¡ã‚¤ãƒ«ã§ã€ä¸­èº«ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªå†…å®¹ã§ã™ã€‚\n# typed: false # frozen_string_literal: true # This file was generated by GoReleaser. DO NOT EDIT. class Genlink \u0026lt; Formula desc \u0026#34;Generates the URL link in various formats\u0026#34; homepage \u0026#34;https://github.com/michimani/genlink\u0026#34; version \u0026#34;0.1.3\u0026#34; license \u0026#34;MIT\u0026#34; bottle :unneeded if OS.mac? url \u0026#34;https://github.com/michimani/genlink/releases/download/v0.1.3/genlink_0.1.3_darwin_x86_64.tar.gz\u0026#34; sha256 \u0026#34;9a4e7ec00e526565578f8b39a5f1d7253bb91b26277d6064b57ff3241d767b75\u0026#34; end if OS.linux? \u0026amp;\u0026amp; Hardware::CPU.intel? url \u0026#34;https://github.com/michimani/genlink/releases/download/v0.1.3/genlink_0.1.3_linux_x86_64.tar.gz\u0026#34; sha256 \u0026#34;c7ed041d314c16906711bc536ab82a8b170d9c83b7f057bfcfbe1926d9c75d7b\u0026#34; end if OS.linux? \u0026amp;\u0026amp; Hardware::CPU.arm? \u0026amp;\u0026amp; Hardware::CPU.is_64_bit? url \u0026#34;https://github.com/michimani/genlink/releases/download/v0.1.3/genlink_0.1.3_linux_arm64.tar.gz\u0026#34; sha256 \u0026#34;6afa8842542b8ee55833b5af5b9b3b7542b102274c1fe9bfd31408451555dd1f\u0026#34; end def install bin.install \u0026#34;genlink\u0026#34; end end .goreleaser.yml ã«ã¤ã„ã¦ã€ãã®ä»–ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¾ãŸã¯ goreleaser ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nHomebrew - GoReleaser goreleaser/.goreleaser.yml at master Â· goreleaser/goreleaser 2-4. ã‚¿ã‚°ä»˜ã‘ã—ã¦ Push ã‚ã¨ã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰ Push ã™ã‚‹éš›ã« tag ã‚’ã¤ã‘ã¦ã€ tag ã‚‚ä¸€ç·’ã« Push ã—ã¾ã™ã€‚\n$ git tag v0.1.0 $ git push origin main:main --tag å¿µã®ãŸã‚ Actions ãŒèµ·å‹•ã—ã¦æ­£å¸¸çµ‚äº†ã™ã‚‹ã“ã¨ã‚’ç¢ºã‹ã‚ã¦ãŠãã¾ã™ã€‚\n3. brew ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« Actions ãŒæ­£å¸¸ã«å‹•ã‘ã°ã€ã‚ã¨ã¯ brew ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã ã‘ã§ã™ã€‚Homebrew ã®å…¬å¼ãƒªãƒã‚¸ãƒˆãƒªã«è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚Œã° brew install \u0026lt;ãƒ„ãƒ¼ãƒ«å\u0026gt; ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ãŒã€ brew tap ã‚’ä½¿ç”¨ã—ãŸé…å¸ƒã®å ´åˆã¯ä¸‹è¨˜ã®ã‚ˆã†ãªã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ brew install michimani/genlink/genlink ... ... ğŸº /usr/local/Cellar/genlink/0.1.3: 4 files, 5.7MB, built in 3 seconds $ genlink -h _ _ _ __ _ ___ _ __ | (_)_ __ | | __ / _\u0026#39; |/ _ \\ \u0026#39;_ \\| | | \u0026#39;_ \\| |/ / | (_| | __/ | | | | | | | | \u0026lt; \\__, |\\___|_| |_|_|_|_| |_|_|\\_\\ |___/ Version: 0.1.3-53fc163 Usage: genlink [flags] [values] Flags: -u (required) URL -t Type of link to output md: Markdown (default) html: HTML a tag html-bl: HTML a tag with \u0026#39;target=\u0026#34;_blank\u0026#34;\u0026#39; qr: QR code image -o Absolute path to directory to output QR code Use this flag in combination with \u0026#39;-t qr\u0026#39; Default is current directory Author: michimani \u0026lt;michimani210@gmail.com\u0026gt; ãƒ„ãƒ¼ãƒ«åã‚’æŒ‡å®šã™ã‚‹éƒ¨åˆ†ãŒç•°ãªã‚‹ã ã‘ã§ã€ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚„ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«ã¤ã„ã¦ã‚‚åŒæ§˜ã§ã™ã€‚\n# ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ $ brew upgrade michimani/genlink/genlink # ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« $ brew uninstall michimani/genlink/genlink ã¾ã¨ã‚ Go ã§ã¡ã‚‡ã£ã¨ã—ãŸ CLI ãƒ„ãƒ¼ãƒ«ã‚’ä½œã£ãŸã®ã§ã€ GitHub Actions ã¨ GoReleaser ã‚’ä½¿ã£ã¦ brew ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\né…ç½®ã™ã‚‹ YAML ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã¯ã»ã¼ã‚³ãƒ”ãƒšã§ä½¿ãˆã‚‹ã®ã§ã€çµæ§‹ç°¡å˜ã«å…¬é–‹ã§ãã¾ã™ã€‚\nå‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸãƒ–ãƒ­ã‚°ã«\nã¿ãªã•ã‚“ã‚‚æ˜¯éã“ã‚“ãªã‚‚ã®ãŒã‚ã£ãŸã‚‰ã„ã„ãªã¨ã„ã† CLI ãƒ„ãƒ¼ãƒ«ã‚’åŒæ§˜ã®æ‰‹é †ã§ä½œæˆã€å…¬é–‹ã—ã¦ã€ GitHub Star 5000å…†å€‹ã‚’ç›®æŒ‡ã—ã¦ãã ã•ã„ã€‚\nã¨æ›¸ã‹ã‚Œã¦ã„ãŸã®ã§ã“ã®ãƒ„ãƒ¼ãƒ«ã§ Star 5000å…†å€‹ç›®æŒ‡ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nmichimani/genlink - GitHub å‚è€ƒã«ã—ãŸè¨˜äº‹ ä¸‹è¨˜ã®è¨˜äº‹ã‚’å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚\ngoreleaserã§GitHub Actionsã‹ã‚‰ç°¡å˜ã«ã‚ªãƒ¬ã‚ªãƒ¬CLIã‚’brew installã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ - Qiita GoReleaser\u0026#43;GithubActionsã‚’ä½¿ã£ã¦ã€releaseãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¨homebrewå¯¾å¿œã‚’è‡ªå‹•ã§è¡Œã† - å¹´ä¸­ã‚¢ã‚¤ã‚¹ git switch ã‹ã‚‰ã¯ã˜ã‚ã‚‹ CLI ãƒ„ãƒ¼ãƒ«ä½œæˆ ",
    "permalink": "https://michimani.net/post/development-publish-cli-tool-to-homebrew/",
    "title": "Go ã§æ›¸ã„ãŸ CLI ãƒ„ãƒ¼ãƒ«ã‚’ GitHub Actions ã¨ GoReleaser ã‚’ä½¿ã£ã¦ brew ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ã—ãŸ"
  },
  {
    "contents": " What\u0026rsquo;s this? This is a Google Spreadsheet add-on that converts selected tables to Markdown table formats.\nFeatures Converts the selected area on Spreadsheet to Markdown table format Supports multiple selections Usage Install this add-on from Google Workspace Marketplace.\nGenerateMarkdownTable - Google Workspace Marketplace Select one or more ranges in your spreadsheet.\nUse this add-on from add-ons menu.\nThe generated Markdown table format is displayed in a dialog.\nSupports multiple selections.\nSource Code michimani/gen-md-table: A Google Spreadsheet add-on that converts selected tables to Markdown table formats. If you have any comments or bug reports, please create an issue in the above repository.\nPrivacy Policy \u0026amp; Terms of Service Please read here.\nPrivacy Policy - GenerateMarkdownTable Terms of Service - GenerateMarkdownTable Logo ",
    "permalink": "https://michimani.net/projects/gen-markdown-table/about/",
    "title": "About GenerateMarkdownTable"
  },
  {
    "contents": " \u0026lt; About GenerateMarkdownTable We treat your privacy with respect and it is secured and will never be sold, shared or rented to third parties.\nTypes and methods of data to access This add-on only accesses your spreadsheet with read-only permissions. Specifically, it accesses the name of the spreadsheet, the sheet name, the selected range, and the values â€‹â€‹contained in the cell.\nHow To Handle Your Data This add-on accesses the data (the values in each cell) on your spreadsheet. The data retrieved from your spreadsheet will be used only within the add-on, and will not be sent or stored externally without your approval. The retrieved data will be used to convert the data into Markdown table format, and the converted values will be displayed as a dialog on the spreadsheet. This is the main function of this add-on.\nInformation We Collect In operating our add-on, we may collect and process the following data about you:\nDetails of your visits to our website and the resources that you access, including, but not limited to, traffic data, location data, weblogs and other communication data. Information that you provide by filling in forms on our website, such as when you registered for information or make a purchase. Information provided to us when you communicate with us for any reason. ",
    "permalink": "https://michimani.net/projects/gen-markdown-table/privacy-policy/",
    "title": "Privacy Policy - GenerateMarkdownTable"
  },
  {
    "contents": " \u0026lt; About GenerateMarkdownTable Please read these Terms of Use (the \u0026ldquo;Terms\u0026rdquo;) carefully before using GenerateMarkdownTable (the \u0026ldquo;Add-on\u0026rdquo;).\nYour use of the Add-on is conditional upon your acceptance of and compliance with these Terms of Use. These Terms of Use apply to all users of the Add-on.\nBy using this Add-on, you agree to be bound by these Terms. If you do not agree to any part of the Terms, you may not use this Add-on.\ndisclaimer/warranty your use of this add-on is at your own risk. This Add-on is provided on an \u0026ldquo;AS IS\u0026rdquo; and \u0026ldquo;AS AVAILABLE\u0026rdquo; basis.\nNo warranty of any kind is given or implied with respect to the use of this add-on. If you have any problems with this Add-on, or if you have any suggestions for improving this Add-on, please contact me in the manner described below.\nChanges I reserve the right, at my sole discretion, to modify or replace these Terms of Use at any time. If I make any changes to these Terms of Use, I will notify you via the Website or Marketplace.\nContact us about GenerateMarkdownTable If you have any suggestions, requests, questions, or remarks, please feel free to contact me via email or GitHub issue.\nemail: michimani210@gmail.com GitHub: michimani/gen-md-table ",
    "permalink": "https://michimani.net/projects/gen-markdown-table/terms-of-service/",
    "title": "Terms of Service - GenerateMarkdownTable"
  },
  {
    "contents": "AWS Copilot ã§ ECS ã§å®Ÿè¡Œã•ã‚Œã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç®¡ç†ã™ã‚‹éš›ã€ã‚¿ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚‚ã‚ˆã—ãªã«ä½œã£ã¦ãã‚Œã¾ã™ã€‚ä»Šå›ã¯ã€ãã®ã‚¿ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«ä»»æ„ã® IAM ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã—ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£… Copilot ã§ã‚¢ãƒ—ãƒªã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— manifest.yml ã‚’ä½œæˆ ä»»æ„ã® IAM ãƒãƒªã‚·ãƒ¼ã‚’è¿½åŠ  ãƒ‡ãƒ—ãƒ­ã‚¤ ç¢ºèª ã¾ã¨ã‚ æ¦‚è¦ AWS Copilot ã§ç”Ÿæˆã•ã‚Œã‚‹ã‚¿ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«ã€ä»»æ„ã® IAM ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã—ã¾ã™ã€‚\nå‰å›ã®ãƒ–ãƒ­ã‚°ã‚’æ›¸ã„ãŸéš›ã« AWS ã®ä¸­ã®äººã‹ã‚‰ãƒªãƒ—ã‚’ã‚‚ã‚‰ã£ãŸã®ã§ã€å®Ÿéš›ã«ã‚„ã£ã¦ã¿ã¾ã™ã€‚\nThank you ğŸ™ for the awesome blog post! You can also modify the task role using an Addons template https://t.co/Gvnq8YPw23\n\u0026mdash; Efe Karakus (@efekarakus) January 23, 2021 ã‚µãƒ³ãƒ—ãƒ«ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦ã¯ã€ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå†…ã® S3 ãƒã‚±ãƒƒãƒˆåãƒªã‚¹ãƒˆã‚’è¿”ã™ã‚ˆã†ãª API ã‚’ Go ã§å®Ÿè£…ã—ã¦ã¿ã¾ã™ã€‚ãã®éš›ã«ã€æœ€è¿‘ GA ã«ãªã£ãŸ SDK for Go v2 ã‚‚ä½¿ã£ã¦ã¿ã¾ã™ã€‚\nã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£… ã¾ãšã¯ã€ S3 ãƒã‚±ãƒƒãƒˆåã®ãƒªã‚¹ãƒˆã‚’è¿”ã™ã‚ˆã†ãª API ã‚’å®Ÿè£…ã—ã¾ã™ã€‚ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦ echo ã‚’ä½¿ã£ã¦ã€ AWS SDK ã¯ v2 ã‚’ä½¿ã„ã¾ã™ã€‚\nlabstack/echo: High performance, minimalist Go web framework package main import ( \u0026#34;context\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;os\u0026#34; \u0026#34;github.com/aws/aws-sdk-go-v2/aws\u0026#34; \u0026#34;github.com/aws/aws-sdk-go-v2/config\u0026#34; \u0026#34;github.com/aws/aws-sdk-go-v2/service/s3\u0026#34; \u0026#34;github.com/labstack/echo/v4\u0026#34; ) type HelloResponse struct { Message string `json:\u0026#34;message\u0026#34;` } type BucketsResponse struct { Buckets []string `json:\u0026#34;buckets\u0026#34;` } func main() { e := echo.New() e.GET(\u0026#34;/\u0026#34;, hello) e.GET(\u0026#34;/buckets\u0026#34;, buckets) e.Logger.Fatal(e.Start(\u0026#34;:1323\u0026#34;)) } func hello(c echo.Context) error { return c.JSON(http.StatusOK, HelloResponse{ Message: \u0026#34;Hello ECS!\u0026#34;, }) } func buckets(c echo.Context) error { region := os.Getenv(\u0026#34;AWS_DEFAULT_REGION\u0026#34;) if region == \u0026#34;\u0026#34; { c.Echo().Logger.Error(\u0026#34;Environment variable AWS_DEFAULT_REGION is undefined.\u0026#34;) return c.JSON(http.StatusInternalServerError, nil) } cfg, err := config.LoadDefaultConfig(context.TODO(), config.WithRegion(region)) if err != nil { c.Echo().Logger.Error(\u0026#34;Failed to laod AWS deault config.\u0026#34;, err.Error()) return c.JSON(http.StatusInternalServerError, nil) } s3client := s3.NewFromConfig(cfg) out, err := s3client.ListBuckets(context.TODO(), \u0026amp;s3.ListBucketsInput{}) if err != nil { c.Echo().Logger.Error(\u0026#34;Failed to list buckets.\u0026#34;, err.Error()) return c.JSON(http.StatusInternalServerError, nil) } var buckets []string for _, b := range out.Buckets { buckets = append(buckets, aws.ToString(b.Name)) } return c.JSON(http.StatusOK, BucketsResponse{ Buckets: buckets, }) } ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ 2 ã¤ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚\nGET / : {\u0026quot;message\u0026quot;:\u0026quot;Hello ECS!\u0026quot;} GET /buckets : {\u0026quot;buckets\u0026quot;:[\u0026quot;bucket1\u0026quot;,...,\u0026quot;bucket999\u0026quot;]} SDK for Go v2 ã®è©±ã‚’å°‘ã—æ›¸ã„ã¦ãŠãã¨ã€v2 ã§ã¯å„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ç”Ÿæˆéƒ¨åˆ†ã¨ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè¡Œæ™‚ã®å¼•æ•° (ç¬¬1å¼•æ•°ã« context ã‚’å—ã‘å–ã‚‹ã‚ˆã†ã«ãªã£ãŸ) ãŒå¤‰ã‚ã£ã¦ã„ã¾ã™ã€‚ãã®ä»–ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ§‹æˆã‚„ãƒ¡ã‚½ãƒƒãƒ‰ã«ã¤ã„ã¦ã‚‚ç´°ã‹ã„å¤‰æ›´ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\nä¾‹ãˆã° *string ã‚’ string ã«å¤‰æ›ã™ã‚‹éš›ã€v1 ã§ã¯ aws.StringValue() ã‚’ä½¿ã£ã¦ã„ã¾ã—ãŸãŒã€ v2 ã§ã¯ aws.ToString() ã‚’ä½¿ã†ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nsdk Â· pkg.go.dev Copilot ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹éš›ã® Dockerfile ã¯ä¸‹è¨˜å†…å®¹ã§æº–å‚™ã—ã¾ã™ã€‚\nFROM golang:1.15.5-alpine3.12 as build ENV GOPATH= ADD go.mod go.sum ./ RUN go mod download ADD . . RUN go build -o /main ENTRYPOINT [ \u0026#34;/main\u0026#34; ] Copilot ã§ã‚¢ãƒ—ãƒªã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— manifest.yml ã‚’ä½œæˆ copilot init ã‚³ãƒãƒ³ãƒ‰ã§ manifest.yml ã‚’ä½œæˆã—ã¾ã™ã€‚å‰å›ã¨é•ã£ã¦ä»Šå›ã¯ãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰ã« Load Balanced Web Service ã‚’é¸æŠã—ã¾ã™ã€‚ã¾ãŸã€ Port ã«ã¯ã‚³ãƒ³ãƒ†ãƒŠå´ã§å¾…ã¡å—ã‘ã‚‹ãƒãƒ¼ãƒˆç•ªå·ã‚’æŒ‡å®šã—ã¾ã™ã€‚ä»Šå›ã§ã‚ã‚Œã° 1323 ã§ echo ã®ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¦ã„ã‚‹ã®ã§ 1323 ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n$ copilot init ... Use existing application: No Application name: list-s3-buckets Workload type: Load Balanced Web Service Service name: list-s3-buckets-app Dockerfile: ./Dockerfile no EXPOSE statements in Dockerfile ./Dockerfile Port: 1323 ... ã“ã®æ™‚ç‚¹ã§ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã«ãªã£ã¦ã„ã¾ã™ã€‚\n. â”œâ”€â”€ Dockerfile â”œâ”€â”€ copilot â”‚ â””â”€â”€ list-s3-buckets-app â”‚ â””â”€â”€ manifest.yml â”œâ”€â”€ go.mod â”œâ”€â”€ go.sum â””â”€â”€ main.go ä»»æ„ã® IAM ãƒãƒªã‚·ãƒ¼ã‚’è¿½åŠ  ä»Šå›ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€ S3 ã®ãƒã‚±ãƒƒãƒˆä¸€è¦§ã‚’å–å¾—ã™ã‚‹æ¨©é™ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚ IAM ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³åã§ã„ã†ã¨ s3:ListAllMyBuckets ã§ã™ã€‚ã“ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¨±å¯ã™ã‚‹ IAM ãƒãƒªã‚·ãƒ¼ã‚’ä½œæˆã—ã¦ã€ Copilot ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã‚‹ã‚¿ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«ã‚¢ã‚¿ãƒƒãƒã—ã¾ã™ã€‚\nãã®ãŸã‚ã«ã€ copilot/list-s3-buckets-app é…ä¸‹ã« addons ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã€ãã®ä¸­ã« CloudFormation ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ä»Šå›ã§ã‚ã‚Œã° s3-list-bucket-policy.yml ã§ã™ã€‚\n. â”œâ”€â”€ Dockerfile â”œâ”€â”€ README.md â”œâ”€â”€ copilot â”‚ â””â”€â”€ list-s3-buckets-app â”‚ â”œâ”€â”€ addons â”‚ â”‚ â””â”€â”€ s3-list-bucket-policy.yml â”‚ â””â”€â”€ manifest.yml â”œâ”€â”€ go.mod â”œâ”€â”€ go.sum â””â”€â”€ main.go ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\nParameters: App: Type: String Description: Your application\u0026#39;s name. Env: Type: String Description: The environment name for the service. Name: Type: String Description: The name of the service. Resources: ListBucketPolicy: Type: AWS::IAM::ManagedPolicy Properties: PolicyDocument: Version: 2012-10-17 Statement: - Sid: ListBucketActions Effect: Allow Action: - s3:ListAllMyBuckets Resource: \u0026#34;*\u0026#34; Outputs: ListBucketPolicyArn: Description: \u0026#34;The ARN of the ManagedPolicy to attatch to the task role.\u0026#34; Value: !Ref ListBucketPolicy CFn ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã™ã‚‹ã†ãˆã§æ³¨æ„ã—ãŸã„ã®ã¯ä¸‹è¨˜ã® 2 ç‚¹ã§ã™\nParameters ã¨ã—ã¦ App , Env , Name ã‚’å®šç¾©ã™ã‚‹ å®šç¾©ã—ãŸãƒªã‚½ãƒ¼ã‚¹ã® ARN ã‚’ Outputs ã§å‡ºåŠ›ã™ã‚‹ ãã®ä»–ã€è¿½åŠ ã®ãƒªã‚½ãƒ¼ã‚¹ã®å®šç¾©ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nAdditional AWS Resources - AWS Copilot CLI ãƒ‡ãƒ—ãƒ­ã‚¤ test ç’°å¢ƒã‚’ä½œã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚\n$ copilot env init --name test --profile default --default-config $ copilot deploy --env test å‰å›ã® Job ã®å ´åˆã¨é•ã£ã¦ã€ Service ã®ã»ã†ãŒãƒ‡ãƒ—ãƒ­ã‚¤ã«æ™‚é–“ãŒã‹ã‹ã‚‹å°è±¡ã§ã™ã€‚(10åˆ†å¼±)\nç¢ºèª ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚ŒãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã® URL ã¯ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã«ã‚‚å‡ºåŠ›ã•ã‚Œã¾ã™ãŒã€å†åº¦ç¢ºèªã™ã‚‹ãŸã‚ã«ã¯ copilot svc show ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n$ copilot svc show Only found one service, defaulting to: list-s3-buckets-app About Application list-s3-buckets Name list-s3-buckets-app Type Load Balanced Web Service Configurations Environment Tasks CPU (vCPU) Memory (MiB) Port ----------- ----- ---------- ------------ ---- test 1 0.25 512 1323 Routes Environment URL ----------- --- test http://list-Publi-1JMT8L0BFYS47-390312034.ap-northeast-1.elb.amazonaws.com Service Discovery Environment Namespace ----------- --------- test list-s3-buckets-app.list-s3-buckets.local:1323 Variables Name Container Environment Value ---- --------- ----------- ----- COPILOT_APPLICATION_NAME list-s3-buckets-app test list-s3-buckets COPILOT_ENVIRONMENT_NAME \u0026#34; \u0026#34; test COPILOT_LB_DNS \u0026#34; \u0026#34; list-Publi-1JMT8L0BFYS47-390312034.ap-northeast-1.elb.amazonaws.com COPILOT_SERVICE_DISCOVERY_ENDPOINT \u0026#34; \u0026#34; list-s3-buckets.local COPILOT_SERVICE_NAME \u0026#34; \u0026#34; list-s3-buckets-app httpie ã§ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ http http://list-Publi-1JMT8L0BFYS47-390312034.ap-northeast-1.elb.amazonaws.com HTTP/1.1 200 OK Connection: keep-alive Content-Length: 25 Content-Type: application/json; charset=UTF-8 Date: Tue, 26 Jan 2021 14:21:40 GMT { \u0026#34;message\u0026#34;: \u0026#34;Hello ECS!\u0026#34; } $ http http://list-Publi-1JMT8L0BFYS47-390312034.ap-northeast-1.elb.amazonaws.com/buckets HTTP/1.1 200 OK Connection: keep-alive Content-Type: application/json; charset=UTF-8 Date: Tue, 26 Jan 2021 14:28:33 GMT Transfer-Encoding: chunked { \u0026#34;buckets\u0026#34;: [ \u0026#34;bucket_00001\u0026#34;, ... \u0026#34;bucket_99999\u0026#34; ] } CLI ã§ http ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ãªã‚‰ HTTPie ãŒä¾¿åˆ© - michimani.net ã¾ã¨ã‚ AWS Copilot ã§ ECS ã§å®Ÿè¡Œã•ã‚Œã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹éš›ã«ã€ä½œæˆã•ã‚Œã‚‹ã‚¿ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«ä»»æ„ã® IAM ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã“ã‚Œã©ã†ã™ã‚‹ã‚“ã‹ãªãƒ¼ã¨æ€ã£ã¦ã„ãŸã¨ã“ã‚ã§è§£æ±ºæ¡ˆã‚’ã‚‚ã‚‰ã£ãŸã‚ã‘ã§ã™ãŒã€ã‚ã¡ã‚ƒãã¡ã‚ƒç°¡å˜ã«ä»»æ„ã®ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã§ãã¾ã—ãŸã€‚ã¾ã‚ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã—ã£ã‹ã‚Šã¨æ›¸ã„ã¦ã‚ã£ãŸã‚“ã§ã™ãŒã€‚ã‚‚ã—åŒã˜å†…å®¹ã§ãŠå›°ã‚Šã®æ–¹ãŒã„ãŸã‚‰å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nä»Šå›ã®ã‚³ãƒ¼ãƒ‰ã¯ GitHub ã«ç½®ã„ã¦ã„ã¾ã™ã€‚\nhello-ecs/list-s3-buckets at master Â· michimani/hello-ecs ",
    "permalink": "https://michimani.net/post/aws-inject-custom-policy-to-ecs-task-role-using-copilot/",
    "title": "AWS Copilot ã§ç”Ÿæˆã•ã‚Œã‚‹ã‚¿ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«ä»»æ„ã®ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã™ã‚‹"
  },
  {
    "contents": "å‰å›ã¯ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œã•ã‚Œã‚‹ã‚¿ã‚¹ã‚¯ã‚’ ECS ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã—ãŸã€‚ä»Šå›ã¯ã€ãã®ã‚¿ã‚¹ã‚¯ã‚’ AWS CLI ã‚’ä½¿ã£ã¦æ‰‹å‹•ã§å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ ECS ã‚¿ã‚¹ã‚¯ã®ä½œæˆ å®Ÿè¡Œã«å¿…è¦ãªæƒ…å ±ã‚’å–å¾— ã‚¿ã‚¹ã‚¯å®šç¾©ã® ARN ãƒãƒƒãƒˆãƒ¼ãƒ¯ãƒ¼ã‚¯æƒ…å ± å®Ÿè¡Œ ã‚³ãƒ³ãƒ†ãƒŠã‚’ä¸Šæ›¸ãã—ã¦å®Ÿè¡Œ ã¾ã¨ã‚ ECS ã‚¿ã‚¹ã‚¯ã®ä½œæˆ ã“ã‚Œã«é–¢ã—ã¦ã¯ã€å‰å›ã®è¨˜äº‹ã§ AWS Copilot ã‚’ä½¿ã£ã¦ã‚µã‚¯ãƒƒã¨ä½œã£ãŸã‚‚ã®ãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ä½¿ã„ã¾ã™ã€‚\nAWS Copilot ã‚’ä½¿ã£ã¦ã‚’ä½¿ã£ã¦ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚ŒãŸ ECS ã‚¿ã‚¹ã‚¯ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ - michimani.net å®Ÿè¡Œã«å¿…è¦ãªæƒ…å ±ã‚’å–å¾— AWS CLI ã§ ECS ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯ ecs run-task ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚äº‹å‰ã«ã‚ã‹ã£ã¦ã„ã‚‹æƒ…å ±ã¨ã—ã¦ã€ä¸‹è¨˜ã®å€¤ã¯ AWS CLI ã‚„ãƒãƒã‚³ãƒ³ã‹ã‚‰ã‚ã‚‰ã‹ã˜ã‚å–å¾—ã—ã¦ãŠãã¾ã™ã€‚\nã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å ãƒ•ã‚¡ãƒŸãƒªãƒ¼å ã‚µãƒ–ãƒãƒƒãƒˆã® ID ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã® ID ecs run-task ã®ãƒ˜ãƒ«ãƒ—ã‚’è¦‹ã¦ã‚‚ã‚‰ã†ã¨ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®æ•°ãŒå‰²ã¨å¤šã„ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\n$ aws ecs run-task help ... SYNOPSIS run-task [--capacity-provider-strategy \u0026lt;value\u0026gt;] [--cluster \u0026lt;value\u0026gt;] [--count \u0026lt;value\u0026gt;] [--enable-ecs-managed-tags | --no-enable-ecs-managed-tags] [--group \u0026lt;value\u0026gt;] [--launch-type \u0026lt;value\u0026gt;] [--network-configuration \u0026lt;value\u0026gt;] [--overrides \u0026lt;value\u0026gt;] [--placement-constraints \u0026lt;value\u0026gt;] [--placement-strategy \u0026lt;value\u0026gt;] [--platform-version \u0026lt;value\u0026gt;] [--propagate-tags \u0026lt;value\u0026gt;] [--reference-id \u0026lt;value\u0026gt;] [--started-by \u0026lt;value\u0026gt;] [--tags \u0026lt;value\u0026gt;] --task-definition \u0026lt;value\u0026gt; [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] ä»Šå›ã¯å¿…è¦æœ€ä½é™ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¾ã™ã€‚ãªã®ã§ã€æŒ‡å®šã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\n--cluster : å¯¾è±¡ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®åå‰ --task-definition : ã‚¿ã‚¹ã‚¯å®šç¾©ã® ARN --network-configuration : ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æƒ…å ± (ã‚µãƒ–ãƒãƒƒãƒˆã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—) --launch-type : èµ·å‹•ã‚¿ã‚¤ãƒ— --overrides : ã‚³ãƒ³ãƒ†ãƒŠã®ä¸Šæ›¸ã äº‹å‰ã«ã‚ã‹ã£ã¦ã„ã‚‹æƒ…å ±ã¯å¤‰æ•°ã«è¨­å®šã—ã€ãã‚Œä»¥å¤–ã«å¿…è¦ãªå€¤ã‚’ä»¥é™ã§å–å¾—ã—ã¦ã„ãã¾ã™ã€‚\nCLUSTER_NAME=\u0026#34;hello-ecs-test-Cluster-XXXXXXXXXXXX\u0026#34; SUBNET_ID=\u0026#34;subnet-00a78dcxxxxxxxxxx\u0026#34; SG_ID=\u0026#34;sg-0600d2cxxxxxxxxxx\u0026#34; FAMILY_NAME=\u0026#34;hello-ecs-test-hello-ecs-job\u0026#34; ã‚¿ã‚¹ã‚¯å®šç¾©ã® ARN ã‚¿ã‚¹ã‚¯å®šç¾©ã¯è¤‡æ•°å­˜åœ¨ã™ã‚‹å ´åˆãŒã‚ã‚‹ã®ã§ã€æœ€æ–°ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã® ARN ã‚’å–å¾—ã—ã¾ã™ã€‚\nãã®å‰ã«ã€ Family Name ã‚’å–å¾—ã—ã¾ã™ã€‚\n$ TASK_DEF_ARN=$(aws ecs list-task-definitions \\ --family-prefix \u0026#34;${FAMILY_NAME}\u0026#34; \\ --query \u0026#34;reverse(taskDefinitionArns)[0]\u0026#34; \\ --output text) \\ \u0026amp;\u0026amp; echo \u0026#34;${TASK_DEF_ARN}\u0026#34; arn:aws:ecs:ap-northeast-1:000000000000:task-definition/hello-ecs-test-hello-ecs-job:4 ãƒãƒƒãƒˆãƒ¼ãƒ¯ãƒ¼ã‚¯æƒ…å ± äº‹å‰ã«ã‚ã‹ã£ã¦ã„ã‚‹ã‚µãƒ–ãƒãƒƒãƒˆãŠã‚ˆã³ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã® ID ã‚’ã‚‚ã¨ã€ --network-configuration ã§æŒ‡å®šã™ã‚‹æ–‡å­—åˆ—ã‚’ç”Ÿæˆã—ã¦ãŠãã¾ã™ã€‚\nNETWORK_CONFIG=\u0026#34;awsvpcConfiguration={subnets=[${SUBNET_ID}],securityGroups=[${SG_ID}],assignPublicIp=ENABLED}\u0026#34; å®Ÿè¡Œ å¿…è¦ãªæƒ…å ±ãŒæº–å‚™ã§ããŸã®ã§ã€å®Ÿè¡Œã—ã¾ã™ã€‚\n$ aws ecs run-task \\ --cluster \u0026#34;${CLUSTER_NAME}\u0026#34; \\ --task-definition \u0026#34;${TASK_DEF_ARN}\u0026#34; \\ --network-configuration \u0026#34;${NETWORK_CONFIG}\u0026#34; \\ --launch-type FARGATE { \u0026#34;tasks\u0026#34;: [ { \u0026#34;attachments\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;6fd9a03c-2d49-41bf-afca-a883cce4f42f\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;ElasticNetworkInterface\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;PRECREATED\u0026#34;, \u0026#34;details\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;subnetId\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;subnet-00a78dcxxxxxxxxxx\u0026#34; } ] } ], \u0026#34;availabilityZone\u0026#34;: \u0026#34;ap-northeast-1a\u0026#34;, \u0026#34;clusterArn\u0026#34;: \u0026#34;arn:aws:ecs:ap-northeast-1:000000000000:cluster/hello-ecs-test-Cluster-XXXXXXXXXXXX\u0026#34;, \u0026#34;containers\u0026#34;: [ { \u0026#34;containerArn\u0026#34;: \u0026#34;arn:aws:ecs:ap-northeast-1:000000000000:container/96bf19a1-2e9a-4922-af8b-9a9336ec3498\u0026#34;, \u0026#34;taskArn\u0026#34;: \u0026#34;arn:aws:ecs:ap-northeast-1:000000000000:task/hello-ecs-test-Cluster-XXXXXXXXXXXX/d17f05dc06ed4cedxxxxxxxxxxxxxxxxx\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;hello-ecs-job\u0026#34;, \u0026#34;image\u0026#34;: \u0026#34;000000000000.dkr.ecr.ap-northeast-1.amazonaws.com/hello-ecs/hello-ecs-job:783bf7b\u0026#34;, \u0026#34;lastStatus\u0026#34;: \u0026#34;PENDING\u0026#34;, \u0026#34;networkInterfaces\u0026#34;: [], \u0026#34;cpu\u0026#34;: \u0026#34;0\u0026#34; } ], \u0026#34;cpu\u0026#34;: \u0026#34;256\u0026#34;, \u0026#34;createdAt\u0026#34;: \u0026#34;2021-01-23T14:47:41.760000+09:00\u0026#34;, \u0026#34;desiredStatus\u0026#34;: \u0026#34;RUNNING\u0026#34;, \u0026#34;group\u0026#34;: \u0026#34;family:hello-ecs-test-hello-ecs-job\u0026#34;, \u0026#34;lastStatus\u0026#34;: \u0026#34;PROVISIONING\u0026#34;, \u0026#34;launchType\u0026#34;: \u0026#34;FARGATE\u0026#34;, \u0026#34;memory\u0026#34;: \u0026#34;512\u0026#34;, \u0026#34;overrides\u0026#34;: { \u0026#34;containerOverrides\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;hello-ecs-job\u0026#34; } ], \u0026#34;inferenceAcceleratorOverrides\u0026#34;: [] }, \u0026#34;platformVersion\u0026#34;: \u0026#34;1.3.0\u0026#34;, \u0026#34;tags\u0026#34;: [], \u0026#34;taskArn\u0026#34;: \u0026#34;arn:aws:ecs:ap-northeast-1:000000000000:task/hello-ecs-test-Cluster-XXXXXXXXXXXX/d17f05dc06ed4cedxxxxxxxxxxxxxxxxx\u0026#34;, \u0026#34;taskDefinitionArn\u0026#34;: \u0026#34;arn:aws:ecs:ap-northeast-1:000000000000:task-definition/hello-ecs-test-hello-ecs-job:4\u0026#34;, \u0026#34;version\u0026#34;: 1 } ], \u0026#34;failures\u0026#34;: [] } å‡ºåŠ›ã¨ã—ã¦ã€ä½œæˆã•ã‚ŒãŸå®Ÿè¡Œã‚¿ã‚¹ã‚¯ã®æƒ…å ±ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚ ã—ã°ã‚‰ãã™ã‚‹ã¨ Slack ã« ã€ŒHello ECS!!!ã€ ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå±Šãã¾ã™ã€‚\nã‚³ãƒ³ãƒ†ãƒŠã‚’ä¸Šæ›¸ãã—ã¦å®Ÿè¡Œ ä»Šå›å®Ÿè¡Œã—ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€å®Ÿè¡Œæ™‚ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚ªãƒ—ã‚·ãƒ§ãƒ³ -m ã§ Slack ã«ãƒã‚¹ãƒˆã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®ã‚ˆã†ã«ã€ã‚³ãƒ³ãƒ†ãƒŠå®Ÿè¡Œæ™‚ã®ã‚³ãƒãƒ³ãƒ‰ãªã©ã‚’ä¸Šæ›¸ãã—ãŸã„å ´åˆã¯ --overrides ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ JSON å½¢å¼ã®å€¤ã‚’æŒ‡å®šã—ã¾ã™ã€‚æŒ‡å®šã™ã‚‹ã®ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚‚ã‚ˆã„ã®ã§ã€ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ override.json ã‚’ä½œæˆã—ã¾ã™ã€‚\n$ ONTAINER_NAME=$(aws ecs describe-task-definition \\ --task-definition \u0026#34;${TASK_DEF_ARN}\u0026#34; \\ --query \u0026#34;taskDefinition.containerDefinitions[0].name\u0026#34; \\ --output text) \\ \u0026amp;\u0026amp; cat \u0026lt;\u0026lt;EOF \u0026gt; overrides.json { \u0026#34;containerOverrides\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;${ONTAINER_NAME}\u0026#34;, \u0026#34;command\u0026#34;: [\u0026#34;-m\u0026#34;, \u0026#34;Hello Amazon DynamoDB !!!\u0026#34;] } ] } EOF å†…å®¹ã‚’ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚ (ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã‘ã‚Œã° OK ã§ã™)\n$ python3 -m json.tool ./overrides.json { \u0026#34;containerOverrides\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;hello-ecs-job\u0026#34;, \u0026#34;command\u0026#34;: [ \u0026#34;-m\u0026#34;, \u0026#34;Hello Amazon DynamoDB !!!\u0026#34; ] } ] } ä½œæˆã—ãŸ overrides.json ã‚’ --overrides ã§æŒ‡å®šã—ã¦å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ aws ecs run-task \\ --cluster \u0026#34;${CLUSTER_NAME}\u0026#34; \\ --task-definition \u0026#34;${TASK_DEF_ARN}\u0026#34; \\ --network-configuration \u0026#34;${NETWORK_CONFIG}\u0026#34; \\ --launch-type FARGATE \\ --overrides file://overrides.json ã¾ã¨ã‚ AWS CLI ã§ ECS ã®ã‚¿ã‚¹ã‚¯ã‚’æ‰‹å‹•ã§å®Ÿè¡Œã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nä»Šå›ã®æ‰‹é †ã§å¯å¤‰ãªéƒ¨åˆ†ã¯ã€ãŠãã‚‰ãã‚³ãƒ³ãƒ†ãƒŠä¸Šæ›¸ãæ™‚ã®ã‚³ãƒãƒ³ãƒ‰ãã‚‰ã„ãªã®ã§ã€ä½•åº¦ã‚‚æ‰‹å‹•å®Ÿè¡Œã™ã‚‹ã‚ˆã†ãªæ©Ÿä¼šãŒã‚ã‚‹ãªã‚‰ä»Šå›ã®æ‰‹é †ã‚’ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã—ã¦ãŠãã¨æ¥½ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\n",
    "permalink": "https://michimani.net/post/aws-run-ecs-task-using-aws-cli/",
    "title": "AWS CLI ã‚’ä½¿ã£ã¦ Amazon ECS ã®ã‚¿ã‚¹ã‚¯ã‚’æ‰‹å‹•ã§å®Ÿè¡Œã™ã‚‹"
  },
  {
    "contents": "ECS ã§ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ã‚’ AWS CLI ã§æ‰‹å‹•å®Ÿè¡Œã—ãŸã„ã€ã§ã‚‚ãã‚‚ãã‚‚ãã®ã‚¿ã‚¹ã‚¯ã‚’ç”¨æ„ã™ã‚‹ã®ãŒå¤§å¤‰ãã†ã€‚ã¨ã„ã†ã“ã¨ã§ã€æ˜¨å¹´å¤é ƒã«ç™ºè¡¨ã•ã‚Œã¦ç§‹ã«ã¯ GA ã¨ãªã£ãŸ AWS Copilot ã‚’ä½¿ã£ã¦ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ã‚’ä½œæˆã—ã¦ã¿ã¾ã™ã€‚CLI ã§ã®å®Ÿè¡Œã¯æ¬¡å›ã€‚\nç›®æ¬¡ AWS Copilot ã¨ã¯ ã‚„ã‚‹ã“ã¨ ã‚„ã£ã¦ã¿ã‚‹ 1. ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œã•ã‚Œã‚‹ã‚¿ã‚¹ã‚¯ (ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³) ã®å®Ÿè£… 2. AWS Copilot ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« 3. AWS Copilot ã‚’ä½¿ã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ ã¾ã¨ã‚ â€»è¿½è¨˜ AWS Copilot ã¨ã¯ GitHub ã® README ã«ã¯æ¬¡ã®ã‚ˆã†ã«èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚\nThe AWS Copilot CLI is a tool for developers to build, release and operate production ready containerized applications on Amazon ECS and AWS Fargate.\naws/copilot-cli ã‚³ãƒ³ãƒ†ãƒŠåŒ–ã•ã‚ŒãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ Amazon ECS ã§æ§‹ç¯‰ãƒ»ãƒªãƒªãƒ¼ã‚¹ãƒ»é‹ç”¨ã™ã‚‹ãŸã‚ã® CLI ã§ã™ã€ã¨ã€‚ECS ã‚’ä½¿ã£ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹ç¯‰ã«ã¯ã€ VPC ä½œã£ãŸã‚Šã‚¿ã‚¹ã‚¯å®šç¾©ä½œã£ãŸã‚Šã¨ã€æ­£ç›´ç°¡å˜ã§ã¯ãªã„ãªã¨ã„ã†å°è±¡ã§ã™ã€‚ AWS Copilot ã‚’ä½¿ã†ã¨ãã®è¾ºã®è¨­å®šã‚’ã‚ˆã—ãªã«ã‚„ã£ã¦ãã‚Œã¾ã™ã€‚\næ—¢ã«å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚„ã„ã‚ã‚“ãªæ–¹ã®ãƒ–ãƒ­ã‚°ã§è§¦ã‚Œã‚‰ã‚Œã¦ã„ã‚‹ã®ã§ã€è©³ç´°ãªä½¿ã„æ–¹ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®å‚è€ƒè¨˜äº‹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nServices - AWS Copilot CLI AWS Copilot ã®ã”ç´¹ä»‹ | Amazon Web Services ãƒ–ãƒ­ã‚° Amazon ECSã®æ–°ãŸãªãƒ‡ãƒ—ãƒ­ã‚¤ãƒ„ãƒ¼ãƒ«ã¨ãªã‚‹AWS CopilotãŒGAã«ï¼ECSç’°å¢ƒã®æ§‹ç¯‰ãŒä¾¿åˆ©ã«ãªã‚‹ãï¼ï¼ | Developers.IO AWS Copilot Jobsã§ECSã‚¿ã‚¹ã‚¯ã®å®šæœŸå®Ÿè¡Œã‚’è¡Œã† ã‚„ã‚‹ã“ã¨ ä»Šå›ã‚„ã‚‹ã“ã¨ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚\nã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œã•ã‚Œã‚‹ã‚¿ã‚¹ã‚¯ (ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³) ã®å®Ÿè£… AWS Copilot ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« AWS Copilot ã‚’ä½¿ã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ ã‚„ã£ã¦ã¿ã‚‹ ã§ã¯é †ç•ªã«ã‚„ã£ã¦ã„ãã¾ã™ã€‚\n1. ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œã•ã‚Œã‚‹ã‚¿ã‚¹ã‚¯ (ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³) ã®å®Ÿè£… ã¾ãšã¯ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ã¨ã—ã¦å®Ÿè¡Œã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£…ã§ã™ã€‚ä»Šå›ã¯ã€Slack ã®ã¨ã‚ã‚‹ãƒãƒ£ãƒ³ãƒãƒ«ã« ã€ŒHello ECS!!!ã€ ã¨ãƒã‚¹ãƒˆã™ã‚‹ã ã‘ã®ã‚¢ãƒ—ãƒªã‚’ Go ã§å®Ÿè£…ã—ã¾ã™ã€‚\npackage main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;errors\u0026#34; \u0026#34;flag\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;net/url\u0026#34; \u0026#34;os\u0026#34; ) const ( iconEmoji string = \u0026#34;:mega:\u0026#34; userName string = \u0026#34;Hello ECS Job\u0026#34; channel string = \u0026#34;dev\u0026#34; ) type payload struct { Text string `json:\u0026#34;text\u0026#34;` IconEmoji string `json:\u0026#34;icon_emoji\u0026#34;` UserName string `json:\u0026#34;username\u0026#34;` Channel string `json:\u0026#34;channel\u0026#34;` } func getWebhookURL() (string, error) { webhookURL := os.Getenv(\u0026#34;SLACK_WEBHOOK_URL\u0026#34;) if webhookURL == \u0026#34;\u0026#34; { return \u0026#34;\u0026#34;, errors.New(\u0026#34;The environment value SLACK_WEBHOOK_URL is required.\u0026#34;) } return webhookURL, nil } func postToSlack(message, webhookURL string) error { p, err := json.Marshal(payload{ Text: message, IconEmoji: iconEmoji, UserName: userName, Channel: channel, }) if err != nil { return err } resp, err := http.PostForm(webhookURL, url.Values{\u0026#34;payload\u0026#34;: {string(p)}}) if err != nil { return err } defer resp.Body.Close() return nil } func main() { m := flag.String(\u0026#34;m\u0026#34;, \u0026#34;Hello ECS!!!\u0026#34;, \u0026#34;Message posted to Slack\u0026#34;) flag.Parse() webhookUrl, err := getWebhookURL() if err != nil { fmt.Println(\u0026#34;Failed to get Slack Webhook URL.\u0026#34;, err.Error()) return } if err := postToSlack(*m, webhookUrl); err != nil { fmt.Println(\u0026#34;Failed to post message to Slack.\u0026#34;, err.Error()) } } Slack ã® Webhook URL ã¯ç’°å¢ƒå¤‰æ•° SLACK_WEBHOOK_URL ã‹ã‚‰å–å¾—ã—ã¾ã™ã€‚ã€‚ ãƒã‚¹ãƒˆã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ ã€ŒHello ECS!!!ã€ ã§ã™ãŒã€å®Ÿè¡Œæ™‚ã« -m ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ä»»æ„ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nCopilot ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹éš›ã«ã¯ Dockerfile ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€ä¸‹è¨˜ã®å†…å®¹ã§ä½œæˆã—ã¦ãŠãã¾ã™ã€‚\nFROM golang:1.15.5-alpine3.12 as build ADD . . RUN go build -o /main FROM golang:1.15.5-alpine3.12 COPY --from=build /main /main ENTRYPOINT [ \u0026#34;/main\u0026#34; ] 2. AWS Copilot ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ç¶šã„ã¦ AWS Copilot ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ã™ã€‚ macOS ã§ã‚ã‚Œã° Homebrew ã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã€‚\n$ brew install aws/tap/copilot-cli $ copilot version version: v1.1.0, built for darwin 3. AWS Copilot ã‚’ä½¿ã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã«ã¯ manifest.yml ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€ã¾ãšã¯ãã‚Œã‚’ä½œæˆã—ã€ãã®å¾Œãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚\nmanifest.yml ã‚’ä½œæˆ copilot init ã‚³ãƒãƒ³ãƒ‰ã§ manifest.yml ã‚’ä½œæˆã—ã¾ã™ã€‚\n$ copilot init Welcome to the Copilot CLI! We\u0026#39;re going to walk you through some questions to help you get set up with an application on ECS. An application is a collection of containerized services that operate together. Application name: hello-ecs Workload type: Scheduled Job Job name: hello-ecs-job Dockerfile: ./Dockerfile Custom Schedule: */5 * * * * Your job will run at the following times: Every 5 minutes Would you like to use this schedule? Yes Ok great, we\u0026#39;ll set up a Scheduled Job named hello-ecs-job in application hello-ecs running on the schedule */5 * * * *. âœ” Created the infrastructure to manage services and jobs under application hello-ecs. âœ” Wrote the manifest for job hello-ecs-job at copilot/hello-ecs-job/manifest.yml Your manifest contains configurations like your container size and job schedule (*/5 * * * *). âœ” Created ECR repositories for job hello-ecs-job. All right, you\u0026#39;re all set for local development. Deploy: No No problem, you can deploy your service later: - Run `copilot env init --name test --profile default --app hello-ecs` to create your staging environment. - Update your manifest copilot/hello-ecs-job/manifest.yml to change the defaults. - Run `copilot job deploy --name hello-ecs-job --env test` to deploy your job to a test environment. ã“ã®æ™‚ç‚¹ã§ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã«ãªã£ã¦ã„ã¾ã™ã€‚\n$ . â”œâ”€â”€ Dockerfile â”œâ”€â”€ copilot â”‚ â””â”€â”€ hello-ecs-job â”‚ â””â”€â”€ manifest.yml â””â”€â”€ main.go ä»Šå›ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å†…ã§ã¯ Slack ã® Webhook URL ã‚’ç’°å¢ƒå¤‰æ•°ã‹ã‚‰å–å¾—ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ã‚¿ã‚¹ã‚¯å®Ÿè¡Œæ™‚ã«ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã™ã‚‹ãŸã‚ã€ Webhook URL ã®å€¤ã‚’ SSM ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã«ç™»éŒ²ã—ã¦ãŠãã¾ã™ã€‚\n$ aws ssm put-parameter \\ --name /test/slack-webhook \\ --value \u0026#34;https://hooks.slack.com/services/XXXXXXXXXXX\u0026#34; \\ --type String \\ --tags Key=copilot-environment,Value=test Key=copilot-application,Value=hello-ecs ã“ã“ã§ã‚¿ã‚°ã‚’ã—ã¦ã„ã‚‹ã®ã¯ã€å¾Œã®ãƒ‡ãƒ—ãƒ­ã‚¤ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã‚‹ã‚¿ã‚¹ã‚¯å®Ÿè¡Œãƒ­ãƒ¼ãƒ«ãŒä¸‹è¨˜ã®ã‚ˆã†ãªãƒãƒªã‚·ãƒ¼ã‚’æŒã¤ã‹ã‚‰ã§ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Condition\u0026#34;: { \u0026#34;StringEquals\u0026#34;: { \u0026#34;ssm:ResourceTag/copilot-environment\u0026#34;: \u0026#34;test\u0026#34;, \u0026#34;ssm:ResourceTag/copilot-application\u0026#34;: \u0026#34;hello-ecs\u0026#34; } }, \u0026#34;Action\u0026#34;: [ \u0026#34;ssm:GetParameters\u0026#34; ], \u0026#34;Resource\u0026#34;: [ \u0026#34;arn:aws:ssm:ap-northeast-1:000000000000:parameter/*\u0026#34; ], \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34; }, { \u0026#34;Condition\u0026#34;: { \u0026#34;StringEquals\u0026#34;: { \u0026#34;secretsmanager:ResourceTag/copilot-application\u0026#34;: \u0026#34;hello-ecs\u0026#34;, \u0026#34;secretsmanager:ResourceTag/copilot-environment\u0026#34;: \u0026#34;test\u0026#34; } }, \u0026#34;Action\u0026#34;: [ \u0026#34;secretsmanager:GetSecretValue\u0026#34; ], \u0026#34;Resource\u0026#34;: [ \u0026#34;arn:aws:secretsmanager:ap-northeast-1:000000000000:secret:*\u0026#34; ], \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34; }, { \u0026#34;Action\u0026#34;: [ \u0026#34;kms:Decrypt\u0026#34; ], \u0026#34;Resource\u0026#34;: [ \u0026#34;arn:aws:kms:ap-northeast-1:000000000000:key/*\u0026#34; ], \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34; } ] } SSM ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã€åŠã³ SecretManager ã‹ã‚‰å€¤ã‚’å–å¾—ã—ã¦ç’°å¢ƒå¤‰æ•°ã«è¨­å®šã™ã‚‹å ´åˆã€ãã‚Œã‚‰ã®ãƒªã‚½ãƒ¼ã‚¹ã«ã¯ copilot-application ã¨ copilot-environment ã‚’ã‚¿ã‚°åã¨ã—ã¦ã€ãã‚Œãã‚Œå€¤ã‚’è¨­å®šã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nãã—ã¦ã€ copilot/hello-ecs-job/manifest.yml ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚\n- #secrets: # Pass secrets from AWS Systems Manager (SSM) Parameter Store. - # GITHUB_TOKEN: GITHUB_TOKEN # The key is the name of the environment variable, the value is the name of the SSM parameter. + secrets: # Pass secrets from AWS Systems Manager (SSM) Parameter Store. + SLACK_WEBHOOK_URL: \u0026#34;/test/slack-webhook\u0026#34; # The key is the name of the environment variable, the value is the name of the SSM parameter. ã“ã‚Œã«ã¤ã„ã¦ã¯ Copilot ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nSecrets - AWS Copilot CLI ãƒ‡ãƒ—ãƒ­ã‚¤ æº–å‚™ãŒæ•´ã£ãŸã®ã§ã€ test ç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ã¾ã™ã€‚\n$ copilot job deploy --name hello-ecs-job --env test âœ˜ get environment test configuration: couldn\u0026#39;t find environment test in the application hello-ecs ç’°å¢ƒãŒç„¡ã„ã‚‰ã—ã„ã€‚ã¨ã„ã†ã“ã¨ã§ä½œã‚Šã¾ã™ã€‚\n$ copilot env init --name test --profile default --default-config âœ” Proposing infrastructure changes for the hello-ecs-test environment. - Creating the infrastructure for the hello-ecs-test environment. [rollback complete] [37.1s]0s] The following resource(s) failed to create: [InternetGateway, Cluster, VPC]. Rollback requested by user. - An IAM Role for AWS CloudFormation to manage resources [not started] - An ECS cluster to group your services. [delete complete] [2.1s] Resource creation cancelled - An IAM Role to describe resources in your environment [not started] - A security group to allow your containers to talk to each other [not started] - An Internet Gateway to connect to the public internet [delete complete] [14.4s] Resource creation cancelled - Private subnet 1 for resources with no internet access [not started] - Private subnet 2 for resources with no internet access [not started] - Public subnet 1 for resources that can access the internet [not started] - Public subnet 2 for resources that can access the internet [not started] - A Virtual Private Cloud to control networking of your AWS resources [delete complete] [2.1s] The maximum number of VPCs has been reached. (Service: AmazonEC2; Stat us Code: 400; Error Code: VpcLimitExceeded; Request ID: 9571d86e-a7e6- 496b-ae4f-5a4797c1c7a0; Proxy: null) âœ˜ stack hello-ecs-test did not complete successfully and exited with status ROLLBACK_COMPLETE The maximum number of VPCs has been reached.\nVPC ã®æ•°ãŒä¸Šé™ã«é”ã—ãŸã‚‰ã—ã„ã§ã™\u0026hellip;ãªã®ã§ã€ä¸è¦ãª VPC ã‚’å‰Šé™¤ã—ã¦å†åº¦å®Ÿè¡Œã—ã¾ã™ã€‚\n$ copilot env init --name test --profile default --default-config ... ... âœ” Created environment test in region ap-northeast-1 under application hello-ecs. test ç’°å¢ƒãŒä½œæˆã•ã‚ŒãŸã®ã§ã€ã‚ã‚‰ãŸã‚ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚\n$ copilot job deploy --name hello-ecs-job --env test ... ... âœ” Deployed hello-ecs-job. ã“ã®ã‚³ãƒãƒ³ãƒ‰ã§ã¯\nDockerfile ã‚’å…ƒã«ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰\n-\u0026gt; ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã«ã‚¿ã‚°ä»˜ã‘\n-\u0026gt; ECR ã« Push\n-\u0026gt; ECS ã®ã‚¿ã‚¹ã‚¯å®šç¾©ã‚’ä½œæˆ\nãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\næš«ãå¾…ã¤ã¨ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã‚¿ã‚¹ã‚¯ãŒå®Ÿè¡Œã•ã‚Œã¦ Slack ã«é€šçŸ¥ãŒæ¥ã¾ã™ã€‚\nã¾ã¨ã‚ AWS Copilot ã‚’ä½¿ã£ã¦ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚ŒãŸ ECS ã‚¿ã‚¹ã‚¯ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚ VPC é–¢é€£ãƒªã‚½ãƒ¼ã‚¹ã®ä½œæˆã€ã‚¿ã‚¹ã‚¯å®šç¾©ã®ä½œæˆã€ ECR ãƒªãƒã‚¸ãƒˆãƒªã®ä½œæˆãªã©ã€ ECS + Fargate ã§ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã™ã‚‹éš›ã«å¿…è¦ãªãƒªã‚½ãƒ¼ã‚¹ã‚’ã»ã¼æ„è­˜ã›ãšã«ç°¡å˜ã«ä½œæˆã§ãã‚‹ã®ã¯è‰¯ã„ãªã¨æ€ã„ã¾ã—ãŸã€‚ä¸€æ–¹ã§ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸè¨­å®šã€ä¾‹ãˆã°ã‚¿ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸ Role ã‚’ä½¿ã„ãŸã„ã¨ã‹ã¯å®Ÿç¾ãŒé›£ã—ãã†ã§ã™ã€‚ã‚¿ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã«ã¤ã„ã¦ã¯ã€èª¿ã¹ã¦ã„ã‚‹ä¸­ã§ä¸‹è¨˜ã®ãƒ„ã‚¤ãƒ¼ãƒˆã‚’è¦‹ã¤ã‘ãŸã®ã§ã€å‚è€ƒã«ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nã€Œã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³ã®ã‚¿ã‚¹ã‚¯ã‚’èµ·å‹•ã§ãã‚‹ Roleã€ã‚’ä¾‹ã®ã‚¿ã‚°ä»˜ãã§åˆ¥ã«ä½œã£ã¦ãŠã„ã¦ã€ãã®ãƒ­ãƒ¼ãƒ«ã‚’ã€ŒCopilot ãŒ ECS ã‚¿ã‚¹ã‚¯ç”¨ã«ä½œã£ãŸãƒ­ãƒ¼ãƒ«ã‹ã‚‰ Assume ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã‚ã’ã‚‹ã€ã¨ã€Copilot ã‚¿ã‚¹ã‚¯ã‹ã‚‰åˆ¥ã® ECS ã‚¿ã‚¹ã‚¯ã‚’å‘¼ã³å‡ºã™ã®ã„ã‘ã¾ã—ãŸï¼(ã¡ã‚‡ã£ã¨ã‚ã‚“ã©ãã•ã„) pic.twitter.com/2TI1Z2JL6g\n\u0026mdash; ãƒã‚¸ãƒ†ã‚£ãƒ–ãª Tori (@toricls) October 23, 2020 ä»Šå›ã®ã‚³ãƒ¼ãƒ‰ã¯ GitHub ã«ç½®ã„ã¦ã¾ã™ã€‚\nmichimani/hello-ecs: A sample that uses AWS Copilot to deploy a scheduled task to Amazon ECS. The sample app posts a message to Slack. æ¬¡å›ã¯ã€ä»Šå›ä½œæˆã—ãŸã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ã‚’ã€ AWS CLI ã‚’ä½¿ã£ã¦ä»»æ„ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\nâ€»è¿½è¨˜ ã“ã®ãƒ–ãƒ­ã‚°ãŒ AWS ã§ã‚³ãƒ³ãƒ†ãƒŠé–¢é€£ã®é–‹ç™ºã‚’ã—ã¦ã„ã‚‹æ–¹ã« è¦‹ã¤ã‹ã£ã¦ è¦‹ã¦ã„ãŸã ã„ã¦ã€ä¸‹è¨˜ã®ãƒªãƒ—ã‚’é ‚ãã¾ã—ãŸã€‚\nThank you ğŸ™ for the awesome blog post! You can also modify the task role using an Addons template https://t.co/Gvnq8YPw23\n\u0026mdash; Efe Karakus (@efekarakus) January 23, 2021 ã©ã†ã‚„ã‚‰ copilot/{service-name}/addons ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« CFn ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç½®ãã“ã¨ã§å¯¾å¿œã§ããã†ã§ã™ã€‚\nAdditional AWS Resources - AWS Copilot CLI ã¾ã•ã‹ä¸­ã®äººã‹ã‚‰ãƒªãƒ—ãŒé£›ã‚“ã§ãã‚‹ã¨ã¯æ€ã£ã¦ãªã‹ã£ãŸã®ã§ã™ãŒã€æœ‰ç›Šãªæƒ…å ±ã‚’ã„ãŸã ã‘ã¦å¬‰ã—ã„ã§ã™ã€‚ã‚ã‚ŠãŒã¨ã”ã–ã„ã¾ã™ï¼\n",
    "permalink": "https://michimani.net/post/aws-deploy-ecs-scheduled-job-using-copilot/",
    "title": "AWS Copilot ã‚’ä½¿ã£ã¦ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚ŒãŸ ECS ã‚¿ã‚¹ã‚¯ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹"
  },
  {
    "contents": "æ˜¨å¹´ã® re:Invent ã§ã€Lambda ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ãŸã¨ç™ºè¡¨ãŒã‚ã‚Šã¾ã—ãŸã€‚ä»Šå›ã¯ã€ Go ã§å®Ÿè£…ã—ãŸ Lambda é–¢æ•°ã‚’ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ ã‚„ã£ã¦ã¿ã‚‹ 1. Go ã§å®Ÿè£… 2. Dockerfile ä½œæˆãƒ»ãƒ“ãƒ«ãƒ‰ 3. ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œ 4. ECR Repository ã‚’ä½œæˆãƒ»Push 5. ECR ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰ Lambda é–¢æ•°ã‚’ä½œæˆ ã¾ã¨ã‚ æ¦‚è¦ S3 ãƒã‚±ãƒƒãƒˆåãƒªã‚¹ãƒˆã‚’å–å¾—ã—ã¦è¿”å´ã™ã‚‹ Lambda é–¢æ•°ã‚’ Go ã§å®Ÿè£…ã—ã€ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã«ã—ã¦ ECR ã« Pushã€ãã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ Lambda ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚ ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ GitHub ã«ç½®ã„ã¦ã„ã‚‹ã®ã§ã€ã“ã£ã¡ã‚’è¦‹ã¦ã‚‚ã‚‰ãˆã°ã ã„ãŸã„åˆ†ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nmichimani/go-lambda-sample: This is a sample that implements the AWS Lambda function in Go language and deploys it as a container image. ã‚„ã£ã¦ã¿ã‚‹ æ‰‹é †ã¨ã—ã¦ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\nGo ã§å®Ÿè£… Dockerfile ä½œæˆãƒ»ãƒ“ãƒ«ãƒ‰ ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œ ECR Repository ã‚’ä½œæˆãƒ»Push ECR ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰ Lambda é–¢æ•°ã‚’ä½œæˆ ä»Šå›ã¯ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ä½¿ã‚ãšã« AWS CLI ã§è«¸ã€…æ“ä½œã—ã¦ã„ãã¾ã™ã€‚\næ‰‹é †ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚è€ƒã«ã—ã¦ã„ã¾ã™ã€‚\nDeploy Go Lambda functions with container images - AWS Lambda 1. Go ã§å®Ÿè£… ã¾ãšã¯ Go ã§ Lmabda é–¢æ•°ã®å‡¦ç†ã‚’å®Ÿè£…ã—ã¾ã™ã€‚SDK ã¯ v1 ã§ã™ã€‚\npackage main import ( \u0026#34;errors\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/aws\u0026#34; runtime \u0026#34;github.com/aws/aws-lambda-go/lambda\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/aws/session\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/service/s3\u0026#34; ) type Response struct { Message string `json:\u0026#34;message\u0026#34;` BucketList []string `json:\u0026#34;bucket_list\u0026#34;` } func listBuckets(c *s3.S3) ([]string, error) { out, err := c.ListBuckets(\u0026amp;s3.ListBucketsInput{}) if err != nil { return nil, err } var list []string for _, b := range out.Buckets { list = append(list, aws.StringValue(b.Name)) } return list, nil } func handleRequest() (Response, error) { if os.Getenv(\u0026#34;AWS_DEFAULT_REGION\u0026#34;) == \u0026#34;\u0026#34; { return Response{}, errors.New(\u0026#34;\u0026#39;AWS_DEFAULT_REGION\u0026#39; is required.\u0026#34;) } region := os.Getenv(\u0026#34;AWS_DEFAULT_REGION\u0026#34;) s3sess := session.Must(session.NewSession(\u0026amp;aws.Config{ Region: aws.String(region), })) s3client := s3.New(s3sess) buckets, err := listBuckets(s3client) if err != nil { return Response{Message: fmt.Sprintf(\u0026#34;An error occurred: %s\u0026#34;, err.Error())}, nil } return Response{ Message: \u0026#34;Success!\u0026#34;, BucketList: buckets, }, nil } func main() { runtime.Start(handleRequest) } Go ã§ Lambda é–¢æ•°ã‚’å®Ÿè£…ã™ã‚‹å ´åˆã€ handleRequest() ã‚’ main() å†…ã§ runtime.Start() ã«æ¸¡ã™å½¢ã«ã—ã¾ã™ã€‚1\nhandleRequest() ã§ã¯å¼•æ•°ã¨ã—ã¦ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã‚Šã¾ã™ãŒã€ä»Šå›ã¯ç‰¹ã«ä½•ã‹å—ã‘å–ã‚‹ã“ã¨ã¯ãªã„ã®ã§å¼•æ•°ãªã—ã«ã—ã¦ã¾ã™ã€‚\n2. Dockerfile ä½œæˆãƒ»ãƒ“ãƒ«ãƒ‰ Dockerfile ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªå†…å®¹ã§ä½œæˆã—ã¾ã™ã€‚\nFROM public.ecr.aws/lambda/provided:al2 as build RUN yum install -y golang RUN go env -w GOPROXY=direct ADD go.mod go.sum ./ RUN go mod download ADD . . RUN go build -o /main FROM public.ecr.aws/lambda/provided:al2 COPY --from=build /main /main COPY entry.sh / RUN chmod 755 /entry.sh ENTRYPOINT [ \u0026#34;/entry.sh\u0026#34; ] ENTRYPOINT ã¨ã—ã¦æŒ‡å®šã—ã¦ã„ã‚‹ entry.sh ã¯ä¸‹è¨˜ã§ã™ã€‚\n#!/bin/sh if [ -z \u0026#34;${AWS_LAMBDA_RUNTIME_API}\u0026#34; ]; then exec /usr/local/bin/aws-lambda-rie \u0026#34;$@\u0026#34; else exec \u0026#34;$@\u0026#34; fi ç’°å¢ƒå¤‰æ•° AWS_LAMBDA_RUNTIME_API ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã€ã¤ã¾ã‚Šãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œæ™‚ã«ã¯ RIE (Runtime Interface Emulator) ã‚’ä½¿ã£ã¦ main ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nä¸Šè¨˜ã® Dockerfile ã§ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚\n$ docker build -t go-lambda-sample . ã¡ãªã¿ã«ã€ provided:al2 ã§ã¯ãªã alpine ã‚’ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã™ã‚‹å ´åˆã¯ã€ä¸‹è¨˜ã®å†…å®¹ã«ãªã‚Šã¾ã™ã€‚\nFROM alpine as build RUN apk add go git RUN go env -w GOPROXY=direct ADD go.mod go.sum ./ RUN go mod download ADD . . RUN go build -o /main FROM alpine COPY --from=build /main /main ADD https://github.com/aws/aws-lambda-runtime-interface-emulator/releases/latest/download/aws-lambda-rie /usr/bin/aws-lambda-rie RUN chmod 755 /usr/bin/aws-lambda-rie COPY entry.sh / RUN chmod 755 /entry.sh ENTRYPOINT [ \u0026#34;/entry.sh\u0026#34; ] 3. ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œ ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œã—ã¾ã™ã€‚\n$ docker run \\ --rm \\ -p 9000:8080 \\ -e AWS_DEFAULT_REGION=\u0026#34;ap-northeast-1\u0026#34; \\ -e AWS_ACCESS_KEY_ID=\u0026#34;************\u0026#34; \\ -e AWS_SECRET_ACCESS_KEY=\u0026#34;************\u0026#34; \\ go-lambda-sample-ed-1:latest /main ä»Šå›ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰å†…ã§ã¯ Amazon S3 ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹ã®ã§ã€å¿…è¦ãª Role ã‚’æŒã£ãŸ Credential ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚ãªã®ã§ã€ç’°å¢ƒå¤‰æ•° AWS_ACCESS_KEY_ID ã¨ AWS_SECRET_ACCESS_KEY ã«å€¤ã‚’è¨­å®šã—ã¦å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚ã¾ãŸã€ AWS_DEFAULT_REGION ã‚‚å¿…è¦ãªã®ã§ã“ã‚Œã‚‚è¨­å®šã—ã¦ã¾ã™ã€‚\nLambda ã§å®Ÿè¡Œã™ã‚‹å ´åˆã€ã“ã‚Œã‚‰ã¯ä¸è¦ã§ã™ã€‚æ¨©é™ã«ã¤ã„ã¦ã¯ Lambda ã«ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ IAM Role ã§ã€ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯ Lambda é–¢æ•°ã‚’ä½œæˆã—ãŸãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãŒè¨­å®šã•ã‚Œã¾ã™ã€‚\nä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®åˆ¥ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ invoke ç”¨ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€å®Ÿè£…ã—ãŸ Lambda é–¢æ•°ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚\n$ curl -XPOST \u0026#34;http://localhost:9000/2015-03-31/functions/function/invocations\u0026#34; -d \u0026#39;{}\u0026#39; -o out.json ## ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç¢ºèª $ cat out.json | jq . { \u0026#34;message\u0026#34;: \u0026#34;Success!\u0026#34;, \u0026#34;bucket_list\u0026#34;: [ ... ] } ã¾ãŸã€ docker run ã—ãŸã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã¯æ¨™æº–å‡ºåŠ›ã« Lambda å®Ÿè¡Œæ™‚ã®ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nSTART RequestId: d0ac5bfb-10f6-4941-b7b4-dbd653eb9f2a Version: $LATEST END RequestId: d0ac5bfb-10f6-4941-b7b4-dbd653eb9f2a REPORT RequestId: d0ac5bfb-10f6-4941-b7b4-dbd653eb9f2a Init Duration: 0.38 ms Duration: 515.25 ms Billed Duration: 600 ms Memory Size: 3008 MB Max Memory Used: 3008 MB START RequestId: 8267a9ea-d234-4c04-a730-70049eefbdd8 Version: $LATEST END RequestId: 8267a9ea-d234-4c04-a730-70049eefbdd8 REPORT RequestId: 8267a9ea-d234-4c04-a730-70049eefbdd8 Duration: 283.04 ms Billed Duration: 300 msMemory Size: 3008 MB Max Memory Used: 3008 MB ã¡ãªã¿ã«ã€ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã« alpine ã‚’ä½¿ç”¨ã—ã¦ RIE ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã«å«ã‚ãªã‹ã£ãŸå ´åˆã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒã‚·ãƒ³ã« RIE ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ docker run æ™‚ã«ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã® RIE ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã‚‚å®Ÿè¡Œå¯èƒ½ã§ã™ã€‚å„è‡ªã§ RIE ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã™ãŒã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºã‚’å°ã•ãã—ãŸã„å ´åˆã¯ã“ã®æ–¹æ³•ãŒè‰¯ã•ãã†ã§ã™ã€‚\nRIE ã‚’å«ã‚ãªã„å ´åˆã® Dockerfile ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªå†…å®¹ã§ã€‚\nFROM alpine as build RUN apk add go git RUN go env -w GOPROXY=direct ADD go.mod go.sum ./ RUN go mod download ADD . . RUN go build -o /main FROM alpine COPY --from=build /main /main ENTRYPOINT [ \u0026#34;/main\u0026#34; ] ## aws-lambda-rie ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— $ mkdir -p ~/.aws-lambda-rie \\ \u0026amp;\u0026amp; curl -Lo ~/.aws-lambda-rie/aws-lambda-rie \\ https://github.com/aws/aws-lambda-runtime-interface-emulator/releases/latest/download/aws-lambda-rie \\ \u0026amp;\u0026amp; chmod +x ~/.aws-lambda-rie/aws-lambda-rie ## ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œ $ docker run \\ --rm \\ --entrypoint /aws-lambda/aws-lambda-rie \\ -v ~/.aws-lambda-rie:/aws-lambda \\ -p 9000:8080 \\ -e AWS_DEFAULT_REGION=\u0026#34;ap-northeast-1\u0026#34; \\ -e AWS_ACCESS_KEY_ID=\u0026#34;************\u0026#34; \\ -e AWS_SECRET_ACCESS_KEY=\u0026#34;************\u0026#34; \\ go-lambda-sample:latest /main 4. ECR Repository ã‚’ä½œæˆãƒ»Push ã¾ãšã¯ ECR ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã¾ã™ã€‚\n$ aws ecr create-repository \\ --repository-name go-lambda-sample \\ --region ap-northeast-1 ç¶šã„ã¦ã€ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã«ã‚¿ã‚°ã‚’è¿½åŠ ã—ã¦ã€ ECR ã«ãƒ­ã‚°ã‚¤ãƒ³ã€ Push ã—ã¾ã™ã€‚\n$ AWS_ACCOUNT_ID=$( \\ aws sts get-caller-identity \\ --query \u0026#39;Account\u0026#39; \\ --output text ) \\ ## ã‚¿ã‚°è¿½åŠ  $ docker tag go-lambda-sample:latest \u0026#34;${AWS_ACCOUNT_ID}\u0026#34;.dkr.ecr.ap-northeast-1.amazonaws.com/go-lambda-sample:latest ## ECR ã«ãƒ­ã‚°ã‚¤ãƒ³ $ aws ecr get-login-password --region ap-northeast-1 \\ | docker login \\ --username AWS \\ --password-stdin \u0026#34;${AWS_ACCOUNT_ID}\u0026#34;.dkr.ecr.ap-northeast-1.amazonaws.com ## Push $ docker push \u0026#34;${AWS_ACCOUNT_ID}\u0026#34;.dkr.ecr.ap-northeast-1.amazonaws.com/go-lambda-sample:latest 5. ECR ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰ Lambda é–¢æ•°ã‚’ä½œæˆ $ IMAGE_URI=\u0026#34;${AWS_ACCOUNT_ID}.dkr.ecr.ap-northeast-1.amazonaws.com/go-lambda-sample:latest\u0026#34; $ aws lambda create-function \\ --function-name \u0026#34;go-lambda-sample\u0026#34; \\ --package-type \u0026#34;Image\u0026#34; \\ --code \u0026#34;ImageUri=${IMAGE_URI}\u0026#34; \\ --timeout 30 \\ --role \u0026#34;\u0026lt;iam-role-arn\u0026gt;\u0026#34; \\ --region ap-northeast-1 \u0026lt;iam-role-arn\u0026gt; ã«ã¯ã‚ã‚‰ã‹ã˜ã‚ä½œæˆã—ãŸ Role ã® ARN ã‚’æŒ‡å®šã—ã¾ã™ã€‚ä»Šå›ã®ã‚µãƒ³ãƒ—ãƒ«ã§ã‚ã‚Œã° CloudWatchLogs ã«åŠ ãˆã¦ S3 ã¸ã® Read æ¨©é™ãŒã‚ã‚Œã°ååˆ†ã§ã™ã€‚\nlambda create-function ã‚³ãƒãƒ³ãƒ‰ã«ã¯ --runtime ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã™ãŒã€ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰ä½œæˆã™ã‚‹å ´åˆã¯æŒ‡å®šã¯ä¸è¦ã§ã™ã€‚æŒ‡å®šã—ãŸå ´åˆã€ä¸‹è¨˜ã®ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚\nAn error occurred (InvalidParameterValueException) when calling the CreateFunction operation: The Runtime parameter is not supported for functions created with container images. ã¾ã¨ã‚ Go ã§å®Ÿè£…ã—ãŸ Lambda é–¢æ•°ã‚’ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\né–¢æ•°ã‚’ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã§ç”¨æ„ã§ãã¦ã€ RIE ã‚’ä½¿ã£ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã§ Lambda é–¢æ•°ã¨ã—ã¦å®Ÿè¡Œã§ãã‚‹ãŒè‰¯ã•ã’ã§ã™ã€‚ä»Šå›ã¯ãŸã ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œã—ãŸã ã‘ãªã®ã§ã€ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ (DynamoDB ã¨ã‹) ã¨åˆã‚ã›ãŸãƒ­ãƒ¼ã‚«ãƒ«ã§ã®ãƒ†ã‚¹ãƒˆã¨ã‹ã¯ã‚„ã‚Šæ–¹è€ƒãˆãŸã„ã¨æ€ã„ã¾ã™ã€‚\n\u0026ldquo;github.com/aws/aws-lambda-go/lambda\u0026rdquo; ã«ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ä»˜ã‘ã¦ã„ã‚‹ã®ã¯ã€ \u0026ldquo;github.com/aws/aws-sdk-go/service/lambda\u0026rdquo; ãŒå­˜åœ¨ã™ã‚‹ã‹ã‚‰ã§ã™ã€‚ã¾ã‚ã€ä»Šå›ã¯ä½¿ã£ã¦ãªã„ã®ã§ã‚¨ã‚¤ãƒªã‚¢ã‚¹ä»˜ã‘ãªãã¦ã‚‚ã„ã„ã‚“ã§ã™ãŒ\u0026hellip;\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-deploy-lambda-function-as-container-image/",
    "title": "Go ã§å®Ÿè£…ã—ãŸ Lambda é–¢æ•°ã‚’ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹"
  },
  {
    "contents": "æ˜¨å¹´ã«å¼•ãç¶šãã€ä»Šå¹´ã‚‚è‡ªåˆ†ã®ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã¨ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆäº‹æƒ…ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã£ã¦ã¿ã¾ã™ã€‚\n2020 å¹´ã®ç›®æ¨™ã«ã—ã¦ã„ãŸã“ã¨ 2019 å¹´ã® 12 æœˆã«ã¯ã“ã‚“ãªè¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã¾ã—ãŸã€‚\nãã®æœ€å¾Œã§\nAWS èªå®šã«é–¢ã—ã¦ã¯ Professional ãƒ¬ãƒ™ãƒ« 2 ç¨®é¡ã«åˆæ ¼ã§ãã‚‹ã‚ˆã†é ‘å¼µã‚Šã¾ã™ã€‚\nå°‘ã—å‡ºé…ã‚ŒãŸæ„Ÿã˜ã¯ã‚ã‚Šã¾ã™ãŒã€æ©Ÿæ¢°å­¦ç¿’ã«é–¢ã™ã‚‹æŠ€è¡“ã«ã¤ã„ã¦ã‚‚å‹‰å¼·ã—ã¦ã„ããŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\nã‚‚ã£ã¨ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚„ã‚ŠãŸã„ã€‚\nã¨æ›¸ã„ã¦ã¾ã™ã€‚\nã“ã‚Œã‚‰ã®ç›®æ¨™ (ã¨è¨€ã£ã¦ã‚‚æ˜ç¢ºã«ç›®æ¨™ã ã¨å®£è¨€ã¯ã—ã¦ã„ãªã„ã®ã§ã™ãŒ) ãŒé”æˆã§ããŸã®ã‹ã©ã†ã‹ã€æŒ¯ã‚Šè¿”ã£ã¦ã¿ã¾ã™ã€‚\nã‚¤ãƒ³ãƒ—ãƒƒãƒˆäº‹æƒ… 2020 å¹´ã¯ã€å¹´å§‹ç›´å¾Œã‹ã‚‰ã‚³ãƒ­ãƒŠã®å½±éŸ¿ã§ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã®å‹‰å¼·ä¼šã‚„ã‚¤ãƒ™ãƒ³ãƒˆãŒãªããªã‚Šã€ä»£ã‚ã‚Šã«ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§é–‹å‚¬ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã¾ãŸã€ä»•äº‹ã‚‚ 3 æœˆãã‚‰ã„ã‹ã‚‰ã¯åœ¨å®…å‹¤å‹™ã«ãªã‚Šã¾ã—ãŸã€‚ãã®çµæœã€æ™‚é–“ã‚„å ´æ‰€ã®åˆ¶ç´„ã‚’å—ã‘ã‚‹ã“ã¨ãŒã»ã¼ãªããªã‚Šã€å»å¹´ã‚ˆã‚Šå¤šãã®ã‚¤ãƒ™ãƒ³ãƒˆã«å‚åŠ ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã¸ã®å‚åŠ  ä¸»ã«å‚åŠ ã—ã¦ã„ãŸã®ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚\nJAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ JAWS-UG ã®åˆå¿ƒè€…æ”¯éƒ¨ã§ã™ã€‚ AWS ã®åˆå¿ƒè€…ã€ã‚¤ãƒ™ãƒ³ãƒˆå‚åŠ ã®åˆå¿ƒè€…ãŒã¨ã¦ã‚‚å‚åŠ ã—ã‚„ã™ã„ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚ä»Šå¹´ã«ãªã£ã¦åˆã‚ã¦å‚åŠ ã—ãŸã‚“ã§ã™ãŒã€çµæœçš„ã«åˆå¿ƒè€…æ”¯éƒ¨ã®ã‚¤ãƒ™ãƒ³ãƒˆã§ç™»å£‡ãƒ‡ãƒ“ãƒ¥ãƒ¼ã‚‚ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚AWS é–¢é€£ã®ã‚¤ãƒ™ãƒ³ãƒˆã«å‚åŠ ã—ã¦ã¿ãŸã„ï¼ã¨ã„ã†æ–¹ã¯ãœã²ã“ã®åˆå¿ƒè€…æ”¯éƒ¨ã‹ã‚‰å‚åŠ ã—ã¦ã¿ã¦ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ã€‚\nJAWS-UGåˆå¿ƒè€…æ”¯éƒ¨ - connpass JAWS-UG CLIå°‚é–€æ”¯éƒ¨ JAWS-UG ã® CLI å°‚é–€æ”¯éƒ¨ã§ã™ã€‚ã»ã¼éš”é€±ã§ AWS ã®ä½•ã‹ã—ã‚‰ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ AWS CLI ã§æ“ä½œã™ã‚‹ãƒãƒ³ã‚ºã‚ªãƒ³ã‚’é–‹å‚¬ã—ã¦ã„ãŸã ã„ã¦ãŠã‚Šã€å¯èƒ½ãªé™ã‚Šå‚åŠ ã—ã¦ã„ã¾ã—ãŸã€‚ãã®çµæœã€ã“ã®ä¸€å¹´ã§ AWS CLI ã®ã“ã¨ãŒã ã„ã¶å¥½ãã«ãªã£ãŸæ°—ãŒã—ã¾ã™ã€‚\nJAWS-UG CLIå°‚é–€æ”¯éƒ¨ - connpass JAWS-UGæœä¼š é€šå‹¤ãŒãªããªã‚Šã€ã¾ãŸã‚¤ãƒ™ãƒ³ãƒˆã®é–‹å‚¬å ´æ‰€ã‚‚ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã«ãªã£ãŸãŠã‹ã’ã§ã€å§‹æ¥­å‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã«å‚åŠ ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ JAWS-UG æœä¼šã¯ã€æ–‡å­—é€šã‚Šæœã«é–‹å‚¬ã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚æ¯å›ãƒ©ã‚¸ã‚ªä½“æ“ã‹ã‚‰å§‹ã¾ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã§ã€å§‹æ¥­å‰ã«é ­ã‚‚ä½“ã‚‚ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ãã¾ã™ã€‚å€‹äººçš„ã«æœã¯å¼·ã„ã®ã§ã€æœˆä¸€å›ã§ã™ãŒã€ã“ã®æ™‚é–“å¸¯ã«é–‹å‚¬ã—ã¦ã„ãŸã ã‘ã‚‹ã®ã¯ã¨ã¦ã‚‚ã‚ã‚ŠãŒãŸã‹ã£ãŸã§ã™ã€‚\nJAWS-UGæœä¼š - connpass æ–°æ™‚ä»£ã®ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ AWSJ ã®è¥¿è°·ã•ã‚“ ( @keisuke69 ) ãŒå€‹äººã§é–‹å‚¬ã•ã‚Œã¦ã„ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã§ã€ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹é–¢é€£ã§è¥¿è°·ã•ã‚“ãŒèˆˆå‘³ã‚’æŒã£ã¦ã„ã‚‹é ˜åŸŸã‚„ã€ AWS ã®ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹é–¢é€£ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«é–¢ã™ã‚‹ãŠè©±ã‚’èãã“ã¨ãŒã§ãã¾ã™ã€‚ä¸€å£ã«ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã¨è¨€ã£ã¦ã‚‚ã€ Lambda ã‚„ API Gateway ã®è©±ã ã‘ã§ã¯ãªãã€æœ€è¿‘ã¯ JAMStack ã¨ã‹ SSR ã¨ã‹ã€å€‹äººçš„ã«ã‚ã¾ã‚Šè§¦ã‚Œã‚‹æ©Ÿä¼šã®ãªã„ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å¯„ã‚Šã®è©±ã‚‚èãã“ã¨ãŒã§ãã‚‹ã®ãŒå¬‰ã—ã„ã§ã™ã€‚ã¾ãŸã€æ¯å›è³ªå•ã«ã‚‚ä¸å¯§ã«ç­”ãˆã¦ã„ãŸã ã‘ã‚‹ã®ã‚‚ã‚ã‚ŠãŒãŸã„ã§ã™ã€‚\næ–°æ™‚ä»£ã®ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ - connpass è¥¿è°·ã•ã‚“ã¯ã“ã‚Œä»¥å¤–ã«ã‚‚ ã‚­ãƒ£ãƒ³ãƒ—å¥½ãã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢Meetup ã¨ã„ã†ã‚¤ãƒ™ãƒ³ãƒˆã‚‚ä¸»å‚¬ã•ã‚Œã¦ã„ã¦ã€ã‚­ãƒ£ãƒ³ãƒ‘ãƒ¼() ã¨ã—ã¦ã¯ã“ã¡ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚‚æ°—ã«ãªã‚‹ã¨ã“ã‚ã§ã™ã€‚ä¸€åº¦å‚åŠ ã—ã¾ã—ãŸãŒã€ã‚­ãƒ£ãƒ³ãƒ— x ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚° ã®è©±ãŒã©ã‚Œã‚‚èˆˆå‘³æ·±ã‹ã£ãŸã§ã™ã€‚\nã‚­ãƒ£ãƒ³ãƒ—å¥½ãã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢Meetup - connpass Serverless Community (JP) ServerlessConf Tokyo ãŠã‚ˆã³ Serverless Meetups in Japan ã®å®Ÿè¡Œçµ„ç¹”ã§ã‚‚ã‚ã‚‹ Serverless Community (JP) ã®ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚ç‰¹å®šã®ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¯ãƒ©ã‚¦ãƒ‰ã«é–‰ã˜ãŸè©±ã§ã¯ãªãã€ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã¨ã„ã†é ˜åŸŸå…¨ä½“ã®è©±ã‚’èãã“ã¨ãŒã§ãã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚ AWS ã«ç‰¹åŒ–ã—ãŸå›ãŒã‚ã£ãŸã‚Šã€ GCP ã«ç‰¹åŒ–ã—ãŸå›ãŒã‚ã£ãŸã‚Šã€ Algoria ã ã‘ã®å›ãŒã‚ã£ãŸã‚Šã¨ã€ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹é ˜åŸŸã®ã•ã¾ã–ã¾ãªæƒ…å ±ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ãŒå¬‰ã—ã„ã§ã™ã€‚\nServerless - connpass ä»–ã«ã‚‚ã€ Forkwell ã•ã‚“ãŒä¸»å‚¬ã—ã¦ã„ã‚‹ Infra Study Meetup ã‚„ Front-End Study ã¨ã„ã£ãŸã‚¤ãƒ™ãƒ³ãƒˆã‚‚ç››ã‚Šä¸ŠãŒã£ã¦ã„ã¾ã—ãŸã€‚(ç››ã‚Šä¸ŠãŒã£ã¦ã„ã¾ã™)\nã¾ãŸã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ 24 æ™‚é–“é–‹å‚¬ã•ã‚ŒãŸ JAWS SONIC 2020 ã‚‚å°è±¡çš„ã§ã—ãŸã€‚\nã•ã‚‰ã«ã€ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã•ã‚“ãŒæ¯å¹´é–‹å‚¬ã•ã‚Œã¦ã„ã‚‹æŠ€è¡“ã‚¤ãƒ™ãƒ³ãƒˆ Developers.IO ã‚‚ä»Šå¹´ã¯ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®é–‹å‚¬ã§ã—ãŸã€‚ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã®é–‹å‚¬æ™‚ã«ã¯ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã•ã‚“ã®ç™»å£‡åŠ›ã®é«˜ã•ã«åœ§å€’ã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬ã«ãªã£ãŸä»Šå¹´ã¯å‹•ç”»ä½œæˆèƒ½åŠ›ã®é«˜ã•ã«ã‚‚åœ§å€’ã•ã‚Œã¾ã—ãŸã€‚\nã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã¨ã®é•ã„ ä»Šå¹´ã¯ã»ã¼ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®ã‚¤ãƒ™ãƒ³ãƒˆã«ã—ã‹å‚åŠ ã—ã¦ã„ã¾ã›ã‚“ãŒã€å€‹äººçš„ã«æ„Ÿã˜ã‚‹ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬ã§ã‚ã‚‹ã“ã¨ã®ãƒ¡ãƒªãƒƒãƒˆãƒ‡ãƒ¡ãƒªãƒƒãƒˆã‚’æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nãƒ¡ãƒªãƒƒãƒˆ æ™‚é–“ã¨å ´æ‰€ã«åˆ¶ç´„ãŒãªã„ å‹•ç”»ã‹å¾Œã§å…¬é–‹ã•ã‚Œã‚‹å ´åˆãŒå¤šã„ é€”ä¸­å‚åŠ ã§ã‚‚å¾Œè¿½ã„ã§è¦‹ã‚Œã‚‹ å‚åŠ ã§ããªããªã£ã¦ã‚‚ã‚ã¨ã‹ã‚‰è¦‹ã‚Œã‚‹ ã‚¤ãƒ™ãƒ³ãƒˆå‚åŠ å¾Œã®å¾©ç¿’ã«ã™ãç€æ‰‹ã§ãã‚‹ ä¼šå ´ã‹ã‚‰å®¶ã¾ã§ã®ç§»å‹•æ™‚é–“ãŒãªã„ã®ã§ã€å¸°ã£ã¦ç–²ã‚Œã¦å¯ã¦ã—ã¾ã†ã¨ã„ã†ã“ã¨ãŒãªã„ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ ä¼šå ´ã®æ¸©åº¦æ„ŸãŒã‚ã‹ã‚‰ãªã„ æƒ…å ±ãŒæ¬ è½ã™ã‚‹å ´åˆãŒã‚ã‚‹ éŸ³å£°ã‚„æ˜ åƒãŒä¹±ã‚Œã‚‹å ´åˆãŒã‚ã‚‹ ã¨ã¯è¨€ã£ã¦ã‚‚ã€ã‚„ã£ã±ã‚Šãƒ¡ãƒªãƒƒãƒˆã®ã»ã†ãŒå¤§ãã„ã‹ãªã¨æ€ã£ã¦ã¾ã™ã€‚ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§é–‹å‚¬ã—ã¦ã„ãŸã ã„ã¦ã„ã‚‹ä¸»å‚¬è€…ã®æ–¹ã€…ã«ã¯æ„Ÿè¬ã§ã™ã€‚\nã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆäº‹æƒ… ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã¨ã—ã¦ã¯ã€å¼•ãç¶šãã“ã®ãƒ–ãƒ­ã‚°ã¨ã€ã‚ã¨ä»Šå¹´ã¯ã‚¤ãƒ™ãƒ³ãƒˆã§ã®ç™»å£‡ãƒ‡ãƒ“ãƒ¥ãƒ¼ã‚‚æœãŸã—ã¾ã—ãŸã€‚LT ã§ã™ãŒã€‚ã“ã® 2 ã¤ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã‚Šã¾ã™ã€‚\nå»å¹´ã‚ˆã‚Šè¨˜äº‹æ•°ãŒå¢—ãˆãŸ ä¸€æ˜¨å¹´ã¯ 48 æœ¬ã€å»å¹´ã¯ 54 æœ¬ã¨è¨˜äº‹æ•°ã¯å¢—ãˆã¦ã„ã¾ã—ãŸãŒã€ä»Šå¹´ã¯æ›´ã«å¢—ãˆã¦ 90 æœ¬ æ›¸ã„ã¦ã„ã¾ã—ãŸã€‚(ã“ã®è¨˜äº‹å«ã¾ãš)\n100 æœ¬ã£ã¦ã„ã†æ•°å­—ã¯é€”ä¸­ã‹ã‚‰æ„è­˜ã—ã¾ã—ãŸãŒã€çµå±€åˆ°é”ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã¡ãªã¿ã«ã€å¾Œè¿°ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆç™»å£‡ã§ä¸€ç·’ã«ãªã£ãŸã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã® Batchi ã•ã‚“ ( @batchicchi ) ã¯ 100 æœ¬æ›¸ã‹ã‚Œã¦ã„ã¾ã—ãŸã€‚ã—ã‹ã‚‚ã€æ¯å›ã™ã”ã„æ¿ƒã„å†…å®¹ã®è¨˜äº‹ãªã®ã§ã€å‡„ã„ã¨ã—ã‹è¨€ãˆã¾ã›ã‚“ã€‚ã”è‡ªèº«ã§ã‚‚æŒ¯ã‚Šè¿”ã‚Šã•ã‚Œã¦ã„ã¾ã™ã€‚\næŸãƒ–ãƒ­ã‚°ã®ä¼šç¤¾ã« JOIN ã—ã¦ 354 æ—¥ã§ãƒ–ãƒ­ã‚° 100 æœ¬æ›¸ã„ã¦ã¿ãŸ | Developers.IO è‡ªåˆ†ã®è©±ã«æˆ»ã‚‹ã¨ã€ä»Šå¹´ã¯ã‚¤ãƒ™ãƒ³ãƒˆå‚åŠ ãŒå¤šãã€ãã®å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã‚’æ›¸ã„ãŸã“ã¨ã§è¨˜äº‹æ•°ãŒä¼¸ã³ãŸã¨ã„ã†ã®ã‚‚è¦å› ã®ä¸€ã¤ã§ã™ã€‚ã‚¤ãƒ³ãƒ—ãƒƒãƒˆäº‹æƒ…ã§æ›¸ã„ãŸã‚¤ãƒ™ãƒ³ãƒˆã«ã¤ã„ã¦ã¯ã€ä¸‹è¨˜ã®é€šã‚Šå‚åŠ ãƒ¬ãƒãƒ¼ãƒˆæ›¸ã„ã¦ãã¾ã—ãŸã€‚\nJAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨#31 ã€Œç›£è¦–ç·¨ ã‚µãƒ¼ãƒãƒ¼ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®åŸºæœ¬ã‚’å­¦ã¼ã†ã€ JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ï¼†åƒè‘‰æ”¯éƒ¨#26 æ–°äººã•ã‚“æ­“è¿ï¼ãƒãƒ³ã‚ºã‚ªãƒ³\u0026amp;amp;LT(ã‚ªãƒ³ãƒ©ã‚¤ãƒ³) ã«å‚åŠ ã—ã¦ãã¾ã—ãŸ JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨#24 ã‚µãƒ¼ãƒãƒ¬ã‚¹ãƒãƒ³ã‚ºã‚ªãƒ³å‹‰å¼·ä¼šã®å®¿é¡Œã‚’ã‚„ã£ã¦ã¿ãŸ JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨#22 Fin-JAWSã‚³ãƒ©ãƒœï¼†ãƒŸãƒ‹ãƒãƒ³ã‚ºã‚ªãƒ³ä¼š ã«è¡Œã£ã¦ãã¾ã—ãŸ JAWS-UG CLIå°‚é–€æ”¯éƒ¨ #173R S3åŸºç¤ (ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³) #172R S3åŸºç¤ (ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ) #171R S3åŸºç¤ é€šçŸ¥ (Lambdaã®è‡ªå‹•å®Ÿè¡Œ) #170R S3åŸºç¤ ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« #169R S3åŸºç¤ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° #168R S3åŸºç¤ Webã‚µã‚¤ãƒˆ\u0026amp;amp;ãƒ­ã‚° #167R EventBridgeå…¥é–€ Serverless Community (JP) Serverless Meetup Japan Virtual #5 ã®å‚åŠ ãƒ¡ãƒ¢ Serverless Meetup Japan Virtual #3 ã®å‚åŠ ãƒ¡ãƒ¢ Serverless Meetup Japan Virtual #2 ã®å‚åŠ ãƒ¡ãƒ¢ Developers.IO Developers.IO 2020 CONNECT ã¨ã„ã†ã‚¤ãƒ™ãƒ³ãƒˆã«ã¤ã„ã¦ JAWS SONIC 2020 Amplify Console ã‚’ä½¿ã£ã¦ Hugo ã§ä½œã£ãŸã‚µã‚¤ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ Moto ã§ CDK ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã® Lambda é–¢æ•°ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ ã‚¤ãƒ™ãƒ³ãƒˆã®å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã‚’æ›¸ãã“ã¨ã§ã€è‡ªåˆ†ã®å¾©ç¿’ã«ãªã‚‹ã®ã¯ã‚‚ã¡ã‚ã‚“ã€ä¸»å‚¬è€…ã‚„ç™»å£‡ã•ã‚ŒãŸæ–¹ã«æ„Ÿæƒ³ãŒä¼ãˆã‚‰ã‚Œã‚‹ã®ã¨ã€ç¶™ç¶šçš„ã«ãƒ¬ãƒãƒ¼ãƒˆã‚’æ›¸ã„ã¦ã„ã‚‹ã¨åŒã˜ã‚¤ãƒ™ãƒ³ãƒˆå‚åŠ è€…ã®æ–¹ã«ã‚‚èªçŸ¥ã—ã¦ã„ãŸã ã‘ã‚‹ã¨ã„ã†åŠ¹æœãŒã‚ã‚Šã¾ã™ã€‚(æœ€å¾Œã®ã¯ CLI å°‚é–€æ”¯éƒ¨ã§ã®è©±ã§ã™ãŒ)\nã¾ãŸã€ JAWS SONIC 2020 ã«é–¢ã™ã‚‹ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã«é–¢ã—ã¦ã¯ã€ã‚¤ãƒ™ãƒ³ãƒˆ Tã‚·ãƒ£ãƒ„ç²å¾—ã«ã‚‚ç¹‹ãŒã‚Šã¾ã—ãŸã€‚\nãªã‚“ã¨ï¼è¿½åŠ ã§é¸ã‚“ã§ã„ãŸã ã JAWS SONIC 2020 ã®Tã‚·ãƒ£ãƒ„ã‚’ã‚²ãƒƒãƒˆã—ã¾ã—ãŸï¼ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼\nã‚ã£ã¡ã‚ƒæ´¾æ‰‹ğŸ¦ˆğŸŒˆ#jawssonic2020 #jawsug pic.twitter.com/RiygVh9KH5\n\u0026mdash; ã‚ˆã£ã—ãƒ¼ Lv.859 | michimani (@michimani210) September 20, 2020 ç›¸å¤‰ã‚ã‚‰ãšãƒ–ãƒ­ã‚°ã®å†…å®¹ã¨ã—ã¦ã¯å€‹äººã®ãƒ¡ãƒ¢ãƒ¬ãƒ™ãƒ«ã‚’æŠœã‘å‡ºã›ã¦ã„ãªã„ã§ã™ãŒã€æ›¸ã„ãŸè¨˜äº‹ã«å¯¾ã™ã‚‹ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚‚å»å¹´ã‚ˆã‚Šå¢—ãˆãŸæ°—ãŒã™ã‚‹ã®ã§å¼•ãç¶šãç¶™ç¶šã—ã¦æ›¸ã„ã¦ã„ã‘ãŸã‚‰ãªã¨æ€ã£ã¦ã¾ã™ã€‚\nã‚ã€ã“ã®ãƒ–ãƒ­ã‚°ä»¥å¤–ã« Qiita ã§ã‚‚ä¸€ã¤è¨˜äº‹ã‚’æ›¸ãã¾ã—ãŸã€‚ä¼šç¤¾ã® Advent Calendar ã®ä¸€è¨˜äº‹ã¨ã—ã¦æ›¸ã„ãŸã®ã§ã™ãŒã€ CLI å°‚é–€æ”¯éƒ¨ã§å¾—ãŸçŸ¥è¦‹ã‚’å…ƒã«ä½œã£ãŸãƒãƒ³ã‚ºã‚ªãƒ³è³‡æ–™ã¿ãŸã„ã«ãªã£ã¦ã¾ã™ã€‚çµæ§‹æ™‚é–“ã‹ã‘ã¦æ›¸ã„ãŸå‰²ã«ã¯åå¿œãŒè–„ã‹ã£ãŸ (å…¬é–‹æ—¥ãŒåœŸæ›œæ—¥ã ã£ãŸã‹ã‚‰ã ã¨æ€ã„ãŸã„) ã®ã§ã€ã‚‚ã—ã“ã®è¨˜äº‹ã‚’èª­ã‚“ã§ã„ã‚‹æ–¹ã¯ã“ã®æ°—æŒã‚’æ•‘ã†ãŸã‚ã« LGTM ã—ã¦ã‚‚ã‚‰ãˆã‚‹ã¨å–œã³ã¾ã™ã€‚\nã‚¤ãƒ™ãƒ³ãƒˆã§ç™»å£‡ã—ãŸ ã‚‚ã†ä¸€ã¤ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã¨ã—ã¦ã€ä»Šå¹´ã¯ã‚¤ãƒ™ãƒ³ãƒˆã§ã®ç™»å£‡ãƒ‡ãƒ“ãƒ¥ãƒ¼ã‚’æœãŸã—ã¾ã—ãŸã€‚ã¨ã„ã£ã¦ã‚‚ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã® LT æ ã§ã™ãŒã€å‚åŠ è€… 100 äººãã‚‰ã„ã®ã‚¤ãƒ™ãƒ³ãƒˆã§ 10 åˆ†ã‚‚è©±ã›ãŸã®ã¯å¤§ããªé€²æ­©ã‹ã¨æ€ã„ã¾ã™ã€‚\nç™»å£‡ã«é–¢ã™ã‚‹ãƒã‚¨ãƒ ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®è¨˜äº‹ã§æ›¸ã„ã¦ã¾ã™ã€‚\nJAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ï¼†åƒè‘‰æ”¯éƒ¨#26 æ–°äººã•ã‚“æ­“è¿ï¼ãƒãƒ³ã‚ºã‚ªãƒ³\u0026amp;amp;LT(ã‚ªãƒ³ãƒ©ã‚¤ãƒ³) ã«å‚åŠ ã—ã¦ãã¾ã—ãŸ è¦ç´„ã™ã‚‹ã¨ã€ã¨ã«ã‹ãæ¥½ã—ã‹ã£ãŸãªã¨ã„ã†æ„Ÿæƒ³ã§ã™ã€‚ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã§ãƒ„ã‚¤ãƒ¼ãƒˆã‚’æ˜ã‚‹ã¨ã€å°‘ã—ã§ã™ãŒæ„Ÿæƒ³ã‚‚é ‚ã„ã¦ã„ã¦ã€ãã‚Œã‚’è¦‹ã‚‹ã®ãŒæ¥½ã—ã‹ã£ãŸã§ã™ã€‚ã¾ãŸæ©Ÿä¼šãŒã‚ã‚Œã°ã‚„ã‚ŠãŸã„ã¨æ€ã„ã¤ã¤å¹´æœ«ã«ãªã£ã¦ã—ã¾ã£ãŸã®ã§ã€æ¥å¹´ã¯æœä¼šã¨ã‹ CLI å°‚é–€æ”¯éƒ¨ã¨ã‹ã§ä½•ã‹è©±ã™ã®ã‚’ç›®æ¨™ã«ã—ã¾ã™ã€‚\nã¾ã¨ã‚ 2020 å¹´ã®è‡ªåˆ†ã®ã‚¤ãƒ³ãƒ—ãƒƒãƒˆãƒ»ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆäº‹æƒ…ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã£ã¦ã¿ã¾ã—ãŸã€‚\nã“ã“ã§ã€ã‚‚ã†ä¸€åº¦ 2019 å¹´ã®æœ€å¾Œã«æ›¸ã„ã¦ã„ãŸç›®æ¨™ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nAWS èªå®šã«é–¢ã—ã¦ã¯ Professional ãƒ¬ãƒ™ãƒ« 2 ç¨®é¡ã«åˆæ ¼ã§ãã‚‹ã‚ˆã†é ‘å¼µã‚Šã¾ã™ã€‚\nå°‘ã—å‡ºé…ã‚ŒãŸæ„Ÿã˜ã¯ã‚ã‚Šã¾ã™ãŒã€æ©Ÿæ¢°å­¦ç¿’ã«é–¢ã™ã‚‹æŠ€è¡“ã«ã¤ã„ã¦ã‚‚å‹‰å¼·ã—ã¦ã„ããŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\nã‚‚ã£ã¨ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚„ã‚ŠãŸã„ã€‚\nçµæœã¨ã—ã¦ã€ä¸Šã® 2 ã¤ã«ã¤ã„ã¦ã¯å…¨ãé”æˆã§ããšã§ã—ãŸã€‚ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã«é–¢ã—ã¦ã¯ã€é–¢é€£ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã«å‚åŠ ã—ã¦æƒ…å ±ã¯ã‚­ãƒ£ãƒƒãƒã‚¢ãƒƒãƒ—ã§ãã¦ã„ã‚‹ã‹ãªã¨æ€ã„ã¾ã™ã€‚ãŒã€æ‰‹ã‚’å‹•ã‹ã™é‡ã¯å…¨ç„¶è¶³ã‚Šã¦ãªã„ã§ã™ã€‚\nã¨ã¯è¨€ãˆã€ãƒ–ãƒ­ã‚°ã®ç¶™ç¶šã¨ã‹ã‚¤ãƒ™ãƒ³ãƒˆã§ã®ç™»å£‡ã¨ã‹ã€ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã«é–¢ã—ã¦ã¯å»å¹´ã‚ˆã‚Šæˆé•·ã—ãŸéƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ã€ãã“ã¯è‰¯ã‹ã£ãŸã¨æ€ã„ã¾ã™ã€‚\nä»Šå¹´ã¯ 11 æœˆã«è»¢è·ã—ã¦ç’°å¢ƒãŒå¤§ããå¤‰ã‚ã£ãŸã®ã§ã€æ¥å¹´ã¯ã‚‚ã£ã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å¯„ã‚Šã€ã¨ã„ã†ã‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ã‹ã®å†…å®¹ã€ã‚ã¨ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²ã‚æ–¹ã¨ã‹ãã®ã¸ã‚“ã®çŸ¥è¦‹ã‚’æ·±ã‚ãŸã„ãªã¨æ€ã„ã¾ã™ã€‚ã‚ã¨ã¯ã€ Go è¨€èªã‚’ãƒ¡ã‚¤ãƒ³ã§è§¦ã‚‹ã“ã¨ã«ãªã£ãŸã®ã§ã‚‚ã£ã¨ Go ã®å‹‰å¼·ã—ã¾ã™ã€‚\nã¨ã„ã†ã“ã¨ã§è‰²ã€…ã‚ã£ãŸ 2020 å¹´ã‚‚ã‚‚ã†çµ‚ã‚ã‚Šã§ã™ã€‚æ¥å¹´ã‚‚é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚\n",
    "permalink": "https://michimani.net/post/other-retrospect-in-2020/",
    "title": "2020 å¹´ã®è‡ªåˆ†ã®ã‚¤ãƒ³ãƒ—ãƒƒãƒˆãƒ»ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆäº‹æƒ…ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã£ã¦ã¿ã‚‹"
  },
  {
    "contents": "AWS SDK for Go ã® RC ç‰ˆãŒå…¬é–‹ã•ã‚ŒãŸã®ã§ã€CloudWatch Logs ã¨ DynamoDB ã«ã¤ã„ã¦ã€ä»¥å‰ã« v1 ã§æ“ä½œã—ãŸã¨ãã¨ã©ã®ã‚ˆã†ã«å¤‰ã‚ã£ãŸã®ã‹ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nâ€» 2020/12/26 æ™‚ç‚¹ã§ã®æƒ…å ±ã§ã™\nâ€» RC ç‰ˆã¨ã„ã†ã“ã¨ãªã®ã§æ­£å¼ç‰ˆã«ãªã‚‹ã¾ã§ã«å¤‰æ›´ãŒåŠ ãˆã‚‰ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™\nç›®æ¬¡ æ¦‚è¦ ä½¿ã£ã¦ã¿ã‚‹ CloudWatch Logs DynamoDB ã¾ã¨ã‚ v1 ã§è§¦ã£ã¦ã¿ãŸè¨˜äº‹ã¯ã“ã¡ã‚‰ã€‚\næ¦‚è¦ AWS SDK for Go v2 ã® RC ç‰ˆãŒå…¬é–‹ã•ã‚Œã¾ã—ãŸã€‚\nAWS SDK for Go version 2 (v2) â€“ Release Candidate | AWS Developer Blog Developer Preview ãŒå…¬é–‹ã•ã‚ŒãŸã®ã¯ 2017/12/21 ã¿ãŸã„ãªã®ã§ã€ç´„ 3 å¹´ã®é–“ã«ç†Ÿã•ã‚ŒãŸçµæœã® RC ç‰ˆã§ã™ã€‚\nAWS SDK for Go 2.0 Developer Preview | AWS Developer Blog ä½¿ã£ã¦ã¿ã‚‹ AWS Developer Blog ã«å¾“ã£ã¦æº–å‚™ã—ã¦ã„ãã¾ã™ã€‚\n$ mkdir go-sdk-v2-rc-demo $ cd go-sdk-v2-rc-demo $ go mod init go-sdk-v2-rc-demo ä»Šå›ã¯ CloudWatch Logs ã¨ DynamoDB ã‚’ã•ã‚ã‚‹ã®ã§ã€ãã‚Œãã‚Œã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚‚ä½œã£ã¦ãŠãã¾ã™ã€‚\n$ mkdir -p cwlogs dynamodb $ tree . â”œâ”€â”€ cwlogs â”œâ”€â”€ dynamodb â””â”€â”€ go.mod 2 directories, 1 file AWS SDK for Go v2 ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã“ã¡ã‚‰ã§ã™ã€‚\nsdk Â· pkg.go.dev v2 ã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã€ import æ–‡ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nimport ( \u0026#34;github.com/aws/aws-sdk-go-v2/aws\u0026#34; \u0026#34;github.com/aws/aws-sdk-go-v2/config\u0026#34; \u0026#34;github.com/aws/aws-sdk-go-v2/service/cloudwatchlogs\u0026#34; \u0026#34;github.com/aws/aws-sdk-go-v2/service/cloudwatchlogs/types\u0026#34; ) ä»Šå›ã¯ CloudWatch Logs ã¨ DynamoDB ã«ã¤ã„ã¦å®Ÿè£…ã—ã¾ã™ãŒã€ã“ã“ã§ã¯ãã®ä¸€éƒ¨åˆ†ã®ã¿ã«ã¤ã„ã¦æ›¸ã„ã¦ã„ã¾ã™ã€‚ãã®ä»–ã®å®Ÿè£…éƒ¨åˆ†ã«ã¤ã„ã¦ã¯ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’è¦‹ã¦ãã ã•ã„ã€‚\nCloudWatch Logs å‰å›ã¨åŒã˜ã‚ˆã†ã«ã€ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã®ä½œæˆã‹ã‚‰ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ä½œæˆã€ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã® Put ã¾ã§ã‚„ã£ã¦ã¿ã¾ã™ã€‚\nã¾ãšã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã¨ã“ã‚ã‹ã‚‰é•ã£ã¦ã¾ã™ã€‚\nconfig, err := config.LoadDefaultConfig(context.TODO()) if err != nil { log.Fatalln(err) } client := cloudwatchlogs.NewFromConfig(config) ã‚ã¨ã¯ã€å„ã‚µãƒ¼ãƒ“ã‚¹ã®é–¢æ•°å®Ÿè¡Œæ™‚ã«ã€ç¬¬ä¸€å¼•æ•°ã« context.Context ã‚’æ¸¡ã™ã‚ˆã†ã«ãªã£ã¦ã¾ã™ã€‚ä¾‹ãˆã°ã€ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆã™ã‚‹éƒ¨åˆ†ã ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªæ„Ÿã˜ã€‚\nin := cloudwatchlogs.CreateLogGroupInput{ LogGroupName: aws.String(name), } _, cerr := client.CreateLogGroup(context.TODO(), \u0026amp;in) if cerr != nil { return cerr } DynamoDB ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆã€é …ç›®ã®è¿½åŠ ã€æ™®é€šã®ã‚¹ã‚­ãƒ£ãƒ³ã€ç‰¹å®šã®å±æ€§ã®ã¿å–å¾—ã™ã‚‹ã‚¹ã‚­ãƒ£ãƒ³ã‚’è©¦ã—ã¾ã™ã€‚\nv1 ã‹ã‚‰ã®é•ã„ã¨ã—ã¦ã€å®šæ•°ã«å½“ãŸã‚‹ã‚‚ã®ã¯åˆ¥ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦åˆ†å‰²ã•ã‚Œã¦ã„ã¾ã™ã€‚ä¾‹ãˆã°ã€ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã™ã‚‹ã¨ãã®å®Ÿè£…ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nfunc createTable(client *dynamodb.Client, name string) error { describeIn := dynamodb.DescribeTableInput{ TableName: aws.String(name), } _, err := client.DescribeTable(context.TODO(), \u0026amp;describeIn) if err == nil { // table exists return nil } in := dynamodb.CreateTableInput{ TableName: aws.String(name), KeySchema: []types.KeySchemaElement{ { AttributeName: aws.String(\u0026#34;Name\u0026#34;), KeyType: types.KeyTypeHash, }, { AttributeName: aws.String(\u0026#34;CreatedAt\u0026#34;), KeyType: types.KeyTypeRange, }, }, AttributeDefinitions: []types.AttributeDefinition{ { AttributeName: aws.String(\u0026#34;Name\u0026#34;), AttributeType: types.ScalarAttributeTypeS, }, { AttributeName: aws.String(\u0026#34;CreatedAt\u0026#34;), AttributeType: types.ScalarAttributeTypeN, }, }, BillingMode: types.BillingModePayPerRequest, } if _, err := client.CreateTable(context.TODO(), \u0026amp;in); err != nil { return err } return nil } dynamodb.CreateTableInput ã® KeySchema ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ã€ v1 ã§ã¯ []*KeySchemaElement ã ã£ãŸã‚‚ã®ãŒ v2 ã§ã¯ []types.KeySchemaElement ã¨ã„ã†æ„Ÿã˜ã§åˆ¥ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ types 1 ã®å‹ã‚’ä½¿ã†ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nã¾ãŸã€ KeySchema å†…ã§æŒ‡å®šã™ã‚‹å„å±æ€§ã® KeyType ã‚‚ types ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã® KeyTypeHash ãªã©ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚(CloudWatch Logs ã§ã‚‚ãã®æ§˜ã«ãªã£ã¦ã„ã‚‹éƒ¨åˆ†ãŒã‚ã‚Šã¾ã—ãŸ)\nã‚ã¨ã¯ã€ Go ã®å‹ã¨ DynamoDB ã® Attribute ã¨ã®å¤‰æ›ã«ã¤ã„ã¦ã¯ã€ attributevalue.MarshalMap ã‚’ä½¿ã£ã¦ä¸‹è¨˜ã®ã‚ˆã†ã«æ›¸ã‘ã¾ã™ã€‚\ntype SmapleItem struct { Name string `json:\u0026#34;name\u0026#34;` CreatedAt int64 `json:\u0026#34;created_at\u0026#34;` Message1 string `json:\u0026#34;message1\u0026#34;` Message2 string `json:\u0026#34;message2\u0026#34;` Message3 string `json:\u0026#34;message3\u0026#34;` } item := SmapleItem{ Name: fmt.Sprintf(\u0026#34;Sample Item %d\u0026#34;, n), CreatedAt: time.Now().UnixNano(), Message1: fmt.Sprintf(\u0026#34;This is a sample message %d-1\u0026#34;, n), Message2: fmt.Sprintf(\u0026#34;This is a sample message %d-2\u0026#34;, n), Message3: fmt.Sprintf(\u0026#34;This is a sample message %d-3\u0026#34;, n), } if err := putItem(client, tableName, item); err != nil { log.Fatal(err) } func putItem(client *dynamodb.Client, tableName string, item SmapleItem) error { av, err := attributevalue.MarshalMap(item) if err != nil { return err } in := dynamodb.PutItemInput{ TableName: aws.String(tableName), Item: av, } _, perr := client.PutItem(context.TODO(), \u0026amp;in) if perr != nil { return err } fmt.Println(item.Name) return nil } ã‚ã£ã¡ã‚ƒä¾¿åˆ©ï¼ã¨æ€ã£ãŸã‚“ã§ã™ãŒã€ã“ã‚Œ v1 ã§ã‚‚ã‚ã£ãŸã¿ãŸã„ã§ã™ã­ã€‚ã‚„ã‚ŠãªãŒã‚‰æ°—ã¥ãã¾ã—ãŸã€‚\nã¾ã¨ã‚ AWS SDK for Go v2 ã® RC ç‰ˆãŒå…¬é–‹ã•ã‚ŒãŸã®ã§è§¦ã£ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nä»Šå›ã¯ã–ã£ãã‚Šã‚µãƒ³ãƒ—ãƒ«å®Ÿè£…ã—ã¦ã¿ãŸæ„Ÿã˜ãªã®ã§ã€ v1 ã¨ã©ã®è¾ºãŒå¤‰ã‚ã£ãŸã‹ã¯ã‚‚ã†å°‘ã—æ™‚é–“ã‚’æ›¸ã‘ã¦è¦‹ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nâ€» 2020/12/26 æ™‚ç‚¹ã§ã®æƒ…å ±ã§ã™\nâ€» RC ç‰ˆã¨ã„ã†ã“ã¨ãªã®ã§æ­£å¼ç‰ˆã«ãªã‚‹ã¾ã§ã«å¤‰æ›´ãŒåŠ ãˆã‚‰ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™\nmichimani/aws-sdk-for-go-v2-sample: This repository is a collection of sample implementations using the AWS SDK for Go v2. types Â· pkg.go.dev \u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-use-aws-sdk-for-go-v2/",
    "title": "AWS SDK for Go v2 ã® RC ç‰ˆãŒå…¬é–‹ã•ã‚ŒãŸã®ã§ã¨ã‚Šã‚ãˆãšè§¦ã£ã¦ã¿ã‚‹"
  },
  {
    "contents": "ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚­ãƒ¬ã‚¤ã«ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ shellcheck ã¨ shfmt ã¨ã„ã†ã‚‚ã®ã®å­˜åœ¨ã‚’æ•™ãˆã¦ã‚‚ã‚‰ã£ãŸã®ã§ã€å…ˆæ—¥ä½œã£ãŸ ACM ã® Certificate ç™ºè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆã«å¯¾ã—ã¦ãã‚Œã‚‰ã‚’å®Ÿè¡Œã—ã€ã‚­ãƒ¬ã‚¤ã«ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ shellcheck shfmt shellcheck ã§æ–‡æ³•ãƒã‚§ãƒƒã‚¯ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« å®Ÿè¡Œ shfmt ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« å®Ÿè¡Œ ã¾ã¨ã‚ æ¦‚è¦ shellcheck ã¨ shfmt ã¨ã„ã†ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦ã€ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚­ãƒ¬ã‚¤ã«ã—ã¾ã™ã€‚ã“ã“ã§è¨€ã† ã‚­ãƒ¬ã‚¤ã« ã¨ã¯ã€æ–‡æ³•ä¸Šã®å•é¡Œã‚’ãªãã—ãŸã‚Šã€æƒ³å®šå¤–ã®å®Ÿè¡Œçµæœã«ãªã‚‰ãªã„ã‚ˆã†ã«ã—ãŸã‚Šã€è¦‹ãŸç›®ã‚’æ•´ãˆãŸã‚Šã™ã‚‹ã“ã¨ã‚’æŒ‡ã—ã¾ã™ã€‚\nä»Šå›ä½¿ã† shellcheck ã¨ sh ã¨ã„ã†ãƒ„ãƒ¼ãƒ«ã«ã¤ã„ã¦ã‚‚ç°¡å˜ã«ç´¹ä»‹ã—ã¦ãŠãã¾ã™ã€‚\nshellcheck shellcheck (koalaman/shellcheck) ã¯ã€å¯¾è±¡ã®ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«å¯¾ã—ã¦æ–‡æ³•ä¸Šã®å•é¡Œã‚„æƒ³å®šå¤–ãªå®Ÿè¡ŒçµæœãŒèµ·ããªã„ã‚ˆã†ã«ã€å•é¡Œç‚¹ã‚’æŒ‡æ‘˜ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚æŒ‡æ‘˜ã—ã¦ãã‚Œã‚‹ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ã€ GitHub ã® README ã«æ¬¡ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nTo point out and clarify typical beginner\u0026rsquo;s syntax issues that cause a shell to give cryptic error messages. To point out and clarify typical intermediate level semantic problems that cause a shell to behave strangely and counter-intuitively. To point out subtle caveats, corner cases and pitfalls that may cause an advanced user\u0026rsquo;s otherwise working script to fail under future circumstances. ã–ã£ãã‚Šç¿»è¨³ã™ã‚‹ã¨\nã‚ã‹ã‚Šã«ãã„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºã™ã‚ˆã†ãªåˆæ­©çš„ãªè¨˜è¿°ã®å•é¡Œç‚¹ æƒ³å®šã¨ç•°ãªã‚‹å‹•ä½œã‚’ã™ã‚‹ã‚ˆã†ãªã€ä¸­ç´šãƒ¬ãƒ™ãƒ«ã®å•é¡Œç‚¹ å°†æ¥çš„ã«å‹•ä½œã—ãªããªã‚‹ã‚ˆã†ãªã€ã¾ãŸã‚ã¾ã‚Šèµ·ã“ã‚‰ãªã„ã‚ˆã†ãªå¾®å¦™ãªã‚±ãƒ¼ã‚¹ã€è½ã¨ã—ç©´ãªã©ã®ä¸Šç´šãƒ¬ãƒ™ãƒ«ã®å•é¡Œç‚¹ ã«ã¤ã„ã¦æŒ‡æ‘˜ã—ã¦ãã‚Œã¾ã™ã€‚\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã—ã€ Web ä¸Šã§ã¯ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è²¼ã‚Šä»˜ã‘ã‚‹ã ã‘ã§ãƒã‚§ãƒƒã‚¯ã—ã¦ãã‚Œã¾ã™ã€‚\nShellCheck â€“ shell script analysis tool koalaman/shellcheck: ShellCheck, a static analysis tool for shell scripts shfmt shfmt ã¯ mvdan/sh ãƒªãƒã‚¸ãƒˆãƒªã«å«ã¾ã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ã§ã€å¯¾è±¡ã®ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¦ãã‚Œã‚‹ Go è£½ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚\nmvdan/sh: A shell parser, formatter, and interpreter with bash support; includes shfmt shellcheck ã§æ–‡æ³•ãƒã‚§ãƒƒã‚¯ ã§ã¯ã€æ—©é€Ÿ shellcheck ã§æ–‡æ³•ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¾ã™ã€‚\nä»Šå›ã¯ãƒ­ãƒ¼ã‚«ãƒ«ãƒã‚·ãƒ³ (macOS) ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« brew install ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã€‚\n$ brew install shellcheck . . . ğŸº /usr/local/Cellar/shellcheck/0.7.1: 7 files, 9.0MB $ shellcheck -V ShellCheck - shell script analysis tool version: 0.7.1 license: GNU General Public License, version 3 website: https://www.shellcheck.net å®Ÿè¡Œ ä»¥å‰ä½œæˆã—ãŸ ACM ã® Certificate ã‚’ç™ºè¡Œã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ ã‚’ issue-acm-certificate.sh ã¨ã„ã†åå‰ã§ä¿å­˜ã—ã¦ãŠã„ã¦ã€ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã—ã¦ shellcheck ã§æ–‡æ³•ãƒã‚§ãƒƒã‚¯ã‚’ã‹ã‘ã¾ã™ã€‚\n$ shellcheck issue-acm-certificate.sh In issue-acm-certificate.sh line 5: if [ $# != 3 ] || [ $1 = \u0026#34;\u0026#34; ] || [ $2 = \u0026#34;\u0026#34; ] || [ $3 = \u0026#34;\u0026#34; ]; then ^-- SC2086: Double quote to prevent globbing and word splitting. ^-- SC2086: Double quote to prevent globbing and word splitting. ^-- SC2086: Double quote to prevent globbing and word splitting. Did you mean: if [ $# != 3 ] || [ \u0026#34;$1\u0026#34; = \u0026#34;\u0026#34; ] || [ \u0026#34;$2\u0026#34; = \u0026#34;\u0026#34; ] || [ \u0026#34;$3\u0026#34; = \u0026#34;\u0026#34; ]; then In issue-acm-certificate.sh line 24: --domain-name ${TARGET_DOMAIN} \\ ^--------------^ SC2086: Double quote to prevent globbing and word splitting. Did you mean: --domain-name \u0026#34;${TARGET_DOMAIN}\u0026#34; \\ In issue-acm-certificate.sh line 26: --region ${REGION} \\ ^-------^ SC2086: Double quote to prevent globbing and word splitting. Did you mean: --region \u0026#34;${REGION}\u0026#34; \\ In issue-acm-certificate.sh line 36: --certificate-arn ${CERT_ARN} \\ ^---------^ SC2086: Double quote to prevent globbing and word splitting. Did you mean: --certificate-arn \u0026#34;${CERT_ARN}\u0026#34; \\ In issue-acm-certificate.sh line 38: --region ${REGION} \\ ^-------^ SC2086: Double quote to prevent globbing and word splitting. Did you mean: --region \u0026#34;${REGION}\u0026#34; \\ In issue-acm-certificate.sh line 44: --certificate-arn ${CERT_ARN} \\ ^---------^ SC2086: Double quote to prevent globbing and word splitting. Did you mean: --certificate-arn \u0026#34;${CERT_ARN}\u0026#34; \\ In issue-acm-certificate.sh line 46: --region ${REGION} \\ ^-------^ SC2086: Double quote to prevent globbing and word splitting. Did you mean: --region \u0026#34;${REGION}\u0026#34; \\ In issue-acm-certificate.sh line 56: if [ $VALIDATION_RECORD_NAME == $NONE ] || [ $VALIDATION_RECORD_VALUE == $NONE ] || [ $HOSTED_DOMAIN == $NONE ]; then ^---------------------^ SC2086: Double quote to prevent globbing and word splitting. ^----------------------^ SC2086: Double quote to prevent globbing and word splitting. ^------------^ SC2086: Double quote to prevent globbing and word splitting. Did you mean: if [ \u0026#34;$VALIDATION_RECORD_NAME\u0026#34; == $NONE ] || [ \u0026#34;$VALIDATION_RECORD_VALUE\u0026#34; == $NONE ] || [ \u0026#34;$HOSTED_DOMAIN\u0026#34; == $NONE ]; then In issue-acm-certificate.sh line 63: --hosted-zone-id ${HOSTED_ZONE_ID} \\ ^---------------^ SC2086: Double quote to prevent globbing and word splitting. Did you mean: --hosted-zone-id \u0026#34;${HOSTED_ZONE_ID}\u0026#34; \\ In issue-acm-certificate.sh line 82: if [ $? == 0 ]; then ^-- SC2181: Check exit code directly with e.g. \u0026#39;if mycmd;\u0026#39;, not indirectly with $?. For more information: https://www.shellcheck.net/wiki/SC2086 -- Double quote to prevent globbing ... https://www.shellcheck.net/wiki/SC2181 -- Check exit code directly with e.g... \u0026hellip;ã„ã£ã±ã„å‡ºã¾ã—ãŸã­ã€‚ã¨è¨€ã£ã¦ã‚‚ã»ã¼åŒã˜å†…å®¹ã«é–¢ã™ã‚‹æŒ‡æ‘˜ã®ã‚ˆã†ã§ã™ã€‚\nSC2086: Double quote to prevent globbing and word splitting. ã¾ãšã“ã®æŒ‡æ‘˜ã¯ã€ glob ã‚„æ–‡å­—åˆ—ã®åˆ†å‰²ã‚’é˜²ããŸã‚ã«ãƒ€ãƒ–ãƒ«ã‚¯ã‚ªãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§å›²ã¿ã¾ã—ã‚‡ã† ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚ä¾‹ãˆã°ã€ä¸‹è¨˜ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ S3 ãƒã‚±ãƒƒãƒˆã« Cache-Control ä»˜ãã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ Put ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚\nCACHE_CONTROL=\u0026#34;public, max-age=1209600\u0026#34; aws s3api put-object \\ --bucket sample-bucket \\ --key sample.txt \\ --body ./sample.txt \\ --cache-control $CACHE_CONTROL ã“ã®ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (s3-put-object.sh) ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã™ã€‚\n$ sh s3-put-object.sh usage: aws [options] \u0026lt;command\u0026gt; \u0026lt;subcommand\u0026gt; [\u0026lt;subcommand\u0026gt; ...] [parameters] To see help text, you can run: aws help aws \u0026lt;command\u0026gt; help aws \u0026lt;command\u0026gt; \u0026lt;subcommand\u0026gt; help Unknown options: max-age=1209600 ã“ã‚Œã¯ã€å¤‰æ•° CACHE_CONTROL ãŒãã®ã¾ã¾å±•é–‹ã•ã‚Œã¦ã€ AWS CLI ã® s3api put-object ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³å†…ã§åˆ†å‰²ã•ã‚ŒãŸæ–‡å­—åˆ—ãŒæŒ‡å®šã•ã‚ŒãŸã“ã¨ã«ã‚ˆã‚‹ã‚¨ãƒ©ãƒ¼ã§ã™ã€‚ã“ã®ã‚ˆã†ãªã“ã¨ã«ãªã‚‰ãªã„ãŸã‚ã«ã‚‚ã€å¤‰æ•°ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ã‚ªãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§å›²ã¿ã¾ã—ã‚‡ã†ã¨ã„ã†æŒ‡æ‘˜ã§ã™ã€‚\nshellcheck ã«ã¯å„æŒ‡æ‘˜ã«é–¢ã™ã‚‹è©³ç´°ãƒšãƒ¼ã‚¸ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã¡ã‚‰ã§å†…å®¹åŠã³ä¿®æ­£æ–¹æ³•ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nSC2086 Â· koalaman/shellcheck Wiki SC2181: Check exit code directly with e.g. \u0026lsquo;if mycmd;\u0026rsquo;, not indirectly with $?. ã“ã‚Œã¯ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®çµ‚äº†ã‚³ãƒ¼ãƒ‰ã¯ $? ã‚’ä½¿ã‚ãšã«ç›´æ¥ãƒã‚§ãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã¨ã„ã†æŒ‡æ‘˜ã§ã™ã€‚è©³ç´°ãƒšãƒ¼ã‚¸ã§ã¯ $? = 0 ã§åˆ¤å®šã™ã‚‹ã®ãŒå†—é•·ã ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚ ã“ã®æŒ‡æ‘˜ã«å¯¾ã™ã‚‹å¯¾å¿œã¨ã—ã¦ã¯ã€ä»Šå›ã¯ã‚³ãƒãƒ³ãƒ‰ã‚’é–¢æ•°ã«ã—ã¦ã€ãã®é–¢æ•°ã®å®Ÿè¡Œã‚’åˆ¤å®šã™ã‚‹ã“ã¨ã«ã—ã¦ã¿ã¾ã™ã€‚ä¾‹ãˆã°ã€ Certificate ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹éƒ¨åˆ†ã‚’æ¬¡ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã¾ã™ã€‚\nrequest_certificate () { # request certificate echo \u0026#34;Request certificate for \u0026#39;${TARGET_DOMAIN}\u0026#39; to ACM.\u0026#34; CERT_ARN=$( \\ aws acm request-certificate \\ --domain-name \u0026#34;${TARGET_DOMAIN}\u0026#34; \\ --validation-method DNS \\ --region \u0026#34;${REGION}\u0026#34; \\ --output text) \\ \u0026amp;\u0026amp; sleep 5 \\ \u0026amp;\u0026amp; echo -e \u0026#34;\\t CERT_ARN = ${CERT_ARN}\u0026#34; } if ! request_certificate; then echo \u0026#34;Failed to request certificate.\u0026#34; exit 1 fi SC2181 Â· koalaman/shellcheck Wiki shfmt ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ ç¶šã„ã¦ã€ shfmt ã‚’ä½¿ã£ã¦ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¦ã¿ã¾ã™ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« README ã«å¾“ã£ã¦ã€ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ GO111MODULE=on go get mvdan.cc/sh/v3/cmd/shfmt $ shfmt -version v3.2.1 å®Ÿè¡Œ è‰²ã€…ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã™ãŒã€ä»Šå›ã¯ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’è¡Œã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å‡ºåŠ›ã™ã‚‹ -l ã¨ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆçµæœã‚’æ¨™æº–å‡ºåŠ›ã§ã¯ãªããƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãå‡ºã™ -w ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚ãã‚Œä»¥å¤–ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯ shfmt -h ã¨ã‹ã§å®Ÿè¡Œã™ã‚Œã°ç¢ºèªã§ãã¾ã™ã€‚\n$ shfmt -l -w issue-acm-certificate.sh issue-acm-certificate.sh ç¢ºèªã—ã¦ã¿ã‚‹ã¨ã€ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã¨ã‹è«¸ã€…èª¿æ•´ã•ã‚Œã¦ã¦ã‚­ãƒ¬ã‚¤ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚Œã¦ã„ã¾ã—ãŸã€‚\nã¾ã¨ã‚ shellcheck ã¨ shfmt ã¨ã„ã†ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦ã€ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚­ãƒ¬ã‚¤ã«ã—ãŸè©±ã§ã—ãŸã€‚\næœ€çµ‚çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ãªã£ãŸã®ã§ã€éå»ã¨ã®å·®åˆ†ã«ã¤ã„ã¦ã¯ Revisions ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n",
    "permalink": "https://michimani.net/post/development-check-and-format-shell-script/",
    "title": "shellcheck ã¨ shfmt ã‚’ä½¿ã£ã¦ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚­ãƒ¬ã‚¤ã«ã—ã¦ã¿ã‚‹"
  },
  {
    "contents": "ã¯ã¦ãªãƒ–ãƒ­ã‚°ã§æ›¸ã„ã¦ã„ãŸãƒ–ãƒ­ã‚°ã‚’ Hugo ã§ä½œã‚Šç›´ã—ãŸã„ã¨æ€ã„ã€ Go ã®å‹‰å¼·ã‚‚å…¼ã­ã¦ç°¡å˜ãªç§»è¡Œãƒ„ãƒ¼ãƒ«ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚\nç›®æ¬¡ æ¦‚è¦ çµŒç·¯ AtomPub ã‚’åˆ©ç”¨ã—ã¦è¨˜äº‹ã‚’å‚ç…§ã™ã‚‹ å‚ç…§ç”¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ XML ã‚’å–å¾— Go ã§ XML ã‚’ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ å®Œæˆã—ãŸã‚‚ã® ç‰¹å¾´ ä½¿ã„æ–¹ ã¾ã¨ã‚ æ¦‚è¦ ã¯ã¦ãªãƒ–ãƒ­ã‚°ã«æŠ•ç¨¿ã—ã¦ã„ãŸè¨˜äº‹ã‚’ Hugo ç”¨ã® Markdown ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚Šã¾ã—ãŸã€‚\nçµŒç·¯ ã“ã®ãƒ–ãƒ­ã‚°ã¨ã¯åˆ¥ã«ã€è¶£å‘³ã®ãƒã‚¤ã‚¯ã«é–¢ã™ã‚‹è¨˜äº‹ã‚’ã¯ã¦ãªãƒ–ãƒ­ã‚°ã§æ›¸ã„ã¦ã„ã¾ã™ã€‚(æœ€å¾Œã®æ›´æ–°ã¯ä¸€å¹´ä»¥ä¸Šå‰ã§ã™ãŒ\u0026hellip;)\nã¯ã¦ãªãƒ–ãƒ­ã‚°ã«ç§»è¡Œã™ã‚‹å‰ã¯ WordPress ã§æ›¸ã„ã¦ã„ãŸãŸã‚ã€ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ãã®ã¾ã¾ä½¿ã†ãŸã‚ã«ã¯ã¦ãªãƒ–ãƒ­ã‚° Pro ã‚’å¥‘ç´„ã—ã¦ä½¿ã£ã¦ã„ã¾ã™ã€‚ãã®ã¯ã¦ãªãƒ–ãƒ­ã‚° Pro ã®æ›´æ–°ãŒæ¥å¹´ã® 1æœˆæœ«ã¨ã„ã†ã“ã¨ã§ã€ãã‚Œã¾ã§ã«ç§»è¡Œã—ãŸã„ãªã¨æ€ã£ã¦ã„ãŸã®ãŒçµŒç·¯ã§ã™ã€‚\nAtomPub ã‚’åˆ©ç”¨ã—ã¦è¨˜äº‹ã‚’å‚ç…§ã™ã‚‹ ã¯ã¦ãªãƒ–ãƒ­ã‚°ã«ã¯ AtomPub ã‚’åˆ©ç”¨ã—ã¦è¨˜äº‹ã®å‚ç…§ã€æŠ•ç¨¿ã€ç·¨é›†ã€å‰Šé™¤ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚\nAtomPub ã‚’åˆ©ç”¨ã™ã‚‹ã«ã¯ OAuth èªè¨¼ã€WSSEèªè¨¼ã€Basicèªè¨¼ ã®ã„ãšã‚Œã‹ã®æ–¹æ³•ã§èªè¨¼ã‚’è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€ä»Šå›ã¯ Basic èªè¨¼ã§åˆ©ç”¨ã—ã¦ã¿ã¾ã™ã€‚ Basic èªè¨¼ã® ID ã¯ ã¯ã¦ãªID ã§ã€ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ API ã‚­ãƒ¼ ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã“ã® API ã‚­ãƒ¼ ã«ã¤ã„ã¦ã¯ã€ã¯ã¦ãªãƒ–ãƒ­ã‚°ç®¡ç†ç”»é¢ã® è¨­å®š \u0026gt; è©³ç´°è¨­å®š ã® AtomPub APIã‚­ãƒ¼ ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nAtomPub ã®è©³ã—ã„ä»•æ§˜ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ãƒšãƒ¼ã‚¸ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã“ã§ã¯è¨˜äº‹ã®å‚ç…§ã«ã¤ã„ã¦ã®ã¿è§¦ã‚Œã¾ã™ã€‚\nã¯ã¦ãªãƒ–ãƒ­ã‚°AtomPub - Hatena Developer Center å‚ç…§ç”¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ XML ã‚’å–å¾— è¨˜äº‹ä¸€è¦§ã‚’å‚ç…§ã™ã‚‹ã«ã¯ã€ä¸‹è¨˜ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚\nhttps://blog.hatena.ne.jp/{ã¯ã¦ãªID}/{ãƒ–ãƒ­ã‚°ID}/atom/entry/ ã“ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ã¤ã„ã¦ã¯ã€ã¯ã¦ãªãƒ–ãƒ­ã‚°ç®¡ç†ç”»é¢ã® è¨­å®š \u0026gt; è©³ç´°è¨­å®š ã«ã‚ã‚‹ AtomPub ãƒ«ãƒ¼ãƒˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ ã§ç¢ºèªã§ãã¾ã™ã€‚\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯ ContentType: application/atom+xml ã§è¿”å´ã•ã‚Œã¾ã™ã€‚\nä»Šå›ã¯ Basic èªè¨¼ã‚’ç”¨ã„ã¦ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã®ã§ã€ Go ã§ã¯æ¬¡ã®ã‚ˆã†ã«ã—ã¦ XML ã‚’å–å¾—ã—ã¾ã™ã€‚(import æ–‡ã¯çœç•¥ã—ã¦ã¾ã™)\nfunc main() { xmlData, err := getXML(next) if err != nil { fmt.Println(err) break } } func getXML(url string) (string, error) { req, err := http.NewRequest(\u0026#34;GET\u0026#34;, url, nil) if err != nil { return \u0026#34;\u0026#34;, err } var basicAuthZ string = generateBasicAuthZ() req.Header.Set(\u0026#34;Authorization\u0026#34;, \u0026#34;Basic \u0026#34;+basicAuthZ) client := new(http.Client) res, err := client.Do(req) if err != nil { return \u0026#34;\u0026#34;, err } if res.StatusCode != 200 { return \u0026#34;\u0026#34;, fmt.Errorf(\u0026#34;Failed to get xml. [%s]\u0026#34;, res.Status) } body, _ := ioutil.ReadAll(res.Body) defer res.Body.Close() return string(body), nil } func generateBasicAuthZ() string { raw := hatenaId + \u0026#34;:\u0026#34; + hatenaAPIKey bytes := []byte(raw) return base64.StdEncoding.EncodeToString(bytes) } å–å¾—ã§ãã‚‹ XML ã®å†…å®¹ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;feed xmlns=\u0026#34;http://www.w3.org/2005/Atom\u0026#34; xmlns:app=\u0026#34;http://www.w3.org/2007/app\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;first\u0026#34; href=\u0026#34;{å‚ç…§ç”¨ã®ãƒ«ãƒ¼ãƒˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ}\u0026#34; /\u0026gt; \u0026lt;link rel=\u0026#34;next\u0026#34; href=\u0026#34;{æ¬¡ã®ãƒšãƒ¼ã‚¸ã®å‚ç…§ç”¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ}\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;{ãƒ–ãƒ­ã‚°ã‚¿ã‚¤ãƒˆãƒ«}\u0026lt;/title\u0026gt; \u0026lt;subtitle\u0026gt;{ãƒ–ãƒ­ã‚°ã®ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«}\u0026lt;/subtitle\u0026gt; \u0026lt;link rel=\u0026#34;alternate\u0026#34; href=\u0026#34;{ãƒ–ãƒ­ã‚°ã® URL}\u0026#34;/\u0026gt; \u0026lt;updated\u0026gt;2019-06-14T17:41:59+09:00\u0026lt;/updated\u0026gt; \u0026lt;author\u0026gt; \u0026lt;name\u0026gt;{ã¯ã¦ãª ID}\u0026lt;/name\u0026gt; \u0026lt;/author\u0026gt; \u0026lt;generator uri=\u0026#34;https://blog.hatena.ne.jp/\u0026#34; version=\u0026#34;4d0fe3f3cd3000000000020000000000\u0026#34;\u0026gt;Hatena::Blog\u0026lt;/generator\u0026gt; \u0026lt;id\u0026gt;hatenablog://blog/00000000000000000000\u0026lt;/id\u0026gt; \u0026lt;entry\u0026gt; ... \u0026lt;/entry\u0026gt; \u0026lt;entry\u0026gt; ... \u0026lt;/entry\u0026gt; \u0026lt;/feed\u0026gt; ã¾ãŸã€ \u0026lt;entry\u0026gt; ã®ä¸­ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\n\u0026lt;entry\u0026gt; \u0026lt;id\u0026gt;tag:blog.hatena.ne.jp,2013:blog-{ã¯ã¦ãª ID}-00000000000000000000-00000000000000000\u0026lt;/id\u0026gt; \u0026lt;link rel=\u0026#34;edit\u0026#34; href=\u0026#34;{å€‹åˆ¥è¨˜äº‹ã‚’å‚ç…§ã™ã‚‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ}\u0026#34;/\u0026gt; \u0026lt;link rel=\u0026#34;alternate\u0026#34; type=\u0026#34;text/html\u0026#34; href=\u0026#34;{è¨˜äº‹ã® URL}\u0026#34;/\u0026gt; \u0026lt;author\u0026gt;\u0026lt;name\u0026gt;{ã¯ã¦ãª ID}\u0026lt;/name\u0026gt;\u0026lt;/author\u0026gt; \u0026lt;title\u0026gt;{è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«}\u0026lt;/title\u0026gt; \u0026lt;updated\u0026gt;2020-12-22T00:03:46+09:00\u0026lt;/updated\u0026gt; \u0026lt;published\u0026gt;2020-12-21T21:00:58+09:00\u0026lt;/published\u0026gt; \u0026lt;app:edited\u0026gt;2020-12-22T00:03:46+09:00\u0026lt;/app:edited\u0026gt; \u0026lt;summary type=\u0026#34;text\u0026#34;\u0026gt;{è¨˜äº‹ã®æ¦‚è¦}\u0026lt;/summary\u0026gt; \u0026lt;content type=\u0026#34;text/x-markdown\u0026#34;\u0026gt; ... \u0026lt;/content\u0026gt; \u0026lt;hatena:formatted-content type=\u0026#34;text/html\u0026#34; xmlns:hatena=\u0026#34;http://www.hatena.ne.jp/info/xmlns#\u0026#34;\u0026gt; ... \u0026lt;/hatena:formatted-content\u0026gt; \u0026lt;category term=\u0026#34;{ã‚«ãƒ†ã‚´ãƒªå1}\u0026#34; /\u0026gt; \u0026lt;category term=\u0026#34;{ã‚«ãƒ†ã‚´ãƒªå2}\u0026#34; /\u0026gt; \u0026lt;app:control\u0026gt; \u0026lt;app:draft\u0026gt;yes\u0026lt;/app:draft\u0026gt; \u0026lt;/app:control\u0026gt; \u0026lt;/entry\u0026gt; ã“ã‚Œã‚’ Go ã®æ§‹é€ ä½“ã«è½ã¨ã—è¾¼ã¿ã¾ã™ã€‚\nGo ã§ XML ã‚’ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ ä»Šå›ã¯ XML ã‚’ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ãŸã‚ã«ã€ encoding/xml ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nxml Â· pkg.go.dev ãƒ‘ãƒ¼ã‚¹ã™ã‚‹å‰ã«ã€ XML ã®æ§‹é€ ã«åˆã‚ã›ã¦æ¬¡ã®ã‚ˆã†ãªæ§‹é€ ä½“ã‚’å®šç¾©ã—ã¾ã™ã€‚\ntype Atom struct { Title string `xml:\u0026#34;title\u0026#34;` SubTitle string `xml:\u0026#34;subtitle\u0026#34;` Links []Link `xml:\u0026#34;link\u0026#34;` Entries []Entry `xml:\u0026#34;entry\u0026#34;` } type Entry struct { Links []Link `xml:\u0026#34;link\u0026#34;` Author string `xml:\u0026#34;author\u0026gt;name\u0026#34;` Title string `xml:\u0026#34;title\u0026#34;` Published string `xml:\u0026#34;updated\u0026#34;` Content string `xml:\u0026#34;content\u0026#34;` Summary string `xml:\u0026#34;summary\u0026#34;` Draft string `xml:\u0026#34;control\u0026gt;draft\u0026#34;` Categories []Category `xml:\u0026#34;category\u0026#34;` } type Category struct { Term string `xml:\u0026#34;term,attr\u0026#34;` } type Link struct { Rel string `xml:\u0026#34;rel,attr\u0026#34;` Href string `xml:\u0026#34;href,attr\u0026#34;` } xml:\u0026quot;title\u0026quot; ã®ã‚ˆã†ã«ã‚¿ã‚°ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ XML å†…ã®è¦ç´ ã¨é–¢é€£ä»˜ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ãŸã€ xml:\u0026quot;term,attr\u0026quot; ã®ã‚ˆã†ã«ã‚¿ã‚°ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ XML ã®å„è¦ç´ ã®å±æ€§ã¨é–¢é€£ä»˜ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nå®Ÿéš›ã«ãƒ‘ãƒ¼ã‚¹ã™ã‚‹éƒ¨åˆ†ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\nfunc main() { // ... atom := Atom{} xerr := xml.Unmarshal([]byte(xmlData), \u0026amp;atom) if xerr != nil { fmt.Println(xerr.Error()) break } fmt.Println(atom.Title) fmt.Println(atom.SubTitle) fmt.Println(\u0026#34;-----\u0026#34;) for _, entry := range atom.Entries { fmt.Println(entry.Title) } } ä¸Šè¨˜ã®ã‚ˆã†ãªå®Ÿè£…ã§ã€ XML ã®æƒ…å ±ã‚’æ§‹é€ ä½“ã«è½ã¨ã—è¾¼ã‚€ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nã¿ã¡ã®ãˆãã¾ã«ã‚ SC59 CBR1000RRã§é“ã®é§…å·¡ã‚Šã‚’ã—ã¦ã„ã‚‹ã¾ã£ãŸã‚Šãƒ„ãƒ¼ãƒªãƒ³ã‚°ãƒ©ã‚¤ãƒ€ãƒ¼ã®ãƒ–ãƒ­ã‚° ----- test æ³Šã¾ã‚Šã®ãƒ„ãƒ¼ãƒªãƒ³ã‚°ã§åˆã‚ã¦è»Šä½“ãƒˆãƒ©ãƒ–ãƒ«ãŒç™ºç”Ÿã—ãŸè©± SSTR 2019 ã«å‚åŠ ã—ã¦ãã¾ã—ãŸï¼ . . . ã‚ã¨ã¯ã€ã“ã‚Œã‚‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚´ãƒ‹ãƒ§ã‚´ãƒ‹ãƒ§ã‚„ã£ã¦ã€ä¸‹è¨˜ã®ã‚ˆã†ãª Hugo ç”¨ã® Markdown ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¾ã™ã€‚\n--- title: \u0026#34;%s\u0026#34; date: %s draft: %s author: [\u0026#34;%s\u0026#34;] categories: [%s] archives: [\u0026#34;%s\u0026#34;, \u0026#34;%s\u0026#34;] description: \u0026#34;%s\u0026#34; url: \u0026#34;/%s\u0026#34; --- %s å®Œæˆã—ãŸã‚‚ã® ç‰¹å¾´ README ã«ã‚‚æ›¸ã„ã¦ã„ã¾ã™ãŒã€ç‰¹å¾´ã‚’ç°¡å˜ã«æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nã¯ã¦ãªãƒ–ãƒ­ã‚°ã®ã™ã¹ã¦ã®è¨˜æ³• (Markdown/ã¯ã¦ãªè¨˜æ³•/è¦‹ãŸã¾ã¾) ã«å¯¾å¿œã—ã¦ã„ã¾ã™ ã¯ã¦ãªè¨˜æ³•ã§æ›¸ã‹ã‚ŒãŸè¨˜äº‹ã®ä¸‹è¨˜ã®è¦ç´ ã¯ã€ãã‚Œãã‚Œ HTML ã«å¤‰æ›ã•ã‚Œã¾ã™ ãƒªãƒ³ã‚¯æ–‡å­—åˆ— ã¯ã¦ãªãƒ–ãƒ­ã‚°ã‚«ãƒ¼ãƒ‰ Twitter åŸ‹ã‚è¾¼ã¿ ã¯ã¦ãªãƒ•ã‚©ãƒˆãƒ©ã‚¤ãƒ•ã®ç”»åƒåŸ‹ã‚è¾¼ã¿ ä¸‹æ›¸ãã®è¨˜äº‹ã¯ draft: true ã¨ã—ã¦ç”Ÿæˆã•ã‚Œã¾ã™ Permalink ã¯ url: \u0026quot;/entry/...\u0026quot; ã¨ã—ã¦ç”Ÿæˆã•ã‚Œã¾ã™ ç‰¹ã«ã€å„è¨˜äº‹ã® URL ã‚’ Permalink ã¨ã—ã¦ç”Ÿæˆã—ã¦ãŠãã“ã¨ã§ã€ URL ã‚’ãã®ã¾ã¾å¼•ãç¶™ãã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã¾ã™ã€‚\nãŸã ã—æ³¨æ„ç‚¹ã¨ã—ã¦ã¯ã€Markdown ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ç”Ÿæˆã™ã‚‹ã‚‚ã®ã®ã€ä¸­èº«ã¯ç´”ç²‹ãª Markdown ã§ã¯ãªã HTML ã‚‚æ··ã˜ã£ãŸçŠ¶æ…‹ã§ç”Ÿæˆã•ã‚Œã¾ã™ã€‚ãã®ãŸã‚ã€ Hugo ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« config.toml ã«ä¸‹è¨˜ã®è¨˜è¿°ã‚’è¿½åŠ ã—ã€è¨˜äº‹å†…ã§ HTML åŠã³ JavaScript ã®ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿã§è¨˜è¿°ã—ã¦ã‚‚è§£é‡ˆã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n[markup] [markup.goldmark] [markup.goldmark.renderer] unsafe = true ã¾ãŸã€ä¸Šè¨˜ã®ã¯ã¦ãªè¨˜æ³•ä»¥å¤–ã®ã‚¿ã‚° (Amazon ã®å•†å“ãƒªãƒ³ã‚¯ãªã©) ã¯å¤‰æ›ã•ã‚Œãªã„ã®ã§ã€æ‰‹ã§ç›´ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚(ä»Šå¾Œå¯¾å¿œã™ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“)\nä½¿ã„æ–¹ ä½¿ã„æ–¹ã¯ç°¡å˜ã§ã€ä¸Šã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ clone ã—ã¦ã‚‚ã‚‰ã£ã¦ docker build ã—ã¦ docker run ã™ã‚‹ã ã‘ã§ã™ã€‚\nè©³ã—ãã¯ README ã‚’èª­ã‚“ã§ãã ã•ã„ã€‚\nhtn2hugo/README.md at master Â· michimani/htn2hugo ã¾ã¨ã‚ ã¯ã¦ãªãƒ–ãƒ­ã‚°ã§æ›¸ã„ãŸè¨˜äº‹ã‚’ Hugo ã«ç§»è¡Œã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nGo ã®å‹‰å¼·ã‚‚å…¼ã­ã¦ä½œã£ã¦ã¿ãŸãƒ„ãƒ¼ãƒ«ãªã®ã§ã€æ›¸ãæ–¹ãŠã‹ã—ã„ã¨ã‹ã‚³ãƒ¼ãƒ‰æ±šã„ã¨ã‹å…¨ç„¶å‹•ã‹ãªã„ã¨ã‹ã‚ã‚Œã° issueã€PR ã„ãŸã ã‘ã‚‹ã¨å¬‰ã—ã„ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/development-transition-hatena-blog-to-hugo/",
    "title": "ã¯ã¦ãªãƒ–ãƒ­ã‚°ã®è¨˜äº‹ã‚’ Hugo ã«ç§»è¡Œã™ã‚‹ãƒ„ãƒ¼ãƒ«ã‚’ä½œã£ã¦ã¿ãŸ"
  },
  {
    "contents": "å…ˆæ—¥ re:Invent ã§ AWS ã®æ–°ã‚µãƒ¼ãƒ“ã‚¹ AWS CloudShell ãŒç™ºè¡¨ã•ã‚Œã¾ã—ãŸã€‚ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ AWS CLI ã‚’åˆ©ç”¨ã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚ä»Šå›ã¯ã€ CloudShell ä¸Šã§ AWS CLI v1 ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã™ã€‚å°ãƒã‚¿ã§ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ ã‚„ã£ã¦ã¿ã‚‹ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª AWS CLI v1 ç”¨ã®ç’°å¢ƒã‚’ä½œæˆ AWS CLI v1 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã¾ã¨ã‚ ãŠã¾ã‘ æ¦‚è¦ AWS CloudShell ä¸Šã§ AWS CLI v1 ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã®ã¯ AWS CLI v2 ã§ã™ã€‚\nAWS CloudShell è‡ªä½“ã®ã‚µãƒ¼ãƒ“ã‚¹æ¦‚è¦ã«ã¤ã„ã¦ã¯ã‚¯ãƒ©ãƒ¡ã‚½ã•ã‚“ã®è¨˜äº‹ã§ã‚ã‹ã‚Šã‚„ã™ãã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ã„ã¤ã‚‚æœ€é€Ÿã®ãƒ–ãƒ­ã‚°åŒ–ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼\nå¾…æœ›ã®æ–°ã‚µãƒ¼ãƒ“ã‚¹ AWS CloudShell ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸï¼ #reinvent | Developers.IO ã‚„ã£ã¦ã¿ã‚‹ ã§ã¯ã€ã‚„ã£ã¦ã„ãã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª ã¾ãšã¯ CloudShell ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® AWS CLI ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n[cloudshell-user@ip-10-0-40-46 ~]$ aws --version aws-cli/2.0.58 Python/3.7.3 Linux/4.14.209-160.335.amzn2.x86_64 exec-env/CloudShell exe/x86_64.amzn.2 2.0.58 ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ã€‚ãªãŠã€ã“ã®è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã‚‹ 2020/12/17 æ™‚ç‚¹ã§ã® AWS CLI v2 ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 2.1.11 ãªã®ã§ã€å°‘ã—ãƒ©ã‚°ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\nAWS CLI v1 ç”¨ã®ç’°å¢ƒã‚’ä½œæˆ v1 ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã€ Python ã® venv ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦ä»®æƒ³ç’°å¢ƒã‚’ä½œæˆã—ã¾ã™ã€‚CloudShell ã§ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ Python 3 ç³»ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ä¸è¦ã§ã™ã€‚\n[cloudshell-user@ip-10-0-40-46 ~]$ python3 -V Python 3.7.9 ä»Šå›ã¯ aws-cli-v1 ã¨ã„ã†ç’°å¢ƒã‚’ä½œã‚Šã¾ã™ã€‚\n[cloudshell-user@ip-10-0-40-46 ~]$ python3 -m venv ~/aws-cli-v1 ä½œæˆã—ãŸç’°å¢ƒã«å…¥ã‚Šã¾ã™ã€‚ç’°å¢ƒã«å…¥ã‚‹ã¨ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã« (aws-cli-v1) ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n[cloudshell-user@ip-10-0-40-46 ~]$ source ~/aws-cli-v1/bin/activate (aws-cli-v1) [cloudshell-user@ip-10-0-40-46 ~]$ AWS CLI v1 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« æœ€å¾Œã« AWS CLI v1 ã‚’ pip ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n(aws-cli-v1) [cloudshell-user@ip-10-0-40-46 ~]$ pip install awscli --upgrade ... Successfully installed PyYAML-5.3.1 awscli-1.18.198 botocore-1.19.38 colorama-0.4.3 docutils-0.15.2 jmespath-0.10.0 pyasn1-0.4.8 python-dateutil-2.8.1 rsa-4.5 s3transfer-0.3.3 six-1.15.0 urllib3-1.26.2 ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™ã€‚\n(aws-cli-v1) [cloudshell-user@ip-10-0-40-46 ~]$ aws --version aws-cli/1.18.198 Python/3.7.9 Linux/4.14.209-160.335.amzn2.x86_64 exec-env/CloudShell botocore/1.19.38 v2 ã‚’åˆ©ç”¨ã—ãŸã„å ´åˆã¯ deactivate ã§ç’°å¢ƒã‹ã‚‰æŠœã‘ã¾ã™ã€‚\n(aws-cli-v1) [cloudshell-user@ip-10-0-40-46 ~]$ deactivate [cloudshell-user@ip-10-0-40-46 ~]$ aws --version aws-cli/2.0.58 Python/3.7.3 Linux/4.14.209-160.335.amzn2.x86_64 exec-env/CloudShell exe/x86_64.amzn.2 ã¾ã¨ã‚ AWS CloudShell ä¸Šã§ AWS CLI v1 ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸè©±ã§ã—ãŸã€‚ã¾ã€ä»–ã®ç’°å¢ƒã§ v1/v2 ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹æ–¹æ³•ã¨åŒã˜ã§ã™ã­ã€‚\nãŠã¾ã‘ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ AWS CLI v2 ã‚’æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã™ã‚‹ã«ã¯ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n[cloudshell-user@ip-10-0-40-46 ~]$ curl \u0026#34;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\u0026#34; -o \u0026#34;awscliv2.zip\u0026#34; \\ \u0026amp;\u0026amp; unzip awscliv2.zip \\ \u0026amp;\u0026amp; sudo ./aws/install --update \\ \u0026amp;\u0026amp; rm -rf awscliv2.zip é€”ä¸­ã§\nreplace aws/README.md? [y]es, [n]o, [A]ll, [N]one, [r]ename: ã¨èã‹ã‚ŒãŸå ´åˆã¯ A ã§é€²ã¿ã¾ã™ã€‚\nå®Ÿè¡ŒãŒçµ‚ã‚ã£ãŸã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™ã€‚\n[cloudshell-user@ip-10-0-40-46 ~]$ aws --version aws-cli/2.1.11 Python/3.7.3 Linux/4.14.209-160.335.amzn2.x86_64 exec-env/CloudShell exe/x86_64.amzn.2 prompt/off ",
    "permalink": "https://michimani.net/post/aws-use-aws-cli-v1-at-cloudshell/",
    "title": "AWS CloudShell ã§ AWS CLI v1 ã‚’ä½¿ã†"
  },
  {
    "contents": "ã“ã‚“ã«ã¡ã¯ã€‚ å¼è­·å£«ãƒ‰ãƒƒãƒˆã‚³ãƒ æ ªå¼ä¼šç¤¾ã«ã¦ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã—ã¦ é›»å­å¥‘ç´„ã‚µãƒ¼ãƒ“ã‚¹ ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µã‚¤ãƒ³ ã®é–‹ç™ºã‚’ã—ã¦ã„ã‚‹ @michimani ã§ã™ã€‚ä»Šå›ã¯ã€å€‹äººçš„ã«æœ€è¿‘ã‚ˆãè§¦ã£ã¦ã„ã‚‹ AWS CLI ã«ã¤ã„ã¦æ›¸ãã¾ã™ã€‚\nã¯ã˜ã‚ã« ã“ã®è¨˜äº‹ã¯ å¼è­·å£«ãƒ‰ãƒƒãƒˆã‚³ãƒ  Advent Calendar 2020 ã® 12 æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚\næ˜¨æ—¥ã®è¨˜äº‹ã¯ @happylifetaka ã•ã‚“ã® ã€Œ VueUseã«ã¤ã„ã¦èª¿ã¹ã¦ã¿ã¾ã—ãŸ ã€ ã§ã—ãŸã€‚ãœã²ã“ã¡ã‚‰ã®è¨˜äº‹ã‚‚ã”è¦§ãã ã•ã„ã€‚\nç§ã®è¨˜äº‹ã®ãƒ¡ã‚¤ãƒ³ã¯ AWS CLI ã‚’ä½¿ã£ãŸãƒãƒ³ã‚ºã‚ªãƒ³è³‡æ–™ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€ä¼‘æ—¥ã‚„å¹´æœ«å¹´å§‹ã®ãŠä¼‘ã¿ã®éš›ã«ã½ã¡ã½ã¡ã‚„ã£ã¦ã„ãŸã ã‘ãŸã‚‰å¹¸ã„ã§ã™ã€‚\nç›®æ¬¡ ã¯ã˜ã‚ã« ç›®æ¬¡ ã‚„ã‚‹ã“ã¨ é•·ã„å‰ç½®ã Hugo ã¨ã¯ ãªãœ AWS CLIï¼Ÿ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã½ã¡ã½ã¡ ãã‚Œä»¥å¤– AWS CLI ã‚„ã£ã¦ã¿ã‚‹ å‰æäº‹é … ä½œæˆã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ â€»æ‰‹é †ã®ç•™æ„ç‚¹ 1. ACM ã§ Certificate (SSL è¨¼æ˜æ›¸) ã‚’ç™ºè¡Œ 1.1 è¨¼æ˜æ›¸ç™ºè¡Œã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆ 1.2 ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ 2. CloudFront ã§ CloudFrontOriginAccessIdentity ã‚’ä½œæˆ 3. Hugo ã§ç”Ÿæˆã•ã‚ŒãŸé™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã™ã‚‹ S3 Bucket ã‚’ä½œæˆ 3.1 S3 Bucket ã‚’ä½œæˆ 3.2 ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒ 4. CloudFront ã§ Distribution ã‚’ä½œæˆ 5. Route 53 ã« RecordSet ã‚’ä½œæˆ 6. è¨­å®šã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‹ç¢ºèª Hugo ã§ç”Ÿæˆã—ãŸã‚µã‚¤ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ã‚‹ ã“ã®æ§‹æˆã‚’æˆé•·ã•ã›ã‚‹ ãƒ‡ãƒ—ãƒ­ã‚¤ã®è‡ªå‹•åŒ– URL ã®æ­£è¦åŒ– ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æœ€é©åŒ– ãƒªã‚½ãƒ¼ã‚¹ã®å‰Šé™¤ 1. S3 Bucket ã‚’å‰Šé™¤ 2. Route 53 ã® RecordSet ã‚’å‰Šé™¤ 3. CloudFront ã® Distribution ã‚’å‰Šé™¤ 4. CloudFront ã® CloudFrontOriginAccessIdentity ã‚’å‰Šé™¤ 5. ACM ã® Certificate ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ç”¨ã® RecordSet ã‚’å‰Šé™¤ ã¾ã¨ã‚ ã‚„ã‚‹ã“ã¨ ä»Šå›ã¯ã€AWS CLI ã®ã¿ã‚’ä½¿ã£ã¦ Hugo ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã¿ã¾ã™ã€‚æ§‹ç¯‰ã—ã¦ã„ãéç¨‹ã§æ§˜ã€…ãªã‚µãƒ¼ãƒ“ã‚¹ã‚’ AWS CLI ã‚’é€šã—ã¦æ“ä½œã—ã¦ã„ãã¾ã™ã€‚ã¾ãŸã€ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«ã« ã€Œã¯ã˜ã‚ã‚ˆã†ã€æŠ€è¡“ãƒ–ãƒ­ã‚°ã€ ã¨ä»˜ã‘ã¦ã„ã‚‹é€šã‚Šã€ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ç’°å¢ƒã‚’ä½œã£ãŸã‚‰ãã®ã¾ã¾ Hugo ã§ãƒ–ãƒ­ã‚°ã‚’å…¬é–‹ã—ã¦ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã—ã¦ã„ãã¾ã›ã‚“ã‹ï¼Ÿã¨ã„ã†ãŠèª˜ã„ã§ã™ã€‚\nå¹´æœ«ã®ã“ã®æ™‚æœŸã«ãªã‚‹ã¨ã€ã€Œæ¥å¹´ã“ãã¯è‡ªåˆ†ã‚‚ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã—ãªã„ã¨\u0026hellip;ã€ ã¨æ€ã†æ–¹ãŒå°‘ãªã‹ã‚‰ãšã„ã‚‰ã£ã—ã‚ƒã‚‹ã¨æ€ã„ã¾ã™ã€‚ã“ã®è¨˜äº‹ã‚’è¦‹ã¦ã€ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã¿ã¦ã€ Hugo ã§ãƒ–ãƒ­ã‚°ã‚’å§‹ã‚ã¦ã¿ã‚‹ã®ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ã€‚(ã¨ã„ã†ã®ã‚’ Qiita ã§æ›¸ã„ã¦ã„ã‚‹)\nã¾ãŸã€AWS CLI ã¯ AWS ã§å„ã‚µãƒ¼ãƒ“ã‚¹ãƒ»ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†ä¸Šã§ã¨ã¦ã‚‚åŸºæœ¬çš„ãªéƒ¨åˆ†ã«è§¦ã‚Œã‚‹ã“ã¨ãŒã§ãã‚‹ãƒ„ãƒ¼ãƒ«ãªã®ã§ã€æ—¢ã« AWS ã‚’ä½¿ã£ã¦ã‚µãƒ¼ãƒ“ã‚¹é‹ç”¨ã—ã¦ã„ã‚‹ã¨ã„ã†æ–¹ã¯ã‚‚ã¡ã‚ã‚“ã€ã“ã‚Œã‹ã‚‰ AWS ã‚’ä½¿ã£ã¦ä½•ã‹ã‚„ã‚ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã«ã‚‚ãœã²ä½¿ã£ã¦ã„ãŸã ããŸã„ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚å€‹äººçš„ã«ã‚‚æœ€è¿‘ã¯ AWS CLI ã§ä½•ã‹ã‚„ã‚‹æ©Ÿä¼šãŒå¢—ãˆã¦ããŸã®ã§ã€ä»Šå›å–ã‚Šä¸Šã’ã¦ã„ã¾ã™ã€‚\nã“ã®ã‚ã¨å‰ç½®ããŒã¡ã‚‡ã£ã¨é•·ããªã£ã¦ã„ã‚‹ã®ã§ã€ã™ãã«ç’°å¢ƒæ§‹ç¯‰ã«å…¥ã‚ŠãŸã„ï¼ã¨ã„ã†æ–¹ã¯ ã“ã“ ã¾ã§é£›ã‚“ã§ãã ã•ã„ã€‚\né•·ã„å‰ç½®ã å®Ÿéš›ã« AWS CLI ã§ Hugo ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹ã¾ã§ã«ã€å‰ç½®ãã¨ã—ã¦ Hugo ã‚„ AWS CLI ã«ã¤ã„ã¦å°‘ã—ã ã‘æ›¸ã„ã¦ãŠãã¾ã™ã€‚ã¾ãŸã€ã“ã®è¨˜äº‹ã§ã¯ AWS CLI ã¨ã®æ¯”è¼ƒã¨ã—ã¦æ§˜ã€…ãªã‚µãƒ¼ãƒ“ã‚¹ã‚„ãƒ„ãƒ¼ãƒ«ã«ã¤ã„ã¦è§¦ã‚Œã¦ã„ã¾ã™ãŒã€ãã‚Œã‚‰ã‚’æ‚ªè€…ã«ã—ã‚ˆã†ã¨ã„ã†æ„å›³ã¯ã¾ã£ãŸãã‚ã‚Šã¾ã›ã‚“ã—ã€ AWS CLI ãŒè‡³é«˜ï¼ã¨ã„ã†æ„Ÿã˜ã§ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚\nHugo ã¨ã¯ Hugo ã¨ã¯ Go ã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã§ã™ã€‚ç‰¹å¾´ã¨ã—ã¦ã¯ã€ã¨ã«ã‹ããƒ“ãƒ«ãƒ‰ãŒã‚ã¡ã‚ƒãã¡ã‚ƒé€Ÿã„ã§ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã™ã‚‹ã‚µã‚¤ãƒˆã«é©ç”¨ã™ã‚‹ãƒ†ãƒ¼ãƒã®ç¨®é¡ã‚‚è±Šå¯Œã§ã€ä¸€èˆ¬çš„ãªãƒ–ãƒ­ã‚°ã€å€‹äººã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã€ã‚³ãƒ¼ãƒãƒ¬ãƒ¼ãƒˆã‚µã‚¤ãƒˆãªã©ã€æ§˜ã€…ãªã‚¿ã‚¤ãƒ—ã® Web ã‚µã‚¤ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nThe worldâ€™s fastest framework for building websites | Hugo ãªãœ AWS CLIï¼Ÿ Hugo ã«é™ã‚‰ãšã€ AWS ä¸Šã§ä½•ã‹ã—ã‚‰ã®ç’°å¢ƒæ§‹ç¯‰ã‚’ã™ã‚‹ã«ã¯ã€ AWS CLI ä»¥å¤–ã«ä¸‹è¨˜ã®ã‚ˆã†ãªæ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚\nãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã½ã¡ã½ã¡ AWS CloudFormation ã‚’ä½¿ã£ã¦æ§‹æˆç®¡ç† AWS CDK, AWS Chalice ãªã©ã® AWS è£½ãƒ„ãƒ¼ãƒ« Terraform, Serverless Framework ãªã©ã® 3rd ãƒ‘ãƒ¼ãƒ†ã‚£è£½ãƒ„ãƒ¼ãƒ« ä¸Šè¨˜ã«ã¤ã„ã¦ã¯ã€ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã½ã¡ã½ã¡ ã¨ ãã‚Œä»¥å¤– ã«å¤§åˆ¥ã§ãã¾ã™ã€‚ãªã®ã§ã€ãã® 2 ã¤ã¨ AWS CLI ã¨ã®æ¯”è¼ƒã‚’ç°¡å˜ã«æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã½ã¡ã½ã¡ AWS ã‚’è§¦ã‚Šå§‹ã‚ã‚‹ã¨ã€ã¾ãšã¯ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦è‰²ã‚“ãªãƒªã‚½ãƒ¼ã‚¹ã‚’è§¦ã£ã¦ã¿ã‚‹ã¨æ€ã„ã¾ã™ã€‚ä¸–ã«å‡ºã¦ã„ã‚‹æ‰‹é †æ›¸ã‚„ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚‚ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®ã‚­ãƒ£ãƒ—ãƒãƒ£ã‚’ç”¨ã„ã¦èª¬æ˜ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚‚å¤šã„ã§ã™ã€‚\nåˆã‚ã¦ AWS ã«è§¦ã‚Œã‚‹éš›ã«ã¯ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’è¦‹ãªãŒã‚‰ç›´æ„Ÿçš„ã«æ“ä½œã—ã¦ã„ãã®ã¯ã¨ã¦ã‚‚ã‚ã‹ã‚Šã‚„ã™ã„ã¨æ€ã„ã¾ã™ãŒã€ ã€Œã‚ã‚Œï¼Ÿã“ã®ã‚­ãƒ£ãƒ—ãƒãƒ£ã€å®Ÿéš›ã®ç”»é¢ã¨é•ã†ã‚“ã‚„ã‘ã©\u0026hellip;ã€ ã€Œãã‚“ãªãƒœã‚¿ãƒ³ç„¡ã„ã‚„ã‚“\u0026hellip;ã€ ã€Œã©ã†ã™ã‚Œã°ãˆãˆã‚“ã‚„\u0026hellip;ã€ ã¨ã„ã†æ„Ÿã˜ã§ ã‚­ãƒ£ãƒ—ãƒãƒ£ã¨å®Ÿéš›ã®ç”»é¢ã®å·®ç•°ã«æˆ¸æƒ‘ã£ãŸã“ã¨ã¯ãªã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ ã¨ã„ã†ã®ã‚‚ã€ AWS ã®ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã® UI ã¯æ—¥ã€…å¤‰æ›´ãŒåŠ ã‚ã£ã¦ã„ã¦ã€æ˜¨æ—¥ãªã‹ã£ãŸé …ç›®ãŒä»Šæ—¥è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚‚ã‚ã‚Œã°ã€é€†ã«æ˜¨æ—¥ã‚ã£ãŸãƒœã‚¿ãƒ³ãŒä»Šæ—¥ãªããªã£ã¦ã„ã‚‹ãªã‚“ã¦ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã®æ“ä½œã¯ã‚ã‹ã‚Šã‚„ã™ã„åˆ†ã€UI ã®å¤‰æ›´ã«å¯¾å¿œã™ã‚‹ã®ãŒå¤§å¤‰ã¨ã„ã†é¢ãŒã‚ã‚Šã¾ã™ã€‚\nãã‚Œä»¥å¤– AWS CloudFormation (ä»¥ä¸‹ã€CFn) ã‚„ AWS CDKã€ Terraform ãªã©ã‚’ä½¿ã£ãŸæ§‹æˆç®¡ç†ã¯ã€ãƒªã‚½ãƒ¼ã‚¹ã®ã‚ã‚‹ã¹ãçŠ¶æ…‹ã‚’ã‚³ãƒ¼ãƒ‰ã§ç®¡ç†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚‚ã¡ã‚ã‚“ã€ãƒªã‚½ãƒ¼ã‚¹ã‚’æ“ä½œã™ã‚‹ UI ãŒå¤‰ã‚ã£ã¦ã‚‚å½±éŸ¿ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãã®ä»–ã€ Infrastructure as Code ã‚’å®Ÿè·µã™ã‚‹ã“ã¨ã§å¾—ã‚‰ã‚Œã‚‹ãƒ¡ãƒªãƒƒãƒˆã«ã¤ã„ã¦ã¯ã‚‚ã†æ—¢ã«è‰²ã‚“ãªå ´æ‰€ã§æ›¸ã‹ã‚Œã¦ã„ã‚‹ã“ã¨ãªã®ã§è©³ã—ãã¯è§¦ã‚Œã¾ã›ã‚“ã€‚\nã“ã‚Œã‚‰ã®ãƒ„ãƒ¼ãƒ«ã‚„ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹ã«ã‚ãŸã£ã¦éšœå£ã¨ãªã‚‹ã®ã¯ã€åˆæœŸã®å­¦ç¿’ã‚³ã‚¹ãƒˆã§ã™ã€‚ CFn ã§ç®¡ç†ã™ã‚‹å ´åˆã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æ›¸ãæ–¹ã‚’çŸ¥ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ AWS CDK ã¯å„è¨€èª (TypeScript ãŒå¤šã„ã¨æ€ã„ã¾ã™) ã§ãƒªã‚½ãƒ¼ã‚¹ã‚’å®šç¾©ã§ãã‚‹ã¨è¨€ãˆã€ CDK ã§ã®æ›¸ãæ–¹ã‚„ã€ãƒªã‚½ãƒ¼ã‚¹ã«ã‚ˆã£ã¦ã¯ CFn ã§ã®æ›¸ãæ–¹ã‚’èª¿ã¹ã‚‹å¿…è¦ãŒå‡ºã¦ãã¾ã™ã€‚Terraform ã‚‚ã€ .tf ãƒ•ã‚¡ã‚¤ãƒ«ã®æ›¸ãæ–¹ã‚’çŸ¥ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ IaC ã™ã‚‹ãŸã‚ã«ãšã£ã¨åŒã˜ãƒ„ãƒ¼ãƒ«ã‚„ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã„ç¶šã‘ã‚‹ã®ã§ã‚ã‚Œã°å•é¡Œãªã„ã§ã™ãŒã€å®Ÿéš›ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚„ãƒãƒ¼ãƒ ã€å€‹äººã®è¶£å‘³ã§è‰²ã‚“ãªãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã†ã“ã¨ã«ãªã‚‹ã¨æ€ã†ã®ã§ã€ãã®ãŸã³ã«å­¦ç¿’ã‚³ã‚¹ãƒˆãŒç™ºç”Ÿã™ã‚‹ã®ã¯è¾›ã„ã§ã™ã€‚ã¾ãŸã€ 3rd ãƒ‘ãƒ¼ãƒ†ã‚£ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã†å ´åˆã¯ã€ãã®ãƒ„ãƒ¼ãƒ«è‡ªä½“ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã«ã‚‚è¿½å¾“ã—ã¦ã„ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ç‰¹ã« AWS CDK ã«é–¢ã—ã¦ã¯ GA ã¨ãªã£ã¦ã‹ã‚‰ã‚‚ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚¹ãƒ”ãƒ¼ãƒ‰ã¯éå¸¸ã«é€Ÿãã€ç ´å£Šçš„å¤‰æ›´ãŒåŠ ãˆã‚‰ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ãƒªã‚½ãƒ¼ã‚¹ã®å®šç¾©ã‚„ç®¡ç†ãŒã—ã‚„ã™ã„åé¢ã€å®Ÿéš›ã®ãƒªã‚½ãƒ¼ã‚¹ã«åŠ ãˆã¦ãƒ„ãƒ¼ãƒ«ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚‚ã—ã¦ãã®ã¯è¾›ã„ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚\nAWS CLI ã˜ã‚ƒã‚ AWS CLI ã¯ä¸Šè¨˜ã®ã‚ˆã†ãªè¾›ã•ã¯ç„¡ã„ã®ã‹ï¼ã¨è¨€ã‚ã‚Œã‚‹ã¨ã€æ±ºã—ã¦ãã‚“ãªã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚³ãƒãƒ³ãƒ‰ã‚’æ¯å›èª¿ã¹ã¦ãƒªã‚½ãƒ¼ã‚¹ã‚’ä¸€ã¤ãšã¤ä½œæˆã—ã¦ã„ãã®ã¯è¾›ã„ã¨æ„Ÿã˜ã‚‹ã¨ãã‚‚ã‚ã‚Šã¾ã™ã€‚ãŸã ã€ãã‚“ãªè¾›ã•ä»¥ä¸Šã« AWS CLI ã‚’è§¦ã‚‹ã“ã¨ã«ã‚ˆã£ã¦å¾—ã‚‰ã‚Œã‚‹ãƒ¡ãƒªãƒƒãƒˆã¯å¤§ãã„ã¨æ€ã„ã¾ã™ã€‚å…·ä½“çš„ã«ã¯ã€æ¬¡ã®ã‚ˆã†ãªç‰¹å¾´ãƒ»ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚\nã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ãŒå„ã‚µãƒ¼ãƒ“ã‚¹ã® API ã¨ (ã»ã¼) 1 å¯¾ 1 ã§å¯¾å¿œã—ã¦ã„ã‚‹ aws \u0026lt;ã‚µãƒ¼ãƒ“ã‚¹ã‚’æŒ‡å®šã™ã‚‹ã‚³ãƒãƒ³ãƒ‰\u0026gt; \u0026lt;API ã‚’æŒ‡å®šã™ã‚‹ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰\u0026gt; ã®å½¢ å„ãƒªã‚½ãƒ¼ã‚¹ã‚’æ“ä½œã™ã‚‹ã®ã«ã©ã‚“ãª API ã‚’å®Ÿè¡Œã™ã‚Œã°ã‚ˆã„ã‹ãŒã‚ã‹ã‚‹ ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã§ãã‚‹ãƒ˜ãƒ«ãƒ—ãŒå……å®Ÿã—ã¦ã„ã‚‹ æ–°ã‚µãƒ¼ãƒ“ã‚¹ãƒ»æ–°æ©Ÿèƒ½ã¸ã®è¿½å¾“ãŒæ—©ã„ API ã¨ (ã»ã¼) å¯¾ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€æ–°ã—ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚„æ©Ÿèƒ½ã‚‚ AWS CLI ãªã‚‰ã™ãè©¦ã™ã“ã¨ãŒã§ãã‚‹ v1 ã¨ v2 ãŒã‚ã‚‹ãŒã€ v1 ã®ã»ã†ãŒå…ˆã«å¯¾å¿œã™ã‚‹ã“ã¨ãŒå¤šã„ é•·å¹´å¤§ããªå¤‰åŒ–ãŒãªã„ã‚·ã‚§ãƒ«ã®æŠ€è¡“ãŒå…ƒã«ãªã£ã¦ã„ã‚‹ ã‚·ã‚§ãƒ«èŠ¸ (ã‚„ã‚Šã™ãæ³¨æ„) ç‰¹ã«ä¸€ã¤ç›®ã®ç‰¹å¾´ã¨ã—ã¦ä¸Šã’ã¦ã„ã‚‹ ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ãŒå„ã‚µãƒ¼ãƒ“ã‚¹ã® API ã¨ (ã»ã¼) 1 å¯¾ 1 ã§å¯¾å¿œã—ã¦ã„ã‚‹ ã«é–¢ã—ã¦ã¯ã€ AWS ã‚’ç†è§£ã™ã‚‹ãŸã‚ã«ã¯å‡„ãè‰¯ã„ç‚¹ã§ã™ã€‚ API ã¯é »ç¹ã«å¤‰ã‚ã‚‹ã‚‚ã®ã§ã¯ãªã„ã®ã§ã€éå»ã«è¦šãˆãŸ API (ã‚³ãƒãƒ³ãƒ‰) ã‚’ã»ã¼ãšã£ã¨ä½¿ã£ã¦ã„ãã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ãŸã€ API ã‚’ç†è§£ã™ã‚‹ã“ã¨ã§ CFn ç­‰ã§ãƒªã‚½ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹éš›ã«ã€å®Ÿéš›ã«ä½œæˆã•ã‚Œã‚‹ãƒªã‚½ãƒ¼ã‚¹ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚‚ã¤ãã‚„ã™ããªã‚Šã¾ã™ã€‚\nã¨ã„ã†ã“ã¨ã§ã€ä»Šå¾Œã® AWS ã¨ã®ä»˜ãåˆã„ã‚’ã‚ˆã‚Šè‰¯ã„ã‚‚ã®ã«ã™ã‚‹ãŸã‚ã« AWS CLI ã¯å‡„ãè‰¯ã„ãƒ„ãƒ¼ãƒ«ã§ã™ã‚ˆã€ã¨ã„ã†è©±ã§ã™ã€‚AWS CLI ã®è‰¯ã•ã«ã¤ã„ã¦ã¯è‰²ã‚“ãªæ–¹ãŒã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã•ã‚Œã¦ã„ã¾ã™ã®ã§ã€ãã¡ã‚‰ã‚‚ã”è¦§ãã ã•ã„ã€‚\né•·ãä½¿ãˆã‚‹AWSã‚¹ã‚­ãƒ«ã‚’åŠ¹ç‡è‰¯ãèº«ã«ä»˜ã‘ã‚ˆã† /20200912-jaws-sonic-awscli - Speaker Deck JAWS-UG CLI å°‚é–€æ”¯éƒ¨ã‚’é‹å–¶ã—ã¦ã„ã‚‹æ³¢ç”°é‡ã•ã‚“ã® JAWS SONIC 2020 ã§ã®ç™ºè¡¨è³‡æ–™ã§ã™ åˆå¿ƒè€…ã ã‹ã‚‰ã“ãè§¦ã‚ŠãŸã„ã€AWS CLI ~ \u0026amp;ldquo;èº“ãã‚„ã™ã„\u0026amp;quot;ã‚’ç„¡ãã—ãŸã„ ~ #devio2020 - YouTube ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰åŒ—å·ã•ã‚“ã® Developers.IO 2020 CONNECT ã§ã®å‹•ç”»ã§ã™ ã¾ãŸã€å€‹äººçš„ã«ã¯æœ€è¿‘ JAWS-UG CLI å°‚é–€æ”¯éƒ¨ã®ã‚¤ãƒ™ãƒ³ãƒˆã«å‚åŠ ã™ã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚å†…å®¹ã¨ã—ã¦ã¯ã€æ¯å›å„ã‚µãƒ¼ãƒ“ã‚¹ã®ã¨ã‚ã‚‹æ©Ÿèƒ½ã‚’ AWS CLI ã§æ“ä½œã™ã‚‹ã¨ã„ã†ãƒãƒ³ã‚ºã‚ªãƒ³ã«ãªã£ã¦ã„ã¾ã™ã€‚ä»Šå¹´ã«å…¥ã£ã¦ã‹ã‚‰ã¯ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§é–‹å‚¬ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ AWS CLI ã«èˆˆå‘³ã®ã‚ã‚‹æ–¹ã¯ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¦ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ã€‚\nJAWS-UG CLIå°‚é–€æ”¯éƒ¨ - connpass ã‚„ã£ã¦ã¿ã‚‹ å‰ç½®ããŒã ã„ã¶é•·ããªã‚Šã¾ã—ãŸãŒã€ã“ã“ã‹ã‚‰ã¯å®Ÿéš›ã« AWS CLI ã®ã¿ã‚’ä½¿ã£ã¦ Hugo ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚ã„ãã¤ã‹å‰æäº‹é …ãŒã‚ã‚‹ã®ã§ã€ã‚‚ã—ãã®ä¸­ã§æº–å‚™ãŒæ¸ˆã‚“ã§ã„ãªã„ã‚‚ã®ãŒã‚ã‚Œã°ã”ç”¨æ„ãã ã•ã„ã€‚\nå‰æäº‹é … AWS CLI ã®å®Ÿè¡Œç’°å¢ƒã¯ macOS ã‚’æƒ³å®š jq ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ç”¨å¯èƒ½ã§ã‚ã‚‹ã“ã¨ macOS ä¸Šã§ AWS CLI ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¦ã„ã‚‹ã“ã¨ v1/v2 ã©ã¡ã‚‰ã§ã‚‚çµæ§‹ã§ã™ãŒã€ä»Šå›ã¯ v2 ã‚’ä½¿ã„ã¾ã™ (åŸ·ç­†æ™‚ç‚¹ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 2.1.6 ã€‚å…¬é–‹æ™‚ã«ã¯ä¸ŠãŒã£ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™) macOS ã§ã® AWS CLI ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 2 ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€æ›´æ–°ã€ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« - AWS Command Line Interface git ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ç”¨å¯èƒ½ã§ã‚ã‚‹ã“ã¨ Hugo ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ macOS ã§ã‚ã‚Œã° brew install hugo ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ Install Hugo | Hugo åˆ©ç”¨å¯èƒ½ãªãƒ‰ãƒ¡ã‚¤ãƒ³ãŒ Amazon Route 53 ã§ç®¡ç†ã•ã‚Œã¦ã„ã‚‹ã“ã¨ HostedZone ã«ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ã“ã¨ ä½œæˆã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ ä»Šå› Hugo ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ç’°å¢ƒã¨ã—ã¦ä¸‹å›³ã®ã‚ˆã†ãªæ§‹æˆã‚’æ§‹ç¯‰ã—ã¦ã„ãã¾ã™ã€‚\nä½œæˆã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚(ä»¥é™ã®æ‰‹é †å†…ã§ã‚‚ãƒªã‚½ãƒ¼ã‚¹ã‚’æŒ‡ã™æ–‡è„ˆã§ã¯ä¸‹è¨˜ã®ãƒªã‚½ãƒ¼ã‚¹åã‚’ç”¨ã„ã‚‹ã‚ˆã†ã«ã—ã¾ã™ãŒã€ã‚†ã‚ŒãŒã‚ã£ãŸã‚‰ã‚ˆã—ãªã«èª­ã¿è§£ã„ã¦ãã ã•ã„\u0026hellip;)\nAWS Certificate Manager Certificate Amazon Route 53 RecordSet Amazon CloudFront Distribution CloudFrontOriginAccessIdentity Amazon S3 Bucket BucketPolicy å„ãƒªã‚½ãƒ¼ã‚¹ (æ§‹æˆè¦ç´ ) ã®ä½œæˆæ‰‹é †ã¯ä¸‹è¨˜ã®é€šã‚Šãªã®ã§ã€ã“ã®é †ç•ªã§é€²ã‚ã¦ã„ãã¾ã™ã€‚\nACM ã§ Certificate (SSL è¨¼æ˜æ›¸) ã‚’ç™ºè¡Œ CloudFront ã§ CloudFrontOriginAccessIdentity ã‚’ä½œæˆ Hugo ã§ç”Ÿæˆã•ã‚ŒãŸé™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã™ã‚‹ S3 Bucket ã‚’ä½œæˆ CloudFront ã§ Distribution ã‚’ä½œæˆ Route 53 ã« RecordSet ã‚’ä½œæˆ è¨­å®šã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‹ç¢ºèª â€»æ‰‹é †ã®ç•™æ„ç‚¹ æ‰‹é †å†…ã®ã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦ã¯ååˆ†ç¢ºèªã—ã¦ã„ã¾ã™ãŒã€ãã®ã¾ã¾æœ¬ç•ªç’°å¢ƒã§é‹ç”¨ã§ãã‚‹ã‚ˆã†ãªã‚‚ã®ã§ã¯ãªã„ã®ã§å€‹äººã®åˆ©ç”¨ç¯„å›²ã«ç•™ã‚ã¦ãŠã„ã¦ãã ã•ã„ (è¨˜è¼‰ãƒŸã‚¹ãªã©ã‚ã‚Œã°ç·¨é›†ãƒªã‚¯ã‚¨ã‚¹ãƒˆãã ã•ã„) æ‰‹é †å†…ã§ç‰¹ã«è¨˜è¿°ãŒãªã„å ´åˆã€ãƒªã‚½ãƒ¼ã‚¹ã®ä½œæˆå…ˆãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¯ æ±äº¬ (ap-northeast-1) ã¨ã—ã¾ã™ å„ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã¯å˜ä¸€ã®ã‚³ãƒãƒ³ãƒ‰ã«ãªã£ã¦ã„ã¾ã™ ãŠæ‰‹å…ƒã§å®Ÿè¡Œã™ã‚‹éš›ã¯å„ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å…¨ã¦ã‚³ãƒ”ãƒ¼ã—ã¦å®Ÿè¡Œã—ã¦ãã ã•ã„ (Qiita ã®ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã£ã¦å³ä¸Šã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã¤ã„ã¦ãŸã‚“ã§ã™ã­ã€‚ä¾¿åˆ©) å…¨ã¦ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®åŒä¸€ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§å®Ÿè¡Œã—ã¦ãã ã•ã„ (ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ™‚ã«ä½¿ç”¨ã™ã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’å¤‰æ•°ã«è¨­å®šã—ã¦åˆ©ç”¨ã™ã‚‹ãŸã‚) æ‰‹é †ã®æ›¸ãæ–¹ã«ã¤ã„ã¦ã¯ JASW-UG CLI å°‚é–€æ”¯éƒ¨ ã®ãƒãƒ³ã‚ºã‚ªãƒ³è³‡æ–™ã‚’å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ã¦ã¾ã™ï¼ 1. ACM ã§ Certificate (SSL è¨¼æ˜æ›¸) ã‚’ç™ºè¡Œ ACM ã§ Certificate ã‚’ç™ºè¡Œã™ã‚‹ã«ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ãŸã‚ã¨ã«ãƒ‰ãƒ¡ã‚¤ãƒ³æ‰¿èªã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã€ãã‚Œãã‚Œã®æ‰‹é †ã‚’ 1.1 ã¨ 1.2 ã«åˆ†ã‘ã¦ã„ã¾ã™ã€‚\n1.1 è¨¼æ˜æ›¸ç™ºè¡Œã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆ ã¾ãšæœ€åˆã«ã€ Hugo ã§ä½œæˆã—ãŸã‚µã‚¤ãƒˆã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å¯¾ã™ã‚‹ SSL è¨¼æ˜æ›¸ã‚’ ACM (Amazon Certificate Manager) ã§ç™ºè¡Œã—ã¾ã™ã€‚ä»Šå›ã¯ \u0026lt;your-domain\u0026gt; ã¨ã„ã†ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒ Route 53 ã§ç®¡ç†ã•ã‚Œã¦ã„ã‚‹ã¨ã—ã¦ã€ãã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã® hugo.\u0026lt;your-domain\u0026gt; ã¨ã„ã†ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ã‚µã‚¤ãƒˆã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã«ã—ã¦ã¿ã¾ã™ã€‚\nã‚³ãƒãƒ³ãƒ‰ä¸Šã§æ‰±ã„ã‚„ã™ã„ã‚ˆã†ã«ã€å¤‰æ•°ã«ä»£å…¥ã—ã¦ãŠãã¾ã™ã€‚(ä»¥é™ã®æ‰‹é †ã§ã‚‚é©å®œ å¤‰æ•°ã«ä»£å…¥ã—ã¦ã‚³ãƒãƒ³ãƒ‰ã§ä½¿ç”¨ã™ã‚‹å½¢ã‚’ã¨ã‚Šã¾ã™)\nHOSTED_DOMAIN=\u0026#34;\u0026lt;your-domain\u0026gt;\u0026#34; HUGO_DOMAIN=\u0026#34;hugo.${HOSTED_DOMAIN}\u0026#34; Certificate ã®ç™ºè¡Œã«ã¯ acm request-certificate ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã¾ãŸã€ã“ã“ã§ç™ºè¡Œã•ã‚Œã‚‹ Certificate ã¯å¾Œã« CloudFront ã® Distribution ã«ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ã®ã§ã€ ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ (us-east-1) ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\næ¬¡ã®æ‰‹é †ã§ã‚ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ã®æ–¹æ³•ã¨ã—ã¦ã¯ã€ãƒ¡ãƒ¼ãƒ«ã«ã‚ˆã‚‹èªè¨¼ã¨ Route 53 ã«èªè¨¼ç”¨ã® RecordSet ã‚’è¿½åŠ ã™ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã™ãŒã€ä»Šå›ã¯å¾Œè€…ã§èªè¨¼ã—ã¾ã™ã€‚ã“ã‚Œã‚’ --validation-method ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã—ã¾ã™ã€‚\nå®Ÿè¡Œçµæœã¨ã—ã¦ CertificateArn ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã®ã§ã€ä»¥é™ã®æ‰‹é †ã§ä½¿ç”¨ã™ã‚‹ãŸã‚ã«å¤‰æ•°ã«è¨­å®šã—ã¾ã™ã€‚\nSSL_ARN=$( \\ aws acm request-certificate \\ --domain-name ${HUGO_DOMAIN} \\ --validation-method DNS \\ --region us-east-1 \\ --output text) \\ \u0026amp;\u0026amp; echo ${SSL_ARN} ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå®Œäº†ã™ã‚‹ã¨ ARN ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚(************ ã¯ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã§ã™)\narn:aws:acm:us-east-1:************:certificate/fd93963c-91da-4cda-abcd-1234xx9999xx ã‚‚ã—ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸå ´åˆã¯ã€ Certificate ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¸Šé™ã«é”ã—ã¦ã„ã‚‹ã®ã§ã€ä¸Šé™ç·©å’Œã‚’ç”³è«‹ã™ã‚‹ã‹ã€æ—¢å­˜ã® Certificate ã‚’å‰Šé™¤ã—ã¦ãã ã•ã„ã€‚\nAn error occurred (LimitExceededException) when calling the RequestCertificate operation (reached max retries: 2): Cannot request more certificates in this account. Contact Customer Service for details.\nç™ºè¡Œã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã™ã‚‹ã«ã¯ acm describe-certificate ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ç¢ºèªã—ã¾ã™ã€‚\naws acm describe-certificate \\ --certificate-arn ${SSL_ARN} \\ --query \u0026#34;Certificate.Status\u0026#34; \\ --output text \\ --region us-east-1 ç¾æ™‚ç‚¹ã§ã¯ã¾ã ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ãŒã•ã‚Œã¦ã„ãªã„ãŸã‚ã€å®Ÿè¡Œçµæœã¨ã—ã¦ã¯ PENDING_VALIDATION ã¨å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n1.2 ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ã«å¿…è¦ãªãƒ¬ã‚³ãƒ¼ãƒ‰ã®æƒ…å ±ã¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®ç¢ºèªã¨åŒæ§˜ã« acm describe-certificate ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã§ãã¾ã™ã€‚ç¢ºèªã—ãŸã‚ã¨ Route 53 ã«ç™»éŒ²ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã€å‡ºåŠ›çµæœã‚’å¤‰æ•°ã«è¨­å®šã—ã¾ã™ã€‚\nVLIDATION_RECORD_JSON=$( \\ aws acm describe-certificate \\ --certificate-arn ${SSL_ARN} \\ --query \u0026#34;Certificate.DomainValidationOptions[0].ResourceRecord\u0026#34; \\ --region us-east-1) \\ \u0026amp;\u0026amp; VALIDATION_RECORD_NAME=$(echo ${VLIDATION_RECORD_JSON} | jq -r .\u0026#34;Name\u0026#34;) \\ \u0026amp;\u0026amp; VALIDATION_RECORD_TYPE=$(echo ${VLIDATION_RECORD_JSON} | jq -r .\u0026#34;Type\u0026#34;) \\ \u0026amp;\u0026amp; VALIDATION_RECORD_VALUE=$(echo ${VLIDATION_RECORD_JSON} | jq -r .\u0026#34;Value\u0026#34;) \\ \u0026amp;\u0026amp; echo \u0026#34; Name:\\t${VALIDATION_RECORD_NAME} Type:\\t${VALIDATION_RECORD_TYPE} Value:\\t${VALIDATION_RECORD_VALUE}\u0026#34; å®Ÿè¡Œçµæœã¨ã—ã¦ã€ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ç”¨ã®ãƒ¬ã‚³ãƒ¼ãƒ‰æƒ…å ±ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nName:\t_01bca14fa7d9xxxxxxxxxxxxxxxxxxxx.hugo.\u0026lt;your-domain\u0026gt;. Type:\tCNAME Value:\t_10c99aaddfd2xxxxxxxxxxxxxxxxxxxx.wggjkglgrm.acm-validations.aws. ã“ã®ãƒ¬ã‚³ãƒ¼ãƒ‰æƒ…å ±ã‚’ Route 53 ã«ç™»éŒ²ã™ã‚‹ã«ã¯ route53 change-resource-record-set ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ãã®éš›ã«ã€å¯¾è±¡ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã® HostedZoneId ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€äºˆã‚å–å¾—ã—ã¦å¤‰æ•°ã«è¨­å®šã—ã¦ãŠãã¾ã™ã€‚ä½¿ç”¨ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯ route53 list-hosted-zones ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚\nHOSTED_ZONE_ID=$( \\ aws route53 list-hosted-zones \\ --query \u0026#34;HostedZones[?Name==\u0026#39;${HOSTED_DOMAIN}.\u0026#39;].Id\u0026#34; \\ --output text) \\ \u0026amp;\u0026amp; echo ${HOSTED_ZONE_ID} å®Ÿè¡Œçµæœã¨ã—ã¦ã€å¯¾è±¡ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã® HostedZoneId ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n/hostedzone/Z3911234567890 ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ã«å¿…è¦ãªæƒ…å ±ãŒæƒã£ãŸã®ã§ã€èªè¨¼ç”¨ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚\naws route53 change-resource-record-sets \\ --hosted-zone-id ${HOSTED_ZONE_ID} \\ --change-batch \\ \u0026#34;{ \\\u0026#34;Changes\\\u0026#34;: [ { \\\u0026#34;Action\\\u0026#34;: \\\u0026#34;CREATE\\\u0026#34;, \\\u0026#34;ResourceRecordSet\\\u0026#34;: { \\\u0026#34;Name\\\u0026#34;: \\\u0026#34;${VALIDATION_RECORD_NAME}\\\u0026#34;, \\\u0026#34;Type\\\u0026#34;: \\\u0026#34;${VALIDATION_RECORD_TYPE}\\\u0026#34;, \\\u0026#34;TTL\\\u0026#34;: 300, \\\u0026#34;ResourceRecords\\\u0026#34;: [{\\\u0026#34;Value\\\u0026#34;: \\\u0026#34;${VALIDATION_RECORD_VALUE}\\\u0026#34;}] } } ] }\u0026#34; å®Ÿè¡Œçµæœã¨ã—ã¦ã€ RecordSet ã®å¤‰æ›´æƒ…å ±ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n{ \u0026#34;ChangeInfo\u0026#34;: { \u0026#34;Id\u0026#34;: \u0026#34;/change/C0573087HOZHOD5SURWO\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;PENDING\u0026#34;, \u0026#34;SubmittedAt\u0026#34;: \u0026#34;2020-12-02T14:12:55.563000+00:00\u0026#34; } } å®Ÿè¡Œæ™‚ã®å‡ºåŠ›ã§ã¯ Status ãŒ Pending ã¨ãªã£ã¦ã„ã¾ã™ãŒã€ã»ã¼ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«å¤‰æ›´ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚\nã—ã°ã‚‰ãã—ã¦ã‹ã‚‰ Certificate ã®ç™ºè¡Œã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã™ã‚‹ã¨ã€ ISSUED ã«ãªã£ã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã™ã€‚\naws acm describe-certificate \\ --certificate-arn ${SSL_ARN} \\ --query \u0026#34;Certificate.Status\u0026#34; \\ --output text \\ --region us-east-1 ISSUED ã“ã‚Œã§ hugo.\u0026lt;your-domain\u0026gt; ã«å¯¾ã™ã‚‹ Certificate ã®ç™ºè¡ŒãŒå®Œäº†ã—ã¾ã—ãŸã€‚\n2. CloudFront ã§ CloudFrontOriginAccessIdentity ã‚’ä½œæˆ Amazon CloudFront ã§ã¯ Distribution ã¨ CloudFrontOriginAccessIdentity ã¨ã„ã†ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™ãŒã€ã“ã“ã§ã¯ã¾ãš CloudFrontOriginAccessIdentity ã‚’ä½œæˆã—ã¾ã™ã€‚ä½¿ç”¨ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯ aws cloudfront create-cloud-front-origin-access-identity ã§ã™ã€‚å®Ÿè¡Œçµæœã¨ã—ã¦ä½œæˆã•ã‚ŒãŸ CloudFrontOriginIdentity ã®æƒ…å ±ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã®ã§ã€ãã®ä¸­ã‹ã‚‰å¾Œã§ä½¿ç”¨ã™ã‚‹ Id ã‚’å¤‰æ•°ã«è¨­å®šã—ã¾ã™ã€‚\nCFOAI_ID=$( \\ aws cloudfront create-cloud-front-origin-access-identity \\ --cloud-front-origin-access-identity-config \\ CallerReference=\u0026#34;hugo-contents\u0026#34;,Comment=\u0026#34;OAI for Hugo bucket\u0026#34; \\ --query \u0026#34;CloudFrontOriginAccessIdentity.Id\u0026#34; \\ --output text) \\ \u0026amp;\u0026amp; echo ${CFOAI_ID} å®Ÿè¡Œçµæœã¨ã—ã¦ã€ä½œæˆã•ã‚ŒãŸ CloudFrontOriginAccessIdentity ã® Id ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nE3NRXXXXXXXXXX 3. Hugo ã§ç”Ÿæˆã•ã‚ŒãŸé™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã™ã‚‹ S3 Bucket ã‚’ä½œæˆ Hugo ã§ç”Ÿæˆã•ã‚ŒãŸé™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã™ã‚‹ S3 Bucket ã‚’ä½œæˆã—ã¾ã™ã€‚ãƒã‚±ãƒƒãƒˆã‚’ä½œæˆã—ãŸã‚ã¨ã«ã€ä½œæˆã—ãŸãƒã‚±ãƒƒãƒˆã«å¯¾ã—ã¦ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã€ãƒã‚±ãƒƒãƒˆã®ä½œæˆã¨ãƒãƒªã‚·ãƒ¼ã®ã‚¢ã‚¿ãƒƒãƒ ãã‚Œãã‚Œã‚’æ‰‹é † 3.1 ã¨ 3.2 ã¨ã—ã¾ã™ã€‚\n3.1 S3 Bucket ã‚’ä½œæˆ ä½œæˆã™ã‚‹ãƒã‚±ãƒƒãƒˆåã¯ \u0026lt;ã‚µã‚¤ãƒˆã®ãƒ‰ãƒ¡ã‚¤ãƒ³\u0026gt;-\u0026lt;AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID\u0026gt; ã¨ã„ã†åå‰ã«ã—ã¾ã™ã€‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã‚’ä»˜ã‘ã¦ã„ã‚‹ã®ã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªåå‰ã«ã™ã‚‹ãŸã‚ã§ã™ã€‚(ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã‚’ä»˜ã‘ãŸã‚‰å¿…ãšãƒ¦ãƒ‹ãƒ¼ã‚¯ã«ãªã‚‹ã¨ã„ã†ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“)\nAWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã¯ sts get-caller-identity ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œçµæœã«å«ã¾ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã“ã‹ã‚‰æŠœãå‡ºã—ã¾ã™ã€‚\nAWS_ACCOUNT_ID=$( \\ aws sts get-caller-identity \\ --query \u0026#39;Account\u0026#39; \\ --output text ) \\ \u0026amp;\u0026amp; echo ${AWS_ACCOUNT_ID} å®Ÿè¡Œçµæœ\n************ ã‚ã¨ã¯ã€ãƒ‰ãƒ¡ã‚¤ãƒ³åã¨çµåˆã—ãŸã‚‚ã®ã‚’ãƒã‚±ãƒƒãƒˆåã¨ã—ã¦å¤‰æ•°ã«è¨­å®šã—ã¾ã™ã€‚\nS3_BUCKET_NAME=\u0026#34;${HUGO_DOMAIN}-${AWS_ACCOUNT_ID}\u0026#34; echo ${S3_BUCKET_NAME} å®Ÿè¡Œçµæœ\nhugo.\u0026lt;your-domain\u0026gt;-************ S3 Bucket ã‚’ä½œæˆã™ã‚‹ã«ã¯ s3api create-bucket ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»Šå› S3 Bucket ã¯æ±äº¬ (ap-northeast-1) ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ä½œæˆã™ã‚‹ã®ã§ã€ --create-bucket-configuration ã§ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\naws s3api create-bucket \\ --bucket ${S3_BUCKET_NAME} \\ --create-bucket-configuration \u0026#34;LocationConstraint=ap-northeast-1\u0026#34; å®Ÿè¡Œçµæœ\n{ \u0026#34;Location\u0026#34;: \u0026#34;http://hugo.\u0026lt;your-domain\u0026gt;-************.s3.amazonaws.com/\u0026#34; } 3.2 ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒ 3.1 ã§ä½œæˆã—ãŸ S3 Bucket ã«å¯¾ã—ã¦ã¯ã€ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ã‚’ç”¨ã„ã¦æ¬¡ã®ã‚ˆã†ãªã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ã‚’è¨­å®šã—ã¾ã™ã€‚\nãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã‚’ã™ã¹ã¦ãƒ–ãƒ­ãƒƒã‚¯ CloudFront çµŒç”±ã§èª­ã¿è¾¼ã¿å¯èƒ½ 2 ã¤ç›®ã®åˆ¶é™ã‚’è¨­å®šã™ã‚‹ãŸã‚ã«ã€å…ˆã»ã©ä½œæˆã—ãŸ CloudFrontOriginAccessIdentity ã® Id ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚\nãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ã¯ JSON ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä½œæˆã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹ã®ã§ã€ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ bucket-policy.json ã‚’ä½œæˆã—ã¾ã™ã€‚\ncat \u0026lt;\u0026lt; EOF \u0026gt; bucket-policy.json { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;2\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;AWS\u0026#34;: \u0026#34;arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity ${CFOAI_ID}\u0026#34; }, \u0026#34;Action\u0026#34;: [ \u0026#34;s3:GetObject\u0026#34;, \u0026#34;s3:ListBucket\u0026#34; ], \u0026#34;Resource\u0026#34;: [ \u0026#34;arn:aws:s3:::${S3_BUCKET_NAME}/*\u0026#34;, \u0026#34;arn:aws:s3:::${S3_BUCKET_NAME}\u0026#34; ] } ] } EOF ä¸­èº«ã‚’ç¢ºèªã—ã¾ã™ã€‚\ncat ./bucket-policy.json å®Ÿè¡Œçµæœ\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;2\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;AWS\u0026#34;: \u0026#34;arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3NRXXXXXXXXXX\u0026#34; }, \u0026#34;Action\u0026#34;: [ \u0026#34;s3:GetObject\u0026#34;, \u0026#34;s3:ListBucket\u0026#34; ], \u0026#34;Resource\u0026#34;: [ \u0026#34;arn:aws:s3:::hugo.\u0026lt;your-domain\u0026gt;-************/*\u0026#34;, \u0026#34;arn:aws:s3:::hugo.\u0026lt;your-domain\u0026gt;-************\u0026#34; ] } ] } ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ã®ã‚¢ã‚¿ãƒƒãƒã«ã¯ s3api put-bucket-policy ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\naws s3api put-bucket-policy \\ --bucket ${S3_BUCKET_NAME} \\ --policy file://bucket-policy.json å‡ºåŠ›ã¯ãªã«ã‚‚ãªã„ã®ã§ã€ s3api get-bucket-policy ã‚³ãƒãƒ³ãƒ‰ã§æ­£ã—ãã‚¢ã‚¿ãƒƒãƒã•ã‚ŒãŸã‹ã©ã†ã‹ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚\naws s3api get-bucket-policy \\ --bucket ${S3_BUCKET_NAME} å®Ÿè¡Œçµæœ\n{ \u0026#34;Policy\u0026#34;: \u0026#34;{\\\u0026#34;Version\\\u0026#34;:\\\u0026#34;2012-10-17\\\u0026#34;,\\\u0026#34;Statement\\\u0026#34;:[{\\\u0026#34;Sid\\\u0026#34;:\\\u0026#34;2\\\u0026#34;,\\\u0026#34;Effect\\\u0026#34;:\\\u0026#34;Allow\\\u0026#34;,\\\u0026#34;Principal\\\u0026#34;:{\\\u0026#34;AWS\\\u0026#34;:\\\u0026#34;arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3NRXXXXXXXXXX\\\u0026#34;},\\\u0026#34;Action\\\u0026#34;:[\\\u0026#34;s3:GetObject\\\u0026#34;,\\\u0026#34;s3:ListBucket\\\u0026#34;],\\\u0026#34;Resource\\\u0026#34;:[\\\u0026#34;arn:aws:s3:::hugo.\u0026lt;your-domain\u0026gt;-************/*\\\u0026#34;,\\\u0026#34;arn:aws:s3:::hugo.\u0026lt;your-domain\u0026gt;-************\\\u0026#34;]}]}\u0026#34; } ã¡ã‚‡ã£ã¨è¦‹ã«ãã„ã§ã™ãŒã€ã‚¢ã‚¿ãƒƒãƒã§ãã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\n4. CloudFront ã§ Distribution ã‚’ä½œæˆ Distribution ã‚’ä½œæˆ ã¨ç°¡å˜ã«æ›¸ã„ã¦ã„ã¾ã™ãŒã€è¨­å®šé …ç›®ãŒéå¸¸ã«å¤šã„ã§ã™ã€‚Distribution ãŒæŒã£ã¦ã„ã‚‹è¦ç´ ã¨ã—ã¦ã¯æ¬¡ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚\nAlias : ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã®æƒ…å ± DefaultCacheBehavior : ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® Behavior Origins : ã‚ªãƒªã‚¸ãƒ³ã®æƒ…å ± HttpVersion : è¨±å¯ã™ã‚‹ HTTP ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ ã“ã‚Œã‚‰ä»¥å¤–ã«ã‚‚å¤šãã®è¨­å®šé …ç›®ãŒã‚ã‚Šã¾ã™ãŒã€ãã‚Œã‚‰ã¯ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã™ã‚‹ã®ã§ã¯ãªãã€ã‚ã‚‰ã‹ã˜ã‚ JSON ãƒ•ã‚¡ã‚¤ãƒ« (distribution-config.json) ã¨ã—ã¦ä½œæˆã—ã¦ãŠãã¾ã™ã€‚ã™ã¹ã¦ã®é …ç›®ã‚’è¨­å®šã™ã‚‹ã¨å¤§å¤‰ãªã®ã§ã€çœç•¥å¯èƒ½ãªã‚‚ã®ã¯çœç•¥ã—ã¦ã„ã¾ã™ã€‚\ncat \u0026lt;\u0026lt; EOF \u0026gt; distribution-config.json { \u0026#34;Aliases\u0026#34;: { \u0026#34;Quantity\u0026#34;: 1, \u0026#34;Items\u0026#34;: [ \u0026#34;${HUGO_DOMAIN}\u0026#34; ] }, \u0026#34;DefaultRootObject\u0026#34;: \u0026#34;index.html\u0026#34;, \u0026#34;Origins\u0026#34;: { \u0026#34;Quantity\u0026#34;: 1, \u0026#34;Items\u0026#34;: [ { \u0026#34;Id\u0026#34;: \u0026#34;S3-${S3_BUCKET_NAME}\u0026#34;, \u0026#34;DomainName\u0026#34;: \u0026#34;${S3_BUCKET_NAME}.s3.amazonaws.com\u0026#34;, \u0026#34;S3OriginConfig\u0026#34;: { \u0026#34;OriginAccessIdentity\u0026#34;: \u0026#34;origin-access-identity/cloudfront/${CFOAI_ID}\u0026#34; } } ] }, \u0026#34;DefaultCacheBehavior\u0026#34;: { \u0026#34;TargetOriginId\u0026#34;: \u0026#34;S3-${S3_BUCKET_NAME}\u0026#34;, \u0026#34;ViewerProtocolPolicy\u0026#34;: \u0026#34;redirect-to-https\u0026#34;, \u0026#34;AllowedMethods\u0026#34;: { \u0026#34;Quantity\u0026#34;: 2, \u0026#34;Items\u0026#34;: [ \u0026#34;HEAD\u0026#34;, \u0026#34;GET\u0026#34; ], \u0026#34;CachedMethods\u0026#34;: { \u0026#34;Quantity\u0026#34;: 2, \u0026#34;Items\u0026#34;: [ \u0026#34;HEAD\u0026#34;, \u0026#34;GET\u0026#34; ] } }, \u0026#34;ForwardedValues\u0026#34;: { \u0026#34;QueryString\u0026#34;: false, \u0026#34;Cookies\u0026#34;: { \u0026#34;Forward\u0026#34;: \u0026#34;none\u0026#34; }, \u0026#34;Headers\u0026#34;: { \u0026#34;Quantity\u0026#34;: 0 }, \u0026#34;QueryStringCacheKeys\u0026#34;: { \u0026#34;Quantity\u0026#34;: 0 } }, \u0026#34;MinTTL\u0026#34;: 0, \u0026#34;DefaultTTL\u0026#34;: 60, \u0026#34;MaxTTL\u0026#34;: 300 }, \u0026#34;Enabled\u0026#34;: true, \u0026#34;ViewerCertificate\u0026#34;: { \u0026#34;CloudFrontDefaultCertificate\u0026#34;: false, \u0026#34;ACMCertificateArn\u0026#34;: \u0026#34;${SSL_ARN}\u0026#34;, \u0026#34;SSLSupportMethod\u0026#34;: \u0026#34;sni-only\u0026#34;, \u0026#34;MinimumProtocolVersion\u0026#34;: \u0026#34;TLSv1.1_2016\u0026#34;, \u0026#34;Certificate\u0026#34;: \u0026#34;${SSL_ARN}\u0026#34;, \u0026#34;CertificateSource\u0026#34;: \u0026#34;acm\u0026#34; }, \u0026#34;HttpVersion\u0026#34;: \u0026#34;http2\u0026#34;, \u0026#34;IsIPV6Enabled\u0026#34;: true, \u0026#34;CallerReference\u0026#34;: \u0026#34;hugo-distribution\u0026#34;, \u0026#34;Comment\u0026#34;: \u0026#34;Distribution for Hugo site\u0026#34; } EOF ä¸­èº«ã‚’ç¢ºèªã—ã¾ã™ã€‚\ncat distribution-config.json å®Ÿè¡Œçµæœ\n{ \u0026#34;Aliases\u0026#34;: { \u0026#34;Quantity\u0026#34;: 1, \u0026#34;Items\u0026#34;: [ \u0026#34;hugo.\u0026lt;your-domain\u0026gt;\u0026#34; ] }, \u0026#34;DefaultRootObject\u0026#34;: \u0026#34;index.html\u0026#34;, \u0026#34;Origins\u0026#34;: { \u0026#34;Quantity\u0026#34;: 1, \u0026#34;Items\u0026#34;: [ { \u0026#34;Id\u0026#34;: \u0026#34;S3-hugo.\u0026lt;your-domain\u0026gt;-************\u0026#34;, \u0026#34;DomainName\u0026#34;: \u0026#34;hugo.\u0026lt;your-domain\u0026gt;-************.s3.amazonaws.com\u0026#34;, \u0026#34;S3OriginConfig\u0026#34;: { \u0026#34;OriginAccessIdentity\u0026#34;: \u0026#34;origin-access-identity/cloudfront/E3NRXXXXXXXXXX\u0026#34; } } ] }, \u0026#34;DefaultCacheBehavior\u0026#34;: { \u0026#34;TargetOriginId\u0026#34;: \u0026#34;S3-hugo.\u0026lt;your-domain\u0026gt;-************\u0026#34;, \u0026#34;ViewerProtocolPolicy\u0026#34;: \u0026#34;redirect-to-https\u0026#34;, \u0026#34;AllowedMethods\u0026#34;: { \u0026#34;Quantity\u0026#34;: 2, \u0026#34;Items\u0026#34;: [ \u0026#34;HEAD\u0026#34;, \u0026#34;GET\u0026#34; ], \u0026#34;CachedMethods\u0026#34;: { \u0026#34;Quantity\u0026#34;: 2, \u0026#34;Items\u0026#34;: [ \u0026#34;HEAD\u0026#34;, \u0026#34;GET\u0026#34; ] } }, \u0026#34;ForwardedValues\u0026#34;: { \u0026#34;QueryString\u0026#34;: false, \u0026#34;Cookies\u0026#34;: { \u0026#34;Forward\u0026#34;: \u0026#34;none\u0026#34; }, \u0026#34;Headers\u0026#34;: { \u0026#34;Quantity\u0026#34;: 0 }, \u0026#34;QueryStringCacheKeys\u0026#34;: { \u0026#34;Quantity\u0026#34;: 0 } }, \u0026#34;MinTTL\u0026#34;: 0, \u0026#34;DefaultTTL\u0026#34;: 60, \u0026#34;MaxTTL\u0026#34;: 300 }, \u0026#34;Enabled\u0026#34;: true, \u0026#34;ViewerCertificate\u0026#34;: { \u0026#34;CloudFrontDefaultCertificate\u0026#34;: false, \u0026#34;ACMCertificateArn\u0026#34;: \u0026#34;arn:aws:acm:us-east-1:************:certificate/fd93963c-91da-4cda-abcd-1234xx9999xx\u0026#34;, \u0026#34;SSLSupportMethod\u0026#34;: \u0026#34;sni-only\u0026#34;, \u0026#34;MinimumProtocolVersion\u0026#34;: \u0026#34;TLSv1.1_2016\u0026#34;, \u0026#34;Certificate\u0026#34;: \u0026#34;arn:aws:acm:us-east-1:************:certificate/fd93963c-91da-4cda-abcd-1234xx9999xx\u0026#34;, \u0026#34;CertificateSource\u0026#34;: \u0026#34;acm\u0026#34; }, \u0026#34;HttpVersion\u0026#34;: \u0026#34;http2\u0026#34;, \u0026#34;IsIPV6Enabled\u0026#34;: true, \u0026#34;CallerReference\u0026#34;: \u0026#34;hugo-distribution\u0026#34;, \u0026#34;Comment\u0026#34;: \u0026#34;Distribution for Hugo site\u0026#34; } Distribution ã®ä½œæˆã«ã¯ cloudfront create-distribution ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\naws cloudfront create-distribution \\ --distribution-config file://distribution-config.json å®Ÿè¡Œçµæœã¨ã—ã¦ã€ä½œæˆã•ã‚ŒãŸ Distribution ã®ã™ã¹ã¦ã®æƒ…å ±ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ãŒã€ã“ã“ã§ã¯å‡ºåŠ›çµæœã®è¨˜è¿°ã¯çœç•¥ã—ã¾ã™)\ncloudfront list-distributions ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€ Distribution ãŒæ­£ã—ãä½œæˆã§ããŸã“ã¨ã®ç¢ºèªã‚‚å…¼ã­ã¦ã€å¾Œã«ä½¿ç”¨ã™ã‚‹ Distribution ã® DomainName ã‚’å–å¾—ã—ã¾ã™ã€‚\nCF_DOMAIN_NAME=$(aws cloudfront list-distributions \\ --query \u0026#34;DistributionList.Items[?Aliases.Items[0]==\u0026#39;${HUGO_DOMAIN}\u0026#39;].DomainName\u0026#34; \\ --output text ) \\ \u0026amp;\u0026amp; echo ${CF_DOMAIN_NAME} å®Ÿè¡Œçµæœ\nd1xxxxxxxxxxxx.cloudfront.net 5. Route 53 ã« RecordSet ã‚’ä½œæˆ Hugo ã§ç”Ÿæˆã—ãŸã‚µã‚¤ãƒˆã«å½“ã¦ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ Route 53 ã® RecordSet ã¨ã—ã¦è¿½åŠ ã—ã¾ã™ã€‚ã¨è¨€ã£ã¦ã‚‚ã€ SSL è¨¼æ˜æ›¸ç™ºè¡Œæ‰‹é †ã®ä¸­ã§ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ã®ãŸã‚ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ãŸã®ã§ã€ã‚³ãƒãƒ³ãƒ‰ã¯ãã‚Œã¨ã»ã¼åŒã˜ã§ã™ã€‚ ä»Šå›ã¯ RecordSet ã® Type ãŒ A ã€ã¤ã¾ã‚Š Alias ãƒ¬ã‚³ãƒ¼ãƒ‰ã«ãªã‚‹ã®ã§ã€ AliasTarget ã¨ã—ã¦ãƒ¬ã‚³ãƒ¼ãƒ‰ã®æƒ…å ±ã‚’æŒ‡å®šã—ã¾ã™ã€‚\naws route53 change-resource-record-sets \\ --hosted-zone-id ${HOSTED_ZONE_ID} \\ --change-batch \\ \u0026#34;{ \\\u0026#34;Changes\\\u0026#34;: [ { \\\u0026#34;Action\\\u0026#34;: \\\u0026#34;CREATE\\\u0026#34;, \\\u0026#34;ResourceRecordSet\\\u0026#34;: { \\\u0026#34;Name\\\u0026#34;: \\\u0026#34;${HUGO_DOMAIN}\\\u0026#34;, \\\u0026#34;Type\\\u0026#34;: \\\u0026#34;A\\\u0026#34;, \\\u0026#34;AliasTarget\\\u0026#34;: { \\\u0026#34;HostedZoneId\\\u0026#34;: \\\u0026#34;Z2FDTNDATAQYW2\\\u0026#34;, \\\u0026#34;DNSName\\\u0026#34;: \\\u0026#34;${CF_DOMAIN_NAME}\\\u0026#34;, \\\u0026#34;EvaluateTargetHealth\\\u0026#34;: false } } } ] }\u0026#34; å®Ÿè¡Œçµæœ\n{ \u0026#34;ChangeInfo\u0026#34;: { \u0026#34;Id\u0026#34;: \u0026#34;/change/C0557598RTB2IBN8A248\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;PENDING\u0026#34;, \u0026#34;SubmittedAt\u0026#34;: \u0026#34;2020-12-03T15:57:20.421000+00:00\u0026#34; } } 6. è¨­å®šã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‹ç¢ºèª Hugo ã®ã‚µã‚¤ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹å‰ã«ã€ã‚·ãƒ³ãƒ—ãƒ«ãª HTML ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ã„ã¦ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\ncat \u0026lt;\u0026lt; EOF \u0026gt; index.html \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Hello Hugo!\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;h1\u0026gt;Hello Hugo!\u0026lt;/h1\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; EOF S3 Bucket ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚\naws s3 cp index.html s3://${S3_BUCKET_NAME}/ å®Ÿè¡Œçµæœ\nupload: ./index.html to s3://hugo.\u0026lt;your-domain\u0026gt;-************/index.html ãƒ–ãƒ©ã‚¦ã‚¶ç­‰ã§è¨­å®šã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ç¢ºèªã—ã¾ã™ã€‚ã“ã“ã§ã¯ curl ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\ncurl -i https://${HUGO_DOMAIN} å®Ÿè¡Œçµæœ\nHTTP/2 200 content-type: text/html content-length: 148 last-modified: Thu, 03 Dec 2020 16:03:06 GMT accept-ranges: bytes server: AmazonS3 date: Thu, 03 Dec 2020 16:06:17 GMT etag: \u0026#34;630ccccc8ccc651b9ccccbf1bf364c8c\u0026#34; x-cache: Hit from cloudfront via: 1.1 a8f6d439d4b35a734e48cf0ced363c2d.cloudfront.net (CloudFront) x-amz-cf-pop: NRT57-C2 x-amz-cf-id: odV08a6Fk2TZXDmyRxarBGbHH-Xv_gMz6_AL1c7Ww1V_Erz3PxJhKA== age: 37 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Hello Hugo!\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;h1\u0026gt;Hello Hugo!\u0026lt;/h1\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ç„¡äº‹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã—ãŸã€‚å ´åˆã«ã‚ˆã£ã¦ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã¾ã§æ•°åˆ†ã‹ã‚‰æ•°æ™‚é–“ã‹ã‹ã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚\nHugo ã§ç”Ÿæˆã—ãŸã‚µã‚¤ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ã‚‹ ã§ã¯æœ€å¾Œã« Hugo ã§ã‚µã‚¤ãƒˆã‚’ç”Ÿæˆã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ã¾ã™ã€‚ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ã€ Hugo å…¬å¼ã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ ã®é€šã‚Šã«ã‚µã‚¤ãƒˆã‚’ç”Ÿæˆã—ã¦ã‚µãƒ³ãƒ—ãƒ«ã®æŠ•ç¨¿ã‚’ä½œã£ã¦ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨ã“ã‚ã¾ã§ã‚„ã£ã¦ã„ã¾ã™ã€‚(é€”ä¸­ã¡ã‚‡ã£ã¨ãŠã¾ã˜ãªã„ã‚’å…¥ã‚Œã¦ã¾ã™ 1 )\nhugo new site hugo-sample \\ \u0026amp;\u0026amp; cd hugo-sample \\ \u0026amp;\u0026amp; git init \\ \u0026amp;\u0026amp; git submodule add https://github.com/budparr/gohugo-theme-ananke.git themes/ananke \\ \u0026amp;\u0026amp; echo \u0026#39;theme = \u0026#34;ananke\u0026#34;\u0026#39; \u0026gt;\u0026gt; config.toml \\ \u0026amp;\u0026amp; sed -i -r \u0026#34;s/http:\\/\\/example.org/https:\\/\\/${HUGO_DOMAIN}/\u0026#34; config.toml \\ \u0026amp;\u0026amp; sed -i -r \u0026#39;s/draft: true/draft: false\\ url: \u0026#34;\\/{{ .Type }}\\/{{ .Name}}.html\u0026#34;/g\u0026#39; archetypes/default.md \\ \u0026amp;\u0026amp; hugo new posts/my-first-post.md \\ \u0026amp;\u0026amp; hugo ç¶šã„ã¦ã€ S3 Bucket ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚\naws s3 sync public/ s3://${S3_BUCKET_NAME}/ CloudFront ã«å…ˆã»ã©ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒæ®‹ã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€ cloudfront create-invalidation ã‚³ãƒãƒ³ãƒ‰ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã™ã€‚ãã®éš›ã€å¯¾è±¡ã® Distribution ã® Id ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€ DomainName ã‚’å–å¾—ã—ãŸã¨ãã¨åŒã˜æ–¹æ³•ã§å¤‰æ•°ã«è¨­å®šã—ã¾ã™ã€‚\nCF_DIST_ID=$(aws cloudfront list-distributions \\ --query \u0026#34;DistributionList.Items[?Aliases.Items[0]==\u0026#39;${HUGO_DOMAIN}\u0026#39;].Id\u0026#34; \\ --output text ) \\ \u0026amp;\u0026amp; echo ${CF_DIST_ID} å®Ÿè¡Œçµæœ\nE3QDXXXXXXXXXX ã“ã®å¤‰æ•°ã‚’ç”¨ã„ã¦ cloudfront create-invalidation ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\naws cloudfront create-invalidation \\ --distribution-id ${CF_DIST_ID} \\ --paths \u0026#34;/*\u0026#34; å®Ÿè¡Œçµæœã¨ã—ã¦ã€ç™ºè¡Œã—ãŸ Invalidation ã®æƒ…å ±ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n{ \u0026#34;Location\u0026#34;: \u0026#34;https://cloudfront.amazonaws.com/2020-05-31/distribution/E3QDXXXXXXXXXX/invalidation/I394QPIOSBJY5Y\u0026#34;, \u0026#34;Invalidation\u0026#34;: { \u0026#34;Id\u0026#34;: \u0026#34;I394QPIOSBJY5Y\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;InProgress\u0026#34;, \u0026#34;CreateTime\u0026#34;: \u0026#34;2020-12-03T16:42:29.295000+00:00\u0026#34;, \u0026#34;InvalidationBatch\u0026#34;: { \u0026#34;Paths\u0026#34;: { \u0026#34;Quantity\u0026#34;: 1, \u0026#34;Items\u0026#34;: [ \u0026#34;/*\u0026#34; ] }, \u0026#34;CallerReference\u0026#34;: \u0026#34;cli-1607013748-344932\u0026#34; } } } Invalidation ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¯ cloudfront list-invalidations ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã—ã¾ã™ã€‚\naws cloudfront list-invalidations \\ --distribution-id ${CF_DIST_ID} å®Ÿè¡Œçµæœ\n{ \u0026#34;InvalidationList\u0026#34;: { \u0026#34;Items\u0026#34;: [ { \u0026#34;Id\u0026#34;: \u0026#34;I394QPIOSBJY5Y\u0026#34;, \u0026#34;CreateTime\u0026#34;: \u0026#34;2020-12-03T16:42:29.295000+00:00\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;Completed\u0026#34; } ] } } ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ Completed ã«ãªã£ãŸã‚‰ã€ä»Šåº¦ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚\nãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ãŒè¦‹ãˆã¦ã„ã¾ã™ã­ ğŸ‰\nè¨˜äº‹ãƒšãƒ¼ã‚¸ã‚‚è¦‹ãˆã¦ã„ã¾ã™ã­ ğŸ‰\nä»¥ä¸Šã§ Hugo ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ç’°å¢ƒã®æ§‹ç¯‰ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ãŠç–²ã‚Œã•ã¾ã§ã—ãŸã€‚ä»Šå›ä½œæˆã—ãŸãƒªã‚½ãƒ¼ã‚¹ã«å¯¾ã—ã¦ç™ºç”Ÿã™ã‚‹ã‚³ã‚¹ãƒˆã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚(ãƒ‰ãƒ¡ã‚¤ãƒ³ã®æº–å‚™ã¯äº‹å‰æº–å‚™ã«å«ã¾ã‚Œã‚‹ã®ã§ã€ãƒ‰ãƒ¡ã‚¤ãƒ³è‡ªä½“ã®æ–™é‡‘ã¨ Route 53 ã® HostedZone ã«ã‹ã‹ã‚‹ã‚³ã‚¹ãƒˆã‚‚é™¤å¤–ã—ã¦ã„ã¾ã™)\nAmazon CloudFront ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¿œã˜ãŸã‚³ã‚¹ãƒˆ Amazon S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚µã‚¤ã‚ºã«å¿œã˜ãŸã‚³ã‚¹ãƒˆ ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«å¯¾ã—ã¦ç™ºç”Ÿã™ã‚‹ã‚³ã‚¹ãƒˆ S3 Bucket ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ Put ã™ã‚‹éš›ã«ç™ºç”Ÿã™ã‚‹ã‚³ã‚¹ãƒˆ ã¨ã„ã£ã¦ã‚‚ã€ãã‚Œãã‚Œç™ºç”Ÿã™ã‚‹ã‚³ã‚¹ãƒˆã¯å¾®ã€…ãŸã‚‹ã‚‚ã®ã§ã™ã€‚ã“ã®æ§‹æˆã§ç™ºç”Ÿã™ã‚‹ã‚³ã‚¹ãƒˆã«ã¤ã„ã¦ã¯ä»¥å‰ã«å€‹äººãƒ–ãƒ­ã‚°ã®æ–¹ã«æ›¸ã„ãŸã®ã§ã€å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚\nCloudFront \u0026#43; S3 ã§ãƒ–ãƒ­ã‚°ã‚’é‹ç”¨ã—å§‹ã‚ã¦ 1 ãƒ¶æœˆçµŒã¤ã®ã§ã€ã‹ã‹ã£ãŸè²»ç”¨ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã£ã¦ã¿ãŸ - michimani.net ã“ã‚Œã§ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã™ã‚‹å ´ãŒå®Œæˆã—ãŸã®ã§ã€ã©ã‚“ã©ã‚“ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã—ã¦ã„ãã¾ã—ã‚‡ã†ï¼\nã“ã®æ§‹æˆã‚’æˆé•·ã•ã›ã‚‹ ä»Šå› æ§‹ç¯‰ã—ãŸæ§‹æˆã¯æœ€ä½é™ã®å†…å®¹ã«ãªã£ã¦ã„ã¾ã™ã€‚ãƒ–ãƒ­ã‚°ã¨ã—ã¦è¨˜äº‹ã‚’æ›¸ãå´ã¨ã—ã¦ã‚‚èª­ã‚€å´ã¨ã—ã¦ã‚‚ã€æ”¹å–„ã—ã¦ã„ãéƒ¨åˆ†ã¯ã„ãã¤ã‹ã‚ã‚‹ã®ã§ã€éå»ã«å€‹äººãƒ–ãƒ­ã‚°ã§ã‚„ã£ã¦ããŸå†…å®¹ã‚’ä¾‹ã¨ã—ã¦æŒ™ã’ã¦ãŠãã¾ã™ã€‚\nãƒ‡ãƒ—ãƒ­ã‚¤ã®è‡ªå‹•åŒ– ä»Šå›ã®æ‰‹é †ã§ã¯ã€Hugo ã§ç”Ÿæˆã—ãŸé™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹éš› s3 sync ã‚³ãƒãƒ³ãƒ‰ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ cloudfront create-invalidation ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ã—ã¦ã„ã¾ã—ãŸãŒã€æ¯å›ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã®ã¯é¢å€’ã§ã™ã€‚ã“ã‚Œã‚‰ã‚’è‡ªå‹•åŒ–ã™ã‚‹ãŸã‚ã«ã€ GitHub ã¸ã® Push ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦ã€ AWS CodeBuild ã‚’èµ·å‹•ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨ã„ã†æ§‹æˆãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚\nã“ã‚Œã«é–¢ã—ã¦ã¯ä»¥å‰ã«å€‹äººãƒ–ãƒ­ã‚°ã«æ›¸ã„ã¦ã„ã‚‹ã®ã§ã€å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nHugo ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ã« CodePipeline ã‚’ã‚„ã‚ã¦ CodeBuild ã ã‘ã‚’ä½¿ã†ã‚ˆã†ã«ã—ãŸ - michimani.net Git ãƒªãƒã‚¸ãƒˆãƒªã¨ã—ã¦ AWS CodeCommit ã‚’ä½¿ã†å ´åˆã¯ AWS CodePipeline ã‚’ã‚ã‚ã›ã¦ä½¿ã†ã¨æ¥½ã«ãªã‚Šã¾ã™ã€‚ã“ã¡ã‚‰ã‚‚å‚è€ƒè¨˜äº‹ã‚’è¼‰ã›ã¦ãŠãã¾ã™ã€‚\nAWS CDK ã§ Hugo ã®ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã¨ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ç’°å¢ƒã‚’ä½œã£ã¦ã¿ãŸ - michimani.net URL ã®æ­£è¦åŒ– CloudFront + S3 ã§é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ä¿¡ã™ã‚‹éš›ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æŒ™å‹•ãŒé€šå¸¸ã® Web ã‚µãƒ¼ãƒãƒ¼ã¨ã¯ç•°ãªã‚Šã¾ã™ã€‚ã¨ã„ã†ã®ã¯ã€ /index.html ã‚’çœç•¥ã—ã¦ãã‚Œãªã„å ´åˆãŒå­˜åœ¨ã™ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚ CloudFront ã®ã‚¨ãƒƒã‚¸ã‚µãƒ¼ãƒãƒ¼ã§å‹•ã Lambda@Edge ã‚’ä½¿ãˆã°ãã®ã‚ãŸã‚Šã‚’ä¸Šæ‰‹ãèª¿æ•´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nLambda@Edge ã§é™çš„ã‚µã‚¤ãƒˆã® URL ã‚’æ­£è¦åŒ–ã™ã‚‹ - michimani.net ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æœ€é©åŒ– ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ä¸€è¨€ã§è¨€ã£ã¦ã‚‚ã€ã‚µãƒ¼ãƒãƒ¼å´ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œã‚‰ã‚’é©åˆ‡ã«è¨­å®šã™ã‚‹ã“ã¨ã§ã€ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãã‚‹äººã®ä½“é¨“å‘ä¸Šã«ç¹‹ãŒã‚Šã¾ã™ã€‚ã‚µãƒ¼ãƒãƒ¼å´ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã¤ã„ã¦ã¯ CloudFront ã® Distribution ã§è¨­å®šã—ã¾ã™ã€‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ™‚é–“ã€ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚„ãƒ˜ãƒƒãƒ€ãƒ¼æƒ…å ±ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ã‹ã©ã†ã‹ã®è¨­å®šãªã©ãŒã‚ã£ã¦ã¡ã‚‡ã£ã¨è¤‡é›‘ãªã®ã§ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚„ä»¥å‰ã¾ã¨ã‚ãŸè¨˜äº‹ã‚’å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nAmazon CloudFront ã¨ã¯ä½•ã§ã™ã‹? - Amazon CloudFront Amazon CloudFront ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä»•æ§˜ã«ã¤ã„ã¦ã‚ã‚‰ãŸã‚ã¦èª¿ã¹ã¦ã¿ãŸ - michimani.net ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã¤ã„ã¦ã¯ã€ S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦è¨­å®šã—ã¾ã™ã€‚ãã“ã§è¨­å®šã—ãŸå€¤ã¨ CloudFront ã®è¨­å®šã«ã‚ˆã£ã¦æŒ™å‹•ãŒæ±ºã¾ã‚‹ã®ã§ã€ä¸Šè¨˜ã®ãƒšãƒ¼ã‚¸ã«åŠ ãˆã¦ä¸‹è¨˜ã®ãƒšãƒ¼ã‚¸ã‚‚å‚è€ƒã«ãªã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚\n[Hugo] é™çš„ã‚µã‚¤ãƒˆã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã«ã¤ã„ã¦ - michimani.net ãƒªã‚½ãƒ¼ã‚¹ã®å‰Šé™¤ ã“ã®ã¾ã¾ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã—ã¾ã—ã‚‡ã†ï¼ã¨ã‹æˆé•·ã•ã›ã¾ã—ã‚‡ã†ï¼ã¨ã‹æ›¸ã„ã¦ãŠã„ã¦ã‚ã‚Œãªã‚“ã§ã™ãŒã€ã›ã£ã‹ããƒãƒ³ã‚ºã‚ªãƒ³ã£ã½ã„å†…å®¹ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€æœ€å¾Œã«ä»Šå›ä½œæˆã—ãŸãƒªã‚½ãƒ¼ã‚¹ã‚’å‰Šé™¤ã™ã‚‹æ‰‹é †ã‚‚æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nãƒªã‚½ãƒ¼ã‚¹ã‚’å‰Šé™¤ã™ã‚‹é †ç•ªã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚åŸºæœ¬çš„ã«ãƒªã‚½ãƒ¼ã‚¹ã®ä½œæˆã¨é€†ã®é †åºã§å‰Šé™¤ã—ã¦ã„ãã¾ã™ã€‚\nS3 Bucket ã‚’å‰Šé™¤ Route 53 ã® RecordSet ã‚’å‰Šé™¤ CloudFront ã® Distribution ã‚’å‰Šé™¤ CloudFront ã® CloudFrontOriginAccessIdentity ã‚’å‰Šé™¤ ACM ã® Certificate ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ç”¨ã® RecordSet ã‚’å‰Šé™¤ 1. S3 Bucket ã‚’å‰Šé™¤ ã¾ãšã¯ S3 Bucket ã‚’å‰Šé™¤ã—ã¾ã™ãŒã€å‰Šé™¤ã™ã‚‹ã«ã¯ S3 Bucket ãŒç©ºã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãŸã ã— S3 Bucket ã‚’ç©ºã«ã™ã‚‹ ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ã¯å­˜åœ¨ã—ãªã„ã®ã§ã€æ—¢å­˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ã™ã¹ã¦ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å‰Šé™¤ã—ã¾ã™ã€‚\nS3 Bucket å†…ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã™ã¹ã¦å‰Šé™¤ã™ã‚‹ã«ã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ç©ºã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦ s3 sync ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹æ–¹æ³•ã¨ã€ã™ã¹ã¦ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦ s3api delete-object ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚ ä»Šå›ã¯å‰è€…ã®æ–¹æ³•ã§å®Ÿè¡Œã—ã¾ã™ã€‚\nã‚ã‚‰ãŸã‚ã¦å¿…è¦ãªæƒ…å ±ã¯å¤‰æ•°ã«å®šç¾©ã—ã¦é€²ã‚ã¦ã„ãã¾ã™ã€‚\nHOSTED_DOMAIN=\u0026#34;\u0026lt;your-domain\u0026gt;\u0026#34; HUGO_DOMAIN=\u0026#34;hugo.${HOSTED_DOMAIN}\u0026#34; AWS_ACCOUNT_ID=$( \\ aws sts get-caller-identity \\ --query \u0026#39;Account\u0026#39; \\ --output text ) S3_BUCKET_NAME=\u0026#34;${HUGO_DOMAIN}-${AWS_ACCOUNT_ID}\u0026#34; \\ \u0026amp;\u0026amp; echo \u0026#34; HOSTED_DOMAIN\\t= ${HOSTED_DOMAIN} HUGO_DOMAIN\\t= ${HUGO_DOMAIN} AWS_ACCOUNT_ID\\t= ${AWS_ACCOUNT_ID} S3_BUCKET_NAME\\t= ${S3_BUCKET_NAME}\u0026#34; HOSTED_DOMAIN = \u0026lt;your-domain\u0026gt; HUGO_DOMAIN = hugo.\u0026lt;your-domain\u0026gt; AWS_ACCOUNT_ID\t= ************ S3_BUCKET_NAME\t= hugo.\u0026lt;your-domain\u0026gt;-************ s3 sync ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã™ã¹ã¦å‰Šé™¤ã™ã‚‹ã«ã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ã§é©å½“ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã€ãã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨å¯¾è±¡ã® S3 Bucket ã‚’ s3 sync ã‚³ãƒãƒ³ãƒ‰ã« --delete ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¦åŒæœŸã—ã¾ã™ã€‚\nmkdir -p empty_dir \\ \u0026amp;\u0026amp; aws s3 sync ./empty_dir/ s3://${S3_BUCKET_NAME}/ --delete \u0026gt;\u0026amp;/dev/null \\ \u0026amp;\u0026amp; aws s3api list-objects-v2 \\ --bucket ${S3_BUCKET_NAME} ç¢ºèªç”¨ã« s3api list-objects-v2 ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ãŒã€ç©ºã® S3 Bucket ã«ãªã£ã¦ã„ã‚‹ãŸã‚ä½•ã‚‚å‡ºåŠ›ã•ã‚Œã¾ã›ã‚“ã€‚\nS3 Bucket ãŒç©ºã«ãªã£ãŸã‚‰ã€ s3api delete-bucket ã‚³ãƒãƒ³ãƒ‰ã§ S3 Bucket ã‚’å‰Šé™¤ã—ã¾ã™ã€‚\naws s3api delete-bucket \\ --bucket ${S3_BUCKET_NAME} å®Ÿè¡Œçµæœã¯ä½•ã‚‚å‡ºåŠ›ã•ã‚Œã¾ã›ã‚“ã€‚å¿µã®ãŸã‚ã€å¯¾è±¡ã® S3 Bucket ãŒå­˜åœ¨ã—ãªã„ã“ã¨ã‚’ s3api list-buckets ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚\naws s3api list-buckets \\ --query \u0026#34;Buckets[?Name==\u0026#39;${S3_BUCKET_NAME}\u0026#39;]\u0026#34; \\ --output text ä½•ã‚‚å‡ºåŠ›ã•ã‚Œãªã‘ã‚Œã°ã€ S3 Bucket ã¯å‰Šé™¤ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã¡ãªã¿ã«ã€ s3api delete-object ã‚³ãƒãƒ³ãƒ‰ã§å‰Šé™¤ã™ã‚‹å ´åˆã¯ã€ s3api list-objects-v2 ã‚³ãƒãƒ³ãƒ‰ã¨åˆã‚ã›ã¦ä¸‹è¨˜ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ã€‚\nfor i in $( aws s3api list-objects-v2 \\ --bucket ${S3_BUCKET_NAME} \\ --query \u0026#39;Contents[].Key\u0026#39; \\ --output text ); do aws s3api delete-object \\ --bucket ${S3_BUCKET_NAME} \\ --key ${i} done 2. Route 53 ã® RecordSet ã‚’å‰Šé™¤ æ¬¡ã«ã€ Route 53 ã«ç™»éŒ²ã—ãŸ RecordSet ã‚’å‰Šé™¤ã—ã¾ã™ã€‚ã“ã“ã§å‰Šé™¤ã™ã‚‹ã®ã¯ã€ã‚µã‚¤ãƒˆç”¨ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã«ã‚ãŸã‚‹ RecordSet ã§ã™ã€‚ ACM ã§ SSL è¨¼æ˜æ›¸ã‚’ç™ºè¡Œã™ã‚‹ãŸã‚ã«ä½œæˆã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ç”¨ã® RecordSet ã¯å¾Œã»ã©å‰Šé™¤ã—ã¾ã™ã€‚\nRecordSet ã‚’å‰Šé™¤ã™ã‚‹ã«ã¯ã€ç™»éŒ²ã™ã‚‹ã¨ãã¨åŒæ§˜ã« route53 change-resource-record-sets ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ãŒã€ãã®å‰ã«ãƒ‰ãƒ¡ã‚¤ãƒ³ã® HostedZoneId ã‚’å–å¾—ã—ã¦ãŠãã¾ã™ã€‚\nHOSTED_ZONE_ID=$( \\ aws route53 list-hosted-zones \\ --query \u0026#34;HostedZones[?Name==\u0026#39;${HOSTED_DOMAIN}.\u0026#39;].Id\u0026#34; \\ --output text) å‰Šé™¤å‰ã«ã€å¯¾è±¡ã® RecordSet ã®å­˜åœ¨ã‚’ç¢ºèªã™ã‚‹ã¤ã„ã§ã«ã€å‰Šé™¤æ™‚ã«å¿…è¦ã¨ãªã‚‹ RecordSet ã® Value (Alias ã® DNSName) ã‚’å–å¾—ã—ã¾ã™ã€‚\nCF_DOMAIN_NAME=$( \\ aws route53 list-resource-record-sets \\ --hosted-zone-id ${HOSTED_ZONE_ID} \\ --query \u0026#34;ResourceRecordSets[?Name==\u0026#39;${HUGO_DOMAIN}.\u0026#39;].AliasTarget.DNSName\u0026#34; \\ --output text) \\ \u0026amp;\u0026amp; echo ${CF_DOMAIN_NAME} å®Ÿè¡Œçµæœ\nd1xxxxxxxxxxxx.cloudfront.net. ã“ã‚Œã‚‰ã®å€¤ã‚’ç”¨ã„ã¦ route53 change-resource-record-sets ã‚³ãƒãƒ³ãƒ‰ã§å‰Šé™¤ã—ã¾ã™ã€‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚„å€¤ã¯ä½œæˆæ™‚ã¨ã»ã¼ä¸€ç·’ã§ã€ Canges.Action ãŒ CREATE ã§ã¯ãªã DELETE ã«ãªã‚Šã¾ã™ã€‚\naws route53 change-resource-record-sets \\ --hosted-zone-id ${HOSTED_ZONE_ID} \\ --change-batch \\ \u0026#34;{ \\\u0026#34;Changes\\\u0026#34;: [ { \\\u0026#34;Action\\\u0026#34;: \\\u0026#34;DELETE\\\u0026#34;, \\\u0026#34;ResourceRecordSet\\\u0026#34;: { \\\u0026#34;Name\\\u0026#34;: \\\u0026#34;${HUGO_DOMAIN}\\\u0026#34;, \\\u0026#34;Type\\\u0026#34;: \\\u0026#34;A\\\u0026#34;, \\\u0026#34;AliasTarget\\\u0026#34;: { \\\u0026#34;HostedZoneId\\\u0026#34;: \\\u0026#34;Z2FDTNDATAQYW2\\\u0026#34;, \\\u0026#34;DNSName\\\u0026#34;: \\\u0026#34;${CF_DOMAIN_NAME}\\\u0026#34;, \\\u0026#34;EvaluateTargetHealth\\\u0026#34;: false } } } ] }\u0026#34; å®Ÿè¡Œçµæœ\n{ \u0026#34;ChangeInfo\u0026#34;: { \u0026#34;Id\u0026#34;: \u0026#34;/change/C06975891HKJHOX12B72Z\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;PENDING\u0026#34;, \u0026#34;SubmittedAt\u0026#34;: \u0026#34;2020-12-07T13:02:59.240000+00:00\u0026#34; } } route53 list-resource-record-sets ã‚³ãƒãƒ³ãƒ‰ã§ã€å¯¾è±¡ã® RecordSet ãŒå‰Šé™¤ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚\naws route53 list-resource-record-sets \\ --hosted-zone-id ${HOSTED_ZONE_ID} \\ --query \u0026#34;ResourceRecordSets[?Name==\u0026#39;${HUGO_DOMAIN}.\u0026#39;]\u0026#34; å®Ÿè¡Œçµæœ\n[] ã“ã‚Œã§ã‚µã‚¤ãƒˆç”¨ã® RecordSet ãŒå‰Šé™¤ã§ãã¾ã—ãŸã€‚\n3. CloudFront ã® Distribution ã‚’å‰Šé™¤ ç¶šã„ã¦ CloudFront ã® Distribution ã‚’å‰Šé™¤ã—ã¾ã™ã€‚å‰Šé™¤ã™ã‚‹ã«ã¯ cloudfront delete-distribution ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ãŒã€ãã®å‰ã« cloudfront update-distribution ã‚³ãƒãƒ³ãƒ‰ã§å¯¾è±¡ã® Distribution ã® State ã‚’ Disabled (DistributionConfig.Enabled ã‚’ false) ã«å¤‰æ›´ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚(Enabled ã®ã¾ã¾ã ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ 2) ã“ã‚Œã‚‰ã®ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œæ™‚ã«ã¯å¯¾è±¡ã¨ãªã‚‹ Distribution ã® Id ã¨ ETag ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€ã¾ãšã¯ãã‚Œã‚‰ã‚’äº‹å‰ã«å–å¾—ã—ã¦ãŠãã¾ã™ã€‚\nCF_DIST_ID=$(aws cloudfront list-distributions \\ --query \u0026#34;DistributionList.Items[?Aliases.Items[0]==\u0026#39;${HUGO_DOMAIN}\u0026#39;].Id\u0026#34; \\ --output text) å–å¾—ã—ãŸ Id ã‚’å…ƒã« ETag ã‚’å–å¾—ã—ã¾ã™ã€‚\nCF_DIST_ETAG=$(aws cloudfront get-distribution \\ --id ${CF_DIST_ID} \\ --query \u0026#34;ETag\u0026#34; \\ --output text) \\ \u0026amp;\u0026amp; echo ${CF_DIST_ETAG} å®Ÿè¡Œçµæœ\nE38H402CF0QSGY ã¾ãŸã€å¤‰æ›´å‰ã® Distribution ã®æƒ…å ±ã‚’å–å¾—ã—ã¦ã€ Distribution.DistributionConfig ã®å€¤ã‚’æ›´æ–°æ™‚ã«ä½¿ç”¨ã™ã‚‹ JSON ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚ãã®éš›ã€ Distribution.DistributionConfig.Enabled ã®å€¤ã‚’ false ã«å¤‰æ›´ã—ã¦ãŠãã¾ã™ã€‚\naws cloudfront get-distribution \\ --id ${CF_DIST_ID} \\ | jq \u0026#34;.Distribution.DistributionConfig.Enabled|=false\u0026#34; \\ | jq \u0026#34;.Distribution.DistributionConfig\u0026#34; \\ \u0026gt; distribution-config-update.json ä»¥ä¸Šã€ 2 ã¤ã®å€¤ã¨ JSON ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã€ã¾ãšã¯ Distribution ã® State ã‚’å¤‰æ›´ã—ã¾ã™ã€‚å¤‰æ›´æ™‚ã«ã¯ã€ä½œæˆæ™‚ã¨åŒæ§˜ã« DistributionConfig ã¨ã—ã¦æŒ‡å®šã™ã‚‹ JSON ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€å…ˆã»ã©ä½œæˆã—ãŸ JSON ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¾ã™ã€‚å®Ÿè¡Œå¾Œã¯ ETag ã®å€¤ãŒå¤‰ã‚ã‚‹ã®ã§ã€å‡ºåŠ›çµæœã‹ã‚‰æ–°ã—ã„ ETag ã®å€¤ã‚’å–å¾—ã—ã¦ãŠãã¾ã™ã€‚\nCF_DIST_ETAG=$(aws cloudfront update-distribution \\ --id ${CF_DIST_ID} \\ --if-match ${CF_DIST_ETAG} \\ --distribution-config file://distribution-config-update.json \\ --query \u0026#34;ETag\u0026#34; \\ --output text ) \\ \u0026amp;\u0026amp; echo ${CF_DIST_ETAG} å®Ÿè¡Œçµæœ\nE18V3ES2M2IU4T ã“ã‚Œã§ State ã‚’ Disabled ã«å¤‰æ›´ã§ããŸã®ã§ã€ Distribution ã‚’å‰Šé™¤ã—ã¾ã™ã€‚(å®Ÿè¡Œå¾Œã™ãã«å‰Šé™¤ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã¾ã  State ã®å¤‰æ›´ãŒåæ˜ ã•ã‚Œã¦ã„ãªã„ãŸã‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™)\naws cloudfront delete-distribution \\ --id ${CF_DIST_ID} \\ --if-match ${CF_DIST_ETAG} å‡ºåŠ›ã¯ç‰¹ã«ã‚ã‚Šã¾ã›ã‚“ã€‚\ncloudfront get-distribution ã‚³ãƒãƒ³ãƒ‰ã§ã€å¯¾è±¡ã® Distribution ãŒå­˜åœ¨ã—ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚\naws cloudfront get-distribution \\ --id ${CF_DIST_ID} å®Ÿè¡Œçµæœ\nAn error occurred (NoSuchDistribution) when calling the GetDistribution operation: The specified distribution does not exist. å¯¾è±¡ã® Distribution ã¯å­˜åœ¨ã—ãªã„ã®ã§ NoSuchDistribution ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚\n4. CloudFront ã® CloudFrontOriginAccessIdentity ã‚’å‰Šé™¤ ç¶šã„ã¦ã€ CloudFront ã® CloudFrontOriginAccessIdentity ã‚’å‰Šé™¤ã—ã¾ã™ã€‚å‰Šé™¤ã™ã‚‹ã«ã¯ cloudfront delete-cloudfront-origin-access-identity ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ãã®éš›ã«ã€å¯¾è±¡ã® CloudFrontOriginAccessIdentity ã® Id ã¨ ETag ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€äº‹å‰ã«å–å¾—ã—ã¾ã™ã€‚\nCFOAI_ID=$(aws cloudfront list-cloud-front-origin-access-identities \\ --query \u0026#34;CloudFrontOriginAccessIdentityList.Items[?Comment==\u0026#39;OAI for Hugo bucket\u0026#39;].Id\u0026#34; \\ --output text) å–å¾—ã—ãŸ Id ã‚’å…ƒã« ETag ã‚’å–å¾—ã—ã¾ã™ã€‚\nCFOAI_ETAG=$(aws cloudfront get-cloud-front-origin-access-identity \\ --id ${CFOAI_ID} \\ --query \u0026#34;ETag\u0026#34; \\ --output text) \\ \u0026amp;\u0026amp; echo ${CFOAI_ETAG} å®Ÿè¡Œçµæœ\nEGBZ51UWS66MX ã“ã® 2 ã¤ã®å€¤ã‚’ä½¿ã£ã¦ CloudFrontOriginAccessIdentity ã‚’å‰Šé™¤ã—ã¾ã™ã€‚\naws cloudfront delete-cloud-front-origin-access-identity \\ --id ${CFOAI_ID} \\ --if-match ${CFOAI_ETAG} å‡ºåŠ›ã¯ç‰¹ã«ã‚ã‚Šã¾ã›ã‚“ã€‚\ncloudfront get-cloud-front-origin-access-identity ã‚³ãƒãƒ³ãƒ‰ã§å¯¾è±¡ã® CloudFrontOriginAccessIdentity ãŒå­˜åœ¨ã—ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚\naws cloudfront get-cloud-front-origin-access-identity \\ --id ${CFOAI_ID} å®Ÿè¡Œçµæœ\nAn error occurred (NoSuchCloudFrontOriginAccessIdentity) when calling the GetCloudFrontOriginAccessIdentity operation: The specified CloudFront origin access identity does not exist. å¯¾è±¡ã® CloudFrontOriginAccessIdentity ãŒå­˜åœ¨ã—ãªã„ã®ã§ NoSuchCloudFrontOriginAccessIdentity ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚\n5. ACM ã® Certificate ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ç”¨ã® RecordSet ã‚’å‰Šé™¤ æœ€å¾Œã«ã€ ACM ã§ç™ºè¡Œã—ãŸ Certificate (SSL è¨¼æ˜æ›¸) ã¨ã€ç™ºè¡Œæ™‚ã®ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ã®ãŸã‚ã«ä½œæˆã—ãŸ Route 53 ã® RecordSet ã‚’å‰Šé™¤ã—ã¾ã™ã€‚ Certificate ã®å‰Šé™¤ã«ã¯ Certificate ARN ãŒã€ RecordSet ã®å‰Šé™¤ã«ã¯ Name ã¨ Type ãŠã‚ˆã³ Value ãŒãã‚Œãã‚Œå¿…è¦ã«ãªã‚‹ã®ã§ã€ Certificate ã®æƒ…å ±ã‹ã‚‰ãã‚Œã‚‰ã‚’å–å¾—ã—ã¾ã™ã€‚\nã¾ãšã¯ Certificate ARN ã‚’å–å¾—ã—ã¾ã™ã€‚\nSSL_ARN=$( \\ aws acm request-certificate \\ --domain-name ${HUGO_DOMAIN} \\ --validation-method DNS \\ --region us-east-1 \\ --output text) \\ \u0026amp;\u0026amp; echo ${SSL_ARN} å®Ÿè¡Œçµæœ\narn:aws:acm:us-east-1:************:certificate/fd93963c-91da-4cda-abcd-1234xx9999xx ç¶šã„ã¦ RecordSet ã® Name ã¨ Type ã¨ Value ã®æƒ…å ±ã‚’ Certificate ã‹ã‚‰å–å¾—ã—ã¾ã™ã€‚\nVLIDATION_RECORD_JSON=$( \\ aws acm describe-certificate \\ --certificate-arn ${SSL_ARN} \\ --query \u0026#34;Certificate.DomainValidationOptions[0].ResourceRecord\u0026#34; \\ --region us-east-1) \\ \u0026amp;\u0026amp; VALIDATION_RECORD_NAME=$(echo ${VLIDATION_RECORD_JSON} | jq -r .\u0026#34;Name\u0026#34;) \\ \u0026amp;\u0026amp; VALIDATION_RECORD_TYPE=$(echo ${VLIDATION_RECORD_JSON} | jq -r .\u0026#34;Type\u0026#34;) \\ \u0026amp;\u0026amp; VALIDATION_RECORD_VALUE=$(echo ${VLIDATION_RECORD_JSON} | jq -r .\u0026#34;Value\u0026#34;) \\ \u0026amp;\u0026amp; echo \u0026#34; Name:\\t${VALIDATION_RECORD_NAME} Type:\\t${VALIDATION_RECORD_TYPE} Value:\\t${VALIDATION_RECORD_VALUE}\u0026#34; å®Ÿè¡Œçµæœ\nName: _01bca14fa7d9xxxxxxxxxxxxxxxxxxxx.hugo.\u0026lt;your-domain\u0026gt;. Type:\tCNAME Value: _10c99aaddfd2xxxxxxxxxxxxxxxxxxxx.wggjkglgrm.acm-validations.aws. ã“ã‚Œã‚‰ã®æƒ…å ±ã‚’å…ƒã«ã€ã¾ãšã¯ RecordSet ã‚’å‰Šé™¤ã—ã¾ã™ã€‚ä½¿ç”¨ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯ã€ RecordSet ä½œæˆæ™‚ã¨åŒã˜ route53 change-resource-record-sets ã§ã€ Action ã‚’ DELETE ã«ã—ã¦å®Ÿè¡Œã—ã¾ã™ã€‚\naws route53 change-resource-record-sets \\ --hosted-zone-id ${HOSTED_ZONE_ID} \\ --change-batch \\ \u0026#34;{ \\\u0026#34;Changes\\\u0026#34;: [ { \\\u0026#34;Action\\\u0026#34;: \\\u0026#34;DELETE\\\u0026#34;, \\\u0026#34;ResourceRecordSet\\\u0026#34;: { \\\u0026#34;Name\\\u0026#34;: \\\u0026#34;${VALIDATION_RECORD_NAME}\\\u0026#34;, \\\u0026#34;Type\\\u0026#34;: \\\u0026#34;${VALIDATION_RECORD_TYPE}\\\u0026#34;, \\\u0026#34;TTL\\\u0026#34;: 300, \\\u0026#34;ResourceRecords\\\u0026#34;: [{\\\u0026#34;Value\\\u0026#34;: \\\u0026#34;${VALIDATION_RECORD_VALUE}\\\u0026#34;}] } } ] }\u0026#34; å®Ÿè¡Œçµæœ\n{ \u0026#34;ChangeInfo\u0026#34;: { \u0026#34;Id\u0026#34;: \u0026#34;/change/C0511374XADT3XZRSQ2D\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;PENDING\u0026#34;, \u0026#34;SubmittedAt\u0026#34;: \u0026#34;2020-12-07T15:15:06.439000+00:00\u0026#34; } } route53 list-resource-record-sets ã‚³ãƒãƒ³ãƒ‰ã§ã€å¯¾è±¡ã® RecordSet ãŒå‰Šé™¤ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚\naws route53 list-resource-record-sets \\ --hosted-zone-id ${HOSTED_ZONE_ID} \\ --query \u0026#34;ResourceRecordSets[?Name==\u0026#39;${VALIDATION_RECORD_NAME}.\u0026#39;]\u0026#34; å®Ÿè¡Œçµæœ\n[] ã“ã‚Œã§ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ç”¨ã«ä½œæˆã—ãŸ RecordSet ãŒå‰Šé™¤ã§ãã¾ã—ãŸã€‚\nã•ã¦ã€ã“ã‚Œã§æœ€å¾Œã§ã™ã€‚ ACM ã® Certificate ã‚’å‰Šé™¤ã—ã¾ã™ã€‚å‰Šé™¤ã™ã‚‹ã«ã¯ acm delete-certificate ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\naws acm delete-certificate \\ --certificate-arn ${SSL_ARN} \\ --region us-east-1 å‡ºåŠ›ã¯ç‰¹ã«ã‚ã‚Šã¾ã›ã‚“ã€‚\nacm get-certificate ã‚³ãƒãƒ³ãƒ‰ã§å¯¾è±¡ã® Certificate ãŒå­˜åœ¨ã—ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚\naws acm get-certificate \\ --certificate-arn ${SSL_ARN} å®Ÿè¡Œçµæœ\nAn error occurred (ResourceNotFoundException) when calling the GetCertificate operation: Could not find certificate arn:aws:acm:us-east-1:************:certificate/fd93963c-91da-4cda-abcd-1234xx9999xx. å¯¾è±¡ã® Certificate ãŒå­˜åœ¨ã—ãªã„ã®ã§ ResourceNotFoundException ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚\nä»¥ä¸Šã§ã€ä»Šå›ä½œæˆã—ãŸãƒªã‚½ãƒ¼ã‚¹ã®å‰Šé™¤ãŒå®Œäº†ã—ã¾ã—ãŸã€‚\nã¾ã¨ã‚ ã ã„ã¶é•·ããªã£ã¦ã—ã¾ã„ã¾ã—ãŸãŒã€ AWS CLI ã ã‘ã§ Hugo ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nå†’é ­ã«ã‚‚æ›¸ã„ãŸã‚ˆã†ã«ã€ AWS CLI ã¯ AWS ã§å„ã‚µãƒ¼ãƒ“ã‚¹ã€ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã£ã¦ã„ãä¸Šã§ã€ãã‚Œã‚‰ã«å¯¾ã—ã¦ã‚ˆã‚Šç†è§£ã‚’æ·±ã‚ã‚‹ãŸã‚ã«ã¯æœ€é«˜ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ãªã®ã§ã€ç‰¹ã« AWS ã‚’è§¦ã‚Šå§‹ã‚ã¦ã¾ã é–“ã‚‚ãªã„æ–¹ã«ã“ãä½¿ã£ã¦ã»ã—ã„ãƒ„ãƒ¼ãƒ«ã‹ãªã¨æ€ã„ã¾ã™ã€‚ã„ããªã‚Šå…¨ã¦ã‚’ CLI ã§ã‚„ã‚ã†ã¨æ€ã†ã¨è¾›ã„ã®ã§ã€ AWS CLI ã§ã®æ“ä½œã‚’ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§éƒ½åº¦ç¢ºèªã—ãªãŒã‚‰ã‚„ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ã§ä½¿ã£ã¦ã¿ã¦ãã ã•ã„ã€‚\nä»Šå›ã€ã“ã®ã‚ˆã†ãªãƒãƒ³ã‚ºã‚ªãƒ³ã£ã½ã„å½¢ã§æ‰‹é †ã‚’æ›¸ãã®ã¯åˆã‚ã¦ã ã£ãŸã®ã§ã€ä½•ã‹ã‚ã‹ã‚Šã«ãã„ç‚¹ãªã©ã‚ã‚Œã°ã‚³ãƒ¡ãƒ³ãƒˆãªã‚Š Twitter ãªã‚Šã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™ï¼\nä»¥ä¸Šã€ å¼è­·å£«ãƒ‰ãƒƒãƒˆã‚³ãƒ  Advent Calendar 2020 ã® 12 æ—¥ç›®ã®è¨˜äº‹ã¯ AWS CLI ã§ Hugo ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ç’°å¢ƒã‚’ä½œã£ã¦ã¿ã‚‹è©±ã§ã—ãŸã€‚\næ˜æ—¥ã®æ‹…å½“ã¯ @enkdsn ã§ã™ã€‚ãŠæ¥½ã—ã¿ã« ğŸ‘‹\nCloudFront çµŒç”±ã§ S3 ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹éš›ã€å¯¾è±¡ã® S3 Bucket ã®ç›´ä¸‹ã«ã‚ã‚‹ index.html ã®ã¿çœç•¥ãŒå¯èƒ½ã§ã€ãã‚Œä»¥é™ã®éšå±¤ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã«ã¯æ˜ç¤ºçš„ã« index.html \u0008ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚è¨˜äº‹ã®ãƒ‘ãƒ¼ãƒãƒªãƒ³ã‚¯ã‚’ post-title.html ã¨ã—ã¦è¨­å®šã™ã‚‹ã‚ˆã†ã« archetypes/default.md ã‚’ç·¨é›†ã—ã¦ã„ã¾ã™ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nAn error occurred (DistributionNotDisabled) when calling the DeleteDistribution operation: The distribution you are trying to delete has not been disabled.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-provision-hugo-on-aws-using-only-aws-cli/",
    "title": "AWS CLI ã ã‘ã§ Hugo ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã¿ã‚‹ ãƒ¼ ã¯ã˜ã‚ã‚ˆã†ã€æŠ€è¡“ãƒ–ãƒ­ã‚°"
  },
  {
    "contents": "JAWS-UG CLIå°‚é–€æ”¯éƒ¨ #173R S3åŸºç¤ (ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³) ã«å‚åŠ ã—ãŸã®ã§ã€ãã®ãƒ¬ãƒãƒ¼ãƒˆã§ã™ã€‚ã¨è¨€ã£ã¦ã‚‚è€³ã ã‘å‚åŠ ã ã£ãŸã®ã§ã€ S3 ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã®æ¦‚è¦ã¾ã¨ã‚ã¨ãƒãƒ³ã‚ºã‚ªãƒ³ + Î± ã®å†…å®¹ã«ãªã£ã¦ã¾ã™ã€‚(ã„ã¤ã‚‚ãã‚“ãªæ„Ÿã˜ã‹)\nconnpass ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰ã€‚\nã“ã‚Œã¾ã§ã® CLI å°‚é–€æ”¯éƒ¨å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã¯ã“ã¡ã‚‰ã€‚\n#172R S3åŸºç¤ (ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ) #171R S3åŸºç¤ é€šçŸ¥ (Lambdaã®è‡ªå‹•å®Ÿè¡Œ) #170R S3åŸºç¤ ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« #169R S3åŸºç¤ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° #168R S3åŸºç¤ Webã‚µã‚¤ãƒˆ\u0026amp;amp;ãƒ­ã‚° #167R EventBridgeå…¥é–€ ç›®æ¬¡ S3 ã®ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã¯ æ¦‚è¦ ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆ©ç”¨ç”¨é€” è¦ä»¶ ãƒãƒ³ã‚ºã‚ªãƒ³ ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…ƒã¨ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…ˆã® S3 ãƒã‚±ãƒƒãƒˆä½œæˆ ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šã‚’è¿½åŠ  ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ Put ã—ã¦ç¢ºèª çŸ¥ã‚‰ã‚“ã‹ã£ãŸãã€ã§ã¯ãªãã€ãƒãƒã£ãŸããã‚Œ ReplicationStatus ãŒ Failed ãªã®ã«ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ LT ã¾ã¨ã‚ S3 ã®ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã¯ ãã‚‚ãã‚‚ S3 ã®ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ©Ÿèƒ½ã«ã¤ã„ã¦ç†è§£ãŒä¹ã—ã‹ã£ãŸã®ã§ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å…ƒã«æ¦‚è¦ã‚’ã¾ã¨ã‚ã¦ã¿ã¾ã™ã€‚\næ¦‚è¦ S3 ã®ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã¯ã€ç•°ãªã‚‹ S3 ãƒã‚±ãƒƒãƒˆé–“ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è‡ªå‹•çš„ã«éåŒæœŸã§ã‚³ãƒ”ãƒ¼ã§ãã‚‹æ©Ÿèƒ½ ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ (ä½œæˆæ—¥æ™‚ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ IDãªã©) ã¯ä¿æŒã•ã‚Œã‚‹ ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã«æŒ‡å®šã™ã‚‹ S3 ãƒã‚±ãƒƒãƒˆã¯ åŒä¸€ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚‚åˆ¥ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚‚ OK åŒä¸€ãƒªãƒ¼ã‚¸ãƒ§ãƒ³å†…ã®ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ : åŒä¸€ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ (SRR - Same Region Replication) ç•°ãªã‚‹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒã‚±ãƒƒãƒˆã¸ã®ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ : ã‚¯ãƒ­ã‚¹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ (CRR - Cross Region Replication) åŒä¸€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ã‚‚åˆ¥ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ã‚‚ OK ç•°ãªã‚‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã§ã‚‚ OK ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­å®šã¯ã€ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ å…ƒ ã®ãƒã‚±ãƒƒãƒˆã«è¿½åŠ ã™ã‚‹ ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆ©ç”¨ç”¨é€” å…¨ä½“ã¨ã—ã¦ã®ç”¨é€”ãƒ»ãƒ¡ãƒªãƒƒãƒˆ ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚‚ä¿æŒã•ã‚Œã‚‹ã®ã§ã€å˜ç´”ã«ãƒ¬ãƒ—ãƒªã‚«ã‚’ä¿æŒã§ãã‚‹ ç•°ãªã‚‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã«ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ãƒ—ãƒªã‚«ä¿æŒã®ã‚³ã‚¹ãƒˆã‚’å‰Šæ¸›ã§ãã‚‹ ç•°ãªã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã“ã¨ã§ã€åˆ¥ã®æ‰€æœ‰æ¨©ã§åŒä¸€ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ‰±ãˆã‚‹ CRR ã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã®ç”¨é€”ãƒ»ãƒ¡ãƒªãƒƒãƒˆ ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹è¦ä»¶ã¸ã®å¯¾å¿œ ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ¼ç¸®å° SRR ã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã®ç”¨é€”ãƒ»ãƒ¡ãƒªãƒƒãƒˆ åŒç¨®ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ (e.g ãƒ­ã‚°) ã®é›†ç´„ ç•°ãªã‚‹ã‚¹ãƒ†ãƒ¼ã‚¸é–“ (æœ¬ç•ª/ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°/é–‹ç™º) ã¨ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå…±æœ‰ è¦ä»¶ ã‚½ãƒ¼ã‚¹ãƒã‚±ãƒƒãƒˆã®æ‰€æœ‰è€…ã¯ã€ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…ˆã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æœ‰åŠ¹ã«ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹ ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ãƒˆå…ƒã¨å…ˆã®ä¸¡æ–¹ã®ãƒã‚±ãƒƒãƒˆã§ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã‚’æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ ãã®ä»–ã€è©³ç´°ãªä»•æ§˜ã«ã¤ã„ã¦ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã©ã†ãã€‚\nãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ - Amazon Simple Storage Service ãƒãƒ³ã‚ºã‚ªãƒ³ ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ã€åŒä¸€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®åŒä¸€ãƒªãƒ¼ã‚¸ãƒ§ãƒ³å†…ã«ã‚ã‚‹ãƒã‚±ãƒƒãƒˆåŒå£«ã§ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã™ã‚‹ã¨ã„ã†å†…å®¹ã§ã—ãŸãŒã€ã“ã“ã§ã¯åˆ¥ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒã‚±ãƒƒãƒˆã¸ã®ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ (CRR) ã¨ã—ã¦ã‚„ã£ã¦ã¿ã¾ã™ã€‚\nãªãŠã€æ‰‹å…ƒã§å®Ÿè¡Œã™ã‚‹éš›ã¯ macOS ç’°å¢ƒã§ã€ AWS CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 2.1.9 ã§ã™ã€‚\naws --version aws-cli/2.1.9 Python/3.7.4 Darwin/19.6.0 exe/x86_64 prompt/off ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…ƒã¨ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…ˆã® S3 ãƒã‚±ãƒƒãƒˆä½œæˆ ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…ƒã‚’ æ±äº¬ ap-northeast-1 ã«ã€ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…ˆã‚’ ã‚ªãƒ¬ã‚´ãƒ³ us-west-2 ã«ä½œæˆã—ã¾ã™ã€‚ã¾ãšã¯å¿…è¦ãªæƒ…å ±ã‚’å¤‰æ•°ã«è¨­å®šã—ã¾ã™ã€‚\n$ AWS_ACCOUNT_ID=$( \\ aws sts get-caller-identity \\ --query \u0026#39;Account\u0026#39; \\ --output text ) $ S3_SRC_REGION=\u0026#34;ap-northeast-1\u0026#34; $ S3_DST_REGION=\u0026#34;us-west-2\u0026#34; $ S3_SRC_BUCKET_NAME=\u0026#34;handson-cli-s3-replication-replication-source-${AWS_ACCOUNT_ID}\u0026#34; $ S3_DST_BUCKET_NAME=\u0026#34;handson-cli-s3-replication-replication-destination-${AWS_ACCOUNT_ID}\u0026#34; ãã‚Œãã‚Œã®ãƒã‚±ãƒƒãƒˆã‚’ä½œæˆã—ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚\n$ aws s3api create-bucket \\ --bucket ${S3_SRC_BUCKET_NAME} \\ --create-bucket-configuration \u0026#34;LocationConstraint=${S3_SRC_REGION}\u0026#34; \\ --region ${S3_SRC_REGION} \\ \u0026amp;\u0026amp; aws s3api put-bucket-versioning \\ --bucket ${S3_SRC_BUCKET_NAME} \\ --versioning-configuration Status=Enabled \\ --region ${S3_SRC_REGION} $ aws s3api create-bucket \\ --bucket ${S3_DST_BUCKET_NAME} \\ --create-bucket-configuration \u0026#34;LocationConstraint=${S3_DST_REGION}\u0026#34; \\ --region ${S3_DST_REGION} \\ \u0026amp;\u0026amp; aws s3api put-bucket-versioning \\ --bucket ${S3_DST_BUCKET_NAME} \\ --versioning-configuration Status=Enabled \\ --region ${S3_DST_REGION} ãã‚Œãã‚Œã®ãƒã‚±ãƒƒãƒˆã®å­˜åœ¨ã¨ã€ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã—ã¾ã™ã€‚\n$ aws s3api get-bucket-location \\ --bucket ${S3_SRC_BUCKET_NAME} \\ --output text \\ \u0026amp;\u0026amp; aws s3api get-bucket-versioning \\ --bucket ${S3_SRC_BUCKET_NAME} \\ --query \u0026#34;Status\u0026#34; \\ --output text ap-northeast-1 Enabled $ aws s3api get-bucket-location \\ --bucket ${S3_DST_BUCKET_NAME} \\ --output text \\ \u0026amp;\u0026amp; aws s3api get-bucket-versioning \\ --bucket ${S3_DST_BUCKET_NAME} \\ --query \u0026#34;Status\u0026#34; \\ --output text us-west-2 Enabled ã¡ãªã¿ã«ã€ S3 ãƒã‚±ãƒƒãƒˆã«å¯¾ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚\n$ aws s3api help | grep bucket o create-bucket o delete-bucket o delete-bucket-analytics-configuration o delete-bucket-cors o delete-bucket-encryption o delete-bucket-intelligent-tiering-configuration o delete-bucket-inventory-configuration o delete-bucket-lifecycle o delete-bucket-metrics-configuration o delete-bucket-ownership-controls o delete-bucket-policy o delete-bucket-replication o delete-bucket-tagging o delete-bucket-website o get-bucket-accelerate-configuration o get-bucket-acl o get-bucket-analytics-configuration o get-bucket-cors o get-bucket-encryption o get-bucket-intelligent-tiering-configuration o get-bucket-inventory-configuration o get-bucket-lifecycle-configuration o get-bucket-location o get-bucket-logging o get-bucket-metrics-configuration o get-bucket-notification-configuration o get-bucket-ownership-controls o get-bucket-policy o get-bucket-policy-status o get-bucket-replication o get-bucket-request-payment o get-bucket-tagging o get-bucket-versioning o get-bucket-website o head-bucket o list-bucket-analytics-configurations o list-bucket-intelligent-tiering-configurations o list-bucket-inventory-configurations o list-bucket-metrics-configurations o list-buckets o put-bucket-accelerate-configuration o put-bucket-acl o put-bucket-analytics-configuration o put-bucket-cors o put-bucket-encryption o put-bucket-intelligent-tiering-configuration o put-bucket-inventory-configuration o put-bucket-lifecycle-configuration o put-bucket-logging o put-bucket-metrics-configuration o put-bucket-notification-configuration o put-bucket-ownership-controls o put-bucket-policy o put-bucket-replication o put-bucket-request-payment o put-bucket-tagging o put-bucket-versioning o put-bucket-website ä»Šå›ã®ã‚ˆã†ã« S3 ãƒã‚±ãƒƒãƒˆã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¨ã‹ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã¨ã‹ã®æƒ…å ±ã‚’ã²ã¨ã¤ã®ã‚³ãƒãƒ³ãƒ‰ã§å–å¾—ã—ãŸã„ã¨æ€ã†ã®ã¯ç§ã ã‘ã§ã—ã‚‡ã†ã‹ã€‚ä»–ã®ãƒªã‚½ãƒ¼ã‚¹ã§è¨€ã† describe-*** ã‚³ãƒãƒ³ãƒ‰ãŒã‚ã£ã¦ãã‚Œã§å–å¾—ã§ãã‚Œã°ã„ã„ã®ã«ãªã¨æ€ã„ã¾ã—ãŸã€‚\nãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šã‚’è¿½åŠ  ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šã‚’è¿½åŠ ã™ã‚‹ã«ã¯ s3api put-bucket-replication ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ãŒã€ãã®éš›ã«ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­å®šæƒ…å ±ã‚’ä¸‹è¨˜ã®ã‚ˆã†ãª JSON ã§æŒ‡å®šã—ã¾ã™ã€‚\n{ \u0026#34;Role\u0026#34;: \u0026#34;\u0026lt;IAM ãƒ­ãƒ¼ãƒ«ã® ARN\u0026gt;\u0026#34;, \u0026#34;Rules\u0026#34;: [ { \u0026#34;Status\u0026#34;: \u0026#34;Enabled\u0026#34;, \u0026#34;Priority\u0026#34;: 1, \u0026#34;DeleteMarkerReplication\u0026#34;: { \u0026#34;Status\u0026#34;: \u0026#34;Disabled\u0026#34; }, \u0026#34;Filter\u0026#34; : { \u0026#34;Prefix\u0026#34;: \u0026#34;\u0026#34;}, \u0026#34;Destination\u0026#34;: { \u0026#34;Bucket\u0026#34;: \u0026#34;\u0026lt;ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…ˆã® S3 ãƒã‚±ãƒƒãƒˆã® ARN\u0026gt;\u0026#34; } } ] } è¦‹ã¦ã‚‚ã‚‰ã†ã¨åˆ†ã‹ã‚‹é€šã‚Š S3 ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä»£ã‚ã£ã¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ãƒˆã™ã‚‹ãŸã‚ã® IAM ãƒ­ãƒ¼ãƒ«ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€ã¾ãšã¯ãã‚Œã‚’ä½œã‚Šã¾ã™ã€‚\nIAM ãƒ­ãƒ¼ãƒ«ã®ä½œæˆ é †ç•ªã¨ã—ã¦ã¯ã€IAM ãƒãƒªã‚·ãƒ¼ã‚’ä½œã£ã¦ã€ IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œã£ã¦ã‚¢ã‚¿ãƒƒãƒã™ã‚‹æµã‚Œã§ã™ã€‚ä½œæˆã™ã‚‹ IAM ãƒ­ãƒ¼ãƒ«ã«ã¯ S3 ãŒ Assume Role ã§ãã‚‹ã‚ˆã†ã«ä¿¡é ¼ãƒãƒªã‚·ãƒ¼ã‚’ä»˜ä¸ã—ã¾ã™ã€‚\nã‚¢ã‚¿ãƒƒãƒã™ã‚‹ãƒãƒªã‚·ãƒ¼ã®ä½œæˆ ä¸‹è¨˜ã®ã‚ˆã†ãªãƒãƒªã‚·ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ policy.json ã¨ã—ã¦ä½œæˆã—ã¦ãŠã„ã¦ã€ iam create-policy ã‚³ãƒãƒ³ãƒ‰ã§ --policy-document file://policy.json ã§æŒ‡å®šã—ã¦ IAM ãƒãƒªã‚·ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚(ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã«ã¤ã„ã¦ã¯æ–°ã—ã„ã‚‚ã®ã§ã¯ãªã„ã®ã§çœç•¥ã—ã¾ã™)\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;s3:GetObjectVersion\u0026#34; \u0026#34;s3:GetObjectVersionAcl\u0026#34;, \u0026#34;s3:GetObjectVersionTagging\u0026#34;, ], \u0026#34;Resource\u0026#34;: [ \u0026#34;arn:aws:s3:::handson-cli-s3-replication-replication-source-************/*\u0026#34; ] }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;s3:ListBucket\u0026#34;, \u0026#34;s3:GetReplicationConfiguration\u0026#34; ], \u0026#34;Resource\u0026#34;: [ \u0026#34;arn:aws:s3:::handson-cli-s3-replication-replication-source-************\u0026#34; ] }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;s3:ReplicateObject\u0026#34;, \u0026#34;s3:ReplicateDelete\u0026#34;, \u0026#34;s3:ReplicateTags\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:s3:::handson-cli-s3-replication-replication-destination-************/*\u0026#34; } ] } ãƒãƒ³ã‚ºã‚ªãƒ³è³‡æ–™ã§ã¯ä¸‹è¨˜ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ç•°ãªã‚‹è¨­å®šã ã£ãŸã®ã§ã™ãŒã€å¾Œè¿°ã™ã‚‹ãŠã‹ã—ãªç¾è±¡ãŒç™ºç”Ÿã—ãŸãŸã‚å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆé€šã‚Šã®å†…å®¹ã«ã—ã¾ã—ãŸã€‚\nSetting up permissions for replication - Amazon Simple Storage Service IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã€ IAM ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒ IAM ãƒ­ãƒ¼ãƒ«ä½œæˆã«ã‚ãŸã£ã¦ã€ä¸‹è¨˜ã®ã‚ˆã†ãªä¿¡é ¼ãƒãƒªã‚·ãƒ¼ã‚’ trust-policy.json ã¨ã—ã¦ä½œæˆã—ã€ iam create-role ã‚³ãƒãƒ³ãƒ‰ã§ --assume-role-policy-document file://trust-policy.json ã§æŒ‡å®šã—ã¦ IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚(ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã«ã¤ã„ã¦ã¯æ–°ã—ã„ã‚‚ã®ã§ã¯ãªã„ã®ã§ry)\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;Service\u0026#34;: \u0026#34;s3.amazonaws.com\u0026#34; }, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Sid\u0026#34;: \u0026#34;\u0026#34; } ] } IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã—ãŸã‚‰ã€å…ˆã»ã©ä½œæˆã—ãŸ IAM ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã—ã¾ã™ã€‚ã‚³ãƒãƒ³ãƒ‰ã¯ iam attach-role-policy ã§ã‚¢ã‚¿ãƒƒãƒã—ã¾ã™ã€‚(ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã«ã¤ã„ã¦ã¯ry)\nãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­å®šã‚’è¿½åŠ  ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­å®šæƒ…å ±ã‚‚ã€ä¸‹è¨˜ã®ã‚ˆã†ã«äº‹å‰ã« JSON ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä½œæˆã—ã¦ãŠãã¾ã™ã€‚\n$ cat \u0026lt;\u0026lt; EOF \u0026gt; ./replication-doc.json { \u0026#34;Role\u0026#34;: \u0026#34;${S3_REPLICA_ROLE_ARN}\u0026#34;, \u0026#34;Rules\u0026#34;: [ { \u0026#34;Status\u0026#34;: \u0026#34;Enabled\u0026#34;, \u0026#34;Priority\u0026#34;: 1, \u0026#34;DeleteMarkerReplication\u0026#34;: { \u0026#34;Status\u0026#34;: \u0026#34;Disabled\u0026#34; }, \u0026#34;Filter\u0026#34; : { \u0026#34;Prefix\u0026#34;: \u0026#34;\u0026#34;}, \u0026#34;Destination\u0026#34;: { \u0026#34;Bucket\u0026#34;: \u0026#34;arn:aws:s3:::${S3_DST_BUCKET_NAME}\u0026#34; } } ] } EOF ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ S3 ãƒã‚±ãƒƒãƒˆã«è¿½åŠ ã™ã‚‹ã«ã¯ s3api put-bucket-replication ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\n$ aws s3api put-bucket-replication \\ --bucket ${S3_SRC_BUCKET_NAME} \\ --replication-configuration file://replication-doc.json ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ Put ã—ã¦ç¢ºèª é©å½“ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ã€ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…ƒã® S3 ãƒã‚±ãƒƒãƒˆã« Put ã—ã€ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…ˆã® S3 ãƒã‚±ãƒƒãƒˆã§ç¢ºèªã—ã¾ã™ã€‚\n$ echo \u0026#34;This is a sample file.\u0026#34; \u0026gt; ./sample.txt ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãªã©ã‚‚å«ã‚ã¦ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ãƒˆã•ã‚Œã‚‹ã¨ã®ã“ã¨ãªã®ã§ã€è‰²ã€…ä»˜ä¸ã—ã¦ Put ã—ã¾ã™ã€‚\n$ aws s3api put-object \\ --bucket ${S3_SRC_BUCKET_NAME} \\ --key sample.txt \\ --body ./sample.txt \\ --metadata custom-metadata-1=value1,custom-metadata-2=value2,Custom-Metadata-3=value3 \\ --cache-control \u0026#34;public, max-age=1209600\u0026#34; \\ --content-type \u0026#34;text/plain8\u0026#34; \\ --tagging \u0026#34;TagKey1=TagValue1\u0026#34; ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯é€šå¸¸ 15 åˆ†ä»¥å†…ã«è¡Œã‚ã‚Œã‚‹ãŸã‚ã€ãã‚Œã¾ã§ã¯ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…ƒã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® ReplicationStatus ã¯ PENDING ã¨ãªã£ã¦ã„ã¾ã™ã€‚\n$ aws s3api head-object \\ --bucket ${S3_SRC_BUCKET_NAME} \\ --key sample2.txt { \u0026#34;AcceptRanges\u0026#34;: \u0026#34;bytes\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-12-10T14:26:18+00:00\u0026#34;, \u0026#34;ContentLength\u0026#34;: 26, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;6d8b1ff98614bae68f36f5d2986f9e3c\\\u0026#34;\u0026#34;, \u0026#34;VersionId\u0026#34;: \u0026#34;L1CTlhLzrDmtq.Aupo_hzVb5uSBXmprQ\u0026#34;, \u0026#34;CacheControl\u0026#34;: \u0026#34;public, max-age=1209600\u0026#34;, \u0026#34;ContentType\u0026#34;: \u0026#34;text/plain8\u0026#34;, \u0026#34;Metadata\u0026#34;: { \u0026#34;custom-metadata-1\u0026#34;: \u0026#34;value1\u0026#34;, \u0026#34;custom-metadata-2\u0026#34;: \u0026#34;value2\u0026#34;, \u0026#34;custom-metadata-3\u0026#34;: \u0026#34;value3\u0026#34; }, \u0026#34;ReplicationStatus\u0026#34;: \u0026#34;PENDING\u0026#34; } ãã‚Œãã‚Œã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æƒ…å ±ã‚’ s3api head-object ã‚³ãƒãƒ³ãƒ‰ã§å–å¾—ã—ã¦å·®åˆ†ã‚’è¦‹ã¦ã¿ã¾ã™ã€‚\n$ aws s3api head-object \\ --bucket ${S3_SRC_BUCKET_NAME} \\ --key sample.txt \\ \u0026gt;| src-object.json \\ \u0026amp;\u0026amp; aws s3api head-object \\ --bucket ${S3_DST_BUCKET_NAME} \\ --key sample.txt \\ \u0026gt;| dst-object.json \\ \u0026amp;\u0026amp; diff -u src-object.json dst-object.json --- src-object.json\t2020-12-10 23:51:04.000000000 +0900 +++ dst-object.json\t2020-12-10 23:51:05.000000000 +0900 @@ -11,5 +11,5 @@ \u0026#34;custom-metadata-2\u0026#34;: \u0026#34;value2\u0026#34;, \u0026#34;custom-metadata-3\u0026#34;: \u0026#34;value3\u0026#34; }, - \u0026#34;ReplicationStatus\u0026#34;: \u0026#34;COMPLETED\u0026#34; + \u0026#34;ReplicationStatus\u0026#34;: \u0026#34;REPLICA\u0026#34; } ReplicationStatus ä»¥å¤–ã¯ä¸€è‡´ã—ã¦ã„ã¾ã™ã€‚ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…ƒã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® ReplicationStatus ã¯ COMPLETED ã§ã€ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…ˆã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® ReplicationStatus ã¯ REPLICA ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nçŸ¥ã‚‰ã‚“ã‹ã£ãŸãã€ã§ã¯ãªãã€ãƒãƒã£ãŸããã‚Œ ã“ã® ã€ŒçŸ¥ã‚‰ã‚“ã‹ã£ãŸãã€ãã‚Œã€ ã‚³ãƒ¼ãƒŠãƒ¼å¯†ã‹ãªäººæ°—ãŒã‚ã‚‹ã¨ã®ã“ã¨ãªã®ã§ä»Šå›ã‚‚ã„ãã¤ã‹å€‹äººçš„ã«çŸ¥ã‚‰ãªã‹ã£ãŸã“ã¨ã‚’å–ã‚Šä¸Šã’ãŸã‹ã£ãŸã®ã§ã™ãŒã€ä»Šå›ã¯ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ©Ÿèƒ½è‡ªä½“ã»ã¨ã‚“ã©çŸ¥ã‚‰ãªã‹ã£ãŸã®ã§ã€ä»£ã‚ã‚Šã«ãƒãƒ³ã‚ºã‚ªãƒ³ã§ãƒãƒã£ãŸãƒã‚¤ãƒ³ãƒˆã«ã¤ã„ã¦æ›¸ãã¾ã™ã€‚\nReplicationStatus ãŒ Failed ãªã®ã«ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ ãƒãƒ³ã‚ºã‚ªãƒ³ã®ã¨ãŠã‚Šã«é€²ã‚ã¦ã„ã£ã¦æœ€å¾Œã«ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…ƒã¨å…ˆã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æƒ…å ±ã‚’æ¯”è¼ƒã™ã‚‹ã¨ã€ãŠã‹ã—ãªç¾è±¡ãŒèµ·ãã¾ã—ãŸã€‚\n$ aws s3api head-object \\ --bucket ${S3_SRC_BUCKET_NAME} \\ --key failed-sample.txt \\ \u0026gt;| src-failed-object.json \\ \u0026amp;\u0026amp; aws s3api head-object \\ --bucket ${S3_DST_BUCKET_NAME} \\ --key failed-sample.txt \\ \u0026gt;| dst-failed-object.json \\ \u0026amp;\u0026amp; diff -u src-failed-object.json dst-failed-object.json --- src-failed-object.json\t2020-12-11 00:04:18.000000000 +0900 +++ dst-failed-object.json\t2020-12-11 00:04:19.000000000 +0900 @@ -11,5 +11,5 @@ \u0026#34;custom-metadata-2\u0026#34;: \u0026#34;value2\u0026#34;, \u0026#34;custom-metadata-3\u0026#34;: \u0026#34;value3\u0026#34; }, - \u0026#34;ReplicationStatus\u0026#34;: \u0026#34;FAILED\u0026#34; + \u0026#34;ReplicationStatus\u0026#34;: \u0026#34;REPLICA\u0026#34; } æ‰‹é †ã®é€”ä¸­ã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€ãƒãƒ³ã‚ºã‚ªãƒ³ã®æ‰‹é †æ›¸ã¨å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ IAM ãƒãƒªã‚·ãƒ¼ã«ä¸‹è¨˜ã®ã‚ˆã†ãªå·®ç•°ãŒã‚ã‚Šã¾ã—ãŸã€‚\n--- policy-handson.json\t2020-12-10 23:57:25.000000000 +0900 +++ policy.json\t2020-12-10 23:58:45.000000000 +0900 @@ -4,8 +4,9 @@ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ - \u0026#34;s3:GetObjectVersionForReplication\u0026#34;, - \u0026#34;s3:GetObjectVersionAcl\u0026#34; + \u0026#34;s3:GetObjectVersion\u0026#34;, + \u0026#34;s3:GetObjectVersionAcl\u0026#34;, + \u0026#34;s3:GetObjectVersionTagging\u0026#34; ], \u0026#34;Resource\u0026#34;: [ \u0026#34;arn:aws:s3:::handson-cli-s3-replication-replication-source-************/*\u0026#34; @@ -26,8 +27,7 @@ \u0026#34;Action\u0026#34;: [ \u0026#34;s3:ReplicateObject\u0026#34;, \u0026#34;s3:ReplicateDelete\u0026#34;, - \u0026#34;s3:ReplicateTags\u0026#34;, - \u0026#34;s3:GetObjectVersionTagging\u0026#34; + \u0026#34;s3:ReplicateTags\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:s3:::handson-cli-s3-replication-replication-destination-************/*\u0026#34; } é•ã„ã¨ã—ã¦ã¯ã€ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…ƒã® S3 ãƒã‚±ãƒƒãƒˆã« s3:GetObjectVersionTagging ãŒãªã‹ã£ãŸã¨ã„ã†ç‚¹ã§ã™ã€‚ã“ã‚ŒãŒåŸå› ã§ãªãœã“ã®ã‚ˆã†ãªçŠ¶æ³ãŒç™ºç”Ÿã™ã‚‹ã®ã‹ã¯ã‚ã‹ã‚‰ãªã‹ã£ãŸã®ã§ã™ãŒã€ã¡ã‚‡ã£ã¨ãƒãƒã£ãŸãƒã‚¤ãƒ³ãƒˆã§ã—ãŸã€‚\nLT ä»Šå›ã¯ SAYJOY@gringriffin ã•ã‚“ã«ã‚ˆã‚‹ LT ãŒã‚ã‚Šã¾ã—ãŸã€‚\nä»¥å‰ã« JAWS-UG åƒè‘‰æ”¯éƒ¨ã§é–‹å‚¬ã•ã‚ŒãŸã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚ºã‚ªãƒ³ (ã®ä¸€éƒ¨) ã®å†…å®¹ã‚’ AWS CLI ã§æ§‹ç¯‰ã—ãŸéš›ã®æŒ¯ã‚Šè¿”ã‚Šã‚„æ°—ä»˜ããªã©ã«ã¤ã„ã¦è©±ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚CLI å°‚é–€æ”¯éƒ¨ã®ãƒãƒ³ã‚ºã‚ªãƒ³è³‡æ–™ã‚’å…ƒã«è³‡æ–™åŒ–ã‚’ã•ã‚Œã¦ã„ã‚‹é€”ä¸­ã¨ã®ã“ã¨ãªã®ã§ã€ã‚‚ã—ã‹ã—ãŸã‚‰ã”è‡ªèº«ã®ãƒ–ãƒ­ã‚°ã§å…¬é–‹ã•ã‚Œã‚‹ã‹ã‚‚ï¼Ÿã—ã‚Œã¾ã›ã‚“ã€‚\nSAYJOYblog (çµ‚ã‚ã£ã¦ã‹ã‚‰è¨€ã†ã®ã‚‚ã‚ã‚Œãªã‚“ã§ã™ãŒ) è‡ªåˆ†ã‚‚è³‡æ–™ãŒæ•´ãˆã° LT ã—ã‚ˆã†ã‹ã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€çµå±€é–“ã«åˆã‚ãšã§ã—ãŸã®ã§ä¾›é¤Šãƒ–ãƒ­ã‚°ã‚’æ›¸ãã¾ã—ãŸã€‚\nã¾ã¨ã‚ JAWS-UG CLIå°‚é–€æ”¯éƒ¨ #173R S3åŸºç¤ (ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³) ã«å‚åŠ ã—ãŸã®ã§ã€ãã®ãƒ¬ãƒãƒ¼ãƒˆã§ã—ãŸã€‚\nä»Šå›ã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã¯è€³ã ã‘å‚åŠ ã§ã€çµ‚ã‚ã£ã¦ã‹ã‚‰ãƒãƒ³ã‚ºã‚ªãƒ³ã‚’ã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚S3 ã®ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¯ä»Šã¾ã§ä½¿ã£ãŸã“ã¨ãŒãªã‹ã£ãŸã®ã§ã™ãŒã€æ€ã£ã¦ã„ãŸä»¥ä¸Šã«ç°¡å˜ã§ã‚ã£ã•ã‚Šã—ã¦ã„ã‚‹ãªã¨ã„ã†å°è±¡ã§ã™ã€‚ç•°ãªã‚‹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã€ç•°ãªã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€ç•°ãªã‚‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã¸ã®ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚å¯èƒ½ã¨ã„ã†ã“ã¨ã§ã€ã‚ã‚‰ã‚†ã‚‹ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã«å¯¾å¿œã§ãã‚‹ã®ã§ã¯ã€ã¨æ€ã„ã¾ã—ãŸã€‚\nå¹´å†…ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã¯ä»Šå›ã§æœ€å¾Œã ã£ãŸã‚ˆã†ãªã®ã§ã™ãŒã€æ¥å¹´ä»¥é™ã‚‚ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ãªã®ã§å¼•ãç¶šãå‚åŠ ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚ã‚‚ã¨ã‚‚ã¨ä»Šå¹´ã«å…¥ã£ã¦ã‹ã‚‰ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§å‚åŠ ã—ã‚ˆã†ã¨ã—ã¦ã„ãŸã¨ã“ã‚ã§ä»Šã®ã‚ˆã†ãªçŠ¶æ³ã«ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚ãã®å¾Œã€ã™ãã«ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®é–‹å‚¬ã—ã¦ã„ãŸã ã‘ã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€ãã“ã‹ã‚‰ã¯ã»ã¼æ¯å›å‚åŠ ã—ã¦ãã¾ã—ãŸã€‚ãŠã‹ã’ã•ã¾ã§æŠµæŠ—ãªãã€ã‚€ã—ã‚å¥½ã‚“ã§ AWS CLI ã‚’ä½¿ã†ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚é–‹å‚¬ã—ã¦ã„ãŸã ã„ã¦ã„ã‚‹æ³¢ç”°é‡ã•ã‚“ã«ã¯æ„Ÿè¬ã§ã™ã€‚\nãã†ã„ãˆã°ã€è‡ªåˆ†ã‚‚ AWS CLI ã‚’ä½¿ã£ãŸãƒãƒ³ã‚ºã‚ªãƒ³è³‡æ–™ã®ã‚ˆã†ãªã‚‚ã®ã‚’ä½œæˆä¸­ãªã®ã§ã€è¿‘ã€…å…¬é–‹ã§ãã‚‹ã‹ãªã¨æ€ã£ã¦ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-jaws-ug-cli-173r-s3-replication/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #173R S3åŸºç¤ (ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³) ã«å‚åŠ ã—ã¾ã—ãŸ #jawsug_cli"
  },
  {
    "contents": "AWS Certificate Manager ã§ SSL è¨¼æ˜æ›¸ã‚’ç™ºè¡Œã™ã‚‹æ‰‹é †ã¯ä½•åº¦ã‚‚ç¹°ã‚Šè¿”ã—å®Ÿè¡Œã™ã‚‹ã‚‚ã®ã§ã¯ãªã„ãŸã‚ã€ IaC ã«è¼‰ã›ãšã«æ‰‹ä½œæ¥­ã§ä½œæˆã—ã¦ã„ã‚‹æ–¹ã¯å°‘ãªããªã„ã¨æ€ã„ã¾ã™ã€‚æ‰‹ä½œæ¥­ã¨ã¯ã„ãˆæ¯å›ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ãƒãƒãƒãƒã‚„ã‚‹ã®ã¯é¢å€’ãªã®ã§ã€ AWS CLI ã‚’ä½¿ã£ã¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã—ã¦ã¿ã¾ã—ãŸã€‚\nç›®æ¬¡ ACM ã§ SSL è¨¼æ˜æ›¸ã‚’ç™ºè¡Œã™ã‚‹ã¾ã§ã®æ‰‹é † å‰æ AWS CLI ã§ã‚„ã£ã¦ã¿ã‚‹ 1. ACM ã§ Certificate ã®ç™ºè¡Œã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ 2. DNS ã§ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ã™ã‚‹ 3. ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèª ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã™ã‚‹ å®Ÿè¡Œã—ã¦ã¿ã‚‹ ã¾ã¨ã‚ ACM ã§ SSL è¨¼æ˜æ›¸ã‚’ç™ºè¡Œã™ã‚‹ã¾ã§ã®æ‰‹é † ACM ã§ SSL è¨¼æ˜æ›¸ (Certificate) ã‚’ç™ºè¡Œã™ã‚‹ã«ã¯ã€ä¸‹è¨˜ã®æ‰‹é †ã‚’è¸ã‚€ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nACM ã§ Certificate ã®ç™ºè¡Œã‚’ ãƒªã‚¯ã‚¨ã‚¹ãƒˆ ã™ã‚‹ ãƒ¡ãƒ¼ãƒ«ã¾ãŸã¯ DNS ã§ ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ ã™ã‚‹ ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ã«ã¯ãƒ¡ãƒ¼ãƒ«ã«ã‚ˆã‚‹èªè¨¼ã¨ DNS ã«ã‚ˆã‚‹èªè¨¼ãŒã‚ã‚Šã¾ã™ã€‚ DNS ã«ã‚ˆã‚‹èªè¨¼ã®å ´åˆã€èªè¨¼ã«å¿…è¦ãªãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ DNS ã«ç™»éŒ²ã—ã¾ã™ã€‚(DNS ã¨ã—ã¦ Route 53 ã‚’ä½¿ã†å ´åˆã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ã¯ãƒœã‚¿ãƒ³ä¸€ã¤ã§ãƒ¬ã‚³ãƒ¼ãƒ‰ã®ç™»éŒ²ãŒã§ãã¾ã™)\næ‰‹é †ã¨ã—ã¦ã¯å¤šããªã„ã§ã™ãŒã€ä»Šå›ã¯ AWS CLI ã‚’ä½¿ã£ã¦ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šç°¡æ½”ã« Certificate ã®ç™ºè¡Œã‚’ã‚„ã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nå‰æ å‰æã¨ã—ã¦ã€å¯¾è±¡ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯ Route 53 ã§ç®¡ç†ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚ã¾ãŸã€ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ã¯ DNS ã§è¡Œã„ã¾ã™ã€‚\nAWS CLI ã§ã‚„ã£ã¦ã¿ã‚‹ ä»Šå›æ“ä½œã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã¯ AWS Certificate Manager ã¨ Amazon Route 53 ã§ã™ã€‚(ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ã‚’ DNS ã§è¡Œã†ãŸã‚)\nãªã®ã§ã€ AWS CLI ã®ã‚³ãƒãƒ³ãƒ‰ã¨ã—ã¦ã¯ acm ã¨ route53 ã‚’ä½¿ã„ã¾ã™ã€‚ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã™ã‚‹å‰ã«ã€å‰é …ã§æŒ™ã’ãŸæ‰‹é †ã® 1 ã¨ 2 ã‚’ãã‚Œãã‚Œ AWS CLI ã§å®Ÿè¡Œã—ã¾ã™ã€‚\nAWS CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€2020/12/09 æ™‚ç‚¹ã§æœ€æ–°ã® 2.1.8 ã‚’ä½¿ã„ã¾ã™ã€‚(v1 ã®æœ€æ–°ã¯ 1.18.192)\n$ aws --version aws-cli/2.1.8 Python/3.7.4 Darwin/19.6.0 exe/x86_64 prompt/off 1. ACM ã§ Certificate ã®ç™ºè¡Œã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ ä½¿ç”¨ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯ acm request-certificate ã§ã™ã€‚\n$ aws acm request-certificate help ... SYNOPSIS request-certificate --domain-name \u0026lt;value\u0026gt; [--validation-method \u0026lt;value\u0026gt;] [--subject-alternative-names \u0026lt;value\u0026gt;] [--idempotency-token \u0026lt;value\u0026gt;] [--domain-validation-options \u0026lt;value\u0026gt;] [--options \u0026lt;value\u0026gt;] [--certificate-authority-arn \u0026lt;value\u0026gt;] [--tags \u0026lt;value\u0026gt;] [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] ... å¿…é ˆãªã®ã¯å¯¾è±¡ã®ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’æŒ‡å®šã™ã‚‹ --domain-name ã§ã™ãŒã€ä»Šå›ã¯èªè¨¼æ–¹æ³•ã‚’æŒ‡å®šã™ã‚‹ --validation-method ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ DNS ã«ã‚ˆã‚‹èªè¨¼ã§ã‚ã‚‹ã“ã¨ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã“ã“ã‚’çœç•¥ã™ã‚‹ã¨ãƒ¡ãƒ¼ãƒ«ã«ã‚ˆã‚‹èªè¨¼ã¨ãªã‚Šã¾ã™ã€‚\nä»Šå›ã¯ Route 53 ã®ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã¨ã—ã¦ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ michimani.net ã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã‚ã‚‹ curry.michimani.net ã«å¯¾ã™ã‚‹ SSL è¨¼æ˜æ›¸ã‚’ç™ºè¡Œã—ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\n$ HOSTED_DOMAIN=\u0026#34;michimani.net\u0026#34; $ TARGET_DOMAIN=\u0026#34;curry.${HOSTED_DOMAIN}\u0026#34; $ aws acm request-certificate \\ --domain-name ${TARGET_DOMAIN} \\ --validation-method DNS { \u0026#34;CertificateArn\u0026#34;: \u0026#34;arn:aws:acm:ap-northeast-1:************:certificate/d8009e70-XXXX-XXXX-XXXX-XXXXXXXXXXXX\u0026#34; } ä»Šå›ã¯ç‰¹ã«ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã›ãšã«ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã® default ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«å¯¾ã—ã¦å®Ÿè¡Œã—ã¾ã—ãŸãŒã€ç™ºè¡Œã—ãŸ Certificate ã‚’ CloudFornt ã§ä½¿ç”¨ã™ã‚‹å ´åˆã¯ ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ us-east-1 ã«å¯¾ã—ã¦å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ãŸ Certificate ã® ARN ã¯ä»¥é™ã®æ‰‹é †ã§ä½¿ç”¨ã™ã‚‹ã®ã§ã€å¤‰æ•°ã«è¨­å®šã—ã¦ãŠãã¾ã™ã€‚(ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ™‚ã«ã€å‡ºåŠ›ã‚’å¤‰æ•°ã«è¨­å®šã—ã¦ã‚‚ã‚ˆã„ã§ã™)\n$ CERT_ARN=$( \\ aws acm list-certificates \\ --query \u0026#34;CertificateSummaryList[?DomainName==\u0026#39;${TARGET_DOMAIN}\u0026#39;].CertificateArn\u0026#34; \\ --output text ) \\ \u0026amp;\u0026amp; echo ${CERT_ARN} arn:aws:acm:ap-northeast-1:************:certificate/d8009e70-XXXX-XXXX-XXXX-XXXXXXXXXXXX 2. DNS ã§ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ã™ã‚‹ DNS ã§ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ã™ã‚‹ã«ã¯ã€èªè¨¼ç”¨ã®ãƒ¬ã‚³ãƒ¼ãƒ‰æƒ…å ±ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§æ“ä½œã™ã‚‹å ´åˆã¯ãƒœã‚¿ãƒ³ä¸€ã¤ã§ Route 53 ã«ç™»éŒ²ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ãŒã€ AWS CLI ã ã¨ãã†ã¯ã„ãã¾ã›ã‚“ã€‚èªè¨¼ç”¨ã®ãƒ¬ã‚³ãƒ¼ãƒ‰æƒ…å ±ã¯ Certificate ãŒæŒã£ã¦ã„ã‚‹ã®ã§ã€ acm describe-certificate ã‚³ãƒãƒ³ãƒ‰ã§å–å¾—ã—ã¾ã™ã€‚\n$ aws acm describe-certificate \\ --certificate-arn ${CERT_ARN} { \u0026#34;Certificate\u0026#34;: { \u0026#34;CertificateArn\u0026#34;: \u0026#34;arn:aws:acm:ap-northeast-1:************:certificate/d8009e70-XXXX-XXXX-XXXX-XXXXXXXXXXXX\u0026#34;, \u0026#34;DomainName\u0026#34;: \u0026#34;curry.michimani.net\u0026#34;, \u0026#34;SubjectAlternativeNames\u0026#34;: [ \u0026#34;curry.michimani.net\u0026#34; ], \u0026#34;DomainValidationOptions\u0026#34;: [ { \u0026#34;DomainName\u0026#34;: \u0026#34;curry.michimani.net\u0026#34;, \u0026#34;ValidationDomain\u0026#34;: \u0026#34;curry.michimani.net\u0026#34;, \u0026#34;ValidationStatus\u0026#34;: \u0026#34;PENDING_VALIDATION\u0026#34;, \u0026#34;ResourceRecord\u0026#34;: { \u0026#34;Name\u0026#34;: \u0026#34;_6709bba0b171XXXXXXXXXXXXXXXXXXXX.curry.michimani.net.\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;CNAME\u0026#34;, \u0026#34;Value\u0026#34;: \u0026#34;_2166df0b8981XXXXXXXXXXXXXXXXXXXX.wggjkglgrm.acm-validations.aws.\u0026#34; }, \u0026#34;ValidationMethod\u0026#34;: \u0026#34;DNS\u0026#34; } ], \u0026#34;Subject\u0026#34;: \u0026#34;CN=curry.michimani.net\u0026#34;, \u0026#34;Issuer\u0026#34;: \u0026#34;Amazon\u0026#34;, \u0026#34;CreatedAt\u0026#34;: \u0026#34;2020-12-09T07:04:37+09:00\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;PENDING_VALIDATION\u0026#34;, \u0026#34;KeyAlgorithm\u0026#34;: \u0026#34;RSA-2048\u0026#34;, \u0026#34;SignatureAlgorithm\u0026#34;: \u0026#34;SHA256WITHRSA\u0026#34;, \u0026#34;InUseBy\u0026#34;: [], \u0026#34;Type\u0026#34;: \u0026#34;AMAZON_ISSUED\u0026#34;, \u0026#34;KeyUsages\u0026#34;: [], \u0026#34;ExtendedKeyUsages\u0026#34;: [], \u0026#34;RenewalEligibility\u0026#34;: \u0026#34;INELIGIBLE\u0026#34;, \u0026#34;Options\u0026#34;: { \u0026#34;CertificateTransparencyLoggingPreference\u0026#34;: \u0026#34;ENABLED\u0026#34; } } } Certificate.DomainValidationOptions[0].ResourceRecord ãŒãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ç”¨ã®ãƒ¬ã‚³ãƒ¼ãƒ‰æƒ…å ±ã§ã™ã€‚ Type ã¯ CNAME ã§å›ºå®šãªã®ã§ã€ Name ã¨ Value ã‚’å¤‰æ•°ã«è¨­å®šã—ã¾ã™ã€‚ä¸€åº¦ã« 2 ã¤ã®å€¤ã‚’è¨­å®šã™ã‚‹è‰¯ã„æ–¹æ³•ãŒæ€ã„æµ®ã‹ã°ãªã„ã®ã§ã€ 2 å›ã«åˆ†ã‘ã¦è¨­å®šã—ã¾ã™ã€‚ãªã«ã‹è‰¯ã„æ–¹æ³•ãŒã‚ã‚Œã°æ•™ãˆã¦ä¸‹ã•ã„ã€‚\n$ VALIDATION_RECORD_NAME=$( \\ aws acm describe-certificate \\ --certificate-arn ${CERT_ARN} \\ --query \u0026#34;Certificate.DomainValidationOptions[0].ResourceRecord.Name\u0026#34; \\ --output text) \\ \u0026amp;\u0026amp; VALIDATION_RECORD_VALUE=$( \\ aws acm describe-certificate \\ --certificate-arn ${CERT_ARN} \\ --query \u0026#34;Certificate.DomainValidationOptions[0].ResourceRecord.Value\u0026#34; \\ --output text) \\ \u0026amp;\u0026amp; echo \u0026#34; VALIDATION_RECORD_NAME = ${VALIDATION_RECORD_NAME} VALIDATION_RECORD_VALUE = ${VALIDATION_RECORD_VALUE}\u0026#34; VALIDATION_RECORD_NAME = _6709bba0b171XXXXXXXXXXXXXXXXXXXX.curry.michimani.net. VALIDATION_RECORD_VALUE = _2166df0b8981XXXXXXXXXXXXXXXXXXXX.wggjkglgrm.acm-validations.aws. ã“ã®æƒ…å ±ã‚’ Route 53 ã«ç™»éŒ²ã—ã¾ã™ã€‚ãã®éš›ã€ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã«ç™»éŒ²ã—ã¦ã„ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã® HostedZoneId ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€ route53 list-hosted-zones ã‚³ãƒãƒ³ãƒ‰ã®å‡ºåŠ›ã‹ã‚‰å¤‰æ•°ã«è¨­å®šã—ã¦ãŠãã¾ã™ã€‚\n$ HOSTED_ZONE_ID=$( \\ aws route53 list-hosted-zones \\ --query \u0026#34;HostedZones[?Name==\u0026#39;${HOSTED_DOMAIN}.\u0026#39;].Id\u0026#34; \\ --output text) \\ \u0026amp;\u0026amp; echo ${HOSTED_ZONE_ID} /hostedzone/Z39XXXXXXXXXX Route 53 ã® RecordSet ã®ä½œæˆã«ã¯ route53 change-resource-record-sets ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\n$ route53 change-resource-record-sets help ... SYNOPSIS change-resource-record-sets --hosted-zone-id \u0026lt;value\u0026gt; --change-batch \u0026lt;value\u0026gt; [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] ... ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ä½œæˆæ™‚ã ã‘ã§ãªãã€å¤‰æ›´ãƒ»å‰Šé™¤ã®éš›ã«ã‚‚ä½¿ç”¨ã—ã¾ã™ã€‚ã©ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã‹ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³å†…ã®å€¤ã§æŒ‡å®šã—ã¾ã™ã€‚\nä»Šå›ã¯ RecordSet ã®ä½œæˆãªã®ã§ã€æ¬¡ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ã€‚\n$ aws route53 change-resource-record-sets \\ --hosted-zone-id ${HOSTED_ZONE_ID} \\ --change-batch \\ \u0026#34;{ \\\u0026#34;Changes\\\u0026#34;: [ { \\\u0026#34;Action\\\u0026#34;: \\\u0026#34;CREATE\\\u0026#34;, \\\u0026#34;ResourceRecordSet\\\u0026#34;: { \\\u0026#34;Name\\\u0026#34;: \\\u0026#34;${VALIDATION_RECORD_NAME}\\\u0026#34;, \\\u0026#34;Type\\\u0026#34;: \\\u0026#34;CNAME\\\u0026#34;, \\\u0026#34;TTL\\\u0026#34;: 300, \\\u0026#34;ResourceRecords\\\u0026#34;: [{\\\u0026#34;Value\\\u0026#34;: \\\u0026#34;${VALIDATION_RECORD_VALUE}\\\u0026#34;}] } } ] }\u0026#34; { \u0026#34;ChangeInfo\u0026#34;: { \u0026#34;Id\u0026#34;: \u0026#34;/change/C0057826YCD9M3MBZEJV\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;PENDING\u0026#34;, \u0026#34;SubmittedAt\u0026#34;: \u0026#34;2020-12-08T22:33:51.455000+00:00\u0026#34; } } å®Ÿè¡Œçµæœã¨ã—ã¦ã€ãƒªã‚½ãƒ¼ã‚¹ã®å¤‰æ›´æƒ…å ±ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚å®Ÿè¡Œç›´å¾Œã¯ Status ãŒ PENDING ã«ãªã£ã¦ã„ã¾ã™ãŒã€ä½“æ„Ÿã¨ã—ã¦ã¯ã™ãã« INSYNC (å¤‰æ›´å®Œäº†) ã«ãªã‚Šã¾ã™ã€‚ä¸€å¿œ route53 get-change ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã¯ã§ãã¾ã™ã€‚\n$ aws route53 get-change \\ --id /change/C0057826YCD9M3MBZEJV { \u0026#34;ChangeInfo\u0026#34;: { \u0026#34;Id\u0026#34;: \u0026#34;/change/C0057826YCD9M3MBZEJV\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;INSYNC\u0026#34;, \u0026#34;SubmittedAt\u0026#34;: \u0026#34;2020-12-08T22:33:51.455000+00:00\u0026#34; } } 3. ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèª æœ€å¾Œã«ã€ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã—ã¾ã™ã€‚ç¢ºèªã«ã¯ acm describe-certificate ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚å…ˆã»ã©ã®å®Ÿè¡Œçµæœã§ã‚‚ã‚ã‹ã‚‹ã‚ˆã†ã« Certificate.DomainValidationOptions[0].ValidationStatus ã«ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã®éƒ¨åˆ†ã ã‘å‡ºåŠ›ã—ã¾ã™ã€‚\n$ aws acm describe-certificate \\ --certificate-arn ${CERT_ARN} \\ --query \u0026#34;Certificate.DomainValidationOptions[0].ValidationStatus\u0026#34; \\ --output text SUCCESS å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ã‚‚ã‚ˆã‚Šã¾ã™ãŒã€èªè¨¼ãŒæˆåŠŸã—ã¦ã„ã‚Œã° SUCCESS ã¨å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã™ã‚‹ ä¸Šè¨˜ã§ã‚„ã£ãŸæ‰‹é †ã‚’ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã—ã¾ã™ã€‚ã¨è¨€ã£ã¦ã‚‚ã€ã»ã¨ã‚“ã©ã‚³ãƒ”ãƒšã—ã¦ã¤ãªã’ãŸã ã‘ã§ã™ã€‚\n#!/bin/bash set -e if [ $# != 3 ] || [ $1 = \u0026#34;\u0026#34; ] || [ $2 = \u0026#34;\u0026#34; ] || [ $3 = \u0026#34;\u0026#34; ]; then echo -e \u0026#34;Three parameters are required 1st - string: Hosted Domain Name on Route 53 (e.g. example.com) 2nd - string: Domain Name for Certificate (e.g. sub.mexample.com) 3rd - string: Target Region (e.g. us-east-1) example command \\t sh ./issue-certificate.sh example.com sub.example.com\u0026#34; exit fi HOSTED_DOMAIN=$1 TARGET_DOMAIN=$2 REGION=$3 NONE=\u0026#34;None\u0026#34; # request certificate echo \u0026#34;Request certificate for \u0026#39;${TARGET_DOMAIN}\u0026#39; to ACM.\u0026#34; CERT_ARN=$( \\ aws acm request-certificate \\ --domain-name ${TARGET_DOMAIN} \\ --validation-method DNS \\ --region ${REGION} \\ --output text) \\ \u0026amp;\u0026amp; sleep 5 \\ \u0026amp;\u0026amp; echo -e \u0026#34;\\t CERT_ARN = ${CERT_ARN}\u0026#34; # create domain validation record set echo \u0026#34;Create record set to validate domain in Route 53.\u0026#34; VALIDATION_RECORD_NAME=$( \\ aws acm describe-certificate \\ --certificate-arn ${CERT_ARN} \\ --query \u0026#34;Certificate.DomainValidationOptions[0].ResourceRecord.Name\u0026#34; \\ --region ${REGION} \\ --output text) \\ \u0026amp;\u0026amp; echo -e \u0026#34;\\t VALIDATION_RECORD_NAME = ${VALIDATION_RECORD_NAME}\u0026#34; VALIDATION_RECORD_VALUE=$( \\ aws acm describe-certificate \\ --certificate-arn ${CERT_ARN} \\ --query \u0026#34;Certificate.DomainValidationOptions[0].ResourceRecord.Value\u0026#34; \\ --region ${REGION} \\ --output text) \\ \u0026amp;\u0026amp; echo -e \u0026#34;\\t VALIDATION_RECORD_VALUE = ${VALIDATION_RECORD_VALUE}\u0026#34; HOSTED_ZONE_ID=$( \\ aws route53 list-hosted-zones \\ --query \u0026#34;HostedZones[?Name==\u0026#39;${HOSTED_DOMAIN}.\u0026#39;].Id\u0026#34; \\ --output text) \\ \u0026amp;\u0026amp; echo -e \u0026#34;\\t HOSTED_ZONE_ID = ${HOSTED_ZONE_ID}\u0026#34; if [ $VALIDATION_RECORD_NAME == $NONE ] || [ $VALIDATION_RECORD_VALUE == $NONE ] || [ $HOSTED_DOMAIN == $NONE ]; then echo \u0026#34;Failed to get the parameters required for domain validation.\u0026#34; exit fi CHANGE_ID=$( \\ aws route53 change-resource-record-sets \\ --hosted-zone-id ${HOSTED_ZONE_ID} \\ --change-batch \\ \u0026#34;{ \\\u0026#34;Changes\\\u0026#34;: [ { \\\u0026#34;Action\\\u0026#34;: \\\u0026#34;CREATE\\\u0026#34;, \\\u0026#34;ResourceRecordSet\\\u0026#34;: { \\\u0026#34;Name\\\u0026#34;: \\\u0026#34;${VALIDATION_RECORD_NAME}\\\u0026#34;, \\\u0026#34;Type\\\u0026#34;: \\\u0026#34;CNAME\\\u0026#34;, \\\u0026#34;TTL\\\u0026#34;: 300, \\\u0026#34;ResourceRecords\\\u0026#34;: [{\\\u0026#34;Value\\\u0026#34;: \\\u0026#34;${VALIDATION_RECORD_VALUE}\\\u0026#34;}] } } ] }\u0026#34; \\ --query \u0026#34;ChangeInfo.Id\u0026#34; \\ --output text) \\ \u0026amp;\u0026amp; echo -e \u0026#34;\\t Change ID : ${CHANGE_ID}\\n\u0026#34; if [ $? == 0 ]; then echo -e \u0026#34;\\nFinished to request certificate and create record set to validate domain. Please run command bellow to check validation status. aws acm describe-certificate \\\\ --certificate-arn ${CERT_ARN} \\\\ --query \\\u0026#34;Certificate.DomainValidationOptions[0].ValidationStatus\\\u0026#34; \\\\ --region ${REGION} \\\\ --output text\u0026#34; else echo -e \u0026#34;\\nFailed to issue certificate.\u0026#34; fi æœ€åˆã® Certificate ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ã‚ã¨ã« sleep ã‚’å…¥ã‚Œã¦ã„ã‚‹ç†ç”±ã¯ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆç›´å¾Œã ã¨ acm describe-certificate ã‚³ãƒãƒ³ãƒ‰ã§ Certificate ã®æƒ…å ±ã‚’å–å¾—ã§ããªã„å¯èƒ½æ€§ãŒã‚ã‚‹ã‹ã‚‰ã§ã™ã€‚ãã®å ´åˆã€ãƒ‰ãƒ¡ã‚¤ãƒ³èªè¨¼ç”¨ã® Name ã¾ãŸã¯ Value ãŒ None ã¨ãªã‚Šã€ route53 change-resource-record-sets ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œæ™‚ã«ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šå¤±æ•—ã—ã¦ã—ã¾ã„ã¾ã™ã€‚\nAn error occurred (InvalidChangeBatch) when calling the ChangeResourceRecordSets operation: [RRSet with DNS name none. is not permitted in zone michimani.net.]\nå®Ÿè¡Œã—ã¦ã¿ã‚‹ ã“ã®ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã¯ã€å®Ÿè¡Œæ™‚ã®å¼•æ•°ã¨ã—ã¦ 3 ã¤ã®å€¤ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nç¬¬ä¸€å¼•æ•° : ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã®ãƒ‰ãƒ¡ã‚¤ãƒ³å (ä¾‹: michimani.net) ç¬¬äºŒå¼•æ•° : Certificate ã«ç´ä»˜ã‘ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³å (ä¾‹: sub.michimani.net) ç¬¬ä¸‰å¼•æ•° : Certificate ã‚’ç™ºè¡Œã™ã‚‹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ (ä¾‹: ap-northeast-1) ä¸Šè¨˜ã®ä¾‹ã®å€¤ã§å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ ./issue-certificate.sh michimani.net sub.michimani.net ap-northeast-1 Request certificate for \u0026#39;sub.michimani.net\u0026#39; to ACM. CERT_ARN = arn:aws:acm:ap-northeast-1:************:certificate/ac2c1f33-96ea-XXXX-XXXX-XXXXXXXXXX Create record set to validate domain in Route 53. VALIDATION_RECORD_NAME = _d82165d09e36XXXXXXXXXXXXXXXXXXXX.sub.michimani.net. VALIDATION_RECORD_VALUE = _e1a9a5b806b2XXXXXXXXXXXXXXXXXXXX.wggjkglgrm.acm-validations.aws. HOSTED_ZONE_ID = /hostedzone/Z39XXXXXXXXXX Change ID : /change/C06129382Z4LWAZ4JDF96 Finished to request certificate and create record set to validate domain. Please run command bellow to check validation status. aws acm describe-certificate \\ --certificate-arn arn:aws:acm:ap-northeast-1:************:certificate/ac2c1f33-96ea-XXXX-XXXX-XXXXXXXXXX \\ --query \u0026#34;Certificate.DomainValidationOptions[0].ValidationStatus\u0026#34; \\ --region ap-northeast-1 \\ --output text æœ€å¾Œã« Certificate ã®èªè¨¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã®ã§ã€ãã‚Œã‚’å®Ÿè¡Œã—ã¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã—ã¾ã™ã€‚\n$ aws acm describe-certificate \\ --certificate-arn arn:aws:acm:ap-northeast-1:************:certificate/ac2c1f33-96ea-XXXX-XXXX-XXXXXXXXXX \\ --query \u0026#34;Certificate.DomainValidationOptions[0].ValidationStatus\u0026#34; \\ --region ap-northeast-1 \\ --output text SUCCESS ã¾ã¨ã‚ ãªã‚“ã¨ãªãæ‰‹ä½œæ¥­ã§ä½œæˆã—ã¦ã„ã‚‹ ACM ã® Certificate ã‚’ AWS CLI ã§ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã—ã¦ã‚µã‚¯ãƒƒã¨ä½œæˆã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nå„ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒ»ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«ä¸€å›ã—ã‹ã‚„ã‚‰ãªã„ä½œæ¥­ã¨ã¯è¨€ãˆã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã•ã‚Œã¦ã„ã‚‹ã¨ã‹ãªã‚Šæ¥½ã§ã™ã€‚AWS CLI ã‚’ä½¿ãˆã°ã€å„ API ã‚’çµ„ã¿åˆã‚ã›ã¦ä¸€é€£ã®æ“ä½œã‚’ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€ç‹¬è‡ªã®ã‚³ãƒãƒ³ãƒ‰ã®ã‚ˆã†ãªã‚‚ã®ãŒç°¡å˜ã«ä½œæˆã§ãã¾ã™ã€‚ç‰¹ã«ã€ä»Šå›ä½œæˆã—ãŸã‚ˆã†ãªã€ã‚³ãƒ¼ãƒ‰ã§ç®¡ç†ã™ã‚‹ã»ã©ã§ã‚‚ãªã„ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹ã‚ˆã†ãªå ´é¢ã§ AWS CLI ã¯æ´»ãã‚‹ãªã¨æ€ã„ã¾ã—ãŸã€‚\nã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒã†ã¾ãå‹•ã‹ãªã„ã¨ã‹ã€ã“ã†ã—ãŸã»ã†ãŒã„ã„ã¨ã‹ã€ã”æ„è¦‹ã‚ã‚Œã°ä¸‹è¨˜ã® gist ã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’é ‚ã‘ã‚‹ã¨å¹¸ã„ã§ã™ã€‚\nThis is a shell script for issuing SSL certificates with ACM (Amazon Certificate Manager). Gist ",
    "permalink": "https://michimani.net/post/aws-issue-certificate-at-acm-by-shell-script/",
    "title": "ACM ã§ã® SSL è¨¼æ˜æ›¸ç™ºè¡Œã‚’ AWS CLI ã§ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã™ã‚‹"
  },
  {
    "contents": "AWS ãŒæä¾›ã—ã¦ã„ã‚‹ãƒ•ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ‰ãªã‚³ãƒ³ãƒ†ãƒŠãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‚µãƒ¼ãƒ“ã‚¹ Amazon ECR ãŒãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã¨ã—ã¦åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã„ã‚ã‚†ã‚‹ã€ Docker Hub ã®ã‚ˆã†ãªä½¿ã„æ–¹ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã‚ˆã†ã§ã™ã€‚ã¨ã„ã†ã“ã¨ã§ã€å®Ÿéš›ã« ECR ã®ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã§ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å…¬é–‹ã—ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\næ¦‚è¦ Amazon ECR ãŒãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã¨ã—ã¦åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã“ã‚Œã¾ã§ã¯ AWS å†…éƒ¨ (ECS/EKS) ã‹ã‚‰ä½¿ã†ã“ã¨ãŒåŸºæœ¬ (ã¨ã„ã†ã‹ãã‚Œã—ã‹ã§ããªã‹ã£ãŸï¼Ÿ) ã§ã—ãŸãŒã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãªãƒ¬ã‚¸ã‚¹ãƒˆãƒªã¨ã—ã¦åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã“ã¨ã§ã€ Docker Hub ã®ã‚ˆã†ã« AWS å†…å¤–ã«é–¢ã‚ã‚‰ãšã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nè©³ã—ãã¯æ—¢ã«ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒãƒã‚³ãƒ¼ã•ã‚“ãŒãƒ–ãƒ­ã‚°åŒ–ã•ã‚Œã¦ã„ã¾ã™ã€‚æ¯å¹´ re:Invent é–‹å‚¬æœŸã«ã¯æœ€é€Ÿã§æƒ…å ±ç™ºä¿¡ã—ã¦ã„ã‚‹ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã•ã‚“ã«ã¯ã‚ã‚‰ãŸã‚ã¦æ„Ÿè¬ã§ã™ã€‚ä»Šå¹´ã¯æœŸé–“ãŒé•·ã„ã®ã§ã¿ãªã•ã‚“ã®ãƒ–ãƒ­ã‚°ç­‹ãŒæœ€å¾Œã¾ã§å…ƒæ°—ã«å‹•ãã‚ˆã†ã«é™°ãªãŒã‚‰å¿œæ´ã—ã¦ã„ã¾ã™ã€‚\nã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å…¬é–‹ã—ã¦ã¿ã‚‹ ã§ã¯ã€ã•ã£ããã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å…¬é–‹ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚ä»Šå›ã¯ã™ã¹ã¦ AWS CLI ã§æ“ä½œã‚’ã—ã¦ã„ãã¾ã™ã€‚\nAWS CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª ç¾æ™‚ç‚¹ (2020/12/02) ã§ v1 ã¨ v2 ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\nv1\naws-cli-v1 $ aws --version aws-cli/1.18.187 Python/3.8.5 Darwin/19.6.0 botocore/1.19.27 v2\n$ aws --version aws-cli/2.1.5 Python/3.7.4 Darwin/19.6.0 exe/x86_64 prompt/off ECR ã®ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã«å¯¾ã™ã‚‹æ“ä½œã¯ ecr-public ã¨ã„ã†æ–°ãŸã«è¿½åŠ ã•ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ãŒã€ä¸Šè¨˜ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§å¯¾å¿œã—ã¦ã„ã‚‹ã®ã¯ v1 ã®ã¿ã§ã™ã€‚ v2 ã§ã¯ã¾ã ä½¿ãˆãªã„ã‚ˆã†ãªã®ã§ã€æ³¨æ„ã§ã™ã€‚ ãã®å¾Œ v2 ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 2.1.6 ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã€ ecr-public ã‚³ãƒãƒ³ãƒ‰ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚v1 ã ã‘ã§ãªã v2 ã§ã‚‚å®Ÿè¡Œå¯èƒ½ã§ã™ã€‚\necr-public ã‚³ãƒãƒ³ãƒ‰ã§ä½¿ç”¨ã§ãã‚‹ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\n$ aws ecr-public help ... AVAILABLE COMMANDS o batch-check-layer-availability o batch-delete-image o complete-layer-upload o create-repository o delete-repository o delete-repository-policy o describe-image-tags o describe-images o describe-registries o describe-repositories o get-authorization-token o get-login-password o get-registry-catalog-data o get-repository-catalog-data o get-repository-policy o help o initiate-layer-upload o put-image o put-registry-catalog-data o put-repository-catalog-data o set-repository-policy o upload-layer-part ãƒªãƒã‚¸ãƒˆãƒªã®ä½œæˆ ã¾ãšã¯ ECR ã«ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãªãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã¾ã™ã€‚ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã¯ create-repository ã§ã™ã€‚\n$ aws ecr-public create-repository help ... SYNOPSIS create-repository --repository-name \u0026lt;value\u0026gt; [--catalog-data \u0026lt;value\u0026gt;] [--cli-input-json \u0026lt;value\u0026gt;] [--generate-cli-skeleton \u0026lt;value\u0026gt;] ãƒªãƒã‚¸ãƒˆãƒªåã ã‘æŒ‡å®šã™ã‚Œã°è‰¯ã•ãã†ã§ã™ã€‚\nä»¥å‰ã€ Amazon Linux 2 ã« Python 3.8 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã£ã¦ Docker Hub ã«ç½®ã„ã¦ã„ã‚‹ã®ã§ã€åŒã˜ã‚‚ã®ã‚’ ECR ã§å…¬é–‹ã—ã¦ã¿ã¾ã™ã€‚\nmichimani/amzn2py38 - Docker Hub ã¨ã„ã†ã“ã¨ã§ã€ãƒªãƒã‚¸ãƒˆãƒªåã¯ amzn2py38 ã¨ã—ã¾ã™ã€‚\n$ aws ecr-public create-repository \\ --repository-name amzn2py38 Could not connect to the endpoint URL: \u0026#34;https://api.ecr-public.ap-northeast-1.amazonaws.com/\u0026#34; ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã¨ã„ã†ã“ã¨ã§ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ us-east-1 ã«ã—ã¦å†å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ aws ecr-public create-repository \\ --repository-name amzn2py38 \\ --region us-east-1 { \u0026#34;repository\u0026#34;: { \u0026#34;repositoryArn\u0026#34;: \u0026#34;arn:aws:ecr-public::************:repository/amzn2py38\u0026#34;, \u0026#34;registryId\u0026#34;: \u0026#34;************\u0026#34;, \u0026#34;repositoryName\u0026#34;: \u0026#34;amzn2py38\u0026#34;, \u0026#34;repositoryUri\u0026#34;: \u0026#34;public.ecr.aws/e4v1s0v0/amzn2py38\u0026#34;, \u0026#34;createdAt\u0026#34;: 1606861651.668 }, \u0026#34;catalogData\u0026#34;: {} } ä½œæˆã§ãã¾ã—ãŸã€‚ä¸€å¿œ describe-repositories ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã—ã¾ã™ã€‚\n$ aws ecr-public describe-repositories \\ --repository-names amzn2py38 \\ --region us-east-1 { \u0026#34;repositories\u0026#34;: [ { \u0026#34;repositoryArn\u0026#34;: \u0026#34;arn:aws:ecr-public::************:repository/amzn2py38\u0026#34;, \u0026#34;registryId\u0026#34;: \u0026#34;************\u0026#34;, \u0026#34;repositoryName\u0026#34;: \u0026#34;amzn2py38\u0026#34;, \u0026#34;repositoryUri\u0026#34;: \u0026#34;public.ecr.aws/e4v1s0v0/amzn2py38\u0026#34;, \u0026#34;createdAt\u0026#34;: 1606861651.668 } ] } å–å¾—ã§ãã¾ã—ãŸã€‚\nã‚¤ãƒ¡ãƒ¼ã‚¸ã® Push ä½œæˆã—ãŸãƒªãƒã‚¸ãƒˆãƒªã«ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ Push ã—ã¾ã™ã€‚ã“ã‚Œã¾ã§ ECR ã«ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ Push ã—ã¦ããŸã¨ãã¨åŒã˜ã‚ˆã†ã«ã€ ECR ã«ãƒ­ã‚°ã‚¤ãƒ³å¾Œã€ docker push ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ Push ã—ã¾ã™ã€‚å¾“æ¥ã®æ–¹æ³•ã¨ç•°ãªã£ã¦ã„ã‚‹ã®ã¯ã€ ECR ã«ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹éš›ã« ecr-public get-login-password ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ç‚¹ã§ã™ã€‚\nã¨ã„ã†ã“ã¨ã§ã€ã¾ãšã¯ ECR ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚\n$ aws ecr-public get-login-password \\ --region us-east-1 \\ | docker login \\ --username AWS --password-stdin public.ecr.aws Login Succeeded ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚\n$ docker build -t amzn2py38 . ã‚¿ã‚°ä»˜ã‘ã—ã¾ã™ã€‚\n$ docker tag amzn2py38:latest public.ecr.aws/e4v1s0v0/amzn2py38:latest Push ã—ã¾ã™ã€‚\ndocker push public.ecr.aws/e4v1s0v0/amzn2py38:latest Push ã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã¯ describe-images ã§ã™ã€‚\n$ aws ecr-public describe-images help ... SYNOPSIS describe-images [--registry-id \u0026lt;value\u0026gt;] --repository-name \u0026lt;value\u0026gt; [--image-ids \u0026lt;value\u0026gt;] [--cli-input-json \u0026lt;value\u0026gt;] [--starting-token \u0026lt;value\u0026gt;] [--page-size \u0026lt;value\u0026gt;] [--max-items \u0026lt;value\u0026gt;] [--generate-cli-skeleton \u0026lt;value\u0026gt;] ãƒªãƒã‚¸ãƒˆãƒªåã‚’æŒ‡å®šã—ã¾ã™ã€‚\n$ aws ecr-public describe-images \\ --repository-name amzn2py38 \\ --region us-east-1 { \u0026#34;imageDetails\u0026#34;: [ { \u0026#34;registryId\u0026#34;: \u0026#34;************\u0026#34;, \u0026#34;repositoryName\u0026#34;: \u0026#34;amzn2py38\u0026#34;, \u0026#34;imageDigest\u0026#34;: \u0026#34;sha256:8e6d74d747e42aefa22e27b2656b07356da814f3a2e6c17ba0f54310fdea8c54\u0026#34;, \u0026#34;imageTags\u0026#34;: [ \u0026#34;latest\u0026#34; ], \u0026#34;imageSizeInBytes\u0026#34;: 206732282, \u0026#34;imagePushedAt\u0026#34;: 1606863922.0, \u0026#34;imageManifestMediaType\u0026#34;: \u0026#34;application/vnd.docker.distribution.manifest.v2+json\u0026#34; } ] } ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒ Push ã§ãã¦ã¾ã™ã€‚\nã“ã¡ã‚‰ãŒå…¬é–‹ã•ã‚ŒãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚\nECR Public Gallery | e4v1s0v0/amzn2py38 ã¾ã¨ã‚ Amazon ECR ãŒãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã¨ã—ã¦åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å…¬é–‹ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nDocker Hub ã®åˆ©ç”¨åˆ¶é™ (Pull å›æ•°ã®åˆ¶é™) ã«è‹¦ã—ã‚“ã§ã„ã‚‹æ–¹ã¯ ECR ã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’åˆ©ç”¨ã—ã¦ã¿ã‚‹ã®ã‚‚è‰¯ã•ãã†ã§ã™ã€‚ECR ã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ ECR Public Gallery ã§æ¤œç´¢ã§ãã‚‹ã®ã§ã™ãŒã€æ—¢ã« MySQL ã‚„ nginx ã¨ã„ã£ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã‚‚å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ãªã®ã§ã€å‰å‘ãã«æ¤œè¨ã§ããã†ã§ã™ã€‚\nã‚ã¨ã€ã‚„ã£ã±ã‚Š AWS CLI ã®æ–°æ©Ÿèƒ½ã«å¯¾ã™ã‚‹å¯¾å¿œã¯ã¾ã ã¾ã  v1 ã®ã»ã†ãŒæ—©ã„ã®ã§ã€ã™ãã«è©¦ã—ãŸã„ï¼ã¨ã„ã†æ–¹ã¯ v1 ã¨ v2 ã®ä¸¡æ–¹ã‚’å…±å­˜ã•ã›ã¦ãŠãã¨ã‚ˆã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nå‚è€ƒ [TIPS] AWS CLIã®ã€Œv1ã€ã¨ã€Œv2ã€ã‚’å…±å­˜ã•ã›ã¦ä½¿ã†æ–¹æ³• | Developers.IO [TIPS] AWS CLIã®ã€Œv1ã€ã¨ã€Œv2ã€ã‚’å…±å­˜ã•ã›ã¦ä½¿ã†æ–¹æ³• (Dockerã‚³ãƒ³ãƒ†ãƒŠç·¨) | Developers.IO ",
    "permalink": "https://michimani.net/post/aws-push-image-to-ecr-public-registry/",
    "title": "Amazon ECR ã®ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã§ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å…¬é–‹ã—ã¦ã¿ã‚‹"
  },
  {
    "contents": "JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #172R S3åŸºç¤ (ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ) ã«å‚åŠ ã—ãŸã®ã§ã€ãã®ãƒ¬ãƒãƒ¼ãƒˆã§ã™ã€‚\nconnpass ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰ã€‚\nã“ã‚Œã¾ã§ã® CLI å°‚é–€æ”¯éƒ¨å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã¯ã“ã¡ã‚‰ã€‚\n#171R S3åŸºç¤ é€šçŸ¥ (Lambdaã®è‡ªå‹•å®Ÿè¡Œ) #170R S3åŸºç¤ ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« #169R S3åŸºç¤ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° #168R S3åŸºç¤ Webã‚µã‚¤ãƒˆ\u0026amp;amp;ãƒ­ã‚° #167R EventBridgeå…¥é–€ ç›®æ¬¡ S3 ã®å…¨ä½“åƒã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ“ä½œ 2020/11/26 æ™‚ç‚¹ã§ã® AWS CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ ãƒãƒ³ã‚ºã‚ªãƒ³ 2.2 S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ–°è¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ 2.4 S3 ãƒã‚±ãƒƒãƒˆã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§å–å¾— 2.7 S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ›´æ–° çŸ¥ã‚‰ã‚“ã‹ã£ãŸãã€ãã‚Œ S3 ãƒã‚±ãƒƒãƒˆã®ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ (ãƒªãƒ¼ã‚¸ãƒ§ãƒ³) ã ã‘å–å¾—ã™ã‚‹ head-object ã§ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã®ç¢ºèª delete-object ã¨ delete-objects ã¾ã¨ã‚ S3 ã®å…¨ä½“åƒã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ“ä½œ â€»åŸºæœ¬çš„ã«ã¯å‰å›ã¾ã§ã¨åŒå†…å®¹\nOutposts ç”¨ã® s3outposts ã‚³ãƒãƒ³ãƒ‰ãŒå‡ºã¦ããŸ\n$ aws s3outposts help ... NAME s3outposts - DESCRIPTION Amazon S3 on Outposts provides access to S3 on Outposts operations. AVAILABLE COMMANDS o create-endpoint o delete-endpoint o help o list-endpoints ãã®ä»–ã€ S3 ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚‹\ns3 : ãƒã‚¤ãƒ¬ãƒ™ãƒ«ã‚³ãƒãƒ³ãƒ‰ s3api : åŸºæœ¬ã® API s3control : ã‚¢ã‚¯ã‚»ã‚¹ãƒã‚¤ãƒ³ãƒˆã€ãƒãƒƒãƒã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€ Storage Lens ãªã©ã®æ“ä½œ ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ãã ã‘ã§ã¯ãªãã€ä»–ã®äººãƒ»ãƒªã‚½ãƒ¼ã‚¹ã«å…±æœ‰ã™ã‚‹ãŸã‚ã®ä»•çµ„ã¿ã‚‚å¤šæ•°\nã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®åˆ†é¡\nãƒ–ãƒ­ãƒƒã‚¯ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ å›ºå®šé•· OS ãŒç®¡ç†ã—ã¦ã„ã‚‹ (è«–ç†çš„ã«å¯å¤‰é•·ã«ã—ã¦ã„ã‚‹) ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ NAS ãªã© ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åå‰ã‚¹ã‚­ãƒ¼ãƒ\nãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ç„¡åŠ¹ : S3://\u0026lt;ãƒã‚±ãƒƒãƒˆå\u0026gt;/\u0026lt;ã‚­ãƒ¼\u0026gt; ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æœ‰åŠ¹ : S3://\u0026lt;ãƒã‚±ãƒƒãƒˆå\u0026gt;/\u0026lt;ã‚­ãƒ¼\u0026gt;\u0026lt;ãƒãƒ¼ã‚¸ãƒ§ãƒ³ID\u0026gt; 2020/11/26 æ™‚ç‚¹ã§ã® AWS CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ ã“ã‚Œã¾ã§ã«ã‚‚ãƒ¬ãƒãƒ¼ãƒˆã‚’æ›¸ã„ã¦ãã¾ã—ãŸãŒã€ãã®å½“æ™‚ã® AWS CLI ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ›¸ã„ã¦ãŠã“ã†ã¨æ€ã„ã¾ã™ã€‚ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ãŒã‚ã£ãŸ 2020/11/26 æ™‚ç‚¹ã§ã® v1 ãŠã‚ˆã³ v2 ãã‚Œãã‚Œã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã—ãŸã€‚\nv1\naws-cli-v1 $ aws --version aws-cli/1.18.185 Python/3.8.5 Darwin/19.6.0 botocore/1.19.25 v2\n$ aws --version aws-cli/2.1.4 Python/3.7.4 Darwin/19.6.0 exe/x86_64 ä»Šå›ã¯ç‰¹ã«æœ€æ–°ã®æ©Ÿèƒ½ã‚’ä½¿ã†ã‚ã‘ã§ã¯ãªã„ã®ã§ã€ v2 ã‚’ä½¿ç”¨ã—ã¦ã„ãã¾ã™ã€‚ã“ã“æ•°æ—¥ã¯ re:Invent å‰ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒæ€’æ¶›ã®å‹¢ã„ã§å‡ºã¦ãã¦ã„ã¾ã™ãŒã€æ–°ã—ã„ API ã«é–¢ã—ã¦ã¯ (å¾Œã« v2 ã§ã‚‚ä½¿ãˆã‚‹ã‚‚ã®ã®) v1 ã§ã®ã¿å¯¾å¿œã—ã¦ã„ã‚‹å ´åˆãŒã‚ã‚‹ã®ã§ã€æœ€æ–°ã®æ©Ÿèƒ½ã‚’ CLI ã§è©¦ã™å ´åˆã«ã¯ v1 ã‚’ä½¿ã£ãŸã»ã†ãŒã‚ˆã•ãã†ã§ã™ã€‚\nå‚è€ƒ PartiQL ãŒ DynamoDB ã«å¯¾å¿œã—ãŸã®ã§ AWS CLI ã‚’ä½¿ã£ã¦ DynamoDB ãƒ†ãƒ¼ãƒ–ãƒ«ã« SQL æ–‡ã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹ Amazon S3 Storage Lens ã‚’ AWS CLI ã§è§¦ã£ã¦ã¿ã‚‹ ãƒãƒ³ã‚ºã‚ªãƒ³ ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ã€æ–°ãŸã«ä½œæˆã—ãŸ S3 ãƒã‚±ãƒƒãƒˆã«å¯¾ã—ã¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½åŠ ã—ã€ãã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦ã‚³ãƒ”ãƒ¼ã‚„å±æ€§ã®æ›´æ–°ãªã©ã‚’å®Ÿè¡Œã—ãŸå¾Œã€å‰Šé™¤ã™ã‚‹ã¨ã“ã‚ã¾ã§ã‚’ CLI ã§æ“ä½œã—ã¾ã—ãŸã€‚\nä»Šå›ã‚‚ã€ãƒãƒ³ã‚ºã‚ªãƒ³ã®è©³ç´°ãªæ‰‹é †ã«ã¤ã„ã¦ã¯ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã®è³‡æ–™ã«ãŠã¾ã‹ã›ã™ã‚‹ã¨ã—ã¦ã€æ‰‹é †ã®ä¸­ã§æ°—ã«ãªã£ãŸã¨ã“ã‚ã‚’æŠœç²‹ã—ã¦ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n2.2 S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ–°è¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«ã¯ s3api put-object ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãŸãã•ã‚“ã‚ã‚Šã¾ã™ãŒã€å¿…é ˆãªã®ã¯ --bucket ã¨ --key ã®ã¿ã§ã™ã€‚\n$ aws s3api put-object help ... SYNOPSIS put-object [--acl \u0026lt;value\u0026gt;] [--body \u0026lt;value\u0026gt;] --bucket \u0026lt;value\u0026gt; [--cache-control \u0026lt;value\u0026gt;] [--content-disposition \u0026lt;value\u0026gt;] [--content-encoding \u0026lt;value\u0026gt;] [--content-language \u0026lt;value\u0026gt;] [--content-length \u0026lt;value\u0026gt;] [--content-md5 \u0026lt;value\u0026gt;] [--content-type \u0026lt;value\u0026gt;] [--expires \u0026lt;value\u0026gt;] [--grant-full-control \u0026lt;value\u0026gt;] [--grant-read \u0026lt;value\u0026gt;] [--grant-read-acp \u0026lt;value\u0026gt;] [--grant-write-acp \u0026lt;value\u0026gt;] --key \u0026lt;value\u0026gt; [--metadata \u0026lt;value\u0026gt;] [--server-side-encryption \u0026lt;value\u0026gt;] [--storage-class \u0026lt;value\u0026gt;] [--website-redirect-location \u0026lt;value\u0026gt;] [--sse-customer-algorithm \u0026lt;value\u0026gt;] [--sse-customer-key \u0026lt;value\u0026gt;] [--sse-customer-key-md5 \u0026lt;value\u0026gt;] [--ssekms-key-id \u0026lt;value\u0026gt;] [--ssekms-encryption-context \u0026lt;value\u0026gt;] [--request-payer \u0026lt;value\u0026gt;] [--tagging \u0026lt;value\u0026gt;] [--object-lock-mode \u0026lt;value\u0026gt;] [--object-lock-retain-until-date \u0026lt;value\u0026gt;] [--object-lock-legal-hold-status \u0026lt;value\u0026gt;] [--expected-bucket-owner \u0026lt;value\u0026gt;] [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] å„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è©³ç´°ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nput-object â€” AWS CLI 2.1.4 Command Reference ã“ã“ã§ã¯æ–°ãŸã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã®ã§ã€ --body ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n$ cat alpha.txt This is A text. $ aws s3api put-object \\ --bucket ${S3_BUCKET_NAME} \\ --key alpha/message_a.txt \\ --body ./alpha.txt { \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;75721060f35a9f9f6bdaf9985394e9a8\\\u0026#34;\u0026#34; } åŒæ§˜ã«\n$ cat beta.txt\nThis is B text.\n$ aws s3api put-object \u0026ndash;bucket ${S3_BUCKET_NAME} \u0026ndash;key beta/message_b.txt \u0026ndash;body ./beta.txt\n{ \u0026ldquo;ETag\u0026rdquo;: \u0026ldquo;\u0026quot;424e9ac2402771285730c91435c5a23d\u0026quot;\u0026rdquo; }\næ­£ã—ãã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ããŸã‹ç¢ºèªã—ã¾ã™ã€‚ã“ã“ã§ã¯ç°¡æ½”ã« s3 ls ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã—ã¾ã™ã€‚\n$ aws s3 ls s3://${S3_BUCKET_NAME}/alpha/ 2020-11-26 22:49:09 16 message_a.txt $ aws s3 ls s3://${S3_BUCKET_NAME}/beta/ 2020-11-26 22:49:17 17 message_b.txt 2.4 S3 ãƒã‚±ãƒƒãƒˆã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§å–å¾— S3 ãƒã‚±ãƒƒãƒˆå†…ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã‚’å–å¾—ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã¨ã—ã¦ã¯ list-objects ã¨ list-objects-v2 ãŒå­˜åœ¨ã—ã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ Warning ã¨ã—ã¦æ¬¡ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nThis API has been revised. We recommend that you use the newer version, ListObjectsV2 , when developing applications. For backward compatibility, Amazon S3 continues to support ListObjects .\nlist-objects â€” AWS CLI 2.1.4 Command Reference ã¨ã„ã†ã“ã¨ã§ã€ list-objects-v2 ã‚’ä½¿ã†ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚\n$ aws s3api list-objects-v2 \\ --bucket ${S3_BUCKET_NAME} { \u0026#34;Contents\u0026#34;: [ { \u0026#34;Key\u0026#34;: \u0026#34;alpha/message_a.txt\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-11-26T13:49:09+00:00\u0026#34;, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;75721060f35a9f9f6bdaf9985394e9a8\\\u0026#34;\u0026#34;, \u0026#34;Size\u0026#34;: 16, \u0026#34;StorageClass\u0026#34;: \u0026#34;STANDARD\u0026#34; }, { \u0026#34;Key\u0026#34;: \u0026#34;beta/message_b.txt\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-11-26T13:49:17+00:00\u0026#34;, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;424e9ac2402771285730c91435c5a23d\\\u0026#34;\u0026#34;, \u0026#34;Size\u0026#34;: 17, \u0026#34;StorageClass\u0026#34;: \u0026#34;STANDARD\u0026#34; } ] } 2.7 S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ›´æ–° S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ›´æ–°ã«ã¯ã€æ–°è¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®æ™‚ã¨åŒã˜ put-object ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚å…ˆç¨‹ã‚‚æ›¸ã„ãŸã‚ˆã†ã«ã€å¿…é ˆã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ --bucket ã¨ --key ã§ã™ã€‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‡ªä½“ã‚’æ›´æ–°ã—ãªã„å ´åˆã¯ --body ã®æŒ‡å®šã¯ä¸è¦ã§ã€æ›´æ–°ã—ãŸã„å±æ€§ã«å¯¾å¿œã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚Œã° OK ã§ã™ã€‚ä¾‹ãˆã°ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã™ã‚‹å ´åˆã¯ --metadata ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ä¸‹è¨˜ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ã€‚\n$ aws s3api put-object \\ --bucket ${S3_BUCKET_NAME} \\ --key alpha/message_a.txt \\ --metadata secretLevel=1,Category=\u0026#34;sample text\u0026#34; { \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;d41d8cd98f00b204e9800998ecf8427e\\\u0026#34;\u0026#34; } ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3api head-object \\ --bucket ${S3_BUCKET_NAME} \\ --key alpha/message_a.txt { \u0026#34;AcceptRanges\u0026#34;: \u0026#34;bytes\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-11-26T13:54:44+00:00\u0026#34;, \u0026#34;ContentLength\u0026#34;: 0, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;d41d8cd98f00b204e9800998ecf8427e\\\u0026#34;\u0026#34;, \u0026#34;ContentType\u0026#34;: \u0026#34;binary/octet-stream\u0026#34;, \u0026#34;Metadata\u0026#34;: { \u0026#34;category\u0026#34;: \u0026#34;sample text\u0026#34;, \u0026#34;secretlevel\u0026#34;: \u0026#34;1\u0026#34; } } ã“ã“ã§æ³¨æ„ã—ãŸã„ã®ãŒã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ã‚­ãƒ¼ã¯å¤§æ–‡å­—/å°æ–‡å­—ãŒåŒºåˆ¥ã•ã‚Œãªã„ã“ã¨ã§ã™ã€‚ put-object ã‚³ãƒãƒ³ãƒ‰ã§ã¯ secretLevel ã¨ Category ã‚’æŒ‡å®šã—ã¾ã—ãŸãŒã€å®Ÿéš›ã«ã¯ category ã¨ secretlevel ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ ãŸã ã—ã€ SDK for Go ã§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹éš›ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ã‚­ãƒ¼åã¯ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ã«ãªã‚‹ã®ãŒå€‹äººçš„ã«ã¯ãƒãƒã‚Šãƒã‚¤ãƒ³ãƒˆã‹ãªã¨æ€ã„ã¾ã™ã€‚\nãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä»¥å¤–ã®ä¾‹ã¨ã—ã¦ã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã‚’å¤‰æ›´ã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3api put-object \\ --bucket ${S3_BUCKET_NAME} \\ --key beta/message_b.txt \\ --storage-class ONEZONE_IA { \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;d41d8cd98f00b204e9800998ecf8427e\\\u0026#34;\u0026#34; } ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚\n$ aws s3api list-objects-v2 \\ --bucket ${S3_BUCKET_NAME} { \u0026#34;Contents\u0026#34;: [ { \u0026#34;Key\u0026#34;: \u0026#34;alpha/message_a.txt\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-11-26T13:58:42+00:00\u0026#34;, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;d41d8cd98f00b204e9800998ecf8427e\\\u0026#34;\u0026#34;, \u0026#34;Size\u0026#34;: 0, \u0026#34;StorageClass\u0026#34;: \u0026#34;STANDARD\u0026#34; }, { \u0026#34;Key\u0026#34;: \u0026#34;beta/message_b.txt\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-11-26T14:08:24+00:00\u0026#34;, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;d41d8cd98f00b204e9800998ecf8427e\\\u0026#34;\u0026#34;, \u0026#34;Size\u0026#34;: 0, \u0026#34;StorageClass\u0026#34;: \u0026#34;ONEZONE_IA\u0026#34; } ] } çŸ¥ã‚‰ã‚“ã‹ã£ãŸãã€ãã‚Œ ä»Šå›ã«é™ã‚‰ãšãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯æ–°ã—ãçŸ¥ã‚‹ã“ã¨ãŒãŸãã•ã‚“ã‚ã‚‹ã®ã§ã€ã“ã® çŸ¥ã‚‰ã‚“ã‹ã£ãŸãã€ãã‚Œ é …ç›®ã§ã¯æ–°ã—ãçŸ¥ã£ãŸã“ã¨ã‚’è‡ªåˆ†ãªã‚Šã«æ·±å €ã‚Šã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚(æ’ä¾‹åŒ–ã—ãŸã„)\nã¨ã„ã†ã‚ã‘ã§ã€å‰å›ã¨å‰ã€…å›ã¯ã“ã®ã‚³ãƒ¼ãƒŠãƒ¼ãŒãªã‹ã£ãŸã®ã§ã™ãŒã€ä»Šå›ã¯ã„ãã¤ã‹å–ã‚Šä¸Šã’ã¦ã¿ã¾ã™ã€‚\nS3 ãƒã‚±ãƒƒãƒˆã®ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ (ãƒªãƒ¼ã‚¸ãƒ§ãƒ³) ã ã‘å–å¾—ã™ã‚‹ ã‹ãªã‚Šã®å°ãƒã‚¿ã£ã½ã„å†…å®¹ã§ã™ãŒã€å¯¾è±¡ã®ãƒã‚±ãƒƒãƒˆã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã ã‘ã‚’å–å¾—ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ (API) ãŒå­˜åœ¨ã—ã¦ã„ã‚‹ã“ã¨ã‚’åˆã‚ã¦çŸ¥ã‚Šã¾ã—ãŸã€‚\n$ aws s3api get-bucket-location \\ --bucket ${S3_BUCKET_NAME} { \u0026#34;LocationConstraint\u0026#34;: \u0026#34;ap-northeast-1\u0026#34; } head-object ã§ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã®ç¢ºèª ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã‚’ç¢ºèªã™ã‚‹ã«ã¯ list-object-v2 ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã—ã‹ç„¡ã„ã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€ head-object ã‚³ãƒãƒ³ãƒ‰ã§ã‚‚å–å¾—ã§ãã‚‹ã‚ˆã†ã§ã—ãŸã€‚ãŸã ã—æ¡ä»¶ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãšã¯ beta/message_b.txt ã®æƒ…å ±ã‚’å–å¾—ã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3api head-object \\ --bucket ${S3_BUCKET_NAME} \\ --key beta/message_b.txt { \u0026#34;AcceptRanges\u0026#34;: \u0026#34;bytes\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-11-26T14:08:24+00:00\u0026#34;, \u0026#34;ContentLength\u0026#34;: 0, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;d41d8cd98f00b204e9800998ecf8427e\\\u0026#34;\u0026#34;, \u0026#34;ContentType\u0026#34;: \u0026#34;binary/octet-stream\u0026#34;, \u0026#34;Metadata\u0026#34;: {}, \u0026#34;StorageClass\u0026#34;: \u0026#34;ONEZONE_IA\u0026#34; } å–å¾—ã§ãã¦ã¾ã™ã­ã€‚ã§ã¯ alpha/message_a.txt ã‚‚å–å¾—ã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3api head-object \\ --bucket ${S3_BUCKET_NAME} \\ --key alpha/message_a.txt { \u0026#34;AcceptRanges\u0026#34;: \u0026#34;bytes\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-11-26T13:58:42+00:00\u0026#34;, \u0026#34;ContentLength\u0026#34;: 0, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;d41d8cd98f00b204e9800998ecf8427e\\\u0026#34;\u0026#34;, \u0026#34;ContentType\u0026#34;: \u0026#34;binary/octet-stream\u0026#34;, \u0026#34;Metadata\u0026#34;: { \u0026#34;category\u0026#34;: \u0026#34;sample text\u0026#34;, \u0026#34;secretlevel\u0026#34;: \u0026#34;1\u0026#34; } } ã¯ã„ã€‚ StorageClass ã®å±æ€§ãŒã‚ã‚Šã¾ã›ã‚“ã€‚\nã“ã‚Œã¯ã©ã†ã„ã†ã“ã¨ã‹ã¨ã„ã†ã¨ã€ã©ã†ã‚„ã‚‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ãŒ S3 æ¨™æº– (STANDARD) ã®å ´åˆã¯ head-object ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹å†…ã«æƒ…å ±ãŒå«ã¾ã‚Œãªã„ã‚ˆã†ã§ã™ã€‚\nå€‹äººçš„ã«ã¯ã€ head-object ã§å–å¾—ã§ããªã„ã¨æ€ã£ã¦ã„ãŸã®ã§å¬‰ã—ã„èª¤ç®—ã§ã—ãŸãŒã€åŸºæœ¬çš„ã«æ‰±ã†ã®ã¯æ¨™æº–ã‚¯ãƒ©ã‚¹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãªã®ã§ã€ã‚„ã£ã±ã‚Šã¡ã‚‡ã£ã¨æ®‹å¿µã ãªã¨ã„ã†æ€ã„ã§ã™ã€‚\ndelete-object ã¨ delete-objects S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å‰Šé™¤ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã¨ã—ã¦ delete-object ã¨ delete-objects ãŒå­˜åœ¨ã—ã¦ã„ã¾ã™ã€‚ã‚³ãƒãƒ³ãƒ‰åã ã‘è¦‹ã‚‹ã¨ delete-objects ã®ã»ã†ã¯è¤‡æ•°ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã¾ã¨ã‚ã¦å‰Šé™¤ã§ããã†ãªã®ã§ä¾¿åˆ©ã‹ãªã¨æ€ã†ã‚“ã§ã™ãŒã€å®Ÿéš›ã¯å¯¾è±¡ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã™ã¹ã¦åˆ—æŒ™ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚é€†ã«ä½¿ã„ã¥ã‚‰ã„ã‚ˆã†ã§ã™ã€‚\n$ aws s3api delete-objects help ... OPTIONS ... --delete (structure) Container for the request. Objects -\u0026gt; (list) The objects to delete. (structure) Object Identifier is unique value to identify objects. Key -\u0026gt; (string) Key name of the object to delete. VersionId -\u0026gt; (string) VersionId for the specific version of the object to delete. Quiet -\u0026gt; (boolean) Element to enable quiet mode for the request. When you add this element, you must set its value to true. Shorthand Syntax: Objects=[{Key=string,VersionId=string},{Key=string,VersionId=string}],Quiet=boolean JSON Syntax: { \u0026#34;Objects\u0026#34;: [ { \u0026#34;Key\u0026#34;: \u0026#34;string\u0026#34;, \u0026#34;VersionId\u0026#34;: \u0026#34;string\u0026#34; } ... ], \u0026#34;Quiet\u0026#34;: true|false } å‰Šé™¤å¯¾è±¡ã¯ --delete ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã™ã‚‹ã®ã§ã™ãŒã€ Shorthand Syntax ã§æŒ‡å®šã™ã‚‹ã«ã—ã¦ã‚‚\nObjects=[{Key=string,VersionId=string},{Key=string,VersionId=string}],Quiet=boolean ã®ã‚ˆã†ãªå½¢ã§æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ã“ã®æ–‡å­—åˆ—ã‚’ç”Ÿæˆã™ã‚‹ã®ã¯ãªã‹ãªã‹é¢å€’ã§ã™ã€‚\nã§ã‚ã‚Œã°ã€å‰Šé™¤å¯¾è±¡ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ list-objects-v2 ã‚³ãƒãƒ³ãƒ‰ã§å–å¾—ã—ã¦ã€ãã‚Œã‚‰ã«å¯¾ã—ã¦ delete-object ã‚’ä½¿ã£ãŸã»ã†ãŒæ¥½ãã†ã§ã™ã€‚å®Ÿéš›ã«ã¯æ¬¡ã®ã‚ˆã†ãªå½¢ã§å®Ÿè¡Œã—ã¾ã™ã€‚\n$ for i in $( aws s3api list-objects-v2 \\ --bucket ${S3_BUCKET_NAME} \\ --query \u0026#39;Contents[].Key\u0026#39; \\ --output text ); do aws s3api delete-object \\ --bucket ${S3_BUCKET_NAME} \\ --key ${i} done ã“ã‚Œã§ list-objects-v2 ã§å–å¾—ã§ãã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã™ã¹ã¦å‰Šé™¤ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã¾ã¨ã‚ JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #172R S3åŸºç¤ (ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ) ã«å‚åŠ ã—ãŸã®ã§ã€ãã®ãƒ¬ãƒãƒ¼ãƒˆã§ã—ãŸã€‚\nä»Šå›ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã™ã‚‹æ“ä½œã‚’ã€ãƒã‚¤ãƒ¬ãƒ™ãƒ«ã‚³ãƒãƒ³ãƒ‰ã® aws s3 ã§ã¯ãªã API ã¨å¯¾ã«ãªã£ã¦ã„ã‚‹ aws s3api ã§å®Ÿè¡Œã—ã¾ã—ãŸã€‚ s3 ã‚³ãƒãƒ³ãƒ‰ã§ã¯ cp ã‚„ ls ã¨ã„ã£ãŸã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§æ“ä½œã§ãã‚‹ã®ã§ã€å˜ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç§»å‹•ã‚„å‰Šé™¤ã‚’è¡Œã†éš›ã«ã¯éå¸¸ã«ç°¡å˜ã§ã™ã€‚ä¸€æ–¹ s3api ã‚³ãƒãƒ³ãƒ‰ã§ã¯ã€ API ã¨å¯¾ã«ãªã£ãŸã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦æ“ä½œã™ã‚‹ãŸã‚ã€ JSON å½¢å¼ã§ç”Ÿã®æƒ…å ±ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãã®ãŸã‚ã€å®Ÿè¡Œçµæœã‹ã‚‰å¿…è¦ãªéƒ¨åˆ†ã‚’ --query ã§æŠœãå‡ºã—ãŸã‚Šã€ä»–ã®ã‚³ãƒãƒ³ãƒ‰ã«æ¸¡ã—ãŸã‚Šã—ã‚„ã™ããªã‚Šã¾ã™ã€‚\nãã‚Œä»¥å‰ã«ã€ã‚„ã¯ã‚Š API ãƒ™ãƒ¼ã‚¹ã§ä½•ãŒè¡Œã‚ã‚Œã¦ã„ã‚‹ã®ã‹ãŒã‚ã‹ã‚‹ã®ãŒ s3api ã‚³ãƒãƒ³ãƒ‰ã®è‰¯ã„ã¨ã“ã‚ã ã¨æ€ã„ã¾ã™ã€‚\næ¬¡å›ã®ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ S3 ã«ã¤ã„ã¦ã¯ä¸€æ—¦åŒºåˆ‡ã‚Šã‹ãªã¨æ€ã„ã¾ã™ãŒã€ã ã„ã¶ S3 ã«é–¢ã™ã‚‹çŸ¥è­˜ãŒã¤ã„ã¦ããŸã‚ˆã†ãªæ°—ãŒã—ã¾ã™ã€‚ãã‚“ãªä¸­ã§æ„Ÿã˜ã‚‹ã®ãŒã€ã‚„ã£ã±ã‚Š S3 ã¯ Simple ã˜ã‚ƒãªã„ã£ã¦ã“ã¨ã§ã™ã­ã€‚\n",
    "permalink": "https://michimani.net/post/aws-jaws-ug-cli-172r-s3-object/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #172R S3åŸºç¤ (ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ) ã«å‚åŠ ã—ã¾ã—ãŸ #jawsug_cli"
  },
  {
    "contents": "re:Invent å‰ã®æ€’æ¶›ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒç¶šãä¸­ã§ã€ PartiQL ãŒ Amazon DynamoDB ã«å¯¾å¿œã—ãŸã¨ã„ã†ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒç™ºè¡¨ã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã£ã¦ã€ DynamoDB ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾ã—ã¦ SQL æ–‡ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä»Šå›ã¯ã€ AWS CLI çµŒç”±ã§ DynamoDB ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾ã—ã¦ SQL æ–‡ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ PartiQL ã¨ã¯ AWS CLI ã§è©¦ã™ v2 ã¯æœªå¯¾å¿œ execute-statement ã‚³ãƒãƒ³ãƒ‰ SELECT æ–‡ INSERT æ–‡ ã¾ã¨ã‚ æ¦‚è¦ PartiQL ãŒ Amazon DynamoDB ã«å¯¾å¿œã—ã€DynamoDB ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾ã—ã¦ SQL æ–‡ã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nPartiQL - A SQL-Compatible Query Language for Amazon DynamoDB - Amazon DynamoDB PartiQL ã¨ã¯ PartiQL ã¨ã¯ã€ AWS ãŒã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã¨ã—ã¦å…¬é–‹ã—ã¦ã„ã‚‹ SQL äº’æ›ã®å•ã„åˆã‚ã›è¨€èªã§ã™ã€‚CSV ã‚„ JSON ãªã©ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦ã€ SQL æ–‡ã§æ“ä½œã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚\nAnnouncing PartiQL: One query language for all your data | AWS Open Source Blog AWS CLI ã§è©¦ã™ DynamoDB ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾ã™ã‚‹ SQL ã®å®Ÿè¡Œã¯ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã€ AWS SDKã€ AWS CLI ã‹ã‚‰è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚ä»Šå›ã¯ AWS CLI ã‹ã‚‰ SELECT æ–‡ã‚’ INSERT æ–‡ã®å®Ÿè¡Œã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚\nv2 ã¯æœªå¯¾å¿œ 2020/11/24 æ™‚ç‚¹ã§ AWS CLI ã® v1/v2 ãã‚Œãã‚Œã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\nv1 aws-cli-v1 $ aws --version aws-cli/1.18.184 Python/3.8.5 Darwin/19.6.0 botocore/1.19.24 v2 $ aws --version aws-cli/2.1.3 Python/3.7.4 Darwin/19.6.0 exe/x86_64 DynamoDB ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾ã—ã¦ SQL æ–‡ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã«ä½¿ã†ã‚³ãƒãƒ³ãƒ‰ã¯ dynamodb execute-statement ãªã®ã§ã™ãŒã€ ä¸Šè¨˜ã®æ™‚ç‚¹ã§å¯¾å¿œã—ã¦ã„ã‚‹ã®ã¯ v1 ã®ã¿ã§ã™ ä»Šæ—¥ (2020/11/25) ã«ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸ 2.1.4 ã§ v2 ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nãªã®ã§ã€ä»Šå›ã¯ 1.18.184 ã§å®Ÿè¡Œã—ã¦ã„ãã¾ã™ã€‚\nexecute-statement ã‚³ãƒãƒ³ãƒ‰ SQL ã®å®Ÿè¡Œã«ä½¿ç”¨ã™ã‚‹ execute-statement ã‚³ãƒãƒ³ãƒ‰ã¯ã€æ¬¡ã®ã‚ˆã†ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å—ã‘ä»˜ã‘ã¾ã™ã€‚\n$ aws dynamodb execute-statement help ... SYNOPSIS execute-statement --statement \u0026lt;value\u0026gt; [--parameters \u0026lt;value\u0026gt;] [--consistent-read | --no-consistent-read] [--next-token \u0026lt;value\u0026gt;] [--cli-input-json \u0026lt;value\u0026gt;] [--generate-cli-skeleton \u0026lt;value\u0026gt;] --statement ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ SQL æ–‡ã‚’æŒ‡å®šã™ã‚‹å½¢ã«ãªã‚Šã¾ã™ã€‚\nSELECT æ–‡ ã¾ãšã¯ SELECT æ–‡ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ aws dynamodb execute-statement \\ --statement \u0026#39;SELECT * FROM Thread;\u0026#39; { \u0026#34;Items\u0026#34;: [ { \u0026#34;LastPostedDateTime\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;2015-09-22T19:58:22.514Z\u0026#34; }, \u0026#34;Replies\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;0\u0026#34; }, \u0026#34;Message\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;CloudFront thread 1 message\u0026#34; }, \u0026#34;LastPostedBy\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;User A\u0026#34; }, \u0026#34;Answered\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;0\u0026#34; }, \u0026#34;ForumName\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Amazon CloudFront\u0026#34; }, \u0026#34;Tags\u0026#34;: { \u0026#34;L\u0026#34;: [ { \u0026#34;S\u0026#34;: \u0026#34;index\u0026#34; }, { \u0026#34;S\u0026#34;: \u0026#34;primarykey\u0026#34; }, { \u0026#34;S\u0026#34;: \u0026#34;table\u0026#34; } ] }, \u0026#34;Views\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;10\u0026#34; }, \u0026#34;Subject\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;CloudFront Thread 1\u0026#34; } }, { \u0026#34;LastPostedDateTime\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;2015-09-29T19:58:22.514Z\u0026#34; }, \u0026#34;Replies\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;0\u0026#34; }, \u0026#34;Message\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;S3 thread 1 message\u0026#34; }, \u0026#34;LastPostedBy\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;User A\u0026#34; }, \u0026#34;Answered\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;0\u0026#34; }, \u0026#34;Views\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;0\u0026#34; }, \u0026#34;ForumName\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Amazon S3\u0026#34; }, \u0026#34;Tags\u0026#34;: { \u0026#34;L\u0026#34;: [ { \u0026#34;S\u0026#34;: \u0026#34;largeobjects\u0026#34; }, { \u0026#34;S\u0026#34;: \u0026#34;multipart upload\u0026#34; } ] }, \u0026#34;Subject\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;S3 Thread 1\u0026#34; } }, { \u0026#34;LastPostedDateTime\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;2015-09-22T19:58:22.514Z\u0026#34; }, \u0026#34;Replies\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;0\u0026#34; }, \u0026#34;Message\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;DynamoDB thread 1 message\u0026#34; }, \u0026#34;LastPostedBy\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;User A\u0026#34; }, \u0026#34;Answered\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;0\u0026#34; }, \u0026#34;Views\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;0\u0026#34; }, \u0026#34;ForumName\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Amazon DynamoDB\u0026#34; }, \u0026#34;Tags\u0026#34;: { \u0026#34;L\u0026#34;: [ { \u0026#34;S\u0026#34;: \u0026#34;index\u0026#34; }, { \u0026#34;S\u0026#34;: \u0026#34;primarykey\u0026#34; }, { \u0026#34;S\u0026#34;: \u0026#34;table\u0026#34; } ] }, \u0026#34;Subject\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;DynamoDB Thread 1\u0026#34; } }, { \u0026#34;LastPostedDateTime\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;2015-09-15T19:58:22.514Z\u0026#34; }, \u0026#34;Replies\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;0\u0026#34; }, \u0026#34;Message\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;DynamoDB thread 2 message\u0026#34; }, \u0026#34;LastPostedBy\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;User A\u0026#34; }, \u0026#34;Answered\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;0\u0026#34; }, \u0026#34;ForumName\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Amazon DynamoDB\u0026#34; }, \u0026#34;Views\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;0\u0026#34; }, \u0026#34;Tags\u0026#34;: { \u0026#34;L\u0026#34;: [ { \u0026#34;S\u0026#34;: \u0026#34;items\u0026#34; }, { \u0026#34;S\u0026#34;: \u0026#34;attributes\u0026#34; }, { \u0026#34;S\u0026#34;: \u0026#34;throughput\u0026#34; } ] }, \u0026#34;Subject\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;DynamoDB Thread 2\u0026#34; } } ] } INSERT æ–‡ ç¶šã„ã¦ã€ INSERT æ–‡ã§é …ç›®ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã™ã€‚\n$ aws dynamodb execute-statement \\ --statement \u0026#34;SELECT * FROM Thread WHERE ForumName=\u0026#39;DynamoDB\u0026#39; AND Subject=\u0026#39;PartiQL for DynamoDB\u0026#39;;\u0026#34; { \u0026#34;Items\u0026#34;: [] } æ­£ã—ãè¿½åŠ ã§ããŸã‹ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws dynamodb execute-statement \\ --statement \u0026#34;SELECT * FROM Thread WHERE ForumName=\u0026#39;Amazon DynamoDB\u0026#39; AND Subject=\u0026#39;PartiQL for DynamoDB\u0026#39;;\u0026#34; { \u0026#34;Items\u0026#34;: [ { \u0026#34;Message\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;This is a sample SQL.\u0026#34; }, \u0026#34;ForumName\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Amazon DynamoDB\u0026#34; }, \u0026#34;Subject\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;PartiQL for DynamoDB\u0026#34; } } ] } ã¾ã¨ã‚ PartiQL ãŒ DynamoDB ã«å¯¾å¿œã—ãŸã®ã§ AWS CLI ã‚’ä½¿ã£ã¦ DynamoDB ãƒ†ãƒ¼ãƒ–ãƒ«ã« SQL æ–‡ã‚’å®Ÿè¡Œã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\næ­£ç›´ã€ AWS CLI ã‹ã‚‰ SQL æ–‡ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã¯ã‚ã¾ã‚Šãªã„ã‹ã¨æ€ã„ã¾ã™ã€‚ã‚€ã—ã‚ã€å„ SDK ã‹ã‚‰å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã“ã¨ã§ã€ã“ã‚Œã¾ã§å–å¾—ã—è¾›ã‹ã£ãŸå†…å®¹ãªã©ã¯ SQL æ–‡ã‚’ä½¿ã†ã“ã¨ã§æŸ”è»Ÿã«å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\n",
    "permalink": "https://michimani.net/post/aws-use-partiql-for-dynamodb-by-aws-cli/",
    "title": "PartiQL ãŒ DynamoDB ã«å¯¾å¿œã—ãŸã®ã§ AWS CLI ã‚’ä½¿ã£ã¦ DynamoDB ãƒ†ãƒ¼ãƒ–ãƒ«ã« SQL æ–‡ã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹"
  },
  {
    "contents": "å…ˆæ—¥ã€ Amazon S3 Storage Lens ã¨ã„ã†ã‚µãƒ¼ãƒ“ã‚¹ (æ©Ÿèƒ½) ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã¯ S3 ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨çŠ¶æ³ãªã©ã‚’å¯è¦–åŒ–ã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚ä»Šå›ã¯ãã® Amazon S3 Storage Lens ã‚’ AWS CLI ã‚’ä½¿ã£ã¦è§¦ã£ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ Amazon S3 Storage Lens ã¨ã¯ AWS CLI ã§è§¦ã£ã¦ã¿ã‚‹ Storage Lens ã«é–¢é€£ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ æ—¢å­˜ã®æƒ…å ±ã‚’å–å¾—ã—ã¦ã¿ã‚‹ StorageLensConfiguration ã®å†…å®¹ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ä½œæˆã™ã‚‹ ã¾ã¨ã‚ Amazon S3 Storage Lens ã¨ã¯ Amazon S3 Storage Lens ã«ã¤ã„ã¦ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯æ¬¡ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nAmazon S3 Storage Lens provides a single view of object storage usage and activity across your Amazon S3 storage. With drill-down options to generate insights at the organization, account, bucket, object, or even prefix level. S3 Storage Lens analyzes storage metrics to deliver contextual recommendations to help optimize storage costs and apply best practices on data protection.\nUsing Amazon S3 Storage Lens - Amazon Simple Storage Service å†…å®¹ã‚’ç¿»è¨³ã—ã¦è¦ç´„ã™ã‚‹ã¨ã€ Amazon S3 ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨çŠ¶æ³ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã«é–¢ã™ã‚‹æ§˜ã€…ãªæƒ…å ±ã‚’ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§è¡¨ç¤ºã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚ AWS Organizations ã«ã‚‚å¯¾å¿œã—ã¦ãŠã‚Šã€ Organizations ã«æ‰€å±ã—ã¦ã„ã‚‹ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æƒ…å ±ã‚‚è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nè©³ç´°ã«ã¤ã„ã¦ã¯ã‚¯ãƒ©ãƒ¡ã‚½ã•ã‚“ã®ãƒ–ãƒ­ã‚°ã§æ—¢ã«ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã¾ã æ—¥æœ¬èªã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ç”¨æ„ã•ã‚Œã¦ã„ãªã„ã‚ˆã†ã§ã™ãŒã€è‹±èªã§ã¯ä¸‹è¨˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nAssessing your storage activity and usage with Amazon S3 Storage Lens - Amazon Simple Storage Service AWS CLI ã§è§¦ã£ã¦ã¿ã‚‹ ã§ã¯ã€æ—©é€Ÿ AWS CLI ã‚’ä½¿ã£ã¦ Amazon S3 Storage Lens ã‚’æ“ä½œã—ã¦ã¿ã¾ã™ã€‚AWS CLI ã® v1 ã¨ v2 ãã‚Œãã‚Œã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€2020/11/21 æ™‚ç‚¹ã§ 1.18.183 ã¨ 2.1.3 ã¨ãªã£ã¦ã„ã¾ã™ã€‚\n(aws-cli-v1) $ aws --version aws-cli/1.18.183 Python/3.8.5 Darwin/19.6.0 botocore/1.19.23 $ aws --version aws-cli/2.1.3 Python/3.7.4 Darwin/19.6.0 exe/x86_64 ä»¥é™ã®ã‚³ãƒãƒ³ãƒ‰ã¯ 2.1.3 ã§å®Ÿè¡Œã—ãŸçµæœã§ã™ã€‚\nStorage Lens ã«é–¢é€£ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ Amazon S3 Storage Lens ã«é–¢ã™ã‚‹ AWS CLI ã®ã‚³ãƒãƒ³ãƒ‰ã¯ s3control ã«å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚\n$ aws s3control help | grep storage-lens o delete-storage-lens-configuration o delete-storage-lens-configuration-tagging o get-storage-lens-configuration o get-storage-lens-configuration-tagging o list-storage-lens-configurations o put-storage-lens-configuration o put-storage-lens-configuration-tagging æ—¢å­˜ã®æƒ…å ±ã‚’å–å¾—ã—ã¦ã¿ã‚‹ Amazon S3 Storage Lens ã§ã¯ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¦ S3 ã«é–¢ã™ã‚‹æƒ…å ±ã‚’å¯è¦–åŒ–ã™ã‚‹ã®ã§ã™ãŒã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ (us-east-1) ã«ä¸€ã¤ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒä½œæˆã•ã‚Œã¦ã„ã¾ã™ã€‚ãªã®ã§ã€ã¾ãšã¯ãã®æƒ…å ±ã‚’å–å¾—ã—ã¦ã¿ã¾ã™ã€‚\nlist-storage-lens-configurations ã¾ãšã¯ list-storage-lens-configurations ã§ã™ã€‚\n$ aws s3control list-storage-lens-configurations help ... SYNOPSIS list-storage-lens-configurations --account-id \u0026lt;value\u0026gt; [--next-token \u0026lt;value\u0026gt;] [--cli-input-json \u0026lt;value\u0026gt;] [--generate-cli-skeleton \u0026lt;value\u0026gt;] --account-id ã®ã¿ãŒå¿…é ˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ãªã£ã¦ã„ã¾ã™ã€‚å®Ÿéš›ã«å®Ÿè¡Œã—ã¦ã¿ã¾ã™ãŒã€ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã«ã¤ã„ã¦ã‚‚ CLI ã§å–å¾—ã—ã¦ãŠãã¾ã™ã€‚\n$ AWS_ACCOUNT_ID=$( \\ aws sts get-caller-identity \\ --query \u0026#39;Account\u0026#39; \\ --output text \\ ) $ aws s3control list-storage-lens-configurations \\ --account-id ${AWS_ACCOUNT_ID} \\ --region us-east-1 { \u0026#34;StorageLensConfigurationList\u0026#34;: [ { \u0026#34;Id\u0026#34;: \u0026#34;default-account-dashboard\u0026#34;, \u0026#34;StorageLensArn\u0026#34;: \u0026#34;arn:aws:s3:us-east-1:************:storage-lens/default-account-dashboard\u0026#34;, \u0026#34;HomeRegion\u0026#34;: \u0026#34;us-east-1\u0026#34;, \u0026#34;IsEnabled\u0026#34;: true } ] } get-storage-lens-configuration ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®è©³ç´°æƒ…å ±ã‚’å–å¾—ã™ã‚‹ã«ã¯ get-storage-lens-configuration ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚\n$ aws s3control get-storage-lens-configuration help ... SYNOPSIS get-storage-lens-configuration --config-id \u0026lt;value\u0026gt; --account-id \u0026lt;value\u0026gt; [--cli-input-json \u0026lt;value\u0026gt;] [--generate-cli-skeleton \u0026lt;value\u0026gt;] --config-id ã¨ --account-id ãŒå¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ãªã£ã¦ã„ã¾ã™ã€‚ --config-id ã«ã¯å…ˆã»ã©å–å¾—ã—ãŸ StorageLensConfigurationList[0].Id ã®å€¤ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n$ aws s3control get-storage-lens-configuration \\ --account-id ${AWS_ACCOUNT_ID} \\ --config-id default-account-dashboard \\ --region us-east-1 { \u0026#34;StorageLensConfiguration\u0026#34;: { \u0026#34;Id\u0026#34;: \u0026#34;default-account-dashboard\u0026#34;, \u0026#34;AccountLevel\u0026#34;: { \u0026#34;BucketLevel\u0026#34;: {} }, \u0026#34;IsEnabled\u0026#34;: true, \u0026#34;StorageLensArn\u0026#34;: \u0026#34;arn:aws:s3:us-east-1:************:storage-lens/default-account-dashboard\u0026#34; } } ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¨ã„ã†ã“ã¨ã‚‚ã‚ã£ã¦ã‚ã¾ã‚Šæƒ…å ±ãŒã‚ã‚Šã¾ã›ã‚“ã€‚\nget-storage-lens-configuration-tagging ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«å¯¾ã—ã¦ä»˜ä¸ã•ã‚ŒãŸã‚¿ã‚°æƒ…å ±ã‚’å–å¾—ã™ã‚‹ã«ã¯ get-storage-lens-configuration-tagging ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚\n$ aws s3control get-storage-lens-configuration-tagging help ... SYNOPSIS get-storage-lens-configuration-tagging --config-id \u0026lt;value\u0026gt; --account-id \u0026lt;value\u0026gt; [--cli-input-json \u0026lt;value\u0026gt;] [--generate-cli-skeleton \u0026lt;value\u0026gt;] get-storage-lens-configuration ã¨åŒã˜ã --config-id ã¨ --account-id ãŒå¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€ãã‚Œãã‚Œå…ˆã»ã©ã¨åŒã˜å€¤ã‚’æŒ‡å®šã—ã¦å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3control get-storage-lens-configuration-tagging \\ --account-id ${AWS_ACCOUNT_ID} \\ --config-id default-account-dashboard \\ --region us-east-1 { \u0026#34;Tags\u0026#34;: [] } ã‚¿ã‚°ãŒã¤ã„ã¦ãªã„ã®ã§ç©ºã®æƒ…å ±ã§ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã¯ StorageLensConfiguration ã®æƒ…å ±ãŒä¹ã—ã‹ã£ãŸã®ã§ã€å®Ÿéš›ã«ã¯ã«ã©ã‚“ãªæƒ…å ±ãŒå«ã¾ã‚Œã‚‹ã®ã‹èª¿ã¹ã¦ã¿ã¾ã™ã€‚\nStorageLensConfiguration ã®å†…å®¹ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã¯å†…å®¹ãŒä¹ã—ã‹ã£ãŸã§ã™ãŒã€å®Ÿéš›ã«ã¯ã©ã‚“ãªæƒ…å ± (è¨­å®šé …ç›®) ãŒå«ã¾ã‚Œã‚‹ã®ã‹ã€ put-storage-lens-configuration ã® --generate-cli-skeleton ã§ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3control put-storage-lens-configuration \\ --generate-cli-skeleton { \u0026#34;ConfigId\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;AccountId\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;StorageLensConfiguration\u0026#34;: { \u0026#34;Id\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;AccountLevel\u0026#34;: { \u0026#34;ActivityMetrics\u0026#34;: { \u0026#34;IsEnabled\u0026#34;: true }, \u0026#34;BucketLevel\u0026#34;: { \u0026#34;ActivityMetrics\u0026#34;: { \u0026#34;IsEnabled\u0026#34;: true }, \u0026#34;PrefixLevel\u0026#34;: { \u0026#34;StorageMetrics\u0026#34;: { \u0026#34;IsEnabled\u0026#34;: true, \u0026#34;SelectionCriteria\u0026#34;: { \u0026#34;Delimiter\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;MaxDepth\u0026#34;: 0, \u0026#34;MinStorageBytesPercentage\u0026#34;: null } } } } }, \u0026#34;Include\u0026#34;: { \u0026#34;Buckets\u0026#34;: [ \u0026#34;\u0026#34; ], \u0026#34;Regions\u0026#34;: [ \u0026#34;\u0026#34; ] }, \u0026#34;Exclude\u0026#34;: { \u0026#34;Buckets\u0026#34;: [ \u0026#34;\u0026#34; ], \u0026#34;Regions\u0026#34;: [ \u0026#34;\u0026#34; ] }, \u0026#34;DataExport\u0026#34;: { \u0026#34;S3BucketDestination\u0026#34;: { \u0026#34;Format\u0026#34;: \u0026#34;Parquet\u0026#34;, \u0026#34;OutputSchemaVersion\u0026#34;: \u0026#34;V_1\u0026#34;, \u0026#34;AccountId\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Arn\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Prefix\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Encryption\u0026#34;: { \u0026#34;SSES3\u0026#34;: {}, \u0026#34;SSEKMS\u0026#34;: { \u0026#34;KeyId\u0026#34;: \u0026#34;\u0026#34; } } } }, \u0026#34;IsEnabled\u0026#34;: true, \u0026#34;AwsOrg\u0026#34;: { \u0026#34;Arn\u0026#34;: \u0026#34;\u0026#34; }, \u0026#34;StorageLensArn\u0026#34;: \u0026#34;\u0026#34; }, \u0026#34;Tags\u0026#34;: [ { \u0026#34;Key\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Value\u0026#34;: \u0026#34;\u0026#34; } ] } è‰²ã‚“ãªæƒ…å ± (è¨­å®šé …ç›®) ãŒã‚ã‚Šã¾ã™ãŒã€ã‚³ã‚¹ãƒˆãŒç™ºç”Ÿã™ã‚‹ã‹ã©ã†ã‹ã¨ã„ã†è¦³ç‚¹ã§ã¯ã€ä¸‹è¨˜ã®é …ç›®ã«æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚\nAccountLevel ActivityMetrics IsEnabled BucketLevel ActivityMetrics IsEnabled PrefixLevel StorageMetrics IsEnabled ä¸Šè¨˜ã®å„ IsEnabled ã«ã¯ true ã¾ãŸã¯ false ã‚’æŒ‡å®šã—ã¾ã™ãŒã€ãã‚Œãã‚Œã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®å–å¾—ã¯æœ‰æ–™ã¨ãªã‚‹ã®ã§ã€ç„¡æ–™ã§ Storage Lens ã‚’ä½¿ã„ãŸã„å ´åˆã¯ false ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nStorageLensConfiguration.AccountLevel.DataExport ã§ã¯ã€å–å¾—ã—ãŸãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ã‚’æŒ‡å®šã—ãŸ S3 ãƒã‚±ãƒƒãƒˆã«å‡ºåŠ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ä½œæˆã™ã‚‹ ç¶šã„ã¦ã¯ã€ AWS CLI ã‚’ä½¿ã£ã¦ Storage Lens ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¦ã¿ã¾ã™ã€‚ä½¿ç”¨ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯ put-storage-lens-configuration ã§ã™ã€‚\n$ aws s3control put-storage-lens-configuration help ... SYNOPSIS put-storage-lens-configuration --config-id \u0026lt;value\u0026gt; --account-id \u0026lt;value\u0026gt; --storage-lens-configuration \u0026lt;value\u0026gt; [--tags \u0026lt;value\u0026gt;] [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] ä»Šå›ã¯ã€ç„¡æ–™ã§ä½¿ãˆã‚‹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¦ã¿ã¾ã™ã€‚è¨­å®šé …ç›®ã®æ¦‚è¦ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\nãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¯ç„¡æ–™ã§å–å¾—ã§ãã‚‹ä½¿ç”¨ç‡ãƒ¡ãƒˆãƒªã‚¯ã‚¹ () ã®ã¿ å¯¾è±¡ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¯ æ±äº¬ ap-northeast-1 ãƒ‡ãƒ¼ã‚¿ã¯ S3 ãƒã‚±ãƒƒãƒˆã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ ä»¥ä¸Šã®è¦ä»¶ã‚’æº€ãŸã™ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ä½œæˆã™ã‚‹ãŸã‚ã«ã€æ¬¡ã®ã‚ˆã†ãª JSON ã‚’ config.json ã¨ã„ã†åå‰ã§ä½œæˆã—ã¾ã™ã€‚\n{ \u0026#34;Id\u0026#34;: \u0026#34;free-dashboard-sample\u0026#34;, \u0026#34;AccountLevel\u0026#34;: { \u0026#34;BucketLevel\u0026#34;: {} }, \u0026#34;Include\u0026#34;: { \u0026#34;Regions\u0026#34;: [ \u0026#34;ap-northeast-1\u0026#34; ] }, \u0026#34;DataExport\u0026#34;: { \u0026#34;S3BucketDestination\u0026#34;: { \u0026#34;Format\u0026#34;: \u0026#34;Parquet\u0026#34;, \u0026#34;OutputSchemaVersion\u0026#34;: \u0026#34;V_1\u0026#34;, \u0026#34;AccountId\u0026#34;: \u0026#34;************\u0026#34;, \u0026#34;Arn\u0026#34;: \u0026#34;arn:aws:s3:::storage-lens-export-************\u0026#34; } }, \u0026#34;IsEnabled\u0026#34;: true } ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚\n$ aws s3control put-storage-lens-configuration \\ --account-id ${AWS_ACCOUNT_ID} \\ --config-id free-dashboard-sample \\ --storage-lens-configuration file://config.json \\ --region ap-northeast-1 å®Ÿè¡Œå¾Œã€ç‰¹ã«å‡ºåŠ›ã¯ãªã„ã®ã§ã€ get-storage-lens ã‚³ãƒãƒ³ãƒ‰ã§æ­£ã—ãä½œæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚\n$ aws s3control get-storage-lens-configuration \\ --account-id ${AWS_ACCOUNT_ID} \\ --config-id free-dashboard-sample \\ --region ap-northeast-1 { \u0026#34;StorageLensConfiguration\u0026#34;: { \u0026#34;Id\u0026#34;: \u0026#34;free-dashboard-sample\u0026#34;, \u0026#34;AccountLevel\u0026#34;: { \u0026#34;BucketLevel\u0026#34;: {} }, \u0026#34;Include\u0026#34;: { \u0026#34;Regions\u0026#34;: [ \u0026#34;ap-northeast-1\u0026#34; ] }, \u0026#34;DataExport\u0026#34;: { \u0026#34;S3BucketDestination\u0026#34;: { \u0026#34;Format\u0026#34;: \u0026#34;Parquet\u0026#34;, \u0026#34;OutputSchemaVersion\u0026#34;: \u0026#34;V_1\u0026#34;, \u0026#34;AccountId\u0026#34;: \u0026#34;************\u0026#34;, \u0026#34;Arn\u0026#34;: \u0026#34;arn:aws:s3:::storage-lens-export-************\u0026#34; } }, \u0026#34;IsEnabled\u0026#34;: true, \u0026#34;StorageLensArn\u0026#34;: \u0026#34;arn:aws:s3:ap-northeast-1:************:storage-lens/free-dashboard-sample\u0026#34; } } ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ã¯æ¬¡ã®ã‚ˆã†ãªå½¢ã§è¨­å®šã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã¾ã¨ã‚ Amazon S3 Storage Lens ã‚’ AWS CLI ã§è§¦ã£ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nre:Invent å‰ã§æ€’æ¶›ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã€æ–°ã‚µãƒ¼ãƒ“ã‚¹ãƒ»æ–°æ©Ÿèƒ½ã®ç™»å ´ãŒç¶šã„ã¦ã„ã¾ã™ãŒã€AWS CLI ã§ã¯ã»ã¼ã™ãã«ãã‚Œã‚‰ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’è§¦ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã§ã™ã€‚ã“ã®ã‚ãŸã‚Šã®å¯¾å¿œã‚¹ãƒ”ãƒ¼ãƒ‰ã¯ã™ã”ã„ã§ã™ã­ã€‚\nãŸã ã€ä»Šå›ã® Amazon S3 Storage Lens ã§ã¯ v2 ã‚ˆã‚Šã‚‚ v1 ã®ã»ã†ãŒåæ˜ ãŒæ—©ã‹ã£ãŸã‚ˆã†ã§ã™ã€‚(v1 ã¯ 1.18.181 ã§å¯¾å¿œã—ã¦ã„ã¾ã—ãŸãŒã€ãã®æ™‚ã® v2 ã®æœ€æ–°ã§ã‚ã£ãŸ 2.1.2 ã§ã¯ä½¿ãˆã¾ã›ã‚“ã§ã—ãŸ) å‰ã« DynamoDB ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³é–“ãƒªã‚¹ãƒˆã‚¢ãŒç™ºè¡¨ã•ã‚ŒãŸéš›ã‚‚ã€ v2 ã®å¯¾å¿œã¯ v1 ã‚ˆã‚Šã‚‚ã—ã°ã‚‰ãã‚ã¨ã§ã—ãŸã€‚\næ–°ã‚µãƒ¼ãƒ“ã‚¹ãƒ»æ–°æ©Ÿèƒ½ãŒå‡ºãŸéš›ã«ã¯ã€ã¾ãšã¯ v1 ã§è©¦ã™ã®ãŒè‰¯ã•ãã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-s3-storage-lens-with-cli/",
    "title": "Amazon S3 Storage Lens ã‚’ AWS CLI ã§è§¦ã£ã¦ã¿ã‚‹"
  },
  {
    "contents": "JAWS-UG CLIå°‚é–€æ”¯éƒ¨ #171R S3åŸºç¤ é€šçŸ¥ (Lambdaã®è‡ªå‹•å®Ÿè¡Œ) ã«å‚åŠ ã—ãŸã®ã§ã€ãã®ãƒ¬ãƒãƒ¼ãƒˆã§ã™ã€‚\nconnpass ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰ã€‚\nã“ã‚Œã¾ã§ã® CLI å°‚é–€æ”¯éƒ¨å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã¯ã“ã¡ã‚‰ã€‚\n[ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #170R S3åŸºç¤ ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« ã«å‚åŠ ã—ã¾ã—ãŸ #jawsug_cli [ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #169R S3åŸºç¤ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° ã«å‚åŠ ã—ã¾ã—ãŸ #jawsug_cli [ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #168R S3åŸºç¤ Webã‚µã‚¤ãƒˆ\u0026amp;amp;ãƒ­ã‚° ã«å‚åŠ ã—ã¾ã—ãŸ #jawsug_cli [ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #167R EventBridgeå…¥é–€ ã«å‚åŠ ã—ã¾ã—ãŸ #jawsug_cli ç›®æ¬¡ æ¦‚è¦ éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰æ–‡å­—èµ·ã“ã— ã‚„ã£ã¦ã¿ã‚‹ 1. éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”¨ã® S3 ãƒã‚±ãƒƒãƒˆã‚’ä½œæˆ 2. æ–‡å­—èµ·ã“ã—çµæœã‚’å‡ºåŠ›ã™ã‚‹ S3 ãƒã‚±ãƒƒãƒˆã‚’ä½œæˆ 3. Amazon Transcribe ã‚’ä½¿ã£ã¦æ–‡å­—èµ·ã“ã—ã™ã‚‹ Lambda é–¢æ•°ã‚’ä½œæˆ 4. 1 ã§ä½œæˆã—ãŸãƒã‚±ãƒƒãƒˆã«ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥è¨­å®šã‚’è¿½åŠ  5. ç¢ºèª ã¾ã¨ã‚ æ¦‚è¦ Amazon S3 ã¯ãŸã ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã§ã¯ãªãã€éå¸¸ã«æ©Ÿèƒ½ãŒå¤šã„ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ãªã£ã¦ã¾ã™ã€‚ã©ã“ãŒ Simple ã‚„ã­ã‚“ ã¨ã„ã†ãƒ„ãƒƒã‚³ãƒŸã‚‚ã‚ã‚‹ãã‚‰ã„ã§ã™ã€‚\nä»Šå›ã¯ S3 ã®æ©Ÿèƒ½ã®ä¸­ã®ä¸€ã¤ã§ã‚ã‚‹ ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ ã«é–¢ã™ã‚‹å†…å®¹ã§ã—ãŸã€‚ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®è¨˜äº‹å†…ã§ã‚‚æ›¸ã„ã¦ã¾ã™ãŒã€S3 ãƒã‚±ãƒƒãƒˆã«å¯¾ã™ã‚‹è‰²ã‚“ãªã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã¨é€£æºã™ã‚‹ã“ã¨ãŒã§ãã‚‹æ©Ÿèƒ½ã§ã™ã€‚\nã‚¤ãƒ™ãƒ³ãƒˆã®å†…å®¹ã¨ã—ã¦ã¯ã€æ¬¡ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚\nã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ : s3:ObjectCreated:* ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‰Šé™¤ : s3:ObjectRemoved:* ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å¾©å…ƒ : s3:ObjectRestore:Post, s3:ObjectRestore:Completed ãã®ä»–ã®ã‚¤ãƒ™ãƒ³ãƒˆã«ã¤ã„ã¦ã¯ä¸‹è¨˜å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® ã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ— ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nAmazon S3 ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã®è¨­å®š - Amazon Simple Storage Service ãã—ã¦ã€ã“ã‚Œã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦é€£æºã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦ã¯\nAmazon SNS ã®ãƒˆãƒ”ãƒƒã‚¯ Amazon SQS ã®ã‚­ãƒ¥ãƒ¼ AWS Lambda ã®é–¢æ•° ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ (s3:ObjectCreated:*) ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦ Lambda é–¢æ•°ã‚’èµ·å‹•ã—ã€ãã®é–¢æ•°å†…ã§ã¯ S3 ã‹ã‚‰æ¸¡ã•ã‚ŒãŸã‚¤ãƒ™ãƒ³ãƒˆã‚’ print() ã§å‡ºåŠ›ã—ã€ãã®å†…å®¹ã‚’ CloudWatch Logs ã§ç¢ºèªã™ã‚‹ã¨ã„ã†ä¸€é€£ã®æµã‚Œã‚’è©¦ã—ã¾ã—ãŸã€‚\nS3 ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã« Lambda é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã„ã†ã®ã¯ä»¥å‰ã« JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã‚‚ã‚„ã£ãŸå†…å®¹ãªã®ã§ã€ã“ã“ã§ã¯ãã®ã¨ãã«ã‚„ã£ãŸãƒãƒ³ã‚ºã‚ªãƒ³ã‚’ AWS CLI ã‚’ä½¿ã£ã¦ã‚„ã£ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚\néŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰æ–‡å­—èµ·ã“ã— åˆå¿ƒè€…æ”¯éƒ¨ã§ã‚„ã£ãŸãƒãƒ³ã‚ºã‚ªãƒ³ã¯ã€ S3 ãƒã‚±ãƒƒãƒˆã«éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ« (.mp3) ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã€ãã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã« Lambda é–¢æ•°ã‚’å®Ÿè¡Œã€‚ãã® Lambda é–¢æ•°ã§ã¯ Amazon Transcribe ã‚’ä½¿ã£ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸéŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ–‡å­—èµ·ã“ã—ã—ã¦ã€ãã®çµæœã‚’å†åº¦ S3 ãƒã‚±ãƒƒãƒˆã«å‡ºåŠ›ã™ã‚‹ã¨ã„ã†å‡¦ç†ã‚’ã—ã¦ã„ã¾ã™ã€‚(å®Ÿéš›ã«çµæœã‚’ S3 ãƒã‚±ãƒƒãƒˆã«å‡ºåŠ›ã™ã‚‹ã®ã¯ Amazon Transcribe)\nã•ã‚‰ã«ã€æ–‡å­—èµ·ã“ã—ã—ãŸçµæœãŒ S3 ãƒã‚±ãƒƒãƒˆã«å‡ºåŠ›ã•ã‚ŒãŸã“ã¨ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦ã€ä»Šåº¦ã¯ Amazon Translate ã‚’ä½¿ã£ã¦ç¿»è¨³ã‚’ã™ã‚‹ Lambda é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã“ã‚ã¾ã§å®Ÿè£…ã™ã‚‹å®¿é¡Œã‚‚ã‚ã‚Šã¾ã—ãŸã€‚ãŒã€ä»Šå›ã¯ãã“ã¾ã§ã‚„ã‚Šã¾ã›ã‚“ã€‚ã¡ãªã¿ã«ãã®å®¿é¡Œã‚’æ™®é€šã«ã‚„ã£ã¦ã¿ãŸè©±ã¯ã“ã¡ã‚‰ã§ã™ã€‚\nã¾ãŸã€ãã®å¾Œã®å¾©ç¿’ã‚¤ãƒ™ãƒ³ãƒˆã§ã€ã“ã®å†…å®¹ã¨åŒã˜ã‚‚ã®ã‚’ AWS CDK ã‚’ä½¿ã£ã¦æ§‹ç¯‰ã—ã¦ã¿ãŸè©±ã‚’ LT ã§ç´¹ä»‹ã—ã¾ã—ãŸã€‚\nã‚„ã£ã¦ã¿ã‚‹ å‰ç½®ããŒé•·ããªã‚Šã¾ã—ãŸãŒã€æ—©é€Ÿ CLI ã§ã‚„ã£ã¦ã„ãã¾ã™ã€‚æ‰‹é †ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\néŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”¨ã® S3 ãƒã‚±ãƒƒãƒˆã‚’ä½œæˆ æ–‡å­—èµ·ã“ã—çµæœã‚’å‡ºåŠ›ã™ã‚‹ S3 ãƒã‚±ãƒƒãƒˆã‚’ä½œæˆ Amazon Transcribe ã‚’ä½¿ã£ã¦æ–‡å­—èµ·ã“ã—ã™ã‚‹ Lambda é–¢æ•°ã‚’ä½œæˆ Lambda é–¢æ•°ç”¨ã® IAM ãƒ­ãƒ¼ãƒ«ã®ä½œæˆ é–¢æ•°æœ¬ä½“ã®ä½œæˆ S3 ã‹ã‚‰ Lambda ã‚’å®Ÿè¡Œã™ã‚‹æ¨©é™ã‚’ä»˜ä¸ 1 ã§ä½œæˆã—ãŸãƒã‚±ãƒƒãƒˆã«ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥è¨­å®šã‚’è¿½åŠ  ç¢ºèª 1 ã®ãƒã‚±ãƒƒãƒˆã«éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ 2 ã®ãƒã‚±ãƒƒãƒˆã«æ–‡å­—èµ·ã“ã—çµæœãŒå‡ºåŠ›ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª ã“ã‚Œã§æ§‹ç¯‰ã•ã‚Œã‚‹ã®ã¯ã€æ¬¡ã®ã‚ˆã†ãªæ§‹æˆã§ã™ã€‚\nã§ã¯ã€é †ç•ªã«ã‚„ã£ã¦ã„ãã¾ã™ã€‚\n1. éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”¨ã® S3 ãƒã‚±ãƒƒãƒˆã‚’ä½œæˆ ã¾ãšã¯éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ S3 ãƒã‚±ãƒƒãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚ s3api create-bucket ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚\nS3 ãƒã‚±ãƒƒãƒˆåã‚’å¤‰æ•°ã«è¨­å®šã—ã¾ã™ã€‚\n$ INPUT_BUCKET=\u0026#34;s3-handson-input-$(aws sts get-caller-identity \\ --query \u0026#39;Account\u0026#39; \\ --output text)\u0026#34; \u0026amp;\u0026amp; echo ${INPUT_BUCKET} s3-handson-input-************ (************ ã¯ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã¨ã—ã¾ã™)\nå¯¾è±¡ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€æ±äº¬ (ap-northeast-1) ã¨ã—ã¾ã™ã€‚\n$ S3_BUCKET_LOCATION=\u0026#34;ap-northeast-1\u0026#34; ãƒã‚±ãƒƒãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\n$ aws s3api create-bucket \\ --bucket ${INPUT_BUCKET} \\ --create-bucket-configuration \u0026#34;LocationConstraint=${S3_BUCKET_LOCATION}\u0026#34; { \u0026#34;Location\u0026#34;: \u0026#34;http://s3-handson-input-************.s3.amazonaws.com/\u0026#34; } 2. æ–‡å­—èµ·ã“ã—çµæœã‚’å‡ºåŠ›ã™ã‚‹ S3 ãƒã‚±ãƒƒãƒˆã‚’ä½œæˆ 1 ã¨åŒæ§˜ã«ã€ Amazon Transcribe ã§æ–‡å­—èµ·ã“ã—ã•ã‚ŒãŸçµæœãŒå‡ºåŠ›ã•ã‚Œã‚‹ S3 ãƒã‚±ãƒƒãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\n$ OUTPUT_BUCKET=\u0026#34;s3-handson-output-$(aws sts get-caller-identity \\ --query \u0026#39;Account\u0026#39; \\ --output text)\u0026#34; \u0026amp;\u0026amp; echo ${OUTPUT_BUCKET} s3-handson-output-************ $ aws s3api create-bucket \\ --bucket ${OUTPUT_BUCKET} \\ --create-bucket-configuration \u0026#34;LocationConstraint=${S3_BUCKET_LOCATION}\u0026#34; { \u0026#34;Location\u0026#34;: \u0026#34;http://s3-handson-output-************.s3.amazonaws.com/\u0026#34; } 3. Amazon Transcribe ã‚’ä½¿ã£ã¦æ–‡å­—èµ·ã“ã—ã™ã‚‹ Lambda é–¢æ•°ã‚’ä½œæˆ S3 ã®ã‚¤ãƒ™ãƒ³ãƒˆã«ã‚ˆã£ã¦èµ·å‹•ã•ã‚Œã‚‹ Lambda é–¢æ•°ã‚’ä½œæˆã—ã¾ã™ã€‚\né–¢æ•°ã®å®Ÿä½“ã¨ãªã‚‹ .py ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ é–¢æ•°ã®å‡¦ç†å†…å®¹ã¨ã—ã¦ã¯ã€S3 ã‹ã‚‰æ¸¡ã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã®å†…å®¹ã‹ã‚‰å¯¾è±¡ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚­ãƒ¼ã‚’å–å¾—ã—ã€ãã®ã‚­ãƒ¼ã‚’ã‚‚ã¨ã« Amazon Transcribe ã®æ–‡å­—èµ·ã“ã—å‡¦ç†ã‚’å‘¼ã¶ ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚ä»Šå›ã¯ Python ã§å®Ÿè£…ã—ãŸä¸‹è¨˜ã®ã‚ˆã†ãªé–¢æ•°ã‚’ä½¿ã„ã¾ã™ã€‚\nimport json import urllib.parse import boto3 import datetime s3 = boto3.client(\u0026#39;s3\u0026#39;) transcribe = boto3.client(\u0026#39;transcribe\u0026#39;) def lambda_handler(event, context): bucket = event[\u0026#39;Records\u0026#39;][0][\u0026#39;s3\u0026#39;][\u0026#39;bucket\u0026#39;][\u0026#39;name\u0026#39;] key = urllib.parse.unquote_plus(event[\u0026#39;Records\u0026#39;][0][\u0026#39;s3\u0026#39;][\u0026#39;object\u0026#39;][\u0026#39;key\u0026#39;], encoding=\u0026#39;utf-8\u0026#39;) media_uri = f\u0026#39;https://{bucket}.s3-ap-northeast-1.amazonaws.com/{key}\u0026#39; try: transcribe.start_transcription_job( TranscriptionJobName= datetime.datetime.now().strftime(\u0026#34;%Y%m%d%H%M%S\u0026#34;) + \u0026#39;_Transcription\u0026#39;, LanguageCode=\u0026#39;en-US\u0026#39;, Media={ \u0026#39;MediaFileUri\u0026#39;: media_uri }, OutputBucketName=\u0026#39;s3-handson-output-************\u0026#39; ) except Exception as e: print(e) print(\u0026#39;Error getting object {} from bucket {}. Make sure they exist and your bucket is in the same region as this function.\u0026#39;.format(key, bucket)) raise e OutputBucketName ã«ã¯ã€ 2 ã§ä½œæˆã—ãŸãƒã‚±ãƒƒãƒˆåã‚’æŒ‡å®šã—ã¾ã™ã€‚\nã“ã‚Œã‚’ transcribe.py ã¨ã—ã¦ä¿å­˜ã—ã€ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ ZIP ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¾ã™ã€‚\n$ LAMBDA_ZIP=\u0026#34;function.zip\u0026#34; $ FUNCTION_FILE=\u0026#34;transcribe.py\u0026#34; $ zip -j ${LAMBDA_ZIP} ${FUNCTION_FILE} adding: transcribe.py (deflated 46%) Lambda é–¢æ•°ã«ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆ ç¶šã„ã¦ã€ Lambda é–¢æ•°ã«ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ä»Šå›ã® Lambda é–¢æ•°ã§å¿…è¦ã«ãªã‚‹æ¨©é™ã¯ã€ CloudWatch Logs ã¸ã®ãƒ­ã‚°ã®æ›¸ãè¾¼ã¿ã€ Amazon Transcribe ã®å®Ÿè¡Œæ¨©é™ã€ S3 ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã§ã™ã€‚ã¨ã„ã†ã“ã¨ã§ã€æ¬¡ã®ã‚ˆã†ãª IAM ãƒãƒªã‚·ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ policy.json ã¨ã„ã†åå‰ã§ä½œæˆã—ã¾ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Action\u0026#34;: [ \u0026#34;logs:CreateLogGroup\u0026#34;, \u0026#34;logs:CreateLogStream\u0026#34;, \u0026#34;logs:PutLogEvents\u0026#34;, \u0026#34;transcribe:*\u0026#34;, \u0026#34;s3:*\u0026#34; ], \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Resource\u0026#34;: [ \u0026#34;*\u0026#34; ] } ] } ã“ã®ãƒãƒªã‚·ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½¿ã£ã¦ã€ s3_handson_transcribe_policy ã¨ã„ã†åå‰ã® IAM ãƒãƒªã‚·ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚ã‚³ãƒãƒ³ãƒ‰ã¯ iam create-policy ã§ã™ã€‚ãƒãƒªã‚·ãƒ¼ã‚’ä½œæˆã™ã‚‹éš›ã«ã¯ã€ãã®å¾Œã®ç®¡ç†ãŒã—ã‚„ã™ããªã‚‹ã‚ˆã†ã« --path ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n$ LAMBDA_IAM_POLICY_NAME=\u0026#34;s3_handson_transcribe_policy\u0026#34; $ aws iam create-policy \\ --policy-name ${LAMBDA_IAM_POLICY_NAME} \\ --path \u0026#34;/michimani/sample/\u0026#34; \\ --policy-document file://policy.json { \u0026#34;Policy\u0026#34;: { \u0026#34;PolicyName\u0026#34;: \u0026#34;s3_handson_transcribe_policy\u0026#34;, \u0026#34;PolicyId\u0026#34;: \u0026#34;ANPA2FQKQ3TUYPLJBDU4T\u0026#34;, \u0026#34;Arn\u0026#34;: \u0026#34;arn:aws:iam::************:policy/michimani/sample/s3_handson_transcribe_policy\u0026#34;, \u0026#34;Path\u0026#34;: \u0026#34;/michimani/sample/\u0026#34;, \u0026#34;DefaultVersionId\u0026#34;: \u0026#34;v1\u0026#34;, \u0026#34;AttachmentCount\u0026#34;: 0, \u0026#34;PermissionsBoundaryUsageCount\u0026#34;: 0, \u0026#34;IsAttachable\u0026#34;: true, \u0026#34;CreateDate\u0026#34;: \u0026#34;2020-11-12T12:59:08+00:00\u0026#34;, \u0026#34;UpdateDate\u0026#34;: \u0026#34;2020-11-12T12:59:08+00:00\u0026#34; } } ã“ã® IAM ãƒãƒªã‚·ãƒ¼ã‚’ç”¨ã„ã¦ã€ s3_handson_transcribe_role ã¨ã„ã†åå‰ã® IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ã¾ãšã¯ã€ Lambda ãŒãƒ­ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã®ä¿¡é ¼ãƒãƒªã‚·ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;Service\u0026#34;: \u0026#34;lambda.amazonaws.com\u0026#34; }, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Sid\u0026#34;: \u0026#34;\u0026#34; } ] } ã“ã‚Œã‚’ assume_role.json ã¨ã—ã¦ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚\nãƒ­ãƒ¼ãƒ«åã‚’å¤‰æ•°ã«è¨­å®šã—ã¦ã€ IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ã‚³ãƒãƒ³ãƒ‰ã¯ iam create-role ã§ã™ã€‚\n$ LAMBDA_IAM_ROLE_NAME=\u0026#34;s3_handson_transcribe_role\u0026#34; $ aws iam create-role \\ --role-name ${LAMBDA_IAM_ROLE_NAME} \\ --assume-role-policy-document file://assume_role.json { \u0026#34;Role\u0026#34;: { \u0026#34;Path\u0026#34;: \u0026#34;/\u0026#34;, \u0026#34;RoleName\u0026#34;: \u0026#34;s3_handson_transcribe_role\u0026#34;, \u0026#34;RoleId\u0026#34;: \u0026#34;AROA2FQKQ3TUU6KJ3TVDJ\u0026#34;, \u0026#34;Arn\u0026#34;: \u0026#34;arn:aws:iam::************:role/s3_handson_transcribe_role\u0026#34;, \u0026#34;CreateDate\u0026#34;: \u0026#34;2020-11-12T13:17:00+00:00\u0026#34;, \u0026#34;AssumeRolePolicyDocument\u0026#34;: { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;Service\u0026#34;: \u0026#34;lambda.amazonaws.com\u0026#34; }, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Sid\u0026#34;: \u0026#34;\u0026#34; } ] } } } IAM ãƒãƒªã‚·ãƒ¼ã® ARN ã‚’å¤‰æ•°ã«è¨­å®šã—ã¦ã€ä¸Šã§ä½œæˆã—ãŸ IAM ãƒ­ãƒ¼ãƒ«ã«ã‚¢ã‚¿ãƒƒãƒã—ã¾ã™ã€‚ã‚³ãƒãƒ³ãƒ‰ã¯ iam attach-policy ã§ã™ã€‚\n$ LAMBDA_IAM_POLICY_ARN=$( \\ aws iam list-policies \\ --scope Local \\ --path-prefix \u0026#34;/michimani/sample/\u0026#34; \\ --max-items 1000 \\ --query \u0026#34;Policies[?PolicyName==\\`${LAMBDA_IAM_POLICY_NAME}\\`].Arn\u0026#34; \\ --output text \\ ) \u0026amp;\u0026amp; echo ${LAMBDA_IAM_POLICY_ARN} arn:aws:iam::************:policy/michimani/sample/s3_handson_transcribe_policy $ aws iam attach-role-policy \\ --role-name ${LAMBDA_IAM_ROLE_NAME} \\ --policy-arn ${LAMBDA_IAM_POLICY_ARN} ä½œæˆã—ãŸ IAM ãƒ­ãƒ¼ãƒ«ã‚’ Lambda é–¢æ•°ã«ã‚¢ã‚¿ãƒƒãƒã™ã‚‹éš›ã« ARN ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€å¤‰æ•°ã«è¨­å®šã—ã¦ãŠãã¾ã™ã€‚\n$ LAMBDA_IAM_ROLE_ARN=$( \\ aws iam get-role \\ --role-name ${LAMBDA_IAM_ROLE_NAME} \\ --query \u0026#39;Role.Arn\u0026#39; \\ --output text \\ ) \u0026amp;\u0026amp; echo ${LAMBDA_IAM_ROLE_ARN} arn:aws:iam::************:role/s3_handson_transcribe_role Lambda é–¢æ•°ã‚’ä½œæˆ è«¸ã€…æº–å‚™ãŒæ•´ã£ãŸã®ã§ã€ Lambda é–¢æ•°ã‚’ä½œæˆã—ã¾ã™ã€‚ã‚³ãƒãƒ³ãƒ‰ã¯ lambda create-function ã§ã™ã€‚\n$ LAMBDA_FUNCTION_NAME=\u0026#34;s3-handson-tanscribe\u0026#34; $ aws lambda create-function \\ --function-name ${LAMBDA_FUNCTION_NAME} \\ --description \u0026#34;S3 ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ãƒ†ã‚¹ãƒˆç”¨é–¢æ•°\u0026#34; \\ --runtime \u0026#34;python3.8\u0026#34; \\ --role ${LAMBDA_IAM_ROLE_ARN} \\ --handler \u0026#34;transcribe.lambda_handler\u0026#34; \\ --zip-file fileb://${LAMBDA_ZIP} { \u0026#34;FunctionName\u0026#34;: \u0026#34;s3-handson-tanscribe\u0026#34;, \u0026#34;FunctionArn\u0026#34;: \u0026#34;arn:aws:lambda:ap-northeast-1:************:function:s3-handson-tanscribe\u0026#34;, \u0026#34;Runtime\u0026#34;: \u0026#34;python3.8\u0026#34;, \u0026#34;Role\u0026#34;: \u0026#34;arn:aws:iam::************:role/s3_handson_transcribe_role\u0026#34;, \u0026#34;Handler\u0026#34;: \u0026#34;transcribe.lambda_handler\u0026#34;, \u0026#34;CodeSize\u0026#34;: 680, \u0026#34;Description\u0026#34;: \u0026#34;S3 ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ãƒ†ã‚¹ãƒˆç”¨é–¢æ•°\u0026#34;, \u0026#34;Timeout\u0026#34;: 3, \u0026#34;MemorySize\u0026#34;: 128, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-11-12T13:43:35.679+0000\u0026#34;, \u0026#34;CodeSha256\u0026#34;: \u0026#34;rrjImL4le+s5Hyz8rPlapksfo1DmUqpZnOzpYwfRWtc=\u0026#34;, \u0026#34;Version\u0026#34;: \u0026#34;$LATEST\u0026#34;, \u0026#34;TracingConfig\u0026#34;: { \u0026#34;Mode\u0026#34;: \u0026#34;PassThrough\u0026#34; }, \u0026#34;RevisionId\u0026#34;: \u0026#34;1e1fcdd5-ba7f-4495-a8ee-7d7b71c4e3ee\u0026#34;, \u0026#34;State\u0026#34;: \u0026#34;Active\u0026#34;, \u0026#34;LastUpdateStatus\u0026#34;: \u0026#34;Successful\u0026#34; } S3 ãƒã‚±ãƒƒãƒˆã« Lambda ã®å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸ ä½œæˆã—ãŸ Lambda é–¢æ•°ã‚’ 1 ã§ä½œæˆã—ãŸãƒã‚±ãƒƒãƒˆãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«æ¨©é™ã‚’ä»˜ä¸ã—ã¾ã™ã€‚ã‚³ãƒãƒ³ãƒ‰ã¯ lambda add-permission ã‚’ä½¿ç”¨ã—ã¾ã™ãŒã€äº‹å‰ã«å¿…è¦ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å€¤ã‚’å¤‰æ•°ã«è¨­å®šã—ã¦ãŠãã¾ã™ã€‚\nS3 ãƒã‚±ãƒƒãƒˆã® ARN\n$ INPUT_BUCKET_ARN=\u0026#34;arn:aws:s3:::${INPUT_BUCKET}\u0026#34; \\ \u0026amp;\u0026amp; echo ${INPUT_BUCKET_ARN} arn:aws:s3:::s3-handson-input-************ å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸ã—ã¾ã™ã€‚\n$ aws lambda add-permission \\ --function-name ${LAMBDA_FUNCTION_NAME} \\ --statement-id \u0026#34;s3-invoke-lambda-function\u0026#34; \\ --action \u0026#34;lambda:InvokeFunction\u0026#34; \\ --principal \u0026#34;s3.amazonaws.com\u0026#34; \\ --source-arn ${INPUT_BUCKET_ARN} 4. 1 ã§ä½œæˆã—ãŸãƒã‚±ãƒƒãƒˆã«ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥è¨­å®šã‚’è¿½åŠ  1 ã§ä½œæˆã—ãŸãƒã‚±ãƒƒãƒˆã«å¯¾ã—ã¦ã€ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã®è¨­å®šã‚’è¿½åŠ ã—ã¾ã™ã€‚ã¾ãšã¯ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥è¨­å®šç”¨ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚ãã®éš›ã€å®Ÿè¡Œã™ã‚‹ Lambda é–¢æ•°ã® ARN ãŒå¿…è¦ãªã®ã§ã€äº‹å‰ã«å–å¾—ã—ã¦ãŠãã¾ã™ã€‚\n$ aws lambda get-function \\ --function-name ${LAMBDA_FUNCTION_NAME} \\ --query \u0026#39;Configuration.FunctionArn\u0026#39; \\ --output text arn:aws:lambda:ap-northeast-1:************:function:s3-handson-tanscribe ä»Šå›ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ (MP3 ãƒ•ã‚¡ã‚¤ãƒ«) ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦ã€ Lambda é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã®ã§ã€æ¬¡ã®ã‚ˆã†ãªæ¬¡ã®ã‚ˆã†ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ãªã‚Šã¾ã™ã€‚ã‚¤ãƒ™ãƒ³ãƒˆã®ç™ºç”Ÿæ¡ä»¶ã‚’åˆ¶å¾¡ã™ã‚‹ãŸã‚ã«ã€ Filter ã§ã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹ãŒ .mp3 ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã¿ã‚’ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿã®å¯¾è±¡ã¨ã—ã¦ã„ã¾ã™ã€‚\n{ \u0026#34;LambdaFunctionConfigurations\u0026#34;: [ { \u0026#34;Id\u0026#34;: \u0026#34;s3:ObjectCreated-lambda\u0026#34;, \u0026#34;LambdaFunctionArn\u0026#34;: \u0026#34;arn:aws:lambda:ap-northeast-1:************:function:s3-handson-tanscribe\u0026#34;, \u0026#34;Events\u0026#34;: [ \u0026#34;s3:ObjectCreated:*\u0026#34; ], \u0026#34;Filter\u0026#34;: { \u0026#34;Key\u0026#34;: { \u0026#34;FilterRules\u0026#34;: [ { \u0026#34;Name\u0026#34;: \u0026#34;suffix\u0026#34;, \u0026#34;Value\u0026#34;: \u0026#34;.mp3\u0026#34; } ] } } } ] } ã“ã‚Œã‚’ config.json ã¨ã—ã¦ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚ãã®ä»–ã€ Lambda é–¢æ•°ã¨ã®é€£æºè¨­å®šã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nLambdaFunctionConfiguration - Amazon Simple Storage Service ã“ã® JSON ã‚’ã‚‚ã¨ã«ã€ 1 ã§ä½œæˆã—ãŸ S3 ãƒã‚±ãƒƒãƒˆã«å¯¾ã—ã¦ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥è¨­å®šã‚’è¿½åŠ ã—ã¾ã™ã€‚ã‚³ãƒãƒ³ãƒ‰ã¯ s3api put-bucket-notification-configuration ã‚’ä½¿ã„ã¾ã™ã€‚\n$ aws s3api put-bucket-notification-configuration \\ --bucket ${INPUT_BUCKET} \\ --notification-configuration file://config.json ã¡ãªã¿ã«ã€è©²å½“ã®ãƒã‚±ãƒƒãƒˆã« Lambda ã®å®Ÿè¡Œæ¨©é™ (å‰é …ã§è¨­å®šã—ãŸæ¨©é™) ãŒãªã„å ´åˆã€ s3api put-bucket-notification-configration ã‚’å®Ÿè¡Œã—ã¦ã‚‚ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã€ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã®è¨­å®šãŒè¿½åŠ ã§ãã¾ã›ã‚“ã€‚\nAn error occurred (InvalidArgument) when calling the PutBucketNotificationConfiguration operation: Unable to validate the following destination configurations\n5. ç¢ºèª ã™ã¹ã¦ã®æº–å‚™ãŒæ•´ã£ãŸã®ã§ã€ INPUT_BUCKET ã« MP3 ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ã¿ã¾ã™ã€‚ä½¿ç”¨ã™ã‚‹ MP3 ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ Amazon Poly ã®ãƒšãƒ¼ã‚¸ã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ HelloEnglish-Joanna.mp3 ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ä½¿ã„ã¾ã™ã€‚\nAmazon Pollyï¼ˆæ·±å±¤å­¦ç¿’ã‚’ä½¿ç”¨ã—ãŸãƒ†ã‚­ã‚¹ãƒˆèª­ã¿ä¸Šã’ã‚µãƒ¼ãƒ“ã‚¹ï¼‰| AWS $ aws s3 cp ./HelloEnglish-Joanna.mp3 s3://${INPUT_BUCKET}/HelloEnglish-Joanna.mp3 upload: ./HelloEnglish-Joanna.mp3 to s3://s3-handson-input-************/HelloEnglish-Joanna.mp3 ã—ã°ã‚‰ãã™ã‚‹ã¨ OUTPUT_BUCKET ã«æ–‡å­—èµ·ã“ã—çµæœãŒå‡ºåŠ›ã•ã‚Œã‚‹ã®ã§ã€ç¢ºèªã—ã¾ã™ã€‚\n$ aws s3 ls s3://${OUTPUT_BUCKET} 2020-11-13 00:12:51 2 .write_access_check_file.temp 2020-11-13 00:13:16 1878 20201112151225_Transcription.json JSON ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ä¸­èº«ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3 cp s3://${OUTPUT_BUCKET}/20201112151225_Transcription.json ./res.json \\ \u0026amp;\u0026amp; cat res.json \\ | jq .\u0026#34;results.transcripts[0]\u0026#34; { \u0026#34;transcript\u0026#34;: \u0026#34;Hello. Do you speak a foreign language? One language is never enough.\u0026#34; } æ–‡å­—èµ·ã“ã—ã®çµæœãŒå–å¾—ã§ãã¾ã—ãŸã€‚\nã¾ã¨ã‚ JAWS-UG CLIå°‚é–€æ”¯éƒ¨ #171R S3åŸºç¤ é€šçŸ¥ (Lambdaã®è‡ªå‹•å®Ÿè¡Œ) ã«å‚åŠ ã—ãŸã®ã§ã€ãã®ãƒ¬ãƒãƒ¼ãƒˆã§ã—ãŸã€‚\nã¨ã„ã†ã‹ã€ä»Šå›ã¯ãƒ¬ãƒãƒ¼ãƒˆã§ã¯ãªãä»¥å‰ã«ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚„ CDK ã§ä½œæˆã—ãŸæ§‹æˆã‚’ AWS CLI ã§ã‚„ã£ã¦ã¿ãŸå†…å®¹ã«ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚\nã‚„ã£ã¦ã¿ãŸæ„Ÿæƒ³ã¨ã—ã¦ã¯ã€æ­£ç›´ AWS CDK ã§æ§‹ç¯‰ã™ã‚‹ã®ãŒä¸€ç•ªæ¥½ã ãªã¨ã„ã†æ€ã„ã§ã™ã€‚ã©ã®ã‚ãŸã‚ŠãŒè¾›ã‹ã£ãŸã‹ã¨è¨€ã†ã¨ã€ IAM ãƒãƒªã‚·ãƒ¼ã€ IAM ãƒ­ãƒ¼ãƒ«ã¾ã‚ã‚Šã®è¨­å®šã§ã™ã€‚ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚„ CDK ã§ã‚ˆã—ãªã«ã‚„ã£ã¦ãã‚Œã¦ã„ã‚‹éƒ¨åˆ†ãŒå¤§ãã„ã‚“ã ãªã¨ã€ã‚ã‚‰ãŸã‚ã¦æ„Ÿã˜ã¾ã—ãŸã€‚\né€†ã«è¨€ã†ã¨ã€ AWS CLI ã§ã‚„ã‚ã†ã¨ã™ã‚‹ã¨ãã®ã‚ãŸã‚Šã‚’ã—ã£ã‹ã‚Šç†è§£ã—ã¦ã„ãªã„ã¨è¨­å®šã§ããªã„ã®ã§ã€ IAM ã®å„è¦ç´  (ãƒãƒªã‚·ãƒ¼/ãƒ­ãƒ¼ãƒ«/ãƒ¦ãƒ¼ã‚¶ãƒ¼\u0026hellip;) ã«é–¢ã—ã¦ç†è§£ã‚’æ·±ã‚ã‚‹ã«ã¯ä¸€ç•ªè‰¯ã„æ–¹æ³•ã ãªã¨æ€ã„ã¾ã™ã€‚ ã“ã‚Œã¾ã§ã® CLI å°‚é–€æ”¯éƒ¨ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã®ä¸­ã§ã‚‚ IAM ã«ã‚ˆã‚‹æ¨©é™è¨­å®šã¯æ¯å›ã®ã‚ˆã†ã«å‡ºã¦ãã¾ã™ãŒã€ãªã‚“ã¨ãªãã‚³ãƒãƒ³ãƒ‰ã®ã‚³ãƒ”ãƒšã§çµ‚ã‚ã£ã¦ã„ãŸéƒ¨åˆ†ã‚‚å¤§ã„ã«ã‚ã‚‹ã®ã§ã€ã—ã£ã‹ã‚Šç†è§£ã—ãªãŒã‚‰é€²ã‚ãªã„ã¨ã„ã‘ãªã„ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚\nä»Šå›ã®ã‚ˆã†ã«æ‰±ã†ã‚µãƒ¼ãƒ“ã‚¹ã‚„æ©Ÿèƒ½ (S3 + Lambda) è‡ªä½“ã«é¦´æŸ“ã¿ãŒã‚ã‚‹å ´åˆã«ã¯ã€ IAM ã®æ¨©é™è¨­å®šã¾ã‚ã‚Šã‚’æ³¨æ„ã—ãªãŒã‚‰ãƒãƒ³ã‚ºã‚ªãƒ³ã‚„ã£ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-jaws-ug-cli-171r-s3-notification/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #171R S3åŸºç¤ é€šçŸ¥ (Lambdaã®è‡ªå‹•å®Ÿè¡Œ) ã«å‚åŠ ã—ã¾ã—ãŸ #jawsug_cli"
  },
  {
    "contents": "JAWS-UG CLIå°‚é–€æ”¯éƒ¨ #170R S3åŸºç¤ ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« ã«å‚åŠ ã—ãŸã®ã§ã€ãã®ãƒ¬ãƒãƒ¼ãƒˆã§ã™ã€‚\nconnpass ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰ã€‚\nã“ã‚Œã¾ã§ã® CLI å°‚é–€æ”¯éƒ¨å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã¯ã“ã¡ã‚‰ã€‚\n[ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #169R S3åŸºç¤ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° ã«å‚åŠ ã—ã¾ã—ãŸ #jawsug_cli [ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #168R S3åŸºç¤ Webã‚µã‚¤ãƒˆ\u0026amp;amp;ãƒ­ã‚° ã«å‚åŠ ã—ã¾ã—ãŸ #jawsug_cli [ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #167R EventBridgeå…¥é–€ ã«å‚åŠ ã—ã¾ã—ãŸ #jawsug_cli ç›®æ¬¡ S3 ã®å…¨ä½“åƒã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ ãƒãƒ³ã‚ºã‚ªãƒ³ 2.1 S3 ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆ 3.3 S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç¢ºèª ãƒ—ãƒ©ã‚¹ Î± æ—¢å­˜ã®ãƒã‚±ãƒƒãƒˆã«ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’è¨­å®šã™ã‚‹ ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã®å¤‰æ›´ã‚’ Slack ã«é€šçŸ¥ã™ã‚‹ (ã§ãã¾ã›ã‚“ã§ã—ãŸ) ã¾ã¨ã‚ S3 ã®å…¨ä½“åƒã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ â€»åŸºæœ¬çš„ã«ã¯å‰å›ã¾ã§ã¨åŒå†…å®¹ S3 Glacier ã‚‚ã¨ã‚‚ã¨ã¯ S3 ã¨ Galcier ã¯åˆ¥ã®ã‚µãƒ¼ãƒ“ã‚¹ã ã£ãŸãŒã€ä»Šã¯ S3 ã®ä¸€éƒ¨\nAPI ã¯ glacier\n$ aws glacier abort-multipart-upload delete-vault get-vault-access-policy list-multipart-uploads set-data-retrieval-policy abort-vault-lock delete-vault-access-policy get-vault-lock list-parts set-vault-access-policy add-tags-to-vault delete-vault-notifications get-vault-notifications list-provisioned-capacity set-vault-notifications complete-multipart-upload describe-job initiate-job list-tags-for-vault upload-archive complete-vault-lock describe-vault initiate-multipart-upload list-vaults upload-multipart-part create-vault get-data-retrieval-policy initiate-vault-lock purchase-provisioned-capacity wait delete-archive get-job-output list-jobs remove-tags-from-vault S3 ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ S3 æ¨™æº– (S3 Standard) S3 æ¨™æº– ä½é »åº¦ã‚¢ã‚¯ã‚»ã‚¹ (S3 Standard-IA) â€»IA = Infrequent Access S3 Intelligent-Tiering S3 1ã‚¾ãƒ¼ãƒ³ ä½é »åº¦ã‚¢ã‚¯ã‚»ã‚¹ (S3 One Zone-IA) ãƒ†ãƒ¼ãƒ—ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ (ã«ä¼¼ã¦ã„ã‚‹) S3 Glacier S3 Glacier Deep Archive ãã‚Œãã‚Œã«æœ€å°æœŸé–“ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ S3 æ¨™æº– ã¨ S3 Intelligent-Tiering ã¯å–ã‚Šå‡ºã—æ–™é‡‘ãŒã‹ã‹ã‚‰ãªã„ (ä»–ã¯ã‹ã‹ã‚‹) å°‘ã—å‰ã¾ã§ã¯ Glacier ç ´ç”£ ãªã‚‹ã‚‚ã®ãŒã‚ã£ãŸ ä¿æŒã«ã‹ã‹ã‚‹ã‚³ã‚¹ãƒˆã¯ä½ã„ãŒã€å–ã‚Šå‡ºã—ã«ã‹ã‹ã‚‹ã‚³ã‚¹ãƒˆãŒé«˜ã„ äº‹å‰ã®ã‚³ã‚¹ãƒˆè¨ˆç®—ã¯å¿…é ˆ æ–™é‡‘ - Amazon S3 ï½œAWS ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« - ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹é–“ã®ç§»å‹• æŒ‡å®šã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¸€å®šæœŸé–“çµŒéå¾Œã«è‡ªå‹•çš„ã«ç ´æ£„ã‚„ä½ã‚³ã‚¹ãƒˆã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã«ç§»è¡Œ é«˜ã„ã‚¯ãƒ©ã‚¹ã‹ã‚‰ä½ã„ã‚¯ãƒ©ã‚¹ã¸ã®ã¿ç§»è¡Œå¯èƒ½ (é€†ã¯ä¸å¯) ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã§è¨­å®šã™ã‚‹ã®ã§ã€ logs/ ã‚’ä½ã‚¯ãƒ©ã‚¹ã¸ã€ tmp/ ã‚’ç ´æ£„ ã¨ã„ã£ãŸè¨­å®šãŒå¯èƒ½ ãƒãƒ³ã‚ºã‚ªãƒ³ ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ã€æ–°ãŸã«ä½œæˆã—ãŸ S3 ãƒã‚±ãƒƒãƒˆã«å¯¾ã—ã¦ã€ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹åˆ¥ã«è¤‡æ•°ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’è¨­å®šã—ã€å„ãƒ«ãƒ¼ãƒ«ãŒé©ç”¨ã•ã‚Œã‚‹ã‚ˆã†ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã—ãŸã€‚ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã®æ€§è³ªä¸Šã€å®Ÿéš›ã®æŒ™å‹•ã¯æœ€çŸ­ã§ã‚‚ç¿Œæ—¥ (å³å¯†ã«ã¯æ¬¡ã® 00:00 UTC) ã«ãªã‚‰ãªã„ã¨ã‚ã‹ã‚‰ãªã„ã®ã§ã€çµæœã«ã¤ã„ã¦ã¯ç¿Œæ—¥ä»¥é™ã«ç¢ºèªã—ã¾ã™ã€‚\nä»Šå›ã‚‚ã€ãƒãƒ³ã‚ºã‚ªãƒ³ã®è©³ç´°ãªæ‰‹é †ã«ã¤ã„ã¦ã¯ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã®è³‡æ–™ã«ãŠã¾ã‹ã›ã™ã‚‹ã¨ã—ã¦ã€ä»Šå›ã®ãƒ¡ã‚¤ãƒ³ã§ã‚ã‚‹ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã®è¨­å®šéƒ¨åˆ†ã®ã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦æ›¸ã„ã¦ãŠãã¾ã™ã€‚\n2.1 S3 ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆ S3 ãƒã‚±ãƒƒãƒˆã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯ã€è¤‡æ•°ã® ãƒ«ãƒ¼ãƒ« ã‚’è¨­å®šå¯èƒ½ã§ã€æ—¥ä»˜ã®è¨ˆç®—ã«ç”¨ã„ã‚‹ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã¯ UTCã€èµ·ç®—æ—¥ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆæ—¥ã¨ãªã£ã¦ã„ã¾ã™ã€‚å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯æ¬¡ã®ã‚ˆã†ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚\nAmazon S3 ã¯ã€ãƒ«ãƒ¼ãƒ«ã«æŒ‡å®šã•ã‚ŒãŸæ—¥æ•°ã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆæ™‚é–“ã«åŠ ç®—ã—ã€å¾—ã‚‰ã‚ŒãŸæ—¥æ™‚ã‚’ç¿Œæ—¥ã®åˆå‰ 00:00 UTC (å”å®šä¸–ç•Œæ™‚) ã«ä¸¸ã‚ã‚‹ã“ã¨ã§ã€æ™‚é–“ã‚’ç®—å‡ºã—ã¾ã™ã€‚ãŸã¨ãˆã°ã€ã‚ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒ 2014 å¹´ 1 æœˆ 15 æ—¥åˆå‰ 10 æ™‚ 30 åˆ† (UTC) ã«ä½œæˆã•ã‚Œã€ç§»è¡Œãƒ«ãƒ¼ãƒ«ã« 3 æ—¥ã¨æŒ‡å®šã—ãŸå ´åˆã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç§»è¡Œæ—¥ã¯ 2014 å¹´ 1 æœˆ 19 æ—¥ 0 æ™‚ 0 åˆ† (UTC) ã¨ãªã‚Šã¾ã™ã€‚\nãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«è¨­å®šã®è¦ç´  - Amazon Simple Storage Service ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ä¸‹è¨˜ã®ã‚ˆã†ãª 3 ã¤ã®ãƒ«ãƒ¼ãƒ«ã‚’è¨­å®šã—ã¾ã—ãŸã€‚\ntemporary-objects ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ tmp/ ãŒå¯¾è±¡ 1 æ—¥çµŒéå¾Œ (æ¬¡ã®æ¬¡ã® 00:00 UTC) ã« ç ´æ£„ archive-objects ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ archive/ ãŒå¯¾è±¡ 0 æ—¥çµŒéå¾Œ (æ¬¡ã® 00:00 UTC) ã« S3 Glacier ã«ç§»è¡Œ 1 æ—¥çµŒéå¾Œã« ç ´æ£„ short-keep-objects ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ logs/ ãŒå¯¾è±¡ 30 æ—¥çµŒéå¾Œã« S3 æ¨™æº– ä½é »åº¦ã‚¢ã‚¯ã‚»ã‚¹ ã«ç§»è¡Œ 60 æ—¥çµŒéå¾Œã« S3 Intelligent Tiering ã«ç§»è¡Œ 90 æ—¥çµŒéå¾Œã« S3 1ã‚¾ãƒ¼ãƒ³ ä½é »åº¦ã‚¢ã‚¯ã‚»ã‚¹ ã«ç§»è¡Œ 120 æ—¥çµŒéå¾Œã« S3 Glacier ã«ç§»è¡Œ 210 æ—¥çµŒéå¾Œã« S3 Glacier Deep Archive ã«ç§»è¡Œ 211 æ—¥çµŒéå¾Œã« ç ´æ£„ JSON ã§è¨˜è¿°ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªå†…å®¹ã«ãªã‚Šã¾ã™ã€‚ã¡ãªã¿ã«ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ XML ã§ã®æŒ‡å®šæ–¹æ³•ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ãŒã€ JSON ã§ã®æŒ‡å®šæ–¹æ³•ãŒæ›¸ã‹ã‚Œã¦ã„ãªã„ã€‚(æ—¥æœ¬èªã ã‘ã§ãªã English ã§ã‚‚ã€‚)\n{ \u0026#34;Rules\u0026#34;: [ { \u0026#34;ID\u0026#34;: \u0026#34;temporary-objects\u0026#34;, \u0026#34;Filter\u0026#34;: { \u0026#34;Prefix\u0026#34;: \u0026#34;tmp/\u0026#34; }, \u0026#34;Status\u0026#34;: \u0026#34;Enabled\u0026#34;, \u0026#34;Expiration\u0026#34;: { \u0026#34;Days\u0026#34;: 1 } }, { \u0026#34;ID\u0026#34;: \u0026#34;archive-objects\u0026#34;, \u0026#34;Filter\u0026#34;: { \u0026#34;Prefix\u0026#34;: \u0026#34;archive/\u0026#34; }, \u0026#34;Status\u0026#34;: \u0026#34;Enabled\u0026#34;, \u0026#34;Transitions\u0026#34;: [ { \u0026#34;Days\u0026#34;: 0, \u0026#34;StorageClass\u0026#34;: \u0026#34;GLACIER\u0026#34; } ], \u0026#34;Expiration\u0026#34;: { \u0026#34;Days\u0026#34;: 1 } }, { \u0026#34;ID\u0026#34;: \u0026#34;short-keep-objects\u0026#34;, \u0026#34;Filter\u0026#34;: { \u0026#34;Prefix\u0026#34;: \u0026#34;logs/\u0026#34; }, \u0026#34;Status\u0026#34;: \u0026#34;Enabled\u0026#34;, \u0026#34;Transitions\u0026#34;: [ { \u0026#34;Days\u0026#34;: 30, \u0026#34;StorageClass\u0026#34;: \u0026#34;STANDARD_IA\u0026#34; }, { \u0026#34;Days\u0026#34;: 60, \u0026#34;StorageClass\u0026#34;: \u0026#34;INTELLIGENT_TIERING\u0026#34; }, { \u0026#34;Days\u0026#34;: 90, \u0026#34;StorageClass\u0026#34;: \u0026#34;ONEZONE_IA\u0026#34; }, { \u0026#34;Days\u0026#34;: 120, \u0026#34;StorageClass\u0026#34;: \u0026#34;GLACIER\u0026#34; }, { \u0026#34;Days\u0026#34;: 210, \u0026#34;StorageClass\u0026#34;: \u0026#34;DEEP_ARCHIVE\u0026#34; } ], \u0026#34;Expiration\u0026#34;: { \u0026#34;Days\u0026#34;: 211 } } ] } S3 ãƒã‚±ãƒƒãƒˆã¸ã®ãƒ«ãƒ¼ãƒ«ã®é©ç”¨ã¯ s3api put-bucket-lifecycle-configuration ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚\n$ aws s3api put-bucket-lifecycle-configuration \\ --bucket ${S3_BUCKET_NAME} \\ --lifecycle-configuration file://s3-bucket-lifecycle.json å„ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã«ã¯æœ€å°æœŸé–“ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ä¾‹ãˆã° Glacier ã¸ã®ç§»è¡Œæ—¥æ•° 120 æ—¥ã«å¯¾ã—ã¦ Glacier Deep Archive ã¸ã®ç§»è¡Œæ—¥æ•°ã‚’ 200 æ—¥ã«è¨­å®šã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ s3api put-bucket-lifecycle-configuration å®Ÿè¡Œæ™‚ã«ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚\nAn error occurred (InvalidArgument) when calling the PutBucketLifecycleConfiguration operation: \u0026lsquo;Days\u0026rsquo; in the \u0026lsquo;Transition\u0026rsquo; action for StorageClass \u0026lsquo;DEEP_ARCHIVE\u0026rsquo; for filter \u0026lsquo;(prefix=logs/)\u0026rsquo; must be 90 days more than \u0026lsquo;filter \u0026lsquo;(prefix=logs/)\u0026rsquo;\u0026rsquo; in the \u0026lsquo;Transition\u0026rsquo; action for StorageClass \u0026lsquo;GLACIER\u0026rsquo;\nãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãŒè¨­å®šã•ã‚Œã‚‹ã¨ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã® S3 ãƒã‚±ãƒƒãƒˆè©³ç´°ã§æ¬¡ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nä½™è«‡ã§ã™ãŒã€ãƒã‚±ãƒƒãƒˆè©³ç´°ç”»é¢ã® UI ãŒå¤‰ã‚ã£ã¦ã¾ã™ã­ã€‚\nã¾ãŸã€å„ãƒ«ãƒ¼ãƒ«ã®è©³ç´°ç”»é¢ã§ã¯æ—¥æ•°ã®çµŒéã¨ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã®é·ç§»ãŒãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚ºã•ã‚ŒãŸå½¢ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n3.3 S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç¢ºèª ãƒ«ãƒ¼ãƒ«ãŒé©ç”¨ã•ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¤ã„ã¦ã¯ã€ s3api head-object ã‚³ãƒãƒ³ãƒ‰ã§å¾—ã‚‰ã‚Œã‚‹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ä¸­ã«å«ã¾ã‚Œã‚‹ Expiration ã®å€¤ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã§ã€ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n$ aws s3api head-object \\ --bucket ${S3_BUCKET_NAME} \\ --key tmp/2020-10-29.txt \\ --query \u0026#39;Expiration\u0026#39; \\ --output text expiry-date=\u0026#34;Sat, 31 Oct 2020 00:00:00 GMT\u0026#34;, rule-id=\u0026#34;temporary-objects\u0026#34; 211 æ—¥çµŒéå¾Œã«ç ´æ£„ã•ã‚Œã‚‹ logs/ ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¤ã„ã¦ã¯ã€æ¬¡ã®ã‚ˆã†ãªå‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚\n$ aws s3api head-object \\ --bucket ${S3_BUCKET_NAME} \\ --key logs/2020-10-29.log \\ --query \u0026#39;Expiration\u0026#39; \\ --output text expiry-date=\u0026#34;Sat, 29 May 2021 00:00:00 GMT\u0026#34;, rule-id=\u0026#34;short-keep-objects\u0026#34; ã¾ãŸã€ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§è¨­å®šã—ãŸãƒ«ãƒ¼ãƒ«ã®ä¸­ã§ ãã®æŒ™å‹•ãŒæœ€çŸ­ã§ç¢ºèªã§ãã‚‹ã®ã¯ archive-objects ã®ãƒ«ãƒ¼ãƒ«ã§ã™ã€‚ \u0026quot;Days\u0026quot;: 0 ã§ Glacier ã¸ã®ç§»è¡Œã‚’è¨­å®šã—ã¦ã„ã‚‹ã®ã§ã€ç¿Œæ—¥ã® 09:00 JST ã«ã¯çµæœãŒç¢ºèªã§ãã¾ã™ã€‚ã¨ã„ã†ã“ã¨ã§ã€ç§»è¡Œå‰ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã‚’äº‹å‰ã«ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚date ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œæ™‚ã®æ—¥æ™‚ã‚‚ä¸€ç·’ã«å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚\n$ date \u0026amp;\u0026amp; aws s3api list-objects-v2 \\ --bucket ${S3_BUCKET_NAME} \\ --prefix \u0026#34;archive/\u0026#34; \\ --query \u0026#34;Contents[].[join(\\`\\`, [Key, \\`: \\`, StorageClass])]\u0026#34; \\ --output text 2020å¹´ 10æœˆ29æ—¥ æœ¨æ›œæ—¥ 22æ™‚07åˆ†14ç§’ JST archive/2020-10-29.txt: STANDARD (ç¿Œæ—¥)\nç¿Œæ—¥ã® 09:00 JST ä»¥é™ã«ã‚ã‚‰ãŸã‚ã¦ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ date \u0026amp;\u0026amp; aws s3api list-objects-v2 \\ --bucket ${S3_BUCKET_NAME} \\ --prefix \u0026#34;archive/\u0026#34; \\ --query \u0026#34;Contents[].[join(\\`\\`, [Key, \\`: \\`, StorageClass])]\u0026#34; \\ --output text 2020å¹´ 10æœˆ30æ—¥ é‡‘æ›œæ—¥ 22æ™‚00åˆ†50ç§’ JST archive/2020-10-29.txt: GLACIER ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ãŒ S3 Glacier ã«ç§»è¡Œã—ã¦ã„ã¾ã™ã€‚ 09:00 JST (= 00:00 UTC) ã«ãªã£ã¦ã™ãã«ç¢ºèªã—ãŸã¨ãã«ã¯ã¾ã  S3 æ¨™æº– ã®ã¾ã¾ã§ã—ãŸã€‚ã©ã†ã‚„ã‚‰ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«ã‚ˆã‚‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã®ç§»è¡Œã«ã¯é…å»¶ãŒç™ºç”Ÿã™ã‚‹å ´åˆãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚ç§»è¡ŒãŒå®Œäº†ã—ã¦ã„ãªã„å ´åˆã§ã‚‚ã€ç™ºç”Ÿã™ã‚‹ã‚³ã‚¹ãƒˆã®å¤‰æ›´ã«é–¢ã—ã¦ã¯ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ«ãƒ¼ãƒ«ã‚’æº€ãŸã—ãŸæ™‚ç‚¹ã§é©ç”¨ã•ã‚Œã‚‹ã¿ãŸã„ã§ã™ã€‚\nAmazon S3 ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ«ãƒ¼ãƒ«ã«é…å»¶ãŒã‚ã‚‹ç†ç”± ãƒ—ãƒ©ã‚¹ Î± ãƒãƒ³ã‚ºã‚ªãƒ³ä¸­ã«ã„ãã¤ã‹ç–‘å•ã«æ€ã£ãŸã“ã¨ãŒã‚ã£ãŸã®ã§ã€ãã‚Œã‚‰ã«ã¤ã„ã¦è©¦ã—ã¦ã¿ã¾ã™ã€‚\næ—¢å­˜ã®ãƒã‚±ãƒƒãƒˆã«ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’è¨­å®šã™ã‚‹ ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ã€æ–°ãŸã«ä½œæˆã—ãŸãƒã‚±ãƒƒãƒˆã«å¯¾ã—ã¦ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’è¨­å®šã—ã€ãã®å¾Œã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚ã§ã¯ã€æ—¢ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå­˜åœ¨ã™ã‚‹ãƒã‚±ãƒƒãƒˆã«å¯¾ã—ã¦ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’è¨­å®šã—ãŸå ´åˆã¯ã©ã®ã‚ˆã†ãªæŒ™å‹•ã«ãªã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚\nä»Šå›ã¯ã€å€‹äººã§é‹ç”¨ã—ã¦ã„ã‚‹ Web ã‚µãƒ¼ãƒ“ã‚¹ (ã¨è¨€ã£ã¦è‰¯ã„ã®ã‹ã¯ã•ã¦ãŠã) ã® ã‚³ã‚³ã‚¤ãƒæ³¨æ–‡æ–™é‡‘ç°¡æ˜“ã‚«ãƒªã‚­ãƒ¥ãƒ¬ãƒ¼ã‚¿ ã® CloudFront ã§ç”Ÿæˆã—ã¦ã„ã‚‹ãƒ­ã‚°ã‚’å¯¾è±¡ã«ã€ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’è¨­å®šã—ã¦ã¿ã¾ã™ã€‚\nãƒ­ã‚°ã¯æ—¢ã«ã¨ã‚ã‚‹ãƒã‚±ãƒƒãƒˆ (cf-logs-bucket (ä»®ç§°)) ã«ç”Ÿæˆã•ã‚Œã¦ã„ã¦ã€ä¾‹ãˆã° 2019 å¹´6æœˆã®ãƒ­ã‚°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚date ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œæ™‚ã®æ—¥æ™‚ã‚‚ä¸€ç·’ã«å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚\n$ date \u0026amp;\u0026amp; aws s3api list-objects-v2 \\ --bucket cf-logs-bucket \\ --prefix coco1.app/2019-06 \\ --max-keys 5 \\ --query \u0026#34;Contents[].[join(\\`\\`, [Key, \\`: \\`, StorageClass])]\u0026#34; \\ --output text 2020å¹´ 10æœˆ30æ—¥ é‡‘æ›œæ—¥ 22æ™‚05åˆ†55ç§’ JST coco1.app/2019-06-09-08-17-46-3A0F0F0D5E81E231: STANDARD coco1.app/2019-06-09-08-18-35-A18FDA5904E7D007: STANDARD coco1.app/2019-06-09-08-19-59-53378BC489E1596B: STANDARD coco1.app/2019-06-09-08-20-53-D6015EC587DF38C1: STANDARD coco1.app/2019-06-09-08-22-23-4DB13667C68BCEBA: STANDARD ã“ã®ãƒã‚±ãƒƒãƒˆã«å¯¾ã—ã¦ã€ coco1.app/ ã¨ã„ã†ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’å¯¾è±¡ã«ã€ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã¨åŒæ§˜ã«æ¬¡ã®ã‚ˆã†ãªãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’è¨­å®šã—ã¦ã¿ã¾ã™ã€‚ç¾æ™‚ç‚¹ (2020/10/30) ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã¦ã‹ã‚‰ 1 å¹´ä»¥ä¸ŠçµŒéã—ã¦ã„ã‚‹ã®ã§ã€è¨­å®šã™ã‚‹æ—¥æ•°ã¯æ¬¡ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n{ \u0026#34;Rules\u0026#34;: [ { \u0026#34;ID\u0026#34;: \u0026#34;keep-log-objects\u0026#34;, \u0026#34;Filter\u0026#34;: { \u0026#34;Prefix\u0026#34;: \u0026#34;coco1.app/\u0026#34; }, \u0026#34;Status\u0026#34;: \u0026#34;Enabled\u0026#34;, \u0026#34;Transitions\u0026#34;: [ { \u0026#34;Days\u0026#34;: 360, \u0026#34;StorageClass\u0026#34;: \u0026#34;GLACIER\u0026#34; }, { \u0026#34;Days\u0026#34;: 540, \u0026#34;StorageClass\u0026#34;: \u0026#34;DEEP_ARCHIVE\u0026#34; } ], \u0026#34;Expiration\u0026#34;: { \u0026#34;Days\u0026#34;: 720 } } ] } ä¸Šè¨˜ã®ãƒ«ãƒ¼ãƒ«ã‚’è¨­å®šã—ã¾ã™ã€‚\n$ aws s3api put-bucket-lifecycle-configuration \\ --bucket cf-logs-bucket \\ --lifecycle-configuration file://coco1_log_lifecycle_rule.json ä¸€ã¤ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦æœ‰åŠ¹æœŸé™ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3api head-object \\ --bucket cf-logs-bucket \\ --key coco1.app/2019-06-09-08-17-46-3A0F0F0D5E81E231 \\ --query Expiration \\ --output text expiry-date=\u0026#34;Sun, 30 May 2021 00:00:00 GMT\u0026#34;, rule-id=\u0026#34;keep-log-objects\u0026#34; ãƒ«ãƒ¼ãƒ«ãŒé©ç”¨ã•ã‚Œã¦ã„ã‚‹ã®ãŒã‚ã‹ã‚Šã¾ã™ã€‚\n2020/10/31 ã¯ 2019/06/09 ã‹ã‚‰ 508 æ—¥çµŒéã—ã¦ã„ã‚‹ã®ã§ã€ä¸Šã®æ¡ä»¶ã‹ã‚‰ S3 Glacier ã«ç§»è¡Œã™ã‚‹ã¨æƒ³å®šã•ã‚Œã¾ã™ã€‚\n(ç¿Œæ—¥)\nãƒ«ãƒ¼ãƒ«ã®æ¡ä»¶é©ç”¨ã®åˆ¤å®š (ã¨ã„ã†è¨€ã„æ–¹ãŒæ­£ã—ã„ã‹ã¯ä¸€æ—¦ã‚¹ãƒ«ãƒ¼) ã¯ 00:00 UTC ã«è¡Œã‚ã‚Œã‚‹ã®ã§ã€ç¿Œæ—¥ã® 09:00 JST ä»¥é™ã«ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ date \u0026amp;\u0026amp; aws s3api list-objects-v2 \\ --bucket cf-logs-bucket \\ --prefix coco1.app/2019-06 \\ --max-keys 5 \\ --query \u0026#34;Contents[].[join(\\`\\`, [Key, \\`: \\`, StorageClass])]\u0026#34; \\ --output text 2020å¹´ 10æœˆ31æ—¥ åœŸæ›œæ—¥ 16æ™‚37åˆ†03ç§’ JST coco1.app/2019-06-09-08-17-46-3A0F0F0D5E81E231: GLACIER coco1.app/2019-06-09-08-18-35-A18FDA5904E7D007: GLACIER coco1.app/2019-06-09-08-19-59-53378BC489E1596B: GLACIER coco1.app/2019-06-09-08-20-53-D6015EC587DF38C1: GLACIER coco1.app/2019-06-09-08-22-23-4DB13667C68BCEBA: GLACIER æƒ³å®šé€šã‚Šã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ãŒ S3 Glacier ã«ç§»è¡Œã—ã¦ã„ã¾ã™ã€‚\nã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«è¨­å®š ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«ã‚ˆã‚‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã®ç§»è¡Œã«ã¯ã€ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ (ç§»è¡ŒãŒã•ã‚Œãªã„) ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œã¯ã€ å¯¾è±¡ã¨ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚µã‚¤ã‚ºãŒ 128 KB æœªæº€ã®å ´åˆ ã§ã™ã€‚å¯¾è±¡ã¨ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚µã‚¤ã‚ºãŒ 128 KB æœªæº€ã®å ´åˆã€æ¬¡ã®ã‚ˆã†ãªã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã®ç§»è¡Œã¯å®Ÿè¡Œã•ã‚Œã¾ã›ã‚“ã€‚\nS3 æ¨™æº– ã¾ãŸã¯ S3 æ¨™æº– ä½é »åº¦ã‚¢ã‚¯ã‚»ã‚¹ ã‹ã‚‰ S3 Intelligent-Tiering ã¸ã®ç§»è¡Œ S3 æ¨™æº– ã‹ã‚‰ S3 æ¨™æº– ä½é »åº¦ã‚¢ã‚¯ã‚»ã‚¹ ã¾ãŸã¯ S3 1ã‚¾ãƒ¼ãƒ³ ä½é »åº¦ã‚¢ã‚¯ã‚»ã‚¹ ã¸ã®ç§»è¡Œ ã“ã‚Œã‚‰ã®ç§»è¡Œã¯ã€å°ã•ã„ã‚µã‚¤ã‚ºã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¨ã£ã¦ã¯è²»ç”¨å¯¾åŠ¹æœãŒæ‚ªã„ãŸã‚ã€ Amazon S3 ãŒç§»è¡Œã•ã›ãªã„ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nAmazon S3 ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’ä½¿ç”¨ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç§»è¡Œ - Amazon Simple Storage Service ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã®å¤‰æ›´ã‚’ Slack ã«é€šçŸ¥ã™ã‚‹ (ã§ãã¾ã›ã‚“ã§ã—ãŸ) ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã‚ã‹ã£ãŸé€šã‚Šã€ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ«ãƒ¼ãƒ«ã«ã‚ˆã‚‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã®å¤‰æ›´ã«ã¯å¤šå°‘æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚è¨­å®šã ã‘ã—ã¦ã‚ã¨ã§å¿˜ã‚Œã¦ã—ã¾ã†æ°—ãŒã—ãŸã®ã§ã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ãŒå¤‰ã‚ã£ãŸã¨ãã« Slack ã«é€šçŸ¥ã§ããªã„ã‹ãªï¼Ÿã¨è€ƒãˆã¾ã—ãŸã€‚S3 ã§ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã™ã‚‹ã•ã¾ã–ã¾ãªã‚¤ãƒ™ãƒ³ãƒˆã‚’ SNS ã€ SQS ã€ Lambda ã«é€šçŸ¥ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ãã®æ©Ÿèƒ½ã‚’ä½¿ã£ã¦é€šçŸ¥ã§ããªã„ã‹è©¦ã—ã¦ã¿ã¾ã™ã€‚\nS3 ã®ã‚¤ãƒ™ãƒ³ãƒˆã«ã¤ã„ã¦å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚“ã§ã¿ã‚‹ã¨ã€æ®‹å¿µãªãŒã‚‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã®å¤‰æ›´ã‚’é€šçŸ¥ã™ã‚‹ã‚ˆã†ãªã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆãªã‚¤ãƒ™ãƒ³ãƒˆã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚\nAmazon S3 ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã®è¨­å®š - Amazon Simple Storage Service ã˜ã‚ƒã‚ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã®å¤‰æ›´ã£ã¦è£ã§ã©ã†å‹•ã„ã¦ã„ã‚‹ã®ã‹ãªã¨æ€ã£ã¦èª¿ã¹ã¦ã¿ã‚‹ã¨ã€ã©ã†ã‚„ã‚‰å…ƒã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ–°ã—ã„ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã¨ã—ã¦ã‚³ãƒ”ãƒ¼ã—ã¦ã„ã‚‹ã‚ˆã†ã§ã—ãŸã€‚ã¨ã„ã†ã®ã‚‚ã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã®å¤‰æ›´ã¯æ‰‹å‹•ã§ã‚‚å¯èƒ½ã§ã€ AWS CLI ã‚’ä½¿ã£ã¦æ‰‹å‹•ã§ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã‚’å¤‰æ›´ã™ã‚‹éš›ã«ã¯æ¬¡ã®ã‚ˆã†ãªå½¢ã§ s3api copy-object ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã‹ã‚‰ã§ã™ã€‚\n$ aws s3api copy-object \\ --bucket ${S3_BUCKET_NAME} \\ --copy-source ${S3_BUCKET_NAME}/${OBJECT_KEY} \\ --key ${OBJECT_KEY} \\ --storage-class DEEP_ARCHIVE ãªã®ã§ã€ S3 ã‚¤ãƒ™ãƒ³ãƒˆã¨ã—ã¦ã¯ s3:ObjectCreated:Copy ã‚’é€šçŸ¥ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã™ã€‚ã“ã®ã‚ãŸã‚Šã®å†…å®¹ã¯æ¬¡å›ã® CLI å°‚é–€æ”¯éƒ¨ã§æ‰±ã†ã‚ˆã†ãªã®ã§ã€ä»Šå›ã¯ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§è¨­å®šã—ã¦ã—ã¾ã„ã¾ã™ã€‚\nã‚‚ã—ã‹ã—ãŸã‚‰ COPY ã˜ã‚ƒãªã„ã‹ã‚‚ã—ã‚Œãªã„ã®ã§å¿µã®ãŸã‚ PUT ã¨ POST ã«ã¤ã„ã¦ã‚‚é€šçŸ¥å¯¾è±¡ã«ã—ã¦ã„ã¾ã™ã€‚é€šçŸ¥ç”¨ã® Lambda é–¢æ•°ã¯ã€å—ã‘å–ã£ãŸã‚¤ãƒ™ãƒ³ãƒˆã‚’æ•´å½¢ã—ã¦ Slack ã«æŠ•ã’ã‚‹ã ã‘ã®é–¢æ•°ã§ã™ã€‚\nimport json from urllib.request import Request, urlopen SLACK_WEBHOOK_URL = \u0026#39;https://hooks.slack.com/services/********************\u0026#39; def lambda_handler(event, context): try: try: slack_message = \u0026#39;```\\n\u0026#39; + json.dumps(event, indent=2) + \u0026#39;\\n```\u0026#39; except Exception as e: print(e) slack_message = str(event) headers = {\u0026#34;Content-Type\u0026#34;: \u0026#34;application/json\u0026#34;} data = bytes(json.dumps({\u0026#39;text\u0026#39;: slack_message}), \u0026#39;utf-8\u0026#39;) request = Request(SLACK_WEBHOOK_URL, data=data, headers=headers) urlopen(request) except Exception as e: print(e) ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã®è¨­å®šå¾Œã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ãŒå¤‰æ›´ã•ã‚Œã‚‹ã§ã‚ã‚ã†æ™‚é–“ã«é€šçŸ¥ãŒãã‚‹æƒ³å®šã ã£ãŸã‚“ã§ã™ãŒã€æ®‹å¿µãªãŒã‚‰é€šçŸ¥ã¯æ¥ãšã€‚ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ«ãƒ¼ãƒ«ã«ã‚ˆã‚‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã®ç§»è¡Œã¯ã€æ‰‹å‹•ã§ã‚„ã‚‹å ´åˆã¨ã¯å‹•ä½œãŒç•°ãªã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã®ç§»è¡Œã‚’é€šçŸ¥ã™ã‚‹ä½•ã‹è‰¯ã„æ–¹æ³•ãŒã‚ã‚Œã°æ•™ãˆã¦ã„ãŸã ããŸã„ã§ã™ã€‚\nã¾ã¨ã‚ JAWS-UG CLIå°‚é–€æ”¯éƒ¨ #170R S3åŸºç¤ ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« ã®å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã§ã—ãŸã€‚\nå‰å›ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã¨æ¯”ã¹ã‚‹ã¨ä½¿ã„æ‰€ã¯å¤§ã„ã«ã‚ã‚Šãã†ã ãªã¨æ€ã„ã¾ã—ãŸã€‚ãŸã ã—ã€ Glacier ç ´ç”£ã¨ã„ã†è¨€è‘‰ã‚‚ã‚ã‚‹ã‚ˆã†ãªã®ã§ã€å®Ÿéš›ã«ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’å°å…¥ã™ã‚‹éš›ã«ã¯å¯¾è±¡ã¨ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚µã‚¤ã‚ºã‚„å–ã‚Šå‡ºã—é »åº¦ãªã©ã‚’è€ƒæ…®ã—ã¦ã‚³ã‚¹ãƒˆè¨ˆç®—ã‚’ã—ã£ã‹ã‚Šã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nCLI å°‚é–€æ”¯éƒ¨ã®ãƒ¬ãƒãƒ¼ãƒˆãƒ–ãƒ­ã‚°ã‚‚ã“ã‚Œã§ 4 æœ¬ç›®ã«ãªã‚Šã¾ã™ãŒã€ãªã‚“ã¨ãªã AWS CLI åŠ›ãŒé«˜ã¾ã£ã¦ããŸã‚ˆã†ãªæ°—ãŒã—ã¦ã¾ã™ã€‚æ¥æœˆã‹ã‚‰æ–°ã—ã„ä¼šç¤¾ã§ã®å‹¤å‹™ãŒå§‹ã¾ã‚Šã¾ã™ãŒã€å‹¤å‹™æ™‚é–“ã«ã¯èé€šãŒåŠ¹ã (ã¯ãšãª) ã®ã§å¼•ãç¶šãå‚åŠ ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-jaws-ug-cli-170r-s3-lifecycle/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #170R S3åŸºç¤ ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« ã«å‚åŠ ã—ã¾ã—ãŸ #jawsug_cli"
  },
  {
    "contents": "ã“ã®ä¸‰å¹´åŠã€ã¤ã¾ã‚Š 2017å¹´ 5æœˆã‹ã‚‰ 2020å¹´ 10æœˆã¾ã§ã®è«¸ã€…ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚ä»Šå›ã®å†…å®¹ã¯ã€æ¿€å¯’è‡ªåˆ†èªã‚Šãƒã‚¨ãƒ ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nç›®æ¬¡ ãªãœæ€¥ã«æŒ¯ã‚Šè¿”ã‚‹ã®ã‹ AWS ã¨ã®å‡ºä¼šã„ AWS ã‚’ä½¿ã£ãŸé–‹ç™º ã‚»ãƒŸãƒŠãƒ¼ã¨ã‹å‹‰å¼·ä¼šã¸ã®å‚åŠ  ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã®ç¿’æ…£åŒ– ä»–ã«ã‚‚è‰²ã€…æ‰‹ã‚’å‡ºã—ã¦ã¿ãŸ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®å®Ÿè£… è‰²ã‚“ãªè¨€èªã§ã®å®Ÿè£… ã¾ã¨ã‚ ãªãœæ€¥ã«æŒ¯ã‚Šè¿”ã‚‹ã®ã‹ ãªãœã“ã®å¾®å¦™ãªæœŸé–“ã‚’æŒ¯ã‚Šè¿”ã‚‹ã®ã‹ã¨ã„ã†ã¨ã€ã¡ã‚‡ã†ã©ä»Šã®ä¼šç¤¾ã«åœ¨ç±ã—ã¦ã„ãŸæœŸé–“ã ã‹ã‚‰ã§ã™ã€‚éå»å½¢ã«ã—ã¦ã¾ã™ãŒã€ä¸€å¿œ 10æœˆã„ã£ã±ã„ã¯ç±ãŒã‚ã‚Šã¾ã™ã€‚ã§ã€æ¥æœˆã‹ã‚‰ã¯åˆ¥ã®ä¼šç¤¾ã§å¼•ãç¶šããƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã—ã¦é–‹ç™ºã‚’ã—ã¦ã„ãäºˆå®šã§ã™ã€‚\nä¸‰å¹´åŠã¨è¨€ã„ãªãŒã‚‰ã‚‚è‡ªèº«ã¨ã—ã¦ã¯ã‚‚ã£ã¨é•·ã„æ„Ÿã˜ãŒã—ã¦ã„ã¦ã€å‡„ã„æ¿ƒã„æœŸé–“ã ã£ãŸãªãƒ¼ã¨ã„ã†ã“ã¨ã§æŒ¯ã‚Šè¿”ã£ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚\nAWS ã¨ã®å‡ºä¼šã„ æŒ¯ã‚Šè¿”ã‚Šã¨è¨€ã£ã¦ã‚‚ã“ã®è¦ç´ ãŒä¸€ç•ªå¤§ãã„ã®ã§ã€ã“ã“ãŒä»Šå›ã®ãƒ¡ã‚¤ãƒ³ã§ã™ã€‚\nä»Šã§ã¯ã»ã¼æ¯æ—¥ã®ã‚ˆã†ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæƒ…å ±ã‚’ç¢ºèªã—ãŸã‚Š JAWS-UG ç­‰ã®å‹‰å¼·ä¼šã«å‚åŠ ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸãŒã€ä¸‰å¹´åŠå‰ã¯ AWS ã«ã¤ã„ã¦ã¯ã»ã¼çŸ¥ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ EC2 ãã‚‰ã„ã¯åå‰ã‚’èã„ãŸã“ã¨ãŒã‚ã‚‹ã‹ãªãƒ¼ç¨‹åº¦ã§ã€ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼çš„ãªæ„Ÿã˜ã§ã—ã‚‡ã¨æ€ã£ã¦ã¾ã—ãŸã€‚\nAWS ã‚’ä½¿ã£ãŸé–‹ç™º ä»Šã®ä¼šç¤¾ã«å…¥ã£ã¦ã‹ã‚‰å°ã•ã„è¦æ¨¡ã®ã¨ã‚ã‚‹ Web ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œã£ã¦ãã‚Œã¨è¨€ã‚ã‚Œã¦ã€ã‚¤ãƒ³ãƒ•ãƒ©ã¯ AWS ä½¿ã£ã¦ã‚‚ã„ã„ã‚ˆã¨ã„ã†ã“ã¨ã§è§¦ã‚‰ã›ã¦ã‚‚ã‚‰ã†ã“ã¨ã«ã—ã¾ã—ãŸã€‚ã§ã€ã¾ãšä½•ã‚’ã‚„ã£ãŸã‹ã¨è¨€ã†ã¨ã€ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä¸­ã« LAMP ç’°å¢ƒã‚’ä½œã‚‹ã£ã¦ã„ã†ã€ã¾ã•ã«ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼çš„ãªä½¿ã„æ–¹ã‚’ã—ãŸã‚ã‘ã§ã™ã€‚\nå€‹äººã® AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚‚ã“ã®ã¨ãã«ä½œã£ã¦è‰²ã€…è©¦ã™ã‚ˆã†ã«ã‚‚ãªã‚Šã¾ã—ãŸã€‚\nãã® Web ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹éš›ã«ã€ DNS ã¯ Route 53 ã¨ã„ã†ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã†ã‚‰ã—ã„ã€ SSL è¨¼æ˜æ›¸ã¯ Certificate Manager ã‚’ä½¿ã†ã‚‰ã—ã„ã€è«¸ã€…ã®ç›£è¦–ãƒ»é€šçŸ¥ã«ã¯ CloudWatch ã€ SNS ã€ Lambda ã¨ã„ã†ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã†ã‚‰ã—ã„ã€ãªã‚‹ã»ã©ã€ã‚ã‹ã‚‰ã‚“\u0026hellip; ã¨ã„ã†æ„Ÿã˜ã§å¾ã€…ã«è§¦ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ãŒå¢—ãˆã¦ã„ãã¾ã—ãŸã€‚\næœ€è¿‘ã§ã¯ã€ã‚µãƒ¼ãƒ“ã‚¹åã‚’è¦‹ã‚Œã°ãã‚ŒãŒã©ã†ã„ã†ã‚µãƒ¼ãƒ“ã‚¹ãªã®ã‹ã¯ä½•ã¨ãªãåˆ†ã‹ã‚‹ã‚ˆã†ã«ãªã£ã¦ã¾ã™ã€‚ã¾ãŸã€å„ã‚µãƒ¼ãƒ“ã‚¹ã ã‘ã§ã¯ãªãã¦ CDK ã¨ã‹ Chalice ã¨ã‹ Serverless Framework ç­‰ã®å‘¨è¾ºãƒ„ãƒ¼ãƒ«ã‚‚ä½¿ã†ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®è¾›ã•ãŒã‚ã‹ã‚‹ã‚ˆã†ã«ãªã£ã¦ãã¾ã—ãŸã€‚\nä¸‰å¹´åŠã‚‚ã‚ã‚Œã°ãã‚“ãªã‚‚ã‚“ã‚„ã‚ã¨ã„ã†ãƒ„ãƒƒã‚³ãƒŸã‚‚ã‚ã‚‹ã‹ã¨æ€ã„ã¾ã™ãŒã€å€‹äººçš„ã«ã¯ä½•ã‚‚çŸ¥ã‚‰ãªã„ãƒ¬ãƒ™ãƒ«ã‹ã‚‰ã ã„ã¶æˆé•·ã—ãŸãªã¨æ€ã£ã¦ã¾ã™ã€‚(è‡ªåˆ†ã«ã¯ç”˜ã„ã§ã™)\nAWS èªå®šã‚‚ã€ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆãƒ¬ãƒ™ãƒ«ã® 3 ã¤ã‚’å–å¾—ã§ããŸã®ã¯ã€æˆé•·ã®è¨¼ã‹ãªã¨æ€ã„ã¾ã™ã€‚(è‡ªåˆ†ã«ã¯ç”˜ã„ã§ã™)\nã‚»ãƒŸãƒŠãƒ¼ã¨ã‹å‹‰å¼·ä¼šã¸ã®å‚åŠ  ã‚»ãƒŸãƒŠãƒ¼ã‚„å‹‰å¼·ä¼šã«å‚åŠ ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã‚‚ AWS ã‚’è§¦ã‚Šå§‹ã‚ãŸã“ã¨ãŒãã£ã‹ã‘ã«ãªã£ã¦ã¾ã™ã€‚\nåˆã‚ã¦è¡Œã£ãŸã‚»ãƒŸãƒŠãƒ¼ã¯ã€ 2017å¹´ã«æ±äº¬ã§é–‹å‚¬ã•ã‚ŒãŸ AWSome Day 2017 æ±äº¬ ã§ã™ã€‚ã“ã‚Œã‚’ãã£ã‹ã‘ã«ã€ Developers.IO ã‚„ AWS Loft ã§ã®ãƒãƒ³ã‚ºã‚ªãƒ³ãªã©ã«å‚åŠ ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ ç‰¹ã« Developers.IO 2018 ã§ã¯ã€ AWS ãªã‚“ã‚‚ã‚ã‹ã‚‰ã‚“ã¨ã„ã†æ„Ÿæƒ³ã¨ã¨ã‚‚ã«ã€ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã•ã‚“ã®ãƒ¬ãƒ™ãƒ«ã®é«˜ã• (æŠ€è¡“åŠ›ã€ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆåŠ›) ã«æ„Ÿå‹•ã—ãŸã¨è¨€ã†ã‹ã³ã£ãã‚Šã—ãŸã¨è¨€ã†ã‹ã€ã¨ã«ã‹ãå‡„ã„ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã‚’å—ã‘ãŸã®ã‚’è¦šãˆã¦ã„ã¾ã™ã€‚\nä»Šå¹´ã«å…¥ã£ã¦ã‹ã‚‰ã¯å„ç¨®ã‚¤ãƒ™ãƒ³ãƒˆãŒã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§é–‹å‚¬ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬ã®è‰¯ã„ã¨ã“ã‚/æ‚ªã„ã¨ã“ã‚ã¯ãã‚Œãã‚Œã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€å€‹äººçš„ã«ã¯å‡„ãã‚ã‚ŠãŒãŸã„ãªã¨æ„Ÿã˜ã¦ã¾ã™ã€‚\nã‚¤ãƒ™ãƒ³ãƒˆã«ã‚ˆã£ã¦ã¯ 21æ™‚ã‚¹ã‚¿ãƒ¼ãƒˆã ã£ãŸã‚Šã€æœã® 7æ™‚åŠã‚¹ã‚¿ãƒ¼ãƒˆã ã£ãŸã‚Šã¨ã€æ¥­å‹™å¾Œã‚„æ¥­å‹™å‰ã®å‚åŠ ã—ã‚„ã™ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§é–‹å‚¬ã•ã‚Œã‚‹ã®ãŒå¤§å¤‰ã‚ã‚ŠãŒãŸã„ã§ã™ã€‚\nã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã®ç¿’æ…£åŒ– ä¸Šã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã•ã‚“ã‚’ã¯ã˜ã‚ã€æ§˜ã€…ãªã‚¤ãƒ™ãƒ³ãƒˆã§ç™»å£‡ã•ã‚Œã¦ã„ã‚‹æ–¹ã€…ã‚’è¦‹ã¦ã€ã ã„ã¶é ã„å­˜åœ¨ãªãŒã‚‰ã‚‚è‡ªåˆ†ã‚‚ã„ã¤ã‹ã‚ã‚“ãªé¢¨ã«ãªã‚ŒãŸã‚‰ã„ã„ãªãƒ¼ã¨æ€ã†ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ãŸã ã€ã„ããªã‚Šç™»å£‡ãªã‚“ã¦ã§ããªã„ã®ã§ã€ãƒ–ãƒ­ã‚°ã§ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã‚’ç¶šã‘ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚\nãã®çµæœã€ãƒ–ãƒ­ã‚°ã®è¨˜äº‹æ•°ã¯ 2016å¹´ãŒ 5 æœ¬ (Qiita ã§æ›¸ã„ã¦ã¾ã—ãŸ) ã ã£ãŸã®ãŒã€ 2017å¹´ã«ã¯ 18 æœ¬ã€ 2018å¹´ã«ã¯ 48 æœ¬ã€ 2019å¹´ã«ã¯ 54 æœ¬ã€ãã—ã¦ 2020å¹´ã«ã¯ 10æœˆæ™‚ç‚¹ã§ 78 æœ¬ã¨ã€è¨˜äº‹æ•°ã ã‘ã¯ç€å®Ÿã«å¢—ãˆã¦ãã¦ã„ã¾ã™ã€‚\nã‚«ãƒ†ã‚´ãƒªã¨ã—ã¦ã‚‚ AWS ã«é–¢ã™ã‚‹è¨˜äº‹ãŒ 107 æœ¬ã¨ã„ã†ã“ã¨ã§ã€ AWS ã¨ã®å‡ºä¼šã„ãŒã‚‚ãŸã‚‰ã—ãŸåŠ¹æœã¯å¤§ããªã¨æ€ã†ã°ã‹ã‚Šã§ã™ã€‚\nã¾ãŸã€ä»Šå¹´ã¯ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã¯ã‚ã‚Šã¾ã™ãŒå¿µé¡˜ã® LT ãƒ‡ãƒ“ãƒ¥ãƒ¼ã‚‚æœãŸã—ã¾ã—ãŸã€‚ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã ã¨äººå‰ã§ç·Šå¼µã—ã¦ã—ã¾ã†ã®ãŒã‚ã‹ã‚Šãã£ã¦ã„ã‚‹ã®ã§ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ LT ã®æ©Ÿä¼šãŒã‚„ã£ã¦ããŸã®ã¯å€‹äººçš„ã«ã¯ãƒ©ãƒƒã‚­ãƒ¼ã§ã—ãŸã€‚\nã“ã® LT ã‚’ã‚„ã£ã¦ã¿ã¦ã€è‡ªåˆ†ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã«å¯¾ã—ã¦ä½•ã‹ã—ã‚‰ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚‚ã‚‰ãˆã‚‹ã®ã¯å‡„ãã‚ã‚ŠãŒãŸã„ã¨ã„ã†ã“ã¨ã‚’æ„Ÿã˜ãŸã®ã§ã€ä»Šå¾Œ è‡ªåˆ†ãŒå‚åŠ ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã‚„ã‚»ãƒŸãƒŠãƒ¼ãªã©ã§ã¯ã€ãƒ–ãƒ­ã‚°ã‚„ Twitter å®Ÿæ³ç­‰ã§ä½•ã‹ã—ã‚‰ã®åå¿œã‚’ã—ã¦ããŸã„ãªã¨æ€ã†ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nTwitter ã®ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼ã•ã‚“ã«ã¯æŠ€è¡“ç³»ä»¥å¤–ã«ã‚‚ãƒã‚¤ã‚¯é–¢ä¿‚ã§ãƒ•ã‚©ãƒ­ãƒ¼ã„ãŸã ã„ã¦ã„ã‚‹æ–¹ã€…ã‚‚ã„ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ãã®æ–¹ã€…ã«å¯¾ã—ã¦ã¯ãƒã‚¤ã‚ºã«ãªã£ã¦ã—ã¾ã£ã¦ã„ã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚ã™ã¿ã¾ã›ã‚“ã€‚\nãƒ–ãƒ­ã‚°ã«é–¢ã—ã¦ã¯ã¾ã ã¾ã è‡ªåˆ†ã®ãƒ¡ãƒ¢ç¨‹åº¦ã®å†…å®¹ã‹ã‚‰æŠœã‘å‡ºã›ãªã„çŠ¶æ…‹ã§ã¯ã‚ã‚Šã¾ã™ãŒã€ä»Šå¾Œã‚‚ç¶šã‘ã¦ã„ããŸã„ã¨æ€ã£ã¦ã¾ã™ã€‚\nä»–ã«ã‚‚è‰²ã€…æ‰‹ã‚’å‡ºã—ã¦ã¿ãŸ ã“ã®ä¸‰å¹´åŠã¯ AWS ã®å ã‚ã‚‹å‰²åˆãŒå¤§ãã„ã§ã™ãŒã€ãã®ä»–ã«ã‚‚è‰²ã€…ã¨æ‰‹ã‚’å‡ºã™æ©Ÿä¼šã‚’ã„ãŸã ãã¾ã—ãŸã€‚\nãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®å®Ÿè£… ã“ã‚Œã¾ã§ã¯åŸºæœ¬çš„ã«ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®å®Ÿè£…ã°ã‹ã‚Šã—ã¦ãã¾ã—ãŸãŒã€ç¾è·ã«ã¤ã„ã¦ã‹ã‚‰çŸ­æœŸé–“ã§ã¯ã‚ã‚Šã¾ã™ãŒ Vue.js ã‚’ä½¿ã£ãŸãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®å®Ÿè£…ã‚’ã™ã‚‹æ©Ÿä¼šã‚’ã„ãŸã ãã¾ã—ãŸã€‚ã„ã¾ã ã«æ´ã‚ãªã„éƒ¨åˆ†ã¯ãŸãã•ã‚“ã‚ã‚Šã¾ã™ãŒã€çµŒé¨“ã¨ã—ã¦å°‘ã—ã§ã‚‚è§¦ã‚‹ã“ã¨ãŒã§ããŸã®ã¯è‰¯ã‹ã£ãŸã§ã™ã€‚å€‹äººã¨ã—ã¦ã‚‚ã€ Vue.js ã‚’ä½¿ã£ã¦å¤‰ãªãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚‹ã“ã¨ã‚‚ã§ãã¾ã—ãŸã€‚\nè‰²ã‚“ãªè¨€èªã§ã®å®Ÿè£… ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å®Ÿè£…ã¨ã—ã¦è§¦ã£ã¦æ¥ãŸè¨€èªã¯ã€ PHP ãŒä¸€ç•ªé•·ãã€ Javaã€ C# ã®çµŒé¨“ãŒã‚ã‚Šã¾ã—ãŸãŒã€ã“ã®ä¸‰å¹´åŠã§ã¯ Pythonã€ Go ã§ã®å®Ÿè£…ã‚’çµŒé¨“ã—ã¾ã—ãŸã€‚ä¸¡æ–¹ã¨ã‚‚ Lambda ã®å®Ÿè£…ã§ä½¿ã„ã¾ã—ãŸãŒã€ Python ã«é–¢ã—ã¦ã¯ç°¡å˜ãª CLI ãƒ„ãƒ¼ãƒ«ã£ã½ã„ã‚‚ã®ã‚’ä½œã‚‹éš›ã«ã¯ç©æ¥µçš„ã«ä½¿ã†ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nä»–ã«ã‚‚ã€ CDK ã®å®Ÿè£…ã§ TypeScript ã‚’å°‘ã—ä½¿ã£ãŸã‚Šã€åºƒãæµ…ãã§ã™ãŒè‰²ã‚“ãªè¨€èªã§ã®å®Ÿè£…ã‚’çµŒé¨“ã§ããŸã®ã¯è‰¯ã‹ã£ãŸã§ã™ã€‚\nã¡ãªã¿ã«æ¬¡ã®è·å ´ã§ã¯ Go ã‚’ä½¿ã£ãŸé–‹ç™ºã‚’ã™ã‚‹äºˆå®šã§ã™ã€‚\nã¾ã¨ã‚ 2017å¹´ 5æœˆã‹ã‚‰ 2020å¹´ 10æœˆã¾ã§ã®ä¸‰å¹´åŠã‚’é›‘ã«æŒ¯ã‚Šè¿”ã£ã¦ã¿ã¾ã—ãŸã€‚\nçµè«–ã¨ã—ã¦ã¯ã€ã‚„ã£ã±ã‚Š AWS ã¨ã®å‡ºä¼šã„ãŒä¸€ç•ªå¤§ãã„ã§ã™ã­ã€‚\nã‚¤ãƒ™ãƒ³ãƒˆå‚åŠ ã‚‚ãƒ–ãƒ­ã‚°ã‚‚è‰²ã‚“ãªè¨€èªã§ã®å®Ÿè£…ã‚‚ã€å…¨éƒ¨ AWS ã¨ã®å‡ºä¼šã„ãŒå…ƒã«ãªã£ã¦ã„ã¾ã™ã—ã€ä»Šå›ã®è»¢è·ã«ã‚‚å¤§ã„ã«å½±éŸ¿ã—ã¦ã„ã‚‹ã¨æ„Ÿã˜ã¦ã¾ã™ã€‚æ¬¡ã®ä¼šç¤¾ã§ã‚‚ AWS ã‚’ä½¿ã£ãŸé–‹ç™ºã¯ç¶šãã¾ã™ã—ã€å€‹äººã§ã‚‚æƒ…å ±ã¯è¿½ã„ã‹ã‘ç¶šã‘ã‚‹ã¤ã‚‚ã‚Šã§ã™ã€‚\nã¾ãŸã€è»¢è·æ´»å‹•ã‚’ã™ã‚‹ä¸­ã§ã„ã‚ã‚“ãªä¼æ¥­ã•ã‚“ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®æ–¹ã€…ã‚’ãŠè©±ã‚’ã•ã›ã¦ã„ãŸã ã„ã¦ã€è‡ªåˆ†ã®è¶³ã‚Šãªã„éƒ¨åˆ†ã¯ã¾ã ã¾ã ãŸãã•ã‚“ã‚ã‚‹ã¨ã„ã†ã“ã¨ã‚’ç—›æ„Ÿã—ãŸã®ã§ã€é¸è€ƒé€”ä¸­ã§ã„ãŸã ã„ãŸãŠè¨€è‘‰ã¯ã€è‰¯ã„ã‚‚ã®ã‚‚æ‚ªã„ã‚‚ã®ã‚‚å…¨éƒ¨å—ã‘æ­¢ã‚ã¦ä»Šå¾Œã®æˆé•·ã®ç³§ã«ã—ã¦ã„ããŸã„ã¨æ€ã£ã¦ã¾ã™ã€‚\nã¨ã„ã†ã“ã¨ã§ã€ä»Šå¾Œã‚‚æ¥½ã—ã¿ãªãŒã‚‰æˆé•·ã§ããŸã‚‰è‰¯ã„ãªï¼ã¨ã„ã†ã‚¹ã‚¿ãƒ³ã‚¹ã§ãŒã‚“ã°ã‚Šã¾ã™ã€‚\nã‚ˆã£ã—ãƒ¼ã®æ¬²ã—ã„ã‚‚ã®ãƒªã‚¹ãƒˆ ",
    "permalink": "https://michimani.net/post/other-retrospect-in-2017-to-2020/",
    "title": "ã“ã®ä¸‰å¹´åŠã‚’é›‘ã«æŒ¯ã‚Šè¿”ã£ã¦ã¿ã‚‹"
  },
  {
    "contents": "ä»Šå¹´ã«å…¥ã£ã¦ã‹ã‚‰å°‘ã— Go è¨€èªã‚’ä½¿ã†æ©Ÿä¼šãŒã‚ã‚Šã€ä»Šå¾Œã¯ã‚‚ã£ã¨ä½¿ã£ã¦ã„ãã“ã¨ã«ãªã‚Šãã†ã¨ã„ã†ã“ã¨ã§æœ€è¿‘ã¯ Go ã®å‹‰å¼·ã‚’ã—ã¦ã„ã¾ã™ã€‚Go è¨€èªã«ã¯ä¸¦è¡Œå‡¦ç†ã‚’ç°¡å˜ã«æ‰±ã†ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ç‰¹å¾´ãŒã‚ã‚‹ã®ã§ã€ä»Šå›ã¯ãã®ä¸¦è¡Œå‡¦ç†ã«å…¥é–€ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ ã‚„ã£ã¦ã¿ã‚‹ go ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ã£ãŸä¸¦è¡Œå‡¦ç† goroutine ã¨ã¯ sync.WaitGroup ã‚’ä½¿ã£ãŸ goroutine ã®ç®¡ç† ã¾ã¨ã‚ æ¦‚è¦ ä»Šå›ã¯å…¥é–€ã¨ã„ã†ã“ã¨ã§ã€ go ã¨ã„ã†ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ã£ãŸä¸¦è¡Œå‡¦ç†ã¨ã€ sync.WaitGroup ã‚’ä½¿ã£ãŸä¸¦è¡Œå‡¦ç†ã®ç®¡ç†ã«ã¤ã„ã¦è§¦ã£ã¦ã¿ã¾ã™ã€‚ã¡ãªã¿ã«ã€å†…å®¹ã¨ã—ã¦ã¯ O\u0026rsquo;Reilly ã® ã€ŒGoè¨€èªã«ã‚ˆã‚‹ä¸¦è¡Œå‡¦ç†ã€ ã¨ã„ã†æ›¸ç±ã‚’ã‚‚ã¨ã«å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚\nGoè¨€èªã«ã‚ˆã‚‹ä¸¦è¡Œå‡¦ç† ã‚„ã£ã¦ã¿ã‚‹ ã¨ã„ã†ã“ã¨ã§ã€ã¨ã‚Šã‚ãˆãšã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã¿ã¾ã™ã€‚\ngo ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ã£ãŸä¸¦è¡Œå‡¦ç† ã¾ãšã¯æ¬¡ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¾ã—ãŸã€‚\npackage main import \u0026#34;fmt\u0026#34; func printNum(n int) { fmt.Println(n) } func main() { fmt.Println(\u0026#34;Start main function...\u0026#34;) for i := 1; i \u0026lt;= 10; i++ { printNum(i) } fmt.Println(\u0026#34;Finished main function.\u0026#34;) } printNum() ã¨ã„ã†ã€å¼•æ•°ã§å—ã‘å–ã£ãŸæ•°å€¤ã‚’æ¨™æº–å‡ºåŠ›ã«å‡ºåŠ›ã™ã‚‹ã ã‘ã®é–¢æ•°ã‚’ä½œã£ã¦ã€ main() é–¢æ•°å†…ã§ã¯ 1 ã‹ã‚‰ 10 ã¾ã§ã®æ•°å€¤ã‚’ for æ–‡ã§å›ã—ã¦ printNum() ã«æ¸¡ã—ã¦ã„ã¾ã™ã€‚ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªå‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚\n$ go run sample.go Start main function... 1 2 3 4 5 6 7 8 9 10 Finished main function. æƒ³å®šé€šã‚Šã®å‡ºåŠ›ã§ã™ã€‚\nGo è¨€èªã§ã¯ã€ä¸¦è¡Œã§å‡¦ç†ã—ãŸã„é–¢æ•°ã®å‰ã« go ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’æ›¸ãã“ã¨ã§ã€ç°¡å˜ã«ä¸¦è¡Œå‡¦ç†ã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã¨ã„ã†ã“ã¨ã§ã€ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’æ¬¡ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¦ã€ã‚ã‚‰ãŸã‚ã¦å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\nfor i := 1; i \u0026lt;= 10; i++ { - printNum(i) + go printNum(i) } $ go run sample.go Start main function... Finished main function. 1 7 5 6 ã¯ã¦ã€‚ã©ã†ã„ã†ã“ã¨ã§ã—ã‚‡ã†ã€‚\nã“ã®ç¾è±¡ãŒèµ·ã“ã£ãŸç†ç”±ã®å‰ã«ã€ goroutine (ã‚´ãƒ«ãƒ¼ãƒãƒ³) ã¨ã„ã†æ¦‚å¿µã«ã¤ã„ã¦ç°¡å˜ã«è§¦ã‚Œã¦ãŠãã¾ã™ã€‚\ngoroutine ã¨ã¯ goroutine (ã‚´ãƒ«ãƒ¼ãƒãƒ³) ã¨ã¯ã€ä½•ãªã®ã‹ã€å†’é ­ã«ç´¹ä»‹ã—ãŸ Goè¨€èªã«ã‚ˆã‚‹ä¸¦è¡Œå‡¦ç† ã§æ›¸ã‹ã‚Œã¦ã„ã‚‹èª¬æ˜æ–‡ã‚’å¼•ç”¨ã—ã¾ã™ã€‚\nã‚´ãƒ«ãƒ¼ãƒãƒ³ã¯Goã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã®æœ€ã‚‚åŸºæœ¬çš„ãªæ§‹æˆå˜ä½ã§ã™ã€‚ã—ãŸãŒã£ã¦ã€ãã‚ŒãŒä½•ã§ã€ã©ã®ã‚ˆã†ã«å‹•ä½œã™ã‚‹ã®ã‹ã‚’ç†è§£ã™ã‚‹ã“ã¨ã¯é‡è¦ã§ã™ã€‚äº‹å®Ÿã€ã™ã¹ã¦ã®Goã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ã¯æœ€ä½1ã¤ã®ã‚´ãƒ«ãƒ¼ãƒãƒ³ãŒã‚ã‚Šã¾ã™ã€‚ãã‚ŒãŒãƒ¡ã‚¤ãƒ³ã‚´ãƒ«ãƒ¼ãƒãƒ³ã§ã™ã€‚\n\u0026hellip;\nâ€œå˜ç´”ã«è¨€ãˆã°ã€ã‚´ãƒ«ãƒ¼ãƒãƒ³ã¯ä»–ã®ã‚³ãƒ¼ãƒ‰ã«å¯¾ã—ä¸¦è¡Œã«å®Ÿè¡Œã—ã¦ã„ã‚‹é–¢æ•°ã®ã“ã¨ã§ã™ï¼ˆæ³¨æ„ï¼šå¿…ãšã—ã‚‚ä¸¦åˆ—ã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼ï¼‰ã€‚ã‚´ãƒ«ãƒ¼ãƒãƒ³ã¯goã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’é–¢æ•°å‘¼ã³å‡ºã—ã®å‰ã«ç½®ãã“ã¨ã§ç°¡å˜ã«èµ·å‹•ã§ãã¾ã™ã€‚â€\ngoroutine ã¯ã€ Go è¨€èªã«ãŠã‘ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®åŸºæœ¬å˜ä½ã¨ã„ã†ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚ã“ã‚Œã«åŠ ãˆã¦ã€ Go è¨€èªã§ã®ä¸¦è¡Œå‡¦ç†ã®ãƒ¢ãƒ‡ãƒ«ã«ã¤ã„ã¦ã‚‚ã€åŒè‘—ã®èª¬æ˜ã‚’å¼•ç”¨ã—ã¾ã™ã€‚\nGoã¯fork-joinãƒ¢ãƒ‡ãƒ«ã¨å‘¼ã°ã‚Œã‚‹ä¸¦è¡Œå‡¦ç†ã®ãƒ¢ãƒ‡ãƒ«ã«å¾“ã£ã¦ã„ã¾ã™ã€‚åˆ†å²ï¼ˆforkï¼‰ã¨ã„ã†ç”¨èªã¯ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ä»»æ„ã®å ´æ‰€ã§ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒå­ã®å‡¦ç†ã‚’åˆ†å²ã•ã›ã¦ã€è¦ªã¨ä¸¦è¡Œã«å®Ÿè¡Œã•ã›ã‚‹ã“ã¨ã‚’æŒ‡ã—ã¦ã„ã¾ã™ã€‚åˆæµï¼ˆjoinï¼‰ã¨ã„ã†ç”¨èªã¯ã€åˆ†å²ã—ãŸæ™‚ç‚¹ã‹ã‚‰å…ˆã§ã“ã‚Œã‚‰ã®ä¸¦è¡Œå‡¦ç†ã®åˆ†å²ãŒå†ã³åˆæµã™ã‚‹ã“ã¨ã‚’æŒ‡ã—ã¾ã™ã€‚\nmain() é–¢æ•°ã€ã¤ã¾ã‚Šãƒ¡ã‚¤ãƒ³ã® goroutine ã«ã¦ go ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦ goroutine ã‚’ç”Ÿæˆã™ã‚‹ã¨ã€ãã‚Œã¯ãƒ¡ã‚¤ãƒ³ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰åˆ†å²ã—ãŸå ´æ‰€ã§å®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ãã®çµæœã€å…ˆã»ã©ã®å‡ºåŠ›ã§ã¯ main() é–¢æ•°ã®çµ‚äº†ã‚’ç¤ºã™æ–‡å­—åˆ—ãŒå‡ºåŠ›ã•ã‚ŒãŸã‚ã¨ã«ã€ goroutine ã¨ã—ã¦åˆ†å²ã•ã‚ŒãŸ printNum() ã®å‡ºåŠ›ãŒã•ã‚Œã¦ã„ã¾ã™ã€‚\nã¾ãŸã€åˆ†å²ã™ã‚‹å½¢ã§ä½œæˆã•ã‚ŒãŸ goroutine ã¯ã€ã‚ãã¾ã§ã‚‚å®Ÿè¡Œã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ãŒã•ã‚ŒãŸçŠ¶æ…‹ãªã®ã§ã€æ˜ç¢ºãªå®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ã‚ã‹ã‚Šã¾ã›ã‚“ã€‚ãã®ãŸã‚ã€å‡ºåŠ›ã•ã‚Œã‚‹æ•°å€¤ã®é †ç•ªã‚‚ãƒãƒ©ãƒãƒ©ã§ã€å®Ÿè¡Œã™ã‚‹ãŸã³ã«å¤‰ã‚ã‚Šã¾ã™ã€‚\nã•ã‚‰ã«ã€åˆ†å²ã—ãŸ goroutine ã¯å…ƒã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ  (ä¸Šã®ã‚³ãƒ¼ãƒ‰ã§ã‚ã‚Œã° main() é–¢æ•°) ãŒçµ‚äº†ã—ãŸæ™‚ç‚¹ã§å®Ÿè¡Œã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€å®Ÿè¡Œã•ã‚Œã¾ã›ã‚“ã€‚å…ˆã»ã©ã®å®Ÿè¡Œçµæœã§ 1 ã‹ã‚‰ 10 ã¾ã§ã®æ•°å€¤ãŒã™ã¹ã¦å‡ºåŠ›ã•ã‚Œã¦ã„ãªã„ã®ã¯ã“ã®ãŸã‚ã§ã™ã€‚\nGo è¨€èªã®ä¸¦è¡Œå‡¦ç†ã¯ fork-join ãƒ¢ãƒ‡ãƒ«ã¨ã„ã†ã“ã¨ãªã®ã§ã€åˆ†å²ã—ãŸ goroutine ã®å®Ÿè¡Œã‚’å¾…ã¤ãŸã‚ã«ã¯å‘¼ã³å‡ºã—å…ƒã§ join ã™ã‚‹ (åˆæµãƒã‚¤ãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹) å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãŸã å˜ã«å‡¦ç†ã‚’å¾…ã¤ã ã‘ã§ã‚ã‚Œã° time.Sleep() ã§å¾…ã¤ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€ç¢ºå®Ÿã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã‚Œã‚’è§£æ±ºã™ã‚‹ã®ãŒã€ sync.WaitGroup ã§ã™ã€‚\nsync.WaitGroup ã‚’ä½¿ã£ãŸ goroutine ã®ç®¡ç† å…ˆã»ã©ã®ã‚³ãƒ¼ãƒ‰ã‚’æ¬¡ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã«å¤‰æ›´ã—ã¾ã™ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;sync\u0026#34; ) func printNum(n int, w *sync.WaitGroup) { defer w.Done() fmt.Println(n) } func main() { fmt.Println(\u0026#34;Start main function...\u0026#34;) var wg sync.WaitGroup for i := 1; i \u0026lt;= 10; i++ { wg.Add(1) go printNum(i, \u0026amp;wg) } wg.Wait() fmt.Println(\u0026#34;Finished main function.\u0026#34;) } å¤‰æ›´ç‚¹ã¨ã—ã¦ã¯ã€ sync.WaitGroup å‹ã® wg ã‚’ç”Ÿæˆã—ã¦ã€ printNum() é–¢æ•°ã®å®Ÿè¡Œå‰ã« wg.Add() ã§ goroutine ã®èµ·å‹•ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚ printNum() é–¢æ•°å†…ã§ã¯ã€é–¢æ•°ã®å®Ÿè¡Œå®Œäº†ã‚’ WaitGroup ã«ä¼ãˆã‚‹ãŸã‚ã«ã€ãƒã‚¤ãƒ³ã‚¿ã§æ¸¡ã•ã‚ŒãŸ WaitGroup ã«å¯¾ã—ã¦ w.Done() ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚ãã—ã¦ã€ main() é–¢æ•°ã®æœ€å¾Œã§ã¯ã€ç”Ÿæˆã—ãŸ goroutine ã®çµ‚äº†ã‚’å¾…ã¤ã‚ˆã†ã« wg.Wait() ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚\nã“ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªå‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚\n$ go run sample.go Start main function... 1 3 7 5 6 8 9 10 4 2 Finished main function. å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ç´„æŸã•ã‚Œã¦ã„ãªã„ã®ã§é †ç•ªã¯ãƒãƒ©ãƒãƒ©ã§ã™ãŒã€ 1 ã‹ã‚‰ 10 ã¾ã§ã®æ•°å€¤ãŒã™ã¹ã¦å‡ºåŠ›ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã¾ã¨ã‚ Go è¨€èªã«ãŠã‘ã‚‹ä¸¦è¡Œå‡¦ç†å…¥é–€ã¨ã—ã¦ã€ WaitGroup ã‚’ä½¿ã£ãŸ goroutine ã®åˆ¶å¾¡ã‚’è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚ã¨ã‚Šã‚ãˆãšä¸¦è¡Œå‡¦ç†ã®å®Ÿè¡Œã¨ ãã‚Œã‚‰ã‚’å¾…ã¤ã¨ã„ã†å‡¦ç†ã¯ã§ããŸã®ã§ã€æ¬¡ã¯ç”Ÿæˆã—ãŸ goroutine é–“ã§ã®ãƒ¡ãƒ¢ãƒªã‚¢ã‚¯ã‚»ã‚¹åŒæœŸã«ã¤ã„ã¦ sync.RWMutex ã®ä»•æ§˜ã«ã¤ã„ã¦ç†è§£ã‚’æ·±ã‚ãŸã„ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/programming-introduction-to-concurrency-in-go/",
    "title": "Go è¨€èªã«ã‚ˆã‚‹ä¸¦è¡Œå‡¦ç†ã«å…¥é–€ã—ã¦ã¿ã‚‹ - sync.WaitGroup ç·¨"
  },
  {
    "contents": "å‰å›ã® JAWS-UG CLI å°‚é–€æ”¯éƒ¨ã§ã€ã‚·ã‚§ãƒ«ã® for æ–‡ã¨ AWS CLI ã‚³ãƒãƒ³ãƒ‰ã‚’çµ„ã¿åˆã‚ã›ãŸæ“ä½œãŒã‚ã£ãŸã®ã§ã€åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã£ã¦è¤‡æ•°ã® EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’èµ·å‹•ãƒ»åœæ­¢ã—ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ ã‚„ã£ã¦ã¿ã‚‹ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä½œæˆ ã¾ã¨ã‚ã¦èµ·å‹•ãƒ»åœæ­¢ã™ã‚‹ for æ–‡ä½¿ã‚ãªãã¦ã‚‚ã„ã„ã®ã§ã¯ ã¾ã¨ã‚ æ¦‚è¦ AWS CLI ã‚’ä½¿ã£ã¦è¤‡æ•°ã® EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’èµ·å‹•ãƒ»åœæ­¢ã—ã¾ã™ã€‚ \u0026ldquo;è¤‡æ•°ã®\u0026rdquo; ã¨ã„ã†ã®ã¯ã€ä»Šå›ã¯ \u0026ldquo;ç‰¹å®šã®ã‚¿ã‚°ã‚­ãƒ¼ã¨å€¤ã‚’æŒã¤ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹\u0026rdquo; ã¨ã„ã†ã“ã¨ã«ã—ã¾ã™ã€‚\nä½¿ç”¨ã™ã‚‹ AWS CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€ç¾æ™‚ç‚¹ (2020/10/15) ã§æœ€æ–°ã® 2.0.56 ã§ã™ã€‚\n$ aws --version aws-cli/2.0.56 Python/3.7.4 Darwin/19.6.0 exe/x86_64 ã‚„ã£ã¦ã¿ã‚‹ æ—©é€Ÿã‚„ã£ã¦ã¿ã¾ã™ã€‚æ‰‹é †ã¨ã—ã¦ã¯ã€ã¾ãšç‰¹å®šã®ã‚¿ã‚°ã‚­ãƒ¼ã¨å€¤ã‚’æŒã¤ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è¤‡æ•°æº–å‚™ã—ã¦ã€ãã®å¾Œ ã¾ã¨ã‚ã¦èµ·å‹•ã¨åœæ­¢ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚\nEC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä½œæˆ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä½œæˆã«ã¯ã€ ec2 run-instances ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚ ä»Šå› \u0026ldquo;ç‰¹å®šã®ã‚¿ã‚°ã‚­ãƒ¼ã¨å€¤\u0026rdquo; ã¨ã—ã¦æŒ‡å®šã™ã‚‹ã®ã¯ StartStopByCLI ã¨ã„ã†ã‚¿ã‚°ã‚­ãƒ¼ã¨ TRUE ã¨ã„ã†å€¤ã¨ã—ã¾ã™ã€‚\nAMI ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ Amazon Linux 2 ã‚’æŒ‡å®šã™ã‚‹ã®ã§ã€æœ€æ–°ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ ID ã‚’å–å¾—ã—ã¾ã™ã€‚\n$ EC2_IMAGE_ID=$(aws ec2 describe-images \\ --owners amazon \\ --filters \u0026#39;Name=name,Values=amzn2-ami-hvm-2.0.*-x86_64-gp2\u0026#39; \\ --query \u0026#39;reverse(sort_by(Images,\u0026amp;CreationDate))[1].ImageId\u0026#39; \\ --output text) \\ \u0026amp;\u0026amp; echo ${EC2_IMAGE_ID} ami-0053d11f74e9e7f52 ami-0053d11f74e9e7f52 ã¨ã„ã† AMI ã‚¤ãƒ¡ãƒ¼ã‚¸ ID ãŒå–å¾—ã§ãã¾ã—ãŸã€‚ã“ã® AMI ã‚¤ãƒ¡ãƒ¼ã‚¸ã§è¤‡æ•°ã® EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚\nã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ—ã¯ã€æ™‚é–“ã‚ãŸã‚Šã®ã‚³ã‚¹ãƒˆãŒä½ã„ t3a.nano ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n$ EC2_INSTANCE_TYPE=\u0026#34;t3a.nano\u0026#34; ã‚¿ã‚°ã§æŒ‡å®šã™ã‚‹æ–‡å­—åˆ—ã‚‚ã‚ã‚‰ã‹ã˜ã‚å¤‰æ•°ã«ä¿æŒã—ã¦ãŠãã¾ã™ã€‚\n$ RESOURCE_TAG_SPEC=\u0026#34;ResourceType=instance,Tags=[{Key=StartStopByCLI,Value=TRUE}]\u0026#34; ã“ã‚Œã‚‰ã®æ¡ä»¶ã§ã€ 3 ã¤ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ã¦ã¿ã¾ã™ã€‚\n$ aws ec2 run-instances \\ --image-id ${EC2_IMAGE_ID} \\ --instance-type ${EC2_INSTANCE_TYPE} \\ --tag-specifications ${RESOURCE_TAG_SPEC} \\ --count 3 ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã—ã¾ã™ã€‚\n$ aws ec2 describe-instances \\ --filters Name=tag-key,Values=StartStopByCLI Name=tag-value,Values=TRUE \\ --query \u0026#39;Reservations[*].Instances[].{InstanceID:InstanceId,Status:State.Name}\u0026#39; [ { \u0026#34;InstanceID\u0026#34;: \u0026#34;i-0a7f9d2965a2177f6\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;running\u0026#34; }, { \u0026#34;InstanceID\u0026#34;: \u0026#34;i-044041fb5a5d40623\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;running\u0026#34; }, { \u0026#34;InstanceID\u0026#34;: \u0026#34;i-0d2ab038f784f9156\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;running\u0026#34; } ] ã“ã‚Œã§å¯¾è±¡ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒä½œæˆã§ãã¾ã—ãŸã€‚ã¡ãªã¿ã«ã€ãã‚Œä»¥å¤–ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚‚å«ã‚ã¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã—ã¦ã¿ã‚‹ã¨ã€\n$ aws ec2 describe-instances \\ --query \u0026#39;Reservations[*].Instances[].{InstanceID:InstanceId,Status:State.Name,LaunchTime:LaunchTime}\u0026#39; [ { \u0026#34;InstanceID\u0026#34;: \u0026#34;i-0539ee02588c12499\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;stopped\u0026#34;, \u0026#34;LaunchTime\u0026#34;: \u0026#34;2020-09-10T09:03:47+00:00\u0026#34; }, { \u0026#34;InstanceID\u0026#34;: \u0026#34;i-0a7f9d2965a2177f6\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;running\u0026#34;, \u0026#34;LaunchTime\u0026#34;: \u0026#34;2020-10-15T01:44:26+00:00\u0026#34; }, { \u0026#34;InstanceID\u0026#34;: \u0026#34;i-044041fb5a5d40623\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;running\u0026#34;, \u0026#34;LaunchTime\u0026#34;: \u0026#34;2020-10-15T01:44:26+00:00\u0026#34; }, { \u0026#34;InstanceID\u0026#34;: \u0026#34;i-0d2ab038f784f9156\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;running\u0026#34;, \u0026#34;LaunchTime\u0026#34;: \u0026#34;2020-10-15T01:44:26+00:00\u0026#34; } ] ä»Šå›ä½œæˆã—ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä»–ã«ã€ä¸€ã¤åœæ­¢ã—ã¦ã„ã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒå­˜åœ¨ã—ã¦ã„ã‚‹ã¨ã„ã†çŠ¶æ…‹ã§ã™ã€‚\nã¾ã¨ã‚ã¦èµ·å‹•ãƒ»åœæ­¢ã™ã‚‹ ã§ã¯ã€å…ˆã»ã©ä½œæˆã—ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å¯¾è±¡ã«ã—ã¦ã€ CLI ã‚³ãƒãƒ³ãƒ‰ã§ã¾ã¨ã‚ã¦èµ·å‹•ãƒ»åœæ­¢ã—ã¦ã¿ã¾ã™ã€‚ç¾æ™‚ç‚¹ã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯èµ·å‹•ã—ã¦ã„ã‚‹ã®ã§ã€ã¾ãšã¯ã¾ã¨ã‚ã¦åœæ­¢ã•ã›ã¦ã¿ã¾ã™ã€‚\nEC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®åœæ­¢ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’åœæ­¢ã™ã‚‹ã«ã¯ã€ ec2 stop-instances ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚ãã®éš›ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ ID ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã€ ec2 describe-instances ã‚³ãƒãƒ³ãƒ‰ã§å–å¾—ã—ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ ID ã‚’æ¸¡ã—ã¾ã™ã€‚ã“ã‚Œã‚’ã€ã‚·ã‚§ãƒ«ã® for æ–‡ã‚’ä½¿ã£ã¦ä¸€æ°—ã«ã‚„ã£ã¦ã—ã¾ã„ã¾ã™ã€‚\nå¯¾è±¡ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ ID ã®ãƒªã‚¹ãƒˆã¯æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§ã—ã¾ã™ã€‚\n$ aws ec2 describe-instances \\ --filters Name=tag-key,Values=StartStopByCLI Name=tag-value,Values=TRUE \\ --query \u0026#39;Reservations[*].Instances[].InstanceId\u0026#39; \\ --output text [ \u0026#34;i-0a7f9d2965a2177f6\u0026#34;, \u0026#34;i-044041fb5a5d40623\u0026#34;, \u0026#34;i-0d2ab038f784f9156\u0026#34; ] ã“ã‚Œã‚’ for æ–‡ã§å›ã—ã¦ã€å„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å¯¾ã—ã¦ ec2 stop-instance ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n$ for i in $( aws ec2 describe-instances \\ --filters Name=tag-key,Values=StartStopByCLI Name=tag-value,Values=TRUE \\ --query \u0026#39;Reservations[*].Instances[].InstanceId\u0026#39; \\ --output text ); do aws ec2 stop-instances \\ --instance-ids ${i} done ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws ec2 describe-instances \\ --filters Name=tag-key,Values=StartStopByCLI Name=tag-value,Values=TRUE \\ --query \u0026#39;Reservations[*].Instances[].{InstanceID:InstanceId,Status:State.Name}\u0026#39; [ { \u0026#34;InstanceID\u0026#34;: \u0026#34;i-0a7f9d2965a2177f6\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;stopped\u0026#34; }, { \u0026#34;InstanceID\u0026#34;: \u0026#34;i-044041fb5a5d40623\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;stopped\u0026#34; }, { \u0026#34;InstanceID\u0026#34;: \u0026#34;i-0d2ab038f784f9156\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;stopped\u0026#34; } ] åœæ­¢ã§ãã¦ã¾ã™ã­ã€‚\nEC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®èµ·å‹• ã§ã¯ã€ä»Šåº¦ã¯å¯¾è±¡ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã¾ã¨ã‚ã¦èµ·å‹•ã—ã¦ã¿ã¾ã™ã€‚èµ·å‹•ã™ã‚‹ã«ã¯ ec2 start-instances ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚\n$ for i in $( aws ec2 describe-instances \\ --filters Name=tag-key,Values=StartStopByCLI Name=tag-value,Values=TRUE \\ --query \u0026#39;Reservations[*].Instances[].InstanceId\u0026#39; \\ --output text ); do aws ec2 start-instances \\ --instance-ids ${i} done ä»Šåº¦ã¯å…¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws ec2 describe-instances \\ --query \u0026#39;Reservations[*].Instances[].{InstanceID:InstanceId,Status:State.Name,LaunchTime:LaunchTime}\u0026#39; [ { \u0026#34;InstanceID\u0026#34;: \u0026#34;i-0539ee02588c12499\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;stopped\u0026#34;, \u0026#34;LaunchTime\u0026#34;: \u0026#34;2020-10-08T09:02:05+00:00\u0026#34; }, { \u0026#34;InstanceID\u0026#34;: \u0026#34;i-0a7f9d2965a2177f6\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;running\u0026#34;, \u0026#34;LaunchTime\u0026#34;: \u0026#34;2020-10-15T02:01:28+00:00\u0026#34; }, { \u0026#34;InstanceID\u0026#34;: \u0026#34;i-044041fb5a5d40623\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;running\u0026#34;, \u0026#34;LaunchTime\u0026#34;: \u0026#34;2020-10-15T02:01:30+00:00\u0026#34; }, { \u0026#34;InstanceID\u0026#34;: \u0026#34;i-0d2ab038f784f9156\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;running\u0026#34;, \u0026#34;LaunchTime\u0026#34;: \u0026#34;2020-10-15T02:01:31+00:00\u0026#34; } ] å¯¾è±¡ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã¿ãŒèµ·å‹•ã—ã¦ã„ã¾ã™ã€‚\nfor æ–‡ä½¿ã‚ãªãã¦ã‚‚ã„ã„ã®ã§ã¯ é€”ä¸­ã§æ°—ä»˜ãã¾ã—ãŸãŒã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®èµ·å‹•ãƒ»åœæ­¢ã‚’ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯ *-instances ã¨ã„ã†å½¢ã§è¤‡æ•°å½¢ã«ãªã£ã¦ã„ã‚‹ã‚“ã§ã™ã€‚ãã—ã¦ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ ID ã‚’æŒ‡å®šã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚‚ --instance-ids ã¨ã€è¤‡æ•°å½¢ã«ãªã£ã¦ã„ã¾ã™ã€‚ã¤ã¾ã‚Šã€ä»Šå›ã®ã‚ˆã†ã« for æ–‡ã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä¸€ã¤ãšã¤å‡¦ç†ã™ã‚‹å¿…è¦ã¯ãªã‹ã£ãŸã‚ã‘ã§ã™ã€‚\nã¤ã¾ã‚Šã€æ¬¡ã®ã‚ˆã†ã«ã™ã‚Œã°èµ·å‹•ãƒ»åœæ­¢ã®ã‚³ãƒãƒ³ãƒ‰ã¯ä¸€å›å®Ÿè¡Œã™ã‚‹ã ã‘ã§ã„ã„ã‚“ã§ã™ã‚ˆã­ã€‚\n$ TARGET_INSTANCES=$( aws ec2 describe-instances \\ --filters Name=tag-key,Values=StartStopByCLI Name=tag-value,Values=TRUE \\ --query \u0026#39;Reservations[*].Instances[].InstanceId\u0026#39; ) \\ \u0026amp;\u0026amp; aws ec2 stop-instances \\ --instance-ids ${TARGET_INSTANCES} { \u0026#34;StoppingInstances\u0026#34;: [ { \u0026#34;CurrentState\u0026#34;: { \u0026#34;Code\u0026#34;: 64, \u0026#34;Name\u0026#34;: \u0026#34;stopping\u0026#34; }, \u0026#34;InstanceId\u0026#34;: \u0026#34;i-044041fb5a5d40623\u0026#34;, \u0026#34;PreviousState\u0026#34;: { \u0026#34;Code\u0026#34;: 16, \u0026#34;Name\u0026#34;: \u0026#34;running\u0026#34; } }, { \u0026#34;CurrentState\u0026#34;: { \u0026#34;Code\u0026#34;: 64, \u0026#34;Name\u0026#34;: \u0026#34;stopping\u0026#34; }, \u0026#34;InstanceId\u0026#34;: \u0026#34;i-0a7f9d2965a2177f6\u0026#34;, \u0026#34;PreviousState\u0026#34;: { \u0026#34;Code\u0026#34;: 16, \u0026#34;Name\u0026#34;: \u0026#34;running\u0026#34; } }, { \u0026#34;CurrentState\u0026#34;: { \u0026#34;Code\u0026#34;: 64, \u0026#34;Name\u0026#34;: \u0026#34;stopping\u0026#34; }, \u0026#34;InstanceId\u0026#34;: \u0026#34;i-0d2ab038f784f9156\u0026#34;, \u0026#34;PreviousState\u0026#34;: { \u0026#34;Code\u0026#34;: 16, \u0026#34;Name\u0026#34;: \u0026#34;running\u0026#34; } } ] } ã¾ã¨ã‚ AWS CLI ã‚’ä½¿ã£ã¦ç‰¹å®šã®ã‚¿ã‚°ã‚­ãƒ¼ã¨å€¤ã‚’æŒã¤ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã¾ã¨ã‚ã¦èµ·å‹•ãƒ»åœæ­¢ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nå½“åˆã¯ã‚·ã‚§ãƒ«ã® for æ–‡ã§å„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã”ã¨ã«èµ·å‹•ãƒ»åœæ­¢ã‚’å®Ÿè¡Œã™ã‚‹æƒ³å®šã§ã—ãŸãŒã€ãã‚Œãã‚Œã®ã‚³ãƒãƒ³ãƒ‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¦‹ã‚Œã°è¤‡æ•°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å¯¾ã—ã¦åŒæ™‚ã«èµ·å‹•ãƒ»åœæ­¢ã‚’è¡Œã†ã“ã¨ãŒã§ãã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚ä¸€å›ã® CLI ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã§è¤‡æ•°ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å‡¦ç†ã§ãã‚‹ã®ã§ã‚ã‚Œã°ãã®ã»ã†ãŒã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œå›æ•°ãŒå°‘ãªããªã‚‹ã®ã§ã‚·ãƒ³ãƒ—ãƒ«ã§ã™ãŒã€ for ã‚’ä½¿ã£ãŸå†å¸°å‡¦ç†ã®å¾©ç¿’ã«ãªã£ãŸã®ã§ã€è‰¯ã‹ã£ãŸã“ã¨ã«ã—ã¾ã™\u0026hellip;ã€‚\næœ€å¾Œã«ä½¿ç”¨ã—ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å‰Šé™¤ã—ã¦ãŠã—ã¾ã„ã§ã™ã€‚\n$ TARGET_INSTANCES=$( aws ec2 describe-instances \\ --filters Name=tag-key,Values=StartStopByCLI Name=tag-value,Values=TRUE \\ --query \u0026#39;Reservations[*].Instances[].InstanceId\u0026#39; ) \\ \u0026amp;\u0026amp; aws ec2 terminate-instances \\ --instance-ids ${TARGET_INSTANCES} ã¡ãªã¿ã«ã€åŒã˜ã‚ˆã†ãªã“ã¨ã‚’ä»¥å‰ã« AWS SDK for Python (boto3) ã§å®Ÿè¡Œã—ãŸè©±ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®è¨˜äº‹ã§æ›¸ã„ã¦ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-start-stop-ec2-instances-using-aws-cli/",
    "title": "AWS CLI ã§è¤‡æ•°ã® EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã¾ã¨ã‚ã¦èµ·å‹•ãƒ»åœæ­¢ã™ã‚‹"
  },
  {
    "contents": "JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #169R S3åŸºç¤ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° ã«å‚åŠ ã—ãŸã®ã§ã€ãã®ãƒ¬ãƒãƒ¼ãƒˆã§ã™ã€‚\nconnpass ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰ã€‚\nå‰å›ã€å‰ã€…å›ã®ãƒ¬ãƒãƒ¼ãƒˆã¯ã“ã¡ã‚‰ã€‚\n[ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #168R S3åŸºç¤ Webã‚µã‚¤ãƒˆï¼†ãƒ­ã‚° ã«å‚åŠ ã—ã¾ã—ãŸ #jawsug_cli - michimani.net [ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #167R EventBridgeå…¥é–€ ã«å‚åŠ ã—ã¾ã—ãŸ #jawsug_cli - michimani.net ç›®æ¬¡ S3 ã®å…¨ä½“åƒã¨ã‚µãƒ¼ãƒ“ã‚¹æ¦‚è¦ ãƒãƒ³ã‚ºã‚ªãƒ³ 1.3. IAMãƒãƒªã‚·ãƒ¼ã®ä½œæˆ 2. S3ãƒã‚±ãƒƒãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æœ‰åŠ¹åŒ– 3.1. ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ 3.5 S3ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ 3.6 S3ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å‰Šé™¤ çŸ¥ã‚‰ã‚“ã‹ã£ãŸãã€ãã‚Œ ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»»æ„ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹ ã‚·ã‚§ãƒ«ã® for æ–‡ ã¾ã¨ã‚ S3 ã®å…¨ä½“åƒã¨ã‚µãƒ¼ãƒ“ã‚¹æ¦‚è¦ S3 ã®å…¨ä½“åƒã¨ã‚µãƒ¼ãƒ“ã‚¹æ¦‚è¦ã«ã¤ã„ã¦ã¯ å‰å› ã®ãƒ¬ãƒãƒ¼ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚ä»Šå›ã¯ãã®å·®åˆ†ã®ã¿ã€‚\nOutposts ã« Amazon S3 ãŒå¯¾å¿œ Amazon S3 on Outposts ã®ä¸€èˆ¬æä¾›é–‹å§‹ã«ä¼´ã†ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ç’°å¢ƒã¸ã®æ‹¡å¼µ Outposts ã§ Amazon S3 ãŒåˆ©ç”¨å¯èƒ½ã« | Amazon Web Services ãƒ–ãƒ­ã‚° ä»Šå›ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«é–¢ã™ã‚‹éƒ¨åˆ†ã®ãƒãƒ³ã‚ºã‚ªãƒ³ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°è‡ªä½“ã¯ãƒã‚±ãƒƒãƒˆã«å¯¾ã—ã¦è¨­å®šã™ã‚‹ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ãã®å½±éŸ¿ã‚’å—ã‘ã‚‹ S3 å…¨ä½“ãŒåå‰ç©ºé–“ã¨ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ æ•…ã«ãƒã‚±ãƒƒãƒˆåã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ¦ãƒ‹ãƒ¼ã‚¯ S3 ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ãªã„ ãƒãƒã‚³ãƒ³ã§ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚­ãƒ¼ã«å«ã¾ã‚Œã‚‹ / ã§ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ã£ã½ãè¦‹ã›ã¦ã„ã‚‹ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒç•°ãªã‚‹åˆ¥ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ (â€»é‡è¦) å·®åˆ†ãŒç”Ÿæˆã•ã‚Œã‚‹ã‚ã‘ã§ã¯ãªã„ ç‰¹å®šã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¦ã‚‚ä»–ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«å½±éŸ¿ã¯ãªã„ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãªã„ã¨ã€ä¸€ç•ªæœ€è¿‘ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå–å¾—ã•ã‚Œã‚‹ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã‚’ä½¿ã†ã‹å¦ã‹ ãƒã‚±ãƒƒãƒˆã®å¤– (Git ã‚„ Mercurial) ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç† ãƒã‚±ãƒƒãƒˆã®ä¸­èº«ã¯ä½¿ã„æ¨ã¦ Web ã‚µã‚¤ãƒˆãªã© ãƒã‚±ãƒƒãƒˆã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç† ãƒã‚±ãƒƒãƒˆã®ä¸­èº«ãŒãƒã‚¹ã‚¿ãƒ¼ã«ãªã‚‹ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã‚’åˆ©ç”¨ã™ã‚‹ S3 ã®æ©Ÿèƒ½ ãƒªãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¢ãƒ¼ãƒ‰ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ­ãƒƒã‚¯ ãƒªãƒ¼ã‚¬ãƒ«ãƒ›ãƒ¼ãƒ«ãƒ‰ ãƒãƒ³ã‚ºã‚ªãƒ³ ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã‚’æœ‰åŠ¹ã«ã—ãŸ S3 ãƒã‚±ãƒƒãƒˆã«å¯¾ã—ã¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»æ›´æ–°ã—ã€ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å–å¾—ã‚„å‰Šé™¤ã‚’è¡Œã„ã¾ã—ãŸã€‚\nä»Šå›ã‚‚ã€ãƒãƒ³ã‚ºã‚ªãƒ³ã®è©³ç´°ãªæ‰‹é †ã«ã¤ã„ã¦ã¯ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã®è³‡æ–™ åŠã³ä¸‹è¨˜ã®ãƒãƒ³ã‚ºã‚ªãƒ³è³‡æ–™ã«ãŠã¾ã‹ã›ã™ã‚‹ã¨ã—ã¦ã€å€‹äººçš„ã«æ°—ã«ãªã£ãŸéƒ¨åˆ†ã®ã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nãƒãƒ³ã‚ºã‚ªãƒ³(ç°¡æ˜“ç‰ˆ): S3åŸºç¤ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° 1.3. IAMãƒãƒªã‚·ãƒ¼ã®ä½œæˆ IAM ãƒãƒªã‚·ãƒ¼ã‚’ä½œæˆã™ã‚‹éš›ã«ãƒ‘ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ãã®å¾Œã®ç®¡ç†ãŒã‚„ã‚Šã‚„ã™ããªã‚Šã¾ã™ã€‚\n$ aws iam create-policy help ... SYNOPSIS create-policy --policy-name \u0026lt;value\u0026gt; [--path \u0026lt;value\u0026gt;] --policy-document \u0026lt;value\u0026gt; [--description \u0026lt;value\u0026gt;] [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] [--cli-auto-prompt \u0026lt;value\u0026gt;] iam create-policy ã‚³ãƒãƒ³ãƒ‰ã® --path ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ã€æ¬¡ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ã€‚\n$ aws iam create-policy \\ --policy-name \u0026#34;michimani-sample-policy\u0026#34; \\ --path \u0026#34;/michimani/sample/\u0026#34; \\ --policy-document file://policy ãƒ‘ã‚¹ã‚’ä½¿ã†ã“ã¨ã§ã€ list-policies ã‚³ãƒãƒ³ãƒ‰ã® --path-prefix ã§çµæœã‚’çµã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n$ aws iam list-policies \\ --path-prefix \u0026#34;/michimani/sample/\u0026#34; { \u0026#34;Policies\u0026#34;: [ { \u0026#34;PolicyName\u0026#34;: \u0026#34;michimani-sample-policy\u0026#34;, \u0026#34;PolicyId\u0026#34;: \u0026#34;ANPA2FQKQ3TXXXXXXXXXX\u0026#34;, \u0026#34;Arn\u0026#34;: \u0026#34;arn:aws:iam::1234XXXXXXXX:policy/michimani/sample/michimani-sample-policy\u0026#34;, \u0026#34;Path\u0026#34;: \u0026#34;/michimani/sample/\u0026#34;, \u0026#34;DefaultVersionId\u0026#34;: \u0026#34;v1\u0026#34;, \u0026#34;AttachmentCount\u0026#34;: 0, \u0026#34;PermissionsBoundaryUsageCount\u0026#34;: 0, \u0026#34;IsAttachable\u0026#34;: true, \u0026#34;CreateDate\u0026#34;: \u0026#34;2020-10-08T11:34:10+00:00\u0026#34;, \u0026#34;UpdateDate\u0026#34;: \u0026#34;2020-10-08T11:34:10+00:00\u0026#34; } ] } 2. S3ãƒã‚±ãƒƒãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æœ‰åŠ¹åŒ– s3api put-bucket-versioning ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\n$ aws s3api put-bucket-versioning help ... SYNOPSIS put-bucket-versioning --bucket \u0026lt;value\u0026gt; [--content-md5 \u0026lt;value\u0026gt;] [--mfa \u0026lt;value\u0026gt;] --versioning-configuration \u0026lt;value\u0026gt; [--expected-bucket-owner \u0026lt;value\u0026gt;] [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] [--cli-auto-prompt \u0026lt;value\u0026gt;] --versioning-configuration ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚\n$ aws s3api put-bucket-versioning \\ --bucket ${S3_BUCKET_NAME} \\ --versioning-configuration Status=Enabled ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã™ã‚‹ã«ã¯ s3api get-bucket-versioning ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ã€å‡ºåŠ›çµæœã‹ã‚‰ Status ã®éƒ¨åˆ†ã‚’æŠœãå‡ºã—ã¾ã™ã€‚\n$ aws s3api get-bucket-versioning \\ --bucket ${S3_BUCKET_NAME} \\ --query \u0026#39;Status\u0026#39; \\ --output text Enabled ç„¡åŠ¹åŒ–ã™ã‚‹å ´åˆã¯ Status=Enabled ã¨ã—ã¦å®Ÿè¡Œã—ã¾ã™ã€‚ (ãƒãƒ³ã‚ºã‚ªãƒ³ã®æ‰‹é † 4)\n$ aws s3api put-bucket-versioning \\ --bucket ${S3_BUCKET_NAME} \\ --versioning-configuration Status=Suspended ãªãŠã€ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã®è¨­å®šã‚’ä¸€åº¦ã‚‚è§¦ã£ã¦ã„ãªã„å ´åˆã€ get-buket-versioning ã§ã¯å‡ºåŠ›çµæœã‚’å¾—ã‚‰ã‚Œãšã€ Status ã ã‘æŠœå‡ºå±¤ã¨ã—ã¦ã‚‚ None ã«ãªã‚Šã¾ã™ã€‚\n$ aws s3api get-bucket-versioning \\ --bucket ${OTHER_S3_BUCKET_NAME} \\ --query \u0026#39;Status\u0026#39; \\ --output text None ãªã®ã§ã€ä¸Šè¨˜ã®ç„¡åŠ¹åŒ–ã¯ã€ ç„¡åŠ¹åŒ– ã¨ã„ã†ã‚ˆã‚Šã‚‚ ä¸€æ™‚åœæ­¢ (= Suspended) ã¨ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚\n3.1. ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã‚’æœ‰åŠ¹ã«ã—ãŸãƒã‚±ãƒƒãƒˆã«å¯¾ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«ã¯ s3 cp ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\n$ aws s3 cp sample_file.txt s3://${S3_BUCKET_NAME} ã¡ãªã¿ã«ã€ sample_file.txt ã®ä¸­èº«ã¯ä¸‹è¨˜ã®å†…å®¹ã§ã™ã€‚\n$ cat sample_file.txt This is a sample file. (v1) ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ç¢ºèªã™ã‚‹ã¨ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è©³ç´°ç”»é¢ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚\nãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ ID ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nãƒãƒ¼ã‚¸ãƒ§ãƒ³ ID ã‚’æ§‹æˆã™ã‚‹æ–‡å­—åˆ—ã«ã¯ãƒ”ãƒªã‚ªãƒ‰ . ãŒå«ã¾ã‚Œã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚\nS3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ›´æ–°ã™ã‚‹å ´åˆã€ç‰¹ã«è¿½åŠ ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãªã©ã¯å¿…è¦ãªãã€å…ˆã»ã©ã¨åŒã˜ s3 cp ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚ sample_file.txt ã®ä¸­èº«ã® v1 ã®éƒ¨åˆ†ã‚’å¤‰æ›´ã—ã¦ä½•åº¦ã‹ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ã€ä½œæˆã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸€è¦§ã‚’å–å¾—ã™ã‚‹ã«ã¯ã€ s3api list-object-versions ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\n$ aws s3api list-object-versions help ... SYNOPSIS list-object-versions --bucket \u0026lt;value\u0026gt; [--delimiter \u0026lt;value\u0026gt;] [--encoding-type \u0026lt;value\u0026gt;] [--prefix \u0026lt;value\u0026gt;] [--expected-bucket-owner \u0026lt;value\u0026gt;] [--cli-input-json | --cli-input-yaml] [--starting-token \u0026lt;value\u0026gt;] [--page-size \u0026lt;value\u0026gt;] [--max-items \u0026lt;value\u0026gt;] [--generate-cli-skeleton \u0026lt;value\u0026gt;] [--cli-auto-prompt \u0026lt;value\u0026gt;] ãƒã‚±ãƒƒãƒˆåã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚­ãƒ¼ã‚’æŒ‡å®šã—ã¦å®Ÿè¡Œã€‚ä»Šå›ã¯ã€å„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ ID ã¨æœ€çµ‚æ›´æ–°æ—¥æ™‚ã‚’ã€æœ€çµ‚æ›´æ–°æ—¥æ™‚ã®é™é †ã§å‡ºåŠ›ã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3api list-object-versions \\ --bucket ${S3_BUCKET_NAME} \\ --prefix sample_file.txt \\ --query \u0026#39;reverse(sort_by(Versions,\u0026amp;LastModified))[].{LM:LastModified,VID:VersionId}\u0026#39; [ { \u0026#34;LM\u0026#34;: \u0026#34;2020-10-08T12:02:16+00:00\u0026#34;, \u0026#34;VID\u0026#34;: \u0026#34;PWdCD9sEmem67CqNHA2cBMUSQCY6t5Sv\u0026#34; }, { \u0026#34;LM\u0026#34;: \u0026#34;2020-10-08T12:02:09+00:00\u0026#34;, \u0026#34;VID\u0026#34;: \u0026#34;b4234JLABtdRGlQ9AGreIuSsqoaf964n\u0026#34; }, { \u0026#34;LM\u0026#34;: \u0026#34;2020-10-08T12:01:59+00:00\u0026#34;, \u0026#34;VID\u0026#34;: \u0026#34;jfbONeI0pJ1h9unJgRrvzmIFBvUBa0xv\u0026#34; }, { \u0026#34;LM\u0026#34;: \u0026#34;2020-10-08T12:01:49+00:00\u0026#34;, \u0026#34;VID\u0026#34;: \u0026#34;baLmE30tSBAuiZ8lhQ3.LcyAf3P2fv7N\u0026#34; }, { \u0026#34;LM\u0026#34;: \u0026#34;2020-10-08T11:56:26+00:00\u0026#34;, \u0026#34;VID\u0026#34;: \u0026#34;sRfncD5dSroDAQYq4s3gAinHWQpQp4VW\u0026#34; } ] 3.5 S3ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã«ã¯ s3api get-object ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\n$ s3api get-object help ... SYNOPSIS get-object --bucket \u0026lt;value\u0026gt; [--if-match \u0026lt;value\u0026gt;] [--if-modified-since \u0026lt;value\u0026gt;] [--if-none-match \u0026lt;value\u0026gt;] [--if-unmodified-since \u0026lt;value\u0026gt;] --key \u0026lt;value\u0026gt; [--range \u0026lt;value\u0026gt;] [--response-cache-control \u0026lt;value\u0026gt;] [--response-content-disposition \u0026lt;value\u0026gt;] [--response-content-encoding \u0026lt;value\u0026gt;] [--response-content-language \u0026lt;value\u0026gt;] [--response-content-type \u0026lt;value\u0026gt;] [--response-expires \u0026lt;value\u0026gt;] [--version-id \u0026lt;value\u0026gt;] [--sse-customer-algorithm \u0026lt;value\u0026gt;] [--sse-customer-key \u0026lt;value\u0026gt;] [--sse-customer-key-md5 \u0026lt;value\u0026gt;] [--request-payer \u0026lt;value\u0026gt;] [--part-number \u0026lt;value\u0026gt;] [--expected-bucket-owner \u0026lt;value\u0026gt;] \u0026lt;outfile\u0026gt; ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒãŸãã•ã‚“ã‚ã‚Šã¾ã™ãŒã€ä»Šå›ä½¿ç”¨ã™ã‚‹ã®ã¯ --version-id ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ã€‚\n--version-id ã§æŒ‡å®šã™ã‚‹ã®ã¯ s3api list-object-versions ã§ç¢ºèªã§ããŸ VersionId ã§ã™ãŒã€ä»Šå›ã¯æœ€æ–°ã®ã‚‚ã®ã‹ã‚‰æ•°ãˆã¦ 3 ç•ªç›®ã«ã‚ãŸã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã¿ã¾ã™ã€‚å¯¾è±¡ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ ID ã‚’æ¬¡ã®ã‚ˆã†ã«ã—ã¦å–å¾—ã—ã¾ã™ã€‚\n$ TARGET_VERSION_ID=$(\\ aws s3api list-object-versions \\ --bucket ${S3_BUCKET_NAME} \\ --prefix sample_file.txt \\ --query \u0026#39;reverse(sort_by(Versions,\u0026amp;LastModified))[2].VersionId\u0026#39; \\ --output text) \\ \u0026amp;\u0026amp; echo $TARGET_VERSION_ID jfbONeI0pJ1h9unJgRrvzmIFBvUBa0xv ãƒãƒ¼ã‚¸ãƒ§ãƒ³ ID ãŒå–å¾—ã§ããŸã®ã§ã€ãã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚3 ç•ªç›®ã¨ã„ã†ã“ã¨ã§ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­èº«ã¯ This is a sample file. (v3) ã«ãªã£ã¦ã„ã‚‹ã¯ãšãªã®ã§ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¾Œã«ä¸­èº«ã‚’å‡ºåŠ›ã™ã‚‹ã¨ã“ã‚ã¾ã§ã‚„ã£ã¦ã¿ã¾ã™ã€‚\n$ aws s3api get-object \\ --bucket ${S3_BUCKET_NAME} \\ --key sample_file.txt \\ --version-id ${TARGET_VERSION_ID} \\ ./out/sample_file_v3.txt \u0026gt; /dev/null \\ \u0026amp;\u0026amp; cat ./out/sample_file_v3.txt This is a sample file. (v3) æƒ³å®šé€šã‚Šã®å†…å®¹ã§ã—ãŸã€‚\n3.6 S3ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å‰Šé™¤ ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å‰Šé™¤ã«ã¯ s3api delete-object ã‚’ --version-id ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨åˆã‚ã›ã¦ä½¿ç”¨ã—ã¾ã™ã€‚\n$ aws s3api delete-object help ... SYNOPSIS delete-object --bucket \u0026lt;value\u0026gt; --key \u0026lt;value\u0026gt; [--mfa \u0026lt;value\u0026gt;] [--version-id \u0026lt;value\u0026gt;] [--request-payer \u0026lt;value\u0026gt;] [--bypass-governance-retention | --no-bypass-governance-retention] [--expected-bucket-owner \u0026lt;value\u0026gt;] [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] [--cli-auto-prompt \u0026lt;value\u0026gt;] ä»Šå›ã¯ã€å…ˆã»ã©å–å¾—ã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¾ã™ã€‚\n$ aws s3api delete-object \\ --bucket ${S3_BUCKET_NAME} \\ --key sample_file.txt \\ --version-id ${TARGET_VERSION_ID} { \u0026#34;VersionId\u0026#34;: \u0026#34;jfbONeI0pJ1h9unJgRrvzmIFBvUBa0xv\u0026#34; } ç¶šã‘ã¦ã€ã‚ã‚‰ãŸã‚ã¦æœ€æ–°ã®ã‚‚ã®ã‹ã‚‰ 3 ç•ªç›®ã«ã‚ãŸã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã¿ã¾ã™ã€‚ä»Šåº¦ã¯ä¸­èº«ãŒ This is a sample file. (v2) ã«ãªã‚‹ã¯ãšã§ã™ã€‚\n$ TARGET_VERSION_ID=$(\\ aws s3api list-object-versions \\ --bucket ${S3_BUCKET_NAME} \\ --prefix sample_file.txt \\ --query \u0026#39;reverse(sort_by(Versions,\u0026amp;LastModified))[2].VersionId\u0026#39; \\ --output text) \\ \u0026amp;\u0026amp; echo $TARGET_VERSION_ID baLmE30tSBAuiZ8lhQ3.LcyAf3P2fv7N $ aws s3api get-object \\ --bucket ${S3_BUCKET_NAME} \\ --key sample_file.txt \\ --version-id ${TARGET_VERSION_ID} \\ ./out/sample_file_v2.txt \u0026gt; /dev/null \\ \u0026amp;\u0026amp; cat ./out/sample_file_v2.txt This is a sample file. (v2) æƒ³å®šé€šã‚Šã®å†…å®¹ã§ã—ãŸã€‚\nçŸ¥ã‚‰ã‚“ã‹ã£ãŸãã€ãã‚Œ ä»Šå›ã«é™ã‚‰ãšãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯æ–°ã—ãçŸ¥ã‚‹ã“ã¨ãŒãŸãã•ã‚“ã‚ã‚‹ã®ã§ã€ã“ã® çŸ¥ã‚‰ã‚“ã‹ã£ãŸãã€ãã‚Œ é …ç›®ã§ã¯æ–°ã—ãçŸ¥ã£ãŸã“ã¨ã‚’è‡ªåˆ†ãªã‚Šã«æ·±å €ã‚Šã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚(æ’ä¾‹åŒ–ã—ãŸã„)\nã¨ã„ã†ã‚ã‘ã§ã€ä»Šå›ã‚‚ã„ãã¤ã‹å–ã‚Šä¸Šã’ã¦ã¿ã¾ã™ã€‚\nã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»»æ„ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹ ç’°å¢ƒå¤‰æ•° AWS_SHARED_CREDENTIALS_FILE ã«ä»»æ„ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ ~/.aws/credentials ä»¥å¤–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦æŒ‡å®šã§ãã¾ã™ã€‚\nAWS CLI ã‚’è¨­å®šã™ã‚‹ç’°å¢ƒå¤‰æ•° - AWS Command Line Interface ä»Šå›ã®ã‚ˆã†ã«ãƒãƒ³ã‚ºã‚ªãƒ³ç”¨ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹éš›ã« ~/.aws/credentials ã‚’ç·¨é›†ã™ã‚‹ã¨ã€ãƒãƒ³ã‚ºã‚ªãƒ³å¾Œã®æƒé™¤ãŒã—ã«ãããªã‚Šã€äº‹æ•…ã®åŸå› ã«ã‚‚ãªã‚Šã¾ã™ã€‚ãƒãƒ³ã‚ºã‚ªãƒ³ç”¨ã®ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ã¦ AWS_SHARED_CREDENTIALS_FILE ã§æŒ‡å®šã™ã‚Œã°ã€ ~/.aws/credentials ã¯æ±šã‚Œãšã«æ¸ˆã‚€ã¨ã„ã†ã‚ã‘ã§ã™ã€‚\nã‚·ã‚§ãƒ«ã® for æ–‡ AWS CLI ã¨ã„ã†ã‹ã‚·ã‚§ãƒ«ã®ä½¿ã„æ–¹ã®è©±ã§ã™ãŒã€‚\nä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ã€ã‚·ã‚§ãƒ«ã® for æ–‡ã¨ CLI ã‚³ãƒãƒ³ãƒ‰ã‚’çµ„ã¿åˆã‚ã›ã¦ã€ã™ã¹ã¦ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¦ã„ã¾ã—ãŸã€‚ä»Šã¾ã§ã‚·ã‚§ãƒ«ã® for æ–‡ã‚’ä½¿ã£ãŸã“ã¨ãŒãªã‹ã£ãŸã®ã¨ã€ CLI ã‚³ãƒãƒ³ãƒ‰ã¨ã®çµ„ã¿åˆã‚ã›ã«æ„Ÿå‹•ã—ã¾ã—ãŸã€‚\u0026hellip;ã¨è¨€ã£ã¦ã‚‚è‡ªåˆ†ã§è‰¯ã„ä¾‹ãŒæ€ã„ã¤ã‹ãªã„ã®ã§ã€ãƒãƒ³ã‚ºã‚ªãƒ³ã¨åŒã˜ãã™ã¹ã¦ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¦ã¿ã¾ã™ã€‚\nå‰Šé™¤å‰ã«ã€å¯¾è±¡ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä»¶æ•°ã‚’ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚\n$ aws s3api list-object-versions \\ --bucket ${S3_BUCKET_NAME} \\ --prefix sample_file.txt \\ --query \u0026#39;length(Versions)\u0026#39; \\ --output text 4 for æ–‡ã§å‰Šé™¤ã—ã¾ã™ã€‚\n$ for i in $( aws s3api list-object-versions \\ --bucket ${S3_BUCKET_NAME} \\ --prefix sample_file.txt \\ --query \u0026#39;Versions[].VersionId\u0026#39; \\ --output text ); do aws s3api delete-object \\ --bucket ${S3_BUCKET_NAME} \\ --key sample_file.txt \\ --version-id ${i} done { \u0026#34;VersionId\u0026#34;: \u0026#34;PWdCD9sEmem67CqNHA2cBMUSQCY6t5Sv\u0026#34; } { \u0026#34;VersionId\u0026#34;: \u0026#34;b4234JLABtdRGlQ9AGreIuSsqoaf964n\u0026#34; } { \u0026#34;VersionId\u0026#34;: \u0026#34;baLmE30tSBAuiZ8lhQ3.LcyAf3P2fv7N\u0026#34; } { \u0026#34;VersionId\u0026#34;: \u0026#34;sRfncD5dSroDAQYq4s3gAinHWQpQp4VW\u0026#34; } s3api list-object-versions ã‚³ãƒãƒ³ãƒ‰ã®å‡ºåŠ›çµæœã‹ã‚‰ --query ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§å„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® VersionId ã‚’æŠœãå‡ºã—ã¦ã€ãã®å€¤ã‚’ s3api delete-object ã«æ¸¡ã—ã¦ã„ã¾ã™ã€‚å‡ºåŠ›ã¨ã—ã¦ã¯ã€ s3api delete-object ã§å‰Šé™¤ã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® VersionId ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nå¿µã®ãŸã‚å‰Šé™¤å¾Œã®ä»¶æ•°ã‚’ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚\n$ aws s3api list-object-versions \\ --bucket ${S3_BUCKET_NAME} \\ --prefix sample_file.txt \\ --query \u0026#39;length(Versions)\u0026#39; \\ --output text In function length(), invalid type for value: None, expected one of: [\u0026#39;string\u0026#39;, \u0026#39;array\u0026#39;, \u0026#39;object\u0026#39;], received: \u0026#34;null\u0026#34; ã¾ã¨ã‚ JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #169R S3åŸºç¤ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° ã®å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã§ã—ãŸã€‚\nS3 ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã£ã¦ã€ãã†ã„ãˆã°æ™®æ®µã®æ¥­å‹™ã‚„å€‹äººçš„ãªåˆ©ç”¨ã§ã‚‚æœ‰åŠ¹ã«ã—ãŸã“ã¨ãŒãªã‹ã£ãŸã®ã§ã€ä»Šå›ãã®æŒ™å‹•ã«ã¤ã„ã¦è©¦ã™ã“ã¨ãŒã§ãã¦ã‚ˆã‹ã£ãŸã§ã™ã€‚S3 ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã¯å·®åˆ†ã‚’ä¿æŒã™ã‚‹å½¢ã§ã¯ãªãã€åˆ¥ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ä¿æŒã™ã‚‹ã®ã§ã€å¤§é‡ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç”Ÿæˆã™ã‚‹éš›ã«ã¯ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚³ã‚¹ãƒˆã«æ³¨æ„ã™ã‚‹å¿…è¦ãŒã‚ã‚Šãã†ã§ã™ã€‚\nä»Šå›ã‚‚ã‚·ã‚§ãƒ«ã«ã¤ã„ã¦æ–°ãŸã« for æ–‡ã®çŸ¥è­˜ã‚’å¾—ãŸã®ã§ã€ã©ã‚“ã©ã‚“ä½¿ã£ã¦ã„ã£ã¦ã‚·ã‚§ãƒ«èŠ¸ã‚’ä¸Šé”ã•ã›ãŸã„ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-jaws-ug-cli-169-s3-versioning/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #169R S3åŸºç¤ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° ã«å‚åŠ ã—ã¾ã—ãŸ #jawsug_cli"
  },
  {
    "contents": "ã„ããªã‚Šã§ã™ãŒã€ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è‡ªåˆ†è‡ªèº«ã‚’å‰Šé™¤ã§ãã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿã¡ã‚‡ã£ã¨ã—ãŸç–‘å•ã¨ã„ã†ã‹ã€ã©ã†ãªã‚‹ã‚“ã‚„ï¼Ÿã¨æ€ã£ãŸã®ã§ã€ã„ãã¤ã‹ã®æ–¹æ³•ã§è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚\nç›®æ¬¡ ã‚„ã‚‹ã“ã¨ ã‚„ã£ã¦ã¿ã‚‹ 1. ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ IAM ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰å‰Šé™¤ 2. AWS CLI ã® iam delete-user ã‚³ãƒãƒ³ãƒ‰ã§å‰Šé™¤ 3. ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ CloudFormation ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ã‚¹ã‚¿ãƒƒã‚¯ã‚’å‰Šé™¤ ã¾ã¨ã‚ ã‚„ã‚‹ã“ã¨ æ—¢å­˜ã® IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§è‡ªåˆ†è‡ªèº«ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã‹ã€ã„ãã¤ã‹ã®æ–¹æ³•ã§è©¦ã—ã¦ã¿ã¾ã™ã€‚\næ–¹æ³•ã¨ã—ã¦ã¯ã€æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚\nãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ IAM ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰å‰Šé™¤ ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªèº«ã§å‰Šé™¤ ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã—ã¦å‰Šé™¤ AWS CLI ã® iam delete-user ã‚³ãƒãƒ³ãƒ‰ã§å‰Šé™¤ è‡ªèº«ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã§å‰Šé™¤ ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã—ã¦å‰Šé™¤ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ CloudFormation ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ã‚¹ã‚¿ãƒƒã‚¯ã‚’å‰Šé™¤ äº‹å‰ã« CloudFormation ã§ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã—ã¦ãŠãã¾ã™ ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªèº«ã§å‰Šé™¤ ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã—ã¦å‰Šé™¤ ã‚„ã£ã¦ã¿ã‚‹ ã§ã¯ã€ãã‚Œãã‚Œã‚„ã£ã¦ã„ãã¾ã™ã€‚\n1. ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ IAM ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰å‰Šé™¤ äº‹å‰ã« will-be-deleted ã¨ã„ã† IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã—ã¦ãŠãã¾ã™ã€‚ä½œæˆã™ã‚‹éš›ã«ã€ä»Šå› å¿…è¦ã«ãªã‚‹ IAM ãƒãƒªã‚·ãƒ¼ãŒã‚¢ã‚¿ãƒƒãƒã•ã‚Œã¦ã„ã‚‹ IAM ã‚°ãƒ«ãƒ¼ãƒ—ã«æ‰€å±ã•ã›ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚\n$ aws iam get-user \\ --user-name will-be-deleted { \u0026#34;User\u0026#34;: { \u0026#34;Path\u0026#34;: \u0026#34;/\u0026#34;, \u0026#34;UserName\u0026#34;: \u0026#34;will-be-deleted\u0026#34;, \u0026#34;UserId\u0026#34;: \u0026#34;XXXXXXXXXXXXXXXXMWMLT\u0026#34;, \u0026#34;Arn\u0026#34;: \u0026#34;arn:aws:iam::12345678XXXX:user/will-be-deleted\u0026#34;, \u0026#34;CreateDate\u0026#34;: \u0026#34;2020-10-07T09:21:20+00:00\u0026#34;, \u0026#34;Tags\u0026#34;: [] } } ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªèº«ã§å‰Šé™¤ ã¾ãšã¯ will-be-deleted ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã€ IAM ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰å‰Šé™¤ã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚\nå‰Šé™¤ ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨å‰Šé™¤ãŒå§‹ã¾ã‚Šã€ä½•äº‹ã‚‚ãªãå‰Šé™¤ã§ãã¦ã—ã¾ã„ã¾ã—ãŸã€‚\nå‰Šé™¤å¾Œã¯ä¸€æ—¦ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ãŒã€ãã®å¾Œä»–ã®ãƒšãƒ¼ã‚¸ã¸ç§»å‹•ã—ãŸã‚Šä½•ã‚‰ã‹ã®æ“ä½œã‚’è¡Œã†ã¨ã€ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¸é·ç§»ã—ã¾ã—ãŸã€‚å¿µã®ãŸã‚ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚\n$ aws iam get-user \\ --user-name will-be-deleted An error occurred (NoSuchEntity) when calling the GetUser operation: The user with name will-be-deleted cannot be found. ã¨ã„ã†ã“ã¨ã§ã€ã‚‚ã†çµè«–ãŒå‡ºã¦ã—ã¾ã£ãŸæ„Ÿã¯ã‚ã‚Šã¾ã™ãŒã€ä¸€å¿œ æ®‹ã‚Šã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã¤ã„ã¦ã‚‚è©¦ã—ã¦ã¿ã¾ã™ã€‚\nã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã—ã¦å‰Šé™¤ å†åº¦ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ will-be-deleted ã‚’ä½œæˆãƒ»ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã€ michimani-admin ã¨ã„ã†ãƒ­ãƒ¼ãƒ«ã«ã‚¹ã‚¤ãƒƒãƒã—ã¦ã‹ã‚‰ will-be-deleted ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å‰Šé™¤ã—ã¦ã¿ã¾ã™ã€‚\nã“ã®å ´åˆã‚‚å•é¡Œãªãå‰Šé™¤ã§ãã¾ã—ãŸã€‚\nå½“è©² IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªèº«ã§å‰Šé™¤ã™ã‚‹å ´åˆã¨é•ã£ã¦ã€ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã—ã¦å‰Šé™¤ã™ã‚‹å ´åˆã¯ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼å‰Šé™¤å¾Œã‚‚ã‚¹ã‚¤ãƒƒãƒå¾Œã®ãƒ­ãƒ¼ãƒ«ã§ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’æ“ä½œã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nã¾ãŸã€å³ä¸Šã®ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«åã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã«å‡ºã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ will-be-deleted ã«æˆ»ã‚‹ ã‚’é¸æŠã—ã¦ã‚‚ã€å…ƒã® IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æˆ»ã‚‹ã“ã¨ã‚‚ã§ããšã€ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«é·ç§»ã™ã‚‹ã‚ã‘ã§ã‚‚ãªãã€ãã®ã¾ã¾ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã—ãŸçŠ¶æ…‹ãŒç¶™ç¶šã™ã‚‹å½¢ã¨ãªã‚Šã¾ã—ãŸã€‚\n2. AWS CLI ã® iam delete-user ã‚³ãƒãƒ³ãƒ‰ã§å‰Šé™¤ ç¶šã„ã¦ã¯ AWS CLI ã§å‰Šé™¤ã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚\nä»Šå›ã‚‚äº‹å‰ã« IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ will-be-deleted ã‚’ä½œæˆã—ã¦ãŠãã€ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ãŠã‚ˆã³ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ä½œæˆã—ã¦ãŠãã¾ã™ã€‚ãã—ã¦ã€ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åã¨ã—ã¦ be-del ã¨ã„ã†åå‰ã‚’ã¤ã‘ã¦ãŠãã¾ã™ã€‚\n~/.aws/credentials ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªå†…å®¹ã€‚\n[be-del] aws_access_key_id=AKIA2FQK************ aws_secret_access_key=iis77+****************** è‡ªèº«ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã§å‰Šé™¤ ã¾ãšã¯è‡ªèº«ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã§å‰Šé™¤ã—ã¦ã¿ã¾ã™ã€‚\nå‰Šé™¤ã®å‰ã«ç¢ºèªã€‚\n$ aws iam get-user \\ --user-name will-be-deleted \\ --profile be-del { \u0026#34;User\u0026#34;: { \u0026#34;Path\u0026#34;: \u0026#34;/\u0026#34;, \u0026#34;UserName\u0026#34;: \u0026#34;will-be-deleted\u0026#34;, \u0026#34;UserId\u0026#34;: \u0026#34;XXXXXXXXXXXXXXXXTXQKX\u0026#34;, \u0026#34;Arn\u0026#34;: \u0026#34;arn:aws:iam::12345678XXXX:user/will-be-deleted\u0026#34;, \u0026#34;CreateDate\u0026#34;: \u0026#34;2020-10-07T09:51:06+00:00\u0026#34; } } iam delete-user ã‚³ãƒãƒ³ãƒ‰ã§å‰Šé™¤ã—ã¾ã™ã€‚\n$ aws iam delete-user \\ --user-name will-be-deleted \\ --profile be-del An error occurred (DeleteConflict) when calling the DeleteUser operation: Cannot delete entity, must remove users from group first. ã¾ãšã¯ IAM ã‚°ãƒ«ãƒ¼ãƒ—ã‹ã‚‰ remove ã—ãªã•ã„ã¨è¨€ã‚ã‚Œã¾ã—ãŸã€‚ã¨ã„ã†ã“ã¨ã§ã€ IAM ã‚°ãƒ«ãƒ¼ãƒ—ã‹ã‚‰ remove ã—ã¦ã€å¿…è¦ãª IAM ãƒãƒªã‚·ãƒ¼ã‚’ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªèº«ã«ã‚¢ã‚¿ãƒƒãƒã—ã€å†åº¦è©¦ã—ã¦ã¿ã¾ã™ã€‚\n$ aws iam delete-user \\ --user-name will-be-deleted \\ --profile be-del An error occurred (DeleteConflict) when calling the DeleteUser operation: Cannot delete entity, must detach all policies first. æ¬¡ã¯ã‚¢ã‚¿ãƒƒãƒã•ã‚Œã¦ã„ã‚‹ãƒãƒªã‚·ãƒ¼ã‚’ã™ã¹ã¦å‰Šé™¤ã—ãªã•ã„ã¨è¨€ã‚ã‚Œã¾ã—ãŸã€‚ã¨ã„ã†ã“ã¨ã§ã€ã‚¢ã‚¿ãƒƒãƒã•ã‚ŒãŸãƒãƒªã‚·ãƒ¼ã‚’å‰Šé™¤ã—ã¾ã™ã€‚ã§ã‚‚ã“ã†ã™ã‚‹ã¨\u0026hellip;\n$ aws iam delete-user \\ --user-name will-be-deleted \\ --profile be-del An error occurred (AccessDenied) when calling the DeleteUser operation: User: arn:aws:iam::12345678XXXX:user/will-be-deleted is not authorized to perform: iam:DeleteUser on resource: user will-be-deleted iam:DeleteUser ã®æ¨©é™ãŒãªã„ã¨è¨€ã‚ã‚Œã¾ã—ãŸã€‚ãã‚Œã¯ãã†ã€‚\nã¨ã„ã†ã“ã¨ã§ã€è‡ªèº«ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯è‡ªåˆ†è‡ªèº«ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ã¯ã§ããªã„ã‚ˆã†ã§ã™ã€‚\nã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã—ã¦å‰Šé™¤ ã§ã¯ã€ AWS CLI ã§ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã—ã¦å‰Šé™¤ã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚\nCLI ã§ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã™ã‚‹ãŸã‚ã«ã€ ~/.aws/config ã«æ¬¡ã®å†…å®¹ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚\n[profile michimani-admin] role_arn=arn:aws:iam::12345678XXXX:role/michimani-admin source_profile=be-del --profile ã§ michimani-admin ã‚’æŒ‡å®šã—ã¦å‰Šé™¤ã‚’è©¦ã—ã¾ã™ã€‚\n$ aws iam delete-user \\ --user-name will-be-deleted \\ --profile michimani-admin An error occurred (AccessDenied) when calling the AssumeRole operation: User: arn:aws:iam::12345678XXXX:user/will-be-deleted is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::12345678XXXX:role/michimani-admin sts:AssumeRole ã®æ¨©é™ãŒãªã„ã¨è¨€ã‚ã‚Œã¾ã—ãŸã€‚ã˜ã‚ƒã‚ sts:AssumeRole ã®ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã™ã‚Œã°ã‚ˆã„ã‹ã¨è¨€ã†ã¨ã€ãã†ã™ã‚‹ã¨ä»Šåº¦ã¯ã‚¢ã‚¿ãƒƒãƒã—ãŸãƒãƒªã‚·ãƒ¼ã‚’å‰Šé™¤ã—ã¦ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚\nã¨ã„ã†ã“ã¨ã§ã€ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã—ã¦ã‚‚å‰Šé™¤ã™ã‚‹ã“ã¨ã¯ã§ããªã„ã‚ˆã†ã§ã™ã€‚\n3. ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ CloudFormation ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ã‚¹ã‚¿ãƒƒã‚¯ã‚’å‰Šé™¤ ç¶šã„ã¦ã¯ã€ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ CloudFormation ã§ç®¡ç†ã—ã€ãã®ã‚¹ã‚¿ãƒƒã‚¯ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ã§ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å‰Šé™¤ã—ã¦ã¿ã¾ã™ã€‚ä»Šå›ç”¨æ„ã—ãŸ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ä¸‹è¨˜ã®å†…å®¹ã§ã™ã€‚\nAWSTemplateFormatVersion: \u0026#34;2010-09-09\u0026#34; Description: \u0026#34;IAM User\u0026#34; Parameters: UserPassword: Type: String Group: Type: String Resources: IAMUserForDelete: Type: \u0026#34;AWS::IAM::User\u0026#34; Properties: LoginProfile: Password: !Ref UserPassword PasswordResetRequired: false UserName: will-be-deleted Groups: - !Ref Group ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ IAM ãƒ¦ãƒ¼ã‚¶ will-be-deleted ã‚’ä½œæˆã—ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã‚¹ã‚¿ãƒƒã‚¯ã‚’å‰Šé™¤ã—ã¦ã¿ã¾ã™ã€‚ã¡ãªã¿ã«ã€ã“ã“ã§æ‰€å±ã•ã›ã‚‹ IAM ã‚°ãƒ«ãƒ¼ãƒ—ã«ã¯å¿…è¦ãª IAM ãƒãƒªã‚·ãƒ¼ãŒã‚¢ã‚¿ãƒƒãƒã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚\nãƒ­ã‚°ã‚¤ãƒ³ã—ãŸ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªèº«ã§å‰Šé™¤ will-be-deleted ã§ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã€ CloudFormation ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰è©²å½“ã®ã‚¹ã‚¿ãƒƒã‚¯ã‚’å‰Šé™¤ã—ã¾ã™ã€‚\nå•é¡Œãªãå‰Šé™¤ã§ãã¾ã—ãŸã€‚ãã—ã¦ã€ IAM ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰å‰Šé™¤ã—ãŸã¨ãã¨åŒæ§˜ã«ã€åˆ¥ã®æ“ä½œã‚’è¡Œã†ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«é·ç§»ã—ã¾ã—ãŸã€‚\nã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã—ã¦å‰Šé™¤ will-be-deleted ã‚’å†åº¦ä½œæˆ (ã“ã†ã„ã†ã¨ã CFn ã ã¨ã™ãã«å†ç¾ã§ãã¦è‰¯ã„ã§ã™ã­) ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦å…ˆç¨‹ã¨åŒæ§˜ã« michimani-admin ãƒ­ãƒ¼ãƒ«ã«ã‚¹ã‚¤ãƒƒãƒã—ã¾ã™ã€‚ãã—ã¦ã€ CloudFormation ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰è©²å½“ã®ã‚¹ã‚¿ãƒƒã‚¯ã‚’å‰Šé™¤ã—ã¾ã™ã€‚\nã“ã¡ã‚‰ã‚‚å•é¡Œãªãå‰Šé™¤ã§ãã¾ã—ãŸã€‚ãã—ã¦ã€ IAM ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰å‰Šé™¤ã—ãŸã¨ãã¨åŒæ§˜ã«ã€ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã¯ç¶™ç¶šã€å…ƒã® IAM ãƒ¦ãƒ¼ã‚¶ã«æˆ»ã‚‹ã“ã¨ã¯ã§ããªã„ ã¨ã„ã†çŠ¶æ…‹ã«ãªã‚Šã¾ã—ãŸã€‚\nã¾ã¨ã‚ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è‡ªåˆ†è‡ªèº«ã‚’å‰Šé™¤ã§ãã‚‹ã®ã‹ã€ã„ãã¤ã‹ã®æ–¹æ³•ã§è©¦ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚ä»Šå›è©¦ã—ãŸæ–¹æ³•ã¨ãã®çµæœã®ã¾ã¨ã‚ã¯ä¸‹è¨˜ã®è¡¨ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\næ–¹æ³• å‰Šé™¤å¯å¦ å‚™è€ƒ IAM ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ â—‹ å‰Šé™¤å¾Œã«åˆ¥ã®æ“ä½œã‚’è¡Œã†ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«é·ç§»ã™ã‚‹ IAM ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ with ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ« â—‹ å‰Šé™¤å¾Œã‚‚ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã¯ç¶™ç¶šã€å…ƒã® IAM ãƒ¦ãƒ¼ã‚¶ã«ã¯æˆ»ã‚Œãªã„ AWS CLI Ã— æœ€çµ‚çš„ã«æ¨©é™ãŒè¶³ã‚Šãªããªã‚‹ AWS CLI with ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ« Ã— æœ€çµ‚çš„ã«æ¨©é™ãŒè¶³ã‚Šãªããªã‚‹ CloudFormation ã®ã‚¹ã‚¿ãƒƒã‚¯å‰Šé™¤ â—‹ å‰Šé™¤å¾Œã«åˆ¥ã®æ“ä½œã‚’è¡Œã†ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«é·ç§»ã™ã‚‹ CloudFormation ã®ã‚¹ã‚¿ãƒƒã‚¯å‰Šé™¤\nwith ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ« â—‹ å‰Šé™¤å¾Œã‚‚ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã¯ç¶™ç¶šã€å…ƒã® IAM ãƒ¦ãƒ¼ã‚¶ã«ã¯æˆ»ã‚Œãªã„ ãã‚‚ãã‚‚è‡ªåˆ†è‡ªèº«ã‚’å‰Šé™¤ã—ã‚ˆã†ã¨ã™ã‚‹å ´é¢ã¯ã‚ã¾ã‚Šãªã„ (é€€è·ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰æŠœã‘ã‚‹æ™‚ãã‚‰ã„ï¼Ÿ) ã¨æ€ã„ã¾ã™ãŒã€ã‚‚ã—ã‚„ã‚‹ãªã‚‰ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ã®æ“ä½œã§ã‚ã‚Œã°å‰Šé™¤ã§ããã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-delete-iam-user-by-myself/",
    "title": "IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è‡ªåˆ†è‡ªèº«ã‚’å‰Šé™¤ã§ãã‚‹ã®ã‹è‰²ã‚“ãªæ–¹æ³•ã§è©¦ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "AWS CDK ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ãŸã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ CDK Day ãŒé–‹å‚¬ã•ã‚ŒãŸã®ã§ã€ãã®å‚åŠ ãƒ¬ãƒ (ã¨ã„ã†åã®ãƒ¡ãƒ¢) ã§ã™ã€‚å…¨éƒ¨è‹±èªã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§å­—å¹•ãªã©ã‚‚ãªã‹ã£ãŸã®ã§ã€ãªã‚“ã¨ãªãèãå–ã‚ŒãŸéƒ¨åˆ†ã¨ã‚¹ãƒ©ã‚¤ãƒ‰ã‹ã‚‰èª­ã¿å–ã‚ŒãŸéƒ¨åˆ†ã€é–¢é€£ã™ã‚‹ãƒªãƒ³ã‚¯ãªã©ã‚’ãƒ¡ãƒ¢ã—ã¦ã„ã¾ã™ã€‚\nç›®æ¬¡ CDK Day ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ« ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ¬ãƒãƒ¼ãƒˆ Keynote Lightning Talk: The cdk8s, the why and how - Matthew Bonig CDK 101 - Tatenda Gibson projen - a CDK for software project configuration - Elad Ben Israel Our Saas Journey with CDK - Ran Isenberg Building Real-time Back Ends on AWS with AppSync and CDK - nader dabit CDK and FedRAMP Compliance - Julia Jacobs Getting started with CDK for Terraform and Python - Charles McLaughlin Mix and Match CDK Constructs between AWS CDK, CDK8s and CDKTF - Sebastian Korfmann AWS config with CDK - chitranjali edpuganti Moving from CloudFormation YAML to CDK - Benefits, How to do it in a production system, and More! - Andrew Nguyen Serverless IoT with Greengrass, Ansible and AWS CDK - Luca Bianchi Multi-account and multi-region - Deploy your CDK app to multiple environments - Thorsten HÃ¶ger The good, the bad and the ugly of CDK adoption in a big enterprise - Mat Jovanovic Prototyping a CDK for Azure - Andreas Heumaier ã¾ã¨ã‚ CDK Day AWS CDK ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ãŸã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã§ã€ æ±éƒ¨æ¨™æº–æ™‚ (EDT) ã® 9æœˆ30æ—¥ 10:00 ã€œ 15:00 ã«é–‹å‚¬ã•ã‚Œã¾ã—ãŸã€‚æ™‚å·®ã®é–¢ä¿‚ã§ã€å”å®šä¸–ç•Œæ™‚ (UTC) ã§ã¯ 30æ—¥ 14:00 ã€œ 19:00 ã€æ—¥æœ¬æ¨™æº–æ™‚ (JST) ã§ã¯ 30æ—¥ 23:00 ã‹ã‚‰ç¿Œ 10æœˆ1æ—¥ 4:00 ã®é–‹å‚¬ã§ã—ãŸã€‚\nTwitter ã®ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã¯ #CDKDay ã§ã—ãŸã€‚\nã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ« æ™‚é–“ (æ—¥æœ¬æ™‚é–“) ã‚¿ã‚¤ãƒˆãƒ« 11:00 PM Keynote 11:20 PM Lightning Talk: The cdk8s, the why and how - Matthew Bonig 11:30 PM CDK 101 - Tatenda Gibson 11:40 PM projen - a CDK for software project configuration - Elad Ben Israel 11:50 PM Our Saas Journey with CDK - Ran Isenberg 12:00 AM Building Real-time Back Ends on AWS with AppSync and CDK - nader dabit 12:30 AM CDK and FedRAMP Compliance - Julia Jacobs 1:00 AM Lunch 1:30 AM Getting started with CDK for Terraform and Python - Charles McLaughlin 2:00 AM Mix and Match CDK Constructs between AWS CDK, CDK8s and CDKTF - Sebastian Korfmann 2:10 AM AWS config with CDK - chitranjali edpuganti 2:20 AM Moving from CloudFormation YAML to CDK - Benefits, How to do it in a production system, and More! - Andrew Nguyen 2:30 AM Serverless IoT with Greengrass, Ansible and AWS CDK - Luca Bianchi 3:00 AM Multi-account and multi-region - Deploy your CDK app to multiple environments - Thorsten HÃ¶ger 3:30 AM The good, the bad and the ugly of CDK adoption in a big enterprise - Mat Jovanovic 3:40 AM Prototyping a CDK for Azure - Andreas Heumaier 3:50 AM Closing Remarks ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ¬ãƒãƒ¼ãƒˆ ã“ã“ã‹ã‚‰ã¯å„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒ¬ãƒãƒ¼ãƒˆ (ãƒ¡ãƒ¢) ã§ã™ã€‚\nKeynote CDK for Terraform ( @build1point0 ) CDK for Terraform: Enabling Python \u0026amp;amp; TypeScript Support TypeScript ã€ Python æœ¬å®¶ CDK ã¨ã¯ç‹¬ç«‹ã—ã¦ã„ã‚‹ Lightning Talk: The cdk8s, the why and how - Matthew Bonig Matthew Bonig (@mattbonig) k8s manifest\nèª­ã¿ã‚„ã™ã„ã‘ã©ã€ not DRY Helm Charts\nãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„ã‘ã©ã€ ã™ã”ãè¡¨é¢çš„ CDK ã‚’ä½¿ã†ãƒ¡ãƒªãƒƒãƒˆ\nmulti-lingual (TypeScript, Python, Java, C#) èª­ã¿ã‚„ã™ã„ ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„ cdk8s ã¨ cdk8s+ ã¯ç¾åœ¨ Î± ç‰ˆ\nCDK 101 - Tatenda Gibson Tatenda_M (@Taity__m) Overview 2019/7 ãƒªãƒªãƒ¼ã‚¹ JavaScript, TypeScript, Python, Java, C# Why CDK? CFn = Pain æ–°ãŸã«å­¦ã¶ã“ã¨ãŒå°‘ãªã„ ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ãƒˆã«ã‚ˆã£ã¦ãƒã‚¤ãƒ¬ãƒ™ãƒ«ã«æŠ½è±¡åŒ–ã•ã‚ŒãŸæ–¹æ³•ã§ãƒªã‚½ãƒ¼ã‚¹ã‚’å®šç¾©ã§ãã‚‹ Comparison with SAM SAM CDK YAML or JSON ãƒ—ãƒ­ã‚°ãƒ©ãƒ è¨€èª local emulation ã‚’ã‚µãƒãƒ¼ãƒˆ local testing ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„ ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ãƒªã‚½ãƒ¼ã‚¹ã®ã¿ãƒ‡ãƒ—ãƒ­ã‚¤ ã™ã¹ã¦ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ Next Steps\u0026hellip; A beginner\u0026amp;rsquo;s guide to CDK, by building an ECS cluster projen - a CDK for software project configuration - Elad Ben Israel Elad Ben-Israel (@emeshbi) eladb/projen eladb/projen: A new generation of project generators JS ã§è¨˜è¿°ã•ã‚ŒãŸå®šç¾©ã‹ã‚‰ã€ package.json, tsconfig.json, GitHub workflows ã®å®šç¾©ãªã©ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ã‚’ç”Ÿæˆ (LIVE Demo) Our Saas Journey with CDK - Ran Isenberg Ran Isenberg (@IsenbergRan) CyberArk lower level CFn class ã‚’ä½¿ã†ã“ã¨ã‚’æã‚Œãªã„ã§ ãƒãƒ¼ãƒ å†…ã§ Constructs ã‚’å…±æœ‰ã™ã‚Œã°ã‚³ãƒ¼ãƒ‰ã®é‡è¤‡ã‚’é˜²ã„ã§é–‹ç™ºæ™‚é–“ã‚’çŸ­ç¸®ã§ãã‚‹ About CyberArk Engineering â€“ Medium Building Real-time Back Ends on AWS with AppSync and CDK - nader dabit GraphQL query language for API æ§‹æˆè¦ç´  Schema Resolvers Data source Database Serverless Function HTTP endpoint AWS AppSync ãƒãƒãƒ¼ã‚¸ãƒ‰ãª GraphQL ã‚µãƒ¼ãƒ“ã‚¹ IAM, Cognito, API Keys, OIDC ã«ã‚ˆã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ Building AWS AppSync with CDK Install CDK packages (AppSync + other data sorce) Create configure an API ã‚¹ã‚­ãƒ¼ãƒã®å ´æ‰€ã‚’æŒ‡å®š èªè¨¼æ–¹æ³•ã‚’æŒ‡å®š (API Key) xrayEnablesd: true Add data source Lambda é–¢æ•° Add resolvers to data source (LIVE Demo) CDK and FedRAMP Compliance - Julia Jacobs Julia Jacobs (@jewelsjacobs) Acxiom (IPG) CMS Developer Tools AWS ã§ã® FedRAMP å¯¾å¿œ FedRAMP ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ â€“ ã‚¢ãƒã‚¾ãƒ³ ã‚¦ã‚§ãƒ– ã‚µãƒ¼ãƒ“ã‚¹ (AWS) å¯¾è±¡ç¯„å›²å†…ã®ã‚µãƒ¼ãƒ“ã‚¹ â€“ ã‚¢ãƒã‚¾ãƒ³ ã‚¦ã‚§ãƒ– ã‚µãƒ¼ãƒ“ã‚¹ (AWS) ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ AUtherntication Firebase OAuth -\u0026gt; Amazon Cognito Data mLab mongoDB -\u0026gt; Heroku PostgreSQL -\u0026gt; RDS PostgreSQL API GraphQL Server Koa Heroku -\u0026gt; GraphQL Server Koa ECS/Fargate Frontend React/Redux Heroku -\u0026gt; React/Redux CloudFront ã‚»ãƒƒã‚·ãƒ§ãƒ³è³‡æ–™ AWS CDK and FedRAMP Compliance Getting started with CDK for Terraform and Python - Charles McLaughlin CDK for Terraform hashicorp/terraform-cdk: Define infrastructure resources using programming constructs and provision them using HashiCorp Terraform Python ã¾ãŸã¯ TypeScript ã§å®Ÿè£… Python ã®å ´åˆ cdktf init --template=\u0026quot;python-pip\u0026quot; --local terraform-cdk/python.md at master Â· hashicorp/terraform-cdk TypeScript ã®å ´åˆ cdktf init --template=\u0026quot;typescript\u0026quot; --local terraform-cdk/typescript.md at master Â· hashicorp/terraform-cdk LIVE Demo ã§ã¯ Static Webisite Hosting ã‚’æœ‰åŠ¹ã«ã—ãŸ S3 ãƒã‚±ãƒƒãƒˆã‚’ Python ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½œæˆ Mix and Match CDK Constructs between AWS CDK, CDK8s and CDKTF - Sebastian Korfmann Sebastian Korfmann (@skorfmann) CDK Construct Level\nLevel 3 - ãƒ‘ã‚¿ãƒ¼ãƒ³ Load balanced Fargate Service Level 2 - API ECS Fargate Service, Application Loadbalancer Level 1 - from CFn spec CfnEcsService, CfnEcsTaskDefinition, CfnApplicationLB, CfnTargetGroup, CfnRule skorfmann/cfn2tf Converts CloudFormation resources to Terraform resources. AWS config with CDK - chitranjali edpuganti CDK ã§ AWS Config ã‚’æ§‹ç¯‰ã™ã‚‹è©± Moving from CloudFormation YAML to CDK - Benefits, How to do it in a production system, and More! - Andrew Nguyen Benefit CDK ã¯ CFn ã‚ˆã‚Šã‚‚ã‚³ãƒ¼ãƒ‰é‡ãŒå¤§å¹…ã«å°‘ãªããªã‚‹ é–‹ç™ºãƒ„ãƒ¼ãƒ«ã®æ©æµã‚’å—ã‘ã‚‰ã‚Œã‚‹ IDE ã‚µãƒãƒ¼ãƒˆ ãƒ—ãƒ­ã‚°ãƒ©ãƒ è¨€èª ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç† (Maven, npm, pip) CDK ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§çŸ¥è¦‹ã‚’ã‚·ã‚§ã‚¢ã§ãã‚‹ Migration SQS + Lambda + SNS ã®ä¾‹ ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ CDK ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ CDK ã§ä¸€éƒ¨ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹ ã¾ãšã¯ SNS ã®ã¿æ§‹ç¯‰ æ—§ãƒªã‚½ãƒ¼ã‚¹ã‚’ CDK ã§ä½œæˆã—ãŸãƒªã‚½ãƒ¼ã‚¹ã«ç½®ãæ›ãˆã‚‹ Lambda ã®å‘ãå…ˆã‚’ CDK ã§ä½œæˆã—ãŸ SNS ã«å¤‰æ›´ ã‚¹ãƒ†ãƒƒãƒ— 2,3 ã‚’ç¹°ã‚Šè¿”ã™ SNS ã«ç¶šã„ã¦ã€ Lambda -\u0026gt; SQS ã®é †ã«ç§»è¡Œ æ—§ãƒªã‚½ãƒ¼ã‚¹ã‚’å‰Šé™¤ã™ã‚‹ Done! more Andy Nguyen Serverless IoT with Greengrass, Ansible and AWS CDK - Luca Bianchi Luca Bianchi - #AWS Serverless Hero (@bianchiluca) RaspberryPi CM3 ã®ã‚³ã‚¢ã‚»ãƒ³ã‚µãƒ¼ã«ã¤ã„ã¦\nAWS IoT Greengrass\nAWS IoT Greengrassï¼ˆAWS ã‚’ã‚¨ãƒƒã‚¸ãƒ‡ãƒã‚¤ã‚¹ã¸ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«æ‹¡å¼µï¼‰| AWS IoT ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\nã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒã‚¤ã‚¹ ãƒªãƒ¢ãƒ¼ãƒˆãƒœãƒ¼ãƒ‰ ãƒ­ãƒ¼ã‚«ãƒ«ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ IoT ãƒˆãƒ”ãƒƒã‚¯ AWS IoT Greengrass core Lambda é–¢æ•° (Cloud ã¸ã®ãƒ—ãƒ­ã‚­ã‚·) (\u0026hellip; CDK ã®è©±ã¯ï¼Ÿ)\nMulti-account and multi-region - Deploy your CDK app to multiple environments - Thorsten HÃ¶ger Thorsten Hoeger (@hoegertn) Create Demo Project (HTTP API) API Gateway + Lambda + DynamoDB CodePipeline CDK Pipeline ã¯ developers preview (v1.64.1) aws-cdk/packages/@aws-cdk/pipelines at v1.64.1 Â· aws/aws-cdk Deploy to two different Region (and Account) cdk.Stage ã‚’ extends ã—ãŸ class (ãƒ‡ãƒ¢ã§ã¯ä¸‹è¨˜ã®ã‚ˆã†ãª AppStage) ã‚’ä½œæˆ\nclass AppStage extend cdk.Stage { constructor(scope: cdk.Construct, id: string, props: cdk.StageProps) { super(scope, id, props); ... } } pipeline.addApplicationStage() ã® env.region ã§åˆ¥ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®š\npipeline.addApplicationStage( new AppStage(this, \u0026#39;app-dev-fra\u0026#39;, { env: { account: \u0026#39;XXXXXXXXXXXX\u0026#39;, region: \u0026#39;eu-central-1\u0026#39; } }) ); pipeline.addApplicationStage( new AppStage(this, \u0026#39;app-dev-fra\u0026#39;, { env: { account: \u0026#39;XXXXXXXXXXXX\u0026#39;, region: \u0026#39;eu-west-1\u0026#39; } }) ); Link Create a CI/CD Pipeline for your CDK App â€” Taimos GmbH Your access to my CDK brain â€” Taimos GmbH The good, the bad and the ugly of CDK adoption in a big enterprise - Mat Jovanovic Mat Jovanovic ğŸ‚ (@MatJovanovic) 100+ AWS Account 5,500 CFn Stacks Mats Cloud Bad external colab ã„ã‚ã‚“ãªãƒ„ãƒ¼ãƒ« (Terraform) ã€è¨€èª (Python, TypeScript, Java) ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ (k8s) ã‚’ä½¿ã„ãŸã„äººãŒã„ã‚‹ Ugly it operations ä¸€ã¤ã®ç’°å¢ƒ (CDK + Python) ã«æ±ºã‚ã‚‹ã¨æ€’ã‚‹äººãŒã„ã‚‹ Prototyping a CDK for Azure - Andreas Heumaier Andreas Heumaier (@aheumaier) å¤šãã®å ´åˆã€ API ãƒªã‚½ãƒ¼ã‚¹ã®å®šç¾©ã« JSON ã‚¹ã‚­ãƒ¼ãƒã‚’ä½¿ã† (Azure ã§ã‚‚åŒã˜) CDK ã§ JSON ã‚¹ã‚­ãƒ¼ãƒã‚’ç”Ÿæˆã™ã‚‹ @armkit/core ã‚’ import Azure/armkit: The Cloud Development Kit for Azure Yetics/armkit: The Cloud Development Kit for Azure å…±é€šã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’ä½¿ã†ã“ã¨ã§ãƒŸã‚¹ã‚’ãƒãƒã‚Šã©ã“ã‚ã‚’å›é¿ã§ãã‚‹ ã¾ã¨ã‚ AWS CDK ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ãŸã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ CDK Day ã®ãƒ¬ãƒãƒ¼ãƒˆ (ã¨ã„ã†åã®ãƒ¡ãƒ¢) ã§ã—ãŸã€‚\nCDK ã«é–¢ã™ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ã¿ã¨ã„ã†ã“ã¨ã§ã€éå¸¸ã«æ¿ƒã„ CDK ã‚¿ã‚¤ãƒ ã§ã—ãŸã€‚ã™ã¹ã¦è‹±èªã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã€æ™‚é–“å¸¯ã‚‚æ·±å¤œå¸¯ã¨ã„ã†ã“ã¨ã§ãªã‹ãªã‹é ­ãŒå›ã‚‰ãªã„ä¸­ã§èã„ã¦ã„ã¾ã—ãŸãŒã€é¢ç™½ã„è©±ã‚‚ã„ãã¤ã‹ã‚ã‚Šã¾ã—ãŸã€‚\nç‰¹ã«ã€ CDK for Terraform ã®è©±ã¯ Keynote ã‚„è¤‡æ•°ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§è§¦ã‚Œã‚‰ã‚Œã¦ã„ã¾ã—ãŸã€‚å€‹äººçš„ã«ã¯ Terraform å§‹ã‚ã‚ˆã†ã¨æ€ã£ã¦ã„ã‚‹ã¨ã“ã‚ãªã®ã§ã€ CDK for Terraform ã‚‚åˆã‚ã›ã¦ä½¿ã£ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\nä»Šå›ã¯ AWS CDK ã«ã¤ã„ã¦ã®è©±ã‚’èãã¨ã„ã†ã®ã¯ã‚‚ã¡ã‚ã‚“ã€æµ·å¤–ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’èã„ã¦ã¿ã‚‹ã¨ã„ã†ã®ã‚‚ä¸€ã¤ã®ç›®çš„ã§ã—ãŸã€‚æ™®æ®µã‹ã‚‰è‹±èªã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚€ã“ã¨ã‚‚å¤šã„ã®ã§è‹±èªã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚‚ãªã‚“ã¨ãªãã¯ç†è§£ã§ãã‚‹ã‹ãªã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€å…¨ç„¶ãƒ€ãƒ¡ã§ã—ãŸã€‚ã‚„ã¯ã‚Š Reading ã¨ Listening ã§ã¯å‹æ‰‹ãŒå…¨ç„¶é•ã„ã¾ã™ã­\u0026hellip;ã¨ã„ã†ã“ã¨ã§ä»Šå›ã®ãƒ¡ãƒ¢ã¯æœ¬å½“ã®ãƒ¡ãƒ¢ãƒ¬ãƒ™ãƒ«ã«ãªã£ã¦ã¾ã™ã€‚\nã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å‹•ç”»ã¯ã‚ã¨ã‹ã‚‰ã‚¢ãƒƒãƒ—ã•ã‚Œã‚‹ (?) ã¿ãŸã„ãªã®ã§ã€æ°—ã«ãªã‚‹æ–¹ã¯ãœã²ãã¡ã‚‰ã®ã»ã†ã‚’ç¢ºèªã—ã¦ã¿ã¦ãã ã•ã„ã€‚\n",
    "permalink": "https://michimani.net/post/aws-report-of-cdk-day/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] CDK Day ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³è´è¬›ãƒ¡ãƒ¢ #CDKDay"
  },
  {
    "contents": "JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #168R S3åŸºç¤ Webã‚µã‚¤ãƒˆ\u0026amp;ãƒ­ã‚° ã«å‚åŠ ã—ãŸã®ã§ã€ãã®ãƒ¬ãƒãƒ¼ãƒˆã§ã™ã€‚\nconnpass ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰ã€‚\nå‰å›ã®ãƒ¬ãƒãƒ¼ãƒˆã¯ã“ã¡ã‚‰ã€‚\n[ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #167R EventBridgeå…¥é–€ ã«å‚åŠ ã—ã¾ã—ãŸ #jawsug_cli - michimani.net ç›®æ¬¡ S3 ã®æ¦‚è¦ S3 ã®å…¨ä½“åƒ ã‚µãƒ¼ãƒ“ã‚¹æ¦‚è¦ è¦ç´ æ¦‚è¦ ãƒãƒ³ã‚ºã‚ªãƒ³ 1.2. S3ãƒã‚±ãƒƒãƒˆACLæ›´æ–° 2.6. S3ãƒã‚±ãƒƒãƒˆ Webã‚µã‚¤ãƒˆãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°è¨­å®šã®ä½œæˆ 4. S3ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç¢ºèª (ãƒ­ã‚°ã®ç¢ºèª) CDK ã§ã‚„ã‚‹å ´åˆã¨ã®æ¯”è¼ƒ CDK ã§ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã‚’æ‰±ã† çŸ¥ã‚‰ã‚“ã‹ã£ãŸãã€ãã‚Œ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã®å–å¾— ã¾ã¨ã‚ S3 ã®æ¦‚è¦ ä»Šå›ã‚‚å‰åŠéƒ¨åˆ†ã¯ S3 ã®æ¦‚è¦ã«ã¤ã„ã¦ã®èª¬æ˜ã ã£ãŸã®ã§ã€ãƒ¡ãƒ¢ã‚’æ®‹ã—ã¦ãŠãã¾ã™ã€‚\nS3 ã®å…¨ä½“åƒ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã¯ S3 API ã¨ã—ã¦ã¯ s3 ã€ s3control CLI ã¨ã—ã¦ã¯ s3 ã€ s3api ã€ s3control s3control ã¯ãƒ‘ãƒ¯ãƒ¼ã‚­ãƒƒãƒˆçš„ãªæ„Ÿã˜ ãƒãƒƒãƒã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ ãªã© ã‚µãƒ¼ãƒ“ã‚¹æ¦‚è¦ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ (æ‰€è¬‚ãƒ–ãƒ­ãƒƒã‚¯ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¨ã¯é•ã†) ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³• ãƒ–ãƒ©ã‚¦ã‚¶ã€ http ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ CLIã€ SDKã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ« ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡æ–¹æ³• ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ãƒ–ãƒ­ãƒƒã‚¯ ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ ãƒã‚±ãƒƒãƒˆ ACL è¦ç´ æ¦‚è¦ ã‚¤ãƒ³ãƒ—ãƒƒãƒˆ/ã‚¢ã‚¯ã‚»ã‚¹ AWS ãƒªã‚½ãƒ¼ã‚¹ åˆ©ç”¨è€… (ä¸€èˆ¬) åˆ©ç”¨è€… with IAM ãƒãƒªã‚·ãƒ¼ ã‚¤ãƒ³ãƒ—ãƒƒãƒˆå´ã‹ã‚‰ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¾ã§ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ ãƒã‚±ãƒƒãƒˆ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ CORS Web ã‚µã‚¤ãƒˆãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° ç½²åä»˜ã URL ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ã€ãƒã‚±ãƒƒãƒˆ ACL ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ ACL ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå±æ€§ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ­ãƒƒã‚¯ ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆ S3 ãƒã‚±ãƒƒãƒˆ ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« S3 Gracier ãƒ¡ãƒˆãƒªã‚¯ã‚¹ CloudWatch é€šçŸ¥ SNS SQS Lambda ãƒãƒ³ã‚ºã‚ªãƒ³ ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ã€ S3 ã® Static website hosting ã®æ©Ÿèƒ½ã‚’ä½¿ã£ã¦é™çš„ãªã‚µã‚¤ãƒˆã‚’æ§‹ç¯‰ã—ã€ãã®ã‚µã‚¤ãƒˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã‚’åˆ¥ã®ãƒã‚±ãƒƒãƒˆã«å‡ºåŠ›ã™ã‚‹ã¨ã„ã†æ§‹æˆã‚’ AWS CLI ã§æ§‹ç¯‰ã—ã¾ã—ãŸã€‚\nãƒãƒ³ã‚ºã‚ªãƒ³ã®è©³ç´°ãªæ‰‹é †ã«ã¤ã„ã¦ã¯ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã®è³‡æ–™ åŠã³ä¸‹è¨˜ã®ãƒãƒ³ã‚ºã‚ªãƒ³è³‡æ–™ã«ãŠã¾ã‹ã›ã™ã‚‹ã¨ã—ã¦ã€å€‹äººçš„ã«æ°—ã«ãªã£ãŸéƒ¨åˆ†ã®ã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nãƒãƒ³ã‚ºã‚ªãƒ³(ç°¡æ˜“ç‰ˆ): S3åŸºç¤ Webã‚µã‚¤ãƒˆ\u0026amp;amp;ãƒ­ã‚° â€” ãƒãƒ³ã‚ºã‚ªãƒ³(ç°¡æ˜“ç‰ˆ): S3åŸºç¤ Webã‚µã‚¤ãƒˆ\u0026amp;amp;ãƒ­ã‚° 1.2. S3ãƒã‚±ãƒƒãƒˆACLæ›´æ–° ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã‚’å‡ºåŠ›ã™ã‚‹ãƒã‚±ãƒƒãƒˆã«å¯¾ã—ã¦ã€ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒã‚±ãƒƒãƒˆ ACL ã‚’å¤‰æ›´ã—ã¾ã—ãŸã€‚\n$ aws s3api put-bucket-acl \\ --bucket ${S3_BUCKET_NAME} \\ --grant-write \u0026#39;URI=\u0026#34;http://acs.amazonaws.com/groups/s3/LogDelivery\u0026#34;\u0026#39; \\ --grant-read-acp \u0026#39;URI=\u0026#34;http://acs.amazonaws.com/groups/s3/LogDelivery\u0026#34;\u0026#39; ã“ã“ã§å‡ºã¦ãã‚‹ LogDelivery ã¨ã¯ã€ ACL ã‚’è¨­å®šã™ã‚‹éš›ã« S3 ã§äºˆã‚å®šç¾©ã•ã‚ŒãŸã‚°ãƒ«ãƒ¼ãƒ—ã®ã“ã¨ã ãã†ã§ã™ã€‚å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã—ãŸã€‚\nãƒã‚±ãƒƒãƒˆã® WRITE è¨±å¯ã«ã‚ˆã‚Šã€ã“ã®ã‚°ãƒ«ãƒ¼ãƒ—ã¯ã‚µãƒ¼ãƒãƒ¼ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚° (ã€ŒAmazon S3 ã‚µãƒ¼ãƒãƒ¼ã‚¢ã‚¯ã‚»ã‚¹ã®ãƒ­ã‚°è¨˜éŒ²ã€ã‚’å‚ç…§) ã‚’ãƒã‚±ãƒƒãƒˆã«æ›¸ãè¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚\nã‚¢ã‚¯ã‚»ã‚¹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒªã‚¹ãƒˆ (ACL) ã®æ¦‚è¦ - Amazon Simple Storage Service 2.6. S3ãƒã‚±ãƒƒãƒˆ Webã‚µã‚¤ãƒˆãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°è¨­å®šã®ä½œæˆ S3 ãƒã‚±ãƒƒãƒˆã«å¯¾ã—ã¦ Static website hosting ã®æ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã™ã‚‹ãŸã‚ã«ã€ s3api put-bucket-website ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã—ãŸã€‚ --website-configuration ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ Static website hosting ã®è¨­å®šã‚’ã—ã¾ã™ãŒã€ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªè¨­å®šã‚’ã—ã¾ã—ãŸã€‚\n{ \u0026#34;ErrorDocument\u0026#34;: { \u0026#34;Key\u0026#34;: \u0026#34;error.html\u0026#34; }, \u0026#34;IndexDocument\u0026#34;: { \u0026#34;Suffix\u0026#34;: \u0026#34;index.html\u0026#34; } } ãã®ä»–ã€è©³ç´°ãªè¨­å®šã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\n$ aws s3api put-bucket-website \\ --generate-cli-skeleton yaml-input Bucket: \u0026#39;\u0026#39; # [REQUIRED] The bucket name. ContentMD5: \u0026#39;\u0026#39; # The base64-encoded 128-bit MD5 digest of the data. WebsiteConfiguration: # [REQUIRED] Container for the request. ErrorDocument: # The name of the error document for the website. Key: \u0026#39;\u0026#39; # [REQUIRED] The object key name to use when a 4XX class error occurs. IndexDocument: # The name of the index document for the website. Suffix: \u0026#39;\u0026#39; # [REQUIRED] A suffix that is appended to a request that is for a directory on the website endpoint (for example,if the suffix is index. RedirectAllRequestsTo: # The redirect behavior for every request to this bucket\u0026#39;s website endpoint. HostName: \u0026#39;\u0026#39; # [REQUIRED] Name of the host where requests are redirected. Protocol: https # Protocol to use when redirecting requests. Valid values are: http, https. RoutingRules: # Rules that define when a redirect is applied and the redirect behavior. - Condition: # A container for describing a condition that must be met for the specified redirect to apply. HttpErrorCodeReturnedEquals: \u0026#39;\u0026#39; # The HTTP error code when the redirect is applied. KeyPrefixEquals: \u0026#39;\u0026#39; # The object key name prefix when the redirect is applied. Redirect: # [REQUIRED] Container for redirect information. HostName: \u0026#39;\u0026#39; # The host name to use in the redirect request. HttpRedirectCode: \u0026#39;\u0026#39; # The HTTP redirect code to use on the response. Protocol: https # Protocol to use when redirecting requests. Valid values are: http, https. ReplaceKeyPrefixWith: \u0026#39;\u0026#39; # The object key prefix to use in the redirect request. ReplaceKeyWith: \u0026#39;\u0026#39; # The specific object key to use in the redirect request. ExpectedBucketOwner: \u0026#39;\u0026#39; # The account id of the expected bucket owner. ã¡ãªã¿ã«ã“ã® --generate-cli-skeleton yaml-input ã‚’ä½¿ã†ã¨ã€ä¸Šè¨˜ã®ã‚ˆã†ã«ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãã§æƒ…å ±ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã§ã™ã€‚\n4. S3ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç¢ºèª (ãƒ­ã‚°ã®ç¢ºèª) ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³æ‰‹é †ã§ã¯ã€ s3://{S3_BUCKET_NAME}-log/Logs/ ã«ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã¯ãšã§ã—ãŸãŒã€é€”ä¸­ã®æ‰‹é †ã‚’ãƒŸã‚¹ã£ã¦ã„ãŸãŸã‚ãƒ­ã‚°ã®å‡ºåŠ›å…ˆãŒãƒã‚±ãƒƒãƒˆç›´ä¸‹ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚\n$ aws s3api get-bucket-logging \\ --bucket ${S3_BUCKET_NAME} { \u0026#34;LoggingEnabled\u0026#34;: { \u0026#34;TargetBucket\u0026#34;: \u0026#34;handson-cli-s3-website-logging-website-1234XXXXXXXX-log\u0026#34;, \u0026#34;TargetPrefix\u0026#34;: \u0026#34;/\u0026#34; } } æœ¬å½“ã¯ TargetPrefix ãŒ Logs/ ã«ãªã£ã¦ã„ã‚‹ã¯ãšã§ã—ãŸã€‚\nã“ã‚Œã®ä½•ãŒè¾›ã‹ã£ãŸ (è¾›ãã¯ãªã„ã‘ã©æ°—æŒã¡æ‚ªã‹ã£ãŸ) ã‹ã¨ã„ã†ã¨ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§è¦‹ãŸã¨ãã«ç„¡åã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª (ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹) ãŒå­˜åœ¨ã™ã‚‹å½¢ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚\nCLI ã§ç¢ºèªã™ã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã€‚\n$ aws s3 ls s3://${S3_BUCKET_NAME}-log/ PRE / ã“ã†ãªã£ãŸå ´åˆã€ CLI ã§ã¯æ¬¡ã®ã‚ˆã†ã«ã—ã¦ç¢ºèªã—ã¾ã™ã€‚\n$ aws s3 ls s3://${S3_BUCKET_NAME}-log// 2020-09-24 11:17:40 636 2020-09-24-11-17-39-D5F59C25B3841CAF 2020-09-24 11:17:43 2981 2020-09-24-11-17-42-83D41566B32CB6A7 2020-09-24 11:17:47 720 2020-09-24-11-17-46-2283C60C4B76D482 2020-09-24 11:17:50 656 2020-09-24-11-17-49-F938F6B946395166 2020-09-24 11:17:52 720 2020-09-24-11-17-51-70439B9BAD87B553 2020-09-24 11:18:12 720 2020-09-24-11-18-11-2FEBA44AFEB0C91D 2020-09-24 11:18:15 720 2020-09-24-11-18-14-A7A7F94850ED3EAD 2020-09-24 11:19:10 720 2020-09-24-11-19-09-56EBF4C2C6EA75BB 2020-09-24 11:19:36 1387 2020-09-24-11-19-35-0F6E11B37CB0113E S3 ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã§ã‚ã£ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ãªã„ã®ã§ // ã¨ã„ã†æŒ‡å®šã‚‚ãŠã‹ã—ãã¯ãªã„ã®ã§ã™ãŒã€ã¡ã‚‡ã£ã¨æ°—æŒã¡æ‚ªã„ã§ã™ã­ã€‚\nCDK ã§ã‚„ã‚‹å ´åˆã¨ã®æ¯”è¼ƒ ä»Šå›ã¯ãƒãƒ³ã‚ºã‚ªãƒ³å¾Œã® LT ã§ã€åŒã˜ã‚ˆã†ãªæ§‹æˆã‚’ CDK ã§æ§‹ç¯‰ã—ãŸå ´åˆã¨ã®æ¯”è¼ƒã«ã¤ã„ã¦ã®è©±ãŒã‚ã‚Šã¾ã—ãŸã€‚CDK ã¯è©³ç´°ãªéƒ¨åˆ†ãŒéš è”½ã•ã‚Œã¦æ¥½ãªåé¢ã€è£ã§å‹•ã„ã¦ã„ã‚‹å‡¦ç† (è¨­å®š) ã«ã¤ã„ã¦ã¯ã€ CLI ã‚’ä½¿ã£ãŸã»ã†ãŒç¢ºèªã—ã‚„ã™ã„ã¨ã„ã†è©±ã§ã—ãŸã€‚CDK ã§ã‚µã‚¯ãƒƒã¨ä½œã‚Œã‚‹ã‚‚ã®ã§ã‚‚ã€æŠ½è±¡åŒ–ã•ã‚Œã¦ã„ã‚‹éƒ¨åˆ†ã‚’ CLI ã®æ“ä½œã§å­¦ã‚“ã§ãŠãã®ã¯å¤§äº‹ã ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚\nã§ã€å®Ÿã¯è‡ªåˆ†ã‚‚å‰ã« CDK ã‚’ä½¿ã£ã¦åŒã˜ã‚ˆã†ãªæ§‹æˆã‚’ä½œã£ã¦ã„ã¾ã—ãŸã€‚\nç¢ºã‹ã« CDK ã ã¨ç°¡å˜ã«ä½œã‚Œã¦ã—ã¾ã†æ§‹æˆã‚’ CLI ã§ãƒãƒãƒãƒã‚„ã‚‹ã®ã¯æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚ãŒã€ãã®åˆ† API ãƒ¬ãƒ™ãƒ«ã§ä½•ã‚’ã‚„ã£ã¦ã„ã‚‹ã®ã‹ãŒã‚ã‹ã‚‹ã®ã§ã€ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã‚‚å‹‰å¼·ã«ãªã‚Šã¾ã—ãŸã€‚\nCDK ã§ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã‚’æ‰±ã† CDK ã¨ CLI ã¨ã®æ¯”è¼ƒã«é–¢ã™ã‚‹ LT å¾Œã®è©±ã®ä¸­ã§ã€ ä»Šå›ã®ã‚ˆã†ã« S3 ã‚’æ‰±ã†ãƒãƒ³ã‚ºã‚ªãƒ³ã®å ´åˆã€ãƒã‚±ãƒƒãƒˆåã®è¡çªã‚’é˜²ããŸã‚ã« AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã‚’ãƒã‚±ãƒƒãƒˆåã«çµ„ã¿è¾¼ã‚€ã¨å¹¸ã›ã«ãªã‚Œã‚‹ ã¨ã„ã†è©±ãŒã‚ã‚Šã¾ã—ãŸã€‚\nå¾Œè¿°ã—ã¾ã™ãŒã€ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ sts get-caller-identity ã‹ã‚‰ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã‚’å–å¾—ã—ã¦ãƒã‚±ãƒƒãƒˆåã«çµ„ã¿è¾¼ã‚“ã§ã„ã¾ã—ãŸãŒã€ CDK ã§ã‚‚åŒã˜ã“ã¨ãŒã§ããªã„ã‹èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚\nçµè«–ã‹ã‚‰è¨€ã†ã¨ã€ã§ãã¾ã—ãŸã€‚\nä»Šå›ã®ã‚ˆã†ã« AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã‚’ãƒã‚±ãƒƒãƒˆåã«å«ã‚€ S3 ãƒã‚±ãƒƒãƒˆã‚’ä½œæˆã™ã‚‹ã«ã¯ã€æ¬¡ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\nimport * as cdk from \u0026#39;@aws-cdk/core\u0026#39;; import s3 = require(\u0026#39;@aws-cdk/aws-s3\u0026#39;); export class S3WithAwsIdStack extends cdk.Stack { constructor(scope: cdk.Construct, id: string, props?: cdk.StackProps) { super(scope, id, props); const bucketName: string = `sample-bucket-${this.account}`; const bucket: s3.Bucket = new s3.Bucket(this, \u0026#39;SampleBucketWithAccountID\u0026#39;, { bucketName, publicReadAccess: true, websiteIndexDocument: \u0026#39;index.html\u0026#39;, websiteErrorDocument: \u0026#39;error.html\u0026#39;, removalPolicy: cdk.RemovalPolicy.DESTROY }); } } ã“ã‚Œã§ç”Ÿæˆã•ã‚Œã‚‹ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nResources: SampleBucketWithAccountID62145D3E: Type: AWS::S3::Bucket Properties: BucketName: Fn::Join: - \u0026#34;\u0026#34; - - sample-bucket- - Ref: AWS::AccountId WebsiteConfiguration: ErrorDocument: error.html IndexDocument: index.html UpdateReplacePolicy: Delete DeletionPolicy: Delete cdk deploy ã™ã‚Œã° sample-bucket-XXXXXXXXXXXX ã¨ã„ã†å½¢ã§ã€ãƒã‚±ãƒƒãƒˆåã« AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã‚’å«ã‚“ã  S3 ãƒã‚±ãƒƒãƒˆãŒä½œæˆã•ã‚Œã¾ã™ã€‚\nçŸ¥ã‚‰ã‚“ã‹ã£ãŸãã€ãã‚Œ ä»Šå›ã«é™ã‚‰ãšãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯æ–°ã—ãçŸ¥ã‚‹ã“ã¨ãŒãŸãã•ã‚“ã‚ã‚‹ã®ã§ã€ã“ã® çŸ¥ã‚‰ã‚“ã‹ã£ãŸãã€ãã‚Œ é …ç›®ã§ã¯æ–°ã—ãçŸ¥ã£ãŸã“ã¨ã‚’è‡ªåˆ†ãªã‚Šã«æ·±å €ã‚Šã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚(æ’ä¾‹åŒ–ã—ãŸã„)\nã¨ã„ã†ã®ã‚’å‰å›ã®ãƒ¬ãƒãƒ¼ãƒˆã§ã‚‚æ›¸ã„ãŸã®ã§ã€ä»Šå›ã‚‚ä¸€ã¤å–ã‚Šä¸Šã’ã¦ã¿ã¾ã™ã€‚\nAWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã®å–å¾— ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ã€ S3 ãƒã‚±ãƒƒãƒˆåãŒè¡çªã—ãªã„ã‚ˆã†ã«ãƒã‚±ãƒƒãƒˆåã« AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã‚’å«ã‚€ã‚ˆã†ã«ãªã£ã¦ãŠã‚Šã€ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ä¸‹è¨˜ã®ã‚ˆã†ãªã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã—ãŸã€‚\n$ AWS_ID=$( \\ aws sts get-caller-identity \\ --query \u0026#39;Account\u0026#39; \\ --output text \\ ) \\ \u0026amp;\u0026amp; echo ${AWS_ID} å®Ÿè¡Œã—ã¦ã„ã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯ sts get-caller-identity ã§ã€ãã®å‡ºåŠ›çµæœã‹ã‚‰ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID ã‚’ --query ã§æŠœãå‡ºã—ã¦ã„ã¾ã™ã€‚\nã“ã® sts get-caller-identity ã‚³ãƒãƒ³ãƒ‰ã§ãã‚‚ãã‚‚ä½•ã ï¼Ÿã¨ã„ã†ã®ã‚’èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚ã¨ã„ã£ã¦ã‚‚ã€ CLI ã®ãƒ˜ãƒ«ãƒ—ã‚’ç¢ºèªã§ã™ã€‚\n$ aws sts get-caller-identity help ... NAME get-caller-identity - DESCRIPTION Returns details about the IAM user or role whose credentials are used to call the operation. NOTE: No permissions are required to perform this operation. If an admin- istrator adds a policy to your IAM user or role that explicitly denies access to the sts:GetCallerIdentity action, you can still perform this operation. Permissions are not required because the same information is returned when an IAM user or role is denied access. To view an example response, see I Am Not Authorized to Per- form: iam:DeleteVirtualMFADevice in the IAM User Guide . See also: AWS API Documentation See \u0026#39;aws help\u0026#39; for descriptions of global parameters. SYNOPSIS get-caller-identity [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] [--cli-auto-prompt \u0026lt;value\u0026gt;] DESCRIPTION ã«ã‚‚ã‚ã‚‹ã‚ˆã†ã«ã€ CLI ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ ã¾ãŸã¯ IAM ãƒ­ãƒ¼ãƒ«ã®è©³ç´°ã‚’å–å¾—ã§ãã‚‹ã‚³ãƒãƒ³ãƒ‰ã®ã‚ˆã†ã§ã™ã€‚ --query ã§çµæœã‚’çµã‚‰ãšã«å®Ÿè¡Œã™ã‚‹ã¨ã€çµæœã¯ä¸‹è¨˜ã®é€šã‚Šã€‚\n$ aws sts get-caller-identity { \u0026#34;UserId\u0026#34;: \u0026#34;AROAJC7BA46AREMWOJDPW:i-12345abcde8cXXXXX\u0026#34;, \u0026#34;Account\u0026#34;: \u0026#34;1234XXXXXXXX\u0026#34;, \u0026#34;Arn\u0026#34;: \u0026#34;arn:aws:sts::1234XXXXXXXX:assumed-role/handson-cloud9-environment-role/i-12345abcde8cXXXXX\u0026#34; } Cloud 9 ç’°å¢ƒã§å®Ÿè¡Œã—ãŸã®ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã€ Arn ã¯ã‚¢ã‚¿ãƒƒãƒã•ã‚Œã¦ã„ã‚‹ IAM ãƒ­ãƒ¼ãƒ«ã®ã‚‚ã®ãŒå‡ºåŠ›ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã¡ãªã¿ã«ã“ã®ã‚³ãƒãƒ³ãƒ‰ã«é–¢ã—ã¦ã‚‚ã‚¯ãƒ©ãƒ¡ã‚½ã•ã‚“ã®ãƒ–ãƒ­ã‚°ãŒãƒ’ãƒƒãƒˆã—ã¾ã—ãŸã€‚\nè¨˜äº‹ã«ã‚ˆã‚‹ã¨ã€2016 å¹´ å½“æ™‚ã® AWS CLI ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 1.10.18 ã ã£ãŸã‚ˆã†ã§ã™ã€‚\nã¾ã¨ã‚ JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #168R S3åŸºç¤ Webã‚µã‚¤ãƒˆ\u0026amp;ãƒ­ã‚° ã®å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã§ã—ãŸã€‚\nä»Šå›ã¯ S3 ã® Static website hosting æ©Ÿèƒ½ã‚’ä½¿ã£ãŸã‚µã‚¤ãƒˆã®æ§‹ç¯‰ã¨ãƒ­ã‚°ã®ç¢ºèªã¨ã„ã†ã“ã¨ã§ã€ä»¥å‰ã« CDK ã§åŒã˜ã‚ˆã†ãªæ§‹æˆã‚’ä½œã£ã¦ã„ãŸå†…å®¹ã§ã—ãŸã€‚CDK ã ã¨å°‘ãªã„è¨˜è¿°ã§ã‚µã‚¯ãƒƒã¨ä½œã‚Œã¦æ¥½ã ãªãƒ¼ã¨æ€ã£ã¦ã„ãŸã®ã§ã€ãã‚Œã‚’ CLI ã§ã‚„ã‚‹ã¨ãªã‚‹ã¨ã¡ã‚‡ã£ã¨é¢å€’ãªã®ã§ã¯ï¼Ÿã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚å®Ÿéš›ã«ã‚„ã£ã¦ã¿ã‚‹ã¨ãã†æ€ã†éƒ¨åˆ†ã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€ã‚„ã¯ã‚Š CDK ã§æŠ½è±¡åŒ–ã•ã‚Œã¦ã„ã‚‹éƒ¨åˆ†ã«ã¤ã„ã¦ CLI ã®æ“ä½œã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ããŸã®ã§ã€ã‚ˆã‚Šç†è§£ãŒæ·±ã¾ã£ãŸæ°—ãŒã—ã¾ã™ã€‚\nå€‹äººçš„ã«ã¯åŒã˜æ§‹æˆã‚’é•ã†æ–¹æ³•ã§æ§‹ç¯‰ã—ã¦ã¿ã‚‹ã¨æ›´ã«ç†è§£ãŒæ·±ã¾ã‚‹ã¨ã„ã†æ„Ÿè¦šãŒã‚ã‚‹ã®ã§ã€ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã‚‚å¤§å¤‰å‹‰å¼·ã«ãªã‚Šã¾ã—ãŸã€‚\nã—ã°ã‚‰ãã¯ S3 ã«é–¢ã™ã‚‹å†…å®¹ãŒç¶šãã‚ˆã†ãªã®ã§ã€æ„å¤–ã¨çŸ¥ã‚‰ãªã„ S3 ã®æ©Ÿèƒ½è©³ç´°ã«ã¤ã„ã¦å‹‰å¼·ã—ã¦ã„ã‘ã‚‹ã¨ã„ã„ãªã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-jaws-ug-cli-168-s3-website-log/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #168R S3åŸºç¤ Webã‚µã‚¤ãƒˆ\u0026ãƒ­ã‚° ã«å‚åŠ ã—ã¾ã—ãŸ #jawsug_cli"
  },
  {
    "contents": "ä»Šå¹´ã®ã¯ã˜ã‚é ƒã«ç™»å ´ã—ãŸ GitHub CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 1.0 ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸã€‚ issue ã¨ã‹ PR ã®æ“ä½œãŒã§ãã‚‹ã¿ãŸã„ãªã®ã§è©¦ã—ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ GitHub CLI 1.0 is now available ä½¿ã£ã¦ã¿ã‚‹ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ãƒ˜ãƒ«ãƒ—ç¢ºèª ãƒ­ã‚°ã‚¤ãƒ³ Repository - repo Issue - issue Pull Request - pr ã¾ã¨ã‚ GitHub CLI 1.0 is now available ã“ã‚Œã¾ã§ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 0.12.0 ã§ã—ãŸãŒã€å…ˆæ—¥ 1.0.0 ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸã€‚\nGitHub CLI 1.0 is now available - The GitHub Blog Release GitHub CLI 1.0.0 Â· cli/cli ä½¿ã£ã¦ã¿ã‚‹ ã§ã¯ã€æ—©é€Ÿä½¿ã£ã¦ã¿ã¾ã™ã€‚\nä»Šå›ã¯ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‹ã‚‰å®Ÿéš›ã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ (Repository ã€ Issue ã€ Pull Request ã«é–¢ã™ã‚‹æ“ä½œ) ã¾ã§ã‚„ã£ã¦ã¿ã¾ã™ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« macOS ã®å ´åˆã€ Homebrew ã¾ãŸã¯ MacPorts ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã€‚ä»Šå›ã¯ Homebrew ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ brew install gh ... ==\u0026gt; Summary ğŸº /usr/local/Cellar/gh/1.0.0: 60 files, 16.2MB ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™ã€‚\n$ gh --version gh version 1.0.0 (2020-09-16) https://github.com/cli/cli/releases/tag/v1.0.0 ãƒ˜ãƒ«ãƒ—ç¢ºèª --help ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒ˜ãƒ«ãƒ—ã‚’ç¢ºèªã§ãã¾ã™ã€‚\n$ gh --help Work seamlessly with GitHub from the command line. USAGE gh \u0026lt;command\u0026gt; \u0026lt;subcommand\u0026gt; [flags] CORE COMMANDS gist: Create gists issue: Manage issues pr: Manage pull requests release: Manage GitHub releases repo: Create, clone, fork, and view repositories ADDITIONAL COMMANDS alias: Create command shortcuts api: Make an authenticated GitHub API request auth: Login, logout, and refresh your authentication completion: Generate shell completion scripts config: Manage configuration for gh help: Help about any command FLAGS --help Show help for command --version Show gh version EXAMPLES $ gh issue create $ gh repo clone cli/cli $ gh pr checkout 321 ENVIRONMENT VARIABLES See \u0026#39;gh help environment\u0026#39; for the list of supported environment variables. LEARN MORE Use \u0026#39;gh \u0026lt;command\u0026gt; \u0026lt;subcommand\u0026gt; --help\u0026#39; for more information about a command. Read the manual at https://cli.github.com/manual FEEDBACK Open an issue using \u0026#39;gh issue create -R cli/cli\u0026#39; å„ã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦ã‚‚ã€ --help ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§è©³ç´°ã‚’ç¢ºèªã§ãã¾ã™ã€‚ä¾‹ãˆã° issue ã«é–¢ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã®ãƒ˜ãƒ«ãƒ—ã¯æ¬¡ã®ã‚ˆã†ãªå†…å®¹ã«ãªã£ã¦ã¾ã™ã€‚\n$ gh issue --help Work with GitHub issues USAGE gh issue \u0026lt;command\u0026gt; [flags] CORE COMMANDS close: Close issue create: Create a new issue list: List and filter issues in this repository reopen: Reopen issue status: Show status of relevant issues view: View an issue FLAGS -R, --repo OWNER/REPO Select another repository using the OWNER/REPO format INHERITED FLAGS --help Show help for command ARGUMENTS An issue can be supplied as argument in any of the following formats: - by number, e.g. \u0026#34;123\u0026#34;; or - by URL, e.g. \u0026#34;https://github.com/OWNER/REPO/issues/123\u0026#34;. EXAMPLES $ gh issue list $ gh issue create --label bug $ gh issue view --web LEARN MORE Use \u0026#39;gh \u0026lt;command\u0026gt; \u0026lt;subcommand\u0026gt; --help\u0026#39; for more information about a command. Read the manual at https://cli.github.com/manual ãƒ­ã‚°ã‚¤ãƒ³ å„ã‚³ãƒãƒ³ãƒ‰ (ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰) ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã«ã¯ GitHub ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãƒ­ã‚°ã‚¤ãƒ³ã«ã¯ gh auth login ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€å¯¾è©±å½¢å¼ã§ãƒ­ã‚°ã‚¤ãƒ³ã‚’é€²ã‚ã¦ã„ãã¾ã™ã€‚\nã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ç¨®é¡ GitHub.com ã¾ãŸã¯ GitHub Enterprise ã‚’é¸æŠã—ã¾ã™ã€‚ä»Šå›ã¯ GitHub.com ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚\n? What account do you want to log into? [Use arrows to move, type to filter] \u0026gt; GitHub.com GitHub Enterprise Server ãƒ­ã‚°ã‚¤ãƒ³ã®æ–¹æ³• ãƒ­ã‚°ã‚¤ãƒ³æ–¹æ³•ã¨ã—ã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã€èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å…¥åŠ›ã™ã‚‹ã‹ã‚’é¸æŠã—ã¾ã™ã€‚ä»Šå›ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ä½¿ã„ã¾ã™ã€‚\n? How would you like to authenticate? [Use arrows to move, type to filter] \u0026gt; Login with a web browser Paste an authentication token ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é¸æŠã™ã‚‹ã¨ã€ãƒ¯ãƒ³ã‚¿ã‚¤ãƒ ã‚³ãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚ Enter ã‚­ãƒ¼ã‚’æŠ¼ã™ã¨ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚³ãƒ¼ãƒ‰å…¥åŠ›ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n! First copy your one-time code: EFD5-CC5F - Press Enter to open github.com in your browser... ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã¨èªè¨¼ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€èªè¨¼ã—ã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ—ãƒ­ãƒˆã‚³ãƒ« ãƒªãƒã‚¸ãƒˆãƒªã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹éš›ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’é¸æŠã—ã¾ã™ã€‚ä»Šå›ã¯ SSH ã‚’é¸æŠã—ã¾ã™ã€‚\n? Choose default git protocol [Use arrows to move, type to filter] HTTPS \u0026gt; SSH ä»¥ä¸Šã§ãƒ­ã‚°ã‚¤ãƒ³ã¯å®Œäº†ã§ã™ã€‚\nâœ“ Logged in as michimani è©¦ã—ã«ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã®ãƒ˜ãƒ«ãƒ—ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ gh issue create --help Create a new issue USAGE gh issue create [flags] FLAGS -a, --assignee login Assign people by their login -b, --body string Supply a body. Will prompt for one otherwise. -l, --label name Add labels by name -m, --milestone name Add the issue to a milestone by name -p, --project name Add the issue to projects by name -t, --title string Supply a title. Will prompt for one otherwise. -w, --web Open the browser to create an issue INHERITED FLAGS --help Show help for command -R, --repo OWNER/REPO Select another repository using the OWNER/REPO format EXAMPLES $ gh issue create --title \u0026#34;I found a bug\u0026#34; --body \u0026#34;Nothing works\u0026#34; $ gh issue create --label \u0026#34;bug,help wanted\u0026#34; $ gh issue create --label bug --label \u0026#34;help wanted\u0026#34; $ gh issue create --assignee monalisa,hubot $ gh issue create --project \u0026#34;Roadmap\u0026#34; LEARN MORE Use \u0026#39;gh \u0026lt;command\u0026gt; \u0026lt;subcommand\u0026gt; --help\u0026#39; for more information about a command. Read the manual at https://cli.github.com/manual Repository - repo repo ã‚³ãƒãƒ³ãƒ‰ã§ã¯ãƒªãƒã‚¸ãƒˆãƒªã«é–¢ã™ã‚‹æ“ä½œã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚\n$ gh repo --help Work with GitHub repositories USAGE gh repo \u0026lt;command\u0026gt; [flags] CORE COMMANDS clone: Clone a repository locally create: Create a new repository fork: Create a fork of a repository view: View a repository create ã¾ãšã¯ create ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã¦ã¿ã¾ã™ã€‚\n$ gh repo create sandbox-repo \\ --description \u0026#34;This is a sandbox repository.\u0026#34; \\ --public ? This will create \u0026#39;sandbox-repo\u0026#39; in your current directory. Continue? Yes âœ“ Created repository michimani/sandbox-repo on GitHub ? Create a local project directory for michimani/sandbox-repo? No å®Ÿè¡Œã™ã‚‹ã¨ã€æœ¬å½“ã«ä½œã£ã¦ã‚‚ã‚ˆã„ã‹ç¢ºèªã•ã‚Œã‚‹ã®ã§ Y ã§ç¶šã‘ã¾ã™ã€‚\næ¬¡ã«ã€ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚‹ã‹èã‹ã‚Œã¾ã™ã€‚ä»Šå›ã¯ä½œã‚Šã¾ã›ã‚“ã€‚ (ã‚ã¨ã§ clone ã‚’è©¦ã™ã®ã§)\nclone å‹•ä½œã¯ git clone ã¨åŒã˜ã§ã™ã€‚\n$ gh repo clone michimani/sandbox-repo Cloning into \u0026#39;sandbox-repo\u0026#39;... warning: You appear to have cloned an empty repository. $ cd sandbox-repo $ git remote -v origin\tgit@github.com:michimani/sandbox-repo.git (fetch) origin\tgit@github.com:michimani/sandbox-repo.git (push) ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ—ãƒ­ãƒˆã‚³ãƒ«ã« SSH ã‚’é¸æŠã—ãŸã®ã§ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã® URL ã‚‚ SSH ã®ã‚‚ã®ã«ãªã£ã¦ã„ã¾ã™ã€‚\nclone ã—ãŸã‚‰ã€ã¨ã‚Šã‚ãˆãš README.md ã ã‘ä½œæˆã—ã¦ push ã—ã¦ãŠãã¾ã™ã€‚\nview view ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§ã¯ã€æŒ‡å®šã—ãŸãƒªãƒã‚¸ãƒˆãƒªã®èª¬æ˜ã€ README ã®å†…å®¹ã‚’ç¢ºèªã§ãã¾ã™ã€‚\n$ gh repo view michimani/sandbox-repo michimani/sandbox-repo This is a sandbox repository. sandbox-repo This is a sandbox. View this repository on GitHub: https://github.com/michimani/sandbox-repo -w ã¾ãŸã¯ --web ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã‚‹ã¨ã€ãƒªãƒã‚¸ãƒˆãƒªã®ãƒšãƒ¼ã‚¸ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ãã¾ã™ã€‚\nIssue - issue issue ã‚³ãƒãƒ³ãƒ‰ã§ã¯ Issue ã«é–¢ã™ã‚‹æ“ä½œã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚\n$ gh issue --help Work with GitHub issues USAGE gh issue \u0026lt;command\u0026gt; [flags] CORE COMMANDS close: Close issue create: Create a new issue list: List and filter issues in this repository reopen: Reopen issue status: Show status of relevant issues view: View an issue create ã¾ãšã¯ create ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§ issue ã‚’ä½œæˆã—ã¾ã™ã€‚\n$ gh issue create \\ --title \u0026#34;The first issue\u0026#34; \\ --body \u0026#34;This is the first issue\u0026#34; Creating issue in michimani/sandbox-repo https://github.com/michimani/sandbox-repo/issues/1 ã¡ãªã¿ã«ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä»¥å¤–ã§ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ fatal: not a git repository (or any of the parent directories): .git ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚\nlist list ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§ issue ã®ä¸€è¦§ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚\n$ gh issue list Showing 1 of 1 open issue in michimani/sandbox-repo #1 The first issue about 2 minutes ago ä¸‹è¨˜ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã§ãã¾ã™ã€‚\nã‚ªãƒ—ã‚·ãƒ§ãƒ³ ãƒ•ã‚£ãƒ«ã‚¿å¯¾è±¡ -a, \u0026ndash;assignee string Filter by assignee -A, \u0026ndash;author string Filter by author -l, \u0026ndash;label strings Filter by labels \u0026ndash;mention string Filter by mention -m, \u0026ndash;milestone number Filter by milestone number or title -s, \u0026ndash;state string Filter by state: {open|closed|all} (default \u0026ldquo;open\u0026rdquo;) view view ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§ issue ã®è©³ç´°ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚\n$ gh issue view 1 The first issue Open â€¢ michimani opened about 8 minutes ago â€¢ 0 comments This is the first issue View this issue on GitHub: https://github.com/michimani/sandbox-repo/issues/1 è¡¨ç¤ºã•ã‚Œã‚‹ã®ã¯ issue ã®ã‚¿ã‚¤ãƒˆãƒ«ã¨èª¬æ˜ã§ã™ã€‚\n-w ã¾ãŸã¯ --web ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ã§ issue ã®ãƒšãƒ¼ã‚¸ã‚’é–‹ãã¾ã™ã€‚\nstatus status ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§ã¯ã€ãƒªãƒã‚¸ãƒˆãƒªã® è‡ªåˆ†ã«ã‚¢ã‚µã‚¤ãƒ³ã•ã‚ŒãŸ issue ã€ è‡ªåˆ†ã«ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã•ã‚ŒãŸ issue ã€ ã‚ªãƒ¼ãƒ—ãƒ³ãª issue ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚\n$ gh issue status Relevant issues in michimani/sandbox-repo Issues assigned to you #2 The second issue less than a minute ago Issues mentioning you There are no issues mentioning you Issues opened by you #2 The second issue less than a minute ago #1 The first issue about 6 minutes ago close close ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§ issue ã‚’ close ã—ã¾ã™ã€‚\n$ gh issue close 1 âœ” Closed issue #1 (The first issue) close ã•ã‚ŒãŸ issue ã®ä¸€è¦§ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ gh issue list --state closed Showing 1 of 1 issue in michimani/sandbox-repo that matches your search #1 The first issue about 1 minute ago Pull Request - pr pr ã‚³ãƒãƒ³ãƒ‰ã§ã¯ Pull Request ã«é–¢ã™ã‚‹æ“ä½œã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚\n$ gh pr --help Work with GitHub pull requests USAGE gh pr \u0026lt;command\u0026gt; [flags] CORE COMMANDS checkout: Check out a pull request in git checks: Show CI status for a single pull request close: Close a pull request create: Create a pull request diff: View changes in a pull request list: List and filter pull requests in this repository merge: Merge a pull request ready: Mark a pull request as ready for review reopen: Reopen a pull request review: Add a review to a pull request status: Show status of relevant pull requests view: View a pull request create ã¾ãšã¯ create ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§ Pull Request ã‚’ä½œæˆã—ã¾ã™ã€‚\n$ gh pr create \\ --base master \\ --head sample-pr \\ --title \u0026#34;The first PR\u0026#34; \\ --body \u0026#34;This is the first pull request.\u0026#34; Creating pull request for sample-pr into master in michimani/sandbox-repo https://github.com/michimani/sandbox-repo/pull/3 --head ã§æŒ‡å®šã™ã‚‹ãƒ–ãƒ©ãƒ³ãƒã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç¾åœ¨ã®ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒãŒæŒ‡å®šã•ã‚Œã‚‹ã®ã§çœç•¥å¯èƒ½ã§ã™ã€‚\nlist list ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§ Pull Request ã®ä¸€è¦§ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚\n$ gh pr list Showing 1 of 1 open pull request in michimani/sandbox-repo #3 The first PR sample-pr ä¸‹è¨˜ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã§ãã¾ã™ã€‚\nã‚ªãƒ—ã‚·ãƒ§ãƒ³ ãƒ•ã‚£ãƒ«ã‚¿å¯¾è±¡ -a, \u0026ndash;assignee string Filter by assignee -B, \u0026ndash;base string Filter by base branch -l, \u0026ndash;label strings Filter by labels -s, \u0026ndash;state string Filter by state: {open|closed|merged|all} (default \u0026ldquo;open\u0026rdquo;) diff diff ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§ Pull Request ã®å·®åˆ†ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚\n$ gh pr diff 3 diff --git a/README.md b/README.md index 759b875..e696948 100644 --- a/README.md +++ b/README.md @@ -3,3 +3,5 @@ sandbox-repo This is a sandbox. +1. hoge + review review ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§ã¯ã€ Pull Request ã«å¯¾ã—ã¦ãƒ¬ãƒ“ãƒ¥ãƒ¼ (ã‚³ãƒ¡ãƒ³ãƒˆ) ã‚’ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n$ gh pr review 3 \\ --body \u0026#34;This is a review comment\u0026#34; \\ --comment - Reviewed pull request #3 --comment ã®ä»£ã‚ã‚Šã« --approve ã¾ãŸã¯ --request-changes ã‚’æŒ‡å®šã™ã‚Œã°ã€å¤‰æ›´è¦æ±‚ã€æ‰¿èªã‚’ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚è‡ªåˆ†è‡ªèº«ãŒä½œæˆã—ãŸ Pull Request ã«å¯¾ã—ã¦ã¯ --comment ã®ã¿ä½¿ãˆã¾ã™ã€‚\n$ gh pr review 3 \\ --body \u0026#34;This is a approve comment\u0026#34; \\ --approve failed to create review: Can not approve your own pull request merge merge ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§ Pull Request ã‚’ãƒãƒ¼ã‚¸ã—ã¾ã™ã€‚\n$ gh pr merge 3 \\ --squash âœ” Squashed and merged pull request #3 (The first PR) âœ” Deleted branch sample-pr and switched to branch master ãƒãƒ¼ã‚¸ã®æ–¹æ³•ã¯ãã‚Œãã‚Œä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§æŒ‡å®šã—ã¾ã™ã€‚\nã‚ªãƒ—ã‚·ãƒ§ãƒ³ ãƒãƒ¼ã‚¸æ–¹æ³• -m, \u0026ndash;merge Merge the commits with the base branch -r, \u0026ndash;rebase Rebase the commits onto the base branch -s, \u0026ndash;squash Squash the commits into one commit and merge it into the base branch ãƒãƒ¼ã‚¸å…ƒã®ãƒ–ãƒ©ãƒ³ãƒã¯ãƒãƒ¼ã‚¸å¾Œã«å‰Šé™¤ã•ã‚Œã‚‹ã®ã§ã€ã‚‚ã—å‰Šé™¤ã—ãŸããªã„å ´åˆã¯ --delete-branch=false ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nview view ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§ã¯ Pull Request ã®æ¦‚è¦ (ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹) ã‚’ç¢ºèªã§ãã¾ã™ã€‚\n$ gh pr view 3 The first PR Merged â€¢ michimani wants to merge 1 commit into master from sample-pr This is the first pull request. View this pull request on GitHub: https://github.com/michimani/sandbox-repo/pull/3 ã¾ã¨ã‚ GitHub CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 1.0 ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸã®ã§ã€æ™®æ®µã‹ã‚‰ä½¿ã„ãã†ãªã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦è©¦ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nå„ã‚³ãƒãƒ³ãƒ‰ã€ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦ã¯ --help ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§è©³ç´°ã‚’ç¢ºèªã§ãã¾ã™ã€‚ã‚³ãƒãƒ³ãƒ‰ã‚„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªã®ã§ã€ã‚³ãƒãƒ³ãƒ‰ã‚„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è©³ç´°ã«é–¢ã—ã¦ã¯ãƒ˜ãƒ«ãƒ—ã‚’è¦‹ã‚Œã°ã»ã¼ã»ã¼ã‚ã‹ã‚Šã¾ã™ã€‚\nãƒ­ãƒ¼ã‚«ãƒ«ã§ä½œæ¥­ã—ã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚‹ .git ã‚’å…ƒã«ã—ã¦ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œå¯¾è±¡ã®ãƒªãƒã‚¸ãƒˆãƒªãŒåˆ¤å®šã•ã‚Œã‚‹ã®ã§ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒã‚’ Push ã€ãã®ã¾ã¾ãƒ­ãƒ¼ã‚«ãƒ«ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‹ã‚‰ Pull Request ã®ä½œæˆã¾ã§ã§ãã‚‹ã®ã¯ä¾¿åˆ©ã ãªã¨æ€ã„ã¾ã—ãŸã€‚\nAWS ã¨é•ã£ã¦ GitHub ã¯ GUI ãŒé »ç¹ã«å¤‰ã‚ã‚‹ã‚ˆã†ãªã“ã¨ã¯ãªã„ã§ã™ãŒã€ CLI ã§æ“ä½œã§ãã‚Œã°ã ã„ã¶ä½œæ¥­ã‚’åŠ¹ç‡åŒ–ã§ããã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/development-get-started-to-use-github-cli/",
    "title": "GitHub CLI 1.0 ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸã®ã§ä¸€é€šã‚Šè§¦ã£ã¦ã¿ã‚‹"
  },
  {
    "contents": "ã“ã‚Œã¾ã§è‰²ã‚“ãªã‚¤ãƒ™ãƒ³ãƒˆã§ç´¹ä»‹ã•ã‚Œã¦ããŸ AWS Amplify ã®æ©Ÿèƒ½ã§ã‚ã‚‹ Amplify Console ã‚’ã€é‡ã„è…°ã‚’ä¸Šã’ã¦è©¦ã—ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚å…ˆæ—¥é–‹å‚¬ã•ã‚ŒãŸ 24æ™‚é–“ã®æŠ€è¡“ã‚¤ãƒ™ãƒ³ãƒˆ JAWS SONIC 2020 ã§ã‚‚ã„ãã¤ã‹ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§å–ã‚Šä¸Šã’ã‚‰ã‚Œã¦ã„ãŸã®ã§ã€ãã‚Œã‚‚å¾ŒæŠ¼ã—ã«ãªã£ã¦ã„ã¾ã™ã€‚\nã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰ã€‚\nJAWS SONIC 2020 \u0026amp;amp; MIDNIGHT JAWS 2020 ç›®æ¬¡ JAWS SONIC 2020 ã§ã®é–¢é€£ã‚»ãƒƒã‚·ãƒ§ãƒ³ ã‚„ã‚‹ã“ã¨ Hugo ã‚µã‚¤ãƒˆã‚’ä½œæˆ Amplify Console ã§ã‚¢ãƒ—ãƒªä½œæˆ ã‚¢ãƒ—ãƒªã®ä½œæˆ å¤±æ•—ã—ã¾ã—ãŸ Hugo ã«è¨˜äº‹ã‚’è¿½åŠ ã—ã¦å†ãƒ“ãƒ«ãƒ‰ ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆç’°å¢ƒã®æœ‰åŠ¹åŒ– ã¾ã¨ã‚ JAWS SONIC 2020 ã§ã®é–¢é€£ã‚»ãƒƒã‚·ãƒ§ãƒ³ JAWS SONIC 2020 ã§ã¯ä¸‹è¨˜ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ Amplify Console ã«ã¤ã„ã¦è§¦ã‚Œã‚‰ã‚Œã¦ã„ã¾ã—ãŸã€‚(ç§ãŒè¦–è´ã—ã¦ã„ãŸåˆ†ã«é™ã‚Šã¾ã™ğŸ™‡ğŸ»â€â™‚ï¸)\n[JAWS-UG æ–°æ½Ÿæ”¯éƒ¨][9/12(åœŸ) 21:00 ï½ 21:20]AWSã®ç ”ä¿®ç’°å¢ƒæ§‹ç¯‰ã®ãŸã‚ã«AWS CDKã¨Amplify Consoleä½¿ã£ãŸè©± â”‚ JAWS SONIC 2020 \u0026amp;amp; MIDNIGHT JAWS 2020 [JAWS-UGåå¤å±‹][9/13(æ—¥) 16:40 ï½ 17:00]AWSã‚µãƒ¼ãƒ“ã‚¹ã§JAMStackã®æ§‹ç¯‰ã‚’ã—ã¦ã¿ãŸ â”‚ JAWS SONIC 2020 \u0026amp;amp; MIDNIGHT JAWS 2020 ã‚„ã‚‹ã“ã¨ ä»Šå›ã¯ã€ Amplify Console ã‚’ä½¿ã£ã¦ Hugo ã§ä½œã£ãŸã‚µã‚¤ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ã¾ã™ã€‚ã¾ãŸã€æ™®é€šã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã ã‘ã§ãªãã€ ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š ã¨ ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ ã‚‚è©¦ã—ã¦ã¿ã¾ã™ã€‚\nHugo ã‚µã‚¤ãƒˆã‚’ä½œæˆ ã¾ãšã¯ Hugo ã§ã‚µã‚¤ãƒˆã‚’ä½œã‚Šã¾ã™ã€‚åŸºæœ¬çš„ã«ã¯ Hugo å…¬å¼ã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆé€šã‚Šã§ã™ã€‚\nQuick Start | Hugo Hugo ã¯ç¾æ™‚ç‚¹ã§æœ€æ–°ã® 0.75.1 ã‚’ä½¿ã„ã¾ã™ã€‚\n$ hugo version Hugo Static Site Generator v0.75.1/extended darwin/amd64 BuildDate: unknown ä»Šå›ã¯ hugo-amplify-console ã¨ã„ã†åå‰ã®ã‚µã‚¤ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\n$ hugo new site hugo-amplify-console $ cd hugo-amplify-console Hugo ã®ãƒ†ãƒ¼ãƒã¯ã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã¨åŒã˜ ananke ã‚’ä½¿ã„ã¾ã™ã€‚\n$ git init $ git submodule add https://github.com/budparr/gohugo-theme-ananke.git themes/ananke $ echo \u0026#39;\\ntheme = \u0026#34;ananke\u0026#34;\u0026#39; \u0026gt;\u0026gt; config.toml ã“ã‚Œã§æœ€ä½é™ã®ã‚µã‚¤ãƒˆã¯å®Œæˆã—ãŸã®ã§ã€ GitHub ã®ãƒªãƒã‚¸ãƒˆãƒªã« Push ã—ã¦ãŠãã¾ã™ã€‚\n$ git add . $ git commit -m \u0026#34;initial commit\u0026#34; $ git remote add origin git@github.com:michimani/hugo-amplify-console.git $ git push origin master:master Amplify Console ã§ã‚¢ãƒ—ãƒªä½œæˆ ä»Šå›ã¯ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ãƒãƒãƒãƒã‚„ã£ã¦ã„ãã¾ã™ã€‚\nã‚¢ãƒ—ãƒªã®ä½œæˆ ã‚¢ãƒ—ãƒªã®ä½œæˆ ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ä½œæˆæ‰‹é †ã‚’é€²ã‚ã¾ã™ã€‚\nã‚¹ãƒ†ãƒƒãƒ— 1 : ãƒªãƒã‚¸ãƒˆãƒªã®è¨­å®š ã¾ãšæœ€åˆã«æ¥ç¶šã™ã‚‹ Git ãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠã—ã¾ã™ã€‚ä»Šå›ã¯ GitHub ãªã®ã§ã€ GitHub ã‚’é¸æŠã—ã¦æ¬¡ã¸ã€‚\nGitHub ã¨ Amplify ã®é€£æºèªè¨¼ç”»é¢ã«é·ç§»ã™ã‚‹ã®ã§ã€èªè¨¼ã—ã¦ç¶šã‘ã¾ã™ã€‚\nGitHub ã¨ã®èªè¨¼ãŒæˆåŠŸã—ãŸã‚‰ã€æ¥ç¶šã™ã‚‹å¯¾è±¡ã®ãƒªãƒã‚¸ãƒˆãƒªã¨ãƒ–ãƒ©ãƒ³ãƒã‚’é¸æŠã—ã¾ã™ã€‚ä»Šå›ã¯ michimani/hugo-amplify-console ã¨æ¥ç¶šã—ã€å¯¾è±¡ã®ãƒ–ãƒ©ãƒ³ãƒã¯ master ã¨ã—ã¾ã™ã€‚\nã‚¹ãƒ†ãƒƒãƒ— 2 : ãƒ“ãƒ«ãƒ‰è¨­å®š æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¯ãƒ“ãƒ«ãƒ‰è¨­å®šã®æ§‹æˆã§ã€ ãƒ“ãƒ«ãƒ‰è¨­å®š (ãƒ“ãƒ«ãƒ‰ã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ç­‰) ã‚’è¨˜è¿°ã—ã¾ã™ã€‚ CodeBuild ã® buildspec.yml ã¿ãŸã„ãªæ„Ÿã˜ã§ã™ã€‚\nã“ã“ã§å‡„ã„ãªã¨æ€ã£ãŸã®ãŒã€ãƒ“ãƒ«ãƒ‰è¨­å®šã¯æ¥ç¶šã—ãŸãƒªãƒã‚¸ãƒˆãƒªã®å†…å®¹ã‹ã‚‰è‡ªå‹•æ¤œå‡ºã•ã‚Œã‚‹ã¨ã„ã†ç‚¹ã§ã™ã€‚ä»Šå›ã§ã‚ã‚Œã° Hugo ã®ã‚µã‚¤ãƒˆãªã®ã§ã€ãƒ“ãƒ«ãƒ‰ã«ã¯ hugo ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€æˆæœç‰©ã¯ public ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç”Ÿæˆã•ã‚Œã¾ã™ã€‚\nè‡ªå‹•æ¤œå‡ºã•ã‚ŒãŸãƒ“ãƒ«ãƒ‰è¨­å®šã¯ãã‚Œã‚‰ã‚’è€ƒæ…®ã—ãŸå†…å®¹ã«ãªã£ã¦ãŠã‚Šã€ç‰¹ã«å¤‰æ›´ã™ã‚‹å¿…è¦ã‚‚ãªããã®ã¾ã¾æ¬¡ã¸é€²ã¿ã¾ã™ã€‚\nã‚¹ãƒ†ãƒƒãƒ— 3 : ç¢ºèª æœ€å¾Œã«å†…å®¹ã‚’ç¢ºèªã—ã¦ã€ã‚¢ãƒ—ãƒªã‚’ä¿å­˜ã—ã¾ã™ã€‚\nä¿å­˜å¾Œã¯åˆå›ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå§‹ã¾ã‚‹ã®ã§ã€è¦‹å®ˆã‚Šã¾ã™ã€‚\nå¤±æ•—ã—ã¾ã—ãŸ åˆå›ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã¯å¤±æ•—ã—ã¾ã—ãŸã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¦‹ã‚‹ã¨ã€ã©ã†ã‚„ã‚‰è¨˜äº‹ãŒ 1 ã¤ã‚‚ãªã„ã“ã¨ã§ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚ã¨ã¯ã„ãˆã€é †ç•ªã«ãƒãƒãƒãƒã—ã¦ã„ãã ã‘ã§ã‚¢ãƒ—ãƒªã®è¨­å®šãŒã§ããŸã®ã¯ã€ãªã‚“ã¨ã„ã†ã‹ã€ã‚ã£ã‘ãªã„ã§ã™ã­ã€‚\nHugo ã«è¨˜äº‹ã‚’è¿½åŠ ã—ã¦å†ãƒ“ãƒ«ãƒ‰ ã‚¨ãƒ©ãƒ¼ã‚’è§£æ¶ˆã™ã‚‹ã¹ãã€ Hugo ã«è¨˜äº‹ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã™ã€‚\n$ hugo new posts/initial-post.md draft ã¯ false ã«å¤‰æ›´ã—ã¾ã™ã€‚\n--- title: \u0026#34;Initial Post\u0026#34; date: 2020-09-17T07:20:57+09:00 - draft: true + draft: false --- ä½œæˆã—ãŸè¨˜äº‹ã‚’ Push ã™ã‚‹ã¨å†åº¦ãƒ“ãƒ«ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã€ä»Šå›ã¯ç„¡äº‹ã«ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå®Œäº†ã—ã¾ã—ãŸã€‚\nãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã® URL ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nã‚ã¡ã‚ƒãã¡ã‚ƒç°¡å˜ã§ã™ã­ã€‚\nã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç”Ÿæˆã•ã‚Œã‚‹ URL ã¯ https://{ãƒ–ãƒ©ãƒ³ãƒå}.{ãƒãƒƒã‚·ãƒ¥}.amplify.com ã¨ã„ã†å½¢å¼ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¨­å®šã—ã¦ã¿ã¾ã™ã€‚\nAmplify Console ã®ã‚¢ãƒ—ãƒªç”»é¢ã«ã¯æ¬¡ã®ã‚­ãƒ£ãƒ—ãƒãƒ£ã®ã‚ˆã†ãªãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã®ä¸­ã‹ã‚‰ Add a custom domain with a free SSL certificate ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è¨­å®šã‚’é€²ã‚ã¾ã™ã€‚\nå³ä¸Šã® ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è¿½åŠ  ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ‰ãƒ¡ã‚¤ãƒ³è¿½åŠ ã«é€²ã¿ã¾ã™ã€‚\nä»Šå›ã¯æ—¢ã« Route 53 ã§ç®¡ç†ã—ã¦ã„ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ã„ã¾ã™ã€‚ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’å½“ã¦ã‚‹ã¨ Route 53 ã§ç®¡ç†ã—ã¦ã„ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒå€™è£œã«å‡ºã¦ãã‚‹ã®ã§ã€é¸æŠã—ã¦ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æ¤œç´¢ ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\nmichimani.net ã¯æ—¢ã«ã“ã®ãƒ–ãƒ­ã‚°ã§ä½¿ã£ã¦ã„ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ãªã®ã§ã€ Exclude root ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç„¡åŠ¹åŒ–ã—ã¦ãŠãã¾ã™ã€‚ãã—ã¦ã€ä»Šå›ã¯ hugo-amplify.michimani.net ã¨ã„ã†ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¨­å®šã—ã¾ã™ã€‚\nã¡ãªã¿ã«ã€ è¿½åŠ  ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®šã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ä¾‹ãˆã° develop ãƒ–ãƒ©ãƒ³ãƒã« dev.*** ã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¨­å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\nè¨­å®šã‚’ä¿å­˜ã™ã‚‹ã¨ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ç®¡ç†ç”»é¢ã«è¨­å®šã®é€²è¡ŒçŠ¶æ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nè¨­å®šã®é †ç•ªã¨ã—ã¦ã¯ã€\nSSL creation SSL configuration Domain activation ã¨ãªã£ã¦ãŠã‚Šã€æœ€å¾Œã® 3. Domain activation ã¾ã§ã¯ç´„ 5 åˆ†ãã‚‰ã„ã§å®Œäº†ã—ã¾ã—ãŸã€‚ 3. Domain activation ãƒ•ã‚§ãƒ¼ã‚ºã«ç§»è¡Œã™ã‚‹ã¨ Status details ã«ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nWe verified domain ownership. We are propagating your custom domain to our global content delivery network which could take up to 30 minutes.\nãƒ‰ãƒ¡ã‚¤ãƒ³ã®æœ‰åŠ¹åŒ–ã«ã¯æœ€å¤§ 30 åˆ†ã‹ã‹ã‚‹ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€30 åˆ†çµŒãŸãšã¨ã‚‚è¨­å®šã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã—ãŸã€‚\nã‚ã¡ã‚ƒãã¡ã‚ƒç°¡å˜ã§ã™ã­ã€‚\nãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆç’°å¢ƒã®æœ‰åŠ¹åŒ– ä»Šå›ã®æœ€å¾Œã¯ã€ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒä½œæˆã•ã‚ŒãŸéš›ã«ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ã™ã‚‹ã¨ã„ã†è¨­å®šã§ã™ã€‚\nã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã¨ãã¨åŒæ§˜ã«ã€ã‚¢ãƒ—ãƒªç”»é¢ã®ãƒˆãƒƒãƒ—ã«è¡¨ç¤ºã•ã‚ŒãŸ Enable pull request previews ã‹ã‚‰è¨­å®šã‚’é€²ã‚ã¾ã™ã€‚\nGitHub app ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚ˆã†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ Install GitHub app ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦é€²ã¿ã¾ã™ã€‚\nåˆ¥ã‚¿ãƒ–ã§ GitHub å´ã®è¨­å®šç”»é¢ãŒé–‹ãã®ã§ã€è«¸ã€…è¨­å®šã‚’ã—ã¦ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«å´ã«æˆ»ã‚Šã¾ã™ã€‚ã™ã‚‹ã¨ã€ Previews ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã®ã§ã€å¯¾è±¡ã®ãƒ–ãƒ©ãƒ³ãƒã‚’é¸æŠã—ã¦ Preview Stratus ã‚’ Enabled ã«å¤‰æ›´ã—ã¾ã™ã€‚\nãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆã—ã¦ã¿ã‚‹ ã§ã¯ã€æ—©é€Ÿ master ã¸ã®ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆã—ã¦ã¿ã¾ã™ã€‚å¤‰æ›´å†…å®¹ã¯ã€å…ˆã»ã©ä½œæˆã—ãŸè¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«å¤‰æ›´ã§ã™ã€‚\n--- - title: \u0026#34;Initial Post\u0026#34; + title: \u0026#34;Initial Post - Pull Request\u0026#34; date: 2020-09-17T07:20:57+09:00 draft: false --- PR ã‚’ä½œæˆã™ã‚‹ã¨ã€ã‚­ãƒ£ãƒ—ãƒãƒ£ç”»åƒã®ã‚ˆã†ã« GitHub å´ã§ã‚‚ Amplify Console ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nãƒã‚§ãƒƒã‚¯ãŒå®Œäº†ã™ã‚‹ã¨ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«å´ã§ã‚‚ Previews ã« PR ã®å†…å®¹ãŒ Preview URL ã¨ã¨ã‚‚ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚\nã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€ PR ã®å†…å®¹ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã‚ã¡ã‚ƒãã¡ã‚ƒç°¡å˜ã§ã™ã­ã€‚\nã¾ã¨ã‚ Amplify Console ã‚’ä½¿ã£ã¦ Hugo ã§ä½œã£ãŸã‚µã‚¤ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nAmplify ã«é–¢ã—ã¦ã¯ AWS ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ Amplify Framework ã®æ–¹ã ã‘ã¯è§¦ã£ãŸã“ã¨ãŒã‚ã‚Šã¾ã—ãŸ (ã‚‚ã—ã‹ã—ãŸã‚‰ Amplify Console ã«ã‚‚è§¦ã‚Œã¦ã„ãŸã‹ã‚‚\u0026hellip;)ã€‚ãŸã ã€æ‰‹é †ã‚’è¿½ã†ã®ã§ç²¾ã„ã£ã±ã„ã§ã€ãã‚Œä»¥é™å…¨ãè§¦ã‚Œã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚\nå…ˆæ—¥ã® JAWS SONIC 2020 ã§ã‚‚ Amplify Console ã«è§¦ã‚Œã‚‰ã‚Œã¦ã„ãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒã„ãã¤ã‹ã‚ã£ãŸã®ã§ã€ä»Šå› é‡ã„è…°ã‚’ä¸Šã’ã¦è©¦ã—ã¦ã¿ãŸã‚ã‘ã§ã™ã€‚æ„Ÿæƒ³ã¨ã—ã¦ã¯ã€è«¸ã€…ã®ã“ã¨ãŒã‚ã¡ã‚ƒãã¡ã‚ƒç°¡å˜ã§ãƒ“ãƒƒã‚¯ãƒªã€ã§ã™ã€‚\nã“ã®ãƒ–ãƒ­ã‚°ã‚‚ Hugo ã§ä½œã£ã¦ãŠã‚Šã€ãƒ‡ãƒ—ãƒ­ã‚¤ã¯ CodeBuild ã§ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯ Route 53 ã¨ ACM ã‚’ä½¿ã£ã¦ãƒãƒãƒãƒã¨è¨­å®šã—ã¾ã—ãŸã€‚ãã‚Œã«æ¯”ã¹ã‚‹ã¨ Amplify Console ã§ã¯ãã‚Œãã‚Œã®è¨­å®šã‚’æ•°ã‚¹ãƒ†ãƒƒãƒ—ã§å®Œäº†ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ã“ã‚Œã ã‘ã§ã„ã„ã®ï¼Ÿã£ã¦æ€ã£ã¦ã—ã¾ã†ãã‚‰ã„ã§ã—ãŸã€‚\nAmplify ã¨ä¸€å£ã«è¨€ã£ã¦ã‚‚ Amplify Framework ã¨ Amplify Console ã¯åˆ¥ç‰©ãªã®ã§ã€ Amplify Console ã ã‘ã‚µã‚¯ãƒƒã¨ä½¿ã£ã¦ã¿ã‚‹ã®ã‚‚ã„ã„ãªã€œã¨æ€ã„ã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/aws-deploy-hugo-using-amplify-console/",
    "title": "Amplify Console ã‚’ä½¿ã£ã¦ Hugo ã§ä½œã£ãŸã‚µã‚¤ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ #jawssonic2020"
  },
  {
    "contents": "å…ˆæ—¥é–‹å‚¬ã•ã‚ŒãŸ 24æ™‚é–“ã®æŠ€è¡“ã‚¤ãƒ™ãƒ³ãƒˆ JAWS SONIC 2020 ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³å†…ã§åˆã‚ã¦çŸ¥ã£ãŸ Moto ã‚’è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚\nã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰ã€‚\nâ”‚JAWS SONIC 2020 \u0026amp;amp; MIDNIGHT JAWS 2020 ã‚¤ãƒ™ãƒ³ãƒˆã¯ 24 æ™‚é–“é–‹å‚¬ã¨ã„ã†ã“ã¨ã§ã€ Twitter ã§ã‚‚ #jawssonic2020 ã®ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã§å¤§ç››ã‚Šã‚ãŒã‚Šã§ã—ãŸã€‚é‹å–¶ã®ã¿ãªã•ã¾ã€ç™»å£‡ã•ã‚ŒãŸã¿ãªã•ã¾ã€æœ¬å½“ã«ãŠç–²ã‚Œã•ã¾ã§ã—ãŸ ï¼† ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼\nç›®æ¬¡ JAWS-UG é•·é‡æ”¯éƒ¨ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ Moto ã¨ã¯ ä½¿ã£ã¦ã¿ã‚‹ å¯¾è±¡ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ ã¾ã¨ã‚ JAWS-UG é•·é‡æ”¯éƒ¨ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ ä»Šå›è©¦ã™ Moto ã«é–¢ã™ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯ã€ JAWS-UG é•·é‡æ”¯éƒ¨ã®çŸ¥é‡ã•ã‚“ã€å¯ºç”°ã•ã‚“ã€æ˜¥åŸã•ã‚“ã«ã‚ˆã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ ã€ŒAWSã‚’Motoã§mockã—ã¦ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ã€ ã§ã—ãŸã€‚ç™»å£‡è³‡æ–™ã¯ Speakerdeck ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚\nMoto ã¨ã¯ Moto ã¨ã¯ã€ AWS ã®å„ã‚µãƒ¼ãƒ“ã‚¹ã‚’ãƒ¢ãƒƒã‚¯ã§ãã‚‹ Python ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚ Moto ã‚’ä½¿ã†ã“ã¨ã§ AWS ã®å„ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ“ä½œã™ã‚‹ Python ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã€ AWS ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹éƒ¨åˆ†ã®ãƒ†ã‚¹ãƒˆã‚’ç°¡å˜ã«å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nä½¿ã£ã¦ã¿ã‚‹ ã‚»ãƒƒã‚·ãƒ§ãƒ³å†…ã§ã¯ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹æ§‹æˆã§ã®ãƒ†ã‚¹ãƒˆã¨ã„ã†ã“ã¨ã§ã€ S3ã€ SQSã€ SSM Parameter Store ã«é–¢ã™ã‚‹ä¾‹ãŒç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã„ãŸã€‚ä»Šå›ã¯ã€ EC2 ã«å¯¾ã™ã‚‹æ“ä½œã«é–¢ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’å®Ÿè£…ã—ã¦ã¿ã¾ã™ã€‚\nå¯¾è±¡ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ä»Šå› å¯¾è±¡ã«ã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ã ã„ã¶å‰ã«ä½œã£ãŸä¸‹è¨˜ã® CDK ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚\nç‰¹å®šã®ã‚¿ã‚°ã‚’æŒã¤ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è‡ªå‹•èµ·å‹•ãƒ»åœæ­¢ã•ã›ã‚‹ Lambda é–¢æ•°ã¨ EventBridge ã®ãƒ«ãƒ¼ãƒ«ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ CDK ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚ä»Šå›ã¯ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã® Lambda é–¢æ•°ã‚’ã€ Moto ã‚’ä½¿ã£ã¦ãƒ†ã‚¹ãƒˆã—ã¦ã¿ã¾ã™ã€‚ã¾ãŸã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œã«ã¯ pytest ã‚’ä½¿ã„ã¾ã™ã€‚\nã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è©³ç´°ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®è¨˜äº‹ã§æ›¸ã„ã¦ã¾ã™ã€‚\nãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ ã§ã¯æ—©é€Ÿ å®Ÿè£…ã—ãŸãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã¿ã¾ã™ã€‚\nimport boto3 import importlib from moto import mock_ec2 MOCK_REGION = \u0026#39;ap-northeast-1\u0026#39; MOCK_AMI_ID = \u0026#39;/aws/service/ami-amazon-linux-latest/amzn-ami-hvm-x86_64-ebs\u0026#39; MOCK_INSTANCE_TYPE = \u0026#39;t3.nano\u0026#39; MOCK_INSTANCE_NAME = \u0026#39;mock_instance\u0026#39; @mock_ec2 class TestStartStopEc2: assec2 = importlib.import_module(\u0026#39;lambda.auto-start-stop-ec2\u0026#39;) ec2_client = None mock_instance = {} def setup_method(self, method): self.ec2_client = boto3.client(\u0026#39;ec2\u0026#39;, region_name=MOCK_REGION) res = self.ec2_client.run_instances(ImageId=MOCK_AMI_ID, InstanceType=MOCK_INSTANCE_TYPE, MinCount=1, MaxCount=1, TagSpecifications=[ { \u0026#39;ResourceType\u0026#39;: \u0026#39;instance\u0026#39;, \u0026#39;Tags\u0026#39;: [ { \u0026#39;Key\u0026#39;: \u0026#39;AutoStartStop\u0026#39;, \u0026#39;Value\u0026#39;: \u0026#39;TRUE\u0026#39; }, { \u0026#39;Key\u0026#39;: \u0026#39;Name\u0026#39;, \u0026#39;Value\u0026#39;: MOCK_INSTANCE_NAME } ]} ]) self.mock_instance = { \u0026#39;instance_id\u0026#39;: res[\u0026#39;Instances\u0026#39;][0][\u0026#39;InstanceId\u0026#39;], \u0026#39;instance_name\u0026#39;: MOCK_INSTANCE_NAME } def teardown_method(self, method): self.ec2_client.terminate_instances( InstanceIds=[self.mock_instance[\u0026#39;instance_id\u0026#39;]]) def test_stop_ec2_instance(self): res = self.assec2.stop_instance(self.ec2_client, self.mock_instance) assert res is True def test_start_ec2_instance(self): res = self.assec2.start_instance(self.ec2_client, self.mock_instance) assert res is True Moto ã§ãƒ¢ãƒƒã‚¯ã™ã‚‹ã«ã¯ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã‚’ä»˜ä¸ã™ã‚‹ã ã‘ Moto ã§ã¯ã€ãƒ¢ãƒƒã‚¯ã—ãŸã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ“ä½œã™ã‚‹éƒ¨åˆ† (é–¢æ•°ã€ã‚¯ãƒ©ã‚¹) ã«å¯¾ã—ã¦ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã‚’ã¤ã‘ã‚‹ã“ã¨ã§ã€ãã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ãƒ¢ãƒƒã‚¯ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä»Šå›ã¯ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ã‚¯ãƒ©ã‚¹ TestStartStopEc2 ã«å¯¾ã—ã¦ EC2 ã‚’ãƒ¢ãƒƒã‚¯ã™ã‚‹ãŸã‚ã® @mock_ec2 ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã‚’ã¤ã‘ã¾ã™ã€‚\nsetup/teardown ã§ãƒ¢ãƒƒã‚¯ç”¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®èµ·å‹•ã¨å‰Šé™¤ ã‚¯ãƒ©ã‚¹å†…ã® setup_method() ãŠã‚ˆã³ teardown_method() ã¯ã€ãã‚Œãã‚Œãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè¡Œå‰å¾Œã«å®Ÿè¡Œã•ã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚ãªã®ã§ã€ setup_method() å†…ã§ãƒ¢ãƒƒã‚¯ç”¨ã® EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’èµ·å‹•ã—ã€ teardown_method() å†…ã§ãã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å‰Šé™¤ (terminate) ã—ã¦ã„ã¾ã™ã€‚\nsetup_method() ã§ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’èµ·å‹•ã—ãŸã‚ã¨ã€èµ·å‹•ã—ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã® InstanceId ã¨ Instance Name (Tags ã® Name ã®å€¤) ã‚’ã‚¯ãƒ©ã‚¹å¤‰æ•°ã«ä¿æŒã—ã€å¾Œç¶šã®ãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã€ãŠã‚ˆã³ teardown_method() ã§ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nå®Ÿè¡Œ ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œã¯ pytest ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\n$ python -m pytest ./lambda/test/test_start_stop_ec2.py -v ============================================== test session starts =============================================== platform darwin -- Python 3.8.5, pytest-6.0.2, py-1.9.0, pluggy-0.13.1 -- .venv/bin/python cachedir: .pytest_cache rootdir: /path/to/Projects/auto-start-stop-ec2 collected 4 items lambda/test/test_start_stop_ec2.py::TestStartStopEc2::test_describe_instances PASSED [ 25%] lambda/test/test_start_stop_ec2.py::TestStartStopEc2::test_get_target_ec2_instances PASSED [ 50%] lambda/test/test_start_stop_ec2.py::TestStartStopEc2::test_stop_ec2_instance PASSED [ 75%] lambda/test/test_start_stop_ec2.py::TestStartStopEc2::test_start_ec2_instance PASSED [100%] ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œã‚‚ã§ãã¾ã—ãŸã€‚\nã¾ã¨ã‚ AWS ã®å„ã‚µãƒ¼ãƒ“ã‚¹ã‚’ãƒ¢ãƒƒã‚¯ã§ãã‚‹ Python ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª Moto ã‚’ä½¿ã£ã¦ CDK ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã® Lambda é–¢æ•°ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã‚’ã¤ã‘ã‚‹ã ã‘ã§ AWS ã®å„ã‚µãƒ¼ãƒ“ã‚¹ã‚’ãƒ¢ãƒƒã‚¯ã§ãã‚‹ã®ã¯ã€éå¸¸ã«ç°¡å˜ã§ä¾¿åˆ©ã ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚ä»Šå¾Œã‚‚ Python ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹éš›ã«ã¯ã€ Moto ã®åˆ©ç”¨ã‚’è€ƒãˆãŸã„ã¨æ€ã„ã¾ã™ã€‚\nJAWS SONIC 2020 ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³å†…ã§ã¯ä»–ã«ã‚‚åˆã‚ã¦çŸ¥ã‚‹å†…å®¹ã‚„è©¦ã—ã¦ã¿ãŸã„å†…å®¹ãŒã‚ã£ãŸã®ã§ã€è¨˜æ†¶ãŒæ–°ã—ã„ã†ã¡ã«è©¦ã—ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-test-lambda-func-using-moto/",
    "title": "Moto ã§ CDK ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã® Lambda é–¢æ•°ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ #jawssonic2020"
  },
  {
    "contents": "JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #167R EventBridgeå…¥é–€ ã«å‚åŠ ã—ãŸã®ã§ã€ãã®å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã§ã™ã€‚\nconnpass ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰ã€‚\nç›®æ¬¡ Amazon EventBridge ã®æ¦‚è¦ EventBridge EventBridge ã‚¹ã‚­ãƒ¼ãƒãƒ¬ã‚¸ã‚¹ãƒˆãƒª ãƒãƒ³ã‚ºã‚ªãƒ³ å„æ‰‹é †ã§ä½¿ç”¨ã—ãŸã‚³ãƒãƒ³ãƒ‰ çŸ¥ã‚‰ã‚“ã‹ã£ãŸãã€ãã‚Œ Python 3 ã® json.tool --query ã‚ªãƒ—ã‚·ãƒ§ãƒ³å†…ã§ã® max_by ã¾ã¨ã‚ Amazon EventBridge ã®æ¦‚è¦ CloudWatch ã‹ã‚‰åˆ†é›¢ å¤§ããåˆ†ã‘ã¦ï¼’ã¤ã® API events EventBridge (æ—§ CLoudWatch Events) schemas EventBridge ã‚¹ã‚­ãƒ¼ãƒãƒ¬ã‚¸ã‚¹ãƒˆãƒª ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®ç¢ºèª ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ ã‚¤ãƒ™ãƒ³ãƒˆã®ç™ºç”Ÿå…ƒ (ä»–ã® AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚‚å«ã‚€) ã‹ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ¤œçŸ¥ AWS ãƒªã‚½ãƒ¼ã‚¹ (ä»–ã® AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚‚å«ã‚€) ã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’é€šçŸ¥ ã‚¤ãƒ™ãƒ³ãƒˆã®æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ (ã‚¹ã‚­ãƒ¼ãƒ) ã‚’å‚ç…§ã§ãã‚‹ã®ãŒ EventBridge ã‚¹ã‚­ãƒ¼ãƒãƒ¬ã‚¸ã‚¹ãƒˆãƒª EventBridge ã‚¤ãƒ™ãƒ³ãƒˆã‚½ãƒ¼ã‚¹ AWS ãƒªã‚½ãƒ¼ã‚¹ã¨ã—ã¦ã¯ç´„ 90 ã®ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾å¿œ ä»–ã® AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‹ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã«ã¯ ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ ã®è¨­å®šãŒå¿…è¦ SaaS ãƒ™ãƒ³ãƒ€ãƒ¼ (Auth0 ã€ Mackerel ã€ Zendesk ãªã©) ã‹ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã§ã¯ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹å†…ã« ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆã‚½ãƒ¼ã‚¹ ãŒä½œæˆã•ã‚Œã‚‹ Amazon EventBridge ã®çµ±åˆ ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ä¼æ¥­ã ã‘ãŒä½¿ãˆã‚‹ CLI ã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚‹ æ­¢ã‚ãŸã‚Šå†é–‹ã—ãŸã‚ŠãŒå¯èƒ½ ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ç´„ 20 ã® AWS ãƒªã‚½ãƒ¼ã‚¹ã«å¯¾å¿œ ã‚¤ãƒ™ãƒ³ãƒˆ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒæ±ºã¾ã£ã¦ã„ã‚‹ time ã€ source ã€ resource ã€ detail-type ã€ detail ã€ event-bus-name AWS ã‚¤ãƒ™ãƒ³ãƒˆ - Amazon EventBridge AWS ãƒªã‚½ãƒ¼ã‚¹ã‹ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã§ã¯ CloudTrail çµŒç”±ã§ãªã„ã¨å—ã‘å–ã‚Œãªã„ã‚¤ãƒ™ãƒ³ãƒˆãŒã‚ã‚‹ e.g) S3 ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå˜ä½ã®ã‚¤ãƒ™ãƒ³ãƒˆ (ãƒã‚±ãƒƒãƒˆå˜ä½ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯ç›´æ¥é€šçŸ¥ã§ãã‚‹) ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹ å„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ä¸€ã¤ (æ„è­˜ã›ãšå‹•ã„ã¦ã„ã‚‹) ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚ãŸã‚Š 100 å€‹ä½œæˆå¯èƒ½ ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹ã®ä½œæˆ - Amazon EventBridge ãƒ«ãƒ¼ãƒ« ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹å†…ã«ä½œæˆ ä¸€ã¤ã®ãƒ«ãƒ¼ãƒ«ã«ç™»éŒ²ã§ãã‚‹ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¯ 5 ã¤ ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ID ã€ ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ARN ã€ IAM ãƒ­ãƒ¼ãƒ« ãã®ä»–ã€ EventBridge ã®åˆ¶é™ Amazon EventBridge ã®ã‚¯ã‚©ãƒ¼ã‚¿ - Amazon EventBridge EventBridge ã‚¹ã‚­ãƒ¼ãƒãƒ¬ã‚¸ã‚¹ãƒˆãƒª ãƒ¬ã‚¸ã‚¹ãƒˆãƒª ã‚¹ã‚­ãƒ¼ãƒã®ä¿å­˜ ãƒªã‚½ãƒ¼ã‚¹ãƒãƒªã‚·ãƒ¼ (S3 ã®ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼çš„ãªã‚‚ã®) ã‚¹ã‚­ãƒ¼ãƒ OpenAPI 3.0 å½¢å¼ ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒ©ãƒ¼ ã‚¹ã‚­ãƒ¼ãƒã®æ¤œç´¢ ãƒãƒ³ã‚ºã‚ªãƒ³ ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ã€ EBS ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ¤œçŸ¥ã—ã¦ã€ Lambda çµŒç”±ã§ CloudWatch Logs ã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ›¸ãè¾¼ã‚€ã¨ã„ã†å†…å®¹ã§ã—ãŸã€‚è©³ç´°ã«ã¤ã„ã¦ã¯ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹æ‰‹é †ã«ãŠã¾ã‹ã›ã™ã‚‹ã¨ã—ã¦ã€ä½¿ã£ãŸã‚³ãƒãƒ³ãƒ‰ã¨ãã®å‡ºåŠ›ã«ã¤ã„ã¦ç°¡å˜ã«è§¦ã‚Œã¦ãŠãã¾ã™ã€‚\nå„æ‰‹é †ã§ä½¿ç”¨ã—ãŸã‚³ãƒãƒ³ãƒ‰ EventBridge Registru ã®ã‚¹ã‚­ãƒ¼ãƒç¢ºèª schemas describe-schema ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚\n$ aws schemas describe-schema help ... SYNOPSIS describe-schema --registry-name \u0026lt;value\u0026gt; --schema-name \u0026lt;value\u0026gt; [--schema-version \u0026lt;value\u0026gt;] [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] [--cli-auto-prompt \u0026lt;value\u0026gt;] ä»Šå›ã¯ EBS ã‚’ã‚¤ãƒ™ãƒ³ãƒˆã‚½ãƒ¼ã‚¹ã¨ã™ã‚‹ã®ã§ã€ãã®éš›ã«ç™ºè¡Œã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã®ã‚¹ã‚­ãƒ¼ãƒã‚’ç¢ºèªã—ã¾ã—ãŸã€‚\n$ aws schemas describe-schema \\ \u0026gt; --registry-name aws.events \\ \u0026gt; --schema-name aws.ec2@EBSVolumeNotification { \u0026#34;Content\u0026#34;: \u0026#34;{ \\\u0026#34;openapi\\\u0026#34; : \\\u0026#34;3.0.0\\\u0026#34;, \\\u0026#34;info\\\u0026#34; : { \\\u0026#34;version\\\u0026#34; : \\\u0026#34;1.0.0\\\u0026#34;, \\\u0026#34;title\\\u0026#34; : \\\u0026#34;EBSVolumeNotification\\\u0026#34; }, \\\u0026#34;paths\\\u0026#34; : { }, \\\u0026#34;components\\\u0026#34; : { \\\u0026#34;schemas\\\u0026#34; : { \\\u0026#34;AWSEvent\\\u0026#34; : { \\\u0026#34;type\\\u0026#34; : \\\u0026#34;object\\\u0026#34;, \\\u0026#34;required\\\u0026#34; : [ \\\u0026#34;detail-type\\\u0026#34;, \\\u0026#34;resources\\\u0026#34;, \\\u0026#34;id\\\u0026#34;, \\\u0026#34;source\\\u0026#34;, \\\u0026#34;time\\\u0026#34;, \\\u0026#34;detail\\\u0026#34;, \\\u0026#34;region\\\u0026#34;, \\\u0026#34;version\\\u0026#34;, \\\u0026#34;account\\\u0026#34; ], \\\u0026#34;x-amazon-events-detail-type\\\u0026#34; : \\\u0026#34;EBS Volume Notification\\\u0026#34;, \\\u0026#34;x-amazon-events-source\\\u0026#34; : \\\u0026#34;aws.ec2\\\u0026#34;, \\\u0026#34;properties\\\u0026#34; : { \\\u0026#34;detail\\\u0026#34; : { \\\u0026#34;$ref\\\u0026#34; : \\\u0026#34;#/components/schemas/EBSVolumeNotification\\\u0026#34; }, \\\u0026#34;detail-type\\\u0026#34; : { \\\u0026#34;type\\\u0026#34; : \\\u0026#34;string\\\u0026#34; }, \\\u0026#34;resources\\\u0026#34; : { \\\u0026#34;type\\\u0026#34; : \\\u0026#34;array\\\u0026#34;, \\\u0026#34;items\\\u0026#34; : { \\\u0026#34;type\\\u0026#34; : \\\u0026#34;string\\\u0026#34; } }, \\\u0026#34;id\\\u0026#34; : { \\\u0026#34;type\\\u0026#34; : \\\u0026#34;string\\\u0026#34; }, \\\u0026#34;source\\\u0026#34; : { \\\u0026#34;type\\\u0026#34; : \\\u0026#34;string\\\u0026#34; }, \\\u0026#34;time\\\u0026#34; : { \\\u0026#34;type\\\u0026#34; : \\\u0026#34;string\\\u0026#34;, \\\u0026#34;format\\\u0026#34; : \\\u0026#34;date-time\\\u0026#34; }, \\\u0026#34;region\\\u0026#34; : { \\\u0026#34;type\\\u0026#34; : \\\u0026#34;string\\\u0026#34; }, \\\u0026#34;version\\\u0026#34; : { \\\u0026#34;type\\\u0026#34; : \\\u0026#34;string\\\u0026#34; }, \\\u0026#34;account\\\u0026#34; : { \\\u0026#34;type\\\u0026#34; : \\\u0026#34;string\\\u0026#34; } } }, \\\u0026#34;EBSVolumeNotification\\\u0026#34; : { \\\u0026#34;type\\\u0026#34; : \\\u0026#34;object\\\u0026#34;, \\\u0026#34;required\\\u0026#34; : [ \\\u0026#34;result\\\u0026#34;, \\\u0026#34;cause\\\u0026#34;, \\\u0026#34;event\\\u0026#34;, \\\u0026#34;request-id\\\u0026#34; ], \\\u0026#34;properties\\\u0026#34; : { \\\u0026#34;result\\\u0026#34; : { \\\u0026#34;type\\\u0026#34; : \\\u0026#34;string\\\u0026#34; }, \\\u0026#34;cause\\\u0026#34; : { \\\u0026#34;type\\\u0026#34; : \\\u0026#34;string\\\u0026#34; }, \\\u0026#34;event\\\u0026#34; : { \\\u0026#34;type\\\u0026#34; : \\\u0026#34;string\\\u0026#34; }, \\\u0026#34;request-id\\\u0026#34; : { \\\u0026#34;type\\\u0026#34; : \\\u0026#34;string\\\u0026#34; } } } } } }\u0026#34;, \u0026#34;Description\u0026#34;: \u0026#34;Schema for event type EBSVolumeNotification, published by AWS service aws.ec2\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2019-12-01T00:31:47+00:00\u0026#34;, \u0026#34;SchemaArn\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;SchemaName\u0026#34;: \u0026#34;aws.ec2@EBSVolumeNotification\u0026#34;, \u0026#34;SchemaVersion\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;Tags\u0026#34;: {}, \u0026#34;Type\u0026#34;: \u0026#34;OpenApi3\u0026#34;, \u0026#34;VersionCreatedDate\u0026#34;: \u0026#34;2019-12-01T00:31:47+00:00\u0026#34; } Content ã®å†…å®¹ãŒã‚¤ãƒ™ãƒ³ãƒˆã®ã‚¹ã‚­ãƒ¼ãƒã§ã€æ•´å½¢ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªå†…å®¹ã«ãªã£ã¦ã„ã¾ã™ã€‚\n{ \u0026#34;openapi\u0026#34;: \u0026#34;3.0.0\u0026#34;, \u0026#34;info\u0026#34;: { \u0026#34;version\u0026#34;: \u0026#34;1.0.0\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;EBSVolumeNotification\u0026#34; }, \u0026#34;paths\u0026#34;: {}, \u0026#34;components\u0026#34;: { \u0026#34;schemas\u0026#34;: { \u0026#34;AWSEvent\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;object\u0026#34;, \u0026#34;required\u0026#34;: [ \u0026#34;detail-type\u0026#34;, \u0026#34;resources\u0026#34;, \u0026#34;id\u0026#34;, \u0026#34;source\u0026#34;, \u0026#34;time\u0026#34;, \u0026#34;detail\u0026#34;, \u0026#34;region\u0026#34;, \u0026#34;version\u0026#34;, \u0026#34;account\u0026#34; ], \u0026#34;x-amazon-events-detail-type\u0026#34;: \u0026#34;EBS Volume Notification\u0026#34;, \u0026#34;x-amazon-events-source\u0026#34;: \u0026#34;aws.ec2\u0026#34;, \u0026#34;properties\u0026#34;: { \u0026#34;detail\u0026#34;: { \u0026#34;$ref\u0026#34;: \u0026#34;#/components/schemas/EBSVolumeNotification\u0026#34; }, \u0026#34;detail-type\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;string\u0026#34; }, \u0026#34;resources\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;array\u0026#34;, \u0026#34;items\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;string\u0026#34; } }, \u0026#34;id\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;string\u0026#34; }, \u0026#34;source\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;string\u0026#34; }, \u0026#34;time\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;string\u0026#34;, \u0026#34;format\u0026#34;: \u0026#34;date-time\u0026#34; }, \u0026#34;region\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;string\u0026#34; }, \u0026#34;version\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;string\u0026#34; }, \u0026#34;account\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;string\u0026#34; } } }, \u0026#34;EBSVolumeNotification\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;object\u0026#34;, \u0026#34;required\u0026#34;: [ \u0026#34;result\u0026#34;, \u0026#34;cause\u0026#34;, \u0026#34;event\u0026#34;, \u0026#34;request-id\u0026#34; ], \u0026#34;properties\u0026#34;: { \u0026#34;result\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;string\u0026#34; }, \u0026#34;cause\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;string\u0026#34; }, \u0026#34;event\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;string\u0026#34; }, \u0026#34;request-id\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;string\u0026#34; } } } } } } ã¡ãªã¿ã«ã€ aws.events ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã«å«ã¾ã‚Œã‚‹ã‚¹ã‚­ãƒ¼ãƒã®ä¸€è¦§ã¯ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã§ãã¾ã™ã€‚\n$ aws schemas list-schemas \\ --registry-name aws.events \\ --query \u0026#34;Schemas[].SchemaName\u0026#34; EventBridge ãƒ«ãƒ¼ãƒ«ã®ä½œæˆ events put-rule ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\n$ aws events put-rule help ... SYNOPSIS put-rule --name \u0026lt;value\u0026gt; [--schedule-expression \u0026lt;value\u0026gt;] [--event-pattern \u0026lt;value\u0026gt;] [--state \u0026lt;value\u0026gt;] [--description \u0026lt;value\u0026gt;] [--role-arn \u0026lt;value\u0026gt;] [--tags \u0026lt;value\u0026gt;] [--event-bus-name \u0026lt;value\u0026gt;] [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] [--cli-auto-prompt \u0026lt;value\u0026gt;] ä»Šå›ã¯ EBS ã®é€šçŸ¥ã‚’ã‚¤ãƒ™ãƒ³ãƒˆã‚½ãƒ¼ã‚¹ã¨ã™ã‚‹ã®ã§ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ {\u0026quot;source\u0026quot;:[\u0026quot;aws.ec2\u0026quot;],\u0026quot;detail-type\u0026quot;:[\u0026quot;EBS Volume Notification\u0026quot;]} ã¨ã—ã¾ã™ã€‚ã“ã“ã§æŒ‡å®šã™ã‚‹ source ãŠã‚ˆã³ detail-type ã«é–¢ã—ã¦ã¯ã€å…ˆã»ã©å–å¾—ã—ãŸã‚¹ã‚­ãƒ¼ãƒå†…ã® Content ã®å†…å®¹ã‹ã‚‰ç¢ºèªã§ãã¾ã™ã€‚\n$ aws events put-rule \\ --name handson-cli-events-gettings-ebs-rule \\ --description \u0026#34;EBS event rule.\u0026#34; \\ --event-pattern \u0026#39;{\u0026#34;source\u0026#34;:[\u0026#34;aws.ec2\u0026#34;],\u0026#34;detail-type\u0026#34;:[\u0026#34;EBS Volume Notification\u0026#34;]}\u0026#39; EventBridge ã«ã‚¿ãƒ¼ã‚²ãƒƒãƒˆç™»éŒ² events put-targets ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\n$ aws events put-targets help ... SYNOPSIS put-targets --rule \u0026lt;value\u0026gt; [--event-bus-name \u0026lt;value\u0026gt;] --targets \u0026lt;value\u0026gt; [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] [--cli-auto-prompt \u0026lt;value\u0026gt;] $ aws events put-targets \\ --rule handson-cli-events-gettings-ebs-rule \\ --targets \u0026#34;Id=lambda-handson-cli-events-gettings-ebs-function,Arn=arn:aws:lambda:ap-northeast-1:XXXXXXXXXXXX:function:handson-cli-events-gettings-ebs-function\u0026#34; --target ã§ã¯ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’æŒ‡å®šã—ã¾ã™ãŒã€ä»Šå›ã¯ Lambda é–¢æ•°ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚ Id ã¯ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ID ã«ãªã‚‹ã‚‚ã®ã§ã€ãƒ«ãƒ¼ãƒ«ã«è¿½åŠ ã§ãã‚‹ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãŒ 5 ã¤ã¾ã§ã¨ã„ã†ã“ã¨ã‹ã‚‰ã€å„ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’è­˜åˆ¥ã™ã‚‹ãŸã‚ã«ä»˜ä¸ã—ã¾ã™ã€‚Arn ã¯ Lambda é–¢æ•°ã® ARN ã§ã™ã€‚\nãƒ­ã‚°ã®ç¢ºèª CloudWatch Logs ã®ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç¢ºèªã™ã‚‹ã«ã¯ã€ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—åã¨ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ åãŒå¿…è¦ã§ã™ã€‚\nLambda ã§ä½œæˆã•ã‚Œã‚‹ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—åã¯ /aws/lambda/{é–¢æ•°å} ã¨ã„ã†å½¢å¼ã«ãªã‚‹ã®ã§ã€ä»Šå›ã¯ /aws/lambda/handson-cli-events-gettings-ebs-function ã¨ãªã‚Šã¾ã™ã€‚ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã¯å®Ÿè¡Œã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ãƒãƒƒã‚·ãƒ¥å€¤ã‚’å«ã‚“ã åå‰ã§ä½œæˆã•ã‚Œã¾ã™ã€‚ä»Šå›ã¯ç›´è¿‘ã®ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—ã—ãŸã„ã®ã§ã€ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚‚ç›´è¿‘ã®ã‚‚ã®ã‚’å–å¾—ã—ã¾ã™ã€‚\n$ aws logs describe-log-streams \\ --log-group-name /aws/lambda/handson-cli-events-gettings-ebs-function \\ --query \u0026#39;max_by(logStreams[], \u0026amp;lastEventTimestamp).logStreamName\u0026#39; \\ --output text 2020/09/10/[$LATEST]544ac06f414a47f6b49395b56db4a762 ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã®å†…å®¹ã¯ã€ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã ã‘æŠœãå‡ºã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚\n$ aws logs get-log-events \\ --log-group-name /aws/lambda/handson-cli-events-gettings-ebs-function \\ --log-stream-name \u0026#39;2020/09/10/[$LATEST]544ac06f414a47f6b49395b56db4a762\u0026#39; \\ --limit 7 \\ --query \u0026#39;events[].[join(``, [ to_string(timestamp) ,`: `,message])]\u0026#39; \\ --output text ... 1599735257694: ## EVENT 1599735257694: {\u0026#39;version\u0026#39;: \u0026#39;0\u0026#39;, \u0026#39;id\u0026#39;: \u0026#39;672deda3-a5d2-84f9-97b9-2d7531855a2e\u0026#39;, \u0026#39;detail-type\u0026#39;: \u0026#39;EBS Volume Notification\u0026#39;, \u0026#39;source\u0026#39;: \u0026#39;aws.ec2\u0026#39;, \u0026#39;account\u0026#39;: \u0026#39;XXXXXXXXXXXX\u0026#39;, \u0026#39;time\u0026#39;: \u0026#39;2020-09-10T10:54:17Z\u0026#39;, \u0026#39;region\u0026#39;: \u0026#39;ap-northeast-1\u0026#39;, \u0026#39;resources\u0026#39;: [\u0026#39;arn:aws:ec2:ap-northeast-1:XXXXXXXXXXXX:volume/vol-02871700072f113f1\u0026#39;], \u0026#39;detail\u0026#39;: {\u0026#39;result\u0026#39;: \u0026#39;deleted\u0026#39;, \u0026#39;cause\u0026#39;: \u0026#39;\u0026#39;, \u0026#39;event\u0026#39;: \u0026#39;deleteVolume\u0026#39;, \u0026#39;request-id\u0026#39;: \u0026#39;213c7669-dee3-4223-a994-6f17af23d650\u0026#39;}} ... ã¡ãªã¿ã«ã€ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã¯æ–‡å­—åˆ—ã§ã¯ãªã„ãŸã‚ãã®ã¾ã¾ã§ã¯ join ã§ããªã„ã‚ˆã†ã§ã™ã€‚ join ã—ãŸã„å ´åˆã¯ to_string ã§æ–‡å­—åˆ—ã«å¤‰æ›ã—ã¾ã™ã€‚\nçŸ¥ã‚‰ã‚“ã‹ã£ãŸãã€ãã‚Œ ä»Šå›ã«é™ã‚‰ãšãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯æ–°ã—ãçŸ¥ã‚‹ã“ã¨ãŒãŸãã•ã‚“ã‚ã‚‹ã®ã§ã€ã“ã® çŸ¥ã‚‰ã‚“ã‹ã£ãŸãã€ãã‚Œ é …ç›®ã§ã¯æ–°ã—ãçŸ¥ã£ãŸã“ã¨ã‚’è‡ªåˆ†ãªã‚Šã«æ·±å €ã‚Šã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚(æ’ä¾‹åŒ–ã—ãŸã„)\nPython 3 ã® json.tool JAWS-UG CLI å°‚é–€æ”¯éƒ¨ã§ã¯ JSON ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç¢ºèªã« jsonlint ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã—ãŸã€‚ãŒã€ä»Šå›ã®æ‰‹é †ã§ã¯ Python 3 ã«å«ã¾ã‚Œã‚‹ json.tool ã¨ã„ã†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦ã„ã¾ã—ãŸã€‚ä½¿ã„æ–¹ã¯ç°¡å˜ã§ã€ JSON ã®å‡ºåŠ›ã‚’ãƒ‘ã‚¤ãƒ—ã§æ¸¡ã™å½¢ã§ã€æ¬¡ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ã€‚\n$ cat ${JSON_FILE_PATH} | python3 -m json.tool ä¾‹ãˆã°æ¬¡ã®ã‚ˆã†ãª JSON ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æº–å‚™ã—ã¦ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¾ã™ã€‚\n$ cat sample.json { \u0026#34;key1\u0026#34;: \u0026#34;value1\u0026#34;, \u0026#34;key2\u0026#34;: \u0026#34;value2\u0026#34;, \u0026#34;key3\u0026#34;: \u0026#34;value3\u0026#34; } $ cat sample.json | python3 -m json.tool { \u0026#34;key1\u0026#34;: \u0026#34;value1\u0026#34;, \u0026#34;key2\u0026#34;: \u0026#34;value2\u0026#34;, \u0026#34;key3\u0026#34;: \u0026#34;value3\u0026#34; } ç‰¹ã«ã‚¨ãƒ©ãƒ¼ãŒãªã‘ã‚Œã° JSON ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒå´©ã‚Œã¦ã„ãŸã‚Šã™ã‚‹ã¨ã€ã‚¨ãƒ©ãƒ¼ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚(2 ã¤ç›®ã®ã‚«ãƒ³ãƒã‚’å‰Šé™¤ã—ã¦ã¿ã¾ã™)\n$ cat sample.json | python3 -m json.tool Expecting \u0026#39;,\u0026#39; delimiter: line 4 column 3 (char 43) --query ã‚ªãƒ—ã‚·ãƒ§ãƒ³å†…ã§ã® max_by ç›´è¿‘ã®ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ åã‚’å–å¾—ã™ã‚‹éš›ã«ã€ --query ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ä¸­ã§ max_by ã¨ã„ã†ã‚¯ã‚¨ãƒªã‚’ä½¿ã£ã¦ã„ã¾ã—ãŸã€‚ã“ã‚Œã¯ AWS CLI ã®æ©Ÿèƒ½ã¨ã„ã†ã‚ˆã‚Šã¯ JMESPath ã®æ©Ÿèƒ½ã§ã€é…åˆ—å†…ã®æœ€å¤§è¦ç´ ã‚’è¿”ã—ã¦ãã‚Œã¾ã™ã€‚\nJMESPath Specification â€” JMESPath | max_by ä»Šå›å®Ÿè¡Œã—ãŸã®ã¯æ¬¡ã®ã‚ˆã†ãªã‚³ãƒãƒ³ãƒ‰ã§ã—ãŸã€‚\n$ aws logs describe-log-streams \\ --log-group-name /aws/lambda/handson-cli-events-gettings-ebs-function \\ --query \u0026#39;max_by(logStreams[], \u0026amp;lastEventTimestamp).logStreamName\u0026#39; \\ --output text max_by ã§ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã® lastEventTimestamp ãŒæœ€å¤§ã®ã‚‚ã®ã€ã¤ã¾ã‚Šç›´è¿‘ã®ã‚‚ã®ã‚’å–å¾—ã™ã‚‹ã‚ˆã†ãªã‚¯ã‚¨ãƒªã«ãªã£ã¦ã„ã¾ã—ãŸã€‚\nä¾‹ãˆã°ã€ Lambda ã§ã‚³ãƒ¼ãƒ‰ã‚µã‚¤ã‚ºãŒä¸€ç•ªå¤§ãã„é–¢æ•°ã®åå‰ãŒå–å¾—ã—ãŸã„å ´åˆã¯ã€æ¬¡ã®ã‚ˆã†ãªã‚³ãƒãƒ³ãƒ‰ã«ãªã‚Šã¾ã™ã€‚\n$ aws lambda list-functions \\ --query \u0026#39;max_by(Functions, \u0026amp;CodeSize).FunctionName\u0026#39; ã¡ãªã¿ã«ã€ max_by ã®é€†ã¯ min_by ã§ã™ã€‚\nã¾ã¨ã‚ JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #167R EventBridgeå…¥é–€ ã®å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã§ã—ãŸã€‚\nä»Šå›ã¯ EventBridge å…¥é–€ã¨ã„ã†ã“ã¨ã€ãã‚‚ãã‚‚ EventBridge ã¨ã¯ä½•ãªã®ã‹ã«ã¤ã„ã¦å†ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ã‚¹ã‚­ãƒ¼ãƒãƒ¬ã‚¸ã‚¹ãƒˆãƒªã®å­˜åœ¨ã«ã¤ã„ã¦ã¯çŸ¥ã‚‰ãªã‹ã£ãŸã®ã§ã™ãŒã€ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ«ä½œæˆæ™‚ã«å¿…è¦ãªæƒ…å ±ãŒå‚ç…§ã§ãã‚‹ã®ã¯ä¾¿åˆ©ã ãªã¨æ€ã„ã¾ã—ãŸã€‚\nCLI å°‚é–€æ”¯éƒ¨ã§ã¯ã€å„å›ã§æ‰±ã†ã‚µãƒ¼ãƒ“ã‚¹ã®å†…å®¹ã¯ã‚‚ã¡ã‚ã‚“ã€ AWS CLI ã® --query ãŠã‚ˆã³ --filter ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ä¾¿åˆ©ãªä½¿ã„æ–¹ã‚’çŸ¥ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ãƒãƒ³ã‚ºã‚ªãƒ³ã®æ‰‹é †ã«ã‚ˆã£ã¦ã¯å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ãŒå¤šãã¦ã¤ã„ã¦ã„ãã®ãŒå¤§å¤‰ã§ã™ãŒã€æ¯å›å¾—ã‚‹ã‚‚ã®ãŒãŸãã•ã‚“ã‚ã‚‹ã®ã§ ã‚ã£ã¡ã‚ƒã‚¤ãƒ³ãƒ—ãƒƒãƒˆã—ã¦ã‚‹ãªã€œ ã¨æ„Ÿã˜ã¾ã™ã€‚\nã‚¤ãƒ³ãƒ—ãƒƒãƒˆã—ãŸã¾ã¾ã§çµ‚ã‚ã‚‰ãªã„ã‚ˆã†ã«ã€ä»Šå¾Œã‚‚å‚åŠ ãƒ¬ãƒæ›¸ã„ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-jaws-ug-cli-167-eventbridge/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG CLI å°‚é–€æ”¯éƒ¨ #167R EventBridgeå…¥é–€ ã«å‚åŠ ã—ã¾ã—ãŸ #jawsug_cli"
  },
  {
    "contents": "Go è¨€èªã§å®Ÿè£…ã•ã‚ŒãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ AWS ãƒªã‚½ãƒ¼ã‚¹ã‚’æ“ä½œã™ã‚‹éš›ã«ã¯ AWS SDK for Go ã‚’ä½¿ã„ã¾ã™ãŒã€ä»Šå›ã¯ ãã® SDK ã‚’ä½¿ã£ã¦ CloudWatch Logs ã«ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã‚’é€ä¿¡ã—ã¦ã¿ã¾ã™ã€‚\nå‰ã« AWS CLI ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã‚’é€ä¿¡ã—ãŸã¨ãã®è¨˜äº‹ã¯ã“ã¡ã‚‰ã§ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ AWS SDK for Go ã«ã‚ˆã‚‹å®Ÿè£… CloudWatch Logs ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ç”Ÿæˆ ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã®ä½œæˆ ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ç”Ÿæˆ ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã®é€ä¿¡ ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆãŒæ—¢ã«å­˜åœ¨ã—ã¦ã„ã‚‹å ´åˆ ã¾ã¨ã‚ æ¦‚è¦ å‰å› ã®è¨˜äº‹ã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€ã‚ã‚‰ãŸã‚ã¦ CloudWatch Logs ã‚’æ§‹æˆã™ã‚‹ 3 ã¤ã®è¦ç´ ã«ã¤ã„ã¦ç°¡å˜ã«æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ— ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å˜ä½ã‚„ç”»é¢å˜ä½ã¨ã„ã£ãŸããã‚Šã§ãƒ­ã‚°ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åˆ†ã‘ã—ã¦ã„ã‚‹è¦ç´ ã§ã™ã€‚ä¾‹ãˆã° Lambda ã®å®Ÿè¡Œãƒ­ã‚°ã«é–¢ã—ã¦ã¯ã€é–¢æ•°å˜ä½ã§ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ãŒä½œæˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ  ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—å†…ã§ã•ã‚‰ã«ãƒ­ã‚°ã‚’åˆ†å‰²ã—ã¦ã„ã‚‹è¦ç´ ãŒãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã§ã™ã€‚åŒã˜ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚ã£ã¦ã‚‚ã€åˆ¥ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚„åˆ¥æ—¥ä»˜ãªã©ã§ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’åˆ†ã‘ã‚‹ã“ã¨ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚Lambda ã®å®Ÿè¡Œãƒ­ã‚°ã‚’ä¾‹ã«ã™ã‚‹ã¨ã€é–¢æ•°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å˜ä½ã€ä¸€å®šæ™‚é–“å˜ä½ã§ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒåˆ†å‰²ã•ã‚Œã¦ã„ã¾ã™ã€‚\nãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—å†…ã«ã¯æ•°ã®åˆ¶é™ãªããƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¸€ã¤ã ã‘ã§ã‚‚ã„ã„ã§ã™ã€‚ãŸã ã—ã€æœ€ä½ã§ã‚‚æ—¥ä»˜ã”ã¨ã¨ã‹ã§åˆ†å‰²ã—ã¦ã‚ã‚‹ã¨ã€ã‚ã¨ã§ãƒ­ã‚°ã‚’é–²è¦§ã™ã‚‹ã¨ãã«è¦‹ã¤ã‘ã‚„ã™ã„ã§ã™ã€‚ ã¾ãŸã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’åˆ†ã‘ãŸã¨ã—ã¦ã‚‚ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ã¯ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’æ¨ªæ–­ã—ãŸãƒ­ã‚°ã®æ¤œç´¢ãŒå¯èƒ½ãªã®ã§ã€å¿ƒé…ã‚ã‚Šã¾ã›ã‚“ã€‚\nãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆ ã„ã‚ã‚†ã‚‹ãƒ­ã‚°ã®ã“ã¨ã§ã™ã€‚\nAWS SDK for Go ã«ã‚ˆã‚‹å®Ÿè£… ã§ã¯ã€ AWS SDK for Go ã‚’ä½¿ã£ãŸ CloudWatch Logs ã¸ã®ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆé€ä¿¡ã®å®Ÿè£…ã«ã¤ã„ã¦ã¿ã¦ã„ãã¾ã™ã€‚\nã¡ãªã¿ã«ã€ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯æ¬¡ã®é€šã‚Šã§ã™ã€‚\nimport ( \u0026#34;github.com/aws/aws-sdk-go/aws\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/aws/session\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/service/cloudwatchlogs\u0026#34; ) CloudWatch Logs ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ç”Ÿæˆ ã¾ãšã¯ CloudWatch Logs ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ç”Ÿæˆã—ã¾ã™ã€‚\nregion := \u0026#34;ap-northeast-1\u0026#34; client := cloudwatchlogs.New( session.Must(session.NewSession()), aws.NewConfig().WithRegion(region), ) ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ç”Ÿæˆã—ã¾ã™ã€‚\nãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã®ä½œæˆ ç¶šã„ã¦ã€ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆã—ã¾ã™ã€‚ä½œæˆã«ã¯ã€ CreateLogGroup() ã‚’ä½¿ã„ã¾ã™ã€‚\ngroupName := \u0026#34;/sample/group/name\u0026#34; var createLogGroupIn *cloudwatchlogs.CreateLogGroupInput = \u0026amp;cloudwatchlogs.CreateLogGroupInput{ LogGroupName: aws.String(groupName), } _, err := client.CreateLogGroup(createLogGroupIn) æ—¢ã«ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ãŒå­˜åœ¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€ ResourceAlreadyExistsException ãŒã‚¨ãƒ©ãƒ¼ã§è¿”å´ã•ã‚Œã¾ã™ã€‚\ncloudwatchlogs - Amazon Web Services - Go SDK | CreateLogGroup ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ç”Ÿæˆ ç¶šã„ã¦ã¯ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ä½œæˆã§ã™ã€‚ä½œæˆã«ã¯ CreateLogStream() ã‚’ä½¿ã„ã¾ã™ã€‚\ngroupName := \u0026#34;/sample/group/name\u0026#34; streamName := \u0026#34;sample-stream-name\u0026#34; var createLogStreamIn *cloudwatchlogs.CreateLogStreamInput = \u0026amp;cloudwatchlogs.CreateLogStreamInput{ LogGroupName: aws.String(groupName), LogStreamName: aws.String(streamName), } _, err := client.CreateLogStream(createLogStreamIn) ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«é–¢ã—ã¦ã‚‚ã€æ—¢ã«å­˜åœ¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€ ResourceAlreadyExistsException ãŒã‚¨ãƒ©ãƒ¼ã§è¿”å´ã•ã‚Œã¾ã™ã€‚ã¾ãŸã€æŒ‡å®šã—ãŸãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ãŒå­˜åœ¨ã—ã¦ã„ãªã„å ´åˆã«ã¯ ResourceNotFoundException ãŒè¿”å´ã•ã‚Œã¾ã™ã€‚\ncloudwatchlogs - Amazon Web Services - Go SDK | CreateLogStream ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã®é€ä¿¡ æœ€å¾Œã«ã€ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã®é€ä¿¡ã§ã™ã€‚é€ä¿¡ã«ã¯ PutLogEvents() ã‚’ä½¿ã„ã¾ã™ã€‚ãƒ¡ã‚½ãƒƒãƒ‰åã‹ã‚‰ã‚ã‹ã‚‹ã‚ˆã†ã«ã€è¤‡æ•°ã®ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã‚’é€ä¿¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\ngroupName := \u0026#34;/sample/group/name\u0026#34; streamName := \u0026#34;sample-stream-name\u0026#34; message := \u0026#34;This is a sample log message.\u0026#34; timestamp := time.Now().Unix() timestampDigits := len(strconv.FormatInt(timestamp, 10)) var multipyNum int64 = 10 for n := 0; n \u0026lt; (13 - timestampDigits); n++ { timestamp = timestamp * multipyNum } var logEvents []*cloudwatchlogs.InputLogEvent = []*cloudwatchlogs.InputLogEvent{ { Message: aws.String(message), Timestamp: aws.Int64(timestamp), }, } var putLogEventIn *cloudwatchlogs.PutLogEventsInput = \u0026amp;cloudwatchlogs.PutLogEventsInput{ LogGroupName: aws.String(groupName), LogStreamName: aws.String(streamName), LogEvents: logEvents, } _, err := client.PutLogEvents(putLogEventIn) CLI ã§ã®æ“ä½œã®ã¨ãã‚‚æ›¸ãã¾ã—ãŸãŒã€ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆç”¨ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã¯ 13 æ¡ ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ 13 æ¡ã¨ã„ã†ã‹ã€ ãƒŸãƒªç§’ ã¾ã§å«ã‚“ã ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã¨ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚\nCloudWatch Logs ã§ã¯ã€éå»ã¾ãŸã¯æœªæ¥ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’ã‚‚ã¤ã‚¤ãƒ™ãƒ³ãƒˆã¯è¨˜éŒ²ã•ã‚Œã¾ã›ã‚“ã€‚\nIf the timestamp of log event is more than 2 hours in future, the log event is skipped. If the timestamp of log event is more than 14 days in past, the log event is skipped. CloudWatch Logs Agent Reference - Amazon CloudWatch Logs cloudwatchlogs - Amazon Web Services - Go SDK | PutLogEvents ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆãŒæ—¢ã«å­˜åœ¨ã—ã¦ã„ã‚‹å ´åˆ æ—¢ã«ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆãŒå­˜åœ¨ã—ã¦ã„ã‚‹ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«å¯¾ã—ã¦è¿½åŠ ã§ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã‚’é€ä¿¡ã™ã‚‹å ´åˆã«ã¯ã€ InputLogEvent.SequenceToken ã«å¯¾ã—ã¦å€¤ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã“ã“ã§æŒ‡å®šã™ã‚‹å€¤ã¯ã€ PutLogEventsInput() ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹å†…ã«ã‚ã‚‹ PutLogEventsOutput.NextSequenceToken ã§ã™ã€‚ãŒã€é€£ç¶šã—ãŸãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆé€ä¿¡å‡¦ç†ã§ãªã„å ´åˆã€ã“ã®å€¤ã‚’ã©ã“ã‹ã«ä¿æŒã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œã¯é¢å€’ãªã®ã§ã€ DescribeLogStreams() ã§å–å¾—ã—ãŸãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®æƒ…å ±ã‹ã‚‰å–å¾—ã—ã¾ã™ã€‚\nä¾‹ãˆã°æ¬¡ã®ã‚ˆã†ãªé–¢æ•°ã‚’ç”¨æ„ã—ã¦ã€ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ åã‹ã‚‰ NextSequenceToken ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã¾ã™ã€‚\nfunc GetNextSequenceToken(groupName string, streamName string) *string { var nextSeqToken string = \u0026#34;\u0026#34; var describeLogStreamsIn *cloudwatchlogs.DescribeLogStreamsInput = \u0026amp;cloudwatchlogs.DescribeLogStreamsInput{ LogStreamNamePrefix: aws.String(streamName), LogGroupName: aws.String(groupName), } out, err := client.DescribeLogStreams(describeLogStreamsIn) if err != nil { fmt.Println(err.Error()) return aws.String(\u0026#34;\u0026#34;) } if len(out.LogStreams) == 0 { return aws.String(\u0026#34;\u0026#34;) } for _, logStream := range out.LogStreams { if *logStream.LogStreamName == streamName { if logStream.UploadSequenceToken != nil { nextSeqToken = *logStream.UploadSequenceToken break } } } return aws.String(nextSeqToken) } ã“ã‚Œã§å€¤ãŒå–å¾—ã§ããŸ ã‹ã¤ ç©ºæ–‡å­—ã§ãªã„å ´åˆã«ã¯ã€å…ˆã»ã©ã® InputLogEvent ã« SequenceToken ã‚’è¿½åŠ ã—ã¦ PutLogEvents() ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nvar nextSeqToken *string = GetNextSequenceToken(groupName, streamName) if *nextSeqToken != \u0026#34;\u0026#34; { putLogEventIn.SequenceToken = nextSeqToken } ã¾ã¨ã‚ AWS SDK for Go ã‚’ä½¿ã£ãŸ CloudWatch Logs ã«ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã‚’é€ä¿¡ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nSDK ã‚’ä½¿ã†ã¨ãƒã‚¤ãƒ³ã‚¿å‹ã¸ã®å¤‰æ›ãªã©ãŒç™ºç”Ÿã™ã‚‹ã®ã§å°‘ã—ã ã‘ã‚„ã‚„ã“ã—ã„ã¨ã„ã†ã“ã¨ã§ã€ä»Šå›ç´¹ä»‹ã—ãŸå‡¦ç†ã‚’ã¾ã¨ã‚ãŸã‚‚ã®ã‚’ GitHub ã«ç½®ãã¾ã—ãŸã€‚\nGo ã§ã®è‡ªä½œãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ§‹æˆã«ã¤ã„ã¦ã¯ã¾ã ã¾ã å…¨ç„¶ã‚ã‹ã£ã¦ãªã„ã®ã§ã™ãŒã€ã¨ã‚Šã‚ãˆãš go get ã—ã¦ä½¿ãˆã‚‹çŠ¶æ…‹ã«ã¯ãªã£ã¦ã„ã¾ã™ã€‚ ä»Šå¾Œã€ã¼ã¡ã¼ã¡è‰¯ã„æ„Ÿã˜ã«ã—ã¦ã„ã‘ãŸã‚‰è‰¯ã„ãªãƒ¼ã¨æ€ã£ã¦ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-put-events-to-cloudwatch-logs-via-go-sdk/",
    "title": "AWS SDK for Go ã§ CloudWatch Logs ã«ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã‚’é€ä¿¡ã™ã‚‹"
  },
  {
    "contents": "JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ åˆå¿ƒè€…æ”¯éƒ¨ #31 ç›£è¦–ç·¨ ã‚µãƒ¼ãƒãƒ¼ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®åŸºæœ¬ã‚’å­¦ã¼ã† ã«å‚åŠ ã—ã¦ãã¾ã—ãŸã€‚ä»Šå›ã¯ç›£è¦–ç·¨ã¨ã„ã†ã“ã¨ã§ã€ WordPress ã§ã‚µã‚¤ãƒˆã‚’æ§‹ç¯‰ã—ã¦ CloudWatch ã§æ§˜ã€…ãªãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ç¢ºèªã™ã‚‹ã¨ã„ã†å†…å®¹ã§ã—ãŸã€‚\nç›®æ¬¡ æ¦‚è¦ CloudFormation ã§ WordPress ç’°å¢ƒã‚’ã‚µã‚¯ãƒƒã¨æ§‹ç¯‰ å„ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç¢ºèª ã‚¢ãƒ©ãƒ¼ãƒ ã®è¨­å®š WordPress ã®ãƒ­ã‚°ç¢ºèª çŸ¥ã‚‰ã‚“ã‹ã£ãŸãã€ãã‚Œ CloudWatch ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚°ãƒ©ãƒ•ã®ç¾åœ°æ™‚é–“è¡¨ç¤º RDS ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ 1 åˆ†é–“éš” ã¾ã¨ã‚ æ¦‚è¦ ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã®æ¦‚è¦ã§ã™ã€‚è³‡æ–™ã¯ slideshare ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚\nJAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ #31 ç›£è¦–ç·¨ ã‚µãƒ¼ãƒãƒ¼ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®åŸºæœ¬ã‚’å­¦ã¼ã† ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰ã€‚\nJAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ #31 ç›£è¦–ç·¨ ã‚µãƒ¼ãƒãƒ¼ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®åŸºæœ¬ã‚’å­¦ã¼ã† - connpass CloudFormation ã§ WordPress ç’°å¢ƒã‚’ã‚µã‚¯ãƒƒã¨æ§‹ç¯‰ ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ã€ã¾ãšæœ€åˆã« CloudFormation ã§æ¬¡ã®ã‚ˆã†ãªæ§‹æˆã‚’ä½œã£ã¦ã—ã¾ã„ã¾ã™ã€‚\nJAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ #31 ç›£è¦–ç·¨ ã‚µãƒ¼ãƒãƒ¼ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®åŸºæœ¬ã‚’å­¦ã¼ã† from Hiroki Uchida ä»Šå›ã®ãƒ¡ã‚¤ãƒ³ã¯ ç›£è¦– ãªã®ã§ã€ãã®åœŸå°ã¨ãªã‚‹ WordPress ã®ç’°å¢ƒã‚’ã‚µã‚¯ãƒƒã¨ä¸€å¾‹ã§æº–å‚™ã§ãã¦ã—ã¾ã†ã®ã¯ã€ã‚„ã¯ã‚Š CloudFormation ã®ã€ã¨ã„ã†ã‹ IaC ã®è‰¯ã„ã¨ã“ã‚ã ãªã¨æ€ã„ã¾ã—ãŸã€‚ã¨ã‚Šã‚ãˆãš CloudFormation ã®ã‚¹ã‚¿ãƒƒã‚¯ä½œæˆã•ãˆã§ãã‚Œã°ãƒãƒ³ã‚ºã‚ªãƒ³ã®æº–å‚™ãŒæ•´ã†ã®ã§ã€‚\nå„ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç¢ºèª ä»Šå›ä½œæˆã—ãŸãƒªã‚½ãƒ¼ã‚¹ (EC2, ELB, RDS) ã«é–¢ã™ã‚‹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ç¢ºèªã—ã¾ã—ãŸã€‚\nJAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ #31 ç›£è¦–ç·¨ ã‚µãƒ¼ãƒãƒ¼ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®åŸºæœ¬ã‚’å­¦ã¼ã† from Hiroki Uchida ã‚¢ãƒ©ãƒ¼ãƒ ã®è¨­å®š ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã«å¯¾ã—ã¦ã‚¢ãƒ©ãƒ¼ãƒ ã‚’è¨­å®šã—ã¦ã€ SNS çµŒç”±ã§ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«é€šçŸ¥ãŒé£›ã‚“ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚\nJAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ #31 ç›£è¦–ç·¨ ã‚µãƒ¼ãƒãƒ¼ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®åŸºæœ¬ã‚’å­¦ã¼ã† from Hiroki Uchida WordPress ã®ãƒ­ã‚°ç¢ºèª WordPress ã®ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã€ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’ CloudWatch Logs ç¢ºèªã—ã¾ã—ãŸã€‚\nJAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ #31 ç›£è¦–ç·¨ ã‚µãƒ¼ãƒãƒ¼ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®åŸºæœ¬ã‚’å­¦ã¼ã† from Hiroki Uchida WordPress ã®ãƒ­ã‚° (Apache ã®ãƒ­ã‚°) ã‚’ CloudWatch Logs ã«é€ä¿¡ã™ã‚‹ã«ã¯ã€ CloudWatch Agent ã§æ¬¡ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚\n{ \u0026#34;logs\u0026#34;: { \u0026#34;logs_collected\u0026#34;: { \u0026#34;files\u0026#34;: { \u0026#34;collect_list\u0026#34;: [ { \u0026#34;file_path\u0026#34;: \u0026#34;/var/log/httpd/access_log\u0026#34;, \u0026#34;log_group_name\u0026#34;: \u0026#34;wordpress_access_log\u0026#34;, \u0026#34;log_stream_name\u0026#34;: \u0026#34;{instance_id}\u0026#34; }, { \u0026#34;file_path\u0026#34;: \u0026#34;/var/log/httpd/error_log\u0026#34;, \u0026#34;log_group_name\u0026#34;: \u0026#34;wordpress_error_log\u0026#34;, \u0026#34;log_stream_name\u0026#34;: \u0026#34;{instance_id}\u0026#34; } ] } } } } ä»Šå›ã¯ã€ä¸Šè¨˜ã®æƒ…å ±ã‚’å«ã‚“ã  CloudWatch Agent ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ /opt/aws/amazon-cloudwatch-agent/etc/amazon-cloudwatch-agent.d/ ã«é…ç½®ã™ã‚‹ã‚ˆã†ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã® User Data ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚\nçŸ¥ã‚‰ã‚“ã‹ã£ãŸãã€ãã‚Œ ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ã€Œã¸ã‡ã€œã€ã€ŒçŸ¥ã‚‰ã‚“ã‹ã£ãŸã€ã¨ã„ã†éƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚\nCloudWatch ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚°ãƒ©ãƒ•ã®ç¾åœ°æ™‚é–“è¡¨ç¤º CloudWatch ã®å„ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ã‚°ãƒ©ãƒ•è¡¨ç¤ºã—ãŸéš›ã«ã€ X è»¸ã®æ™‚åˆ»ã¯ UTC ã«ãªã£ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚’ç¾åœ°æ™‚é–“ã«å¤‰æ›ã—ã¦è¡¨ç¤ºã§ãã‚‹ã¨ã„ã†ã®ã‚’åˆã‚ã¦çŸ¥ã‚Šã¾ã—ãŸã€‚\nå³å¯†ã«ã„ã¤ã‹ã‚‰ã“ã®æ©Ÿèƒ½ãŒã‚ã£ãŸã‹ã¨ã„ã†ã®ã¯ã‚ã‹ã‚‰ãªã„ã®ã§ã™ãŒã€ã‚¯ãƒ©ãƒ¡ã‚½ã•ã‚“ã®è¨˜äº‹ã§ 2017 å¹´æ™‚ç‚¹ã§ç´¹ä»‹ã•ã‚Œã¦ã„ãŸã®ã§ã€è‡ªåˆ†ãŒ AWS ã‚’è§¦ã‚Šå§‹ã‚ãŸé ƒã‹ã‚‰ã‚ã£ãŸã‚ˆã†ã§ã™ã€‚\nã•ã™ãŒã‚¯ãƒ©ãƒ¡ã‚½ã•ã‚“ã€ãã®æ©Ÿèƒ½ãŒã„ã¤é ƒã‹ã‚‰å­˜åœ¨ã—ã¦ã„ãŸã‹ã‚‚ã‚ã‹ã£ã¦ã—ã¾ã†ã‚“ã§ã™ã­\u0026hellip;ã€‚\nå½“ãŸã‚Šå‰ã§ã™ãŒã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚ã—ã£ã‹ã‚Šè¨˜è¿°ãŒã‚ã‚Šã¾ã—ãŸã€‚\nCloudWatch ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®æ™‚é–“ç¯„å›²ã¾ãŸã¯ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å½¢å¼ã‚’å¤‰æ›´ã™ã‚‹ - Amazon CloudWatch RDS ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ 1 åˆ†é–“éš” CloudWatch ã§å–å¾—ã—ã¦ã„ã‚‹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ 5 åˆ†é–“éš”ã§ã€æœ‰æ–™ã®è©³ç´°ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã“ã¨ã§ 1 åˆ†é–“éš”ã§å€¤ã‚’å–å¾—ã§ãã‚‹ã¨ã„ã†èªè­˜ã§ã„ã¾ã—ãŸã€‚\nã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®è©³ç´°ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚’æœ‰åŠ¹ã¾ãŸã¯ç„¡åŠ¹ã«ã™ã‚‹ - Amazon Elastic Compute Cloud ã“ã‚Œã¯ãã†ãªã‚“ã§ã™ãŒã€ä»Šå›å‡ºã¦ããŸ RDS ã«é–¢ã™ã‚‹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã«é–¢ã—ã¦ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ 1 åˆ†é–“éš”ã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã§ã™ã€‚\nAmazon RDS ã¯ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªå„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ 1 åˆ†ã”ã¨ã« CloudWatch ã«è‡ªå‹•é€ä¿¡ã—ã¾ã™ã€‚CloudWatch ã® Amazon RDS ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã«å¯¾ã™ã‚‹è¿½åŠ æ–™é‡‘ã¯ç™ºç”Ÿã—ã¾ã›ã‚“ã€‚\nAmazon RDS â€‹ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®æ¦‚è¦ã§ã™ã€‚ - Amazon Relational Database Service ã¾ã¨ã‚ JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ åˆå¿ƒè€…æ”¯éƒ¨ #31 ç›£è¦–ç·¨ ã‚µãƒ¼ãƒãƒ¼ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®åŸºæœ¬ã‚’å­¦ã¼ã† ã«å‚åŠ ã—ã¦ãã¾ã—ãŸã€‚\nä¹…ã€…ã«åˆå¿ƒè€…æ”¯éƒ¨ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã«å‚åŠ ã™ã‚‹ã“ã¨ãŒã§ãã¦ã€ã‚„ã£ã±ã‚Šæ±ºã‚ã‚‰ã‚ŒãŸæ™‚é–“ã§é›†ä¸­ã—ã¦ä½œæ¥­ã™ã‚‹ã¨ã„ã†ã®ã¯ã„ã„ãªã¨å†ç¢ºèªã—ã¾ã—ãŸã€‚\nãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ã‚°ãƒ©ãƒ•ã‚’è¦‹ã¦ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã«å¯¾ã—ã¦ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®šã—ã¦ã€ã¨ã„ã†ã®ã¯æ™®æ®µã‹ã‚‰ã‚„ã£ã¦ã„ã‚‹ã®ã§ã™ãŒã€ãã‚Œã§ã‚‚åˆã‚ã¦çŸ¥ã‚‹ã“ã¨ãŒã‚ã‚Šå‹‰å¼·ã«ãªã‚Šã¾ã—ãŸã€‚\nå‚åŠ è€…ã‹ã‚‰ã®è³ªå•ã«ã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€ä»Šå›ã¯ Apache ã® access_log ã¨ error_log ã‚’åˆ¥ã€…ã®ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã«è¨­å®šã—ã¦ã„ã¾ã—ãŸãŒã€ãã®ã‚ãŸã‚Šã®è¨­è¨ˆæ€æƒ³ã«é–¢ã—ã¦ã¯ã‚ªãƒ©ã‚¤ãƒªãƒ¼ã‹ã‚‰å‡ºã¦ã„ã‚‹ã€Œå…¥é–€ ç›£è¦–ã€ãŒå‚è€ƒã«ãªã‚‹ã¨ã„ã†ã“ã¨ã§ã—ãŸã€‚ã“ã®æ›¸ç±ã«é–¢ã—ã¦ã¯ä»¥å‰ã«èª­ã‚“ã ã®ã§ã™ãŒã€ã‚ã‚‰ãŸã‚ã¦èª­ã‚“ã§ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\nã¾ãŸã€ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã¯ä¸‹è¨˜ã®ãƒãƒ³ã‚ºã‚ªãƒ³ãŒå…ƒã«ãªã£ã¦ã„ã‚‹ã‚ˆã†ãªã®ã§ã€åˆã‚ã›ã¦ç¢ºèªã—ã¦ã¿ã‚‹ã¨è‰¯ã„ã‹ã‚‚ã¨ã„ã†ã“ã¨ã§ã—ãŸã€‚\nAWS Hands-on for Beginners - ç›£è¦–ç·¨ ã‚µãƒ¼ãƒãƒ¼ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®åŸºæœ¬ã‚’å­¦ã¼ã† | AWS ã‚ã‚‰ãŸã‚ã¦ã€å®¶ã«ã„ãªãŒã‚‰ã«ã—ã¦ã“ã†ã„ã£ãŸãƒãƒ³ã‚ºã‚ªãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã«å‚åŠ ã§ãã‚‹ã®ã¯å¤§å¤‰ã‚ã‚ŠãŒãŸã„ã“ã¨ã ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§é–‹å‚¬ã—ã¦ã„ãŸã ã„ãŸé‹å–¶ã®æ–¹ã€…ã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼\nã‚ã¨å…¨ç„¶é–¢ä¿‚ãªã„ã§ã™ãŒã€ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã‚’é€²è¡Œã—ã¦ã„ãŸã ã„ãŸ AWS ã®å†…ç”°ã•ã‚“ ( @nikuyoshi ) ã®æ˜ ã‚ŠãŒã‚ã¡ã‚ƒãã¡ã‚ƒã‚­ãƒ¬ã‚¤ã§ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/event-jaws-ug-beginner-31/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨#31 ã€Œç›£è¦–ç·¨ ã‚µãƒ¼ãƒãƒ¼ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®åŸºæœ¬ã‚’å­¦ã¼ã†ã€ #jawsug_bgnr"
  },
  {
    "contents": "ã¿ãªã•ã‚“ã‚¹ãƒãƒ–ãƒ©ã‚„ã£ã¦ã¾ã™ã‹ï¼Ÿå‰å›ã€ã‚­ãƒ£ãƒ—ãƒãƒ£ç”»åƒã‹ã‚‰ä¸–ç•Œæˆ¦é—˜åŠ›ã®å€¤ã‚’æŠœãå‡ºã—ã¾ã—ãŸãŒã€ä»Šå›ã¯ãã®ç¶šç·¨ã§ã™ã€‚\nå‰å›ã®è¨˜äº‹ã€‚\næ¦‚è¦ å‰å›ã«å¼•ãç¶šã„ã¦ã€ä»Šå›ã¯æ¬¡ã®ã“ã¨ã‚’è©¦ã—ã¾ã™ã€‚\nã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®åˆ¤åˆ¥ Amazon Rekognition ã® DetectText ã®åˆ¶é™ (ä»•æ§˜) ã¸ã®å¯¾å¿œ æ¤œå‡ºã•ã‚ŒãŸæƒ…å ±ã‚’ã¾ã¨ã‚ã‚‹ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®åˆ¤åˆ¥ Amazon Rekognition ã®ä»•æ§˜ã¨ã—ã¦ã€æ—¥æœ¬èªã®ãƒ†ã‚­ã‚¹ãƒˆã¯æŠ½å‡ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚ã¤ã¾ã‚Šã€ã‚­ãƒ£ãƒ—ãƒãƒ£ç”»åƒã‹ã‚‰å¯¾è±¡ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’åå‰ã§åˆ¤åˆ¥ã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚åå‰ã§ã®åˆ¤åˆ¥ãŒã§ããªã„ã®ã§ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã®ãƒã‚¤ãƒˆæ–‡å­—åˆ—ã§åˆ¤åˆ¥ã—ã¦ã¿ã¾ã™ã€‚\nå¯¾è±¡ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ã‚µãƒ ãƒã‚¤ãƒ«ã¯ã“ã®éƒ¨åˆ†ã§ã™ã€‚\nã‚­ãƒ£ãƒ—ãƒãƒ£ç”»åƒã®ã‚µã‚¤ã‚ºã¯ 1260x640 (px) ãªã®ã§ã€ã“ã®éƒ¨åˆ†ã®åº§æ¨™ (å·¦ä¸ŠãŒ (0,0)) ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nA : (911, 474) B : (959, 474) C : (959, 522) D : (911, 522) ã“ã®éƒ¨åˆ†ã‚’ãƒˆãƒªãƒŸãƒ³ã‚°ã™ã‚‹ã«ã¯ã€ Python ã® opencv-python ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã„ã¾ã™ã€‚(Python ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 3.7.x ã¨ã—ã¾ã™)\n$ pip install opencv-python ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®åˆ¤åˆ¥ã«ã¯ã€ãƒˆãƒªãƒŸãƒ³ã‚°ã—ãŸç”»åƒã®ãƒã‚¤ãƒˆæ–‡å­—åˆ—ã‚’ä½¿ã„ã¾ã™ãŒã€ãã®ã¾ã¾ã ã¨é•·ã™ãã‚‹ã®ã§ãƒãƒƒã‚·ãƒ¥å€¤ã§åˆ¤åˆ¥ã™ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚\nãƒˆãƒªãƒŸãƒ³ã‚°ã—ã¦ç”»åƒã®ãƒãƒƒã‚·ãƒ¥å€¤ã‚’å–å¾—ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®é€šã‚Šã€‚\nimport cv2 import hashlib import os import sys THUMBNAIL_DIR = \u0026#39;./char_thumb\u0026#39; character_area = { \u0026#39;A\u0026#39;: {\u0026#39;X\u0026#39;: 911, \u0026#39;Y\u0026#39;: 474}, \u0026#39;B\u0026#39;: {\u0026#39;X\u0026#39;: 959, \u0026#39;Y\u0026#39;: 474}, \u0026#39;C\u0026#39;: {\u0026#39;X\u0026#39;: 959, \u0026#39;Y\u0026#39;: 522}, \u0026#39;D\u0026#39;: {\u0026#39;X\u0026#39;: 911, \u0026#39;Y\u0026#39;: 522}, } def get_character_hash(image_path): img = cv2.imread(image_path) trimed = img[ character_area[\u0026#39;A\u0026#39;][\u0026#39;Y\u0026#39;]: character_area[\u0026#39;D\u0026#39;][\u0026#39;Y\u0026#39;], character_area[\u0026#39;A\u0026#39;][\u0026#39;X\u0026#39;]: character_area[\u0026#39;C\u0026#39;][\u0026#39;X\u0026#39;]] trimed_bytes = trimed.tobytes() trimed_hash = hashlib.sha1(trimed_bytes).hexdigest() thumb_path = f\u0026#39;{THUMBNAIL_DIR}/{trimed_hash}.jpg\u0026#39; if os.path.exists(thumb_path) is False: cv2.imwrite(thumb_path, trimed) return trimed_hash if __name__ == \u0026#39;__main__\u0026#39;: image_path = sys.argv[1] character_hash = get_character_hash(image_path) print(character_hash) æ¬¡ã®ã‚ˆã†ã«ã—ã¦å®Ÿè¡Œã™ã‚‹ã¨ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒã®ãƒãƒƒã‚·ãƒ¥å€¤ãŒå‡ºåŠ›ã•ã‚Œã€ã‚µãƒ ãƒã‚¤ãƒ«ç”¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãƒˆãƒªãƒŸãƒ³ã‚°ã—ãŸç”»åƒãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚\n$ python trim_img.py 2020082121055400-0E7DF678130F4F0FA2C88AE72B47AFDF.jpg e6bc228bbea1f0d9034cbec36871df87628d9daf åŒã˜ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®åˆ¥ã®ã‚­ãƒ£ãƒ—ãƒãƒ£ç”»åƒã§ä½•åº¦ã‹è©¦ã—ã¾ã—ãŸãŒã€ãƒãƒƒã‚·ãƒ¥å€¤ãŒç•°ãªã‚‹ã“ã¨ã¯ãªã‹ã£ãŸã®ã§ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã¯ã“ã‚Œã§åˆ¤åˆ¥ã§ããã†ã§ã™ã€‚\nAmazon Rekognition ã® DetectText ã®åˆ¶é™ (ä»•æ§˜) ã¸ã®å¯¾å¿œ Amazon Rekognition ã® DetectText ã®åˆ¶é™ (ä»•æ§˜) ã¨ã—ã¦ã€ã²ã¨ã¤ã®ç”»åƒã‹ã‚‰æ¤œå‡ºã§ãã‚‹ãƒ†ã‚­ã‚¹ãƒˆã®è¦ç´ æ•°ã«ã¯ä¸Šé™ãŒã‚ã‚Šã¾ã™ã€‚\nA word is one or more ISO basic latin script characters that are not separated by spaces. DetectText can detect up to 50 words in an image.\nDetectText - Amazon Rekognition ãƒ†ã‚­ã‚¹ãƒˆã®æ¤œå‡ºã¯ç”»åƒã®å·¦ä¸Šã‹ã‚‰å§‹ã¾ã£ã¦ã„ã‚‹ã‚ˆã†ã§ã€ç”»åƒå†…ã«ã“ã®ä¸Šé™ã‚’è¶…ãˆã‚‹ãƒ†ã‚­ã‚¹ãƒˆè¦ç´ ãŒå­˜åœ¨ã—ã¦ã„ã‚‹å ´åˆã€ç”»åƒã®ä¸‹ã®æ–¹ã®ãƒ†ã‚­ã‚¹ãƒˆã¯æ¤œå‡ºã•ã‚Œãªã„ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nä¾‹ãˆã°ã€æ¬¡ã®ã‚ˆã†ãªã‚­ãƒ£ãƒ—ãƒãƒ£ç”»åƒã§ã¯ä¸–ç•Œæˆ¦é—˜åŠ›ã®éƒ¨åˆ†ã«ãŸã©ã‚Šç€ãã¾ã§ã«æ¤œå‡ºæ•°ã®ä¸Šé™ã«é”ã—ã¦ãŠã‚Šã€ä¸–ç•Œæˆ¦é—˜åŠ›ã®å€¤ã‚’æ¤œå‡ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚\nã“ã®å•é¡Œã‚’å›é¿ã™ã‚‹ãŸã‚ã«ã€ã‚­ãƒ£ãƒ—ãƒãƒ£ã‚’ 4 åˆ†å‰²ã—ã¦å³ä¸‹ã®éƒ¨åˆ†ã®ã¿ã‚’æ¤œå‡ºå¯¾è±¡ç”»åƒã«ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nã“ã‚Œã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã¯ã€å…ˆç¨‹ã¨åŒæ§˜ã« opencv-python ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã‚’ãƒˆãƒªãƒŸãƒ³ã‚°ã—ã¾ã™ã€‚\nRekognition ã«ã¯ç”»åƒã®ãƒã‚¤ãƒˆæ–‡å­—åˆ—ã‚’æ¸¡ã™ã®ã§ã€ã‚­ãƒ£ãƒ—ãƒãƒ£ç”»åƒã®å³ä¸‹ã‚’ãƒˆãƒªãƒŸãƒ³ã‚°ã—ãŸç”»åƒã‚’ä¸€æ—¦ç”Ÿæˆã—ã€ãƒã‚¤ãƒˆæ–‡å­—åˆ—ã‚’å–å¾—ã—ã¾ã™ã€‚ãã®å¾Œã€ãƒˆãƒªãƒŸãƒ³ã‚°ã—ãŸç”»åƒã¯ä¸è¦ã«ãªã‚‹ã®ã§å‰Šé™¤ã—ã¾ã™ã€‚\u0026hellip;ã¨ã„ã†ã®ã‚’æ¬¡ã®é–¢æ•°ã§å‡¦ç†ã—ã¾ã™ã€‚\nTMP_DIR = \u0026#39;./tmp\u0026#39; def get_bytes_of_image(image_path): img = cv2.imread(image_path) trimed = img[ 360: 720, 640: 1280 ] ts = str(time.time()) trimed_tmp_path = f\u0026#39;{TMP_DIR}/{ts}.jpg\u0026#39; cv2.imwrite(trimed_tmp_path, trimed) with open(trimed_tmp_path, mode=\u0026#39;rb\u0026#39;) as img: image_bytes = img.read() os.remove(trimed_tmp_path) return image_bytes ä¸–ç•Œæˆ¦é—˜åŠ›ã®æç”»ã‚¨ãƒªã‚¢èª¿æ•´ Rekognition ã«ã‚ãŸã™ç”»åƒãŒå…ƒã®ã‚­ãƒ£ãƒ—ãƒãƒ£ã®å³ä¸‹éƒ¨åˆ†ã«ãªã£ãŸã®ã§ã€ DetectText ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‹ã‚‰ä¸–ç•Œæˆ¦é—˜åŠ›ã‚’æŠœãå‡ºã™ãŸã‚ã®æç”»ã‚¨ãƒªã‚¢ã‚’èª¿æ•´ã—ã¾ã™ã€‚\nãƒˆãƒªãƒŸãƒ³ã‚°ã•ã‚ŒãŸç”»åƒã¯ 640x320 (px) ã«ãªã£ã¦ãŠã‚Šã€ ABCD ã®å„åº§æ¨™ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nA : (366, 60) B : (576, 60) C : (576, 138) D : (366, 138) ã“ã‚Œã‚’ç”»åƒã‚µã‚¤ã‚ºã«å¯¾ã™ã‚‹å‰²åˆã«å¤‰æ›ã—ã¾ã™ã€‚\nA : (0.57187, 0.1875) B : (0.9, 0.1875) C : (0.9, 0.43125) D : (0.57187, 0.43125) ã‚ã¨ã¯å‰å›ã¨åŒã˜ã§ã™ã€‚\næ¤œå‡ºã•ã‚ŒãŸæƒ…å ±ã‚’ã¾ã¨ã‚ã‚‹ æœ€å¾Œã«ã€ã‚­ãƒ£ãƒ—ãƒãƒ£ç”»åƒã‹ã‚‰å¾—ã‚‰ã‚ŒãŸæƒ…å ±ã‚’ã²ã¨ã¤ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ã¾ã¨ã‚ã¾ã™ã€‚ã¾ã¨ã‚ã‚‹æƒ…å ±ã¨ã—ã¦ã¯æ¬¡ã®é€šã‚Šã§ã™ã€‚\nã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ãƒãƒƒã‚·ãƒ¥å€¤ ã‚­ãƒ£ãƒ—ãƒãƒ£ç”»åƒã®å–å¾—æ—¥æ™‚ ä¸–ç•Œæˆ¦é—˜åŠ›ã®å€¤ ã“ã‚Œã‚‰ã‚’ JSON ã§å‡ºåŠ›ã™ã‚‹ã‚ˆã†ã«æ”¹ä¿®ã—ãŸã®ãŒä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚\nimport boto3 import cv2 import datetime import hashlib import json import os import re import sys import time TMP_DIR = \u0026#39;./tmp\u0026#39; THUMBNAIL_DIR = \u0026#39;./char_thumb\u0026#39; reko = boto3.client(\u0026#39;rekognition\u0026#39;) target_area = { \u0026#39;A\u0026#39;: {\u0026#39;X\u0026#39;: 0.57187, \u0026#39;Y\u0026#39;: 0.1875}, \u0026#39;B\u0026#39;: {\u0026#39;X\u0026#39;: 0.9, \u0026#39;Y\u0026#39;: 0.1875}, \u0026#39;C\u0026#39;: {\u0026#39;X\u0026#39;: 0.9, \u0026#39;Y\u0026#39;: 0.43125}, \u0026#39;D\u0026#39;: {\u0026#39;X\u0026#39;: 0.57187, \u0026#39;Y\u0026#39;: 0.43125}, } character_area = { \u0026#39;A\u0026#39;: {\u0026#39;X\u0026#39;: 911, \u0026#39;Y\u0026#39;: 474}, \u0026#39;B\u0026#39;: {\u0026#39;X\u0026#39;: 959, \u0026#39;Y\u0026#39;: 474}, \u0026#39;C\u0026#39;: {\u0026#39;X\u0026#39;: 959, \u0026#39;Y\u0026#39;: 522}, \u0026#39;D\u0026#39;: {\u0026#39;X\u0026#39;: 911, \u0026#39;Y\u0026#39;: 522}, } def get_datetime_from_image_path(image_path): datetime_part = re.sub(r\u0026#39;.*(\\d{16}).*\u0026#39;, r\u0026#39;\\1\u0026#39;, image_path)[:14] dt = datetime.datetime.strptime(datetime_part, \u0026#39;%Y%m%d%H%M%S\u0026#39;) datetime_str = \u0026#39;{0:%Y-%m-%d %H:%M:%S}\u0026#39;.format(dt) return datetime_str def get_character_hash(image_path): img = cv2.imread(image_path) trimed = img[ character_area[\u0026#39;A\u0026#39;][\u0026#39;Y\u0026#39;]: character_area[\u0026#39;D\u0026#39;][\u0026#39;Y\u0026#39;], character_area[\u0026#39;A\u0026#39;][\u0026#39;X\u0026#39;]: character_area[\u0026#39;C\u0026#39;][\u0026#39;X\u0026#39;]] trimed_bytes = trimed.tobytes() trimed_hash = hashlib.sha1(trimed_bytes).hexdigest() thumb_path = f\u0026#39;{THUMBNAIL_DIR}/{trimed_hash}.jpg\u0026#39; if os.path.exists(thumb_path) is False: cv2.imwrite(thumb_path, trimed) return trimed_hash def get_bytes_of_image(image_path): img = cv2.imread(image_path) trimed = img[ 360: 720, 640: 1280 ] ts = str(time.time()) trimed_tmp_path = f\u0026#39;{TMP_DIR}/{ts}.jpg\u0026#39; cv2.imwrite(trimed_tmp_path, trimed) with open(trimed_tmp_path, mode=\u0026#39;rb\u0026#39;) as img: image_bytes = img.read() os.remove(trimed_tmp_path) return image_bytes def detect_text(image_path): image_bytes = get_bytes_of_image(image_path) return reko.detect_text( Image={ \u0026#39;Bytes\u0026#39;: image_bytes } ) def get_smash_power(image_path): smash_power = 0 detect_res = detect_text(image_path) for detected in detect_res[\u0026#39;TextDetections\u0026#39;]: polygon = detected[\u0026#39;Geometry\u0026#39;][\u0026#39;Polygon\u0026#39;] if polygon[0][\u0026#39;X\u0026#39;] \u0026gt; target_area[\u0026#39;A\u0026#39;][\u0026#39;X\u0026#39;] and polygon[0][\u0026#39;Y\u0026#39;] \u0026gt; target_area[\u0026#39;A\u0026#39;][\u0026#39;Y\u0026#39;] \\ and polygon[1][\u0026#39;X\u0026#39;] \u0026lt; target_area[\u0026#39;B\u0026#39;][\u0026#39;X\u0026#39;] and polygon[1][\u0026#39;Y\u0026#39;] \u0026gt; target_area[\u0026#39;B\u0026#39;][\u0026#39;Y\u0026#39;] \\ and polygon[2][\u0026#39;X\u0026#39;] \u0026lt; target_area[\u0026#39;C\u0026#39;][\u0026#39;X\u0026#39;] and polygon[2][\u0026#39;Y\u0026#39;] \u0026lt; target_area[\u0026#39;C\u0026#39;][\u0026#39;Y\u0026#39;] \\ and polygon[3][\u0026#39;X\u0026#39;] \u0026gt; target_area[\u0026#39;D\u0026#39;][\u0026#39;X\u0026#39;] and polygon[3][\u0026#39;Y\u0026#39;] \u0026lt; target_area[\u0026#39;D\u0026#39;][\u0026#39;Y\u0026#39;]: smash_power = int(detected[\u0026#39;DetectedText\u0026#39;].replace(\u0026#39;,\u0026#39;, \u0026#39;\u0026#39;)) return smash_power def generate_smash_power_item(image_path): # Datetime of data datetime_str = get_datetime_from_image_path(image_path) # Get Smash Power via Amazon Rekognition smash_power = get_smash_power(image_path) # Get character hash (and Generate character thumbnail) character_hash = get_character_hash(image_path) return { \u0026#39;character_hash\u0026#39;: character_hash, \u0026#39;capture_datetime\u0026#39;: datetime_str, \u0026#39;power\u0026#39;: smash_power } if __name__ == \u0026#39;__main__\u0026#39;: image_path = sys.argv[1] smash_power_item = generate_smash_power_item(image_path) print(json.dumps(smash_power_item, indent=2, ensure_ascii=False)) ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªçµæœãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚\n$ python detect_smash_power.py 2019100921045700-0E7DF678130F4F0FA2C88AE72B47AFDF.jpg { \u0026#34;character_hash\u0026#34;: \u0026#34;06e200a624eab0babac0ea3fee6325efcb3dae05\u0026#34;, \u0026#34;capture_datetime\u0026#34;: \u0026#34;2019-10-09 21:04:57\u0026#34;, \u0026#34;power\u0026#34;: 1000958 } ã‚³ãƒ¼ãƒ‰ã¯ã“ã¡ã‚‰ã€‚\nUse Amazon Rekognition to detect world strength from captured images of Smash Bros SPECIAL. (part 2) ã¾ã¨ã‚ Amazon Rekognition ã‚’ä½¿ã£ã¦ã‚¹ãƒãƒ–ãƒ© SP ã®ä¸–ç•Œæˆ¦é—˜åŠ›ã‚’æŠœãå‡ºã—ã¦ã¿ã¾ã—ãŸã€ã¨ã„ã† å‰å› ã®è¨˜äº‹ã‹ã‚‰ã€ä»Šå›ã¯ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®åˆ¤åˆ¥ã¨ãƒ‡ãƒ¼ã‚¿ã®ã¾ã¨ã‚ã‚’è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚ãã®éš›ã« Rekognition ã®åˆ¶é™ (ä»•æ§˜) ã«ã‚‚å¯¾å¿œã—ã¦ã¿ã¾ã—ãŸã€‚\nã“ã‚Œã§ãƒ‡ãƒ¼ã‚¿ã®ç”Ÿæˆæº–å‚™ãŒæ•´ã£ãŸã®ã§ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã”ã¨ã®ä¸–ç•Œæˆ¦é—˜åŠ›ã®æ¨ç§»ã‚’ã‚°ãƒ©ãƒ•åŒ–ã§ãã‚‹æœªæ¥ã‚‚è¿‘ãã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-extract-value-of-smash-blos-sp-power-by-rekognition-2/",
    "title": "ç¶šãƒ»Amazon Rekognition ã‚’ä½¿ã£ã¦ã‚¹ãƒãƒ–ãƒ© SP ã®ã‚­ãƒ£ãƒ—ãƒãƒ£ç”»åƒã‹ã‚‰ä¸–ç•Œæˆ¦é—˜åŠ›ã‚’æŠœãå‡ºã™"
  },
  {
    "contents": "Serverless Meetup Japan Virtual #5 ã«ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§å‚åŠ ã—ãŸã®ã§ã€ãã®å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆãƒ»ãƒ¡ãƒ¢ã§ã™ã€‚\nServerless Meetup Japan Virtual #5 - connpass Twitter ã®ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã¯ #serverlessjp ã§ã™ã€‚\n#2ã€#3 ã®æ§˜å­ã¯ã“ã¡ã‚‰ã€‚\nã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ« Timeline Title Speaker 20:45-21:00 Social 21:00-21:05 Opening Talk 21:05-21:10 Forkwellã•ã‚“å‘ŠçŸ¥!! é‡æœ¬æ¹§æ°—ã•ã‚“ 21:10-21:30 DynamoDB ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å†ç·¨äº‹ä¾‹ ä¸¹ç¾½ä¸€æ™ºã•ã‚“ (Game Server Services) 21:30-21:40 Meetup Zoomå‚åŠ ãƒ¡ãƒ³ãƒãƒ¼ 21:40-22:00 æ¥½ã—ã„ã“ã¨ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ãŸã„ï¼ä¸Šæ‰‹ãªã‚¯ãƒ©ã‚¦ãƒ‰ã®ä½¿ã„æ–¹ ä¸­ä¸¸è‰¯ã•ã‚“ (Google) 22:00-22:30 Meetup Zoomå‚åŠ ãƒ¡ãƒ³ãƒãƒ¼ 22:30- Closing ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ¬ãƒãƒ¼ãƒˆ DynamoDB ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å†ç·¨äº‹ä¾‹ SEGA -\u0026gt; Nintendo -\u0026gt; èµ·æ¥­ GS2 ã¨ã„ã†ã‚²ãƒ¼ãƒ ã«ç‰¹åŒ–ã—ãŸã‚µãƒ¼ãƒ“ã‚¹ DynamoDB ã®ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹æˆã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ å‹•æ©Ÿ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®è¨­è¨ˆã«å¤±æ•— LSI (Local Secondaly Index) ã¯ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆæ™‚ã«ã—ã‹è¨­å®šã§ããªã„ ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆ x ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã§ã€ãã‚Œãã‚Œã®çµ„ã¿åˆã‚ã›ã§ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆ çµæœã¨ã—ã¦ãƒ†ãƒ¼ãƒ–ãƒ«æ•°ãŒ 2,000 ã‚’è¶…ãˆã‚‹ æ–°ã—ã„ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’æº–å‚™ æµã‚Œã¯ RDBMS ã®ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨åŒã˜ æ–°ã—ã„ãƒ†ãƒ¼ãƒ–ãƒ«ã¸ã®åŒæœŸ æ–¹æ³•ã¨ã—ã¦ã¯ 2 é€šã‚Š DynamoDB Stream ä½œæˆãƒ»æ›´æ–°ãƒ»å‰Šé™¤ã‚¤ãƒ™ãƒ³ãƒˆã‹ã‚‰ Lambda ã‚’å®Ÿè¡Œ ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ ä»Šå›ã¯ã“ã¡ã‚‰ã‚’æ¡ç”¨ ãƒ†ãƒ¼ãƒ–ãƒ«æ•°ãŒ 2,000 ã‚‚ã‚ã‚Šã€Stream ã®åˆ¶é™ãŒã‚ã‚‹ã®ã§ã¯ãªã„ã‹ï¼Ÿã¨æ€ã£ãŸã‹ã‚‰ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å•é¡Œã‚’å›é¿ã™ã‚‹ãŸã‚ã« å…ˆã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œã‚‹ å±æ€§åã« __lsi_ ã‚’ã¤ã‘ã¦å…ˆã«ä½œã£ã¦ã—ã¾ã† ä½¿ã„ãŸããªã£ãŸã‚‰å€¤ã‚’å…¥ã‚Œã¦ã„ã 1 ãƒ†ãƒ¼ãƒ–ãƒ«ã§ã„ã‚ã‚“ãªã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’æ‰±ã„ã‚„ã™ããªã£ãŸ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— ãƒ†ãƒŠãƒ³ãƒˆã”ã¨ã«ãƒã‚¤ãƒ³ãƒˆã‚¤ãƒ³ã‚¿ã‚¤ãƒ ãƒªã‚«ãƒãƒª Cloud Firestore ã¨ã»ã¼åŒã˜è§¦ã‚Šå¿ƒåœ°ã«ãªã£ãŸ Q\u0026amp;A Q. å‰¯ä½œç”¨ã¯ï¼Ÿãƒ‡ãƒ¡ãƒªãƒƒãƒˆã¯ï¼Ÿ A. äººé–“ãŒè¦‹ã«ãããªã‚‹ã€‚é–¢é€£ã™ã‚‹å±æ€§ã‚’æ¶ˆã™ã®ãŒå¤§å¤‰ã€‚ Q. GSI ã§ã‚„ã‚‰ãªã„ç†ç”±ã¯ï¼Ÿ A. ã‚³ã‚¹ãƒˆã®å•é¡Œã¨ã€æ•´åˆæ€§ã®å•é¡Œã€‚GSI ã ã¨çµæœæ•´åˆæ€§ã€ LSI ã ã¨å¼·æ•´åˆæ€§ã€‚ Q. ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®è¦³ç‚¹ã‹ã‚‰ã™ã‚‹ã¨å…ƒã€…ã®ã»ã†ãŒæ­£ã—ã„ã®ã§ã¯ï¼Ÿ A. ã‚²ãƒ¼ãƒ ã®ç”¨é€”ã ã¨ç‰¹å®šã®ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã ã‘ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã™ã‚‹ã¨ã„ã†ã“ã¨ã¯ãªã„ã€‚ Q. ã‚·ãƒ³ã‚°ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆãŒå¥½ãã ãŒã€è¨­è¨ˆã«æ™‚é–“ãŒã‹ã‹ã‚‹ã€‚æ–°ã—ã„é–‹ç™ºã ã¨ãã®ã‚ãŸã‚Šã®é›£ã—ã•ã¯ï¼Ÿ A. æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ã®ã¨ã‚Šæ–¹ã‚’ã—ãŸããªã£ãŸã¨ãã«ã§ããªã„ã€‚ Q. è¨­è¨ˆã«æ›ã‘ãŸæ™‚é–“ã¯ï¼Ÿ A. 2 é€±é–“ãã‚‰ã„ Q. ã‚³ã‚¹ãƒˆã¯å‰Šæ¸›ã§ããŸï¼Ÿ A. ã‚ã¾ã‚Šå‰Šæ¸›ã§ããŸå°è±¡ã¯ãªã„ã€‚ãŸã ã—ã€ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰/ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã®ç®¡ç†ã¯ã—ã‚„ã™ããªã£ãŸã€‚ Q. DB ã‚¢ã‚¯ã‚»ã‚¹ç”¨ã®ãƒªãƒã‚¸ãƒˆãƒªè‡ªå‹•ç”Ÿæˆã«ã¤ã„ã¦ã€‚ A. DDL ã‚’ã‚‚ã¨ã«ã€ãã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ã‚¯ãƒ©ã‚¹ãŒã§ãã‚ãŒã‚‹ã€‚ Q. æœ¬ä½“ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ å¤‰æ›´ã«ã‹ã‹ã£ãŸæ™‚é–“ã¯ï¼Ÿ A. ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯åŒã˜ãªã®ã§ã€ DB ã‚¢ã‚¯ã‚»ã‚¹éƒ¨åˆ†ã®å…¥ã‚Œæ›¿ãˆã®ã¿ã§å¯¾å¿œã§ããŸã€‚ Q. åŸºæœ¬çš„ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ã‚‚ã¨ã«ãƒ‡ãƒ¼ã‚¿ã‚’å¼•ã£å¼µã£ã¦ãã‚‹ï¼Ÿ A. ãã†ã€‚JOIN ã—ãŸã„ã‚ˆã†ãªå ´åˆã¯è¤‡æ•°ã‚¯ã‚¨ãƒªã‚’æŠ•ã’ã‚‹ã‚¹ã‚¿ãƒ³ã‚¹ã€‚ Q. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯ï¼Ÿ A. ã‚·ãƒ³ã‚°ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«ã«ãªã£ãŸã¨ã¯è¨€ãˆã€ã¯ã‚„ããªã£ãŸã‚ã‘ã§ã¯ãªã„ã€‚ Q. è‹¦æ‰‹ãªã‚¯ã‚¨ãƒªã¯ï¼Ÿæ—¥ä»˜ã®ç¯„å›²ãªã©ã€‚åŒã˜ã‚­ãƒ¼ãŒä¸¦ã¶å ´åˆãªã©ã€‚ A. ã‚³ãƒ³ãƒã‚¸ãƒƒãƒˆã‚­ãƒ¼ãŒè‹¦æ‰‹ã€‚LSI ã«å€¤ã‚’é€£çµã•ã›ãŸã‚‚ã®ã‚’ä¿æŒã™ã‚‹ã€‚\nç¯„å›²æ¤œç´¢ã¯ãƒ¬ãƒ³ã‚¸ã‚­ãƒ¼ã‚’ä½¿ã†ãŒã€ä»–ã®æ¡ä»¶ (ä»–ã®ã‚­ãƒ¼ã€ä»–ã®ç¯„å›²) ã¨çµ„ã¿åˆã‚ã•ã‚‹ã¨é›£ã—ããªã‚‹ã€‚\nåŒã˜ã‚­ãƒ¼ãŒä¸¦ã¶å ´åˆã«ã¤ã„ã¦ã¯ã€ã‚­ãƒ¼ãŒåˆ†æ•£ã™ã‚‹ã‚ˆã†ãªã‚­ãƒ¼è¨­è¨ˆã‚’ã—ã¦ã„ã‚‹ã€‚ æ¥½ã—ã„ã“ã¨ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ãŸã„ï¼ä¸Šæ‰‹ãªã‚¯ãƒ©ã‚¦ãƒ‰ã®ä½¿ã„æ–¹ (â€» å¤§äººã®äº‹æƒ…ã«ã‚ˆã‚Šãƒ¡ãƒ¢ã‚‚ãƒ­ãƒ¼ã‚«ãƒ«ã«ã¨ã©ã‚ã¦ãŠãã¾ã™\u0026hellip;)\nã¾ã¨ã‚ Serverless Meetup Japan Virtual #5 ã®å‚åŠ ãƒ¡ãƒ¢ã§ã—ãŸã€‚\nä»Šå›ã¯ Amazon DynamoDB ã®è©±ã¨ã€ Google Cloud ã®è©±ã§ã—ãŸã€‚ DynamoDB ã«ã¤ã„ã¦ã¯ã€ã‚·ãƒ³ã‚°ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«ã§ã® (ã‚­ãƒ¼) è¨­è¨ˆã¯ã™ã”ãè¤‡é›‘ã§å¤§å¤‰ãã†ã ãªã¨ã„ã†å°è±¡ã‚’å—ã‘ã¾ã—ãŸã€‚ DynamoDB ã«ã¤ã„ã¦ã¯ç„¡ç†ã›ãšãƒ†ãƒ¼ãƒ–ãƒ«ã‚’åˆ†ã‘ã¦ã„ãã¨ã„ã†è€ƒãˆã—ã‹ãªã‹ã£ãŸã®ã§ã€ã‚·ãƒ³ã‚°ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«ã§ã®é‹ç”¨ã«ã¤ã„ã¦ã¯èª¿ã¹ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã—ãŸã€‚\nzoom æ ã®æ–¹ã€…ã«ã¯ AWSã€Azureã€GCP ãªäººãŒãã‚Œãã‚Œã„ã‚‰ã£ã—ã‚ƒã£ãŸã®ã§ã€å„ã‚¯ãƒ©ã‚¦ãƒ‰ã‚’ã¾ãŸã„ã è©±ã‚’èãã“ã¨ãŒã§ããŸã®ã‚‚ã™ã”ãå‹‰å¼·ã«ãªã‚Šã¾ã—ãŸã€‚\næ¬¡å›ä»¥é™ã‚‚æ¥½ã—ã¿ã§ã™ã€‚ä»Šå›ã‚‚é–‹å‚¬ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/event-serverless-meetup-japan-virtual-5/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] Serverless Meetup Japan Virtual #5 ã®å‚åŠ ãƒ¡ãƒ¢ #serverlessjp"
  },
  {
    "contents": "ã¿ãªã•ã‚“ã‚¹ãƒãƒ–ãƒ©ã‚„ã£ã¦ã¾ã™ã‹ï¼Ÿä»Šå›ã¯ã€ã‚¹ãƒãƒ–ãƒ© SP ã®å¼·ã•ã‚’ã¯ã‹ã‚‹æŒ‡æ¨™ã§ã‚ã‚‹ ä¸–ç•Œæˆ¦é—˜åŠ› ã®å€¤ã‚’ Amazon Rekognition ã®ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡ºæ©Ÿèƒ½ã§æŠœãå‡ºã—ã¦ã¿ã¾ã™ã€‚\næ¦‚è¦ Nintendo Switch ã®ã‚²ãƒ¼ãƒ  å¤§ä¹±é—˜ã‚¹ãƒãƒƒã‚·ãƒ¥ãƒ–ãƒ©ã‚¶ãƒ¼ã‚º SPECIAL ã®ä¸–ç•Œæˆ¦é—˜åŠ›ã‚’ã€ Amazon Rekognition ã®ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡ºæ©Ÿèƒ½ã‚’ä½¿ã£ã¦ã€ã‚²ãƒ¼ãƒ å†…ã§æ’®å½±ã—ãŸã‚­ãƒ£ãƒ—ãƒãƒ£ç”»åƒã‹ã‚‰æŠœãå‡ºã—ã¾ã™ã€‚\nã‚¹ãƒãƒ–ãƒ© SP ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦ã®ã‚­ãƒ£ãƒ©é¸æŠç”»é¢ã§ã€ä»»æ„ã®ã‚­ãƒ£ãƒ©ã‚’é¸æŠã—ãŸçŠ¶æ…‹ã§ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ—ãƒãƒ£ã‚’æ’®ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ä¸‹è¨˜ã®ã‚ˆã†ãªã‚‚ã®ã€‚\nå³ä¸‹ã« 3 ã¤ã®æˆ¦é—˜åŠ›ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ãŒã€ä»Šå›æŠœãå‡ºã™ã®ã¯ä¸€ç•ªä¸Šã®æˆ¦é—˜åŠ›ã®å€¤ã§ã™ã€‚\nAmazon Rekognition Amazon Rekognition (ä»¥ä¸‹ã€Rekognition) ã¯ã€ AWS ã§æä¾›ã•ã‚Œã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ™ãƒ¼ã‚¹ã®è¦–è¦šåˆ†æã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚é™æ­¢ç”»ã‚„å‹•ç”»ã‹ã‚‰ç‰©ä½“ã‚„ã‚·ãƒ¼ãƒ³ã®æ¤œå‡ºã€é¡”åˆ†æã€ãƒ†ã‚­ã‚¹ãƒˆã®æŠ½å‡ºãªã©ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚\nä»Šå›ã¯ãã®ä¸­ã‹ã‚‰ ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º - Detect Text ã®æ©Ÿèƒ½ã‚’ä½¿ã„ã¾ã™ã€‚\nãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§è©¦ã™ Rekognition ã®å„æ©Ÿèƒ½ã¯ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆä»Šã‚½ãƒ¼ã‚¹ã‹ã‚‰ç°¡å˜ã«è©¦ã™ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ã¾ãšã¯ãã‚Œã§è©¦ã—ã¦ã¿ã¾ã™ã€‚\nã“ã®æ§˜ã«ã€ç”»åƒå†…ã®ãƒ†ã‚­ã‚¹ãƒˆãŒæŠ½å‡ºã•ã‚Œã¾ã™ã€‚ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å†…ã®é’æ ã‚’ãƒ›ãƒãƒ¼ã™ã‚‹ã¨ã€å³å´ã® çµæœ ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹æ–‡å­—åˆ—ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã¾ãŸã€ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ ã§ã¯å®Ÿéš›ã® API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ JSON å½¢å¼ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¾‹ãˆã°ã€ä»Šå›æŠœãå‡ºã—ãŸã„æˆ¦é—˜åŠ›éƒ¨åˆ†ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\n{ \u0026#34;DetectedText\u0026#34;: \u0026#34;7,816,946\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;WORD\u0026#34;, \u0026#34;Id\u0026#34;: 55, \u0026#34;ParentId\u0026#34;: 9, \u0026#34;Confidence\u0026#34;: 98.4032974243164, \u0026#34;Geometry\u0026#34;: { \u0026#34;BoundingBox\u0026#34;: { \u0026#34;Width\u0026#34;: 0.11172738671302795, \u0026#34;Height\u0026#34;: 0.04027777910232544, \u0026#34;Left\u0026#34;: 0.8187500238418579, \u0026#34;Top\u0026#34;: 0.6694444417953491 }, \u0026#34;Polygon\u0026#34;: [ { \u0026#34;X\u0026#34;: 0.8187500238418579, \u0026#34;Y\u0026#34;: 0.6694444417953491 }, { \u0026#34;X\u0026#34;: 0.930468738079071, \u0026#34;Y\u0026#34;: 0.668055534362793 }, { \u0026#34;X\u0026#34;: 0.930468738079071, \u0026#34;Y\u0026#34;: 0.7083333134651184 }, { \u0026#34;X\u0026#34;: 0.8187500238418579, \u0026#34;Y\u0026#34;: 0.7097222208976746 } ] } } DetectedText ãŒæŠ½å‡ºã•ã‚ŒãŸæ–‡å­—åˆ—ã€ Geometry ã«ã¯ãã®æ–‡å­—åˆ—ãŒç”»åƒã®ã©ã®ä½ç½®ã«ã‚ã‚‹ã‹ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ Geometry.Polygon ã§ã¯ã€ãã®æ–‡å­—åˆ—ãŒå­˜åœ¨ã™ã‚‹ã‚¨ãƒªã‚¢ (é•·æ–¹å½¢) ã®å››è§’ã®åº§æ¨™ã‚’ã€ç”»åƒã®ã‚µã‚¤ã‚ºã«å¯¾ã™ã‚‹å‰²åˆã§ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚\nä¸€ç‚¹æ³¨æ„ãŒå¿…è¦ãªã®ã¯ã€ æ—¥æœ¬èªã«ã¯å¯¾å¿œã—ã¦ã„ãªã„ ãŸã‚æ—¥æœ¬èªã®æ–‡å­—åˆ—ã«ã¤ã„ã¦ã¯æ­£ã—ãæŠ½å‡ºã™ã‚‹ã“ã¨ãŒã§ããªã„ã¨ã„ã†ç‚¹ã§ã™ã€‚\nPython ã§å®Ÿè£… ç¶šã„ã¦ã¯ã€ boto3 (AWS SDK for Python) ã‚’ä½¿ã£ã¦æˆ¦é—˜åŠ›ã‚’æŠ½å‡ºã—ã¦ã¿ã¾ã™ã€‚\nä½¿ã†ã®ã¯ boto3 ã® Client.detect_text ã§ã™ã€‚\nRekognition â€” Boto3 Docs 1.14.47 documentation | Client.detect_text ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡ºã™ã‚‹å¯¾è±¡ã®ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã¯ S3 ã¾ãŸã¯ãƒã‚¤ãƒˆæ–‡å­—åˆ—ã§æŒ‡å®šã—ã¾ã™ã€‚ä»Šå›ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚ã‚‹ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã†ã®ã§ã€ãƒã‚¤ãƒˆæ–‡å­—åˆ—ã§æŒ‡å®šã—ã¾ã™ã€‚\nå¯¾è±¡ã¨ãªã‚‹æˆ¦é—˜åŠ›ã®ã‚¨ãƒªã‚¢ã‚’ç¢ºèª å…ˆã»ã©ã®ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã®ä¾‹ã‚’è¦‹ã¦ã‚‚ã‚‰ã†ã¨ã‚ã‹ã‚‹ã‚ˆã†ã«ã€æŠ½å‡ºã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰æˆ¦é—˜åŠ›ã®éƒ¨åˆ†ã‚’åˆ¤å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã¯ãƒ†ã‚­ã‚¹ãƒˆãŒå­˜åœ¨ã™ã‚‹ã‚¨ãƒªã‚¢ã®å››è§’ã®åº§æ¨™ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã®åº§æ¨™ã‚’ã‚‚ã¨ã«ã—ã¦ç›®çš„ã®æˆ¦é—˜åŠ›ã‚’æŠœãå‡ºã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nç›®çš„ã®æˆ¦é—˜åŠ›ãŒå­˜åœ¨ã™ã‚‹ã‚¨ãƒªã‚¢ã¯ã€ã ã„ãŸã„ã“ã®ã‚ãŸã‚Šã§ã™ã€‚\nã‚¹ãƒãƒ–ãƒ© SP ã®ã‚­ãƒ£ãƒ—ãƒãƒ£ç”»åƒã®ã‚µã‚¤ã‚ºã¯ 1260 x 720 (px) ã§ã€ä¸Šã®ç”»åƒå†…ã«ç¤ºã—ãŸé•·æ–¹å½¢ ABCD ã®å„é ‚ç‚¹ã®åº§æ¨™ (X, Y ã®å§‹ç‚¹ã¯ç”»åƒã®å·¦ä¸Š) ã¯ã ã„ãŸã„ä¸‹è¨˜ã®å€¤ã§ã—ãŸã€‚\nA : (1004.85, 460.33) B : (1216.26, 460.33) C : (1216.26, 530.83) D : (1004.85, 530.83) ã“ã‚Œã‚’ç”»åƒã‚µã‚¤ã‚ºã«å¯¾ã™ã‚‹å‰²åˆã§è¡¨ã™ã¨\nA : (0.785039062, 0.639347222) B : (0.950203125, 0.639347222) C : (0.950203125, 0.737263889) D : (0.785039062, 0.737263889) ã¨ãªã‚Šã¾ã™ã€‚\nãƒ¬ã‚¹ãƒãƒ³ã‚¹å†…ã® Geometry.Polygon ã«å«ã¾ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ã“ã® ABCD ã®é †ç•ªã§å¯¾å¿œã—ã¦ã„ã‚‹ã®ã§ã€å„é ‚ç‚¹ãŒä¸Šã§ç”¨æ„ã—ãŸç¯„å›²å†…ã«å…¥ã£ã¦ã„ã‚‹ã‚‚ã®ã‚’ã€ç›®çš„ã®æˆ¦é—˜åŠ›ã¨ã™ã‚‹ã“ã¨ãŒã§ããã†ã§ã™ã€‚\nå®Ÿè£… å®Ÿéš›ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nimport boto3 import sys reko = boto3.client(\u0026#39;rekognition\u0026#39;) target_area = { \u0026#39;A\u0026#39;: {\u0026#39;X\u0026#39;: 0.785039062, \u0026#39;Y\u0026#39;: 0.639347222}, \u0026#39;B\u0026#39;: {\u0026#39;X\u0026#39;: 0.950203125, \u0026#39;Y\u0026#39;: 0.639347222}, \u0026#39;C\u0026#39;: {\u0026#39;X\u0026#39;: 0.950203125, \u0026#39;Y\u0026#39;: 0.737263889}, \u0026#39;D\u0026#39;: {\u0026#39;X\u0026#39;: 0.785039062, \u0026#39;Y\u0026#39;: 0.737263889}, } def get_bytes_of_image(image_path): with open(image_path, mode=\u0026#39;rb\u0026#39;) as img: image_bytes = img.read() return image_bytes def detect_text(image_path): image_bytes = get_bytes_of_image(image_path) return reko.detect_text( Image={ \u0026#39;Bytes\u0026#39;: image_bytes } ) def get_smash_power(image_path): smash_power = \u0026#39;0\u0026#39; detect_res = detect_text(image_path) for detected in detect_res[\u0026#39;TextDetections\u0026#39;]: polygon = detected[\u0026#39;Geometry\u0026#39;][\u0026#39;Polygon\u0026#39;] if polygon[0][\u0026#39;X\u0026#39;] \u0026gt; target_area[\u0026#39;A\u0026#39;][\u0026#39;X\u0026#39;] and polygon[0][\u0026#39;Y\u0026#39;] \u0026gt; target_area[\u0026#39;A\u0026#39;][\u0026#39;Y\u0026#39;] \\ and polygon[1][\u0026#39;X\u0026#39;] \u0026lt; target_area[\u0026#39;B\u0026#39;][\u0026#39;X\u0026#39;] and polygon[1][\u0026#39;Y\u0026#39;] \u0026gt; target_area[\u0026#39;B\u0026#39;][\u0026#39;Y\u0026#39;] \\ and polygon[2][\u0026#39;X\u0026#39;] \u0026lt; target_area[\u0026#39;C\u0026#39;][\u0026#39;X\u0026#39;] and polygon[2][\u0026#39;Y\u0026#39;] \u0026lt; target_area[\u0026#39;C\u0026#39;][\u0026#39;Y\u0026#39;] \\ and polygon[3][\u0026#39;X\u0026#39;] \u0026gt; target_area[\u0026#39;D\u0026#39;][\u0026#39;X\u0026#39;] and polygon[3][\u0026#39;Y\u0026#39;] \u0026lt; target_area[\u0026#39;D\u0026#39;][\u0026#39;Y\u0026#39;]: smash_power = detected[\u0026#39;DetectedText\u0026#39;] return smash_power if __name__ == \u0026#39;__main__\u0026#39;: image_path = sys.argv[1] smash_power = get_smash_power(image_path) print(smash_power) å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ python detect_smash_power.py 2020082121055400-0E7DF678130F4F0FA2C88AE72B47AFDF.jpg 7,816,946 å–ã‚Œã¾ã—ãŸã€‚\nUse Amazon Rekognition to detect world strength from captured images of Smash Bros SPECIAL. ã¾ã¨ã‚ Amazon Rekognition ã‚’ä½¿ã£ã¦ã‚¹ãƒãƒ–ãƒ© SP ã®ä¸–ç•Œæˆ¦é—˜åŠ›ã‚’æŠœãå‡ºã—ã¦ã¿ã¾ã—ãŸã€‚ã‚­ãƒ£ãƒ—ãƒãƒ£ç”»åƒã«ã¯ã‚­ãƒ£ãƒ—ãƒãƒ£ã—ãŸæ—¥æ™‚ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã®å€¤ã‚‚å«ã‚ã‚Œã°ä¸–ç•Œæˆ¦é—˜åŠ›ã®æ¨ç§»ãŒã‚°ãƒ©ãƒ•åŒ–ã§ããã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-extract-value-of-smash-blos-sp-power-by-rekognition/",
    "title": "Amazon Rekognition ã‚’ä½¿ã£ã¦ã‚¹ãƒãƒ–ãƒ© SP ã®ã‚­ãƒ£ãƒ—ãƒãƒ£ç”»åƒã‹ã‚‰ä¸–ç•Œæˆ¦é—˜åŠ›ã‚’æŠœãå‡ºã™"
  },
  {
    "contents": "Go æ­´åŠå¹´ãã‚‰ã„ã§ã€ä¸»ã« Serverless Framework ã§ Lambda é–¢æ•°ã‚’æ›¸ãã¨ã„ã†ç”¨é€”ã§ä½¿ã£ã¦ã„ã¾ã™ã€‚ä»Šå›ã¯ Go ã® Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ Revel ã‚’è§¦ã£ã¦ã¿ã‚ˆã†ã¨ã„ã†ã“ã¨ã§ã€å…¬å¼ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’ã‚„ã£ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ å…¬å¼ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ èµ·å‹• ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å‡¦ç†ãƒ•ãƒ­ãƒ¼ Hello World ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã‚‹ ã¾ã¨ã‚ æ¦‚è¦ Go ã® Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã‚ã‚‹ Revel ã®å…¬å¼ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’ä¸€é€šã‚Šã‚„ã£ã¦ã¿ã¾ã™ã€‚\nGo ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 1.14.4 ã§ã™ã€‚\n$ go version go version go1.14.4 darwin/amd64 å…¬å¼ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« ã“ã“ã‹ã‚‰ã¯ã€ Revel ã®å…¬å¼ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’ã‚„ã£ã¦ã„ãã¾ã™ã€‚\nIntroduction | Revel - A Web Application Framework for Go! ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã¾ãšã¯ Revel ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ Revel ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ go get github.com/revel/revel $ go get github.com/revel/cmd/revel ãƒ˜ãƒ«ãƒ—ã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚\n$ revel --help Usage: revel [OPTIONS] \u0026lt;command\u0026gt; Application Options: -v, --debug If set the logger is set to verbose --historic-run-mode If set the runmode is passed a string not json --historic-build-mode If set the code is scanned using the original parsers, not the go.1.11+ -X, --build-flags= These flags will be used when building the application. May be specified multiple times, only applicable for Build, Run, Package, Test commands --gomod-flags= These flags will execute go mod commands for each flag, this happens during the build process Help Options: -h, --help Show this help message Available commands: build clean new package run test version $ revel version Revel executing: displays the Revel Framework and Go version Revel Framework\t:\tUnknown\t(1.0.0 remote master branch) Revel Cmd\t:\t1.0.0\t(1.0.0 remote master branch) Revel Modules\t:\tUnknown\t(1.0.0 remote master branch) Go Location:/usr/local/bin/go go version go1.14.4 darwin/amd64 ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ ç¶šã„ã¦ã€ my-app ã¨ã„ã†åå‰ã® Revel ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¾ã™ã€‚\n$ revel new -a my-app Revel executing: create a skeleton Revel application Your application has been created in: /Users/hoge/Projects/go-revel/my-app You can run it with: revel run -a my-app ä½œæˆãŒå®Œäº†ã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ãŒä½œã‚‰ã‚Œã¾ã™ã€‚\n$ tree -a -L 2 . â”œâ”€â”€ .gitignore â”œâ”€â”€ README.md â”œâ”€â”€ app â”‚ â”œâ”€â”€ controllers â”‚ â”œâ”€â”€ init.go â”‚ â”œâ”€â”€ routes â”‚ â”œâ”€â”€ tmp â”‚ â””â”€â”€ views â”œâ”€â”€ conf â”‚ â”œâ”€â”€ app.conf â”‚ â””â”€â”€ routes â”œâ”€â”€ go.mod â”œâ”€â”€ go.sum â”œâ”€â”€ messages â”‚ â””â”€â”€ sample.en â”œâ”€â”€ none â”œâ”€â”€ public â”‚ â”œâ”€â”€ css â”‚ â”œâ”€â”€ fonts â”‚ â”œâ”€â”€ img â”‚ â””â”€â”€ js â”œâ”€â”€ target â”‚ â””â”€â”€ app â””â”€â”€ tests â””â”€â”€ apptest.go èµ·å‹• revel run ã‚³ãƒãƒ³ãƒ‰ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·å‹•ã—ã¾ã™ã€‚\n$ cd my-app $ revel run -a my-app Revel executing: run a Revel application WARN 19:51:15 harness.go:175: No http.addr specified in the app.conf listening on localhost interface only. This will not allow external access to your application Changed detected, recompiling Parsing packages, (may require download if not cached)... Completed INFO 19:51:25 app run.go:34: Running revel server INFO 19:51:25 app plugin.go:9: Go to /@tests to run the tests. Revel engine is listening on.. localhost:59472 Revel proxy is listening, point your browser to : 9000 Time to recompile 10.823098593s ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒå®Œäº†ã—ãŸã‚ã¨ http://localhost:9000 ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nå³ã«è¦‹ãˆã¦ã„ã‚‹ä¸‰è§’ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã¡ãªã¿ã« Revel ã§ã¯ Go ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å¤‰æ›´ã—ãŸæ™‚ç‚¹ã§è‡ªå‹•ã§å†ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\nãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å‡¦ç†ãƒ•ãƒ­ãƒ¼ ã§ã¯ã€å®Ÿéš›ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå‡¦ç†ã•ã‚Œã‚‹æµã‚Œã‚’è¦‹ã¦ã¿ã¾ã™ã€‚\nãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° ã¾ãšã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯ conf/routes ã§è¨­å®šã—ã¾ã™ã€‚\n# Routes Config # # This file defines all application routes (Higher priority routes first) # module:testrunner # module:jobs GET / App.Index App.Index ã¨ã¯ã€å¯¾å¿œã™ã‚‹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¡¨ã—ã¾ã™ã€‚\nã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ å‰è¿°ã®é€šã‚Šã€ conf/routes å†…ã§ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«å¯¾å¿œã™ã‚‹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ App.Index ã¨ã¯ app/controllers/app.go å†…ã® Index() ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒ‡ã—ã¾ã™ã€‚\npackage controllers import ( \u0026#34;github.com/revel/revel\u0026#34; ) type App struct { *revel.Controller } func (c App) Index() revel.Result { return c.Render() } ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ« ã“ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«å¯¾å¿œã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¯ app/views/App/Index.html ã¨ãªã‚Šã¾ã™ã€‚\n{{set . \u0026#34;title\u0026#34; \u0026#34;Home\u0026#34;}} {{template \u0026#34;header.html\u0026#34; .}} \u0026lt;header class=\u0026#34;jumbotron\u0026#34; style=\u0026#34;background-color:#A9F16C\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;row\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;It works!\u0026lt;/h1\u0026gt; \u0026lt;p\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/header\u0026gt; \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;row\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;span6\u0026#34;\u0026gt; {{template \u0026#34;flash.html\u0026#34; .}} \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; {{template \u0026#34;footer.html\u0026#34; .}} ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‹ã‚‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¸ã®ãƒ‡ãƒ¼ã‚¿æ¸¡ã— ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‹ã‚‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¸ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã™ã«ã¯ã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãã‚Œãã‚Œæ¬¡ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚\nã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼\nfunc (c App) Index() revel.Result { greeting := \u0026#34;Aloha World\u0026#34; return c.Render(greeting) } ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n\u0026lt;div class=\u0026#34;row\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;{{.greeting}}\u0026lt;/h1\u0026gt; \u0026lt;p\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; Hello World ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã‚‹ ç¶šã„ã¦ã€ç°¡å˜ãªãƒ•ã‚©ãƒ¼ãƒ ã‚’ç”¨ã„ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¦ã¿ã¾ã™ã€‚\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ãƒ»è¿½åŠ  æ—¢å­˜ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ« app/views/App/Index.html ã«ä¸‹è¨˜ã®ãƒ•ã‚©ãƒ¼ãƒ ã‚’è¿½åŠ ã—ã¾ã™ã€‚\n\u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;row\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;span6\u0026#34;\u0026gt; {{template \u0026#34;flash.html\u0026#34; .}} + \u0026lt;form action=\u0026#34;/App/Hello\u0026#34; method=\u0026#34;GET\u0026#34;\u0026gt; + \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;myName\u0026#34; /\u0026gt;\u0026lt;br/\u0026gt; + \u0026lt;input type=\u0026#34;submit\u0026#34; value=\u0026#34;Say hello!\u0026#34; /\u0026gt; + \u0026lt;/form\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; {{template \u0026#34;footer.html\u0026#34; .}} ãã—ã¦ã€ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡å¾Œã«è¡¨ç¤ºã•ã‚Œã‚‹ãƒšãƒ¼ã‚¸ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ä¸‹è¨˜ã®å†…å®¹ã§ app/views/App/Hello.html ã¨ã„ã†åå‰ã§ä½œæˆã—ã¾ã™ã€‚\n{{set . \u0026#34;title\u0026#34; \u0026#34;Hello page\u0026#34;}} {{template \u0026#34;header.html\u0026#34; .}} \u0026lt;h1\u0026gt;Hello {{.myName}}\u0026lt;/h1\u0026gt; \u0026lt;a href=\u0026#34;/\u0026#34;\u0026gt;Back to form\u0026lt;/a\u0026gt; {{template \u0026#34;footer.html\u0026#34; .}} ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã«ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ  ç¶šã„ã¦ã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ app/controllers/app.go ã«ä¸‹è¨˜ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã—ã¾ã™ã€‚\nfunc (c App) Hello(myName string) revel.Result { return c.Render(myName) } ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®è¿½åŠ  æœ€å¾Œã«ã€ conf/routes ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¿½åŠ ã—ã¾ã™ã€‚\nGET / App.Index + GET /App/Hello App.Hello ã“ã‚Œã§æº–å‚™ãŒæ•´ã£ãŸã®ã§ã€ãƒ•ã‚©ãƒ¼ãƒ ã«å€¤ã‚’é€ä¿¡ã—ã¦ã¿ã¾ã™ã€‚\nãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®è¿½åŠ  ä»Šä½œã£ãŸãƒ•ã‚©ãƒ¼ãƒ ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã™ã€‚ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é …ç›®ã¨ã—ã¦ã¯ã€å¿…é ˆãƒã‚§ãƒƒã‚¯ã¨æœ€ä½æ–‡å­—æ•°ãƒã‚§ãƒƒã‚¯ã§ã™ã€‚\nã¾ãšã¯ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ app/controllers/app.go ã® Hello() ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æ¬¡ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚\nfunc (c App) Hello(myName string) revel.Result { + c.Validation.Required(myName).Message(\u0026#34;Your name is required!\u0026#34;) + c.Validation.MinSize(myName, 3).Message(\u0026#34;Your name is not long enough!\u0026#34;) + + if c.Validation.HasErrors() { + c.Validation.Keep() + c.FlashParams() + return c.Redirect(App.Index) + } return c.Render(myName) } ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¡¨ç¤ºã¯ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ« app/views/App/Index.html ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ app/views/flash.html å†…ã§è¡Œã‚ã‚Œã¾ã™ã€‚\n{{if .flash.success}} \u0026lt;div class=\u0026#34;alert alert-success\u0026#34;\u0026gt; {{.flash.success}} \u0026lt;/div\u0026gt; {{end}} {{if or .errors .flash.error}} \u0026lt;div class=\u0026#34;alert alert-danger\u0026#34;\u0026gt; {{if .flash.error}} {{.flash.error}} {{end}} \u0026lt;ul style=\u0026#34;margin-top:10px;\u0026#34;\u0026gt; {{range .errors}} \u0026lt;li\u0026gt;{{.}}\u0026lt;/li\u0026gt; {{end}} \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; {{end}} ãã—ã¦ã€ãƒ•ã‚©ãƒ¼ãƒ éƒ¨åˆ†ã‚’æ¬¡ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚\n\u0026lt;form action=\u0026#34;/App/Hello\u0026#34; method=\u0026#34;GET\u0026#34;\u0026gt; - \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;myName\u0026#34; /\u0026gt;\u0026lt;br/\u0026gt; + {{with $field := field \u0026#34;myName\u0026#34; .}} + \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;{{$field.Name}}\u0026#34; value=\u0026#34;{{$field.Flash}}\u0026#34;/\u0026gt;\u0026lt;br/\u0026gt; + {{end}} \u0026lt;input type=\u0026#34;submit\u0026#34; value=\u0026#34;Say hello!\u0026#34; /\u0026gt; \u0026lt;/form\u0026gt; ã¾ã¨ã‚ Go ã® Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ Revel ã®å…¬å¼ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’ã‚„ã£ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nRevel ã‚’ä½¿ã£ãŸã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã„ãã¤ã‹å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€æ¬¡å›ã¯ DB ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚‚å«ã‚ãŸã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è§¦ã£ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/programming-get-started-revel-go-web-framework/",
    "title": "Go ã® Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ Revel ã‚’è©¦ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æ›¸ã„ã¦ã„ã‚‹ã¨ãã«ã€ç‰¹å®šã®å€¤ãŒãƒªã‚¹ãƒˆãªã©ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å«ã¾ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹å ´é¢ã¯ã‚ˆãã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚ä¹…ã€…ã«å…¥é–€ Python 3 ã‚’èª­ã‚“ã§ã„ãŸã‚‰ã‚¿ã‚¤ãƒˆãƒ«ã®ã‚ˆã†ãªå†…å®¹ãŒã‚³ãƒ©ãƒ çš„ã«æ›¸ã„ã¦ã‚ã£ãŸã®ã§ã€å®Ÿéš›ã«ã©ã‚Œãã‚‰ã„é€Ÿã„ã®ã‹è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚\nå‰æ Python 3.7 å€¤ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã®ã¿ãƒã‚§ãƒƒã‚¯ã™ã‚‹ å€¤ã®é‡è¤‡ã€é †åºã¯è€ƒæ…®ã—ãªã„ ã‚„ã£ã¦ã¿ã‚‹ ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç”¨æ„ã—ã¦ã€é€£ç¶šã—ã¦å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\nitem_in_list.py\nfrom decimal import Decimal import sys import time TARGET_ITEM = \u0026#39;text_00001000\u0026#39; num = 1 text_list = list() def item_in_list(target_item, target_list): in_start = time.time() print(target_item in target_list) in_proccess = time.time() - in_start print(f\u0026#39;[item in list]: {Decimal(in_proccess)}\u0026#39;) if __name__ == \u0026#39;__main__\u0026#39;: num = int(sys.argv[1]) for n in range(0, num): text_list.append(f\u0026#39;text_{str(n).zfill(8)}\u0026#39;) item_in_list(TARGET_ITEM, text_list) item_is_subset.py\nfrom decimal import Decimal import sys import time TARGET_ITEM = \u0026#39;text_00001000\u0026#39; num = 1 text_set = set() def item_is_subset(target_item, target_set): sub_start = time.time() print({target_item} \u0026lt; text_set) sub_proccess = time.time() - sub_start print(f\u0026#39;[is subset]: {Decimal(sub_proccess)}\u0026#39;) if __name__ == \u0026#39;__main__\u0026#39;: num = int(sys.argv[1]) for n in range(0, num): text_set.add(f\u0026#39;text_{str(n).zfill(8)}\u0026#39;) item_is_subset(TARGET_ITEM, text_set) check.sh\npython item_in_list.py $1 python item_is_subset.py $1 ã‚ã‚‰ã‹ã˜ã‚ NUM ã§æŒ‡å®šã—ãŸæ•°ã®è¦ç´ ã‚’æŒã¤ list ã¨ set ã‚’ç”Ÿæˆã—ã¦ãŠã„ã¦ã€ãã‚Œãã‚Œã«å¯¾ã—ã¦ç‰¹å®šã®è¦ç´  TARGET_ITEM ã‚’å«ã‚€ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€ã‹ã‹ã£ãŸæ™‚é–“ã‚’è¨ˆæ¸¬ã—ã¾ã™ã€‚\nã¨ã‚Šã‚ãˆãšè¦ç´ æ•°ãŒ 10 ã®å ´åˆã§å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ sh check.sh 10 False [item in list]: 0.000027179718017578125 False [is subset]: 0.00002574920654296875 ã“ã®æ™‚ç‚¹ã§ã‚‚å°‘ã—ã ã‘ set ã®ã»ã†ãŒé€Ÿã„ã§ã™ã€‚ãŸã ã€ä½•åº¦ã‹å®Ÿè¡Œã—ã¦ã„ã‚‹ã¨ 10 å›ã« 1 å›ãã‚‰ã„ã¯ list ã®ã»ã†ãŒé€Ÿããªã‚‹æ™‚ãŒã‚ã‚Šã¾ã—ãŸã€‚\nè¦ç´ æ•° = 100 $ sh check.sh 100 False [item in list]: 0.000029087066650390625 False [is subset]: 0.000027179718017578125 è¦ç´ æ•° = 10000 $ sh check.sh 10000 True [item in list]: 0.0000660419464111328125 True [is subset]: 0.0000431537628173828125 è¦ç´ æ•° = 1000000 $ sh check.sh 1000000 True [item in list]: 0.000080108642578125 True [is subset]: 0.0000650882720947265625 è¦ç´ æ•° = 100000000 $ sh check.sh 100000000 True [item in list]: 0.0016210079193115234375 True [is subset]: 0.00047206878662109375 ã¾ã¨ã‚ set ã®ã»ã†ãŒé€Ÿãã†ã€‚\n",
    "permalink": "https://michimani.net/post/programming-in-list-vs-is-subset-python/",
    "title": "[Python] ç‰¹å®šã®å€¤ãŒå­˜åœ¨ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã¨ãã¯ list ã‚ˆã‚Š set ã®ã»ã†ãŒé€Ÿã„"
  },
  {
    "contents": "ã“ã®ãƒ–ãƒ­ã‚°ã§ã¯é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã® Hugo ã‚’ä½¿ã£ã¦ã„ã¾ã™ãŒã€å„è¨˜äº‹ã® OGP ç”»åƒã¨ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒç”»åƒã¯æ‰‹å‹•ã§ä½œã£ã¦ã„ã¾ã—ãŸã€‚ãŸã ã€è¨˜äº‹ã‚’æ›¸ãé »åº¦ãŒé«˜ããªã£ã¦ãã‚‹ã¨é¢å€’ãªä½œæ¥­ã«ãªã£ã¦ãã‚‹ã®ã§ã€ tcardgen ã¨ã„ã†ãƒ„ãƒ¼ãƒ« (Go ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸) ã‚’ä½¿ã£ã¦è‡ªå‹•ç”Ÿæˆã—ã¦ã¿ã¾ã™ã€‚\nãªãŠã€ã“ã®ãƒ–ãƒ­ã‚°ã‚’æ›¸ãéš›ã«ä¸‹è¨˜ã®ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚\nç›®æ¬¡ tcardgen ã¨ã¯ OGP ç”»åƒã‚’ç”Ÿæˆã™ã‚‹ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æº–å‚™ ãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™ config ãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™ ç”Ÿæˆ å„è¨˜äº‹å†…ã§ã®è¨­å®š ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã—ã¦ãŠãã¨ä¾¿åˆ© ã¾ã¨ã‚ tcardgen ã¨ã¯ tcardgen ã¨ã¯ã€Front Matter ã¨ã—ã¦ toml ã¾ãŸã¯ yaml ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§è¨˜è¿°ã•ã‚ŒãŸã‚¿ã‚¤ãƒˆãƒ«ã‚„ã‚«ãƒ†ã‚´ãƒªåã€ã‚¿ã‚°åã€åŸ·ç­†è€…åãªã©ã‚’ã‚‚ã¨ã« Twitter Card ç”¨ã®ç”»åƒ (OGP) ã‚’ç”Ÿæˆã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ« (Go ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸) ã§ã™ã€‚ Twitter Card Image Generator ã®ç•¥ç§°ã®ã‚ˆã†ã§ã™ã€‚\nã‚½ãƒ¼ã‚¹ã¯ GitHub ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚\nä½¿ç”¨ã™ã‚‹ã«ã¯ã€ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ go get github.com/Ladicle/tcardgen OGP ç”»åƒã‚’ç”Ÿæˆã™ã‚‹ ã§ã¯ã€æ—©é€Ÿ OGP ç”»åƒã‚’ç”Ÿæˆã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚æ‰‹é †ã¨ã—ã¦ã¯ã€ä¸‹è¨˜ã® 4 ã¤ã«åˆ†ã‘ã¦ã„ã¾ã™ã€‚\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æº–å‚™ ãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™ config ãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™ ç”Ÿæˆ é †ç•ªã«ã‚„ã£ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æº–å‚™ ã¾ãšã¯ã€ç”Ÿæˆã•ã‚Œã‚‹ OGP ç”»åƒã®ãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”»åƒã‚’æº–å‚™ã—ã¾ã™ã€‚ GitHub ãƒªãƒã‚¸ãƒˆãƒªã® examples å†…ã«ã‚ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å‚è€ƒã«ã—ã¦ã€ã‚µã‚¤ã‚ºã¯ 1200 x 628 (px) ã§ä½œæˆã—ã¾ã™ã€‚\nã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ _ogp_template.png ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«åã§ ./static/images/og ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚\nã¡ãªã¿ã«ã“ã‚Œã¨åŒã˜ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ã¤ã„ã¦ã¯ã€ PSD ãƒ•ã‚¡ã‚¤ãƒ«ã§ä½œã£ã¦ã‚ã‚‹ã®ã§ã‚ˆã‹ã£ãŸã‚‰ä½¿ã£ã¦ãã ã•ã„ã€‚\n[ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰] hugo_ogp_template.psd ãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™ ç¶šã„ã¦ã€ OGP ç”»åƒå†…ã®æ–‡å­—ã«ã‚ã¦ã‚‹ãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„ã—ã¾ã™ã€‚GitHug ãƒªãƒã‚¸ãƒˆãƒªã§ã¯ Kinto ã¨ã„ã†ãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ HackGen (ç™½æº) ã¨ã„ã†ãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ã¿ã¾ã™ã€‚\nã“ã®ãƒ•ã‚©ãƒ³ãƒˆã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å‘ã‘ã®ãƒ•ã‚©ãƒ³ãƒˆã¨ã—ã¦å…¬é–‹ã•ã‚Œã¦ãŠã‚Šã€å€‹äººçš„ã«ã¯ã‚ã¡ã‚ƒãã¡ã‚ƒèª­ã¿ã‚„ã™ãã¦å¥½ããªãƒ•ã‚©ãƒ³ãƒˆã§ã™ã€‚\nGitHub ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€ä»Šå›ã¯ HackGen-Regular.ttf ã¨ HackGen-Bold.ttf ã‚’ ./static/fonts/hackgen/HackGen ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¿å­˜ã—ã¾ã™ã€‚\nconfig ãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™ ç¶šã„ã¦ã€ config ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã® config ãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ã¯ã€ OGP ç”»åƒå†…ã®æ–‡å­—ã®ä½ç½®ã‚„å¤§ãã•ã€ä½¿ç”¨ã™ã‚‹ãƒ•ã‚©ãƒ³ãƒˆã‚’æŒ‡å®šã—ã¾ã™ã€‚ yaml å½¢å¼ã§ä½œæˆã—ã¾ã™ã€‚\nä»Šå›ã¯ã€å…ˆã»ã©ä½œæˆã—ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”»åƒã«åˆã†ã‚ˆã†ã«ã€æ¬¡ã®ã‚ˆã†ãª config ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã—ãŸã€‚\ntitle: fontSize: 65 fontStyle: Bold info: start: pX: 96 pY: 536 fontSize: 30 fontStyle: Regular tags: start: pX: 1190 pY: 495 fontStyle: Regular fontSize: 0 ã“ã‚Œã‚’ tcargen.yaml ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«åã§ã€ Hugo ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«ä¿å­˜ã—ã¾ã™ã€‚\nç”Ÿæˆ ã§ã¯å®Ÿéš›ã« OGP ç”»åƒã‚’ç”Ÿæˆã—ã¦ã¿ã¾ã™ã€‚ã¨ã€ãã®å‰ã«ã€ã¾ãšã¯ç”Ÿæˆã™ã‚‹å¯¾è±¡ã®è¨˜äº‹ã‚’ä½œæˆã—ã¾ã™ã€‚\n$ post/test/test-post-at-2020-07-31.md /my/local/path/michimani.net/content/post/test/test-post-at-2020-07-31.md created å¾Œã»ã©è©³ç´°ã«ã¤ã„ã¦ã¯æ›¸ãã¾ã™ãŒã€ç§ã®ç’°å¢ƒã§ã¯æ¬¡ã®ã‚ˆã†ãª Markdown ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚\n--- title: \u0026#34;Test Post at 2020 07 31\u0026#34; date: 2020-07-31T17:51:11+09:00 draft: false author: [\u0026#34;michimani\u0026#34;] categories: [\u0026#34;Test\u0026#34;] tags: [\u0026#34;Hugo\u0026#34;, \u0026#34;tcardgen\u0026#34;] archives: [\u0026#34;2020\u0026#34;, \u0026#34;2020-07\u0026#34;] eyecatch: \u0026#34;/images/og/test-post-at-2020-07-31.png\u0026#34; ogimage: \u0026#34;/images/og/test-post-at-2020-07-31.png\u0026#34; comments: true adsense: false description: \u0026#34;\u0026#34; url: \u0026#34;/post/test-post-at-2020-07-31/\u0026#34; --- tcardgen ã‚’ä½¿ã£ã¦ OGP ç”»åƒã‚’ç”Ÿæˆã™ã‚‹å ´åˆã€ categories ã¨ tags ã«ã¯ä½•ã‹ã—ã‚‰æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã€ä¸€æ—¦æ¬¡ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚\n- categories: [\u0026#34;\u0026#34;] - tags: [\u0026#34;\u0026#34;] + categories: [\u0026#34;Test\u0026#34;] + tags: [\u0026#34;Hugo\u0026#34;, \u0026#34;tcardgen\u0026#34;] ã“ã‚Œã§æº–å‚™ãŒæ•´ã£ãŸã®ã§ã€æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ OGP ç”»åƒã‚’ç”Ÿæˆã—ã¾ã™ã€‚\ntcardgen \\ --fontDir ./static/fonts/hackgen/HackGen \\ --outDir static/images/og \\ --template static/images/og/_ogp_template.png \\ --config tcargen.yaml \\ ./content/post/test/test-post-at-2020-07-31.md ã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªç”»åƒãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚\nãƒ•ã‚¡ã‚¤ãƒ«åã¯è¨˜äº‹ Markdown ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ•ã‚¡ã‚¤ãƒ«åã®æ‹¡å¼µå­ãŒ .png ã«å¤‰ã‚ã‚‹å½¢ã§ test-post-at-2020-07-31.png ã¨ãªã‚Šã¾ã™ã€‚\nç”Ÿæˆã•ã‚Œã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ --outDir ã§æŒ‡å®šã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ãªã‚Šã¾ã™ã€‚\nå„è¨˜äº‹å†…ã§ã®è¨­å®š å„è¨˜äº‹å†…ã§ã®è¨­å®šã§ã™ãŒã€ç§ã®å ´åˆã¯è¨˜äº‹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ãªã‚‹ archetypes/default.md ã‚’æ¬¡ã®ã‚ˆã†ãªå†…å®¹ã«ã—ã¦ã„ã¾ã™ã€‚\n--- title: \u0026#34;{{ replace .Name \u0026#34;-\u0026#34; \u0026#34; \u0026#34; | title }}\u0026#34; date: {{ .Date }} draft: false author: [\u0026#34;michimani\u0026#34;] categories: [\u0026#34;\u0026#34;] tags: [\u0026#34;\u0026#34;] archives: [\u0026#34;{{ dateFormat \u0026#34;2006\u0026#34; .Date }}\u0026#34;, \u0026#34;{{ dateFormat \u0026#34;2006-01\u0026#34; .Date }}\u0026#34;] eyecatch: \u0026#34;/images/og/{{ .Name }}.png\u0026#34; ogimage: \u0026#34;/images/og/{{ .Name }}.png\u0026#34; comments: true adsense: false description: \u0026#34;\u0026#34; url: \u0026#34;/{{ .Type }}/{{ .Name }}/\u0026#34; --- eyecatch ã«ã¤ã„ã¦ã¯å„è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«éƒ¨åˆ†ã«è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ä½¿ã£ã¦ãŠã‚Šã€ ogimage ã¯å„ãƒ†ãƒ¼ãƒã®ä¸‹ã® layout/partials/head.html å†…ã§æ¬¡ã®ã‚ˆã†ã«æŒ‡å®šã™ã‚‹ãŸã‚ã«ä½¿ã£ã¦ã„ã¾ã™ã€‚ (ã“ã‚Œã¯ indigo ãƒ†ãƒ¼ãƒã®å ´åˆãªã®ã§ã€ã‚‚ã—ã‹ã™ã‚‹ã¨ãƒ†ãƒ¼ãƒã«ã‚ˆã£ã¦ã¯æ§‹é€ ãŒé•ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“)\n\u0026lt;meta property=\u0026#34;og:image\u0026#34; content=\u0026#34;{{ .Site.BaseURL }}{{ .Params.ogimage }}\u0026#34;\u0026gt; archetypes/default.md å†…ã§ã“ã®ã‚ˆã†ã«æ›¸ã„ã¦ãŠãã“ã¨ã§ã€ tcardgen ã«ã‚ˆã£ã¦ OGP ç”»åƒã‚’ç”Ÿæˆã™ã‚‹ã¨è‡ªå‹•çš„ã«ãã®è¨˜äº‹ã® OGP ç”»åƒã¨ã—ã¦è¨­å®šã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã—ã¦ãŠãã¨ä¾¿åˆ© OGP ç”»åƒã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã«ã¯ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡ŒãŒå¿…è¦ã«ãªã‚Šã¾ã™ãŒã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã„ãã¤ã‹ã‚ã£ã¦æ¯å›å®Ÿè¡Œã™ã‚‹ã®ã¯ãƒŸã‚¹ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚Šã¾ã™ã€‚\nãªã®ã§ã€æ¬¡ã®ã‚ˆã†ãªã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã—ã¦ãŠã„ã¦ã€ OGP ç”»åƒä½œæˆæ™‚ã«ã¯å¯¾è±¡ã®è¨˜äº‹ Markdown ã¸ã®ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã«ã—ã¦ã„ã¾ã™ã€‚\nif [ $# != 1 ] || [ $1 = \u0026#34;\u0026#34; ]; then echo \u0026#34;One parameters are required\u0026#34; echo \u0026#34;\u0026#34; echo \u0026#34;string: path to markdown file of target post\u0026#34; echo \u0026#34;\u0026#34; echo \u0026#34;example command\u0026#34; echo \u0026#34;\\t$ sh ./scripts/gen_ogp.sh ./content/post/test/test.md\u0026#34; exit fi TARGET_POST_PATH=$1 tcardgen \\ --fontDir ./static/fonts/hackgen/HackGen \\ --outDir static/images/og \\ --template static/images/og/_ogp_template.png \\ --config tcargen.yaml \\ $TARGET_POST_PATH ã¾ã¨ã‚ tcardgen ã¨ã„ã†ãƒ„ãƒ¼ãƒ« (Go ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸) ã‚’ä½¿ã£ã¦ OGP ç”»åƒã‚’è‡ªå‹•ç”Ÿæˆã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nå†’é ­ã§ç´¹ä»‹ã—ãŸã‚«ãƒƒã‚¯ã•ã‚“ ( @kakakakakku ) ã®ãƒ–ãƒ­ã‚°ã§ tcardgen ã®å­˜åœ¨ã‚’çŸ¥ã£ãŸã®ã§ã™ãŒã€è¦‹ãŸç¬é–“ã‹ã‚‰ã€Œã‚ã€ã“ã‚Œä¾¿åˆ©ãªã‚„ã¤ã‚„ã€ã¨æ€ã£ã¦å°å…¥ã‚’è€ƒãˆã¦ã„ã¾ã—ãŸã€‚\nã“ã‚Œã¾ã§ã¯ã€ä¾‹ãˆã° AWS ã«é–¢ã™ã‚‹è¨˜äº‹ã§ã‚ã‚Œã°ã€ãã®ä¸­ã«å‡ºã¦ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ä½¿ã£ãŸ OGP ç”»åƒã‚’ä½œã£ãŸã‚Šã—ã¦ã„ã¾ã—ãŸã€‚ã—ã‹ã—ã€æ¯å›ä½œæˆã—ã¦ã„ã‚‹ã¨çµæ§‹ãªæ™‚é–“ã‚’æ¶ˆè²»ã™ã‚‹ã®ã§ã€ä»Šå¾Œã¯ä»Šå›ç´¹ä»‹ã—ãŸæ–¹æ³•ã§ä½œæˆã™ã‚‹ã‚ˆã†ã«ã—ã‚ˆã†ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\nHugo ã§ä½œã£ãŸãƒ–ãƒ­ã‚°ã§å„è¨˜äº‹ã® OGP ç”»åƒã‚’æ¥½ã«ç”Ÿæˆã—ãŸã„ã¨è€ƒãˆã¦ã„ã‚‹æ–¹ã«ã¯ã€å°å…¥ã‚’ãŠã™ã™ã‚ã—ã¾ã™ï¼\n",
    "permalink": "https://michimani.net/post/development-generate-ogp-image-by-tcardgen-in-hugo/",
    "title": "[Hugo] tcardgen ã‚’ä½¿ã£ã¦ OGP ç”»åƒã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹"
  },
  {
    "contents": "Serverless Meetup Japan Virtual #3 ã«ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§å‚åŠ ã—ãŸã®ã§ã€ãã®å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆãƒ»ãƒ¡ãƒ¢ã§ã™ã€‚\nServerless Meetup Japan Virtual #3 - connpass Twitter ã®ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã¯ #serverlessjp ã§ã™ã€‚\nå‰å›ã®æ§˜å­ã¯ã“ã¡ã‚‰ã€‚\nç›®æ¬¡ ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ« ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ¬ãƒãƒ¼ãƒˆ GCP ã® Network Endpoint Groups ã®æ–°ã—ã„æ©Ÿèƒ½ ã€ŒServerless NEGã€ã‚’è©¦ã—ã¦ã¿ã‚‹ AWS CDK/AppSync/Athena/S3 select ã‚ãŸã‚Š ã¾ã¨ã‚ ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ« Timeline Title Speaker 20:45-21:00 Social ï¼ 21:00-21:05 Opening Talk å‰ç”°çœŸå¾ ã•ã‚“ 21:05-21:25 GCP ã® Network Endpoint Groups ã®æ–°ã—ã„æ©Ÿèƒ½ ã€ŒServerless NEGã€ã‚’è©¦ã—ã¦ã¿ã‚‹ äº”ååµé€ ã•ã‚“ 21:25-21:35 Meetup Zoomå‚åŠ ãƒ¡ãƒ³ãƒãƒ¼ 21:35-21:40 Forkwellã•ã‚“å‘ŠçŸ¥!! æ°¸ç”°ã‚Šã• ã•ã‚“ 21:40-22:00 AWS CDK/AppSync/Athena/S3 select ã‚ãŸã‚Š å’Œç”°ç¥ä»‹ ã•ã‚“ 22:00-22:30 Meetup Zoomå‚åŠ ãƒ¡ãƒ³ãƒãƒ¼ 22:30- Closing ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ¬ãƒãƒ¼ãƒˆ GCP ã® Network Endpoint Groups ã®æ–°ã—ã„æ©Ÿèƒ½ ã€ŒServerless NEGã€ã‚’è©¦ã—ã¦ã¿ã‚‹ Network Endpoint Groups ã¨ã¯ GCP ã®ãƒªã‚½ãƒ¼ã‚¹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¾ãŸã¯ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚°ãƒ«ãƒ¼ãƒ—ã‚’æŒ‡å®šã™ã‚‹æ§‹æˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ GCP ã®ä¸€éƒ¨ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ‰‹å‰) ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ NEG ã¨ç•¥ã•ã‚Œã‚‹ å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ : ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ ã‚°ãƒ«ãƒ¼ãƒ—ã®æ¦‚è¦ |Â è² è·åˆ†æ•£ |Â Google Cloud NEG ã¯ Compute Engine ãƒªã‚½ãƒ¼ã‚¹ (Network services ãƒªã‚½ãƒ¼ã‚¹ã§ã¯ãªã„) NEG ã®ç¨®é¡ Zonal (GA) VM ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚„ GKE ä¸Šã® Pod ã‚’æŒ‡å®š Internet (GA) Google Cloud ã®å¤–éƒ¨ã«ã‚ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚’æŒ‡å®š Serverless (Beta) Serverless NEG ã¨ã¯ NEG ã®æ–°ã—ã„æ©Ÿèƒ½ 2020/07/08 ã« Beta ç‰ˆãŒãƒªãƒªãƒ¼ã‚¹ GCP ã®ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚µãƒ¼ãƒ“ã‚¹ã‚’ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦æŒ‡å®šã§ãã‚‹ ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µã«ã¤ã‘ã‚‰ã‚Œã‚‹æ©Ÿèƒ½ã®æ©æµã‚’å—ã‘ã‚‰ã‚Œã‚‹ Cloud Armor (WAF) Cloud CDN ã“ã‚Œã‚‰ã‚’ãƒãƒãƒ¼ã‚¸ãƒ‰ãªã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦ä½¿ãˆã‚‹ Serverless NEG ã‚’å®Ÿéš›ã«å‹•ã‹ã—ã¦ã¿ã‚‹ Fowerding rules -\u0026gt; Target proxies -\u0026gt; Backend serviceies Serverless NEG ã¯ç¾æ™‚ç‚¹ã§ Beta ãªã®ã§ä»Šã‚½ãƒ¼ã‚¹ã§ã¯è¦‹ã‚Œãªã„ (ä½œã‚Œãªã„) CLI ã‹ã‚‰æ“ä½œã™ã‚‹ ã¾ã¨ã‚ Serverless NEG ã«ã‚ˆã£ã¦ GCP ã§ã‚µãƒ¼ãƒãƒ¬ã‚¹ãªã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œã‚Šã‚„ã™ããªã£ãŸ Q\u0026amp;A Q. AWS ã ã¨ ALB ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã¨ã„ã†æ„Ÿã˜ã§ã€ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã« Lambda ã‚’ç½®ã„ãŸã‚Šã€åŒæ™‚ã« EC2 ã‚’ç½®ã„ãŸã‚Šã‚‚ã§ããŸãŒã€ NEG ã§ã‚‚ã§ãã‚‹ï¼Ÿ A. ã§ãã‚‹ã€‚Serverless NEG ã¨ Zonal NEG ã‚’ä¸€ç·’ã«ä½¿ãˆã°å®Ÿç¾ã§ãã‚‹ã€‚ Q. ã„ã¾é‹ç”¨ã—ã¦ã„ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§ä½¿ãˆã‚‹ã¨ã“ã‚ã¯ã‚ã‚‹ï¼Ÿ A. ç¾åœ¨ã¯ Zonal ã‚’ä¸»ã«ä½¿ã£ã¦ã„ã‚‹ã€‚ãŒã€ Cloud Run ã¨ App Engine ã‚’åŒã˜ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ä½¿ã†ã“ã¨ã¯ãªã„ã®ã§\u0026hellip;ã€‚ãŸã ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¨ã—ã¦ã¯è‰²ã€…è€ƒãˆã‚‰ã‚Œãã†ã€‚ã‚ªãƒ³ãƒ—ãƒ¬ã‹ã‚‰ã®ãƒªãƒ•ãƒˆ\u0026amp;ã‚·ãƒ•ãƒˆã™ã‚‹ã¨ããªã©ã«ã‚‚ä½¿ãˆãã†ã€‚ Q. ãƒ‘ã‚¹ã§é‡ã¿ä»˜ã‘ã¯å¯èƒ½ã‹ï¼Ÿ A. ç¾æ™‚ç‚¹ã§ã¯ã‚ã‹ã‚‰ãªã„ã€‚ãŒã€å¿…è¦ãã†ãªæ©Ÿèƒ½ãªã®ã§ä»Šå¾Œã«æœŸå¾…ã€‚ ãã®ä»– Cloud Armor ãŒã¤ã‘ã‚‰ã‚Œã‚‹ã“ã¨ã«ã‚ˆã‚Š IP åˆ¶é™ãŒå¯èƒ½ã«ãªã£ãŸã€‚ Cloud Run ã¯ä½œæˆã—ãŸæ™‚ç‚¹ã§ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒä½œã‚‰ã‚Œã‚‹ã®ã§ã€ãã‚Œã‚’ NEG çµŒç”±ã®ã‚¢ã‚¯ã‚»ã‚¹ã®ã¿ã«åˆ¶é™ã§ãã‚Œã°ã„ã„ AWS CDK/AppSync/Athena/S3 select ã‚ãŸã‚Š ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã§ ETL AWS Glue (ãªã‚“ã‹å¤‰æ›ã™ã‚‹äººï¼Ÿ) Amazon Athena (S3 ã®ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦ã‚¯ã‚¨ãƒªç™ºè¡Œã—ã¦ãã‚Œã‚‹äººï¼Ÿ) åå‰ã¯çŸ¥ã£ã¦ã„ã‚‹ãŒã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«çµ„ã¿è¾¼ã‚€ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒã‚ã¾ã‚Šæ²¸ã‹ãªã„ AWS Glue æ§‹æˆè¦ç´  ãƒ‡ãƒ¼ã‚¿ã‚«ã‚¿ãƒ­ã‚° (Table) ã‚¹ã‚­ãƒ¼ãƒã®å®šç¾© ãƒ‡ãƒ¼ã‚¿ã®å®Ÿä½“ã¯ S3, DynamoDB ãªã©ã«æŒãŸã›ã¦ã€ Glue ã¯ã‚¹ã‚­ãƒ¼ãƒã®å®šç¾©ã®ã¿æŒã¤ ã“ã® Table ã«å¯¾ã—ã¦ Athena ãªã©ã‹ã‚‰ã‚¯ã‚¨ãƒªç™ºè¡Œ ã‚µãƒ¼ãƒãƒ¬ã‚¹ ETL (Job) ETL (ãƒ‡ãƒ¼ã‚¿å¤‰æ›å‡¦ç†) ã®æœ¬ä½“ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ Python Shell ã¾ãŸã¯ Spark å¤§è¦æ¨¡å‘ã‘ã®ã‚¸ãƒ§ãƒ– å°è¦æ¨¡ã ã¨ã€èµ·å‹•æ™‚é–“ã¨èª²é‡‘é¡ãŒãƒãƒƒã‚¯ æœ€ä½å®Ÿè¡Œæ™‚é–“ãŒ 10 åˆ† ã–ã£ãã‚Šã€æœ€ä½ã§ã‚‚æ•°ä¸‡å††/æœˆ ä»£ã‚ã‚Šã« Step Functions + Lambda ã§æ§‹ç¯‰ã™ã‚‹ã¨ã„ã†é¸æŠè‚¢ (è‚Œæ„Ÿã§ 5,000å††/æœˆ ãã‚‰ã„) ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ (Workflow) ã‚¯ãƒ­ãƒ¼ãƒ©ã¨ã‚¸ãƒ§ãƒ–ã‚’çµ„ã¿åˆã‚ã›ã¦ä¸€é€£ã®å‡¦ç†ã‚’å®šç¾© Step Functions ã¨åŒã˜ã‚ˆã†ãªæ©Ÿèƒ½ æ§‹æˆè¦ç´ ã¯ CloudFormation ã®ãƒªã‚½ãƒ¼ã‚¹åç§°ã‚’ç¢ºèªã™ã‚‹ã¨ã‚ã‹ã‚Šã‚„ã™ã„ Athena ã¨ã®é–¢ä¿‚ Amazon Athena ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‚’ S3 ã¨ã—ã¦ã€åˆæœŸçŠ¶æ…‹ã§ Glue ã®ãƒ‡ãƒ¼ã‚¿ã‚«ã‚¿ãƒ­ã‚° (Table) ã¨çµ±åˆã•ã‚Œã¦ã„ã‚‹ S3 ã‚’ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã¨ã™ã‚‹ Glue ã®ãƒ‡ãƒ¼ã‚¿ã‚«ã‚¿ãƒ­ã‚°ã«ã‚¯ã‚¨ãƒªã‚’ç™ºè¡Œã—ã€çµæœã‚’ S3 ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ å…·ä½“çš„ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ ä»Šå› \u0026ldquo;ãƒ•ã‚¡ã‚¤ãƒ«\u0026rdquo; ã«ç„¦ç‚¹ã‚’å½“ã¦ãŸç†ç”±\nè¤‡æ•°ã®ã‚µãƒ¼ãƒ“ã‚¹ã®æƒ…å ±ã‹ã‚‰ä¸€ã¤ã®ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«è¦‹ã›ã‹ã‘ã‚‹ä»•çµ„ã¿ãŒä»Šå¾Œå¢—ãˆãã† ã„ã‚ã‚“ãªã‚µãƒ¼ãƒ“ã‚¹ã‚’çµ„ã¿åˆã‚ã›ã¦ç”Ÿæ´»ã—ã¦ã„ã å¤§æŠµã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã¯ CSV å‡ºåŠ›ãŒå¯èƒ½ Webhook ã‚„ EventBridge ãªã©ã„ã‚ã‚“ãªé€£æºæ–¹æ³•ãŒã‚ã‚‹ãŒã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…¥åŠ›ã¨ã™ã‚‹é€£æºã‚‚æ®‹ã‚‹ ãƒã‚±ãƒƒãƒˆ ID ã‹ã‚‰ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’å¼•ãå½“ã¦ã‚‹\nRDB ã§ã‚ã‚Œã°å„ãƒ†ãƒ¼ãƒ–ãƒ«ã« CSV ãƒ‡ãƒ¼ã‚¿ã‚’å…¥ã‚Œã¦ã€å–å¾—æ™‚ã« JOIN ã‚µãƒ¼ãƒãƒ¬ã‚¹ã ã¨ DynamoDB S3 Select ã‚´ãƒ¼ãƒ« : S3 to S3 ã® ETL ä»Šå›ã¯å°è¦æ¨¡ãªã®ã§ã€ Glue Job ã¯ä½¿ã‚ãšã€ Step Functions + Lambda ã§æ§‹ç¯‰ CDK ã§ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¦ã¿ã‚‹ TypeScript ãªã©ã§ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”Ÿæˆ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒã‚¤ãƒ³ãƒ•ãƒ©ã‚’æ›¸ã Athena ã‚’ä½¿ã†ã«ã¯ã€ã¾ãš Glue Table ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹ Q\u0026amp;A Q. ä»Šå›ã®æ–¹æ³•ã ã¨ã€ã©ã‚Œãã‚‰ã„ã®ãƒ‡ãƒ¼ã‚¿é‡ã¾ã§ãªã‚‰ï¼Ÿ A. 300 MB ãã‚‰ã„ãªã‚‰ã€‚è¡Œæ•°ãªã‚‰ 100 ä¸‡è¡Œãã‚‰ã„ã€‚ Q. ãƒ•ã‚¡ã‚¤ãƒ« to ãƒ•ã‚¡ã‚¤ãƒ«ã® ETL ã¨ã„ã†å‰æãŒãªã‘ã‚Œã°ã€æœ€åˆã«è€ƒãˆã†ã‚‹æ§‹æˆã¯ï¼Ÿ A. ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ãŒ S3 ã§ã¯ãªã DynamoDB ã«ãªã‚‹ã‹ãªã¨ã€‚ Q. ãã®å ´åˆã ã¨ Glue ç­‰ã§ã‚„ã‚Šã¥ã‚‰ããªã‚‹ãƒã‚¤ãƒ³ãƒˆã¯ï¼Ÿ A. ã‚¯ã‚¨ãƒªçµæœãŒ S3 ã«å‡ºåŠ›ã•ã‚Œã‚‹ã®ã§ã€ã‚‚ã†ä¸€åº¦ãã“ã‹ã‚‰å–å¾—ã™ã‚‹å¿…è¦ãŒå‡ºã¦ãã‚‹ã€‚ Q. CDK ã«åˆ‡ã‚Šæ›¿ãˆãŸãã£ã‹ã‘ã¯ï¼Ÿ A. ã‚‚ã¨ã‚‚ã¨ãƒ™ãƒ¼ã‚¿ç‰ˆã§ä½¿ã£ã¦ã„ãŸãŒã€ GA ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ 100 % åˆ‡ã‚Šæ›¿ãˆãŸã€‚(from SAM) Q. ã¿ã‚“ãªã§ï¼Ÿ A. ã¾ãšã¯å€‹äººã§ä½¿ã£ã¦ã€ãã‚Œã‚’æ¨ªå±•é–‹ã€‚ãƒãƒ¼ãƒ ã§ä½¿ã†å ´åˆã«æ•™æã«ãªã‚‹ã‚ˆã†ãªã‚‚ã®ãŒæ¬²ã—ã‹ã£ãŸãŸã‚ã€‚ ãã®ä»– CloudFormation ã®ãƒªã‚½ãƒ¼ã‚¹åã§ç¢ºèªã™ã‚‹ã®ã¯å‡„ãè‰¯ã„ S3 ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã®è€ƒãˆæ–¹ã¯å‡„ãè‰¯ã„ S3 Select ã‚’ã‚´ãƒ¼ãƒ«ã«ã™ã‚‹ãŸã‚ã«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’è€ƒãˆã‚‹ãƒ¦ãƒ¼ã‚¶ã‚‚å¤šã„ åœ§ç¸®ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã—ã¦ã‚¯ã‚¨ãƒªå®Ÿè¡Œã§ãã‚‹è‰¯ã• ã¾ã¨ã‚ Serverless Meetup Japan Virtual #3 ã®å‚åŠ ãƒ¡ãƒ¢ã§ã—ãŸã€‚\nä»Šå›ã¯ GCP ã®è©±ã¨ AWS ã®è©±ã¨ã„ã†ã“ã¨ã§ã€ Serverless ã¨ã„ã†ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§è¤‡æ•°ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã®è©±ã‚’èãã“ã¨ãŒã§ãã¦æ¥½ã—ã‹ã£ãŸã§ã™ã€‚\nGCP ã®æ–¹ã¯ã»ã¼ä½¿ç”¨çµŒé¨“ãŒãªã„ã®ã§ã™ãŒã€ AWS ã ã¨ã“ã®éƒ¨åˆ†ã«ã‚ã¦ã¯ã¾ã‚‹ã®ã‹ãªãƒ¼ã¨ã‹ã‚’è€ƒãˆãªãŒã‚‰èã„ã¦ã„ã‚‹ã®ã¯é¢ç™½ã‹ã£ãŸã§ã™ã€‚ AWS ã ã‘ã§ãªãä»–ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã«ã¤ã„ã¦ã‚‚è§¦ã£ã¦ã¿ã‚‹ã¨ã€ã‚ˆã‚Š AWS ã®ç†è§£ãŒæ·±ã¾ã‚‹ã®ã‹ãªã¨æ€ã„ã¾ã—ãŸã€‚ãŸã ã€ã‚„ã‚ŠãŸã„ã“ã¨ãŒå¢—ãˆã¦ã„ã£ã¦æ²¼ã«ãƒãƒã£ã¦ã—ã¾ã„ãã†ã¨ã„ã†æ€ã„ã‚‚ã‚ã‚Šã¾ã™ã€‚\nå’Œç”°ã•ã‚“ã®è©±ã®ä¸­ã§ã¯ã€ Glue ã¨ã„ã†ã‚µãƒ¼ãƒ“ã‚¹ã®æ§‹æˆè¦ç´ ã®è©±ãŒã™ã”ãã‚ã‹ã‚Šã‚„ã™ã‹ã£ãŸã§ã™ã€‚ã‚µãƒ¼ãƒ“ã‚¹ãŒã©ã‚“ãªæ©Ÿèƒ½ã‚’æŒã£ã¦ã„ã¦ã€ã©ã®ã‚ˆã†ãªãƒªã‚½ãƒ¼ã‚¹ã§æ§‹æˆã•ã‚Œã¦ã„ã‚‹ã‹ã‚’çŸ¥ã‚‹ãŸã‚ã«ã¯ CloudFormation ã®ãƒªã‚½ãƒ¼ã‚¹åã‚’ç¢ºèªã—ã¦ã¿ã‚‹ã¨ã„ã†ã®ã‚‚ã€ã‚ãƒ¼ãªã‚‹ã»ã©ï¼ã¨æ€ã„ã¾ã—ãŸã€‚\nCDK ã«é–¢ã—ã¦ã¯ã€å€‹äººçš„ã«ã‚‚ IaC ã™ã‚‹ã†ãˆã§å‡„ãä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«ã ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\nã‚ã¨ã€ S3 Select ã®è©±ã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€ãã®ä¾¿åˆ©ã•ã®æ©æµã‚’å—ã‘ã‚‹ãŸã‚ã«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’è¨­è¨ˆã™ã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã¨ã„ã†è©±ãŒã‚ã‚Šã€ç›¸å½“ä¾¿åˆ©ãªæ©Ÿèƒ½ãªã‚“ã ã‚ã†ãªã¨æ€ã„ã¾ã—ãŸã€‚\nä»Šå›ã‚‚ã‚µãƒ¼ãƒãƒ¬ã‚¹ã«é–¢ã™ã‚‹é¢ç™½ã„è©±ã‚’èã‘ã¦ã‚ˆã‹ã£ãŸã§ã™ï¼æ¬¡å›ã‚‚æ¥½ã—ã¿ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/event-serverless-meetup-japan-virtual-3/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] Serverless Meetup Japan Virtual #3 ã®å‚åŠ ãƒ¡ãƒ¢ #serverlessjp"
  },
  {
    "contents": "AWS CLI ã‚’ä½¿ã£ã¦ Amazon S3 ã«æ ¼ç´ã•ã‚Œã¦ã„ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›´ã—ã¾ã™ã€‚æ€ã£ã¦ã„ãŸæ–¹æ³•ã¨é•ã£ãŸã®ã§ã€å‚™å¿˜éŒ²ã®ãŸã‚ã®æ›¸ãæ®‹ã—ã¦ãŠãã¾ã™ã€‚\nç›®æ¬¡ TL;DR ã‚„ã£ã¦ã¿ã‚‹ å¯¾è±¡ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½åŠ  ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æƒ…å ±ç¢ºèª ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®æ›´æ–° ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®å‰Šé™¤ ã¾ã¨ã‚ TL;DR s3api copy-object ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã† update-metadata ã¿ãŸã„ãªã‚³ãƒãƒ³ãƒ‰ã¯ãªã„ å¤‰æ›´ (è¿½åŠ ãƒ»å‰Šé™¤) ã¨ã„ã†ã‚ˆã‚Šã¯ ä¸Šæ›¸ã ã¨ã„ã†æ„Ÿè¦šã§ã‚„ã‚‹ ã‚„ã£ã¦ã¿ã‚‹ AWS CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€ v2 ã®ç¾æ™‚ç‚¹ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§å®Ÿè¡Œã—ã¾ã™ã€‚\n$ aws --version aws-cli/2.0.35 Python/3.7.4 Darwin/19.5.0 botocore/2.0.0dev39 å¯¾è±¡ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½åŠ  ã¾ãšã¯ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›´ã™ã‚‹å¯¾è±¡ã¨ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½åŠ ã—ã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä½•ã§ã‚‚è‰¯ã„ã®ã§ã€ä»Šå›ã¯ä¸‹è¨˜ã®ã‚ˆã†ãª JSON ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã¾ã™ã€‚\n$ cat sample.json | jq . { \u0026#34;message\u0026#34;: \u0026#34;AWS CLI ha iizo\u0026#34; } ä»Šå›ã®å¯¾è±¡ãƒã‚±ãƒƒãƒˆåã¯ s3-metadata-test-michimani ã¨ã—ã¾ã™ã€‚\n$ aws s3 cp ./sample.json s3://s3-metadata-test-michimani/sample.json upload: ./sample.json to s3://s3-metadata-test-michimani/sample.json ã¡ãªã¿ã« s3 ã‚³ãƒãƒ³ãƒ‰ã¯ S3 ã«å¯¾ã™ã‚‹ API é«˜ãƒ¬ãƒ™ãƒ«ã§æŠ½è±¡åŒ–ã—ãŸã‚³ãƒãƒ³ãƒ‰ã§ã€ä»Šå›ã®ã‚ˆã†ã«ãƒã‚±ãƒƒãƒˆã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½åŠ ã—ãŸã‚Šã€é€†ã«ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ããŸã‚Šã™ã‚‹å ´åˆã«ã¯æ¥½ã«ä½¿ãˆã¾ã™ã€‚\n$ aws s3 help NAME s3 - DESCRIPTION This section explains prominent concepts and notations in the set of high-level S3 commands provided. ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æƒ…å ±ç¢ºèª ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è¿½åŠ ãŒã§ããŸã‚‰ã€ç¾æ™‚ç‚¹ã§ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æƒ…å ±ã‚’ç¢ºèªã—ã¾ã™ã€‚ç¢ºèªã«ã¯ã€ s3api head-object ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚\n$ aws s3api head-object \\ --bucket s3-metadata-test-michimani \\ --key sample.json { \u0026#34;AcceptRanges\u0026#34;: \u0026#34;bytes\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-07-28T22:30:41+00:00\u0026#34;, \u0026#34;ContentLength\u0026#34;: 35, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;6f1d414f6389f754c0a93fab4727f2d9\\\u0026#34;\u0026#34;, \u0026#34;ContentType\u0026#34;: \u0026#34;application/json\u0026#34;, \u0026#34;Metadata\u0026#34;: {} } s3api ã‚³ãƒãƒ³ãƒ‰ã¯å…ˆç¨‹ã® s3 ã‚³ãƒãƒ³ãƒ‰ã¨ã¯é•ã„ã€ S3 ã«å¯¾ã™ã‚‹æ“ä½œã‚’è¡Œã†å„ API ã‚’å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã«ãªã£ã¦ã„ã¾ã™ã€‚ S3 ã‚’æ“ä½œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã«ã¯ã‚‚ã†ä¸€ã¤ s3control ã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚Šã¾ã™ãŒã€ã“ã®ã‚³ãƒãƒ³ãƒ‰ã§ã¯ãƒãƒƒãƒã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ã‚¢ã‚¯ã‚»ã‚¹ãƒã‚¤ãƒ³ãƒˆã«é–¢ã™ã‚‹æ“ä½œã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®æ›´æ–° ã§ã¯ã€å…ˆç¨‹è¿½åŠ ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®æ›´æ–° (è¿½åŠ ãƒ»å‰Šé™¤) ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\nãªãŠã€ AWS CLI ã§ã¯ S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–° (è¿½åŠ ãƒ»å‰Šé™¤) ã™ã‚‹ update-metadata ã¿ãŸã„ãªã‚³ãƒãƒ³ãƒ‰ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãªã®ã§ã€ s3api copy-object ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚\n$ aws s3api copy-object help ... SYNOPSIS copy-object [--acl \u0026lt;value\u0026gt;] --bucket \u0026lt;value\u0026gt; [--cache-control \u0026lt;value\u0026gt;] [--content-disposition \u0026lt;value\u0026gt;] [--content-encoding \u0026lt;value\u0026gt;] [--content-language \u0026lt;value\u0026gt;] [--content-type \u0026lt;value\u0026gt;] --copy-source \u0026lt;value\u0026gt; [--copy-source-if-match \u0026lt;value\u0026gt;] [--copy-source-if-modified-since \u0026lt;value\u0026gt;] [--copy-source-if-none-match \u0026lt;value\u0026gt;] [--copy-source-if-unmodified-since \u0026lt;value\u0026gt;] [--expires \u0026lt;value\u0026gt;] [--grant-full-control \u0026lt;value\u0026gt;] [--grant-read \u0026lt;value\u0026gt;] [--grant-read-acp \u0026lt;value\u0026gt;] [--grant-write-acp \u0026lt;value\u0026gt;] --key \u0026lt;value\u0026gt; [--metadata \u0026lt;value\u0026gt;] [--metadata-directive \u0026lt;value\u0026gt;] [--tagging-directive \u0026lt;value\u0026gt;] [--server-side-encryption \u0026lt;value\u0026gt;] [--storage-class \u0026lt;value\u0026gt;] [--website-redirect-location \u0026lt;value\u0026gt;] [--sse-customer-algorithm \u0026lt;value\u0026gt;] [--sse-customer-key \u0026lt;value\u0026gt;] [--sse-customer-key-md5 \u0026lt;value\u0026gt;] [--ssekms-key-id \u0026lt;value\u0026gt;] [--ssekms-encryption-context \u0026lt;value\u0026gt;] [--copy-source-sse-customer-algorithm \u0026lt;value\u0026gt;] [--copy-source-sse-customer-key \u0026lt;value\u0026gt;] [--copy-source-sse-customer-key-md5 \u0026lt;value\u0026gt;] [--request-payer \u0026lt;value\u0026gt;] [--tagging \u0026lt;value\u0026gt;] [--object-lock-mode \u0026lt;value\u0026gt;] [--object-lock-retain-until-date \u0026lt;value\u0026gt;] [--object-lock-legal-hold-status \u0026lt;value\u0026gt;] [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] [--cli-auto-prompt \u0026lt;value\u0026gt;] ãƒã‚±ãƒƒãƒˆåã€ã‚³ãƒ”ãƒ¼å…ƒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€ã‚³ãƒ”ãƒ¼å…ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå¿…é ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ãªã£ã¦ã„ã¾ã™ã€‚ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–° (è¿½åŠ ãƒ»å‰Šé™¤) ã™ã‚‹å ´åˆã¯ã€ --cache-control ã‚„ --metadata ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«åŠ ãˆã¦ --metadata-directive ã‚ªãƒ–ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦å®Ÿè¡Œã—ã¾ã™ã€‚\nCacheControl ã®è¿½åŠ  ã¾ãšã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«é–¢ã™ã‚‹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3api copy-object \\ --bucket s3-metadata-test-michimani \\ --copy-source s3-metadata-test-michimani/sample.json \\ --key sample.json \\ --cache-control \u0026#34;public, max-age=31536000\u0026#34; \\ --metadata-directive REPLACE ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®æŒ‡å®šã§æ³¨æ„ã—ãŸã„ã®ã¯ã€ --copy-source ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã™ã‚‹å€¤ã«ã¯ ãƒã‚±ãƒƒãƒˆåã‚‚å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ ç‚¹ã§ã™ã€‚\nã¾ãŸã€ --metadata-directive ã‚’æŒ‡å®šã—ãªã„ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚\nAn error occurred (InvalidRequest) when calling the CopyObject operation: This copy request is illegal because it is trying to copy an object to itself without changing the object\u0026rsquo;s metadata, storage class, website redirect location or encryption attributes.\n--metadata-directive ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«å¯¾ã™ã‚‹å€¤ã¯ COPY ã¾ãŸã¯ REPLACE ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n--metadata-directive (string) Specifies whether the metadata is copied from the source object or replaced with metadata provided in the request. Possible values: o COPY o REPLACE REPLACE ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ copy-object å®Ÿè¡Œæ™‚ã«æŒ‡å®šã—ãŸãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã§ä¸Šæ›¸ãã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã® ä¸Šæ›¸ã ã«ã¯æ³¨æ„ãŒå¿…è¦ãªã®ã§ã€ã“ã‚Œã«ã¤ã„ã¦ã¯å¾Œã»ã©æ›¸ãã¾ã™ã€‚\nã§ã¯ã€å¿µã®ãŸã‚ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãŒè¿½åŠ ã§ããŸã‹ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3api head-object \\ --bucket s3-metadata-test-michimani \\ --key sample.json { \u0026#34;AcceptRanges\u0026#34;: \u0026#34;bytes\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-07-28T22:56:15+00:00\u0026#34;, \u0026#34;ContentLength\u0026#34;: 35, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;6f1d414f6389f754c0a93fab4727f2d9\\\u0026#34;\u0026#34;, \u0026#34;CacheControl\u0026#34;: \u0026#34;public, max-age=31536000\u0026#34;, \u0026#34;ContentType\u0026#34;: \u0026#34;binary/octet-stream\u0026#34;, \u0026#34;Metadata\u0026#34;: {} } CacheControl ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã‚«ã‚¹ã‚¿ãƒ ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã™ã‚‹ æ¬¡ã«ã€å…ˆç¨‹ã® CacheControl ã« åŠ ãˆã¦ ãƒ¦ãƒ¼ã‚¶ç‹¬è‡ªã®ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã™ã€‚ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã™ã‚‹å ´åˆã¯ã€ --metadata ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã‚­ãƒ¼ã¨å€¤ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nä»Šå›ã¯ã€ stage ã¨ã„ã†ã‚­ãƒ¼ã§ dev ã¨ã„ã†å€¤ã‚’æŒã¤ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3api copy-object \\ --bucket s3-metadata-test-michimani \\ --copy-source s3-metadata-test-michimani/sample.json \\ --key sample.json \\ --metadata stage=dev \\ --metadata env=dev,env-name=development { \u0026#34;CopyObjectResult\u0026#34;: { \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;6f1d414f6389f754c0a93fab4727f2d9\\\u0026#34;\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-07-28T23:06:06+00:00\u0026#34; } } ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3api head-object \\ --bucket s3-metadata-test-michimani \\ --key sample.json { \u0026#34;AcceptRanges\u0026#34;: \u0026#34;bytes\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-07-28T23:11:08+00:00\u0026#34;, \u0026#34;ContentLength\u0026#34;: 35, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;6f1d414f6389f754c0a93fab4727f2d9\\\u0026#34;\u0026#34;, \u0026#34;ContentType\u0026#34;: \u0026#34;binary/octet-stream\u0026#34;, \u0026#34;Metadata\u0026#34;: { \u0026#34;env\u0026#34;: \u0026#34;dev\u0026#34;, \u0026#34;env-name\u0026#34;: \u0026#34;development\u0026#34; } } ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã¯æ­£ã—ãè¿½åŠ ã•ã‚Œã¾ã—ãŸãŒã€å…ˆç¨‹è¿½åŠ ã—ãŸ CacheControl ãŒå‰Šé™¤ã•ã‚Œã¦ã—ã¾ã„ã¾ã—ãŸã€‚ã“ã‚Œã¯ --metadata-directive REPLACE ã‚’æŒ‡å®šã—ãŸãŸã‚ã«å…ƒã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ä¸Šæ›¸ãã™ã‚‹ã‹ã‚‰ã§ã™ã€‚\nå…ƒã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã—ãŸã¾ã¾åˆ¥ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã™ã‚‹å ´åˆã«ã¯ã€ã‚ã‚‰ãŸã‚ã¦å…ƒã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚‚æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\n$ aws s3api copy-object \\ --bucket s3-metadata-test-michimani \\ --copy-source s3-metadata-test-michimani/sample.json \\ --key sample.json \\ --cache-control \u0026#34;public, max-age=31536000\u0026#34; \\ --metadata-directive REPLACE \\ --metadata env=dev,env-name=development { \u0026#34;CopyObjectResult\u0026#34;: { \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;6f1d414f6389f754c0a93fab4727f2d9\\\u0026#34;\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-07-28T23:23:22+00:00\u0026#34; } } ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3api head-object \\ --bucket s3-metadata-test-michimani \\ --key sample.json { \u0026#34;AcceptRanges\u0026#34;: \u0026#34;bytes\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-07-28T23:23:22+00:00\u0026#34;, \u0026#34;ContentLength\u0026#34;: 35, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;6f1d414f6389f754c0a93fab4727f2d9\\\u0026#34;\u0026#34;, \u0026#34;CacheControl\u0026#34;: \u0026#34;public, max-age=31536000\u0026#34;, \u0026#34;ContentType\u0026#34;: \u0026#34;binary/octet-stream\u0026#34;, \u0026#34;Metadata\u0026#34;: { \u0026#34;env\u0026#34;: \u0026#34;dev\u0026#34;, \u0026#34;env-name\u0026#34;: \u0026#34;development\u0026#34; } } ç„¡äº‹ã«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\n--metadata ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã¯ã€ä¸Šè¨˜ã®ã‚ˆã†ã« ã‚­ãƒ¼=å€¤ ã¨ã„ã†å½¢å¼ã§æŒ‡å®šã™ã‚‹ä»–ã€ JSON å½¢å¼ã§ã‚‚æŒ‡å®šã§ãã¾ã™ã€‚\n--metadata (map) A map of metadata to store with the object in S3. key -\u0026gt; (string) value -\u0026gt; (string) Shorthand Syntax: KeyName1=string,KeyName2=string JSON Syntax: {\u0026#34;string\u0026#34;: \u0026#34;string\u0026#34; ...} ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®å‰Šé™¤ ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã™ã‚‹å ´åˆã¯ã€å‰Šé™¤ã—ãŸã„ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ æŒ‡å®šã›ãšã« a3api copy-object ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nä¾‹ãˆã°ã€ ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã® stage-name ã‚’å‰Šé™¤ã—ãŸã„å ´åˆã€æ¬¡ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ã€‚\n$ aws s3api head-object \\ --bucket s3-metadata-test-michimani \\ --key sample.json { \u0026#34;AcceptRanges\u0026#34;: \u0026#34;bytes\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-07-28T23:25:14+00:00\u0026#34;, \u0026#34;ContentLength\u0026#34;: 35, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;6f1d414f6389f754c0a93fab4727f2d9\\\u0026#34;\u0026#34;, \u0026#34;CacheControl\u0026#34;: \u0026#34;public, max-age=31536000\u0026#34;, \u0026#34;ContentType\u0026#34;: \u0026#34;binary/octet-stream\u0026#34;, \u0026#34;Metadata\u0026#34;: { \u0026#34;env\u0026#34;: \u0026#34;dev\u0026#34; } } å‰Šé™¤ ã¨ã„ã†ã‚ˆã‚Šã¯ã€ã‚„ã¯ã‚Š ä¸Šæ›¸ã ã¨ã„ã†æ„è­˜ã§å®Ÿè¡Œã™ã‚‹ã®ãŒè‰¯ã•ãã†ã§ã™ã€‚\nã¾ã¨ã‚ AWS CLI ã‚’ä½¿ã£ã¦ Amazon S3 ã«æ ¼ç´ã•ã‚Œã¦ã„ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›´ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã‚„ã‚‹å‰ã«ã¯ã€ update-metadata ã‚„ put-metadata ã¿ãŸã„ãªã‚³ãƒãƒ³ãƒ‰ãŒã‚ã£ã¦ãã‚Œã‚’ä½¿ãˆã°ã„ã„ã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€ãã†ã§ã¯ãªã‹ã£ãŸã‚ˆã†ã§ã™ã€‚è¿½åŠ ã‚„å‰Šé™¤ã‚’ã™ã‚‹å ´åˆã§ã‚‚ã€ã‚³ãƒ”ãƒ¼ã—ã¦ ä¸Šæ›¸ãã™ã‚‹ ã¨ã„ã†ã®ãŒãƒã‚¤ãƒ³ãƒˆã‹ãªã¨æ€ã„ã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/aws-modify-metadata-of-s3-object/",
    "title": "AWS CLI ã§ S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›´ã™ã‚‹"
  },
  {
    "contents": "Amazon CloudFront ã®æ–°æ©Ÿèƒ½ã¨ã—ã¦ã€ Cache Policy ã¨ Origin Request Policy ã¨ã„ã†ã‚‚ã®ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã¾ã æ—¥æœ¬èªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæº–å‚™ã•ã‚Œã¦ã„ãªã„ã¿ãŸã„ãªã®ã§ã™ãŒã€è‹±èªã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å…ƒã«ã€ã©ã®ã‚ˆã†ãªã‚‚ã®ãªã®ã‹ç¢ºèªã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ Cache Policy ã¨ Origin Request Policy Understanding cache policies Understanding origin request policies AWS CLI ã§ã®æ“ä½œ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã®æ“ä½œ ãƒãƒªã‚·ãƒ¼ã®åˆ©ç”¨æ–¹æ³• æ–™é‡‘ ã¾ã¨ã‚ æ¦‚è¦ ä»Šæœ (ç¾åœ°æ™‚é–“ã ã¨ 7/22) ã® AWS Recent Annoucements (What\u0026rsquo;s New) ã§ã€æ¬¡ã®ã‚ˆã†ãªè¨˜äº‹ãŒã‚ã‚Šã¾ã—ãŸã€‚\nAmazon CloudFront announces Cache Key and Origin Request Policies ã“ã®è¨˜äº‹ã§ã¯ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nFurther, you can configure the cache key and origin request settings independently as account-level policies that can be easily applied across multiple distributions.\nã¤ã¾ã‚Šã©ã†ã„ã†ã“ã¨ã‹ã¨ã„ã†ã¨ã€ã“ã‚Œã¾ã§ã¯ å„ distribution ã® å„ behavior ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ™‚é–“ã‚„ã‚ªãƒªã‚¸ãƒ³ã¸ã®ãƒ˜ãƒƒãƒ€ã€ Cookie ã®ä¼é”ãªã©ã‚’è¨­å®šã—ã¦ã„ã¾ã—ãŸãŒã€ãã‚Œã‚‰ã‚’ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ¬ãƒ™ãƒ«ã§ç®¡ç†ã§ãã‚‹ ãƒãƒªã‚·ãƒ¼ ã‚’ä½œæˆã§ãã‚‹ã¨ã„ã†ã“ã¨ã¿ãŸã„ã§ã™ã€‚\nCache Policy ã¨ Origin Request Policy ãã® ãƒãƒªã‚·ãƒ¼ ã¨ã¯ã©ã‚“ãªã‚‚ã®ãªã®ã§ã—ã‚‡ã†ã‹ã€‚ã“ã“ã‹ã‚‰ã¯å…¬å¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¦‹ãªãŒã‚‰ç¢ºèªã—ã¦ã„ãã¾ã™ã€‚\nWorking with policies - Amazon CloudFront Understanding cache policies Controlling the cache key - Amazon CloudFront Cache Policy ã§ã¯ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ã¨ã—ã¦å«ã¾ã‚Œã‚‹å€¤ (ã‚¯ã‚¨ãƒªæ–‡å­—åˆ—ã€ HTTP ãƒ˜ãƒƒãƒ€ã€ Cookie) ã®åˆ¶å¾¡ã¨ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚é–“ (Defaultã€ Minimumã€ Maximum) ã‚’è¨­å®šã§ãã¾ã™ã€‚Cache Policy ã¯è‡ªåˆ†ã§ä½œæˆã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€ã‚ã‚‰ã‹ã˜ã‚ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ Managed Cache Policy ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\nCache Policy ã§è¨­å®šã§ãã‚‹ã®ã¯æ¬¡ã®é …ç›®ã§ã™ã€‚\nInfo Name : Cache Policy ã®åå‰ã§ã™ã€‚ Comment : Cache Policy ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆã§ã™ã€‚ TTL settings Cache-Control ãŠã‚ˆã³ Expires ãƒ˜ãƒƒãƒ€ã‚’ã‚‚ã¨ã«å‹•ä½œã™ã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚é–“ã‚’ã€æ¬¡ã® 3 ã¤ã®å€¤ã§è¨­å®šã—ã¾ã™ã€‚\nMinimum TTL Maximum TTL Default TTL Cache key contents ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ã¨ã—ã¦å«ã‚€å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚ä¸‹è¨˜ã®é …ç›®ã«ã¤ã„ã¦è¨­å®šã—ã¾ã™ã€‚\nHeaders None Whitelist Cookies All None Whitelist All-Except Query string All None Whitelist All-Except ã¾ãŸã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ (ãƒ“ãƒ¥ãƒ¼ã‚¢) ãŒ compressed object ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹å ´åˆã«ãã‚Œã‚‰ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ã‹ã‚’è¨­å®šã—ã¾ã™ã€‚\nCache compressed objects (uses Accept-Encoding header) ä»¥ä¸ŠãŒ Cache Policy ã§è¨­å®šã§ãã‚‹é …ç›®ã§ã™ã€‚ã“ã‚Œã¾ã§å„ behavior ã§è¨­å®šã—ã¦ã„ãŸã‚‚ã®ã¨åŒã˜ã§ã™ã­ã€‚\nUnderstanding origin request policies Controlling origin requests - Amazon CloudFront Origin Request Policy ã§ã¯ã€ã‚ªãƒªã‚¸ãƒ³ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã«é€ä¿¡ã™ã‚‹æƒ…å ±ã‚’åˆ¶å¾¡ã—ã¾ã™ã€‚ Origin Request Policy ã¯è‡ªåˆ†ã§ä½œæˆã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã—ã€ Cache Policy ã¨åŒæ§˜ã«ã‚ã‚‰ã‹ã˜ã‚ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ Managed Origin Request Policy ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\nOrigin Request Policy ã§è¨­å®šã§ãã‚‹ã®ã¯æ¬¡ã®é …ç›®ã§ã™ã€‚\nInfo Name : Origin Request Policy ã®åå‰ã§ã™ã€‚ Comment : Origin Request Policy ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆã§ã™ã€‚ Origin request contens ã‚ªãƒªã‚¸ãƒ³ã«å¯¾ã—ã¦é€ä¿¡ã™ã‚‹æƒ…å ±ã‚’ã€ä¸‹è¨˜ã®é …ç›®ã§è¨­å®šã—ã¾ã™ã€‚\nHeaders None Whitelist All viewer headers and whitelisted CloudFront-* headers All viewer headers Cookies All None Whitelist Query strings All None Whitelist ä»¥ä¸ŠãŒ Origin Request Policy ã§è¨­å®šã§ãã‚‹é …ç›®ã§ã™ã€‚ã“ã¡ã‚‰ã‚‚ã€ã“ã‚Œã¾ã§å„ behavior ã§è¨­å®šã—ã¦ã„ãŸã‚‚ã®ã¨åŒæ§˜ã§ã™ã€‚\nAWS CLI ã§ã®æ“ä½œ Cache Policy ãŠã‚ˆã³ Origin Request Policy ã«ã¤ã„ã¦ã¯ã€ AWS SDK ã‚„ AWS CLI ã‚’ä½¿ã£ã¦æ“ä½œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¾‹ãˆã°ã€ãã‚Œãã‚Œã‚’ä½œæˆã™ã‚‹å ´åˆã¯ã€ cloudfront create-cache-policy ã€ create-origin-request-policy ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚ãªãŠã€ AWS CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯ã€ã“ã®è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã‚‹æ™‚ç‚¹ã§æœ€æ–°ã® 2.0.33 ãŠã‚ˆã³ 1.18.103 ã§ä½¿ãˆã‚‹ã‚ˆã†ã§ã™ã€‚\n$ aws --version aws-cli/2.0.33 Python/3.7.4 Darwin/19.5.0 botocore/2.0.0dev3 $ (aws-cli-v1) $ aws --version aws-cli/1.18.103 Python/3.7.7 Darwin/19.5.0 botocore/1.17.26 Cache Policy ã®ä½œæˆ $ aws cloudfront create-cache-policy help ... SYNOPSIS create-cache-policy --cache-policy-config \u0026lt;value\u0026gt; [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] [--cli-auto-prompt \u0026lt;value\u0026gt;] ... $ aws cloudfront create-cache-policy --generate-cli-skeleton { \u0026#34;CachePolicyConfig\u0026#34;: { \u0026#34;Comment\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;DefaultTTL\u0026#34;: 0, \u0026#34;MaxTTL\u0026#34;: 0, \u0026#34;MinTTL\u0026#34;: 0, \u0026#34;ParametersInCacheKeyAndForwardedToOrigin\u0026#34;: { \u0026#34;EnableAcceptEncodingGzip\u0026#34;: true, \u0026#34;HeadersConfig\u0026#34;: { \u0026#34;HeaderBehavior\u0026#34;: \u0026#34;whitelist\u0026#34;, \u0026#34;Headers\u0026#34;: { \u0026#34;Quantity\u0026#34;: 0, \u0026#34;Items\u0026#34;: [ \u0026#34;\u0026#34; ] } }, \u0026#34;CookiesConfig\u0026#34;: { \u0026#34;CookieBehavior\u0026#34;: \u0026#34;all\u0026#34;, \u0026#34;Cookies\u0026#34;: { \u0026#34;Quantity\u0026#34;: 0, \u0026#34;Items\u0026#34;: [ \u0026#34;\u0026#34; ] } }, \u0026#34;QueryStringsConfig\u0026#34;: { \u0026#34;QueryStringBehavior\u0026#34;: \u0026#34;allExcept\u0026#34;, \u0026#34;QueryStrings\u0026#34;: { \u0026#34;Quantity\u0026#34;: 0, \u0026#34;Items\u0026#34;: [ \u0026#34;\u0026#34; ] } } } } } Origin Request Policy ã®ä½œæˆ $ aws cloudfront create-origin-request-policy help ... SYNOPSIS create-origin-request-policy --origin-request-policy-config \u0026lt;value\u0026gt; [--cli-input-json \u0026lt;value\u0026gt;] [--generate-cli-skeleton \u0026lt;value\u0026gt;] ... $ aws cloudfront create-origin-request-policy --generate-cli-skeleton { \u0026#34;OriginRequestPolicyConfig\u0026#34;: { \u0026#34;Comment\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;HeadersConfig\u0026#34;: { \u0026#34;HeaderBehavior\u0026#34;: \u0026#34;whitelist\u0026#34;, \u0026#34;Headers\u0026#34;: { \u0026#34;Quantity\u0026#34;: 0, \u0026#34;Items\u0026#34;: [ \u0026#34;\u0026#34; ] } }, \u0026#34;CookiesConfig\u0026#34;: { \u0026#34;CookieBehavior\u0026#34;: \u0026#34;all\u0026#34;, \u0026#34;Cookies\u0026#34;: { \u0026#34;Quantity\u0026#34;: 0, \u0026#34;Items\u0026#34;: [ \u0026#34;\u0026#34; ] } }, \u0026#34;QueryStringsConfig\u0026#34;: { \u0026#34;QueryStringBehavior\u0026#34;: \u0026#34;all\u0026#34;, \u0026#34;QueryStrings\u0026#34;: { \u0026#34;Quantity\u0026#34;: 0, \u0026#34;Items\u0026#34;: [ \u0026#34;\u0026#34; ] } } } } ã¡ãªã¿ã«ã€æ—¢ã«ãƒãƒãƒ¼ã‚¸ãƒ‰ãªãƒãƒªã‚·ãƒ¼ã¯ãã‚Œãã‚Œã«å­˜åœ¨ã—ã¦ã„ã‚‹ã®ã§ã€ cloudfront list-cache-policies ã€ cloudfront list-origin-request-policies ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã‚Œã‚‰ã®æƒ…å ±ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n$ aws cloudfront list-cache-policies { \u0026#34;CachePolicyList\u0026#34;: { \u0026#34;MaxItems\u0026#34;: 100, \u0026#34;Quantity\u0026#34;: 4, \u0026#34;Items\u0026#34;: [ { \u0026#34;Type\u0026#34;: \u0026#34;managed\u0026#34;, \u0026#34;CachePolicy\u0026#34;: { \u0026#34;Id\u0026#34;: \u0026#34;658327ea-f89d-4fab-a63d-7e88639e58f6\u0026#34;, \u0026#34;LastModifiedTime\u0026#34;: \u0026#34;1970-01-01T00:00:00Z\u0026#34;, \u0026#34;CachePolicyConfig\u0026#34;: { \u0026#34;Comment\u0026#34;: \u0026#34;Default policy when CF compression is enabled\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;Managed-CachingOptimized\u0026#34;, \u0026#34;DefaultTTL\u0026#34;: 86400, \u0026#34;MaxTTL\u0026#34;: 31536000, \u0026#34;MinTTL\u0026#34;: 1, \u0026#34;ParametersInCacheKeyAndForwardedToOrigin\u0026#34;: { \u0026#34;EnableAcceptEncodingGzip\u0026#34;: true, \u0026#34;HeadersConfig\u0026#34;: { \u0026#34;HeaderBehavior\u0026#34;: \u0026#34;none\u0026#34; }, \u0026#34;CookiesConfig\u0026#34;: { \u0026#34;CookieBehavior\u0026#34;: \u0026#34;none\u0026#34; }, \u0026#34;QueryStringsConfig\u0026#34;: { \u0026#34;QueryStringBehavior\u0026#34;: \u0026#34;none\u0026#34; } } } } }, { \u0026#34;Type\u0026#34;: \u0026#34;managed\u0026#34;, \u0026#34;CachePolicy\u0026#34;: { \u0026#34;Id\u0026#34;: \u0026#34;4135ea2d-6df8-44a3-9df3-4b5a84be39ad\u0026#34;, \u0026#34;LastModifiedTime\u0026#34;: \u0026#34;1970-01-01T00:00:00Z\u0026#34;, \u0026#34;CachePolicyConfig\u0026#34;: { \u0026#34;Comment\u0026#34;: \u0026#34;Policy with caching disabled\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;Managed-CachingDisabled\u0026#34;, \u0026#34;DefaultTTL\u0026#34;: 0, \u0026#34;MaxTTL\u0026#34;: 0, \u0026#34;MinTTL\u0026#34;: 0, \u0026#34;ParametersInCacheKeyAndForwardedToOrigin\u0026#34;: { \u0026#34;EnableAcceptEncodingGzip\u0026#34;: false, \u0026#34;HeadersConfig\u0026#34;: { \u0026#34;HeaderBehavior\u0026#34;: \u0026#34;none\u0026#34; }, \u0026#34;CookiesConfig\u0026#34;: { \u0026#34;CookieBehavior\u0026#34;: \u0026#34;none\u0026#34; }, \u0026#34;QueryStringsConfig\u0026#34;: { \u0026#34;QueryStringBehavior\u0026#34;: \u0026#34;none\u0026#34; } } } } }, { \u0026#34;Type\u0026#34;: \u0026#34;managed\u0026#34;, \u0026#34;CachePolicy\u0026#34;: { \u0026#34;Id\u0026#34;: \u0026#34;b2884449-e4de-46a7-ac36-70bc7f1ddd6d\u0026#34;, \u0026#34;LastModifiedTime\u0026#34;: \u0026#34;1970-01-01T00:00:00Z\u0026#34;, \u0026#34;CachePolicyConfig\u0026#34;: { \u0026#34;Comment\u0026#34;: \u0026#34;Default policy when compression is disabled\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;Managed-CachingOptimizedForUncompressedObjects\u0026#34;, \u0026#34;DefaultTTL\u0026#34;: 86400, \u0026#34;MaxTTL\u0026#34;: 31536000, \u0026#34;MinTTL\u0026#34;: 1, \u0026#34;ParametersInCacheKeyAndForwardedToOrigin\u0026#34;: { \u0026#34;EnableAcceptEncodingGzip\u0026#34;: false, \u0026#34;HeadersConfig\u0026#34;: { \u0026#34;HeaderBehavior\u0026#34;: \u0026#34;none\u0026#34; }, \u0026#34;CookiesConfig\u0026#34;: { \u0026#34;CookieBehavior\u0026#34;: \u0026#34;none\u0026#34; }, \u0026#34;QueryStringsConfig\u0026#34;: { \u0026#34;QueryStringBehavior\u0026#34;: \u0026#34;none\u0026#34; } } } } }, { \u0026#34;Type\u0026#34;: \u0026#34;managed\u0026#34;, \u0026#34;CachePolicy\u0026#34;: { \u0026#34;Id\u0026#34;: \u0026#34;08627262-05a9-4f76-9ded-b50ca2e3a84f\u0026#34;, \u0026#34;LastModifiedTime\u0026#34;: \u0026#34;1970-01-01T00:00:00Z\u0026#34;, \u0026#34;CachePolicyConfig\u0026#34;: { \u0026#34;Comment\u0026#34;: \u0026#34;Policy for Elemental MediaPackage Origin\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;Managed-Elemental-MediaPackage\u0026#34;, \u0026#34;DefaultTTL\u0026#34;: 86400, \u0026#34;MaxTTL\u0026#34;: 31536000, \u0026#34;MinTTL\u0026#34;: 0, \u0026#34;ParametersInCacheKeyAndForwardedToOrigin\u0026#34;: { \u0026#34;EnableAcceptEncodingGzip\u0026#34;: true, \u0026#34;HeadersConfig\u0026#34;: { \u0026#34;HeaderBehavior\u0026#34;: \u0026#34;whitelist\u0026#34;, \u0026#34;Headers\u0026#34;: { \u0026#34;Quantity\u0026#34;: 1, \u0026#34;Items\u0026#34;: [ \u0026#34;origin\u0026#34; ] } }, \u0026#34;CookiesConfig\u0026#34;: { \u0026#34;CookieBehavior\u0026#34;: \u0026#34;none\u0026#34; }, \u0026#34;QueryStringsConfig\u0026#34;: { \u0026#34;QueryStringBehavior\u0026#34;: \u0026#34;whitelist\u0026#34;, \u0026#34;QueryStrings\u0026#34;: { \u0026#34;Quantity\u0026#34;: 4, \u0026#34;Items\u0026#34;: [ \u0026#34;aws.manifestfilter\u0026#34;, \u0026#34;start\u0026#34;, \u0026#34;end\u0026#34;, \u0026#34;m\u0026#34; ] } } } } } } ] } } ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã®æ“ä½œ CloudFront ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã¨ã€ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã« Policies ã¨ã„ã†ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒå¢—ãˆã¦ã„ã¾ã™ã€‚ãã“ã§ã€ Cache Policy ãŠã‚ˆã³ Origin Request Policy ã‚’ç®¡ç†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nãã‚Œãã‚Œã®ä½œæˆç”»é¢ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nCache Policy ã®ä½œæˆç”»é¢ Origin Request Policy ã®ä½œæˆç”»é¢ ãƒãƒªã‚·ãƒ¼ã®åˆ©ç”¨æ–¹æ³• ä½œæˆã€ã¾ãŸã¯ã‚ã‚‰ã‹ã˜ã‚ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ãƒãƒãƒ¼ã‚¸ãƒ‰ãª Cache Policy ãŠã‚ˆã³ Origin Request Policy ã¯ã€å„ behavior ã®è¨­å®šã«ã¦ã€åˆ©ç”¨ã™ã‚‹ã‹ã©ã†ã‹ã‚’è¨­å®šã—ã¾ã™ã€‚\nAWS CLI ã®å ´åˆ AWS CLI ã®å ´åˆã€ cloudfront create-distribution ã‚³ãƒãƒ³ãƒ‰ã§ä½œæˆã—ã¾ã™ãŒã€ skeleton ã‚’ç¢ºèªã—ã¦ã¿ã‚‹ã¨ DefaultCacheBehavior ã®ä¸­ã« CachePolicyId ã¨ OriginRequestPolicyId ã¨ã„ã†å±æ€§ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚\n{ \u0026#34;DefaultCacheBehavior\u0026#34;: { \u0026#34;TargetOriginId\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;TrustedSigners\u0026#34;: { \u0026#34;Enabled\u0026#34;: true, \u0026#34;Quantity\u0026#34;: 0, \u0026#34;Items\u0026#34;: [ \u0026#34;\u0026#34; ] }, \u0026#34;ViewerProtocolPolicy\u0026#34;: \u0026#34;https-only\u0026#34;, \u0026#34;AllowedMethods\u0026#34;: { \u0026#34;Quantity\u0026#34;: 0, \u0026#34;Items\u0026#34;: [ \u0026#34;POST\u0026#34; ], \u0026#34;CachedMethods\u0026#34;: { \u0026#34;Quantity\u0026#34;: 0, \u0026#34;Items\u0026#34;: [ \u0026#34;POST\u0026#34; ] } }, \u0026#34;SmoothStreaming\u0026#34;: true, \u0026#34;Compress\u0026#34;: true, \u0026#34;LambdaFunctionAssociations\u0026#34;: { \u0026#34;Quantity\u0026#34;: 0, \u0026#34;Items\u0026#34;: [ { \u0026#34;LambdaFunctionARN\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;EventType\u0026#34;: \u0026#34;origin-response\u0026#34;, \u0026#34;IncludeBody\u0026#34;: true } ] }, \u0026#34;FieldLevelEncryptionId\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;CachePolicyId\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;OriginRequestPolicyId\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;ForwardedValues\u0026#34;: { \u0026#34;QueryString\u0026#34;: true, \u0026#34;Cookies\u0026#34;: { \u0026#34;Forward\u0026#34;: \u0026#34;whitelist\u0026#34;, \u0026#34;WhitelistedNames\u0026#34;: { \u0026#34;Quantity\u0026#34;: 0, \u0026#34;Items\u0026#34;: [ \u0026#34;\u0026#34; ] } }, \u0026#34;Headers\u0026#34;: { \u0026#34;Quantity\u0026#34;: 0, \u0026#34;Items\u0026#34;: [ \u0026#34;\u0026#34; ] }, \u0026#34;QueryStringCacheKeys\u0026#34;: { \u0026#34;Quantity\u0026#34;: 0, \u0026#34;Items\u0026#34;: [ \u0026#34;\u0026#34; ] } }, \u0026#34;MinTTL\u0026#34;: 0, \u0026#34;DefaultTTL\u0026#34;: 0, \u0026#34;MaxTTL\u0026#34;: 0 }, } ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å ´åˆ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å ´åˆã¯ã€ behabior ã®è¨­å®šç”»é¢ã§ Cache and origin request settings ã¨ã„ã†é …ç›®ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã“ã§ Use a cache policy and origin request policy ã‚’é¸æŠã™ã‚‹ã¨ã€ã©ã®ãƒãƒªã‚·ãƒ¼ã‚’åˆ©ç”¨ã™ã‚‹ã‹è¨­å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nUse legacy cache settings ã‚’é¸æŠã—ãŸå ´åˆã¯ã€ã“ã‚Œã¾ã§é€šã‚Šå„ behavior ã§è¨­å®šã‚’ã—ã¾ã™ã€‚\næ–™é‡‘ å„ãƒãƒªã‚·ãƒ¼ã®ç®¡ç†ã€åˆ©ç”¨ã«ã¯è¿½åŠ ã®æ–™é‡‘ã¯ç™ºç”Ÿã—ã¾ã›ã‚“ã€‚ç™ºç”Ÿã™ã‚‹ã®ã¯ã€ã“ã‚Œã¾ã§é€šã‚Š CloudFront ã®å„ç¨®æ–™é‡‘ã®ã¿ã§ã™ã€‚\nThere is no additional fee for using this feature. Regular CloudFront charges apply.\nAmazon CloudFront announces Cache Key and Origin Request Policies ã¾ã¨ã‚ Amazon CloudFront ã®æ–°æ©Ÿèƒ½ã€ Cache Policy ã¨ Origin Request Policy ã«ã¤ã„ã¦èª¿ã¹ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŠã‚ˆã³ã‚ªãƒªã‚¸ãƒ³ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã¤ã„ã¦ã€ã“ã‚Œã¾ã§ã¯å„ behavior ã§å€‹åˆ¥ã«è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ãŸã¨ãˆåŒã˜è¨­å®šã‚’å½“ã¦ãŸã„ã¨ã—ã¦ã‚‚ã™ã¹ã¦ã‚’å€‹åˆ¥ã«å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚ä»Šå›ã® Cache Policy ã¨ Origin Request Policy ã‚’ä½¿ã†ã“ã¨ã§ã€ç•°ãªã‚‹ behavior ã§ã‚‚è¨­å®šã‚’çµ±ä¸€ã—ãŸã„ã¨ã„ã†å ´åˆã«ã€ãã®ç®¡ç†ãŒç°¡å˜ã«ãªã‚Šãã†ã§ã™ã€‚\nãã‚Œãã‚Œã«ãƒãƒãƒ¼ã‚¸ãƒ‰ãªãƒãƒªã‚·ãƒ¼ã‚‚ã‚ã‚‰ã‹ã˜ã‚ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ç‰¹ã«ã“ã ã‚ã‚ŠãŒãªã„å ´åˆã«ã¯ãã‚Œã‚‰ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ CloudFront ã®è¨­å®šè‡ªä½“ãŒã‚ˆã‚Šç°¡å˜ã«ãªã‚‹ã®ã‹ãªã¨æ€ã„ã¾ã—ãŸã€‚CloudFront è‡ªä½“ã®ä»•æ§˜ã«ã¤ã„ã¦ã¯ä»¥å‰ã«ç°¡å˜ã«ã¾ã¨ã‚ãŸè¨˜äº‹ãŒã‚ã‚‹ã®ã§ã€ã‚ˆã‹ã£ãŸã‚‰å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\n",
    "permalink": "https://michimani.net/post/aws-cloudfront-cache-key-and-origin-request-policy/",
    "title": "CloudFront ã§ Cache Policy ã¨ Origin Request Policy ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸã¿ãŸã„ãªã®ã§èª¿ã¹ã¦ã¿ãŸ"
  },
  {
    "contents": "AWS Chalice ã§ API Gateway ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åã®ä½œæˆãŒã‚µãƒãƒ¼ãƒˆã•ã‚ŒãŸã®ã§ã€å®Ÿéš›ã«è©¦ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ ã“ã‚Œã¾ã§ ã‚„ã£ã¦ã¿ã‚‹ Chalice ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ ä¸€æ—¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ã‚‹ Route 53 ã¨ ACM ã§ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ SSL è¨¼æ˜æ›¸ã®è¨­å®š Chalice ã§ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è¨­å®š Route 53 ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆ ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ã¿ã‚‹ ã¾ã¨ã‚ æ¦‚è¦ Python ã§ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ãƒã‚¤ã‚¯ãƒ­ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã‚ã‚‹ AWS Chalice ã§ã™ãŒã€ä»Šå›ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 1.16.0 ã«ã¦ API Gateway ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åä½œæˆãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¾ã—ãŸã€‚ä»Šã¾ã§ã¯ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åã®ä½œæˆã¯æ‰‹å‹•ã§å®Ÿæ–½ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã®ã§ã™ãŒã€ä»Šå›ã¯ãã‚ŒãŒ Chalice ã®æ©Ÿèƒ½ã¨ã—ã¦å®Ÿè£…ã•ã‚ŒãŸã“ã¨ã«ãªã‚Šã¾ã™ã€‚\næ—¢ã« AWS ãƒ–ãƒ­ã‚°ã«ã‚‚å®Ÿéš›ã®æ‰‹é †ã«ã¤ã„ã¦è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ä»Šå›ã¯ãã‚Œã‚’å…ƒã«ã—ã¦å®Ÿéš›ã«è©¦ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nConfiguring custom domain names with AWS Chalice | AWS Developer Blog aws/chalice: Python Serverless Microframework for AWS ã“ã‚Œã¾ã§ ä»Šå›ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒãã‚‹ã¾ã§ã¯ã€ Chalice ã§æ§‹ç¯‰ã—ãŸ API ã«å¯¾ã—ã¦ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å½“ã¦ã‚‹å ´åˆã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚„ CLI ã‚„ CloudFormation ãªã©ã§è‡ªåˆ†ã§è¨­å®šã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚\néå»ã« Chalice ã§ todo ã‚’ç®¡ç†ã™ã‚‹ç°¡å˜ãª API ã‚’ä½œã£ãŸã®ã§ã™ãŒã€ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å½“ã¦ã‚‹ãŸã‚ã«æ¬¡ã®ã‚ˆã†ãªæ‰‹é †ã‚’è¸ã‚“ã§ã„ã¾ã—ãŸã€‚\nchalice deploy ã‚’å®Ÿè¡Œ ä½œæˆã•ã‚ŒãŸ API Gateway ã«å¯¾ã—ã¦ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’ä½œæˆ Route 53 ã§ ALIAS ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆ 2, 3 ã«ã¤ã„ã¦ã¯ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã—ã¦ã€ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆçµŒç”±ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã—ãŸã€‚æ‰‹ä½œæ¥­ã§ã¯ãªã CFn ã§æ§‹ç¯‰ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã¨æ¥½ã¨ã„ãˆã°æ¥½ãªã®ã§ã™ãŒã€ã§ãã‚Œã° Chalice ã®æ©Ÿèƒ½ã¨ã—ã¦ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åã®ä½œæˆãŒã§ãã‚Œã°è‰¯ã„ãªãƒ¼ã¨ã¯æ€ã£ã¦ã„ã¾ã—ãŸã€‚\nmichimani/todo-app: A sample of ToDo app. ã‚„ã£ã¦ã¿ã‚‹ ã§ã¯ã€AWS ãƒ–ãƒ­ã‚°ã‚’å…ƒã«å®Ÿéš›ã«ã‚„ã£ã¦ã¿ã¾ã™ã€‚ãã®å‰ã«ã€ Chalice ã‚’æœ€æ–°ç‰ˆ 1.16.0 ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¦ãŠãã¾ã™ã€‚\n$ pip install chalice --upgrade $ chalice --version chalice 1.16.0, python 3.7.7, darwin 19.5.0 Chalice ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ ã¾ãšã¯ Chalice ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆã§ã™ã€‚\n$ chalice new-project custom-domain-app $ cd custom-domain-app $ tree -a -L 2 . â”œâ”€â”€ .chalice â”‚ â””â”€â”€ config.json â”œâ”€â”€ .gitignore â”œâ”€â”€ app.py â””â”€â”€ requirements.txt åˆæœŸçŠ¶æ…‹ã§ã¯ã€ / ã¨ã„ã†ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§ {'hello': 'world'} ã¨è¿”ã™ã‚ˆã†ãª app.py ã«ãªã£ã¦ã„ã¾ã™ã€‚\nfrom chalice import Chalice app = Chalice(app_name=\u0026#39;custom-domain-app\u0026#39;) @app.route(\u0026#39;/\u0026#39;) def index(): return {\u0026#39;hello\u0026#39;: \u0026#39;world\u0026#39;} chalice local ã‚³ãƒãƒ³ãƒ‰ã§ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œã§ãã‚‹ã®ã§ã€è©¦ã—ã¦ã¿ã¾ã™ã€‚\n$ chalice local Serving on http://127.0.0.1:8000 Restarting local dev server. Serving on http://127.0.0.1:8000 åˆ¥ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ã„ã¦ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚\n$ http http://127.0.0.1:8000/ HTTP/1.1 200 OK Content-Length: 17 Content-Type: application/json Date: Tue, 21 Jul 2020 21:18:13 GMT Server: BaseHTTP/0.6 Python/3.7.7 { \u0026#34;hello\u0026#34;: \u0026#34;world\u0026#34; } ã¡ãªã¿ã«ã€ã“ã“ã§ä½¿ã£ã¦ã„ã‚‹ http ã‚³ãƒãƒ³ãƒ‰ã¯ã€ HTTPie ã¨ã„ã†ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ cURL ã‚ˆã‚Šã‚‚ç›´æ„Ÿçš„ã§ã‚ã‹ã‚Šã‚„ã™ã„ã‚³ãƒãƒ³ãƒ‰ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒç‰¹å¾´ã§ã™ã€‚\nä¸€æ—¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ã‚‹ ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¨­å®šã™ã‚‹å‰ã«ã€ã¾ãšã¯ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ã¾ã™ã€‚\nAWS ãƒ–ãƒ­ã‚°ã§ã¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ Regional ã«å¤‰æ›´ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã„ã¾ã—ãŸãŒã€ä»Šå›ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã¾ã¾ Edge ã‚¿ã‚¤ãƒ—ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚ã¾ãŸã€å®Ÿè¡Œå¯¾è±¡ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¯ ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ (us-east-1) ã¨ã—ã¾ã™ã€‚\n$ export AWS_DEFAULT_REGION=us-east-1 $ chalice deploy Creating deployment package. Creating IAM role: custom-domain-app-dev Creating lambda function: custom-domain-app-dev Creating Rest API Resources deployed: - Lambda ARN: arn:aws:lambda:us-east-1:123456789012:function:custom-domain-app-dev - Rest API URL: https://1234567893.execute-api.us-east-1.amazonaws.com/api/ API Gateway ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒå‡ºåŠ›ã•ã‚Œã‚‹ã®ã§ã€ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ http https://1234567893.execute-api.us-east-1.amazonaws.com/api/ HTTP/1.1 200 OK Connection: keep-alive Content-Length: 17 Content-Type: application/json Date: Tue, 21 Jul 2020 21:43:26 GMT Via: 1.1 60c021dff092d29bb692026a19f1de3b.cloudfront.net (CloudFront) X-Amz-Cf-Id: jcQfmHIp5XfuvOAMg4RKJECU8pIsVMW9qOcuMFMnkq7uTW3bvPXi2Q== X-Amz-Cf-Pop: NRT20-C4 X-Amzn-Trace-Id: Root=1-5f17617d-1e5da61a1164ffc4a7ef10d4;Sampled=0 X-Cache: Miss from cloudfront x-amz-apigw-id: QCwrrEtVoAMFUSw= x-amzn-RequestId: 8614edfa-4709-4e01-997d-21b703af194e { \u0026#34;hello\u0026#34;: \u0026#34;world\u0026#34; } Chalice ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã¯ä»–ã®ãƒ•ãƒ¬ãƒ¼ãƒ æ ã¨é•ã£ã¦ CloudFormation ã‚’ä½¿ã£ã¦ã„ãªã„ã®ã§ã€ã‚ã¡ã‚ƒãã¡ã‚ƒæ—©ã„ã§ã™ã€‚\nRoute 53 ã¨ ACM ã§ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ SSL è¨¼æ˜æ›¸ã®è¨­å®š ç¶šã„ã¦ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¨­å®šã—ã¦ã„ãã¾ã™ãŒã€ Chalice ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®è¨­å®šã®å‰ã« Route 53 ã§ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ä½œæˆã¨ã€ ACM ã§ SSL è¨¼æ˜æ›¸ã‚’ç™ºè¡Œã—ã¾ã™ã€‚\nä»Šå›ã¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ã‚¿ã‚¤ãƒ—ã‚’ Edge ã«ã—ã¦ã„ã‚‹ã®ã§ã€ SSL è¨¼æ˜æ›¸ã¯ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ (us-east-1) ã§ç™ºè¡Œã—ã¾ã™ã€‚\næ‰‹é †ã«ã¤ã„ã¦ã¯å‰²æ„›ã—ã¾ã™ãŒã€ä»Šå›ã¯ä¸‹è¨˜ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã€åŠã³ SSL è¨¼æ˜æ›¸ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚\nmichimani.net chalice-api.michimani.net ã«å¯¾ã™ã‚‹ SSL è¨¼æ˜æ›¸ ã“ã“ã§ã²ã¨ã¤æ³¨æ„ãŒå¿…è¦ãªã®ã¯ã€ ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰è¨¼æ˜æ›¸ã§ã¯ chalice deploy æ™‚ã«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ ã¨ã„ã†ç‚¹ã§ã™ã€‚\n$ aws route53 list-hosted-zones \\ --query \u0026#34;HostedZones[?Name==\\`michimani.net.\\`]\u0026#34; [ { \u0026#34;Id\u0026#34;: \u0026#34;/hostedzone/Z3911234567890\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;michimani.net.\u0026#34;, \u0026#34;CallerReference\u0026#34;: \u0026#34;E2XXXXXX-XXXX-XXXX-XXXX-123456789012\u0026#34;, \u0026#34;Config\u0026#34;: { \u0026#34;PrivateZone\u0026#34;: false }, \u0026#34;ResourceRecordSetCount\u0026#34;: 28 } ] $ aws acm list-certificates \\ --query \u0026#34;CertificateSummaryList[?DomainName==\\`chalice-api.michimani.net\\`]\u0026#34; \\ --region us-east-1 [ { \u0026#34;CertificateArn\u0026#34;: \u0026#34;arn:aws:acm:us-east-1:123456789012:certificate/96123456-xxxx-xxxx-xxxx-f401234567890\u0026#34;, \u0026#34;DomainName\u0026#34;: \u0026#34;chalice-api.michimani.net\u0026#34; } ] ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã®è¨­å®šã¨ SSL è¨¼æ˜æ›¸ã®ç™ºè¡ŒãŒå®Œäº†ã—ãŸã‚‰ã€ãã‚Œãã‚Œ hosted zone ID (Z3911234567890) ã¨ CertificateArn (arn:aws:acm:us-east-1:123456789012:certificate/c3610514-3ef7-4478-9778-a5ab59ad168) ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚\nChalice ã§ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è¨­å®š ç¶šã„ã¦ã¯ Chalice ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è¨­å®šã‚’ã—ã¾ã™ã€‚\n.chalice/config.json ã«å¯¾ã—ã¦æ¬¡ã®ã‚ˆã†ãªè¨­å®šã‚’è¿½è¨˜ã—ã¾ã™ã€‚\n{ \u0026#34;version\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;app_name\u0026#34;: \u0026#34;custom-domain-app\u0026#34;, \u0026#34;stages\u0026#34;: { \u0026#34;dev\u0026#34;: { + \u0026#34;api_gateway_custom_domain\u0026#34;: { + \u0026#34;domain_name\u0026#34;: \u0026#34;chalice-api.michimani.net\u0026#34;, + \u0026#34;certificate_arn\u0026#34;: \u0026#34;arn:aws:acm:us-east-1:123456789012:certificate/96123456-xxxx-xxxx-xxxx-f401234567890\u0026#34; + }, \u0026#34;api_gateway_stage\u0026#34;: \u0026#34;api\u0026#34; } } } ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ã¾ã™ã€‚\n$ chalice deploy Creating deployment package. Updating policy for IAM role: custom-domain-app-dev Updating lambda function: custom-domain-app-dev Updating rest API Creating custom domain name: chalice-api.michimani.net Creating api mapping: / Resources deployed: - Lambda ARN: arn:aws:lambda:us-east-1:123456789012:function:custom-domain-app-dev - Rest API URL: https://1234567893.execute-api.us-east-1.amazonaws.com/api/ - Custom domain name: HostedZoneId: Z2FDTNDATAQYW2 AliasDomainName: 1234567890q58.cloudfront.net ã“ã‚Œã§ API Gateway ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åãŒä½œæˆã•ã‚Œã¾ã—ãŸã®ã§ã€ã‚ã¨ã¯ã“ã®å‡ºåŠ›ã«ã‚ã‚‹ HostedZoneId ã¨ AliasDomainName ã‚’ä½¿ã£ã¦ Route 53 ã« ALIAS ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚\nã¡ãªã¿ã«ã€ SSL è¨¼æ˜æ›¸ã¨ã—ã¦ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰è¨¼æ˜æ›¸ã‚’æŒ‡å®šã—ãŸå ´åˆã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚\n$ chalice deploy Creating deployment package. Updating policy for IAM role: custom-domain-app-dev Updating lambda function: custom-domain-app-dev Updating rest API Creating custom domain name: chalice-api.michimani.net Traceback (most recent call last): ... An error occurred (BadRequestException) when calling the CreateDomainName operation: The specified SSL certificate doesn\u0026#39;t exist, isn\u0026#39;t in us-east-1 region, isn\u0026#39;t valid, or doesn\u0026#39;t include a valid certificate chain. (Service: AmazonCloudFront; Status Code: 400; Error Code: InvalidViewerCertificate; Request ID: 65485f0b-7063-4eef-a4ce-2c45e56128cf) Route 53 ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆ ãƒ¬ã‚³ãƒ¼ãƒ‰ã®ä½œæˆã«ã¯ AWS CLI ã® route53 change-resource-record-sets ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚\nã¾ãšã¯ --generate-cli-skeleton ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç¢ºèªã—ã¾ã™ã€‚\n$ aws route53 change-resource-record-sets --generate-cli-skeleton { \u0026#34;HostedZoneId\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;ChangeBatch\u0026#34;: { \u0026#34;Comment\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Changes\u0026#34;: [ { \u0026#34;Action\u0026#34;: \u0026#34;CREATE\u0026#34;, \u0026#34;ResourceRecordSet\u0026#34;: { \u0026#34;Name\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;MX\u0026#34;, \u0026#34;SetIdentifier\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Weight\u0026#34;: 0, \u0026#34;Region\u0026#34;: \u0026#34;us-west-1\u0026#34;, \u0026#34;GeoLocation\u0026#34;: { \u0026#34;ContinentCode\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;CountryCode\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;SubdivisionCode\u0026#34;: \u0026#34;\u0026#34; }, \u0026#34;Failover\u0026#34;: \u0026#34;SECONDARY\u0026#34;, \u0026#34;MultiValueAnswer\u0026#34;: true, \u0026#34;TTL\u0026#34;: 0, \u0026#34;ResourceRecords\u0026#34;: [ { \u0026#34;Value\u0026#34;: \u0026#34;\u0026#34; } ], \u0026#34;AliasTarget\u0026#34;: { \u0026#34;HostedZoneId\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;DNSName\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;EvaluateTargetHealth\u0026#34;: true }, \u0026#34;HealthCheckId\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;TrafficPolicyInstanceId\u0026#34;: \u0026#34;\u0026#34; } } ] } } ä»Šå›ä½¿ã†ã®ã¯ Changes ã®éƒ¨åˆ†ã§ã™ã€‚å…ˆç¨‹ å–å¾—ã—ãŸã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã® HostedZoneId ã¨ AliasDomainName ã‚’ä½¿ã£ã¦æ¬¡ã®ã‚ˆã†ãª JSON ã‚’ä½œã£ã¦ãŠãã¾ã™ã€‚\n{ \u0026#34;Changes\u0026#34;: [ { \u0026#34;Action\u0026#34;: \u0026#34;CREATE\u0026#34;, \u0026#34;ResourceRecordSet\u0026#34;: { \u0026#34;Name\u0026#34;: \u0026#34;chalice-api.michimani.net\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;A\u0026#34;, \u0026#34;AliasTarget\u0026#34;: { \u0026#34;DNSName\u0026#34;: \u0026#34;1234567890q58.cloudfront.net\u0026#34;, \u0026#34;HostedZoneId\u0026#34;: \u0026#34;Z2FDTNDATAQYW2\u0026#34;, \u0026#34;EvaluateTargetHealth\u0026#34;: false } } } ] } ResourceRecordSet.AliasTarget.DNSName ã« AliasDomainName ã€ResourceRecordSet.AliasTarget.HostedZoneId ã« HostedZoneId ã‚’ã€ãã‚Œãã‚ŒæŒ‡å®šã—ã¾ã™ã€‚\nãã—ã¦ã€ --change-batch ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã“ã® JSON ã‚’æŒ‡å®šã—ã¦å®Ÿè¡Œã—ã¾ã™ã€‚ã“ã®ã¨ã --hosted-zone-id ã§æŒ‡å®šã™ã‚‹ã®ã¯ã€ Route 53 ã«ç™»éŒ²ã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ã® hosted zone ID ã§ã™ã€‚\n$ aws route53 change-resource-record-sets \\ --hosted-zone-id Z3911234567890 \\ --change-batch \\ \u0026#39;{ \u0026#34;Changes\u0026#34;: [ { \u0026#34;Action\u0026#34;: \u0026#34;CREATE\u0026#34;, \u0026#34;ResourceRecordSet\u0026#34;: { \u0026#34;Name\u0026#34;: \u0026#34;chalice-api.michimani.net\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;A\u0026#34;, \u0026#34;AliasTarget\u0026#34;: { \u0026#34;DNSName\u0026#34;: \u0026#34;1234567890q58.cloudfront.net\u0026#34;, \u0026#34;HostedZoneId\u0026#34;: \u0026#34;Z2FDTNDATAQYW2\u0026#34;, \u0026#34;EvaluateTargetHealth\u0026#34;: false } } } ] }\u0026#39; ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ã¿ã‚‹ æœ€å¾Œã«ã€è¨­å®šã—ãŸã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ API ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ã¿ã¾ã™ã€‚\n$ http https://chalice-api.michimani.net/ HTTP/1.1 200 OK Connection: keep-alive Content-Length: 17 Content-Type: application/json Date: Tue, 21 Jul 2020 22:08:34 GMT Via: 1.1 3c7a01dc859868cee354c75bcf600744.cloudfront.net (CloudFront) X-Amz-Cf-Id: lHTkFHXDMngc5e5KtOvf4bbKS4jGBJaY8VJkYXT-Jo4XQ4vLeFvMfQ== X-Amz-Cf-Pop: NRT20-C4 X-Amzn-Trace-Id: Root=1-5f176761-350c758e6c6201c99ab9607f;Sampled=0 X-Cache: Miss from cloudfront x-amz-apigw-id: QC0XTEFIoAMFd_A= x-amzn-RequestId: 0d12b19d-6fa1-4237-a6e1-a1b979f3b455 { \u0026#34;hello\u0026#34;: \u0026#34;world\u0026#34; } ç„¡äº‹ã«ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã£ã¦ãã¾ã—ãŸã€‚\nã¾ã¨ã‚ AWS Chalice ã§ API Gateway ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åã®ä½œæˆãŒã‚µãƒãƒ¼ãƒˆã•ã‚ŒãŸã®ã§è©¦ã—ã¦ã¿ãŸã¨ã„ã†è©±ã§ã—ãŸã€‚\nã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åã®ä½œæˆãŒã‚µãƒãƒ¼ãƒˆã•ã‚ŒãŸã¨ã¯è¨€ã£ã¦ã‚‚ã€ãã®ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’ Route 53 ã§ ALIAS ãƒ¬ã‚³ãƒ¼ãƒ‰ã¨ã—ã¦ä½œæˆã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã™ã€‚æ‰‹é †ã§ã„ã†ã¨æœ€å¾Œã® `` ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã“ã‚ã§ã™ã€‚ãªã®ã§ã€ãã®ã‚ãŸã‚Šã¯ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆãªã‚Šä½•ãªã‚Šã‚’è‡ªä½œã—ã¦ã‚³ãƒãƒ³ãƒ‰åŒ–ã—ãŸã„ã¨ã“ã‚ã§ã™ã€‚\nã¨ã¯è¨€ãˆã€ã“ã‚Œã¾ã§ã¯ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åã®ä½œæˆã‚‚æ‰‹ä½œæ¥­ã§ã‚„ã‚‹å¿…è¦ãŒã‚ã£ãŸã“ã¨ã‚’è€ƒãˆã‚‹ã¨ã€ä»Šå›ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§ã™ã”ãä¾¿åˆ©ã«ãªã£ãŸãªã¨ã„ã†å°è±¡ã§ã™ã€‚\né€”ä¸­ã§ã‚‚æ›¸ãã¾ã—ãŸãŒã€ Chalice ã§ã®ãƒªã‚½ãƒ¼ã‚¹ä½œæˆãƒ»æ›´æ–°ãƒ»å‰Šé™¤ã¯éå¸¸ã«é«˜é€Ÿãªã®ã§ã€ã‚µã‚¯ãƒƒã¨ API ã‚’ä½œã‚ŠãŸã„ã¨ã„ã†å ´é¢ã§ã¯ã¨ã¦ã‚‚å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ä»Šå›ã‚„ã£ã¦ã¿ãŸå†…å®¹ã«ã¤ã„ã¦ã‚‚ã€è¨¼æ˜æ›¸ã®ç™ºè¡Œéƒ¨åˆ†ã‚’å«ã‚ã¦ã‚‚ 15 åˆ†ç¨‹åº¦ã§è©¦ã™ã“ã¨ãŒã§ãã‚‹ã‹ãªã¨æ€ã„ã¾ã™ã€‚ãƒªã‚½ãƒ¼ã‚¹ã®å‰Šé™¤ã‚‚ chalice delete ã‚³ãƒãƒ³ãƒ‰ã§ã‚µãƒ©ãƒƒã¨æ¶ˆãˆã¦ã„ã£ã¦ãã‚Œã¾ã™ã€‚\nAWS ç’°å¢ƒã§ã‚µãƒ¼ãƒãƒ¬ã‚¹ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã«ã¯ SAM ã‚„ Serverless Framework ãŒã‚ã‚Šã¾ã™ãŒã€å€‹äººçš„ã«ã¯ã‚·ãƒ³ãƒ—ãƒ«ã§é«˜é€Ÿãª Chalice ãŒãŠæ°—ã«å…¥ã‚Šã§ã™ã€‚Chalice ã«ã¤ã„ã¦ã¯ä»¥å‰ã«ã‚‚è¨˜äº‹ã‚’æ›¸ã„ãŸã®ã§ã€ã“ã¡ã‚‰ã‚‚å‚è€ƒã«ã—ã¦ã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-chalice-add-support-custom-domain/",
    "title": "AWS Chalice ã§ API Gateway ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åä½œæˆãŒã‚µãƒãƒ¼ãƒˆã•ã‚ŒãŸã®ã§è©¦ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "AWS CLI ã«ã¯ã€å‡ºåŠ›çµæœã‚’åˆ¶å¾¡ã™ã‚‹ --query ã¨ã„ã†ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¾ã§ AWS CLI ã®å‡ºåŠ›çµæœã‚’åŠ å·¥ã™ã‚‹éš›ã«ã¯ jq ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã„ãŸã®ã§ã™ãŒã€ä»Šå›ã¯ãã‚Œã‚‰ã‚’ --query ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ç½®ãæ›ãˆã‚‹ã¹ãã€è‰²ã€…è§¦ã£ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ --query ã‚ªãƒ—ã‚·ãƒ§ãƒ³ è¦ç´ ã®ä»¶æ•°ã‚’å‡ºåŠ›ã™ã‚‹ ç‰¹å®šã®å€¤ã ã‘ã‚’å‡ºåŠ›ã™ã‚‹ å‡ºåŠ›çµæœã‚’ã‚½ãƒ¼ãƒˆã™ã‚‹ ã¾ã¨ã‚ æ¦‚è¦ ä»Šå›ã¯ AWS CLI ã® --query ã«ã¤ã„ã¦ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å…ƒã«ãã®å‹•ä½œãƒ»ä½¿ã„æ–¹ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚ã¾ãŸã€ã“ã‚Œã¾ã§ä½¿ã£ã¦ã„ãŸ jq ã‚³ãƒãƒ³ãƒ‰ã§åŒæ§˜ã®å‡ºåŠ›çµæœã‚’å¾—ã‚‹ãŸã‚ã«ã¯ã©ã†ã—ã¦ã„ãŸã‹ã‚‚åˆã‚ã›ã¦ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n--query ã‚ªãƒ—ã‚·ãƒ§ãƒ³ å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯æ¬¡ã®ã‚ˆã†ã«èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚\nAWS CLI ã¯ã€\u0026ndash;query ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦ã€çµ„ã¿è¾¼ã¿ã® JSON ãƒ™ãƒ¼ã‚¹ã®å‡ºåŠ›ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚\u0026ndash;query ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ã€JMESPath ã®ä»•æ§˜ã«æº–æ‹ ã—ã¦ã„ã‚‹æ–‡å­—åˆ—ã‚’å—ã‘å…¥ã‚Œã¾ã™ã€‚\nAWS CLI ã‹ã‚‰ã®ã‚³ãƒãƒ³ãƒ‰å‡ºåŠ›ã®åˆ¶å¾¡ - AWS Command Line Interface JMESPath ã«ã¤ã„ã¦ã¯æ¬¡ã®ãƒšãƒ¼ã‚¸ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nJMESPath â€” JMESPath å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ EBS ã‚’å–å¾—ã™ã‚‹ ec2 describe-volumes ã‚³ãƒãƒ³ãƒ‰ã«å¯¾ã™ã‚‹å‡ºåŠ›çµæœã«ã¤ã„ã¦æ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ Lambda ã«å¯¾ã™ã‚‹ lambda list-functions ã‚³ãƒãƒ³ãƒ‰ã§è‰²ã€…è©¦ã—ã¦ã¿ã¾ã™ã€‚\nã²ã¨ã¾ãšã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç„¡ã—ã§å®Ÿè¡Œã—ãŸå ´åˆã®çµæœã‚’è¦‹ã¦ã¿ã¾ã™ã€‚\n$ aws lambda list-functions { \u0026#34;Functions\u0026#34;: [ { \u0026#34;FunctionName\u0026#34;: \u0026#34;SEStoSlack\u0026#34;, \u0026#34;FunctionArn\u0026#34;: \u0026#34;arn:aws:lambda:us-east-1:123456789012:function:SEStoSlack\u0026#34;, \u0026#34;Runtime\u0026#34;: \u0026#34;python3.7\u0026#34;, \u0026#34;Role\u0026#34;: \u0026#34;arn:aws:iam::123456789012:role/read-write-s3-objects\u0026#34;, \u0026#34;Handler\u0026#34;: \u0026#34;lambda_function.lambda_handler\u0026#34;, \u0026#34;CodeSize\u0026#34;: 4042, \u0026#34;Description\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Timeout\u0026#34;: 180, \u0026#34;MemorySize\u0026#34;: 128, \u0026#34;LastModified\u0026#34;: \u0026#34;2019-11-21T02:34:36.825+0000\u0026#34;, \u0026#34;CodeSha256\u0026#34;: \u0026#34;123456789012FBC+dJ1XxbQZwJgeExxykdDJ0UZ4WxI=\u0026#34;, \u0026#34;Version\u0026#34;: \u0026#34;$LATEST\u0026#34;, \u0026#34;VpcConfig\u0026#34;: { \u0026#34;SubnetIds\u0026#34;: [], \u0026#34;SecurityGroupIds\u0026#34;: [], \u0026#34;VpcId\u0026#34;: \u0026#34;\u0026#34; }, \u0026#34;TracingConfig\u0026#34;: { \u0026#34;Mode\u0026#34;: \u0026#34;PassThrough\u0026#34; }, \u0026#34;RevisionId\u0026#34;: \u0026#34;425ad537-1734-4509-88c7-9a7e96d62d5d\u0026#34; }, { \u0026#34;FunctionName\u0026#34;: \u0026#34;CFBasicAuthenticattion\u0026#34;, \u0026#34;FunctionArn\u0026#34;: \u0026#34;arn:aws:lambda:us-east-1:123456789012:function:CFBasicAuthenticattion\u0026#34;, \u0026#34;Runtime\u0026#34;: \u0026#34;nodejs10.x\u0026#34;, \u0026#34;Role\u0026#34;: \u0026#34;arn:aws:iam::123456789012:role/service-role/lambda_edge_exection\u0026#34;, \u0026#34;Handler\u0026#34;: \u0026#34;index.handler\u0026#34;, \u0026#34;CodeSize\u0026#34;: 561, \u0026#34;Description\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Timeout\u0026#34;: 3, \u0026#34;MemorySize\u0026#34;: 128, \u0026#34;LastModified\u0026#34;: \u0026#34;2019-10-21T01:03:51.582+0000\u0026#34;, \u0026#34;CodeSha256\u0026#34;: \u0026#34;123456789012JHZPsxKj0uAtf5hKJJeDmuchKo9EPpQ=\u0026#34;, \u0026#34;Version\u0026#34;: \u0026#34;$LATEST\u0026#34;, \u0026#34;VpcConfig\u0026#34;: { \u0026#34;SubnetIds\u0026#34;: [], \u0026#34;SecurityGroupIds\u0026#34;: [], \u0026#34;VpcId\u0026#34;: \u0026#34;\u0026#34; }, \u0026#34;TracingConfig\u0026#34;: { \u0026#34;Mode\u0026#34;: \u0026#34;PassThrough\u0026#34; }, \u0026#34;RevisionId\u0026#34;: \u0026#34;61627b30-9c51-4fb4-8637-2eff1e126ab8\u0026#34; }, { \u0026#34;FunctionName\u0026#34;: \u0026#34;amplify-boyaki-production-UpdateRolesWithIDPFuncti-WDZSC7TXY5G8\u0026#34;, \u0026#34;FunctionArn\u0026#34;: \u0026#34;arn:aws:lambda:us-east-1:123456789012:function:amplify-boyaki-production-UpdateRolesWithIDPFuncti-WDZSC7TXY5G8\u0026#34;, \u0026#34;Runtime\u0026#34;: \u0026#34;nodejs10.x\u0026#34;, \u0026#34;Role\u0026#34;: \u0026#34;arn:aws:iam::123456789012:role/amplify-boyaki-production-185237-authRole-idp\u0026#34;, \u0026#34;Handler\u0026#34;: \u0026#34;index.handler\u0026#34;, \u0026#34;CodeSize\u0026#34;: 2850, \u0026#34;Description\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Timeout\u0026#34;: 300, \u0026#34;MemorySize\u0026#34;: 128, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-05-29T09:59:03.177+0000\u0026#34;, \u0026#34;CodeSha256\u0026#34;: \u0026#34;123456789012x9TDi44KnZHySIe5hjE8uVRgyJJoPss=\u0026#34;, \u0026#34;Version\u0026#34;: \u0026#34;$LATEST\u0026#34;, \u0026#34;TracingConfig\u0026#34;: { \u0026#34;Mode\u0026#34;: \u0026#34;PassThrough\u0026#34; }, \u0026#34;RevisionId\u0026#34;: \u0026#34;7434a66b-daf0-416a-bef5-e0e8385ba6d4\u0026#34; }, { \u0026#34;FunctionName\u0026#34;: \u0026#34;CFRedirectIndexDocument\u0026#34;, \u0026#34;FunctionArn\u0026#34;: \u0026#34;arn:aws:lambda:us-east-1:123456789012:function:CFRedirectIndexDocument\u0026#34;, \u0026#34;Runtime\u0026#34;: \u0026#34;nodejs12.x\u0026#34;, \u0026#34;Role\u0026#34;: \u0026#34;arn:aws:iam::123456789012:role/Lambda@Edge_service_role\u0026#34;, \u0026#34;Handler\u0026#34;: \u0026#34;index.handler\u0026#34;, \u0026#34;CodeSize\u0026#34;: 986, \u0026#34;Description\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Timeout\u0026#34;: 5, \u0026#34;MemorySize\u0026#34;: 128, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-07-14T06:04:22.489+0000\u0026#34;, \u0026#34;CodeSha256\u0026#34;: \u0026#34;123456789012nqnsmKKR0TMbr1IvscKqk7Za7xRXzxo=\u0026#34;, \u0026#34;Version\u0026#34;: \u0026#34;$LATEST\u0026#34;, \u0026#34;VpcConfig\u0026#34;: { \u0026#34;SubnetIds\u0026#34;: [], \u0026#34;SecurityGroupIds\u0026#34;: [], \u0026#34;VpcId\u0026#34;: \u0026#34;\u0026#34; }, \u0026#34;TracingConfig\u0026#34;: { \u0026#34;Mode\u0026#34;: \u0026#34;PassThrough\u0026#34; }, \u0026#34;RevisionId\u0026#34;: \u0026#34;f013317f-9a05-4d69-83da-26aea503770b\u0026#34; }, { \u0026#34;FunctionName\u0026#34;: \u0026#34;amplify-boyaki-production-185-UserPoolClientLambda-4AHDAEXH1A3K\u0026#34;, \u0026#34;FunctionArn\u0026#34;: \u0026#34;arn:aws:lambda:us-east-1:123456789012:function:amplify-boyaki-production-185-UserPoolClientLambda-4AHDAEXH1A3K\u0026#34;, \u0026#34;Runtime\u0026#34;: \u0026#34;nodejs10.x\u0026#34;, \u0026#34;Role\u0026#34;: \u0026#34;arn:aws:iam::123456789012:role/upClientLambdaRole185237-production\u0026#34;, \u0026#34;Handler\u0026#34;: \u0026#34;index.handler\u0026#34;, \u0026#34;CodeSize\u0026#34;: 2451, \u0026#34;Description\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Timeout\u0026#34;: 300, \u0026#34;MemorySize\u0026#34;: 128, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-05-29T09:58:01.018+0000\u0026#34;, \u0026#34;CodeSha256\u0026#34;: \u0026#34;123456789012cywCXQVnJQOSVla0JU3I/FIpcZnDVLQ=\u0026#34;, \u0026#34;Version\u0026#34;: \u0026#34;$LATEST\u0026#34;, \u0026#34;TracingConfig\u0026#34;: { \u0026#34;Mode\u0026#34;: \u0026#34;PassThrough\u0026#34; }, \u0026#34;RevisionId\u0026#34;: \u0026#34;e28bf64c-c58c-483a-b600-8b6424357df0\u0026#34; }, { \u0026#34;FunctionName\u0026#34;: \u0026#34;SNStoSlack\u0026#34;, \u0026#34;FunctionArn\u0026#34;: \u0026#34;arn:aws:lambda:us-east-1:123456789012:function:SNStoSlack\u0026#34;, \u0026#34;Runtime\u0026#34;: \u0026#34;python3.7\u0026#34;, \u0026#34;Role\u0026#34;: \u0026#34;arn:aws:iam::123456789012:role/service-role/toSlack\u0026#34;, \u0026#34;Handler\u0026#34;: \u0026#34;lambda_function.lambda_handler\u0026#34;, \u0026#34;CodeSize\u0026#34;: 889, \u0026#34;Description\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;Timeout\u0026#34;: 63, \u0026#34;MemorySize\u0026#34;: 128, \u0026#34;LastModified\u0026#34;: \u0026#34;2019-07-25T00:44:09.944+0000\u0026#34;, \u0026#34;CodeSha256\u0026#34;: \u0026#34;123456789012g0hoF+8LqRIimBXOmzkWVZk/VHLvI78=\u0026#34;, \u0026#34;Version\u0026#34;: \u0026#34;$LATEST\u0026#34;, \u0026#34;VpcConfig\u0026#34;: { \u0026#34;SubnetIds\u0026#34;: [], \u0026#34;SecurityGroupIds\u0026#34;: [], \u0026#34;VpcId\u0026#34;: \u0026#34;\u0026#34; }, \u0026#34;Environment\u0026#34;: { \u0026#34;Variables\u0026#34;: { \u0026#34;HookUrl\u0026#34;: \u0026#34;https://hooks.slack.com/services/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\u0026#34;, \u0026#34;slackChannel\u0026#34;: \u0026#34;dev\u0026#34; } }, \u0026#34;TracingConfig\u0026#34;: { \u0026#34;Mode\u0026#34;: \u0026#34;PassThrough\u0026#34; }, \u0026#34;RevisionId\u0026#34;: \u0026#34;3b562f87-05cc-48ef-8879-ff9e4cf67b9b\u0026#34; } ] } 6 å€‹ã®é–¢æ•°ãŒå‡ºåŠ›ã•ã‚Œã¾ã—ãŸã€‚\nã§ã¯ã€ã“ã“ã‹ã‚‰ã¯ --query ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§å‡ºåŠ›çµæœã‚’åˆ¶å¾¡ã—ã¦ã¿ã¾ã™ã€‚\nè¦ç´ ã®ä»¶æ•°ã‚’å‡ºåŠ›ã™ã‚‹ ã¾ãšã¯ã€å‡ºåŠ›çµæœã®è¦ç´ ã®ä»¶æ•°ã‚’å‡ºåŠ›ã—ã¦ã¿ã¾ã™ã€‚ä»Šå›ã§ã‚ã‚Œã° Lambda é–¢æ•°ã®ä»¶æ•°ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚\n$ aws lambda list-functions \\ --query \u0026#34;length(Functions)\u0026#34; 6 ã“ã®å‡ºåŠ›ã‚’ jq ã‚³ãƒãƒ³ãƒ‰ã§å¾—ã‚‹ãŸã‚ã«ã¯æ¬¡ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n$ aws lambda list-functions \\ | jq \u0026#34;.Functions | length\u0026#34; 6 jq ã‚³ãƒãƒ³ãƒ‰ã§ã¯ãƒ‘ã‚¤ãƒ— | ã‚’ä½¿ç”¨ã—ã¦åŠ å·¥ã—ã¦ã„ããŸã‚ã€ --query ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã¯æ›¸ãæ–¹ãŒç•°ãªã£ã¦ãã¾ã™ã€‚\nç‰¹å®šã®å€¤ã ã‘ã‚’å‡ºåŠ›ã™ã‚‹ ç¶šã„ã¦ã€å„ Lambda é–¢æ•°ã®æƒ…å ±ã®ã†ã¡ã€ é–¢æ•°å ã¨ ãƒ©ã‚¤ãƒ³ã‚¿ã‚¤ãƒ  ã ã‘ã‚’å‡ºåŠ›ã—ã¦ã¿ã¾ã™ã€‚\n$ aws lambda list-functions \\ --query \u0026#34;Functions[].{FnName:FunctionName,FnRuntime:Runtime}\u0026#34; [ { \u0026#34;FnName\u0026#34;: \u0026#34;SEStoSlack\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;python3.7\u0026#34; }, { \u0026#34;FnName\u0026#34;: \u0026#34;CFBasicAuthenticattion\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;nodejs10.x\u0026#34; }, { \u0026#34;FnName\u0026#34;: \u0026#34;amplify-boyaki-production-UpdateRolesWithIDPFuncti-WDZSC7TXY5G8\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;nodejs10.x\u0026#34; }, { \u0026#34;FnName\u0026#34;: \u0026#34;CFRedirectIndexDocument\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;nodejs12.x\u0026#34; }, { \u0026#34;FnName\u0026#34;: \u0026#34;amplify-boyaki-production-185-UserPoolClientLambda-4AHDAEXH1A3K\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;nodejs10.x\u0026#34; }, { \u0026#34;FnName\u0026#34;: \u0026#34;SNStoSlack\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;python3.7\u0026#34; } ] ã“ã®å‡ºåŠ›çµæœã‚’ jq ã‚³ãƒãƒ³ãƒ‰ã§å¾—ã‚‹å ´åˆã¯æ¬¡ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n$ aws lambda list-functions \\ | jq \u0026#34;[.Functions[] | {FnName:.FunctionName,FnRuntime:.Runtime}]\u0026#34; ã“ã“ã§ã‚‚ jq ã‚³ãƒãƒ³ãƒ‰å†…ã§ãƒ‘ã‚¤ãƒ— | ã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚Šã€ã‚„ã‚„è¤‡é›‘ã§ã™ã€‚\nå‡ºåŠ›çµæœã‚’ã‚½ãƒ¼ãƒˆã™ã‚‹ æ¬¡ã«ã€å‡ºåŠ›çµæœã‚’ç‰¹å®šã®å±æ€§ã®å€¤ã§ã‚½ãƒ¼ãƒˆã—ã¦ã¿ã¾ã™ã€‚ä»Šå›ã¯ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã®å€¤ã§ã‚½ãƒ¼ãƒˆã—ã¾ã™ã€‚\n$ aws lambda list-functions \\ --query \u0026#34;sort_by(Functions, \u0026amp;Runtime)[].{FnName:FunctionName,FnRuntime:Runtime}\u0026#34; [ { \u0026#34;FnName\u0026#34;: \u0026#34;CFBasicAuthenticattion\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;nodejs10.x\u0026#34; }, { \u0026#34;FnName\u0026#34;: \u0026#34;amplify-boyaki-production-UpdateRolesWithIDPFuncti-WDZSC7TXY5G8\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;nodejs10.x\u0026#34; }, { \u0026#34;FnName\u0026#34;: \u0026#34;amplify-boyaki-production-185-UserPoolClientLambda-4AHDAEXH1A3K\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;nodejs10.x\u0026#34; }, { \u0026#34;FnName\u0026#34;: \u0026#34;CFRedirectIndexDocument\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;nodejs12.x\u0026#34; }, { \u0026#34;FnName\u0026#34;: \u0026#34;SEStoSlack\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;python3.7\u0026#34; }, { \u0026#34;FnName\u0026#34;: \u0026#34;SNStoSlack\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;python3.7\u0026#34; } ] é™é †ã«ã™ã‚‹å ´åˆã¯æ¬¡ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n$ aws lambda list-functions \\ --query \u0026#34;reverse(sort_by(Functions, \u0026amp;Runtime))[].{FnName:FunctionName,FnRuntime:Runtime}\u0026#34; [ { \u0026#34;FnName\u0026#34;: \u0026#34;SNStoSlack\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;python3.7\u0026#34; }, { \u0026#34;FnName\u0026#34;: \u0026#34;SEStoSlack\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;python3.7\u0026#34; }, { \u0026#34;FnName\u0026#34;: \u0026#34;CFRedirectIndexDocument\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;nodejs12.x\u0026#34; }, { \u0026#34;FnName\u0026#34;: \u0026#34;amplify-boyaki-production-185-UserPoolClientLambda-4AHDAEXH1A3K\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;nodejs10.x\u0026#34; }, { \u0026#34;FnName\u0026#34;: \u0026#34;amplify-boyaki-production-UpdateRolesWithIDPFuncti-WDZSC7TXY5G8\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;nodejs10.x\u0026#34; }, { \u0026#34;FnName\u0026#34;: \u0026#34;CFBasicAuthenticattion\u0026#34;, \u0026#34;FnRuntime\u0026#34;: \u0026#34;nodejs10.x\u0026#34; } ] ã‚½ãƒ¼ãƒˆã‚’ jq ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿç¾ã™ã‚‹å ´åˆã¯ã€æ¬¡ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n$ aws lambda list-functions \\ | jq \u0026#34;[(.Functions | sort_by(.Runtime))[] | {FnName:.FunctionName,FnRuntime:.Runtime}]\u0026#34; é™é †ã«ã™ã‚‹å ´åˆã¯æ¬¡ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n$ aws lambda list-functions \\ | jq \u0026#34;[(.Functions | sort_by(.Runtime) | reverse)[] | {FnName:.FunctionName,FnRuntime:.Runtime}]\u0026#34; ã“ã¡ã‚‰ã‚‚ --query ã‚’ä½¿ç”¨ã—ãŸã»ã†ãŒã‚·ãƒ³ãƒ—ãƒ«ã§ç›´æ„Ÿçš„ã«æ›¸ã‘ã‚‹æ°—ãŒã—ã¾ã™ã€‚\nã¾ã¨ã‚ AWS CLI ã«ã¯ã€å‡ºåŠ›çµæœã‚’åˆ¶å¾¡ã™ã‚‹ --query ã¨ã„ã†ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã€ jq ã‚³ãƒãƒ³ãƒ‰ã§åŒã˜å‡ºåŠ›ã‚’å¾—ã‚‹å ´åˆã‚’æ¯”è¼ƒã—ã¦ã¿ã¾ã—ãŸã€‚\njq ã‚³ãƒãƒ³ãƒ‰ã«æ…£ã‚Œã¦ã„ã‚‹å ´åˆã¯ã¤ã„ã¤ã„ãã®ã¾ã¾ä½¿ã„ãŒã¡ã§ã™ãŒã€ç’°å¢ƒã«ã‚ˆã£ã¦ã¯åˆ¥é€”ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãã®ç‚¹ã€ --query ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯ AWS CLI ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã®ã§ã€ CLI ã‚’åˆ©ç”¨ã™ã‚‹ç’°å¢ƒã§ã¯å¿…ãšåˆ©ç”¨ã§ãã¾ã™ã€‚ CLI ã‚’ç”¨ã„ãŸæ“ä½œã‚’æ‰‹é †æ›¸ã¨ã—ã¦æ®‹ã—ã¦ãŠãå ´åˆã€ä½™è¨ˆãªãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’ã™ã‚‹å¿…è¦ãŒãªãã€ AWS ã‹ã‚‰æä¾›ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¨ã„ã†é¢ã‹ã‚‰ã‚‚ã€ --query ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ãŸã»ã†ãŒè‰¯ã•ãã†ã§ã™ã€‚\u0026hellip;\u0026hellip;ã¨ã„ã†è©±ã‚’ JAWS-UG CLI å°‚é–€æ”¯éƒ¨ã§è©±ã•ã‚Œã¦ãŠã‚Šã€ãã‚Œä»¥é™ã¯ jq ã®ä»£ã‚ã‚Šã«ç©æ¥µçš„ã« --query ã‚’ä½¿ã†ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nJAWS-UG CLIå°‚é–€æ”¯éƒ¨ - connpass AWS ã‚’ä½¿ã†ã«ã‚ãŸã£ã¦ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰æ“ä½œã‚’ã™ã‚‹ã“ã¨ãŒå¤šã„ã¨æ€ã„ã¾ã™ãŒã€ AWS ã‚’è§¦ã‚Šå§‹ã‚ãŸåˆæœŸã®æ®µéšã‹ã‚‰ AWS CLI ã§ã®æ“ä½œã«æ…£ã‚Œã¦ãŠãã®ã¯å‡„ãè‰¯ã„ã“ã¨ã ãªã¨æ€ã„ã¾ã™ã€‚ç§è‡ªèº«ã‚‚ã€ã‚‚ã£ã¨åˆæœŸã®é ƒã‹ã‚‰ CLI ã§ã®æ“ä½œã‚’ã—ã¦ã„ã‚Œã°ã‚ˆã‹ã£ãŸã¨æ€ã„ã¾ã™ã€‚ã“ã‚Œã«ã¤ã„ã¦ã¯ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã•ã‚“ã®ãƒ†ãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ (DevelopersIO 2020 CONNECT) ã§ã‚‚ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚\nå‹•ç”»å†…ã§ã¯ jq ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ãŒã€ AWS CLI ã„ã„ãï¼ ã¨ã„ã†æ€ã„ã¯ä¼ã‚ã£ã¦ãã‚‹ã¨æ€ã„ã¾ã™ã€‚\n[ãƒ¬ãƒãƒ¼ãƒˆ] Developers.IO 2020 CONNECT ã¨ã„ã†ã‚¤ãƒ™ãƒ³ãƒˆã«ã¤ã„ã¦ #devio2020 - michimani.net AWS ã§ã¯ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã® UI ã¯é »ç¹ã«å¤‰ã‚ã£ã¦ã—ã¾ã„ã¾ã™ãŒã€ä¸­ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ API ã¯å¤‰ã‚ã‚Šã¾ã›ã‚“ã€‚ãªã®ã§ã€ AWS CLI ã‚’ä½¿ã„ã“ãªã™ã“ã¨ã¯ AWS ã‚’ç†è§£ã™ã‚‹è¿‘é“ã«ã‚‚ãªã‚‹ã®ã§ã¯ãªã„ã‹ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-cli-query-option/",
    "title": "AWS CLI ã® --query ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ jq ã‚³ãƒãƒ³ãƒ‰"
  },
  {
    "contents": "6/16 ã€œ 7/7 ã¾ã§ã®æœŸé–“ã§ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§é–‹å‚¬ã•ã‚Œã¦ã„ãŸ Developers.IO 2020 CONNECT ã«ã¤ã„ã¦ã€æ„Ÿã˜ãŸã“ã¨ã‚’æ›¸ã„ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nç›®æ¬¡ Developers.IO 2020 CONNECT ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å‹•ç”»é…ä¿¡ ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å†…å®¹ ã‚¤ãƒ™ãƒ³ãƒˆã«å‚åŠ ã—ã¦æ€ã£ãŸã“ã¨ ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®é–‹å‚¬ã«ã¤ã„ã¦ å„é…ä¿¡æ–¹æ³•ã«ã¤ã„ã¦ å°è±¡ã«æ®‹ã£ãŸå‹•ç”» ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£ã§å­¦ã¶ä¼æ¥­é‹å–¶ã€œã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®æ–°å‹ã‚³ãƒ­ãƒŠå¯¾å¿œã€œ AWSç’°å¢ƒã§IaCã‚’ä½¿ã„å§‹ã‚ã¦é‹ç”¨ã™ã‚‹ãŸã‚ã®ãƒ¡ãƒªãƒƒãƒˆãƒ‡ãƒ¡ãƒªãƒƒãƒˆã¨æ³¨æ„ç‚¹ AWS CDK \u0026#43; Step Functions å…¥é–€ ã¾ã¨ã‚ Developers.IO 2020 CONNECT Developers.IO 2020 CONNECT ã¯ã€ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰æ ªå¼ä¼šç¤¾ãŒä¸»å‚¬ã—ã¦é–‹å‚¬ã•ã‚ŒãŸæŠ€è¡“ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚ã‚¯ãƒ©ãƒ¡ã‚½ã•ã‚“ã¯æ¯å¹´ Developers.IO ã¨ã„ã†ã‚¤ãƒ™ãƒ³ãƒˆã‚’é–‹å‚¬ã•ã‚Œã¦ã„ã¦ã€ AWS ã«é–¢ã™ã‚‹å†…å®¹ã‚’ä¸­å¿ƒã«æ§˜ã€…ãªæŠ€è¡“æƒ…å ±ãŒç™ºä¿¡ã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚ç§è‡ªèº«ã‚‚ 2018 ã¨ 2019 ã«å‚åŠ ã—ã€éå¸¸ã«ãŸãã•ã‚“ã®æƒ…å ±ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ ã“ã‚Œã¾ã§ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§é–‹å‚¬ã•ã‚Œã¦ã„ãŸå½“ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ãŒã€æ˜¨ä»Šã®æƒ…å‹¢ã‚’è¸ã¾ãˆã¦ä»Šå¹´ã¯ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®é–‹å‚¬ã¨ãªã‚Šã¾ã—ãŸã€‚ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã‚‚é–‹å‚¬ã—ã¦ã„ãŸã ã„ãŸã“ã¨ã«æ„Ÿè¬ã„ãŸã—ã¾ã™ã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼\nã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å‹•ç”»é…ä¿¡ ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®é–‹å‚¬ã¨ã„ã†ã“ã¨ã§ã™ãŒã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã—ã¦ã¯æ¬¡ã® 2 ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚ã‚Šã¾ã—ãŸã€‚\nãƒ©ã‚¤ãƒ–ã‚»ãƒƒã‚·ãƒ§ãƒ³ ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰å‹ãƒ“ãƒ‡ã‚ªã‚»ãƒƒã‚·ãƒ§ãƒ³ ãƒ©ã‚¤ãƒ–ã‚»ãƒƒã‚·ãƒ§ãƒ³ ã¯ã€äº‹å‰ã«ç”³ã—è¾¼ã¿ã‚’ã—ã¦æ™‚é–“ã«ãªã£ãŸã‚‰ zoom ã«æ¥ç¶šã—ã¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’è¦–è´ã™ã‚‹ã¨ã„ã†å½¢ã§ã™ã€‚ ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰å‹ãƒ“ãƒ‡ã‚ªã‚»ãƒƒã‚·ãƒ§ãƒ³ ã¯ã€ã‚ã‚‰ã‹ã˜ã‚éŒ²ç”»ãƒ»ç·¨é›†ã•ã‚ŒãŸã‚»ãƒƒã‚·ãƒ§ãƒ³å‹•ç”»ãŒ YouTube ã«ã¦é…ä¿¡ã•ã‚Œã¦ã€ãã‚Œã‚’è¦–è´ã™ã‚‹ã¨ã„ã†å½¢ã§ã™ã€‚ ãƒ©ã‚¤ãƒ–ã‚»ãƒƒã‚·ãƒ§ãƒ³ ã«é–¢ã—ã¦ã¯å¾Œæ—¥ç·¨é›†å¾Œã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–å‹•ç”»ãŒ YouTube ã«ã‚¢ãƒƒãƒ—ã•ã‚Œã¦ã„ãŸã®ã§ã€å®Ÿè³ªå…¨ã¦ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ YouTube ã§è¦–è´ã§ãã‚‹å½¢ã¨ãªã£ã¦ã„ã¾ã—ãŸã€‚\nã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å†…å®¹ Developers.IO 2020 CONNECT ã§ã¯ã€ 6/16 ã€œ 7/7 ã®ã‚¤ãƒ™ãƒ³ãƒˆæœŸé–“ä¸­ã®ä¸‹è¨˜ã®æ—¥ç¨‹ã§ã€ãã‚Œãã‚Œã®ãƒ†ãƒ¼ãƒã«é–¢ã™ã‚‹ãƒ©ã‚¤ãƒ–ã‚»ãƒƒã‚·ãƒ§ãƒ³ã€ãƒ“ãƒ‡ã‚ªã‚»ãƒƒã‚·ãƒ§ãƒ³ã®é…ä¿¡ãŒè¡Œã‚ã‚Œã¾ã—ãŸã€‚\n6/16 AWSã¨ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®æ–‡åŒ– 6/19 ãƒ‡ãƒ¼ã‚¿åˆ†æã‚’æ”¯ãˆã‚‹æŠ€è¡“ 6/23 ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ã€IoTã€ã‚¯ãƒ©ã‚¦ãƒ‰ãŒã‚‚ãŸã‚‰ã™UX 6/26 æ©Ÿæ¢°å­¦ç¿’ã®ç¾åœ¨åœ°ã¨ã€ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã€IaCã€ã»ã‹ 6/30 ãƒ“ã‚¸ãƒã‚¹ã¨ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ 7/1 Modern Application Development 7/7 ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã€17å¹´ç›®ã®\u0026quot;Still Day 1\u0026quot; ã“ã‚Œã‚‰ã®ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦ã€ AWS ã«é™ã‚‰ãšéå¸¸ã«ãŸãã•ã‚“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒé…ä¿¡ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ è©³ç´°ã«ã¤ã„ã¦ã¯ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã‚’ã”è¦§ãã ã•ã„ã€‚\nDevelopers.IO 2020 CONNECT | ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ ã‚¤ãƒ™ãƒ³ãƒˆã«å‚åŠ ã—ã¦æ€ã£ãŸã“ã¨ ã“ã“ã‹ã‚‰ã¯ã‚»ãƒƒã‚·ãƒ§ãƒ³å€‹åˆ¥ã®ãƒ¬ãƒãƒ¼ãƒˆãƒ»æ„Ÿæƒ³ã§ã¯ãªãã€ã‚¤ãƒ™ãƒ³ãƒˆå…¨ä½“ã«é–¢ã™ã‚‹æ„Ÿæƒ³ã‚’ä¸­å¿ƒã«æ›¸ã„ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®é–‹å‚¬ã«ã¤ã„ã¦ ã‚ã‚‰ãŸã‚ã¾ã—ã¦ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®é–‹å‚¬ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã®ã‚¤ãƒ™ãƒ³ãƒˆãŒé–‹å‚¬ã—ã«ããè‰²ã‚“ãªã‚¤ãƒ™ãƒ³ãƒˆãŒå»¶æœŸã‚„ä¸­æ­¢ã«ãªã‚‹ä¸­ã§ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã¨ã„ã†é–‹å‚¬æ–¹æ³•ã‚’ã¨ã£ã¦ã„ãŸã ã‘ãŸã®ã¯ã¨ã¦ã‚‚å¬‰ã—ã„ã§ã™ã€‚å¹¸ã„ã«ã‚‚æŠ€è¡“çš„ãªã‚¤ãƒ™ãƒ³ãƒˆã«é–¢ã—ã¦ã¯ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§é–‹å‚¬ã•ã‚Œã‚‹ã‚‚ã®ã‚‚å¤šããªã£ã¦ãã¦ãŠã‚Šã€ä¸€äººã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã—ã¦ã¯è‡ªåˆ†ã®æŠ€è¡“ç ”é‘½ã‚„ä»–ã®ã¤ã‚ˆã¤ã‚ˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã•ã‚“ã‚’è¦‹ã¦åˆºæ¿€ã‚’å—ã‘ãŸã‚Šã§ãã‚‹ã®ã§ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§è‰²ã‚“ãªã‚¤ãƒ™ãƒ³ãƒˆã‚„å‹‰å¼·ä¼šã‚’é–‹å‚¬ã—ã¦ã„ãŸã ã„ã¦ã„ã‚‹æ–¹ã€…ã«ã¯æ„Ÿè¬ã—ã‹ã‚ã‚Šã¾ã›ã‚“ã€‚\nå„é…ä¿¡æ–¹æ³•ã«ã¤ã„ã¦ å†’é ­ã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€ Developers.IO 2020 CONNECT ã§ã¯ 2 ãƒ‘ã‚¿ãƒ¼ãƒ³ã®é…ä¿¡æ–¹æ³•ãŒã‚ã‚Šã¾ã—ãŸã€‚\nãƒ©ã‚¤ãƒ–ã‚»ãƒƒã‚·ãƒ§ãƒ³ ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰å‹ãƒ“ãƒ‡ã‚ªã‚»ãƒƒã‚·ãƒ§ãƒ³ ãã‚Œãã‚Œã«ã¤ã„ã¦æ€ã£ãŸã“ã¨ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nãƒ©ã‚¤ãƒ–ã‚»ãƒƒã‚·ãƒ§ãƒ³ ãƒ©ã‚¤ãƒ–ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯ã€äº‹å‰ã«ç”³ã—è¾¼ã¿ã‚’ã—ã¦ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³æ—¥æ™‚ã«ãªã£ãŸã‚‰ zoom ã‚’ä½¿ã£ã¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«å‚åŠ ã™ã‚‹ã¨ã„ã†å½¢ã§ã—ãŸã€‚ãƒ©ã‚¤ãƒ–ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã¯ã€ãã®æ—¥ã®ãƒ†ãƒ¼ãƒã«æ²¿ã£ãŸå†…å®¹ã‚’ 3 ã€œ 4 ã¤ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§è©±ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ 1 ã¤ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯ 45 åˆ†ã§ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³é–“ã«ã¯ä¼‘æ†©ã‚’æŒŸã‚“ã§ã€é€²è¡Œå½¹ã®æ–¹ãŒå„ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ãƒ»é€²è¡Œã‚’è¡Œã†ã¨ã„ã†å½¢ã§ã€åŸºæœ¬çš„ã«ã¯ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã¨åŒã˜ã‚ˆã†ãªæ„Ÿã˜ã§ã—ãŸã€‚\nã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®ç‰¹å¾´ã¨ã—ã¦ã¯ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«é–¢ã™ã‚‹è³ªå•ã‚’éšæ™‚ zoom ã®ãƒãƒ£ãƒƒãƒˆã§å—ã‘ä»˜ã‘ã¦ã„ã¦ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†å¾Œã«ã¾ã¨ã‚ã¦ç­”ãˆã‚‹ã¨ã„ã†éƒ¨åˆ†ã§ã—ã‚‡ã†ã‹ã€‚ã“ã®æ–¹æ³•ã‚’å–ã‚‹ã“ã¨ã§ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸­ã«ç–‘å•ã«æ€ã£ãŸã“ã¨ã‚’ãã®æ™‚ç‚¹ã§è³ªå•ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ãƒ¡ãƒªãƒƒãƒˆã¨ã€è¨€è‘‰ã§ã¯ãªãæ–‡å­—ã§è³ªå•ã™ã‚‹ã“ã¨ã§è³ªå•å†…å®¹ãŒæ­£ã—ãä¼ã‚ã‚‹ã¨ã„ã†ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ã¨æ€ã„ã¾ã—ãŸã€‚ã¾ãŸã€ Q\u0026amp;A ã‚¿ã‚¤ãƒ ã§ã¯é€²è¡Œå½¹ã®æ–¹ãŒè³ªå•ã‚’ã‚ã‚‰ãŸã‚ã¦èª­ã‚“ã§ã„ãŸã ã„ãŸã®ã§ã€ã‚ˆã‚Šãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãª Q\u0026amp;A ã‚¿ã‚¤ãƒ ã ã£ãŸã¨æ€ã„ã¾ã™ã€‚ã‚ã‚Šã¨é•·ã„è³ªå•æ–‡ã‚‚å™›ã¾ãšã«èª­ã¾ã‚Œã¦ã„ãŸã®ã§ã€ã™ã”ã„ãªã¨æ€ã£ã¦ã¾ã—ãŸã€‚\nãƒ©ã‚¤ãƒ–ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã¯æ˜ åƒã‚„éŸ³å£°ã®ä¹±ã‚Œã€ç”»é¢å…±æœ‰ãŒä¸Šæ‰‹ãã„ã‹ãªã„ã¨ã„ã£ãŸãƒãƒ—ãƒ‹ãƒ³ã‚°ãŒèµ·ã“ã‚ŠãŒã¡ã§ã™ãŒã€ãã®ã‚ˆã†ãªã“ã¨ã‚‚ãªãå¿«é©ã«è¦–è´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ãƒ©ã‚¤ãƒ–ã§è¦–è´ã§ããªã‹ã£ãŸã¨ã—ã¦ã‚‚ã€å¾Œæ—¥ ç·¨é›†å¾Œã®å‹•ç”»ã‚’ YouTube ã«ã‚¢ãƒƒãƒ—ã—ã¦ã„ãŸã ã„ã¦ã„ãŸã®ã§ã€ãã‚Œã‚‚ã‚ã‚ŠãŒãŸã‹ã£ãŸã§ã™ã€‚\nã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰å‹ãƒ“ãƒ‡ã‚ªã‚»ãƒƒã‚·ãƒ§ãƒ³ ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰å‹ãƒ“ãƒ‡ã‚ªã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã¯ã€äº‹å‰ã«éŒ²ç”»ã•ã‚ŒãŸå‹•ç”»ã‚’ YouTube ã«ã‚¢ãƒƒãƒ—ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ã“ã‚Œã«ã¤ã„ã¦ã‚‚ã€ãã®æ—¥ã®ãƒ†ãƒ¼ãƒã«åˆã£ãŸå‹•ç”»ãŒ 10:00 ã«ãªã‚‹ã¨ä¸€æ–‰ã«å…¬é–‹ã•ã‚Œã‚‹ã¨ã„ã†å½¢ã§ã€æ¯æ—¥ãŸãã•ã‚“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³å‹•ç”»ãŒã‚¢ãƒƒãƒ—ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ã‚¤ãƒ™ãƒ³ãƒˆæœŸé–“ã‚’é€šã˜ã¦ã‚¢ãƒƒãƒ—ã•ã‚ŒãŸå‹•ç”»æœ¬æ•°ã¯ã€ãªã‚“ã¨ 90 æœ¬ (ãƒ©ã‚¤ãƒ–ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚‚å«ã‚€) ã§ã—ãŸã€‚ã™ã”ã„ã€‚\nã‚»ãƒƒã‚·ãƒ§ãƒ³å‹•ç”»ã‚’ YouTube ã§é…ä¿¡ã™ã‚‹ã“ã¨ã§ã€è¦–è´ã™ã‚‹å´ã¨ã—ã¦ã¯è‡ªåˆ†ã®å¥½ããªæ™‚é–“ã«ã€å¥½ããªãƒ‡ãƒã‚¤ã‚¹ã§ã€å¥½ããªå†ç”Ÿé€Ÿåº¦ã§ã€ä½•åº¦ã§ã‚‚ã€æ°—ã«ãªã‚‹éƒ¨åˆ†ã ã‘ã§ã‚‚è¦–è´ã§ãã‚‹ã®ã§ã€ã“ã‚Œã¾ãŸå¤§å¤‰ã‚ã‚ŠãŒãŸã„ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚\nã‚»ãƒƒã‚·ãƒ§ãƒ³å‹•ç”»ã«ã¤ã„ã¦ã¯ç‰¹ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒæ±ºã¾ã£ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã•ãã†ã§ã€å‹•ç”»ã‚’ä½œæˆã•ã‚Œã‚‹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã•ã‚“ã«ã‚‚ã‚ã‚‚ã‚å§”ã­ã‚‰ã‚Œã¦ã„ã‚‹ã‚ˆã†ãªæ„Ÿã˜ã§ã—ãŸã€‚åŸºæœ¬çš„ã«ã¯ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’æ˜ ã—ãªãŒã‚‰è©±ã—ã¦ã„ãã¨ã„ã†ã‚¹ã‚¿ã‚¤ãƒ«ã§ã™ãŒã€ã„ã‚ã‚“ãªåŠ¹æœéŸ³ã‚„ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’é§†ä½¿ã—ãŸå‹•ç”»ã‚„ã€ä¸­ã«ã¯ VTuber ã¨ã—ã¦ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’ç™»å ´ã•ã›ãŸå‹•ç”»ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚ã‚¯ãƒ©ãƒ¡ã‚½ã•ã‚“ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®æ–¹ãŒã«å¯¾ã—ã¦ã¯ã€ã“ã‚Œã¾ã§ã®ã‚¤ãƒ™ãƒ³ãƒˆç™»å£‡ã‚„ãƒ–ãƒ­ã‚°ã®å†…å®¹ã‹ã‚‰é«˜ã„æŠ€è¡“åŠ›ã‚’æŒã£ã¦ã„ã‚‹æ–¹ã€…ã ãªã¨ã„ã†å°è±¡ã¯æŒã£ã¦ã„ã¾ã—ãŸãŒã€ä»Šå›ã®ã‚¤ãƒ™ãƒ³ãƒˆæœŸé–“ã§ å‹•ç”»ç·¨é›†ã«é–¢ã™ã‚‹æŠ€è¡“åŠ›ã‚‚ãƒãƒ³ãƒ‘ãªã„ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚æ™®é€šã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã‚„ã‚‹ã‹ã‚‰å‹•ç”»ä½œã‚‹ã£ã¦ãªã£ãŸã¨ã—ã¦ã‚‚ã€ã“ã‚“ãªã«ãŸãã•ã‚“ã®ã€ã—ã‹ã‚‚ã‚¯ã‚ªãƒªãƒ†ã‚£ã®é«˜ã„å‹•ç”»ãŒå‡ºã¦ãã‚‹ã§ã—ã‚‡ã†ã‹ã€‚ã™ã”ã„ã‚’é€šã‚Šè¶Šã—ã¦ã¡ã‚‡ã£ã¨æ€–ã„ã§ã™ã€‚\nå°è±¡ã«æ®‹ã£ãŸå‹•ç”» ã“ã“ã‹ã‚‰ã¯ã€ã‚¤ãƒ™ãƒ³ãƒˆæœŸé–“ã«é…ä¿¡ã•ã‚ŒãŸå‹•ç”»ã®ä¸­ã‹ã‚‰å€‹äººçš„ã«å°è±¡ã«æ®‹ã£ãŸå‹•ç”»ã‚’ 3 ã¤ç´¹ä»‹ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚ã¾ã è¦‹ã¦ã„ãªã„å‹•ç”»ã‚‚ãŸãã•ã‚“ã‚ã‚‹ã®ã§ã€æ™‚é–“ã‚’ã¤ãã£ã¦è¦‹ã¦ã„ã“ã†ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\nã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£ã§å­¦ã¶ä¼æ¥­é‹å–¶ã€œã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®æ–°å‹ã‚³ãƒ­ãƒŠå¯¾å¿œã€œ åˆæ—¥ã®ãƒ©ã‚¤ãƒ–ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å‹•ç”»ã§ã™ã€‚\næ˜¨å¹´æœ«ã‹ã‚‰å¹´åˆã€ãã—ã¦æœ€è¿‘ã¾ã§ã®ã‚³ãƒ­ãƒŠã®å½±éŸ¿ã«å¯¾ã—ã¦ã€ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ãŒå®Ÿæ–½ã—ã¦ããŸå¯¾å¿œã«é–¢ã™ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã—ãŸã€‚å…·ä½“çš„ãªæ—¥ä»˜ã¨ã¨ã‚‚ã«ã€å›½å†…å¤–ã®æ„ŸæŸ“çŠ¶æ³ã¨ãã‚Œã«å¯¾ã™ã‚‹ä¼šç¤¾ã¨ã—ã¦ã®å¯¾å¿œã«ã¤ã„ã¦è©³ç´°ã«è©±ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚å¤–ã‹ã‚‰è¦‹ã¦ã„ã¦ã‚‚ã€å…¨ç¤¾çš„ãªåœ¨å®…å‹¤å‹™å°å…¥ã‚„å„ç¨®æ‰‹å½“ã®ä»˜ä¸ãªã©ã€éå¸¸ã«æ—©ã„åˆ¤æ–­ã§å‹•ã‹ã‚Œã¦ã„ã‚‹ãªã¨ã„ã†å°è±¡ã‚’å—ã‘ã¦ã„ã¾ã—ãŸã€‚å®Ÿéš›ã«ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã«æ‰€å±ã—ã¦ã„ã‚‹æ–¹ã€…ã‹ã‚‰ã—ã¦ã‚‚ã€ä¼šç¤¾ã¨ã—ã¦ç¤¾å“¡ã‚’å®ˆã‚‹è¡Œå‹•ã‚’æ—©ã„æ®µéšã‹ã‚‰ã©ã‚“ã©ã‚“å®Ÿæ–½ã—ã¦ã„ã£ã¦ãã‚Œã‚‹ã“ã¨ã«é–¢ã—ã¦ã¯å®‰å¿ƒæ„ŸãŒã‚ã£ãŸã®ã§ã¯ãªã„ã‹ã¨æ€ã„ã¾ã™ã€‚ç¤¾é•·ã®æ¨ªç”°ã•ã‚“ã®ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ç’°å¢ƒæ§‹ç¯‰ãƒ–ãƒ­ã‚°ã‚‚å°è±¡çš„ã§ã—ãŸã€‚\nç¤¾é•·ã¨ã—ã¦æœ€ä½é™ã®ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã‚’æ•´ãˆã¦ã¿ãŸ | Developers.IO AWSç’°å¢ƒã§IaCã‚’ä½¿ã„å§‹ã‚ã¦é‹ç”¨ã™ã‚‹ãŸã‚ã®ãƒ¡ãƒªãƒƒãƒˆãƒ‡ãƒ¡ãƒªãƒƒãƒˆã¨æ³¨æ„ç‚¹ å€‹äººçš„ã« IaC ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã‹ã‚‰ã¯ã¾ã æ—¥ãŒæµ…ã„ã®ã§ã™ãŒã€ CDK ã‚„ CloudFormation ã‚’ä½¿ã£ã¦ãƒªã‚½ãƒ¼ã‚¹ã‚’ã‚³ãƒ¼ãƒ‰ã§ç®¡ç†ã™ã‚‹ã“ã¨ã«ã¤ã„ã¦ã¯ã¨ã¦ã‚‚æ¥½ã—ã„ã¨ã„ã†ãªã¨ã„ã†æ„Ÿæƒ³ã§ã™ã€‚ãŸã ã—ã€ã¡ã‚‡ã£ã¨ã—ãŸå¤‰æ›´ã®éš›ã«ã‚‚ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ã¦ã€ GitHub ã§ç®¡ç†ã—ã¦\u0026hellip;ã¨ã€ã¡ã‚‡ã£ã¨ç…©é›‘ã ãªã¨æ„Ÿã˜ã‚‹å ´é¢ã‚‚ã‚ã‚Šã¾ã™ã€‚\nã“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³å‹•ç”»ã§ã¯ã€ãã‚‚ãã‚‚ IaC ã‚’å°å…¥ã—ãŸã»ã†ãŒã„ã„ã®ã‹? ã¨ã„ã†ã“ã¨ã‚’è€ƒãˆã‚‹ãã£ã‹ã‘ã¨ãªã‚Šã¾ã—ãŸã€‚ã‚‚ã¡ã‚ã‚“å°å…¥ã—ãŸã»ã†ãŒå¾Œã€…ã®ã“ã¨ã‚’è€ƒãˆã‚‹ã¨å¹¸ã›ã«ãªã‚Œã‚‹ã¨ã¯æ€ã†ã®ã§ã™ãŒã€ç®¡ç†ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã®è¦æ¨¡æ„Ÿã‚„å¾Œã€…ã¾ã§ãƒ¡ãƒ³ãƒ†ã—ã¦ã„ãæ°—æŒã¡ã®å¼·ã•ãªã©ã‚‚é‡è¦ã ã¨æ„Ÿã˜ã¾ã—ãŸã€‚\nãã®ä»–ã€ CDKã€ CloudFormationã€ Terraform ã«ã¤ã„ã¦ã‚‚ã–ã£ãã‚Šã¨ãã®ç‰¹å¾´ã«ã¤ã„ã¦è©±ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚\nAWS CDK + Step Functions å…¥é–€ æœ€è¿‘ã„ã‚ã‚“ãªã¨ã“ã‚ã§ Step Functions ã®è©±ã‚’èãã®ã§ãã‚ãã‚è§¦ã‚‰ãªã„ã¨è¡Œã‘ãªã„ãªãƒ¼ã¨æ€ã£ã¦ã„ãŸã¨ã“ã‚ã«ã¡ã‚‡ã†ã©å…¬é–‹ã•ã‚ŒãŸã‚»ãƒƒã‚·ãƒ§ãƒ³å‹•ç”»ã§ã—ãŸã€‚\nStep Functions ã®æ¦‚è¦ã‹ã‚‰ã€ Taskã€ Passã€ Parallel ã¨ã„ã£ãŸå„ State ã«é–¢ã™ã‚‹ã‚ã‹ã‚Šã‚„ã™ã„èª¬æ˜ãƒ»ä½¿ã„æ‰€ãŒç´¹ä»‹ã•ã‚Œã¦ã„ã¦ã€å…¥é–€ã«ã¯ã‚‚ã£ã¦ã“ã„ãªå†…å®¹ã§ã—ãŸã€‚ã“ã®å‹•ç”»ã‚’è¦‹ãŸã‚ã¨ã«å…¬å¼ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’ã„ãã¤ã‹ã‚„ã£ã¦ã¿ãŸã®ã§ã™ãŒã€å„ State ã®çµ„ã¿åˆã‚ã›æ¬¡ç¬¬ã§ã¯ã„ã‚ã‚“ãªã“ã¨ãŒã§ããã†ã ãªã¨ã„ã†ãµã‚“ã‚ã‚Šã¨ã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã§ãã¾ã—ãŸã€‚ä»Šå¾Œã¯ã‚‚ã†å°‘ã—æ·±å €ã‚Šã—ã¦è©¦ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nã¾ã¨ã‚ 6/16 ã€œ 7/7 ã¾ã§ã®æœŸé–“ã§ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§é–‹å‚¬ã•ã‚Œã¦ã„ãŸ Developers.IO 2020 CONNECT ã«ã¤ã„ã¦ã€æ„Ÿã˜ãŸã“ã¨ã‚’æ›¸ãã¾ã—ãŸã€‚\næŠ€è¡“çš„ãªæƒ…å ±ã¯ã‚‚ã¡ã‚ã‚“ã§ã™ãŒã€ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã„ã†ä¼šç¤¾ã«ã¤ã„ã¦ã‚‚ã‚ã‚‰ãŸã‚ã¦è‰²ã€…ã¨çŸ¥ã‚‹æ©Ÿä¼šã«ãªã£ãŸã®ã§ã€ã¨ã¦ã‚‚è‰¯ã„ã‚¤ãƒ™ãƒ³ãƒˆã ã£ãŸãªã¨ã„ã†ã®ãŒå…¨ä½“ã®æ„Ÿæƒ³ã§ã™ã€‚æ­£ç›´ã€ã„ã‚ã‚“ãªæƒ…å ±ãŒã„ã‚ã‚“ãªã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®æ–¹ã€…ã‹ã‚‰ç™ºä¿¡ã•ã‚Œã‚‹ã“ã¨ã§ã€ä¸–ã®ä¸­ã«ã¯ã™ã”ã„ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã•ã‚“ãŒã„ã£ã±ã„ã„ã‚‹ã‚“ã \u0026hellip;ã¨è¬ã®ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’å—ã‘ã¦ã—ã¾ã†ã“ã¨ã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€ãã†ã„ã£ãŸæ–¹ã€…ã®çŸ¥è¦‹ã‚’ç„¡æ–™ã§å¾—ã‚‰ã‚Œã‚‹ã¨ã„ã†ã®ã¯æœ¬å½“ã«ã‚ã‚ŠãŒãŸã„ã“ã¨ã ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚\nã‚ã¨ã€ãƒ–ãƒ­ã‚°ã§ã®ç™ºä¿¡ã«åŠ ãˆã¦å‹•ç”»é…ä¿¡ã‚‚ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸã‚¯ãƒ©ãƒ¡ã‚½ã•ã‚“ã®æƒ…å ±ç™ºä¿¡åŠ›ã¯æœ¬å½“ã«ã™ã”ã„ãªã¨ã€ã‚ã‚‰ãŸã‚ã¦æ„Ÿã˜ã¾ã—ãŸã€‚\nã‚ã‚‰ãŸã‚ã¾ã—ã¦ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®é–‹å‚¬ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼\n",
    "permalink": "https://michimani.net/post/event-developersio-2020-connect/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] Developers.IO 2020 CONNECT ã¨ã„ã†ã‚¤ãƒ™ãƒ³ãƒˆã«ã¤ã„ã¦ #devio2020"
  },
  {
    "contents": "Serverless Meetup Japan Virtual #2 ã«ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§å‚åŠ ã—ãŸã®ã§ã€ãã®å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆãƒ»ãƒ¡ãƒ¢ã§ã™ã€‚\nServerless Meetup Japan Virtual #2 - connpass Twitter ã®ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã¯ #serverlessjp ã§ã™ã€‚\nç›®æ¬¡ ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ« ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ¬ãƒãƒ¼ãƒˆ Access to multiple microservices on AWS Azure Static Web Apps ã§å®Ÿç¾ã™ã‚‹ Serverless CMS RDS Proxyã®è©± ã¾ã¨ã‚ â€»ç™»å£‡è³‡æ–™ãŒè¿½åŠ ã•ã‚Œã‚Œã°è¿½è¨˜ã—ã¾ã™\nã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ« Timeline Title Speaker 20:45-21:00 Social ï¼ 21:00-21:05 Opening Talk å‰ç”°çœŸå¾ ã•ã‚“ 21:05-21:10 Forkwellã•ã‚“å‘ŠçŸ¥!! æ°¸ç”°ã‚Šã• ã•ã‚“ 21:10-21:30 Access to multiple microservices on AWS ä¸­å±±æ¡‚ä¸€ ã•ã‚“ 21:30-21:40 Meetup Zoomå‚åŠ ãƒ¡ãƒ³ãƒãƒ¼ã®æ–¹ã€… 21:40-22:00 Azure Static Web Apps ã§å®Ÿç¾ã™ã‚‹ Serverless CMS ä¸‰å®…å’Œä¹‹ ã•ã‚“ 22:00-22:15 Meetup Zoomå‚åŠ ãƒ¡ãƒ³ãƒãƒ¼ã®æ–¹ã€… 22:15-22:20 RDS Proxyã®è©± äº€ç”°æ²»ä¼¸ ã•ã‚“ 22:30- Closing ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ¬ãƒãƒ¼ãƒˆ Access to multiple microservices on AWS ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã—ã¦ã¾ã™ã‹ï¼Ÿ å°ã•ãåˆ†å‰²ã•ã‚ŒãŸã€è‡ªç«‹ã—ãŸã‚µãƒ¼ãƒ“ã‚¹ ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã¨é€£æºã™ã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ ãƒ‡ãƒ—ãƒ­ã‚¤ã‚‚ç‹¬ç«‹ ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã‚‚ç‹¬ç«‹ éšœå®³ãŒã‚ã£ãŸã¨ã—ã¦ã‚‚ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã«å½±éŸ¿ã‚’ä¸ãˆãªã„ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰è¦‹ãŸãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®èª²é¡Œ ãŸãã•ã‚“ã® API ã‚’æŠŠæ¡ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ æ¬²ã—ã„æƒ…å ±ã‚’å¾—ã‚‹ãŸã‚ã«è¤‡æ•°ã® API ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå¿…è¦ åˆ†æ•£ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã«ã‚ˆã‚Š éåŒæœŸã«ãªã‚ŠãŒã¡ èªè¨¼ãƒ»èªå¯ãŒè¤‡é›‘ ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚‚è¤‡é›‘ ã“ã‚Œã‚‰ã®èª²é¡Œã‚’è§£æ±ºã™ã‚‹ã®ãŒ AWS AppSync ãƒãƒãƒ¼ã‚¸ãƒ‰ãª GraphQL ã‚µãƒ¼ãƒ“ã‚¹ æ§˜ã€…ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‚’é¸æŠå¯èƒ½ GraphQL ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒä¸€ã¤ Query, Mutation, Subscription ã® 3 ã¤ã®ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¯èƒ½ 1 å›ã®ã‚¯ã‚¨ãƒªã«è¤‡æ•°ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ REST API ã ã¨æ¬²ã—ã„æƒ…å ±ãã‚Œãã‚Œã« API ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå¿…è¦ æ¬²ã—ã„æƒ…å ±ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒæŒ‡å®š é¸æŠå¯èƒ½ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ Lambda ã“ã®æ™‚ç‚¹ã§å®Ÿè³ªã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã«å¯¾å¿œå¯èƒ½ DynamoDB ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã«ã‚‚å¯¾å¿œ Elasticserch Service Aurora Serverless HTTP Endpoint SigV4 å¯¾å¿œ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰ã¯ AppSync ã®ã¿ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ AppSync ã®è£ã« API Gateway ã‚’ç½®ã Cognito èªè¨¼ IAM èªè¨¼ Pipeline Resolver èªè¨¼ JWT ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½¿ç”¨ã—ãŸèªè¨¼ãªã©ã‚’å–ã‚Šå…¥ã‚ŒãŸã„å ´åˆ API Gateway ã® Lambda ã‚ªãƒ¼ã‚½ãƒ©ã‚¤ã‚¶ãƒ¼ã¨ä¼¼ãŸã‚ˆã†ãªå½¢ GraphQL ãƒªã‚¾ãƒ«ãƒã®ãƒ‡ãƒãƒƒã‚° CloudWatch Logs Insight Subscription æ±ºæ¸ˆã‚µãƒ¼ãƒ“ã‚¹ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ çµæœã¯éåŒæœŸã§ API ã«ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã•ã‚Œã‚‹ ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã—ãŸã‚‰ AppSync ã« Mutation ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ X-Ray ã‚’ä½¿ã£ãŸãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚° ã¾ã¨ã‚ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ã—ã‚„ã™ã„ ç´°ã‚„ã‹ãªèªè¨¼ã‚’æ‰±ã„ã‚„ã™ã„ CloudWatch Logs Insight ã‚„ X-Ray ã‚’ã‚ã‚ã›ã¦ä½¿ã†ã¨æ—ã‚‹ Q\u0026amp;A Q. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰ã®å‡¦ç†ã¯ã‚·ãƒ³ãƒ—ãƒ«ã«ãªã‚‹ãŒã€ãã®å¾Œã‚ã®ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãªã©ãŒæ°—ã«ãªã‚‹ A. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æœ‰åŠ¹å¯ã™ã‚‹ (è£ã§ã¯ ElastiCache ã‚’ä½¿ã£ã¦ã„ã‚‹) Q. ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚’ãŸãã•ã‚“ä½¿ã†ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®é½Ÿé½¬ãŒå‡ºã¦ãã‚‹ãŒã€AppSync ã‚’å…¥ã‚ŒãŸå ´åˆã« E2E ãƒ†ã‚¹ãƒˆã¯ã©ã†ã™ã‚‹ã‹ã€‚ A. å…·ä½“çš„ãªçŸ¥è¦‹ã¯ãªã„ã€‚ãŒã€æ™®é€šã® E2E ãƒ†ã‚¹ãƒˆã§å¯¾å¿œã€‚ãƒãƒƒãƒ”ãƒ³ã‚°ã®ç®¡ç†ã¯è¾›ã„ã€‚ Q. REST API ã‹ã‚‰ AppSync ã«ç§»ã£ãŸã¨ãã«ã€ã‚¹ã‚­ãƒ¼ãƒã®å‹ãŒå°‘ãªã„ã®ãŒè¾›ããªã„ã‹ï¼Ÿ A. åŠ›æŠ€ã§é ‘å¼µã‚‹ã€‚Swagger ã¯éšå±¤ã‚‚ä¸€ã¤ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ä½¿ãˆã‚‹ãŒã€ GraphQL ã®ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã ã¨è¾›ã„ã€‚ Q. BFF ã ã‘åˆ‡ã‚Šå‡ºã™ã¨ã„ã†ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæˆ¦ç•¥ã«ã¤ã„ã¦ A. ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒä¸€ã¤ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«å…¥ã£ã¦ã„ã‚‹çŠ¶æ…‹ã€‚ãŸã ã—ã€ã‚µãƒ¼ãƒ“ã‚¹ãŒå¢—ãˆã¦ãã‚‹ã®ã§ã‚ã‚Œã°ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯åˆ†ã‘ãŸã»ã†ãŒã‚ˆã„ã¨è€ƒãˆã¦ã„ã‚‹ã€‚ Azure Static Web Apps ã§å®Ÿç¾ã™ã‚‹ Serverless CMS Microsoft MVP (for Microsoft Azure) Azure Static Web Apps (preview) é™çš„ã‚µã‚¤ãƒˆã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° GitHub Actions ã¨çµ±åˆã•ã‚ŒãŸ CI/CD Azure Functions ã«ã‚ˆã‚‹ã‚µãƒ¼ãƒãƒ¬ã‚¹ API ã®çµ±åˆ ã‚„ã£ã¨å‡ºã¦ãã¦ãã‚ŒãŸã¨ã„ã†æ„Ÿã˜ Netlify ã¿ãŸã„ãªæ„Ÿã˜ Azure Static Web Apps â€“ App service | Microsoft Azure ãƒ‡ãƒ—ãƒ­ã‚¤ã®ä»•çµ„ã¿ GitHub Actions ã«çµ±åˆã•ã‚Œã¦ã„ã‚‹ ç‰¹ã«ç‰¹åˆ¥ãªè¨­å®šã¯å¿…è¦ãªã„ ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã¨ã„ã†ã‚ˆã‚Šã‚‚ã€ CI/CD ã«å·¥å¤«ãŒè©°ã¾ã£ã¦ã„ã‚‹ çµ±åˆã•ã‚ŒãŸ API ãƒªãƒã‚¸ãƒˆãƒªã« BFF (APIs) ã‚’å…±å­˜ã•ã›ã‚‹ã¨ GitHub Actions ãŒè‰¯ã—ãªã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ãã‚Œã‚‹ Azure Function (Node.js) ã§å®Ÿè£… ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ SPA SSG : Static Site Generator (JAM Stack å«ã‚€) Static Site Generator å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’äº‹å‰ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° Jekyll, Gatsby, HUGO, Next.js, Nuxt.js ãªã© Git ãƒ™ãƒ¼ã‚¹ã® SSG ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ Git ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç† Markdown ã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½œæˆãƒ»æ›´æ–° DB, CMS ãŒä¸è¦ nuxt/content ã«ã‚ˆã‚‹ SSG Nuxt.js ã® Git-based Headless CMS ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« Markdown å†…ã§ Vue ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ©ç”¨å¯èƒ½ PR ã§ã‚¹ãƒ†ãƒ¼ã‚¸ç’°å¢ƒãŒä½œæˆã•ã‚Œã‚‹ API-basses SSG (JAM Stack) ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ Headless CSM ã§ç®¡ç† ç®¡ç†ç”»é¢ã ã‘æä¾›ã•ã‚Œã¦ã„ã‚‹ ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ã§ CMS ã® API ã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾— ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãŒã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ›´æ–°ã™ã‚‹ã®ã«å‘ã„ã¦ã„ã‚‹ API-first content platform to build digital experiences | Contentful WYSIWYG ã§ç·¨é›†å¯èƒ½ WordPress ã‹ã‚‰ç§»è¡Œã—ã¦ãã‚‹äººãŒå¤šã„ microsoft/static-web-apps-gallery-code-samples: A gallery of awesome projects deployed on Azure Static Web Apps ğŸ‰ GitHub Actions ã«ç™–ãŒã‚ã‚‹ ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ãŒåˆ†å‰²ã§ããªã„ å‡ã£ãŸã“ã¨ã‚’ã—ã‚ˆã†ã¨ã™ã‚‹ã¨è¾›ã„ E2E ãƒ†ã‚¹ãƒˆ Lint Q\u0026amp;A Q. Static Web Apps ã® API ã®æ©Ÿèƒ½ã§ä¸€ç•ªæ¬²ã—ã„æ©Ÿèƒ½ã¯? A. Azure Functions ã«ã¯ã„ã‚ã‚“ãªæ©Ÿèƒ½ãŒã‚ã‚‹ãŒã€ ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆãŒå¯èƒ½ãªãƒ—ãƒ©ãƒ³ãŒã‚ã‚Œã°ã„ã„ã€‚ã¨ã„ã†ã‹ã€ç„¡ã„ã¨è¾›ã„ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆã¯è¾›ã„ã€‚ Q. ä»Šã¯ GitHub Actions ã®ã¿ã ãŒã€ GitLab ãªã©ã«ã‚‚å¯¾å¿œã™ã‚‹ã‹? A. issue ã«ã¯ä¸ŠãŒã£ã¦ã„ã‚‹ã€‚å¯¾å¿œã¯ãƒ—ãƒƒã‚·ãƒ¥ã—ã¦ã„ã‚‹ãŒã€æ™‚é–“ã¯ã‹ã‹ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚ Q. ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã¯ Azure ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸? A. Azure ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã§ã¯ãªã„ã€‚ç‰¹åˆ¥ãªå ´æ‰€ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã€‚ã‚‚ã‚ã‚‚ã‚éš è”½ã•ã‚Œã¦ã„ã‚‹ã€‚Firebase ã‚‚éš è”½ã•ã‚Œã¦ã„ã‚‹ã€‚Amplify ã¯ S3 ã¨ã‹è«¸ã€…ä½œæˆã•ã‚Œã‚‹ã€‚ Q. SSL ã¯? A. ç„¡å„Ÿã€‚ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å¯¾ã—ã¦ã‚‚ã€‚(ä»Šã ã‘ã‹ã‚‚) RDS Proxyã®è©± å½“åˆã‹ã‚‰æŠ±ãˆã¦ã„ãŸ Lambda ã®å•é¡Œ Lambda ã‹ã‚‰ VPC ã¸ã®é€šä¿¡ ä»Šã¯ EC2 ã‚‚ RDS ã‚‚ VPC å†…ã«ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹ Lambda ã¯ VPC ã®å¤– VPC ã®ä¸­ã«å…¥ã‚‹ã«ã¯ ENI ã‚’çµŒç”±ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å•é¡Œ 2019 å¹´ 9 æœˆã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ RDB ã¸ã®ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³çˆ†ç™º Lambda ã¯æ°´å¹³ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚° ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ã‚’å¼µã‚‹ã®ã¯é‡ã„ (ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãªã©) Lambda ã§ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ¼ãƒªãƒ³ã‚°ã‚’ã¯ã‚‹ã¨ RDS ãŒå¾…ã¡ã£ã±ãªã—ã«ãªã‚‹ RDS Proxy VPC å†…ã«ä½œæˆã•ã‚Œã‚‹ Aurora, MySQL, PostgreSQL ã«å¯¾å¿œ Aurora Serverless ã«ã¯éå¯¾å¿œ æœ¬å½“ã«ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«ä½¿ãˆã‚‹ã‹ã©ã†ã‹ã¯æ¤œè¨¼æ¬¡ç¬¬ ãƒ¡ãƒªãƒƒãƒˆ ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ã®é–‹é–‰å›æ•°ã‚’æ¸›ã‚‰ã™ -\u0026gt; DB ãƒªã‚½ãƒ¼ã‚¹ã®é©åˆ‡ãªç®¡ç† RDS ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼æ™‚é–“ã®çŸ­ç¸® (æœ€å¤§ 66%) DNS ä¼é”ã®é…å»¶è§£æ¶ˆ Secret Manager , IAM ã¨ã®é€£æºã§èªè¨¼ã®ç®¡ç† é«˜è² è·æ™‚ã«ã¯ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚° Q\u0026amp;A Q. å°å…¥ã¯é€²ã‚“ã§ã„ã‚‹? A. èªçŸ¥ã¯ã•ã‚Œå§‹ã‚ã¦ã„ã‚‹ã¨æ€ã†ãŒã€ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã¸ã®å°å…¥ã¯ã¾ã ã€‚æŒ™å‹•ã€ç™–ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ã¤ã„ã¦ã¯æ¤œè¨¼ãƒ»åˆ¤æ–­ãŒå¿…è¦ã€‚ Q. ãƒ¦ãƒ¼ã‚¶ã‹ã‚‰ã®æœŸå¾…åº¦ã¯? A. å°å…¥ã«ã¯ POC ã‚’çµŒã¦ã‹ã‚‰ã€‚ä½¿ã£ã¦ã„ãŸã ã„ã¦ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ã‚‚ã‚‰ã£ãŸã»ã†ãŒæ”¹å–„ãŒé€²ã‚€ã€‚ Q. Lambda ä»¥å¤–ã‹ã‚‰ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¯? A. æ°´å¹³ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ (ã‚³ãƒ³ãƒ†ãƒŠãªã©) ã§ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ¼ãƒ«ãŒæ¯æ¸‡ã™ã‚‹ã‚ˆã†ãªã“ã¨ãŒã‚ã‚‹ãªã‚‰ä½¿ã†ä½™åœ°ãŒã‚ã‚‹ã€‚ã‚ãã¾ã§ã‚‚ RDS å´ã®ã‚µãƒ¼ãƒ“ã‚¹ãªã®ã§ã€ RDS ã®æ°—æŒã¡ã«ãªã£ã¦ãƒ—ãƒ¼ãƒªãƒ³ã‚°ã‚µã‚¤ã‚ºã‚’æ±ºã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ ã¾ã¨ã‚ Serverless Meetup Japan Virtual #2 ã®å‚åŠ ãƒ¡ãƒ¢ã§ã—ãŸã€‚\nAppSync ã«ã¤ã„ã¦ã¯ã€ Amplify ãƒãƒ³ã‚ºã‚ªãƒ³ã§å°‘ã—è§¦ã£ãŸç¨‹åº¦ãªã®ã§ã€ä»Šå¾Œ GraphQL ã‚‚å«ã‚ã¦å‹‰å¼·ã—ã¦ã„ããŸã„ãªã¨æ€ã£ã¦ã„ã‚‹ã¨ã“ã‚ã§ã™ã€‚\nAzure Static Web Apps ã«ã¤ã„ã¦ã¯ã€ Azure (ã¨ã„ã†ã‹ Microsoft) ãªã‚‰ã§ã¯ã® GitHub (Actions) ã¨ã®é€£æºãŒã¨ã¦ã‚‚å·¥å¤«ã•ã‚Œã¦ã„ã‚‹ãªã¨ã„ã†å°è±¡ã§ã—ãŸã€‚ã•ã¾ã–ã¾ãªé™çš„ã‚µã‚¤ãƒˆã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã€ç²¾è£½æ–¹æ³•ã«ã¤ã„ã¦çŸ¥ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nRDS Proxy ã«ã¤ã„ã¦ã¯ã€ éå»ã®ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è§£æ¶ˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚‚ã®ã¨ã—ã¦ã€ã‚µãƒ¼ãƒãƒ¬ã‚¹ã®ç’°å¢ƒã‚’å¤§ããå¤‰ãˆã‚‹ã‚‚ã®ã ãªã¨ã„ã†å°è±¡ã§ã™ã€‚å…ˆæ—¥é–‹å‚¬ã•ã‚ŒãŸä¸‹è¨˜ã®ã‚¤ãƒ™ãƒ³ãƒˆã§ã¯æ¿ƒã„è©±ã‚’èãã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ä»Šæ˜”ç‰©èª - connpass æ™®æ®µ AWS ã®è©±ã‚’èãã“ã¨ãŒå¤šã„ã®ã§ã€ Azure ã®è©±ã‚’èãã“ã¨ãŒã§ããŸã®éå¸¸ã«é¢ç™½ã‹ã£ãŸã§ã™ã€‚\nã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬ã€ç™»å£‡ã•ã‚ŒãŸã¿ãªã•ã¾ãŠã¤ã‹ã‚Œã•ã¾ã§ã—ãŸ! ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/event-serverless-meetup-japan-virtual-2/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] Serverless Meetup Japan Virtual #2 ã®å‚åŠ ãƒ¡ãƒ¢ #serverlessjp"
  },
  {
    "contents": "macOS ã§ Nintend Switch ã®æ˜ åƒã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã—ãŸã„ãªã¨æ€ã£ã¦è‰²ã€…æ¢ã—ã¦ã„ãŸã¨ã“ã‚ã€ AVerMedia ã® GC553 ã¨ã„ã†ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒœãƒ¼ãƒ‰ã«ãŸã©ã‚Šç€ãã¾ã—ãŸã€‚éå¸¸ã«ç°¡å˜ã«æ˜ åƒã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã§ãã‚‹ã®ã§ã€ macOS ã§ä½¿ãˆã‚‹ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒœãƒ¼ãƒ‰ã‚’æ¢ã—ã¦ã„ã‚‹æ–¹ã«ã¯ã‚ªã‚¹ã‚¹ãƒ¡ã®ã‚¢ã‚¤ãƒ†ãƒ ã§ã™ã€‚\nç›®æ¬¡ GC553 ã®æ¦‚è¦ ä¸»ãªç‰¹å¾´ å¤–è¦³ GC553 ã®ä½¿ã„æ–¹ æ¥ç¶š é…ä¿¡ã‚½ãƒ•ãƒˆã§ã®æ¤œå‡º é…å»¶ã«ã¤ã„ã¦ ã¾ã¨ã‚ GC553 ã®æ¦‚è¦ æ­£å¼åç§°ã¯ AVerMedia Live Gamer Ultra GC553 ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nã“ã“ã§ã¯ã€ä¸»ãªç‰¹å¾´ã¨è£½å“ã®å¤–è¦³ã«ã¤ã„ã¦è£½å“ã‚µã‚¤ãƒˆã®å†…å®¹ã‚’å¼•ç”¨ã—ã¤ã¤ç´¹ä»‹ã—ã¦ã„ãã¾ã™ã€‚\nLive Gamer ULTRAï¼ˆGC553ï¼‰ | æ¯”è¼ƒã™ã‚‹ | AVerMedia ä¸»ãªç‰¹å¾´ ä¸»ãªç‰¹å¾´ã¨ã—ã¦ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚\n4K 60fps HDR ãƒ‘ã‚¹ã‚¹ãƒ«ãƒ¼å¯¾å¿œ 4K 30fps/1080p 120fps éŒ²ç”»å¯¾å¿œ è¶…ä½é…å»¶ USB å¤–ä»˜ã‘ã‚¿ã‚¤ãƒ— (USB ãƒã‚¹ãƒ‘ãƒ¯ãƒ¼) Windows/macOS å¯¾å¿œ ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆãªæœ¬ä½“ (12.6 x 66.2 x 26 (mm), 116g) éŒ²ç”»ãƒ»é…ä¿¡ã‚½ãƒ•ãƒˆä»˜å± (Windows/macOS å¯¾å¿œ) å‹•ç”»ç·¨é›†ã‚½ãƒ•ãƒˆä»˜å± (Windows å¯¾å¿œ) è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ä»Šå›é‡è¦–ã—ãŸã®ã¯ ãƒ‘ã‚¹ã‚¹ãƒ«ãƒ¼å¯¾å¿œ ã¨ macOS å¯¾å¿œ ã§ã™ã€‚4Kã€ HDR å¯¾å¿œã¨ã„ã£ãŸæ©æµã¯ Switch ã§ã¯äº«å—ã§ãã¾ã›ã‚“ãŒã€ PS4 ã¨ã‹ãªã‚‰ãã®æ©æµã‚’å—ã‘ã‚‰ã‚Œãã†ã§ã™ã€‚\nå¤–è¦³ å¤–ç®± å†…ç®± ä»˜å±å“ GC553 æœ¬ä½“ èª¬æ˜æ›¸ HDMI ã‚±ãƒ¼ãƒ–ãƒ« (1.5m) USB 3.1 Type-C to Type-A ã‚±ãƒ¼ãƒ–ãƒ« (1m) å‹•ç”»ç·¨é›†ã‚½ãƒ•ãƒˆã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼ GC553 æœ¬ä½“ GC553 ã®ä½¿ã„æ–¹ ã§ã¯ GC553 ã‚’ã©ã®ã‚ˆã†ã«ä½¿ã†ã®ã‹è¦‹ã¦ã„ãã¾ã™ã€‚\næ¥ç¶š æ¥ç¶šã¯éå¸¸ã«ç°¡å˜ã§ã™ã€‚å›³ã«ã™ã‚‹ã¨æ¬¡ã®ã‚ˆã†ãªæ¥ç¶šã¨ãªã‚Šã¾ã™ã€‚\nGC553 ã® HDMI IN ã« Switch ã‹ã‚‰ã® HDMI ã‚’æ¥ç¶šã—ã€ GC553 ã® HDMI OUT ã‹ã‚‰å¤–éƒ¨ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã«æ¥ç¶šã—ã¾ã™ã€‚\nMacBook Pro ã¸ã¯ USB 3.1 ã‚±ãƒ¼ãƒ–ãƒ«ã§æ¥ç¶šã—ã¾ã™ãŒã€ GC553 å´ãŒ Type-C ã§ MacBook Pro å´ãŒ Type-A ã«ãªã‚‹ã®ã§ã€åˆ¥é€”å¤‰æ›ã‚¢ãƒ€ãƒ—ã‚¿ã¯å¿…è¦ã«ãªã‚Šã¾ã™ã€‚\né…ä¿¡ã‚½ãƒ•ãƒˆã§ã®æ¤œå‡º ä»Šå›ã¯ é…ä¿¡ã‚½ãƒ•ãƒˆã¨ã—ã¦ OBS ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚ãŒã€ OBS è‡ªä½“ã®è©³ã—ã„ä½¿ã„æ–¹ã«ã¤ã„ã¦ã¯å‰²æ„›ã—ã¾ã™ã€‚\nOBS ã§ã¯ãƒ‡ãƒã‚¤ã‚¹ã®è¿½åŠ ã‹ã‚‰ Live Gamer Ultra-Video ã¨ã„ã†åå‰ã‚’æ¢ã—ã¦è¿½åŠ ã—ã¾ã™ã€‚å ´åˆã«ã‚ˆã£ã¦ã¯ #2 ã®ã‚ˆã†ãªå€¤ãŒä»˜ãã‚ˆã†ã§ã™ã€‚\nã‚ã¨ã¯ã¤ã‹ã—ãŸãƒ‡ãƒã‚¤ã‚¹ã‚’æœ‰åŠ¹ã«ã—ã¦éŒ²ç”»ã‚„é…ä¿¡ã‚’ã™ã‚Œã°ã‚ªãƒƒã‚±ãƒ¼ã§ã™ã€‚\né…å»¶ã«ã¤ã„ã¦ ã‚¹ãƒãƒ–ãƒ© SP ã®ã‚ˆã†ãªæ ¼é—˜ã‚²ãƒ¼ãƒ ã§ã¯é…å»¶ãŒå¤§ããªå•é¡Œã¨ãªã‚Šã¾ã™ã€‚ã“ã“ã‚Œã¯ã€ GC553 ã‚’ä½¿ã£ãŸå ´åˆã®é…å»¶ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚\nãƒ‘ã‚¹ã‚¹ãƒ«ãƒ¼ãªã®ã§é…å»¶ãªã— æ¥ç¶šèª¬æ˜ã®å›³ã®ä¸­ã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€ GC553 ã«ã¯ãƒ‘ã‚¹ã‚¹ãƒ«ãƒ¼æ©Ÿèƒ½ãŒã‚ã‚‹ã®ã§ Switch ã‹ã‚‰ã®æ˜ åƒãƒ»éŸ³å£°ã¯ HDMI OUT ã§æ¥ç¶šã—ãŸãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã«å¯¾ã—ã¦é…å»¶ç„¡ã—ã§é€ä¿¡ã•ã‚Œã¾ã™ã€‚ãªã®ã§ã€ãƒ—ãƒ¬ã‚¤ä¸­ã¯æ™®æ®µã©ãŠã‚Šå¤–éƒ¨ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã‚’è¦‹ãªãŒã‚‰ãƒ—ãƒ¬ã‚¤ã™ã‚Œã°é…å»¶ã‚’æ„Ÿã˜ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nPC å´ã§ã®æ¤œå‡ºã«ã¯é…å»¶ãŒç™ºç”Ÿ ã“ã‚Œã‚‚å›³ã®ä¸­ã«æ›¸ã„ã¦ã„ã¾ã™ãŒã€ GC553 ã‹ã‚‰ USB 3.1 ã§æ¥ç¶šã—ãŸ PC (ä»Šå›ã§ã‚ã‚Œã° MacBook Pro) ã«å¯¾ã—ã¦ã¯æ˜ åƒãƒ»éŸ³å£°ã¨ã‚‚ã«é…å»¶ãŒç™ºç”Ÿã—ã¾ã™ã€‚(ã‚‚ã¡ã‚ã‚“ã“ã“ã§ã®æ˜ åƒã¨éŸ³å£°ã®é–“ã«ãšã‚Œã¯ç™ºç”Ÿã—ã¾ã›ã‚“)\nãªã®ã§ã€PC ã‚’è¦‹ãªãŒã‚‰ã®ãƒ—ãƒ¬ã‚¤ã¯å³ã—ã„ã§ã—ã‚‡ã†ã€‚ç‰¹ã«ã‚¹ãƒãƒ–ãƒ©ã®ã‚ˆã†ãªæ•°ãƒ•ãƒ¬ãƒ¼ãƒ ãŒå‹è² ã‚’åˆ†ã‘ã‚‹ã‚ˆã†ãªã‚²ãƒ¼ãƒ ã§ã¯å³ã—ã„ã§ã™ã€‚\nãŸã ã—ã€é…å»¶ãŒã‚ã‚‹ã¨è¨€ã£ã¦ã‚‚ 1 ç§’æœªæº€ã®ã”ãåƒ…ã‹ãªé…å»¶ãªã®ã§ã€ã‚·ãƒ“ã‚¢ãªå…¥åŠ›ã‚’æ±‚ã‚ã‚‰ã‚Œã‚‹ã“ã¨ãŒãªã„ RPG ãªã©ã§ã‚ã‚Œã°ç‰¹ã«æ°—ã«ã¯ãªã‚‰ãªã„ã‹ãªã¨æ€ã„ã¾ã™ã€‚\nã¾ã¨ã‚ macOS ã«å¯¾å¿œã—ãŸã‚­ãƒ£ãƒ—ãƒãƒ£ãƒœãƒ¼ãƒ‰ AVerMedia GC553 ã®ç´¹ä»‹ã§ã—ãŸã€‚\nã‚­ãƒ£ãƒ—ãƒãƒ£ãƒœãƒ¼ãƒ‰ã¨ã„ã†ã‚‚ã®ã«å¯¾ã—ã¦ã¯æ¥ç¶šã‚„è¨­å®šãŒè¤‡é›‘ãªã‚¤ãƒ¡ãƒ¼ã‚¸ãŒã‚ã‚Šã¾ã—ãŸãŒã€ GC553 ã¯æ¥ç¶šã™ã‚‹ã ã‘ã§å°‚ç”¨ã®ãƒ‰ãƒ©ã‚¤ãƒã‚‚ä¸è¦ãªã®ã§ã€éå¸¸ã«ç°¡å˜ã«ã‚²ãƒ¼ãƒ ã®æ˜ åƒã‚’å–ã‚Šè¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚\nã¾ãŸã€ OBS ç­‰ã®é…ä¿¡ã‚½ãƒ•ãƒˆã‚’ä½¿ç”¨ã™ã‚Œã° YouTube ç­‰ã¸ã®ãƒ©ã‚¤ãƒ–é…ä¿¡ã‚‚ç°¡å˜ã«è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚\nã‚‚ã— macOS ã§ã‚²ãƒ¼ãƒ é…ä¿¡ã‚’è€ƒãˆã¦ã„ã‚‹æ–¹ãŒã„ã‚Œã°ã€é¸æŠè‚¢ã¨ã—ã¦ GC553 ã‚’å€™è£œã«å…¥ã‚Œã¦ã¿ã¦ã¯ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚\n",
    "permalink": "https://michimani.net/post/gadget-capture-nintendo-switchvideo-on-mac-using-gc553/",
    "title": "[ãƒ¬ãƒ“ãƒ¥ãƒ¼] macOS å¯¾å¿œã‚­ãƒ£ãƒ—ãƒãƒ£ãƒœãƒ¼ãƒ‰ï¼AVerMedia GC553 ã‚’ä½¿ã£ã¦ã¿ãŸ"
  },
  {
    "contents": "AWS CLI ã‚’ä½¿ã£ã¦ EC2 ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã‚’æ“ä½œã—ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ å‰æ VPC ã®ä½œæˆ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã®ä½œæˆ ec2 create-security-group ec2 describe-security-groups ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«ã®è¿½åŠ ãƒ»å‰Šé™¤ ec2 authorize-security-group-ingress ec2 revoke-security-group-ingress ã¾ã¨ã‚ å‰æ ä»Šå›ã¯ default ã§ã¯ãªã„ VPC ã«å¯¾ã—ã¦ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã®è¿½åŠ ã‚„å‰Šé™¤ã€ãƒ«ãƒ¼ãƒ«ã®è¿½åŠ ã€å‰Šé™¤ã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚\nå†…å®¹çš„ã«ã¯ã€ ä»¥å‰ã« JAWS-UG CLI å°‚é–€æ”¯éƒ¨ã§å®Ÿæ–½ã•ã‚Œã¦ã„ãŸãƒãƒ³ã‚ºã‚ªãƒ³ã«å«ã¾ã‚Œã¦ã„ã‚‹å†…å®¹ã§ã™ã€‚\nJAWS-UG CLIå°‚é–€æ”¯éƒ¨ #156R EC2åŸºç¤(VPC) - connpass ã¾ãŸã€ä»Šå›ä½¿ã† AWS CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€ç¾æ™‚ç‚¹ (2020/07/14) ã§æœ€æ–°ã® 2.0.30 ã¨ã—ã¾ã™ã€‚\n$ aws --version aws-cli/2.0.30 Python/3.7.4 Darwin/19.5.0 botocore/2.0.0dev34 VPC ã®ä½œæˆ ã¾ãšã¯ä»Šå›æ“ä½œã™ã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆã™ã‚‹ VPC ã‚’ä½œæˆã—ã¾ã™ã€‚\n$ aws ec2 create-vpc help ... SYNOPSIS create-vpc --cidr-block \u0026lt;value\u0026gt; [--amazon-provided-ipv6-cidr-block | --no-amazon-provided-ipv6-cidr-block] [--ipv6-pool \u0026lt;value\u0026gt;] [--ipv6-cidr-block \u0026lt;value\u0026gt;] [--dry-run | --no-dry-run] [--instance-tenancy \u0026lt;value\u0026gt;] [--ipv6-cidr-block-network-border-group \u0026lt;value\u0026gt;] [--tag-specifications \u0026lt;value\u0026gt;] [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] [--cli-auto-prompt \u0026lt;value\u0026gt;] ... --cidr-block ã§ CIDR ãƒ–ãƒ­ãƒƒã‚¯ã‚’æŒ‡å®šã—ã¦ã€ã‚ã¨ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã¾ã¾ã¨ã—ã¾ã™ã€‚\n$ aws ec2 create-vpc \\ --cidr-block 10.0.0.0/16 { \u0026#34;Vpc\u0026#34;: { \u0026#34;CidrBlock\u0026#34;: \u0026#34;10.0.0.0/16\u0026#34;, \u0026#34;DhcpOptionsId\u0026#34;: \u0026#34;dopt-cc5618a8\u0026#34;, \u0026#34;State\u0026#34;: \u0026#34;pending\u0026#34;, \u0026#34;VpcId\u0026#34;: \u0026#34;vpc-0f55f781234567890\u0026#34;, \u0026#34;OwnerId\u0026#34;: \u0026#34;123456789012\u0026#34;, \u0026#34;InstanceTenancy\u0026#34;: \u0026#34;default\u0026#34;, \u0026#34;Ipv6CidrBlockAssociationSet\u0026#34;: [], \u0026#34;CidrBlockAssociationSet\u0026#34;: [ { \u0026#34;AssociationId\u0026#34;: \u0026#34;vpc-cidr-assoc-0359f7b1234567890\u0026#34;, \u0026#34;CidrBlock\u0026#34;: \u0026#34;10.0.0.0/16\u0026#34;, \u0026#34;CidrBlockState\u0026#34;: { \u0026#34;State\u0026#34;: \u0026#34;associated\u0026#34; } } ], \u0026#34;IsDefault\u0026#34;: false } } ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã®ä½œæˆ ç¶šã„ã¦ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆã—ã¾ã™ã€‚\nec2 create-security-group $ aws ec2 create-security-group help ... SYNOPSIS create-security-group --description \u0026lt;value\u0026gt; --group-name \u0026lt;value\u0026gt; [--vpc-id \u0026lt;value\u0026gt;] [--tag-specifications \u0026lt;value\u0026gt;] [--dry-run | --no-dry-run] [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] [--cli-auto-prompt \u0026lt;value\u0026gt;] ... --vpc-id ã¯å¿…é ˆã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€ çœç•¥ã™ã‚‹ã¨ default VPC ãŒå¯¾è±¡ã¨ãªã‚‹ ã®ã§ã€ã“ã“ã§ã¯æ˜ç¤ºçš„ã« VPC ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n$ aws ec2 create-security-group \\ --description \u0026#34;SG for michimani\u0026#34; \\ --group-name michimani-demo-sg \\ --vpc-id vpc-0f55f781234567890 { \u0026#34;GroupId\u0026#34;: \u0026#34;sg-03af1891234567890\u0026#34; } ec2 describe-security-groups ä½œæˆã—ãŸã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws ec2 describe-security-groups help ... SYNOPSIS describe-security-groups [--filters \u0026lt;value\u0026gt;] [--group-ids \u0026lt;value\u0026gt;] [--group-names \u0026lt;value\u0026gt;] [--dry-run | --no-dry-run] [--cli-input-json | --cli-input-yaml] [--starting-token \u0026lt;value\u0026gt;] [--page-size \u0026lt;value\u0026gt;] [--max-items \u0026lt;value\u0026gt;] [--generate-cli-skeleton \u0026lt;value\u0026gt;] [--cli-auto-prompt \u0026lt;value\u0026gt;] ... --group-names ã§ã‚°ãƒ«ãƒ¼ãƒ—åã§ã®å–å¾—ã‚‚ã§ãã¾ã™ãŒã€ã“ã‚Œã¯ default VPC ãŒå¯¾è±¡ã¨ãªã‚Šã¾ã™ã€‚è©¦ã—ã«å…ˆã»ã©ä½œæˆã—ãŸã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã®åå‰ã§å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨ InvalidGroup.NotFound ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã™ã€‚\n$ aws ec2 describe-security-groups \\ --group-names michimani-demo-sg An error occurred (InvalidGroup.NotFound) when calling the DescribeSecurityGroups operation: The security group \u0026#39;michimani-demo-sg\u0026#39; does not exist in default VPC \u0026#39;vpc-1234567890aaaaaaa\u0026#39; ãªã®ã§ã€ --group-ids ã§ã‚°ãƒ«ãƒ¼ãƒ— ID ã‚’æŒ‡å®šã—ã¦å–å¾—ã—ã¾ã™ã€‚\n$ aws ec2 describe-security-groups \\ --group-ids sg-03af1891234567890 { \u0026#34;SecurityGroups\u0026#34;: [ { \u0026#34;Description\u0026#34;: \u0026#34;SG for michimani\u0026#34;, \u0026#34;GroupName\u0026#34;: \u0026#34;michimani-demo-sg\u0026#34;, \u0026#34;IpPermissions\u0026#34;: [], \u0026#34;OwnerId\u0026#34;: \u0026#34;123456789012\u0026#34;, \u0026#34;GroupId\u0026#34;: \u0026#34;sg-03af1891234567890\u0026#34;, \u0026#34;IpPermissionsEgress\u0026#34;: [ { \u0026#34;IpProtocol\u0026#34;: \u0026#34;-1\u0026#34;, \u0026#34;IpRanges\u0026#34;: [ { \u0026#34;CidrIp\u0026#34;: \u0026#34;0.0.0.0/0\u0026#34; } ], \u0026#34;Ipv6Ranges\u0026#34;: [], \u0026#34;PrefixListIds\u0026#34;: [], \u0026#34;UserIdGroupPairs\u0026#34;: [] } ], \u0026#34;VpcId\u0026#34;: \u0026#34;vpc-0f55f781234567890\u0026#34; } ] } ã‚¢ã‚¦ãƒˆãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ« (IpPermissionsEgress) ã¨ã—ã¦ã€ã™ã¹ã¦ã®ãƒ—ãƒ­ãƒˆã‚³ãƒ« (-1) ã«å¯¾ã—ã¦ å…¨é–‹æ”¾ (0.0.0.0/0) ã•ã‚Œã¦ã„ã¾ã™ã€‚ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«ã®è¿½åŠ ãƒ»å‰Šé™¤ ç¶šã„ã¦ã¯ã€ä½œæˆã—ãŸã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã®ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ ãƒ»å‰Šé™¤ã—ã¦ã¿ã¾ã™ã€‚\nec2 authorize-security-group-ingress ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n$ aws ec2 authorize-security-group-ingress help ... SYNOPSIS authorize-security-group-ingress [--group-id \u0026lt;value\u0026gt;] [--group-name \u0026lt;value\u0026gt;] [--ip-permissions \u0026lt;value\u0026gt;] [--dry-run | --no-dry-run] [--protocol \u0026lt;value\u0026gt;] [--port \u0026lt;value\u0026gt;] [--cidr \u0026lt;value\u0026gt;] [--source-group \u0026lt;value\u0026gt;] [--group-owner \u0026lt;value\u0026gt;] [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] [--cli-auto-prompt \u0026lt;value\u0026gt;] ... ã“ã“ã§ã‚‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã®æŒ‡å®šã¯ã‚°ãƒ«ãƒ¼ãƒ—åã§ã‚‚å¯èƒ½ã§ã™ãŒã€ãã®å ´åˆã®å¯¾è±¡ã¯ default VPC ã¨ãªã‚Šã¾ã™ã€‚ ãªã®ã§ã€ã“ã“ã§ã‚‚ã‚°ãƒ«ãƒ¼ãƒ— ID ã§æŒ‡å®šã—ã¾ã™ã€‚ã¾ãŸã€ http ã¨ https ã§ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ãŸã‚ã€ 80 ã¨ 443 ãƒãƒ¼ãƒˆãã‚Œãã‚Œã«ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n$ aws ec2 authorize-security-group-ingress \\ --group-id sg-03af1891234567890 \\ --protocol tcp \\ --port 80 \\ --cidr 0.0.0.0/0 $ aws ec2 authorize-security-group-ingress \\ --group-id sg-03af1891234567890 \\ --protocol tcp \\ --port 443 \\ --cidr 0.0.0.0/0 ec2 authorize-security-group-ingress ã‚³ãƒãƒ³ãƒ‰ã¯ç‰¹ã«å‡ºåŠ›ãŒãªã„ã®ã§ã€ ec2 describe-security-groups ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws ec2 describe-security-groups \\ --group-ids sg-03af1891234567890 { \u0026#34;SecurityGroups\u0026#34;: [ { \u0026#34;Description\u0026#34;: \u0026#34;SG for michimani\u0026#34;, \u0026#34;GroupName\u0026#34;: \u0026#34;michimani-demo-sg\u0026#34;, \u0026#34;IpPermissions\u0026#34;: [ { \u0026#34;FromPort\u0026#34;: 80, \u0026#34;IpProtocol\u0026#34;: \u0026#34;tcp\u0026#34;, \u0026#34;IpRanges\u0026#34;: [ { \u0026#34;CidrIp\u0026#34;: \u0026#34;0.0.0.0/0\u0026#34; } ], \u0026#34;Ipv6Ranges\u0026#34;: [], \u0026#34;PrefixListIds\u0026#34;: [], \u0026#34;ToPort\u0026#34;: 80, \u0026#34;UserIdGroupPairs\u0026#34;: [] }, { \u0026#34;FromPort\u0026#34;: 443, \u0026#34;IpProtocol\u0026#34;: \u0026#34;tcp\u0026#34;, \u0026#34;IpRanges\u0026#34;: [ { \u0026#34;CidrIp\u0026#34;: \u0026#34;0.0.0.0/0\u0026#34; } ], \u0026#34;Ipv6Ranges\u0026#34;: [], \u0026#34;PrefixListIds\u0026#34;: [], \u0026#34;ToPort\u0026#34;: 443, \u0026#34;UserIdGroupPairs\u0026#34;: [] } ], \u0026#34;OwnerId\u0026#34;: \u0026#34;123456789012\u0026#34;, \u0026#34;GroupId\u0026#34;: \u0026#34;sg-03af1891234567890\u0026#34;, \u0026#34;IpPermissionsEgress\u0026#34;: [ { \u0026#34;IpProtocol\u0026#34;: \u0026#34;-1\u0026#34;, \u0026#34;IpRanges\u0026#34;: [ { \u0026#34;CidrIp\u0026#34;: \u0026#34;0.0.0.0/0\u0026#34; } ], \u0026#34;Ipv6Ranges\u0026#34;: [], \u0026#34;PrefixListIds\u0026#34;: [], \u0026#34;UserIdGroupPairs\u0026#34;: [] } ], \u0026#34;VpcId\u0026#34;: \u0026#34;vpc-0f55f781234567890\u0026#34; } ] } ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ« (IpPermissions) ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚\nec2 revoke-security-group-ingress å…ˆã»ã©ä½œæˆã—ãŸã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«ã‚’å‰Šé™¤ã—ã¾ã™ã€‚\n$ aws ec2 revoke-security-group-ingress help ... SYNOPSIS revoke-security-group-ingress [--group-id \u0026lt;value\u0026gt;] [--group-name \u0026lt;value\u0026gt;] [--ip-permissions \u0026lt;value\u0026gt;] [--dry-run | --no-dry-run] [--protocol \u0026lt;value\u0026gt;] [--port \u0026lt;value\u0026gt;] [--cidr \u0026lt;value\u0026gt;] [--source-group \u0026lt;value\u0026gt;] [--group-owner \u0026lt;value\u0026gt;] [--cli-input-json | --cli-input-yaml] [--generate-cli-skeleton \u0026lt;value\u0026gt;] [--cli-auto-prompt \u0026lt;value\u0026gt;] ... ã“ã“ã§ã‚‚ --group-name ã®æ‰±ã„ã¯åŒã˜ã§ã™ã€‚\nãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚„ãƒãƒ¼ãƒˆã€ CIDR ãƒ–ãƒ­ãƒƒã‚¯ã‚’æŒ‡å®šã—ã¦å€‹åˆ¥ã«å‰Šé™¤ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€ä¸€ã¤ä¸€ã¤å‰Šé™¤ã™ã‚‹ã®ã¯é¢å€’ã§ã™ã€‚ä»Šå›ã¯å¯¾è±¡ã®ã‚»ã‚­ãƒ¥ãƒªã‚°ãƒ«ãƒ¼ãƒ—å†…ã®ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«ã‚’ã§ãã‚‹ã ã‘å°‘ãªã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§å‰Šé™¤ã™ã‚‹ã“ã¨ã‚’ç›®æ¨™ã«ã—ã¦ã¿ã¾ã™ã€‚\nã‚°ãƒ«ãƒ¼ãƒ— ID ã®ã¿ã‚’æŒ‡å®š $ aws ec2 revoke-security-group-ingress \\ --group-id sg-03af1891234567890 An error occurred (MissingParameter) when calling the RevokeSecurityGroupIngress operation: Missing source specification: include source security group or CIDR information ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚ã©ã†ã‚„ã‚‰ã‚°ãƒ«ãƒ¼ãƒ— ID ã®ã¿ã®æŒ‡å®šã§ã¯å‰Šé™¤ã§ããªã„ã‚ˆã†ã§ã™ã€‚ CIDR ã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nã‚°ãƒ«ãƒ¼ãƒ— ID ã¨ CIDR ã‚’æŒ‡å®š $ aws ec2 revoke-security-group-ingress \\ --group-id sg-03af1891234567890 \\ --cidr 0.0.0.0/0 An error occurred (InvalidParameterValue) when calling the RevokeSecurityGroupIngress operation: Invalid value \u0026#39;null\u0026#39; for protocol. VPC security group rules must specify protocols explicitly. ã“ã‚Œã‚‚ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã—ãŸã€‚æ¬¡ã¯ ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’æŒ‡å®šã—ã‚ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nã‚°ãƒ«ãƒ¼ãƒ— ID ã¨ CIDR ã¨ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’æŒ‡å®š $ aws ec2 revoke-security-group-ingress \\ --group-id sg-03af1891234567890 \\ --protocol tcp \\ --cidr 0.0.0.0/0 An error occurred (InvalidParameterValue) when calling the RevokeSecurityGroupIngress operation: Invalid value \u0026#39;Must specify both from and to ports with TCP/UDP.\u0026#39; for portRange. ã“ã‚Œã‚‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚ä»Šåº¦ã¯ãƒãƒ¼ãƒˆ (ãƒãƒ¼ãƒˆãƒ¬ãƒ³ã‚¸) ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\u0026hellip;ãŸã ã€ã“ã‚Œã«ãƒãƒ¼ãƒˆã®æŒ‡å®šã‚’åŠ ãˆã‚‹ã¨ã€çµå±€å€‹åˆ¥ã«å‰Šé™¤ã™ã‚‹ã®ã¨åŒã˜ã«ãªã‚Šã¾ã™ã€‚\nã‚°ãƒ«ãƒ¼ãƒ— ID ã¨ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã¨ãƒãƒ¼ãƒˆã‚’æŒ‡å®š $ aws ec2 revoke-security-group-ingress \\ --group-id sg-03af1891234567890 \\ --protocol tcp \\ --port 80 ã‚¨ãƒ©ãƒ¼ã¯å‡ºã¾ã›ã‚“ã§ã—ãŸãŒã€ç¢ºèªã—ã¦ã¿ã‚‹ã¨ã¾ã ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«ã¯æ®‹ã£ã¦ã„ã¾ã™ã€‚\n$ aws ec2 describe-security-groups \\ --group-ids sg-03af1891234567890 \\ --query \u0026#34;SecurityGroups[].IpPermissions\u0026#34; [ [ { \u0026#34;FromPort\u0026#34;: 80, \u0026#34;IpProtocol\u0026#34;: \u0026#34;tcp\u0026#34;, \u0026#34;IpRanges\u0026#34;: [ { \u0026#34;CidrIp\u0026#34;: \u0026#34;0.0.0.0/0\u0026#34; } ], \u0026#34;Ipv6Ranges\u0026#34;: [], \u0026#34;PrefixListIds\u0026#34;: [], \u0026#34;ToPort\u0026#34;: 80, \u0026#34;UserIdGroupPairs\u0026#34;: [] }, { \u0026#34;FromPort\u0026#34;: 443, \u0026#34;IpProtocol\u0026#34;: \u0026#34;tcp\u0026#34;, \u0026#34;IpRanges\u0026#34;: [ { \u0026#34;CidrIp\u0026#34;: \u0026#34;0.0.0.0/0\u0026#34; } ], \u0026#34;Ipv6Ranges\u0026#34;: [], \u0026#34;PrefixListIds\u0026#34;: [], \u0026#34;ToPort\u0026#34;: 443, \u0026#34;UserIdGroupPairs\u0026#34;: [] } ] ] ã‚°ãƒ«ãƒ¼ãƒ— ID ã¨ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã¨ãƒãƒ¼ãƒˆã¨ CIDR ã‚’æŒ‡å®š $ aws ec2 revoke-security-group-ingress \\ --group-id sg-03af1891234567890 \\ --protocol tcp \\ --port 80 \\ --cidr 0.0.0.0/0 $ aws ec2 describe-security-groups \\ --group-ids sg-03af1891234567890 \\ --query \u0026#34;SecurityGroups[].IpPermissions\u0026#34; [ [ { \u0026#34;FromPort\u0026#34;: 443, \u0026#34;IpProtocol\u0026#34;: \u0026#34;tcp\u0026#34;, \u0026#34;IpRanges\u0026#34;: [ { \u0026#34;CidrIp\u0026#34;: \u0026#34;0.0.0.0/0\u0026#34; } ], \u0026#34;Ipv6Ranges\u0026#34;: [], \u0026#34;PrefixListIds\u0026#34;: [], \u0026#34;ToPort\u0026#34;: 443, \u0026#34;UserIdGroupPairs\u0026#34;: [] } ] ] ã¨ã„ã†ã“ã¨ã§ã€çµå±€ ã‚°ãƒ«ãƒ¼ãƒ— ID ã€ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã€ãƒãƒ¼ãƒˆã€ CIDR ã‚’æŒ‡å®šã—ã¦å€‹åˆ¥ã«å‰Šé™¤ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚\nã¾ã¨ã‚ AWS CLI ã‚’ä½¿ã£ã¦ EC2 ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã‚’æ“ä½œã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ä¸­ã®å•é¡Œã¨ã—ã¦ã€è‡ªå®…ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã® IP ãŒé »ç¹ã«å¤‰ã‚ã£ã¦ã—ã¾ã†æ–¹ã‚‚ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚ãã®ãŸã³ã«ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«ã®å¤‰æ›´ãŒç™ºç”Ÿã—ã¦ã—ã¾ã†ã¨ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ä½œæ¥­ã™ã‚‹ã®ã¯è¾›ã„ã®ã§ã€ CLI ã§ã‚µã‚¯ãƒƒã¨ã‚„ã£ã¦ã—ã¾ã†ã®ãŒæ¥½ã§ã™ã­ã€‚\nãŸã ã€ã§ãã‚‹ã“ã¨ãªã‚‰ VPN çµŒç”±ã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãªã©ã€é »ç¹ã«ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«ã‚’å¤‰æ›´ã™ã‚‹ã®ã¯é¿ã‘ãŸã»ã†ãŒã„ã„ã¨æ€ã„ã¾ã™ãŒã€‚\n",
    "permalink": "https://michimani.net/post/aws-handle-security-group-via-cli/",
    "title": "AWS CLI ã§ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã‚’è§¦ã£ã¦ã¿ã‚‹"
  },
  {
    "contents": "Google Analytics ã® Reporting API v4 ã‚’ä½¿ã£ã¦å®šæœŸçš„ã« PV ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’ç”Ÿæˆã—ã¦ã€ãã®çµæœã‚’ Amazon S3 ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹å‡¦ç†ã‚’ AWS Lambda ã§å®Ÿè£…ã—ã€è«¸ã€…ã®æ§‹æˆã‚’ AWS CDK ã‚’ä½¿ã£ã¦ç®¡ç†ã™ã‚‹ã‚ˆã†ãªã‚‚ã®ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚\nPV æ•°ã®å–å¾—ã¾ã§ã¯ä»¥å‰ã«ã‚‚ã‚„ã£ã¦ã„ãŸã®ã§ã€ä»Šå›ã¯ãã‚Œã‚’ Lambda ã§å®Ÿè£…ã€çµæœã‚’ S3 ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã—ãŸã€‚\nç›®æ¬¡ æ¦‚è¦ å‰æ å®Ÿè£… Lambda é–¢æ•° CDK ãƒ‡ãƒ—ãƒ­ã‚¤ Python ã®å¤–éƒ¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« CDK ã®ãƒ‡ãƒ—ãƒ­ã‚¤ ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½¿ã„æ‰€ ã¾ã¨ã‚ æ¦‚è¦ Google Analytics Reporting API ã§ç›´è¿‘ä¸€é€±é–“ã®å„ãƒšãƒ¼ã‚¸ã”ã¨ã® PV æ•°ã‚’å–å¾— ä¸Šä½ 5 ä»¶ã«ã¤ã„ã¦ã€ãƒšãƒ¼ã‚¸ã® URL ã¨ã‚¿ã‚¤ãƒˆãƒ«ã‚’ä¿æŒã—ãŸæƒ…å ±ã‚’ JSON å½¢å¼ã«ã—ã¦ S3 ãƒã‚±ãƒƒãƒˆã« PUT ã“ã®å‡¦ç†ã‚’ã€ Amazon EventBridge ã§å®šæœŸçš„ã«å®Ÿè¡Œ ä»¥ä¸Šã®å‡¦ç†ã‚’ã™ã‚‹æ§‹æˆã‚’ã€ AWS CDK ã‚’ä½¿ã£ã¦å®Ÿè£…ã—ã¾ã—ãŸã€‚\næ§‹æˆå›³ã¨ã—ã¦ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nPUT å¯¾è±¡ã¨ãªã‚‹ S3 ãƒã‚±ãƒƒãƒˆã¯æ—¢ã«å­˜åœ¨ã—ã¦ã„ã‚‹ã‚‚ã®ã¨ã—ã¦ã€ CDK ã§ã®ç®¡ç†ã‹ã‚‰é™¤å¤–ã—ã¦ã„ã¾ã™ã€‚ã¾ãŸã€ Google ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼ã«ã¤ã„ã¦ã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã‹ã‚‰ AWS CLI ã§ SSM ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã« PUT ã™ã‚‹ã‚‚ã®ã¨ã—ã¦ã€ã“ã¡ã‚‰ã‚‚ CDK ã§ã®ç®¡ç†ã‹ã‚‰é™¤å¤–ã—ã¦ã„ã¾ã™ã€‚\nãªã®ã§ CDK ã§ç®¡ç†ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã¯ã€ EventBridge ã®ãƒ«ãƒ¼ãƒ«ã¨ Lambda é–¢æ•° (ã¨ãã‚Œã«ä»˜éšã™ã‚‹ IAM ãƒãƒªã‚·ãƒ¼) ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nå‰æ Reporting API v4 ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®èªè¨¼æƒ…å ± (client_secrets.json) ãŒæ‰‹å…ƒã«ã‚ã‚‹ ä¸Šè¨˜ã®æº–å‚™ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®å…¬å¼ãƒ¬ã‚¤ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nã¯ã˜ã‚ã¦ã®ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ Reporting API v4: ã‚µãƒ¼ãƒ“ã‚¹ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‘ã‘ Python ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ å®Ÿè£… è©³ç´°ã«ã¤ã„ã¦ã¯ GitHub ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’å‚ç…§ã—ã¦ã‚‚ã‚‰ãˆã‚Œã°ã¨æ€ã†ã®ã§ã€ã“ã“ã§ã¯ Lambda é–¢æ•°ã®ä¸­èº«ã¨ CDK ã®è¨˜è¿°ã«ã¤ã„ã¦ç°¡å˜ã«èª¬æ˜ã—ã¾ã™ã€‚\nLambda é–¢æ•° Lambda é–¢æ•°ã¯ Python 3.7 ã§å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚é–¢æ•°ã®ä¸­èº«ã®å‰ã«ã€ CDK ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã«ã¤ã„ã¦æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nCDK ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ ä»Šå›ã¯ Google Analytics ã® Reporting API ã‚’ä½¿ã†ã¨ã„ã†ã“ã¨ã§ã€ä¸‹è¨˜ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚\ngoogle-api-python-client google-auth-httplib2 google-auth-oauthlib ã¾ãŸã€ Reporting API ã§ã¯ä¸€å›ã§å„ãƒšãƒ¼ã‚¸ã®ã‚¿ã‚¤ãƒˆãƒ«ã¾ã§å–å¾—ã§ããªã„ã®ã§ã€ä¸Šä½ 5 ä»¶ã®ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«ã‚’å–å¾—ã™ã‚‹ãŸã‚ã« requests ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚\nãƒªãƒã‚¸ãƒˆãƒªå†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã¨ã—ã¦ã¯ã€ç›´ä¸‹ã« lambda ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã€ãã®ä¸­ã¯æ¬¡ã®ã‚ˆã†ãªæ§‹æˆã¨ã—ã¦ã„ã¾ã™ã€‚\nlambda â”œâ”€â”€ dist â”œâ”€â”€ requirements.txt â””â”€â”€ src â””â”€â”€ fetch_rank.py ã‚ã¨ã§æ›¸ãã¾ã™ãŒã€ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã«ã¯ dist ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ Lambda ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç”¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ã—ã¦ä½¿ã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ã—ã¾ã™ã€‚\né–¢æ•°ã®å®Ÿè£…å†…å®¹ Lambda é–¢æ•°ã®å®Ÿè£…ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nfrom google.oauth2 import service_account from googleapiclient.discovery import build import boto3 import json import logging import os import re import traceback import requests SCOPES = [\u0026#39;https://www.googleapis.com/auth/analytics.readonly\u0026#39;] CLIENT_SECRET_SSM_KEY = os.environ.get(\u0026#39;CLIENT_SECRET_SSM_KEY\u0026#39;) VIEW_ID = os.environ.get(\u0026#39;VIEW_ID\u0026#39;) OUT_S3_BUCKET = os.environ.get(\u0026#39;OUT_S3_BUCKET\u0026#39;) OUT_JSON_KEY = os.environ.get(\u0026#39;OUT_JSON_KEY\u0026#39;) SITE_BASE_URL = os.environ.get(\u0026#39;SITE_BASE_URL\u0026#39;) s3 = boto3.resource(\u0026#39;s3\u0026#39;) ssm = boto3.client(\u0026#39;ssm\u0026#39;) logger = logging.getLogger() logger.setLevel(logging.INFO) def get_ssm_param(key): # type: (str) -\u0026gt; str \u0026#34;\u0026#34;\u0026#34; Get parameter fron SSM Parameter Store. Args: key: string for SSM parameter store key Returns: string \u0026#34;\u0026#34;\u0026#34; response = ssm.get_parameters( Names=[ key, ], WithDecryption=True ) return response[\u0026#39;Parameters\u0026#39;][0][\u0026#39;Value\u0026#39;] def initialize_analyticsreporting(): # type: () -\u0026gt; build \u0026#34;\u0026#34;\u0026#34;Initializes an Analytics Reporting API V4 service object. Returns: An authorized Analytics Reporting API V4 service object. \u0026#34;\u0026#34;\u0026#34; client_secret_string = get_ssm_param(CLIENT_SECRET_SSM_KEY) client_secret = json.loads(client_secret_string) credentials = service_account.Credentials.from_service_account_info( client_secret, scopes=SCOPES) # Build the service object. analytics = build(\u0026#39;analyticsreporting\u0026#39;, \u0026#39;v4\u0026#39;, credentials=credentials, cache_discovery=False) return analytics def get_report(analytics): # type: (build) -\u0026gt; dict \u0026#34;\u0026#34;\u0026#34;Queries the Analytics Reporting API V4. Args: analytics: An authorized Analytics Reporting API V4 service object. Returns: The Analytics Reporting API V4 response. \u0026#34;\u0026#34;\u0026#34; return analytics.reports().batchGet( body={ \u0026#39;reportRequests\u0026#39;: [ { \u0026#39;viewId\u0026#39;: VIEW_ID, \u0026#39;dateRanges\u0026#39;: [{\u0026#39;startDate\u0026#39;: \u0026#39;7daysAgo\u0026#39;, \u0026#39;endDate\u0026#39;: \u0026#39;yesterday\u0026#39;}], \u0026#39;metrics\u0026#39;: [{\u0026#39;expression\u0026#39;: \u0026#39;ga:pageviews\u0026#39;}], \u0026#39;dimensions\u0026#39;: [{\u0026#39;name\u0026#39;: \u0026#39;ga:pagePath\u0026#39;}] }] } ).execute() def calc(response): # type: (dict) -\u0026gt; () \u0026#34;\u0026#34;\u0026#34;Calculate page views of each page path. Args: response: The Analytics Reporting API V4 response. \u0026#34;\u0026#34;\u0026#34; calc_res = dict() pv_summary = [] report = response.get(\u0026#39;reports\u0026#39;, [])[0] for report_data in report.get(\u0026#39;data\u0026#39;, {}).get(\u0026#39;rows\u0026#39;, []): # get page path page_path = report_data.get(\u0026#39;dimensions\u0026#39;, [])[0] # ignore query parameters page_path = re.sub(r\u0026#39;\\?.+$\u0026#39;, \u0026#39;\u0026#39;, page_path) # get page view page_view = int(report_data.get(\u0026#39;metrics\u0026#39;, [])[0].get(\u0026#39;values\u0026#39;)[0]) if page_path in calc_res: calc_res[page_path] += page_view else: calc_res[page_path] = page_view for path in calc_res: pv_summary.append({ \u0026#39;page_path\u0026#39;: path, \u0026#39;page_views\u0026#39;: calc_res[path] }) # sort by page views pv_summary.sort( key=lambda path_data: path_data[\u0026#39;page_views\u0026#39;], reverse=True) return pv_summary def report_to_rank(report, count=5): # type: (list) -\u0026gt; list \u0026#34;\u0026#34;\u0026#34; Convert report data to ranking data Args: report: list object to convert count: number of ranking post. default is 5 Returns: list \u0026#34;\u0026#34;\u0026#34; if count == 0 or len(report) \u0026lt; count: count = 5 rank_tmp = report[:count] rank = list() try: for rt in rank_tmp: post_url = SITE_BASE_URL + rt[\u0026#39;page_path\u0026#39;] rank.append({ \u0026#39;post_url\u0026#39;: post_url, \u0026#39;post_title\u0026#39;: get_post_title(post_url)}) except Exception: print(\u0026#39;An error occured in getting post title process.\u0026#39;) print(traceback.format_exc()) return rank def get_post_title(post_url): # type: (str) -\u0026gt; str \u0026#34;\u0026#34;\u0026#34; Get post title from post url Args: post_url: URL of the post Returns: string \u0026#34;\u0026#34;\u0026#34; post_title = \u0026#39;\u0026#39; try: res = requests.get(post_url) body = res.text post_title = re.sub(r\u0026#39;[\\s\\S]+\u0026lt;title\u0026gt;(.*)\u0026lt;\\/title\u0026gt;[\\s\\S]+\u0026#39;, r\u0026#39;\\1\u0026#39;, body) except Exception: print(f\u0026#39;Failed to get post title of \u0026#34;{post_url}\u0026#34;\u0026#39;) print(traceback.format_exc()) return post_title def put_to_s3(data, key): # type: (dict, str) -\u0026gt; () \u0026#34;\u0026#34;\u0026#34; Put object to S3 bucket Args: data: dict or list object to put as JSON. key: object key \u0026#34;\u0026#34;\u0026#34; try: s3obj = s3.Object(OUT_S3_BUCKET, key) body = json.dumps(data, ensure_ascii=False) s3obj.put( Body=body, ContentType=\u0026#39;application/json;charset=UTF-8\u0026#39;, CacheControl=\u0026#39;public, max-age=1209600\u0026#39;) except Exception: logger.error(\u0026#39;Put count data failed: %s\u0026#39;, traceback.format_exc()) def main(event, context): analytics = initialize_analyticsreporting() response = get_report(analytics) summary = calc(response) rank = report_to_rank(summary) put_to_s3(rank, OUT_JSON_KEY) if __name__ == \u0026#39;__main__\u0026#39;: print(\u0026#39;Running at local...\\n\\n\u0026#39;) analytics = initialize_analyticsreporting() response = get_report(analytics) summary = calc(response) rank = report_to_rank(summary) print(json.dumps(rank, indent=2, ensure_ascii=False)) ã»ã¼ å‰å› ã¨åŒã˜ã§ã™ãŒã€ä¸Šä½ 5 ä»¶ã®ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«ã«ã¤ã„ã¦ã¯ requests ã‚’ä½¿ã£ã¦å–å¾—ã—ã¦ã„ã¾ã™ã€‚\nã¾ãŸã€ äº‹å‰ã« client_secrets.json ã®æƒ…å ±ã‚’ SSM ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã«ç™»éŒ²ã—ã¦ãŠãã€ Lambda é–¢æ•°å†…ã§å–å¾—ã—ã¦åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚\nãã—ã¦ã€æœ€å¾Œã«ã¯ S3 ãƒã‚±ãƒƒãƒˆã« PUT ã—ã¦ã„ã¾ã™ã€‚\nãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œã™ã‚‹éš›ã«ã¯ã€ S3 ãƒã‚±ãƒƒãƒˆã« PUT ã™ã‚‹ã®ã§ã¯ãªãæ¨™æº–å‡ºåŠ›ã«ç”Ÿæˆã•ã‚ŒãŸ JSON ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚\nCDK ç¶šã„ã¦ CDK ã®ãƒ¡ã‚¤ãƒ³ã¨ãªã‚‹ã‚¹ã‚¿ãƒƒã‚¯ã®è¨˜è¿°ã«ã¤ã„ã¦ã§ã™ã€‚ CDK ã«ã¤ã„ã¦ã¯ TypeScript ã§è¨˜è¿°ã—ã¦ã„ã¾ã™ã€‚\nç’°å¢ƒä¾å­˜ã®å€¤ã«ã¤ã„ã¦ã¯ã€æ¬¡ã®ã‚ˆã†ãª stac-config.json ã«ã¾ã¨ã‚ã¦ã€ãã“ã‹ã‚‰å€¤ã‚’å–å¾—ã—ã¦åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚\n{ \u0026#34;lambda\u0026#34;: { \u0026#34;env\u0026#34;: { \u0026#34;client_secret_ssm_key\u0026#34;: \u0026#34;google-client-secret\u0026#34;, \u0026#34;view_id\u0026#34;: \u0026#34;00000000\u0026#34;, \u0026#34;out_s3_bucket\u0026#34;: \u0026#34;\u0026lt;aleady-exists-your-bucket\u0026gt;\u0026#34;, \u0026#34;out_json_key\u0026#34;: \u0026#34;data/rank.json\u0026#34;, \u0026#34;site_base_url\u0026#34;: \u0026#34;\u0026lt;your-site-base-url\u0026gt;\u0026#34; } }, \u0026#34;event_bridge\u0026#34;: { \u0026#34;cron_expression\u0026#34;: \u0026#34;0 15 * * ? *\u0026#34; } } ä»Šå›ã¯ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹æˆãªã®ã§ã€ã‚¹ã‚¿ãƒƒã‚¯ã¯åˆ†å‰²ã›ãšä¸€ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ« lib/export-pv-rank-stack.ts ã§æ›¸ã„ã¦ã„ã¾ã™ã€‚\nimport * as cdk from \u0026#39;@aws-cdk/core\u0026#39;; import lambda = require(\u0026#39;@aws-cdk/aws-lambda\u0026#39;); import iam = require(\u0026#39;@aws-cdk/aws-iam\u0026#39;); import events = require(\u0026#39;@aws-cdk/aws-events\u0026#39;); import targets = require(\u0026#39;@aws-cdk/aws-events-targets\u0026#39;); import fs = require(\u0026#39;fs\u0026#39;); export class ExportPvRankStack extends cdk.Stack { constructor(scope: cdk.Construct, id: string, props?: cdk.StackProps) { super(scope, id, props); const stackConfig = JSON.parse(fs.readFileSync(\u0026#39;stack-config.json\u0026#39;, {encoding: \u0026#39;utf-8\u0026#39;})); // Lambda function const lambdaFn = new lambda.Function(this, \u0026#39;fetchRank\u0026#39;, { code: new lambda.AssetCode(\u0026#39;lambda/dist\u0026#39;), runtime: lambda.Runtime.PYTHON_3_7, handler: \u0026#39;fetch_rank.main\u0026#39;, timeout: cdk.Duration.seconds(300), environment: { \u0026#39;CLIENT_SECRET_SSM_KEY\u0026#39;: stackConfig[\u0026#39;lambda\u0026#39;][\u0026#39;env\u0026#39;][\u0026#39;client_secret_ssm_key\u0026#39;], \u0026#39;VIEW_ID\u0026#39;: stackConfig[\u0026#39;lambda\u0026#39;][\u0026#39;env\u0026#39;][\u0026#39;view_id\u0026#39;], \u0026#39;OUT_S3_BUCKET\u0026#39;: stackConfig[\u0026#39;lambda\u0026#39;][\u0026#39;env\u0026#39;][\u0026#39;out_s3_bucket\u0026#39;], \u0026#39;OUT_JSON_KEY\u0026#39;: stackConfig[\u0026#39;lambda\u0026#39;][\u0026#39;env\u0026#39;][\u0026#39;out_json_key\u0026#39;], \u0026#39;SITE_BASE_URL\u0026#39;: stackConfig[\u0026#39;lambda\u0026#39;][\u0026#39;env\u0026#39;][\u0026#39;site_base_url\u0026#39;], } }); lambdaFn.addToRolePolicy(new iam.PolicyStatement({ actions: [ \u0026#39;s3:PutObject\u0026#39;, \u0026#39;ssm:DescribeParameters\u0026#39;, ], resources: [\u0026#39;*\u0026#39;] })); lambdaFn.addToRolePolicy(new iam.PolicyStatement({ actions: [ \u0026#39;ssm:GetParameter\u0026#39;, \u0026#39;ssm:GetParameters\u0026#39;, \u0026#39;ssm:GetParameterHistory\u0026#39;, \u0026#39;ssm:GetParametersByPath\u0026#39;, ], resources: [\u0026#39;arn:aws:ssm:*\u0026#39;] })); // EventBridge rule const fetchPvRanking = new events.Rule(this, \u0026#39;FetchPvRanking\u0026#39;, { schedule: events.Schedule.expression(`cron(${stackConfig.event_bridge.cron_expression})`) }); fetchPvRanking.addTarget(new targets.LambdaFunction(lambdaFn)); } } stac-config.json ã§ã¯ Lambda é–¢æ•°ç”¨ã®ç’°å¢ƒå¤‰æ•°ã‚‚ä¿æŒã—ã¦ã„ã‚‹ã®ã§ã€ Lambda é–¢æ•°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã™ã‚‹éš›ã« environment ã§æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\nå‰è¿°ã—ã¾ã—ãŸãŒã€ä»Šå›ã¯å¤–éƒ¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãŸã‚ã€ãã‚Œã‚‰ã‚’ Lambda ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ CDK ã§ã¯ æ¬¡ã®ã‚ˆã†ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚\nnew lambda.AssetCode(\u0026#39;lambda/dist\u0026#39;) ã“ã‚Œã‚’ new lambda.Function() ã® code ã«æ¸¡ã›ã°ã‚ªãƒƒã‚±ãƒ¼ã§ã™ã€‚\nãƒ‡ãƒ—ãƒ­ã‚¤ CDK ã®ãƒ‡ãƒ—ãƒ­ã‚¤è‡ªä½“ã¯ cdk synth ã‹ã‚‰ã® cdk deploy ã‚³ãƒãƒ³ãƒ‰ã§å®Œäº†ã—ã¾ã™ãŒã€ãã®å‰ã«å°‘ã—æº–å‚™ã‚’ã—ã¾ã™ã€‚\nPython ã®å¤–éƒ¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ä»Šå›ã¯ Python ã®å¤–éƒ¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã®ã§ã€ãã‚Œã‚‰ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç”¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª lambda/dist ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ pip3 install --upgrade -r ./lambda/requirements.txt -t ./lambda/dist/ æœ¬æ¥ã§ã‚ã‚Œã° Lambda ã®å®Ÿè¡Œç’°å¢ƒã§ã‚ã‚‹ Amazon Linux ä¸Šã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã†ã¹ãã§ã™ãŒã€ä»Šå›ã¯ OS ä¾å­˜ã¨ãªã‚‹ã‚ˆã†ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å«ã¾ãªã„ãŸã‚ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚\nã¡ãªã¿ã«ã€ç”»åƒå‡¦ç†ç”¨ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã‚ã‚‹ Pillow ã«ã¤ã„ã¦ã¯ OS ä¾å­˜ã¨ãªã‚‹ãŸã‚ã€ã—ã£ã‹ã‚Šã¨ç’°å¢ƒã‚’ç”¨æ„ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã‚ã¨ã¯ã€ lambda/src å†…ã«ã‚ã‚‹é–¢æ•°æœ¬ä½“ã¨ãªã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚‚ lambda/dist ã«ã‚³ãƒ”ãƒ¼ã—ã¦ãŠãã¾ã™ã€‚\n$ cp -f ./lambda/src/fetch_rank.py ./lambda/dist/ ã“ã‚Œã§æº–å‚™ã¯å®Œäº†ã§ã™ã€‚\nCDK ã®ãƒ‡ãƒ—ãƒ­ã‚¤ $ cdk synth ã§ CLoudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”Ÿæˆã—ã¦\n$ cdk deploy ã§ ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚\nä»Šå›ã¯ IAM ã«é–¢ã™ã‚‹å¤‰æ›´ãƒ»è¿½åŠ ãŒç™ºç”Ÿã™ã‚‹ãŸã‚ã€ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã«ç¢ºèªã•ã‚Œã¾ã™ã€‚\nã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½¿ã„æ‰€ æœ€å¾Œã«ã€ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½¿ã„æ‰€ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚\nãƒ–ãƒ­ã‚°ã§ã‚ˆãã‚ã‚‹ã€Œæœ€è¿‘èª­ã¾ã‚Œã¦ã„ã‚‹è¨˜äº‹ã€ã¿ãŸã„ãªã‚‚ã®ã‚’é™çš„ã‚µã‚¤ãƒˆã§ã‚‚å®Ÿç¾ã—ãŸã„ã¨æ€ã„ã€Google Analytics Reporting API v4 ã‚’ä½¿ã£ã¦ç›´è¿‘ä¸€é€±é–“ã®ãƒšãƒ¼ã‚¸ã”ã¨ã® PV æ•°ã‚’å–å¾—ã—ã¦ã¿ã¾ã—ãŸã€‚å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ JSON ã¨ã‹ã§ä¿æŒã—ã¦ãŠã‘ã°ã€å‰æ—¥ã¾ã§ã®ãƒ‡ãƒ¼ã‚¿ã§ PV ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãŒä½œæˆã§ããã†ã§ã™ã€‚\nã“ã‚Œã¾ãŸ å‰å› ã®ãƒ–ãƒ­ã‚°ã§å†’é ­ã§æ›¸ã„ã¦ã„ãŸå†…å®¹ãªã‚“ã§ã™ãŒã€ã¾ã•ã«ã“ã‚Œã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ãªã‚“ã§ã™ã€‚\né™çš„ã‚µã‚¤ãƒˆã§ã¯ã‚ã‚‰ã‹ã˜ã‚å„ãƒšãƒ¼ã‚¸ãŒ HTML ã§ç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€å‹•çš„ãªæƒ…å ±ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ã¯å·¥å¤«ãŒå¿…è¦ã§ã™ã€‚ SNS ã§ã®ã‚·ã‚§ã‚¢æ•°ãªã©ã‚‚åŒã˜ã§ã€å®Ÿéš›ã«ã“ã®ãƒ–ãƒ­ã‚°ã§ã¯å„è¨˜äº‹ã® ã¯ã¦ãƒ–æ•° ã‚’å®šæœŸçš„ã«å–å¾—ã—ã¦ JSON ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ç”Ÿæˆã—ã€ãƒšãƒ¼ã‚¸è¡¨ç¤ºæ™‚ã« JavaScript ã§ãã®å€¤ã‚’å–å¾—ãƒ»è¡¨ç¤ºã•ã›ã¦ã„ã¾ã™ã€‚\nä»Šå›ã¯ã“ã‚Œã¨åŒæ§˜ã®è€ƒãˆã§ã€é–²è¦§æ•°ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’ä½œã‚ŠãŸã„ã¨ã„ã†æ€ã„ã§ä½œã‚Šã¾ã—ãŸã€‚ãªã®ã§ã€åŒã˜ã‚ˆã†ã«é™çš„ã‚µã‚¤ãƒˆã§ãƒšãƒ¼ã‚¸ã®é–²è¦§æ•°ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’ä½œã‚ŠãŸã„ã¨ã„ã†æ–¹ã«ã¯å‚è€ƒã«ãªã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nã¾ã¨ã‚ Google Analytics ã® Reporting API v4 ã‚’ä½¿ã£ã¦ PV ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’ç”Ÿæˆã—ã¦ã€ãã®çµæœã‚’ Amazon S3 ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹å‡¦ç†ã‚’ AWS Lambda ã§å®Ÿè£…ã—ã€è«¸ã€…ã®æ§‹æˆã‚’ AWS CDK ã‚’ä½¿ã£ã¦ç®¡ç†ã™ã‚‹ã‚ˆã†ãªã‚‚ã®ã‚’ä½œã£ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\né™çš„ã‚µã‚¤ãƒˆã§å‹•çš„ãªæƒ…å ±ã‚’è¡¨ç¤ºã•ã›ã‚‹ã¨ãã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-export-pv-rank-to-s3-by-cdk-project/",
    "title": "Google Analytics Reporting API ã‚’å®šæœŸå®Ÿè¡Œã™ã‚‹ Lambda ã‚’ CDK ã§æ§‹ç¯‰ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "Amazon S3 ã«ã¤ã„ã¦èª¬æ˜ã™ã‚‹æ©Ÿä¼šãŒã‚ã‚Šã€ã‚ã‚‰ãŸã‚ã¦ä»•æ§˜ã¨ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ã¤ã„ã¦èª¿ã¹ãŸã®ã§ãƒ–ãƒ­ã‚°è¨˜äº‹ã¨ã—ã¦ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸã€‚\næ¦‚è¦ å‰æ Amazon S3 ã®æ¦‚è¦ ç”¨èªã®èª¬æ˜ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ æ–™é‡‘ Amazon S3 ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ å®¹é‡ç„¡åˆ¶é™ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ é™çš„ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã«ã‚ˆã‚‹ä»–ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€£æº ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦ä¸€æ‹¬å‡¦ç†ã™ã‚‹ S3 ãƒãƒƒãƒã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ ã¾ã¨ã‚ å‰æ AWS ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ Amazon S3 ãŒã©ã†ã„ã£ãŸã‚µãƒ¼ãƒ“ã‚¹ãªã®ã‹ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å†…å®¹ã‚’ã‚‚ã¨ã«ã—ã¦è‡ªåˆ†ãªã‚Šã«ä»•æ§˜ã¨ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ã¤ã„ã¦ã¾ã¨ã‚ã¦ã¿ã¾ã™ã€‚\nCloudFront ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä»•æ§˜ã«å¼•ãç¶šã„ã¦ã€ã‚ã‚‰ãŸã‚ã¦èª¿ã¹ã¦ã¿ãŸã‚·ãƒªãƒ¼ã‚º(?) ã§ã™ã€‚\nAmazon S3 ã®æ¦‚è¦ Amazon Simple Storage Service ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆç”¨ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚ã¾ãŸã€ã‚¦ã‚§ãƒ–ã‚¹ã‚±ãƒ¼ãƒ«ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’é–‹ç™ºè€…ãŒç°¡å˜ã«åˆ©ç”¨ã§ãã‚‹ã‚ˆã†è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nAmazon S3 ã¨ã¯ - Amazon Simple Storage Service å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯ã“ã®ã‚ˆã†ã«èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚\næ—¢å­˜ã®ã‚µãƒ¼ãƒã«ãƒã‚¦ãƒ³ãƒˆã™ã‚‹ã‚ã‘ã§ã¯ãªãã€ AWS CLI ã‚„ SDK ã‚’ç”¨ã„ã¦ãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚(ãƒã‚¦ãƒ³ãƒˆã—ãŸã‚ˆã†ã«æ‰±ã†ã“ã¨ãŒã§ãã‚‹ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®ãƒ„ãƒ¼ãƒ«ã‚‚å­˜åœ¨ã—ã¾ã™ãŒã€ä»Šå›ã¯ç´”ç²‹ãª S3 ã®èª¬æ˜ã¨ã„ã†ã“ã¨ã§è§¦ã‚Œã¾ã›ã‚“)\nã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«å…¬é–‹ã•ã‚ŒãŸã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãªã®ã§ã€æ ¼ç´ã—ãŸãƒ‡ãƒ¼ã‚¿ã«ã¯ https://examplebucket.s3.us-west-2.amazonaws.com/images/sample.jpg ã®ã‚ˆã†ãª URL ã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã§ãã¦ã—ã¾ã„ã¾ã™ã€‚å¾Œè¿°ã—ã¾ã™ãŒã€ãƒ‡ãƒ¼ã‚¿ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™è¨­å®šã‚’èª¤ã‚‹ã¨èª°ã§ã‚‚ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¦ã—ã¾ã†ã®ã§æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚\nç”¨èªã®èª¬æ˜ S3 ã®è©³ç´°ãªèª¬æ˜ã®å‰ã«ã€ã“ã®ã‚ã¨å‡ºã¦ãã‚‹ç”¨èªã®èª¬æ˜ã§ã™ã€‚\nãƒã‚±ãƒƒãƒˆ S3 ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ã‚³ãƒ³ãƒ†ãƒŠ (åå‰ç©ºé–“) ã®ã“ã¨ã§ã™ã€‚ãƒã‚±ãƒƒãƒˆåã¯ã€å…¨ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŠã‚ˆã³å…¨ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’é€šã˜ã¦ä¸€æ„ãªå€¤ã¨ãªã‚Šã¾ã™ã€‚\nã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ S3 ã«æ ¼ç´ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãã®ã‚‚ã®ã§ã™ã€‚ S3 ã«æ ¼ç´ã•ã‚Œã‚‹ã¨è¨€ã£ã¦ã‚‚ã€ã„ãšã‚Œã‹ã®ãƒã‚±ãƒƒãƒˆã«æ ¼ç´ã•ã‚Œã‚‹ã¨ã„ã†æ„å‘³ã§ã™ã€‚\nã‚­ãƒ¼ ãƒã‚±ãƒƒãƒˆå†…ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å›ºæœ‰ã®è­˜åˆ¥å­ã§ã™ã€‚\nãƒªãƒ¼ã‚¸ãƒ§ãƒ³ ãƒã‚±ãƒƒãƒˆã‚’ä¿æŒã™ã‚‹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã™ã€‚ãã®ãƒã‚±ãƒƒãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®åœ°ç†çš„ãªæ¡ä»¶ã‚„ã€è¤‡æ•°ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¸ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆ†æ•£ãªã©ã€ä½¿ç”¨ç”¨é€”ã«åˆã‚ã›ã¦ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’é¸æŠã—ã¾ã™ã€‚\nã“ã‚Œã‚‰ã®æƒ…å ±ã¯ä¸Šã§æŒ™ã’ãŸ https://examplebucket.s3.us-west-2.amazonaws.com/images/sample.jpg ã«ã™ã¹ã¦å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚\nexamplebucket ãŒãƒã‚±ãƒƒãƒˆåã€ us-west-2 ãŒãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã€ images/sample.jpg ãŒã‚­ãƒ¼ã€ sample.jpg ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ãªã‚Šã¾ã™ã€‚\nã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ ä¸Šã«ã‚‚æ›¸ã„ãŸã‚ˆã†ã«ã€ S3 ã«æ ¼ç´ã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã§ãã¦ã—ã¾ã„ã¾ã™ã€‚(å¤§äº‹ãªã“ã¨ãªã®ã§)\nãã®ãŸã‚ã€é©åˆ‡ã«ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’è¨­å®šã—ã¦ãŠã‹ãªã„ã¨æƒ…å ±æ¼ãˆã„ã®å±é™ºã‚‚ã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚\nã¨ã¯è¨€ã£ã¦ã‚‚ã€ç¾æ™‚ç‚¹ (2020/07) ã§ã¯æ–°ãŸã« S3 ãƒã‚±ãƒƒãƒˆã‚’ä½œæˆã™ã‚‹éš›ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ãƒã‚±ãƒƒãƒˆã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã¯ã™ã¹ã¦ãƒ–ãƒ­ãƒƒã‚¯ã®è¨­å®šã¨ãªã‚Šã¾ã™ã€‚ãã®ãŸã‚ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰ã¯ã‚¢ã‚¯ã‚»ã‚¹ã§ããšã€ AWS CLI ã‚„ SDK (ä»¥ä¸‹ã€ç‰¹å®šã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³) ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã®ã¿å¯èƒ½ã¨ãªã‚Šã¾ã™ã€‚\nã—ã‹ã—ã€å¾Œè¿°ã™ã‚‹ S3 ã®æ©Ÿèƒ½ã§ã‚ã‚‹ é™çš„ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° ã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã¯ã©ã†ã—ã¦ã‚‚ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ç­‰ã«ã‚ˆã‚‹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ã‚’ã—ãŸã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã¯ç„¡åŠ¹ã«ã—ã¦ã„ãŸå ´åˆã§ã‚‚ã€ç‰¹å®šã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•ã‚’åˆ¶é™ã—ãŸã„å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚(ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®èª­ã¿å–ã‚Šã ã‘å¯èƒ½ã€ãªã©)\nãã®ã‚ˆã†ãªå ´åˆã«ã¯ ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ ã¨å‘¼ã°ã‚Œã‚‹ JSON å½¢å¼ã®è¨­å®šã«ã‚ˆã‚Šã€ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶å¾¡ã—ã¾ã™ã€‚ä¸‹è¨˜ãŒãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ã®ä¾‹ã§ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: \u0026#34;*\u0026#34;, \u0026#34;Action\u0026#34;: \u0026#34;s3:GetObject\u0026#34;, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:s3:::examplebucket/*\u0026#34;, \u0026#34;Condition\u0026#34;: { \u0026#34;IpAddress\u0026#34;: { \u0026#34;aws:SourceIp\u0026#34;: [ \u0026#34;1.xxx.xxx.xxx/32\u0026#34;, \u0026#34;2.xxx.xxx.xxx/32\u0026#34;, \u0026#34;3.xxx.xxx.xxx/32\u0026#34; ] } } }, { \u0026#34;Effect\u0026#34;: \u0026#34;Deny\u0026#34;, \u0026#34;Principal\u0026#34;: \u0026#34;*\u0026#34;, \u0026#34;Action\u0026#34;: \u0026#34;s3:GetObject\u0026#34;, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:s3:::examplebucket/*\u0026#34; } ] } è©³ç´°ãªèª¬æ˜ã¯çœç•¥ã—ã¾ã™ãŒã€ä¸Šè¨˜ã®ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ã§ã¯ examplebucket ãƒã‚±ãƒƒãƒˆã«å¯¾ã—ã¦ç‰¹å®šã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã—ã¦ã„ã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã¯ã™ã¹ã¦ãƒ–ãƒ­ãƒƒã‚¯ã¨ãªã‚Šã¾ã™ãŒã€è¦ä»¶ã«ã‚ˆã£ã¦ã¯éƒ¨åˆ†çš„ã«å…¬é–‹ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã‚Šã™ã‚‹ã®ã§ã€ãã®éš›ã«ã¯é©åˆ‡ã«ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nãã®ä»–ã€ S3 ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«é–¢ã—ã¦ã¯å…¬å¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚‚å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nAmazon S3 ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ - Amazon Simple Storage Service ã¾ãŸã€å…ˆæ—¥ IAM ãƒãƒªã‚·ãƒ¼ã® Condition ã§ S3 ãƒã‚±ãƒƒãƒˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶å¾¡ã—ã¦ã¿ãŸè¨˜äº‹ã‚‚æ›¸ãã¾ã—ãŸã€‚\nã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ S3 ã«ã¯æ§˜ã€…ãªæ€§è³ªã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ ¼ç´ã™ã‚‹å ´é¢ãŒã‚ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€é™çš„ã‚µã‚¤ãƒˆã®ã‚ˆã†ã«é«˜é »åº¦ã§ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€é€†ã«ã€éå»ã®ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚ˆã†ã«é »ç¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å¿…è¦ã¯ãªã„ãŒã„ã¤ã‹å¿…è¦ã«ãªã‚‹æ™‚ãŒæ¥ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ ã®ã‚ˆã†ãªæ€§è³ªã§ã™ã€‚\nã“ã‚Œã‚‰ã®æ€§è³ªã«åˆã‚ã›ã¦ã€ S3 ã«ã¯æ¬¡ã®ã‚ˆã†ãª ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ ãŒæä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚\næ±ç”¨/ä½é »åº¦ã‚¢ã‚¯ã‚»ã‚¹ S3 æ¨™æº– S3 Inteligent-Tiering S3 æ¨™æº– - ä½é »åº¦ã‚¢ã‚¯ã‚»ã‚¹ S3 1 ã‚¾ãƒ¼ãƒ³ - ä½é »åº¦ã‚¢ã‚¯ã‚»ã‚¹ ã‚¢ãƒ¼ã‚«ã‚¤ãƒ– S3 Glacier S3 Glacier Deep Archive ä¸Šã®ä¾‹ã§æŒ™ã’ãŸé™çš„ã‚µã‚¤ãƒˆã‚„ãã®ä»– é »ç¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ S3 æ¨™æº– ã‚¯ãƒ©ã‚¹ã‚’åˆ©ç”¨ã—ã€ã‚ã¾ã‚Šã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒãªã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã¨ã—ã¦æ®‹ã—ã¦ãŠããŸã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãªã©ã¯ã€ãƒªã‚¹ãƒˆã®ä¸‹ã®æ–¹ã«ã‚ã‚‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã«ã‚ˆã‚‹é•ã„ã¯ã€ä¸»ã« å¯ç”¨æ€§ ã€ å–ã‚Šå‡ºã—æ™‚é–“ ã€ æ–™é‡‘ ã§ã™ã€‚\n\u0026ldquo;S3 æ¨™æº–\u0026rdquo; ã‚¯ãƒ©ã‚¹ã¯ä¸€ç•ªå¯ç”¨æ€§ãŒé«˜ãã€ç™ºç”Ÿã™ã‚‹æ–™é‡‘ã‚‚ä¸€ç•ªé«˜ã„ã§ã™ã€‚é€†ã« \u0026ldquo;S3 1 ã‚¾ãƒ¼ãƒ³ - ä½é »åº¦ã‚¢ã‚¯ã‚»ã‚¹\u0026rdquo; ã‚¯ãƒ©ã‚¹ã§ã¯å¯ç”¨æ€§ã¯ä½ããªã‚Šã¾ã™ãŒã€ç™ºç”Ÿã™ã‚‹æ–™é‡‘ã¯ S3 æ¨™æº–ã«æ¯”ã¹ã¦å®‰ããªã£ã¦ã„ã¾ã™ã€‚\nã¾ãŸã€ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ç”¨ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã§ã¯ç™ºç”Ÿã™ã‚‹æ–™é‡‘ãŒå¤§å¹…ã«å®‰ããªã‚Šã¾ã™ãŒã€æ ¼ç´ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å–ã‚Šå‡ºã—ã« æ•°åˆ† ã€œ æ•°æ™‚é–“ ã‹ã‹ã‚Šã¾ã™ã€‚é•·æœŸä¿å­˜ãŒå¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã®ä¿æŒã«ã¯ã€ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ç”¨ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã‚³ã‚¹ãƒˆã®å‰Šæ¸›ã«ãªã‚Šã¾ã™ã€‚\nãã®ä»–ã®é•ã„ã‚„å¯ç”¨æ€§ã®ç´°ã‹ã„å€¤ã«ã¤ã„ã¦ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ - Amazon S3 ï½œAWS æ–™é‡‘ S3 ã‚’åˆ©ç”¨ã™ã‚‹ä¸Šã§ç™ºç”Ÿã™ã‚‹æ–™é‡‘ã¯ã€æ¬¡ã® 4 ç¨®é¡ã‚ã‚Šã¾ã™ã€‚\nã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ‡ãƒ¼ã‚¿ã®å–ã‚Šå‡ºã— ãƒ‡ãƒ¼ã‚¿è»¢é€ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã¨ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã¨ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ã«ã¤ã„ã¦ã¯ S3 ã®æ©Ÿèƒ½ã®ä¸­ã§ã‚‚ Advanced ãªæ©Ÿèƒ½ã«å¯¾ã—ã¦ç™ºç”Ÿã™ã‚‹æ–™é‡‘ãªã®ã§ã€ä»Šå›ã¯èª¬æ˜ã‚’å‰²æ„›ã—ã¾ã™ã€‚ãã‚Œä»¥å¤–ã® 3 ç¨®é¡ã«ã¤ã„ã¦ã€ãã‚Œãã‚Œã©ã®ã‚ˆã†ãªæ–™é‡‘ãŒç™ºç”Ÿã™ã‚‹ã®ã‹ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nã¾ãŸã€å‰é …ã§ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã«ã‚ˆã£ã¦æ–™é‡‘ãŒå¤‰ã‚ã‚‹ã¨æ›¸ãã¾ã—ãŸãŒã€ã“ã“ã§ã¯ S3 æ¨™æº– ã‚¯ãƒ©ã‚¹ã®æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ (ap-northeast-1) ã§ã®æ–™é‡‘ã«ã¤ã„ã¦è§¦ã‚Œã¾ã™ã€‚\nã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ S3 ãƒã‚±ãƒƒãƒˆã«æ ¼ç´ã—ã¦ã„ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® åˆè¨ˆã‚µã‚¤ã‚º ã«ç™ºç”Ÿã™ã‚‹æ–™é‡‘ã§ã™ã€‚\næ–™é‡‘ (1 GB ã‚ãŸã‚Š) 50 TB ã¾ã§ 0.025 USD 50 TB ã‚’è¶…ãˆã¦ 500 TB ã¾ã§ 0.024 USD 500 TB ä»¥é™ 0.023 USD ä¾‹ãˆã°ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚µã‚¤ã‚ºåˆè¨ˆãŒ 300 TB ã‚ã£ãŸå ´åˆã®æ–™é‡‘ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n(50 * 1024 * 0.025) + (250 * 1024 * 0.024) = 7424 1 USD = 105 å††ã¨ã™ã‚‹ã¨ã€æ¯æœˆ 779,520 å†† ã®æ–™é‡‘ãŒç™ºç”Ÿã™ã‚‹ã“ã¨ã¨ã«ãªã‚Šã¾ã™ã€‚\nãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ‡ãƒ¼ã‚¿ã®å–ã‚Šå‡ºã— S3 ãƒã‚±ãƒƒãƒˆå†…ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã™ã‚‹ ãƒªã‚¯ã‚¨ã‚¹ãƒˆå›æ•° ã«å¯¾ã—ã¦ç™ºç”Ÿã™ã‚‹æ–™é‡‘ã§ã™ã€‚\nãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ç¨®é¡ æ–™é‡‘ (1000ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ãŸã‚Š) PUT, COPY, POST, LIST 0.0047 USD GET, SELECT, ãã®ä»– 0.00037 USD AWS CLI ã‚„ SDK ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã‚‚ã¡ã‚ã‚“ã§ã™ãŒã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’é–²è¦§ã™ã‚‹éš›ã«ã‚‚ GET ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã—ã¦ã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œã¾ã™ã€‚ãŸã ã€ GET, SELECT ãªã©ã®èª­ã¿å–ã‚Šã«é–¢ã™ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«é–¢ã—ã¦ã¯æ–™é‡‘å˜ä¾¡ãŒéå¸¸ã«ä½ã„ã®ã§ã€ã‚ã¾ã‚Šæ„è­˜ã™ã‚‹å¿…è¦ã¯ãªã„ã‹ãªã¨ã„ã†å°è±¡ã§ã™ã€‚\nãƒ‡ãƒ¼ã‚¿è»¢é€ S3 ã¨ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã€åŠã³ä»–ã® AWS ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é–“ã«ç™ºç”Ÿã™ã‚‹ ãƒ‡ãƒ¼ã‚¿è»¢é€é‡ ã«å¯¾ã—ã¦ç™ºç”Ÿã™ã‚‹æ–™é‡‘ã§ã™ã€‚ãŸã ã—ã€æ¬¡ã®ãƒ‡ãƒ¼ã‚¿è»¢é€ã«ã¤ã„ã¦ã¯æ–™é‡‘ãŒç™ºç”Ÿã—ã¾ã›ã‚“ã€‚\nã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰ S3 ã¸ã®ãƒ‡ãƒ¼ã‚¿è»¢é€ S3 ã¨åŒä¸€ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚ã‚‹ Amazon EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¸ã®ãƒ‡ãƒ¼ã‚¿è»¢é€ Amazon CloudFront ã¸ã®ãƒ‡ãƒ¼ã‚¿è»¢é€ ãªã®ã§ã€æ–™é‡‘ãŒç™ºç”Ÿã™ã‚‹ãƒ‡ãƒ¼ã‚¿è»¢é€ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã—ã¦ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚\nS3 ã‹ã‚‰ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¸ã®ãƒ‡ãƒ¼ã‚¿è»¢é€ S3 ã‹ã‚‰åˆ¥ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚ã‚‹ä»–ã® AWS ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ãƒ‡ãƒ¼ã‚¿è»¢é€ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¸ã®ãƒ‡ãƒ¼ã‚¿è»¢é€ã«ã¤ã„ã¦ã¯ã€å¾Œè¿°ã™ã‚‹é™çš„ã‚µã‚¤ãƒˆã®ã‚¦ã‚§ãƒ–ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°æ©Ÿèƒ½ã‚„ã€ãƒã‚¤ãƒŠãƒªã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ç”¨ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® URL ã‚’å…¬é–‹ã—ã¦ã„ã‚‹ã¨ãã«ã¯æ³¨æ„ã—ãŸã„ã§ã™ã€‚\nåˆ¥ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚ã‚‹ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®è»¢é€ã«ã¤ã„ã¦ã¯ã€ãŸã¨ãˆåŒã˜å›½ã§ã‚ã£ã¦ã‚‚ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãŒé•ãˆã°ç™ºç”Ÿã—ã¾ã™ã€‚ãªã®ã§ã€æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¨å¤§é˜ªãƒªãƒ¼ã‚¸ãƒ§ãƒ³ (ãƒ­ãƒ¼ã‚«ãƒ«) é–“ã§ã‚‚æ–™é‡‘ãŒç™ºç”Ÿã—ã¾ã™ã€‚\nS3 ã§ã¯ã“ã†ã„ã£ãŸå ´é¢ã§æ–™é‡‘ãŒç™ºç”Ÿã—ã¾ã™ã€‚ãã®ä»–ã€æ–™é‡‘ã®è©³ç´°ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\næ–™é‡‘ - Amazon S3 ï½œAWS Amazon S3 ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ ã§ã¯ã€å®Ÿéš›ã« S3 ã‚’ã©ã®ã‚ˆã†ã«ä½¿ã†ã‹ã‚’ç´¹ä»‹ã—ã¦ã„ãã¾ã™ã€‚\nå®¹é‡ç„¡åˆ¶é™ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ S3 ã®æœ€å¤§ã®ç‰¹å¾´ã¯ã€ã‚„ã¯ã‚Š å®¹é‡ç„¡åˆ¶é™ ã¨ã„ã†ç‚¹ã§ã™ã€‚å„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æœ€å¤§ã‚µã‚¤ã‚ºã¯ 5 TB ã¨ãªã£ã¦ã„ã¾ã™ãŒã€ãƒã‚±ãƒƒãƒˆã®åˆè¨ˆã‚µã‚¤ã‚ºã«ã¯åˆ¶é™ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ãã®ãŸã‚ã€æ›¸é¡ã€é…ä¿¡ç”¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€åˆ†æç”¨ãƒ‡ãƒ¼ã‚¿ãªã©ã€å®¹é‡ã‚’æ°—ã«ã›ãšã«ã©ã‚“ã©ã‚“æ ¼ç´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã¾ãŸã€ AWS ã®æ§˜ã€…ãªã‚µãƒ¼ãƒ“ã‚¹1 ã‹ã‚‰å‡ºåŠ›ã•ã‚Œã‚‹ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã¯ S3 ã«ä¿å­˜ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ãªã®ã§ã€ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã¯ã¨ã‚Šã‚ãˆãš S3 ã«æºœã‚è¾¼ã‚“ã§ã€ãã®å¾Œ å„ç¨®åˆ†æç”¨ã®ã‚µãƒ¼ãƒ“ã‚¹2 ã‚’ç”¨ã„ã¦åˆ†æã™ã‚‹ã€ã¨ã„ã†ã¨ã“ã‚ã¾ã§ãŒãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ãªã‚Šã¾ã™ã€‚\nã‚‚ã¡ã‚ã‚“ã€ ã¨ã‚Šã‚ãˆãš ã®ãƒ‡ãƒ¼ã‚¿ç½®ãå ´ã¨ã—ã¦ä½¿ã†ã®ã‚‚ã‚ã‚Šã ã¨ã¯æ€ã„ã¾ã™ãŒã€å‰é …ã§è§¦ã‚ŒãŸã‚ˆã†ã«æ–™é‡‘ã«ã¤ã„ã¦ã¯äº‹å‰ã«è©¦ç®—ã‚’ã—ã¦ãŠã„ãŸã»ã†ãŒè‰¯ã•ãã†ã§ã™ã€‚\nãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ãªã„ ä¸€ç‚¹æ³¨æ„ã—ã¦ãŠããŸã„ã®ãŒã€ S3 ã¯ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ãŒ ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ãªã„ ã¨ã„ã†ã“ã¨ã§ã™ã€‚ S3 ã«æ ¼ç´ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã¯ã€ãƒã‚±ãƒƒãƒˆåã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚­ãƒ¼ã§è­˜åˆ¥ã•ã‚Œã¾ã™ã€‚ãªã®ã§ã€æœ€åˆã«å‡ºã¦ããŸ images/sample.jpg ã¨ã„ã†ã‚­ãƒ¼ã¯ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’è¡¨ã—ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªãã€ã‚ãã¾ã§ã‚‚ images/sample.jpg ã¨ã„ã†ã‚­ãƒ¼ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è­˜åˆ¥ã—ã¦ã„ã¾ã™ã€‚\nãŸã¨ãˆã°æ¬¡ã®ã‚ˆã†ãªã‚­ãƒ¼ã§è­˜åˆ¥ã•ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå­˜åœ¨ã™ã‚‹ã¨ã—ã¾ã™ã€‚\nimages/red.jpg images/brack.jpg images/white.jpg ã“ã‚Œã‚‰ã¯ åŒã˜ images ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚‹ ã¨ã„ã†ã‚ˆã‚Šã¯ã€ åŒã˜ images/ ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’æŒã£ã¦ã„ã‚‹ ã¨è¡¨ç¾ã™ã‚‹ã®ãŒæ­£ã—ã„ã§ã™ã€‚ S3 ã®ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ã¯ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ãŸã©ã£ã¦ã„ãã‚ˆã†ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ãŒã€ã‚ãã¾ã§ã‚‚ãã‚Œã¯ä¾¿å®œä¸Šã¨ã„ã†ã“ã¨ã§ã™ã€‚\nã“ã‚Œã‚’ç†è§£ã™ã‚‹ã¨ã€ S3 ã«é…ç½®ã—ãŸé™çš„ã‚µã‚¤ãƒˆã® index.html ãŒè£œå®Œã•ã‚Œãªã„ç†ç”±ãŒç†è§£ã—ã¦ã‚‚ã‚‰ãˆã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚\né™çš„ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° S3 ã®ä»»æ„ã®ãƒã‚±ãƒƒãƒˆã«é™çš„ã‚µã‚¤ãƒˆã‚’æ ¼ç´ã—ã€é™çš„ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°æ©Ÿèƒ½ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€ S3 ã®ã¿ã§é™çš„ã‚µã‚¤ãƒˆã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚’ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®æ©Ÿèƒ½ã‚’åˆ©ç”¨ã™ã‚‹ã¨ã€å‰è¿°ã—ãŸ index.html ãŒè£œå®Œã•ã‚Œãªã„å•é¡Œ (ä»•æ§˜) ã¯è§£æ¶ˆã•ã‚Œã¾ã™ã€‚ ãŸã ã—ã€æ¬¡ã®ã‚ˆã†ãªåˆ¶é™ãƒ»æ³¨æ„ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³åã¯ãƒã‚±ãƒƒãƒˆåã¨ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‹ã‚‰ãªã‚‹å€¤ã¨ãªã‚‹ ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ SSL åŒ–ã§ããªã„ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ãŒæœ‰åŠ¹ã«ãªã‚‹ ç¤¾å†…å‘ã‘ã«å…¬é–‹ã™ã‚‹ã‚ˆã†ãªé™çš„ã‚µã‚¤ãƒˆã®å…¬é–‹ã‚„ã€ãƒãƒ³ã‚ºã‚ªãƒ³ç­‰ã®å ´åˆã«ã¯ä¾¿åˆ©ãªæ©Ÿèƒ½ã§ã™ã€‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®é …ç›®ã§ã‚‚è§¦ã‚Œã¾ã—ãŸãŒã€ã“ã®æ©Ÿèƒ½ã‚’åˆ©ç”¨ã™ã‚‹ã¨ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ãŒæœ‰åŠ¹ã«ãªã‚‹ãŸã‚ã€é©åˆ‡ã«ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã®è¨­å®šã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã“ã®æ©Ÿèƒ½ã‚’ä½¿ã£ãŸé™çš„ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã«ã¤ã„ã¦ã¯ä»¥å‰ã«æ›¸ã„ãŸã“ã¡ã‚‰ã®è¨˜äº‹ã‚‚å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nAmazon S3 ã§ã®é™çš„ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° - Amazon Simple Storage Service ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã«ã‚ˆã‚‹ä»–ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€£æº ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã§ã‚¤ãƒ™ãƒ³ãƒˆï¼Ÿ ã¨æ€ã‚ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã®æ©Ÿèƒ½ãŒ S3 ã®é¢ç™½ã„ã¨ã“ã‚ã ãªã¨å€‹äººçš„ã«ã¯æ€ã£ã¦ã„ã¾ã™ã€‚\nS3 ã§ç™ºç”Ÿã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã«ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚\næ–°ã—ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆã‚¤ãƒ™ãƒ³ãƒˆ : s3:ObjectCreated:* ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‰Šé™¤ã‚¤ãƒ™ãƒ³ãƒˆ : s3:ObjectRemoved:* ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå¾©å…ƒã‚¤ãƒ™ãƒ³ãƒˆ : s3:ObjectRestore:Post, s3:ObjectRestore:Completed (ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ) ã“ã‚Œã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦ã€ä»»æ„ã® Lambda é–¢æ•°ã‚’å®Ÿè¡Œã—ãŸã‚Šã€SNS çµŒç”±ã§ Slack ã‚„ãƒ¡ãƒ¼ãƒ«ã«é€šçŸ¥ã‚’ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nå…·ä½“çš„ã«ã¯æ¬¡ã®ã‚ˆã†ãªæ§‹æˆãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚\nãƒã‚±ãƒƒãƒˆã«ç”»åƒãŒ Put ã•ã‚Œã‚‹ s3:ObjectCreated:Put ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿ ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã« Lambda é–¢æ•°ã‚’å®Ÿè¡Œ è¤‡æ•°ã‚µã‚¤ã‚ºã®ç”»åƒç”Ÿæˆã€ãƒã‚±ãƒƒãƒˆã¸ Put ãã®ä»–ã€ç°¡å˜ãªç¿»è¨³ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã®ã§ã€èˆˆå‘³ã®ã‚ã‚‹æ–¹ã¯ AWS ã®é‡‘æ¾¤ã•ã‚“ãŒä½œæˆã•ã‚ŒãŸã“ã¡ã‚‰ã®ãƒãƒ³ã‚ºã‚ªãƒ³è³‡æ–™ã‚’ã‚‚ã¨ã«è©¦ã—ã¦ã¿ã¦ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ã€‚\nã¡ãªã¿ã«ã€ã“ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã®å†…å®¹ã‚’ AWS CDK ã§ã‚„ã£ã¦ã¿ãŸã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ã§ LT ã‚‚ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚(äººç”Ÿåˆ LT ã§ã—ãŸ)\nLT ãƒã‚¿ã®å…ƒè¨˜äº‹ã«ãªã£ãŸã®ã¯ä»¥ä¸‹ã®è¨˜äº‹ã§ã™ã€‚\nAmazon S3 ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã®è¨­å®š - Amazon Simple Storage Service ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦ä¸€æ‹¬å‡¦ç†ã™ã‚‹ S3 ãƒãƒƒãƒã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ S3 ãƒãƒƒãƒã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ ã¯ã€S3 ãƒã‚±ãƒƒãƒˆã«æ ¼ç´ã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦ä¸€æ‹¬ã§å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã‚‹æ©Ÿèƒ½ã§ã™ã€‚\nä¾‹ãˆã°æ¬¡ã®ã‚ˆã†ãªå‡¦ç†ãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚\nã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ”ãƒ¼ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã™ã‚‹ç‰¹å®šã®ã‚¿ã‚°ã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ä»˜ä¸ ç”»åƒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒªã‚µã‚¤ã‚ºã€ã¾ãŸã¯ã‚µãƒ ãƒã‚¤ãƒ«ç”¨ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆ ãƒãƒƒãƒã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€æ¬¡ã®æ‰‹é †ã§å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¬ãƒãƒ¼ãƒˆã®ä½œæˆ ã‚¸ãƒ§ãƒ–ã®ä½œæˆ ã‚¸ãƒ§ãƒ–ã®å®Ÿè¡Œ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¬ãƒãƒ¼ãƒˆã®ä½œæˆ ã§ã¯ã€ä¸€æ‹¬å‡¦ç†ã®å¯¾è±¡ã¨ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸€è¦§ã‚’ä½œæˆã—ã¾ã™ã€‚\nã‚¸ãƒ§ãƒ–ã®ä½œæˆ ã§ã¯ã€å¯¾è±¡ã¨ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸€è¦§ (ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆ) ã¨ã€å®Ÿéš›ã«å®Ÿè¡Œã™ã‚‹å‡¦ç†ã‚’æŒ‡å®šã—ã¾ã™ã€‚å®Ÿéš›ã«å®Ÿè¡Œã™ã‚‹å‡¦ç†ã¨ã—ã¦ã¯ã€ãƒãƒƒãƒã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å´ã§ã‚ã‚‰ã‹ã˜ã‚ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ”ãƒ¼ ã€ ã‚¿ã‚°ã®ç½®ãæ›ãˆ ã€ ACL ã®ç½®ãæ›ãˆ ã€ å¾©å…ƒ ãŠã‚ˆã³ Lambda é–¢æ•°ã®å‘¼ã³å‡ºã— ã‚’é¸æŠã§ãã¾ã™ã€‚ Lambda é–¢æ•°ã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€å¯¾è±¡ã¨ãªã£ã¦ã„ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãã‚Œãã‚Œã«å¯¾ã—ã¦ä»»æ„ã®å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nä»¥å‰ã«ãƒãƒƒãƒã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ç”»åƒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒªã‚µã‚¤ã‚ºã—ã¦ã¿ãŸè¨˜äº‹ã‚’æ›¸ã„ãŸã®ã§ã€ã“ã¡ã‚‰ã‚‚å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nåŸºæœ¬: S3 ãƒãƒƒãƒã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ - Amazon Simple Storage Service ã¾ã¨ã‚ AWS ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ Amazon S3 ã®æ¦‚è¦ã¨ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ã¤ã„ã¦æ›¸ãã¾ã—ãŸã€‚\nS3 ã®ãƒªãƒªãƒ¼ã‚¹ã¯ 2006 å¹´ã¨ã„ã†ã“ã¨ã§ã€ AWS ã®æ­´å²ã®ã»ã¼ä¸€ç•ªæœ€åˆã‹ã‚‰å­˜åœ¨ã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚ãªã‚“ã¨ãªãå®¹é‡ç„¡åˆ¶é™ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã ã¨ã„ã†èªè­˜ãŒã‚ã‚‹æ–¹ãŒã»ã¨ã‚“ã©ã ã¨æ€ã„ã¾ã™ãŒã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®ä¸­ã§ã§ç´¹ä»‹ã—ãŸã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã«ã‚ˆã‚‹ä»–ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€£æºã«é–¢ã—ã¦ã¯ã€ã‚Œã£ãã¨ã—ãŸã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ä¸€éƒ¨ã‚’æ‹…ã†ã‚µãƒ¼ãƒ“ã‚¹ã ã¨ã„ã†ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚\nAWS ã®åŸºæœ¬çš„ãªã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦æŒ™ã’ã‚‰ã‚Œã‚‹ã“ã¨ãŒå¤šã„ Amazon S3 ã§ã™ãŒã€ãŸã ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã§ã¯ãªãã€ã„ã‚ã‚“ãªæ©Ÿèƒ½ãŒè©°ã¾ã£ãŸã‚µãƒ¼ãƒ“ã‚¹ã ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚\nAmazon S3 ã¨ã¯ - Amazon Simple Storage Service ç›£è¦–ç”¨ã® Amazon CloudWatch, AWS CloudTrail, ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é–¢é€£ã§ã¯ Amazon CloudFront, Elastic Load Balancing ãªã©\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nä¿å­˜ã—ãŸãƒ­ã‚°ã«å¯¾ã—ã¦ SQL ã‚¯ã‚¨ãƒªã‚’ä½¿ã£ã¦åˆ†æã§ãã‚‹ Amazon Athena ãªã©\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-about-amazon-s3/",
    "title": "Amazon S3 ã®ä»•æ§˜ã¨ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ã¤ã„ã¦ã‚ã‚‰ãŸã‚ã¦èª¿ã¹ã¦ã¿ãŸ"
  },
  {
    "contents": "AWS èªå®šã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ - ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã®å‹‰å¼·ã‚’ã—ã¦ã„ã‚‹ä¸­ã§ãƒ‡ã‚£ã‚¶ã‚¹ã‚¿ãƒªã‚«ãƒãƒª (DR) ã«é–¢ã™ã‚‹è©±ãŒå‡ºã¦ããŸã®ã§ã€ä»Šå›ã¯ AWS ä¸Šã§ã® DR æ§‹æˆ 4 ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã¤ã„ã¦ç°¡å˜ã«ã¾ã¨ã‚ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ ãƒ‡ã‚£ã‚¶ã‚¹ã‚¿ãƒªã‚«ãƒãƒª (DR) ã¨ã¯ DR å¯¾ç­– 4 ãƒ‘ã‚¿ãƒ¼ãƒ³ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— \u0026amp;amp; ãƒªã‚¹ãƒˆã‚¢ ãƒ‘ã‚¤ãƒ­ãƒƒãƒˆãƒ©ã‚¤ãƒˆ ã‚¦ã‚©ãƒ¼ãƒ ã‚¹ã‚¿ãƒ³ãƒã‚¤ ãƒãƒ«ãƒã‚µã‚¤ãƒˆ (ãƒ›ãƒƒãƒˆã‚¹ã‚¿ãƒ³ãƒã‚¤) ã¾ã¨ã‚ å‚è€ƒ ãƒ‡ã‚£ã‚¶ã‚¹ã‚¿ãƒªã‚«ãƒãƒª (DR) ã¨ã¯ ãƒ‡ã‚£ã‚¶ã‚¹ã‚¿ãƒªã‚«ãƒãƒª (disaster recovery - DR) ã¨ã¯ã€ç›´è¨³ã™ã‚‹ã¨ ç½å®³ã‹ã‚‰ã®å¾©æ—§ ã¨ã„ã†æ„å‘³ã§ã™ã€‚ AWS ã§ã¯ã€ŒDesign for Failureã€ã¨ã„ã†è¨­è¨ˆåŸå‰‡ãŒã‚ã‚Šã€ å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚æ¬¡ã®ã‚ˆã†ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚\nè‡ªç„¶ç½å®³ã‹ã‚‰æ©Ÿæ¢°çš„éšœå®³ã€äººçš„ãƒŸã‚¹ã¾ã§å¤šå²ã«ã‚ãŸã‚‹åŸå› ã«ã‚ˆã‚Šã€ã“ã†ã—ãŸå°ã•ãªéšœå®³ãŒèµ·ã“ã‚Šã¾ã™ã€‚ç‰©ç†ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ãŒé•·æœŸé–“ä½¿ç”¨ã§ããªã„å ´åˆã«å‚™ãˆã¦ã€ç¨¼åƒã‚’ç¶™ç¶šã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®äºˆé˜²çš„ãªã‚¯ãƒ©ã‚¦ãƒ‰ç½å®³å¾©æ—§æˆ¦ç•¥ãŒå¿…è¦ã§ã™ã€‚\nç½å®³å¯¾ç­– | AWS DR å¯¾ç­– 4 ãƒ‘ã‚¿ãƒ¼ãƒ³ ã“ã® DR å¯¾ç­–ã«ã¯ RTO 1 ã€ RPO 2 ã¨ã„ã†è¦ä»¶ã¨ã‚³ã‚¹ãƒˆã¨ã®ãƒãƒ©ãƒ³ã‚¹ã‚’è€ƒæ…®ã—ã¦ã€ã©ã®ã‚ˆã†ãªæ§‹æˆã«ã™ã‚‹ã‹ã‚’æ¤œè¨ã—ã¾ã™ã€‚ä»Šå›ã¯ãã®æ§‹æˆã®ä¾‹ã¨ã—ã¦ 4 ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã¤ã„ã¦ã¾ã¨ã‚ã¦ã¿ã¾ã™ã€‚\nãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— \u0026amp; ãƒªã‚¹ãƒˆã‚¢ å®šæœŸçš„ã«ã‚·ã‚¹ãƒ†ãƒ ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆã—ã€éšœå®³ç™ºç”Ÿæ™‚ã«ã¯ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ã‚·ã‚¹ãƒ†ãƒ ã‚’å¾©æ—§ã™ã‚‹æ–¹æ³•ã§ã™ã€‚ AWS ã§ã¯ã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ A ã«ã‚ã‚‹ S3 ã«ä¿å­˜ã—ã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ B ã® S3 (DR ç”¨) ã«ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ãƒˆã—ã¦ãŠãã¾ã™ã€‚æ§‹æˆã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¯æ—¥æ¬¡ã‚„æœˆæ¬¡ãªã©ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å–å¾—ã™ã‚‹ã“ã¨ã«ãªã‚‹ãŸã‚ã€ RPO ã¯ æœ€çµ‚ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¿å­˜æ™‚ç‚¹ã¾ã§ ã¨ãªã‚Šã¾ã™ã€‚ã¾ãŸã€éšœå®³ç™ºç”Ÿæ™‚ã«ã¯ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰å¾©å…ƒ (ãƒªã‚¹ãƒˆã‚¢) ã‚’ã™ã‚‹ãŸã‚ã€ RTO ã¯ é•·ã ãªã‚Šã¾ã™ã€‚ä¸€æ–¹ã§ã€ DR å¯¾ç­–ã®ãŸã‚ã«ç”¨æ„ã™ã‚‹ã®ã¯ S3 ã¸ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã ã‘ã®ãŸã‚ã€ã‚³ã‚¹ãƒˆã¯ ä½ã ãªã‚Šã¾ã™ã€‚\nã¾ã¨ã‚ é©å½“ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–å¾—ã—ã€åˆ¥ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ãƒˆ éšœå®³ç™ºç”Ÿæ™‚ã«ã¯ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ãƒªã‚¹ãƒˆã‚¢ RPO ã¯æœ€çµ‚ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ™‚ç‚¹ã¾ã§ RTO ã¯é•·ã„ ã‚³ã‚¹ãƒˆã¯ä½ã„ ãƒ‘ã‚¤ãƒ­ãƒƒãƒˆãƒ©ã‚¤ãƒˆ DR ç”¨ã«ã‚¹ãƒšãƒƒã‚¯ã®ä½ã„ DB ã‚’èµ·å‹•ã—ã¦ãŠã„ã¦ã€é€šå¸¸æ™‚ã¯ãƒ‡ãƒ¼ã‚¿ã®åŒæœŸã®ã¿ã‚’è¡Œã„ã¾ã™ã€‚éšœå®³ç™ºç”Ÿæ™‚ã«ã¯ã€ DR ç”¨ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·å‹•ã—ã€ DB ã®ã‚¹ãƒšãƒƒã‚¯ã‚’ä¸Šã’ã¦å¯¾å¿œã—ã¾ã™ã€‚ãã—ã¦å…ƒã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®å¾©æ—§ä½œæ¥­ã‚’è¡Œã„ã¾ã™ã€‚æ§‹æˆã‚¤ãƒ¡ãƒ¼ã‚¸ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nãƒ‡ãƒ¼ã‚¿ã«ã¤ã„ã¦ã¯é©å®œ åˆ¥ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã® DB ã«åŒæœŸã™ã‚‹ãŸã‚ã€ RPO ã¯ æœ€çµ‚ãƒ‡ãƒ¼ã‚¿åŒæœŸæ™‚ç‚¹ã¾ã§ ã¨ãªã‚Šã¾ã™ã€‚éšœå®³ç™ºç”Ÿæ™‚ã«ã¯ DR ç”¨ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•ã€ DB ã®ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—ã‚’å®Ÿæ–½ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ RTO ã¯ ã‚„ã‚„é•·ã ãªã‚Šã¾ã™ã€‚DR å¯¾ç­–ã®ãŸã‚ã«ç”¨æ„ã™ã‚‹ã®ã¯ã‚¹ãƒšãƒƒã‚¯ã®ä½ã„ DB ã®ã¿ã¨ãªã‚‹ãŸã‚ã€ã‚³ã‚¹ãƒˆã¯ ã‚„ã‚„ä½ã ãªã‚Šã¾ã™ã€‚\nã¾ã¨ã‚ åˆ¥ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ä½ã‚¹ãƒšãƒƒã‚¯ã® DB ã‚’ç«‹ã¦ã€é©å®œãƒ‡ãƒ¼ã‚¿åŒæœŸ éšœå®³ç™ºç”Ÿæ™‚ã«ã¯ DR ç”¨ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·å‹•ã€ DB ã‚’ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ãƒƒãƒ— RPO ã¯æœ€çµ‚ãƒ‡ãƒ¼ã‚¿åŒæœŸæ™‚ç‚¹ã¾ã§ RTO ã¯ã‚„ã‚„é•·ã„ ã‚³ã‚¹ãƒˆã¯ã‚„ã‚„ä½ã„ ã‚¦ã‚©ãƒ¼ãƒ ã‚¹ã‚¿ãƒ³ãƒã‚¤ DR ç”¨ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã€ã‚¹ãƒšãƒƒã‚¯ã®ã¿ä½ã„åŒæ§‹æˆã§ã‚·ã‚¹ãƒ†ãƒ ã‚’å¸¸æ™‚èµ·å‹•ã—ã¦ãŠãã¾ã™ã€‚éšœå®³ç™ºç”Ÿæ™‚ã«ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŠã‚ˆã³ DB ã®ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—ã€ Route 53 ã§ DNS ã‚’åˆ‡ã‚Šæ›¿ãˆã¦å¯¾å¿œã—ã¾ã™ã€‚ãã—ã¦å…ƒã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®å¾©æ—§ä½œæ¥­ã‚’è¡Œã„ã¾ã™ã€‚æ§‹æˆã‚¤ãƒ¡ãƒ¼ã‚¸ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚\nãƒ‡ãƒ¼ã‚¿ã«ã¤ã„ã¦ã¯ãƒ‘ã‚¤ãƒ­ãƒƒãƒˆãƒ©ã‚¤ãƒˆã¨åŒæ§˜ã«ãªã®ã§ RPO ã¯ æœ€çµ‚ãƒ‡ãƒ¼ã‚¿åŒæœŸæ™‚ç‚¹ã¾ã§ ã¨ãªã‚Šã¾ã™ã€‚éšœå®³ç™ºç”Ÿæ™‚ã«ã¯ã€ DB ã®ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—ã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—ã€ DNS ã®åˆ‡ã‚Šæ›¿ãˆã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãŸã ã—ã€æ–°ãŸã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·å‹•ã™ã‚‹ã‚ã‘ã§ã¯ãªã„ã®ã§ RTO ã¯ ã‚„ã‚„çŸ­ã ãªã‚Šã¾ã™ã€‚ä¸€æ–¹ã§ã€ä½ã‚¹ãƒšãƒƒã‚¯ã¨ã¯è¨€ãˆåŒæ§‹æˆã®ã‚·ã‚¹ãƒ†ãƒ ã‚’åˆ¥ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ç”¨æ„ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã‚³ã‚¹ãƒˆã¯ ã‚„ã‚„é«˜ã ãªã‚Šã¾ã™ã€‚\nã¾ã¨ã‚ ä½ã‚¹ãƒšãƒƒã‚¯ã§åŒæ§‹æˆã®ã‚·ã‚¹ãƒ†ãƒ ã‚’åˆ¥ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ç”¨æ„ éšœå®³ç™ºç”Ÿæ™‚ã«ã¯ DB ã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—ã€ DNS åˆ‡ã‚Šæ›¿ãˆã‚’å®Ÿæ–½ RPO ã¯æœ€çµ‚ãƒ‡ãƒ¼ã‚¿åŒæœŸæ™‚ç‚¹ã¾ã§ RTO ã¯ã‚„ã‚„çŸ­ã„ ã‚³ã‚¹ãƒˆã¯ã‚„ã‚„é«˜ã„ ãƒãƒ«ãƒã‚µã‚¤ãƒˆ (ãƒ›ãƒƒãƒˆã‚¹ã‚¿ãƒ³ãƒã‚¤) DR ç”¨ã¨ã—ã¦åŒã‚¹ãƒšãƒƒã‚¯ã€åŒæ§‹æˆã®ã‚·ã‚¹ãƒ†ãƒ ã‚’å¸¸æ™‚èµ·å‹•ã—ã¦ãŠãã¾ã™ã€‚éšœå®³ç™ºç”Ÿæ™‚ã«ã¯ Route 53 ã§ DNS ã®åˆ‡ã‚Šæ›¿ãˆã®ã¿ã‚’å®Ÿæ–½ã—ã¦å¯¾å¿œã—ã¾ã™ã€‚\nãƒ‡ãƒ¼ã‚¿ã«ã¤ã„ã¦ã¯ãƒ‘ã‚¤ãƒ­ãƒƒãƒˆãƒ©ãƒ³ã€ã‚¦ã‚©ãƒ¼ãƒ ã‚¹ã‚¿ãƒ³ãƒã‚¤ã¨åŒæ§˜ãªã®ã§ RPO ã¯ æœ€çµ‚ãƒ‡ãƒ¼ã‚¿åŒæœŸæ™‚ç‚¹ã¾ã§ ã¨ãªã‚Šã¾ã™ã€‚éšœå®³ç™ºç”Ÿæ™‚ã«ã¯ DNS ã®åˆ‡ã‚Šæ›¿ãˆã®ã¿ã§å¯¾å¿œã§ãã‚‹ã®ã§ã€ RTO ã¯ çŸ­ã ãªã‚Šã¾ã™ã€‚ã—ã‹ã—ã€åˆ¥ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«å…¨ãåŒã˜ã‚·ã‚¹ãƒ†ãƒ  (ã‚¹ãƒšãƒƒã‚¯ã€æ§‹æˆ) ã‚’å¸¸æ™‚èµ·å‹•ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ã‚³ã‚¹ãƒˆã¯ é«˜ã ãªã‚Šã¾ã™ã€‚\nã¾ã¨ã‚ åŒã‚¹ãƒšãƒƒã‚¯ã€åŒæ§‹æˆã®ã‚·ã‚¹ãƒ†ãƒ ã‚’åˆ¥ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ç”¨æ„ éšœå®³ç™ºç”Ÿæ™‚ã«ã¯ DNS ã®åˆ‡ã‚Šæ›¿ãˆã®ã¿å®Ÿæ–½ RPO ã¯æœ€çµ‚ãƒ‡ãƒ¼ã‚¿åŒæœŸæ™‚ç‚¹ã¾ã§ RTO ã¯çŸ­ã„ ã‚³ã‚¹ãƒˆã¯é«˜ã„ ã¾ã¨ã‚ AWS ä¸Šã§ã® DR æ§‹æˆ 4 ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã¤ã„ã¦ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸã€‚\nRTOã€RPO ã¨ã‚³ã‚¹ãƒˆã®å…¼ã­åˆã„ã«ã¤ã„ã¦ã¯ DR å¯¾ç­–ã‚’è¬›ã˜ã‚‹å¯¾è±¡ã®ã‚·ã‚¹ãƒ†ãƒ ã®æ€§è³ªã‚„é‡è¦æ€§ã«ã‚ˆã£ã¦è­°è«–ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€å®Ÿéš›ã« DR å¯¾ç­–ã‚’ã™ã‚‹å ´åˆã«ã¯ãã®ã‚ãŸã‚Šã®æ•°å€¤ã‚’ã—ã£ã‹ã‚Šã¨æ±ºã‚ã¦ç½®ãå¿…è¦ãŒã‚ã‚Šãã†ã§ã™ã€‚\nè©¦é¨“å¯¾ç­–ã¨ã—ã¦ã¯ã€å„ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã€é•·æ‰€ãƒ»çŸ­æ‰€ã‚’ç†è§£ã—ã¦å•é¡Œæ–‡ã‹ã‚‰ã©ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒæœ€é©ãªã®ã‹ã‚’åˆ¤æ–­ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãŠããŸã„ã¨æ€ã„ã¾ã™ã€‚\nå‚è€ƒ AWSèªå®šã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ-ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ« ~è©¦é¨“ç‰¹æ€§ã‹ã‚‰å°ãå‡ºã—ãŸæ¼”ç¿’å•é¡Œã¨è©³ç´°è§£èª¬ RTO (Recovery Time Objective) ç›®æ¨™å¾©æ—§æ™‚é–“\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nRPO (Recovery Point Objective) ç›®æ¨™å¾©æ—§æ™‚ç‚¹\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-architecture-for-disaster-recovery/",
    "title": "AWS ä¸Šã§ã®ãƒ‡ã‚£ã‚¶ã‚¹ã‚¿ãƒªã‚«ãƒãƒª (DR) æ§‹æˆ 4 ãƒ‘ã‚¿ãƒ¼ãƒ³"
  },
  {
    "contents": "AWS èªå®šã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ - ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã®å‹‰å¼·ã‚’ã—ã¦ã„ã‚‹ä¸­ã§ã€ IAM ã® Condition ã«ã‚ˆã‚‹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã®è©±ãŒå‡ºã¦ããŸã®ã§ã€ S3 ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã§å®Ÿéš›ã«è©¦ã—ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\nç›®æ¬¡ IAM ãƒãƒªã‚·ãƒ¼ã®ä½œæˆ Condition ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆ ListObjectsV2 ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å®Ÿè¡Œ AmazonS3ReadOnlyAccess ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã—ãŸ IAM ãƒ¦ãƒ¼ã‚¶ã§å®Ÿè¡Œ Condition ä»˜ãã® IAM ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã—ãŸ IAM ãƒ¦ãƒ¼ã‚¶ã§å®Ÿè¡Œ ã¾ã¨ã‚ IAM ãƒãƒªã‚·ãƒ¼ã®ä½œæˆ ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ç”¨ã® IAM ãƒãƒªã‚·ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚ä»Šå›ã¯æ¬¡ã®ã‚ˆã†ãªåˆ¶å¾¡ã‚’è€ƒãˆã¾ã™ã€‚\nS3 ã«å¯¾ã™ã‚‹ ListObjects ã¾ãŸã¯ ListObjectsV2 API ã§å–å¾—ã§ãã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æœ€å¤§æ•°ã‚’ 2 ã¨ã™ã‚‹ ListObjects ã¾ãŸã¯ ListObjectsV2 API ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã«ã¯ s3:ListBucket ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ãŒå¿…è¦ãªã®ã§ã€ã“ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«å¯¾ã—ã¦ Condition ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã§æ¡ä»¶ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nCondition ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆ IAM ãƒãƒªã‚·ãƒ¼ã® Condition ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã§ã¯ã€äºˆã‚ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ StringEquals ã‚„ NumericGreaterThan ã¨ã„ã£ãŸæ¡ä»¶æ¼”ç®—å­ã«ã‚ˆã£ã¦, ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å«ã¾ã‚Œã‚‹ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®å€¤ã¨æ¡ä»¶ã®ä¸€è‡´ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚\næ¡ä»¶æ¼”ç®—å­ã¯æ¬¡ã®ã‚ˆã†ãªç¨®é¡ã«åˆ†ã‘ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\næ–‡å­—åˆ— æ•°å€¤ æ—¥ä»˜ Bool ãƒã‚¤ãƒŠãƒª IP ã‚¢ãƒ‰ãƒ¬ã‚¹ ARN IfExists æ¡ä»¶ã‚­ãƒ¼ã®æœ‰ç„¡ ä»Šå›ã®æ¡ä»¶ã¯ ã€ŒS3 ã«å¯¾ã™ã‚‹ ListObjects ã¾ãŸã¯ ListObjectsV2 API ã§å–å¾—ã§ãã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚­ãƒ¼æ•°ã®æœ€å¤§æ•°ã‚’ 2 ã¨ã™ã‚‹ã€ ãªã®ã§ã€æ–‡å­—åˆ—æ¡ä»¶æ¼”ç®—å­ã® NumericLessThanEquals ã‚’ä½¿ç”¨ã—ã¦æ¬¡ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;s3:Get*\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:s3:::iam-condition-test-bucket\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: \u0026#34;s3:ListBucket\u0026#34;, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:s3:::iam-condition-test-bucket\u0026#34;, \u0026#34;Condition\u0026#34;: { \u0026#34;NumericLessThanEquals\u0026#34;: { \u0026#34;s3:max-keys\u0026#34;: \u0026#34;2\u0026#34; } } } ] } ã“ã® JSON ã®å†…å®¹ã§ IAM ãƒãƒªã‚·ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚\ns3:max-keys ã®æ¡ä»¶æ¼”ç®—å­ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ ListObjects ã¾ãŸã¯ ListObjectsV2 ã§ max-keys ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚æŒ‡å®šã—ãªã„å ´åˆã¯ãã‚‚ãã‚‚æ¡ä»¶ã«ä¸€è‡´ã—ãªã„ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nIf the key that you specify in a policy condition is not present in the request context, the values do not match.\nIAM JSON Policy Elements: Condition Operators - AWS Identity and Access Management ãã®ä»–ã€ Condition ã®è©³ç´°ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚‚åˆã‚ã›ã¦ã€‚\nIAM JSON ãƒãƒªã‚·ãƒ¼ã®è¦ç´ :Condition - AWS Identity and Access Management ã¡ãªã¿ã«ã€ arn:aws:s3:::iam-condition-test-bucket ã¯ä»Šå›ã®ç¢ºèªç”¨ã«å…ˆã«ä½œæˆã—ã¦ãŠã„ãŸ S3 ãƒã‚±ãƒƒãƒˆã§ã€ãƒã‚±ãƒƒãƒˆå†…ã«ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒ 4 ã¤æ ¼ç´ã•ã‚Œã¦ã„ã¾ã™ã€‚\n$ aws s3api create-bucket \\ --bucket iam-condition-test-bucket \\ --create-bucket-configuration LocationConstraint=ap-northeast-1 { \u0026#34;Location\u0026#34;: \u0026#34;http://iam-condition-test-bucket.s3.amazonaws.com/\u0026#34; } $ aws s3api list-objects-v2 \\ --bucket iam-condition-test-bucket \\ --query \u0026#34;Contents[].[Key]\u0026#34; \\ --output text sample_0.json sample_1.json sample_2.json sample_3.json ListObjectsV2 ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å®Ÿè¡Œ ä»Šå›ã¯ AWS CLI ã§ ListObjectsV2 ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\nAmazonS3ReadOnlyAccess ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã—ãŸ IAM ãƒ¦ãƒ¼ã‚¶ã§å®Ÿè¡Œ ã¾ãšã¯ S3 ã¸ã® Read Only æ¨©é™ (AmazonS3ReadOnlyAccess) ã‚’æŒã¤ IAM ãƒ¦ãƒ¼ã‚¶ã§ ListObjectsV2 ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3api list-objects-v2 \\ --bucket iam-condition-test-bucket { \u0026#34;Contents\u0026#34;: [ { \u0026#34;Key\u0026#34;: \u0026#34;sample_0.json\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-07-05T09:43:05+00:00\u0026#34;, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;ff2238a281fccd41c7698ef7a1e2236d\\\u0026#34;\u0026#34;, \u0026#34;Size\u0026#34;: 21, \u0026#34;StorageClass\u0026#34;: \u0026#34;STANDARD\u0026#34; }, { \u0026#34;Key\u0026#34;: \u0026#34;sample_1.json\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-07-05T09:42:12+00:00\u0026#34;, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;ff2238a281fccd41c7698ef7a1e2236d\\\u0026#34;\u0026#34;, \u0026#34;Size\u0026#34;: 21, \u0026#34;StorageClass\u0026#34;: \u0026#34;STANDARD\u0026#34; }, { \u0026#34;Key\u0026#34;: \u0026#34;sample_2.json\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-07-05T09:42:17+00:00\u0026#34;, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;ff2238a281fccd41c7698ef7a1e2236d\\\u0026#34;\u0026#34;, \u0026#34;Size\u0026#34;: 21, \u0026#34;StorageClass\u0026#34;: \u0026#34;STANDARD\u0026#34; }, { \u0026#34;Key\u0026#34;: \u0026#34;sample_3.json\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-07-05T09:42:51+00:00\u0026#34;, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;ff2238a281fccd41c7698ef7a1e2236d\\\u0026#34;\u0026#34;, \u0026#34;Size\u0026#34;: 21, \u0026#34;StorageClass\u0026#34;: \u0026#34;STANDARD\u0026#34; } ] } ãƒã‚±ãƒƒãƒˆå†…ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒã™ã¹ã¦å–å¾—ã§ãã¾ã—ãŸã€‚\nCondition ä»˜ãã® IAM ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã—ãŸ IAM ãƒ¦ãƒ¼ã‚¶ã§å®Ÿè¡Œ ã§ã¯ã€å…ˆã»ã©ä½œæˆã—ãŸ IAM ãƒãƒªã‚·ãƒ¼ã‚’é©å½“ãª IAM ãƒ¦ãƒ¼ã‚¶ã«ã‚¢ã‚¿ãƒƒãƒã—ã¦ ListObjectsV2 ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3api list-objects-v2 \\ --bucket iam-condition-test-bucket An error occurred (AccessDenied) when calling the ListObjectsV2 operation: Access Denied AccessDenied ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸€è¦§ãŒå–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚\nãªã®ã§ã€æ¡ä»¶ã«åˆã†ã‚ˆã†ã« --max-keys ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3api list-objects-v2 \\ --bucket iam-condition-test-bucket \\ --max-keys 2 { \u0026#34;IsTruncated\u0026#34;: true, \u0026#34;Contents\u0026#34;: [ { \u0026#34;Key\u0026#34;: \u0026#34;sample_0.json\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-07-05T09:43:05+00:00\u0026#34;, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;ff2238a281fccd41c7698ef7a1e2236d\\\u0026#34;\u0026#34;, \u0026#34;Size\u0026#34;: 21, \u0026#34;StorageClass\u0026#34;: \u0026#34;STANDARD\u0026#34; }, { \u0026#34;Key\u0026#34;: \u0026#34;sample_1.json\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-07-05T09:42:12+00:00\u0026#34;, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;ff2238a281fccd41c7698ef7a1e2236d\\\u0026#34;\u0026#34;, \u0026#34;Size\u0026#34;: 21, \u0026#34;StorageClass\u0026#34;: \u0026#34;STANDARD\u0026#34; } ], \u0026#34;Name\u0026#34;: \u0026#34;iam-condition-test-bucket\u0026#34;, \u0026#34;Prefix\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;MaxKeys\u0026#34;: 2, \u0026#34;EncodingType\u0026#34;: \u0026#34;url\u0026#34;, \u0026#34;KeyCount\u0026#34;: 2, \u0026#34;NextContinuationToken\u0026#34;: \u0026#34;17DiagPib4DkESmD7teHiRKAUOX3+2+PwEfdQ/orj+JJiIY9+KzSt0FY73/EOModsutwA/GSThwc=\u0026#34; } å–å¾—ã§ãã¾ã—ãŸã€‚æ®‹ã‚Šã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ã¯ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã® NextContinuationToken ã‚’ä½¿ã£ã¦æ¬¡ã®ã‚ˆã†ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¾ã™ã€‚\n$ aws s3api list-objects-v2 \\ --bucket iam-condition-test-bucket \\ --max-keys 2 \\ --continuation-token 17DiagPib4DkESmD7teHiRKAUOX3+2+PwEfdQ/orj+JJiIY9+KzSt0FY73/EOModsutwA/GSThwc= { \u0026#34;IsTruncated\u0026#34;: false, \u0026#34;Contents\u0026#34;: [ { \u0026#34;Key\u0026#34;: \u0026#34;sample_2.json\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-07-05T09:42:17+00:00\u0026#34;, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;ff2238a281fccd41c7698ef7a1e2236d\\\u0026#34;\u0026#34;, \u0026#34;Size\u0026#34;: 21, \u0026#34;StorageClass\u0026#34;: \u0026#34;STANDARD\u0026#34; }, { \u0026#34;Key\u0026#34;: \u0026#34;sample_3.json\u0026#34;, \u0026#34;LastModified\u0026#34;: \u0026#34;2020-07-05T09:42:51+00:00\u0026#34;, \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;ff2238a281fccd41c7698ef7a1e2236d\\\u0026#34;\u0026#34;, \u0026#34;Size\u0026#34;: 21, \u0026#34;StorageClass\u0026#34;: \u0026#34;STANDARD\u0026#34; } ], \u0026#34;Name\u0026#34;: \u0026#34;iam-condition-test-bucket\u0026#34;, \u0026#34;Prefix\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;MaxKeys\u0026#34;: 2, \u0026#34;EncodingType\u0026#34;: \u0026#34;url\u0026#34;, \u0026#34;KeyCount\u0026#34;: 2, \u0026#34;ContinuationToken\u0026#34;: \u0026#34;17DiagPib4DkESmD7teHiRKAUOX3+2+PwEfdQ/orj+JJiIY9+KzSt0FY73/EOModsutwA/GSThwc=\u0026#34; } ä»Šå›ã®æ¡ä»¶ã¯ \u0026quot;s3:max-keys\u0026quot;: \u0026quot;2\u0026quot; ãªã®ã§ã€æ¬¡ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã¯ AccessDenied ã«ãªã‚Šã¾ã™ã€‚\n$ aws s3api list-objects-v2 \\ --bucket iam-condition-test-bucket \\ --max-keys 3 An error occurred (AccessDenied) when calling the ListObjectsV2 operation: Access Denied ã¾ã¨ã‚ IAM ã® Condition ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ S3 ã¸ã® ListObjects ã¾ãŸã¯ ListObjectsV2 API ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’åˆ¶å¾¡ã—ã¦ã¿ã¾ã—ãŸã€‚\nCondition ã‚’ä½¿ç”¨ã—ãŸã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã¨ã—ã¦ã¯ã€ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ç‰¹å®šã®ã‚¿ã‚°ãŒãªã‘ã‚Œã°èµ·å‹•ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ä¾‹ãŒã‚ã‚Šã¾ã—ãŸã€‚\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç‰¹å®šã® EC2 ãƒªã‚½ãƒ¼ã‚¹ã«åˆ¶é™ã™ã‚‹ ã¾ãŸã€ä»Šå›ã¯å€‹äººã® AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå†…ã§ã®åˆ¶å¾¡ã§ã—ãŸãŒã€ AWS Organizations ã® SCP (ã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒãƒªã‚·ãƒ¼) ã‚’ä½¿ã†ã“ã¨ã§çµ„ç¹”å†…ã® AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«å¯¾ã—ã¦ã‚‚çµ±ä¸€ã•ã‚ŒãŸã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚’ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒãƒªã‚·ãƒ¼ - AWS Organizations ã“ã®ã‚ãŸã‚Šã¯ SAP ã®è©¦é¨“ã§ã‚‚ã‚ˆãå‡ºã¦ãã‚‹éƒ¨åˆ†ã¿ãŸã„ãªã®ã§ã€ã—ã£ã‹ã‚Šç†è§£ã—ã¦ã„ããŸã„ã¨ã“ã‚ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-iam-access-control-by-condition-element/",
    "title": "IAM ã® Condition ã«ã‚ˆã‚‹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚’è©¦ã—ã¦ã¿ã‚‹"
  },
  {
    "contents": "AWS SDK for Go ã§ S3 \u0008ãƒã‚±ãƒƒãƒˆã®æ ¼ç´ã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã‚ˆã†ã¨ã—ãŸã¨ã“ã‚ã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ã‚­ãƒ¼ãŒå¤§æ–‡å­— (å…ˆé ­ã¨ãƒã‚¤ãƒ•ãƒ³ã®ç›´å¾Œ) ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚\u0026hellip;ã¨ã„ã†è©±ã§ã™ã€‚\nç›®æ¬¡ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ HeadObject API ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æƒ…å ±ã‚’å–å¾— CLI ã§å–å¾—ã—ã¦ã¿ã‚‹ SDK for Python (boto3) ã§å–å¾—ã—ã¦ã¿ã‚‹ SDK for Go ã§å–å¾—ã—ã¦ã¿ã‚‹ ã¾ã¨ã‚ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ ã¾ãšã¯é©å½“ãªãƒã‚±ãƒƒãƒˆã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\n$ cat ./sample.json { \u0026#34;text\u0026#34;: \u0026#34;This is a sample JSON.\u0026#34; } $ aws s3api put-object \\ --bucket s3-metadata-test-michimani \\ --key sample.json \\ --body ./sample.json \\ --metadata custom-metadata-1=value1,custom-metadata-2=value2,Custom-Metadata-3=value3 \\ --cache-control \u0026#34;public, max-age=1209600\u0026#34; \\ --content-type \u0026#34;application/json;charset=UTF-8\u0026#34; { \u0026#34;ETag\u0026#34;: \u0026#34;\\\u0026#34;2670dbe970a150ec5f0d4b0e6b9a69cc\\\u0026#34;\u0026#34; } ã¡ãªã¿ã«ã€ --metadata ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§å¤§æ–‡å­—ã€å°æ–‡å­—ã‚’å¤‰ãˆã¦æŒ‡å®šã—ã¦ã„ã¾ã™ãŒã€ã“ã‚Œã¯ç„¡è¦–ã•ã‚Œã¾ã™ã€‚\nãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ç¢ºèªã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nHeadObject API ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æƒ…å ±ã‚’å–å¾— S3 ã® HeadObject API ã‚’ä½¿ç”¨ã—ã¦ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™ã€‚\nä»Šå›ã¯ SDK for Go ä»¥å¤–ã«ã€ AWS CLI ã¨ SDK for Python (boto3) ã§ã‚‚è©¦ã—ã¦ã¿ã¾ã™ã€‚\nCLI ã§å–å¾—ã—ã¦ã¿ã‚‹ ã¾ãšã¯ AWS CLI ã§å–å¾—ã—ã¦ã¿ã¾ã™ã€‚\n$ aws --version aws-cli/2.0.26 Python/3.7.4 Darwin/19.5.0 botocore/2.0.0dev30 $ aws s3api head-object \\ --bucket s3-metadata-test-michimani \\ --key sample.json \\ --query \u0026#34;Metadata\u0026#34; { \u0026#34;custom-metadata-1\u0026#34;: \u0026#34;value1\u0026#34;, \u0026#34;custom-metadata-2\u0026#34;: \u0026#34;value2\u0026#34;, \u0026#34;custom-metadata-3\u0026#34;: \u0026#34;value3\u0026#34; } SDK for Python (boto3) ã§å–å¾—ã—ã¦ã¿ã‚‹ æ¬¡ã«ã€ AWS SDK for Python (boto3) ã§å–å¾—ã—ã¦ã¿ã¾ã™ã€‚\n$ python -V Python 3.7.7 å–å¾—ã™ã‚‹ãŸã‚ã®ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚\nimport boto3 target_bucket = \u0026#39;s3-metadata-test-michimani\u0026#39; target_key = \u0026#39;sample.json\u0026#39; s3 = boto3.client(\u0026#39;s3\u0026#39;) def print_s3_metadata(bucket, key): out_object = s3.head_object( Bucket=bucket, Key=key ) for key in out_object[\u0026#39;Metadata\u0026#39;]: val = out_object[\u0026#39;Metadata\u0026#39;][key] print(f\u0026#39;{key} : {val}\u0026#39;) if __name__ == \u0026#39;__main__\u0026#39;: print_s3_metadata(target_bucket, target_key) å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨\n$ python python/main.py custom-metadata-1 : value1 custom-metadata-2 : value2 custom-metadata-3 : value3 boto3 ã®å ´åˆã¯ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ã‚­ãƒ¼ã¯å°æ–‡å­—ã§ã™ã€‚\nS3 â€” Boto3 Docs 1.14.13 documentation | S3.Client.head_object SDK for Go ã§å–å¾—ã—ã¦ã¿ã‚‹ æœ€å¾Œã«ã€ AWS SDK for Go ã‚’ä½¿ã£ã¦å–å¾—ã—ã¦ã¿ã¾ã™ã€‚\n$ go version go version go1.14.4 darwin/amd64 å–å¾—ã™ã‚‹ãŸã‚ã®ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/aws\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/aws/session\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/service/s3\u0026#34; ) var s3sess = s3.New(session.New(), \u0026amp;aws.Config{ Region: aws.String(\u0026#34;ap-northeast-1\u0026#34;), }) var targetBucket string = \u0026#34;s3-metadata-test-michimani\u0026#34; var targetKey string = \u0026#34;sample.json\u0026#34; // PrintS3Metadata is a function to print S3 metadata. func PrintS3Metadata(bucket string, key string) { outObject, _ := s3sess.HeadObject(\u0026amp;s3.HeadObjectInput{ Bucket: aws.String(bucket), Key: aws.String(key), }) for key, val := range outObject.Metadata { fmt.Printf(\u0026#34;%s : %s\\n\u0026#34;, key, *val) } } func main() { PrintS3Metadata(targetBucket, targetKey) } å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨\n$ go run go/main.go Custom-Metadata-3 : value3 Custom-Metadata-1 : value1 Custom-Metadata-2 : value2 ã¨ã„ã†æ„Ÿã˜ã§ã€ã‚­ãƒ¼ã®å…ˆé ­ã®æ–‡å­—ã€ãŠã‚ˆã³ãƒã‚¤ãƒ•ãƒ³ç›´å¾Œã®æ–‡å­—ãŒå¤§æ–‡å­—ã«ãªã£ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã¤ã„ã¦ã¯ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«æ¬¡ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nBy default unmarshaled keys are written as a map keys in following canonicalized format: the first letter and any letter following a hyphen will be capitalized, and the rest as lowercase.\nã¾ãŸã€æ¬¡ã®ã‚ˆã†ã«ã‚‚æ›¸ã‹ã‚Œã¦ã„ã¾ã—ãŸã€‚\nSet `aws.Config.LowerCaseHeaderMaps` to `true` to write unmarshaled keys to the map as lowercase.\nã“ã‚Œã«å¾“ã£ã¦ã‚³ãƒ¼ãƒ‰ã‚’æ¬¡ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚\nvar s3sess = s3.New(session.New(), \u0026amp;aws.Config{ - Region: aws.String(\u0026#34;ap-northeast-1\u0026#34;), + Region: aws.String(\u0026#34;ap-northeast-1\u0026#34;), + LowerCaseHeaderMaps: aws.Bool(true), }) ã“ã‚Œã§å†åº¦å®Ÿè¡Œã—ã¦ã¿ã¾ã—ãŸãŒã€\n$ go run go/main.go Custom-Metadata-3 : value3 Custom-Metadata-1 : value1 Custom-Metadata-2 : value2 çµæœã¯å¤‰ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚(é †ç•ªãŒé•ã†ã®ã¯ Go è¨€èªã® map ã®ä»•æ§˜ã§ã™ã€‚)\nã“ã® aws.Config.LowerCaseHeaderMaps ã®è¨­å®šã«ã‚ˆã‚‹æŒ™å‹•ã®é•ã„ã«ã¤ã„ã¦ã¯ã€æ®‹å¿µãªãŒã‚‰èª¿ã¹ã¦ã¿ã¦ã‚‚ãã‚Œã‚‰ã—ã„æƒ…å ±ãŒå¾—ã‚‰ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚ã‚‚ã—ã“ã®è¨˜äº‹ã‚’ã”è¦§ã®æ–¹ã§ã”å­˜ã˜ã®æ–¹ãŒã„ã‚‰ã£ã—ã‚ƒã‚Œã°ã‚³ãƒ¡ãƒ³ãƒˆç­‰ã§æ•™ãˆã¦ã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™ã€‚\ns3 - Amazon Web Services - Go SDK | S3.HeadObject ã¾ã¨ã‚ AWS SDK for Go ã§ S3 \u0008ãƒã‚±ãƒƒãƒˆã®æ ¼ç´ã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã‚ˆã†ã¨ã—ãŸã¨ã“ã‚ã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ã‚­ãƒ¼ãŒå¤§æ–‡å­—ã«ãªã£ã¦ã„ã‚‹ã¨ã„ã†è©±ã§ã—ãŸã€‚\nSDK for Go ã§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ã‚´ãƒ‹ãƒ§ã‚´ãƒ‹ãƒ§ã™ã‚‹ã¨ãã«å°‘ã—ãƒãƒã£ãŸã®ã§æ›¸ãã¾ã—ãŸãŒã€ã“ã†ãªã£ã¦ã„ã‚‹ã®ã§æ°—ã‚’ã¤ã‘ã¾ã—ã‚‡ã†ã¨ã„ã†ãã‚‰ã„ã®è–„ã„å†…å®¹ã§ã™ã€‚ aws.Config.LowerCaseHeaderMaps ã®æŒ™å‹•ã«ã¤ã„ã¦ã¯ã‚ˆãã‚ã‹ã‚‰ãªã‹ã£ãŸã®ã§ã€ã‚‚ã—ã”å­˜ã˜ã®æ–¹ãŒã„ã‚‰ã£ã—ã‚ƒã‚Œã°ã‚³ãƒ¡ãƒ³ãƒˆã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™ï¼\n",
    "permalink": "https://michimani.net/post/aws-s3-metadata-keys-are-capitalized-using-go-sdk/",
    "title": "AWS SDK for Go ã§ S3 ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã¨ã‚­ãƒ¼ãŒå¤§æ–‡å­—ã ã£ãŸ"
  },
  {
    "contents": "AWS ä¸Šã§é™çš„ã‚µã‚¤ãƒˆã‚’ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹éš›ã« Amazon S3 ã¨ Amazon CloudFront ã‚’ã‚»ãƒƒãƒˆã§ä½¿ã†ã“ã¨ã¯å¤šã„ã¨æ€ã„ã¾ã™ã€‚ãŸã å˜ã«ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ã ã‘ã§ã‚ã‚Œã° S3 ã ã‘ã§ã‚‚å¯èƒ½ã§ã™ãŒã€ CloudFront ã‚’å‰æ®µã«ç½®ãã“ã¨ã§è‰²ã€…ã¨ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚ä»Šå›ã¯å€‹äººçš„ã«ãƒ¡ãƒªãƒƒãƒˆã ã¨æ€ã†éƒ¨åˆ†ã«ã¤ã„ã¦ç°¡å˜ã«ã¾ã¨ã‚ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ˆã‚‹è¡¨ç¤ºé€Ÿåº¦ã®é«˜é€ŸåŒ– ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã® SSL å¯¾å¿œ AWS Certificate Manager ã«ã¤ã„ã¦ ä»–ã«ã‚‚ãƒ¡ãƒªãƒƒãƒˆã¯ã‚ã‚‹ã‚‚ã‚ˆã† ã¾ã¨ã‚ æ¦‚è¦ AWS ä¸Šã§é™çš„ã‚µã‚¤ãƒˆã‚’ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹éš›ã«ã€ S3 ã®ã¿ã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã«æ¯”ã¹ã¦ CloudFront ã‚’ã‚»ãƒƒãƒˆã§ä½¿ã†ã“ã¨ã§å¾—ã‚‰ã‚Œã‚‹ãƒ¡ãƒªãƒƒãƒˆã«ã¤ã„ã¦ã¾ã¨ã‚ã¦ã¿ã¾ã™ã€‚\nä»Šå›è§¦ã‚Œã‚‹ãƒ¡ãƒªãƒƒãƒˆã¯ã€æ¬¡ã®ã‚ˆã†ãªå†…å®¹ã§ã™ã€‚\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ˆã‚‹è¡¨ç¤ºé€Ÿåº¦ã®é«˜é€ŸåŒ– ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã® SSL å¯¾å¿œ ãã‚Œãã‚Œã«ã¤ã„ã¦ç°¡å˜ã«ã¾ã¨ã‚ã¦ã„ãã¾ã™ã€‚\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ˆã‚‹è¡¨ç¤ºé€Ÿåº¦ã®é«˜é€ŸåŒ– CloudFront ã¯ AWS ãŒæä¾›ã—ã¦ã„ã‚‹ CDN ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚\nã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚ˆã‚Šä½ã„ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ¼ã§å±Šã‘ã‚‹ãŸã‚ã€Amazon CloudFront ã§ã¯ 42 ã‹å›½ 84 éƒ½å¸‚ã«ã‚ã‚‹ 216 ã® POP (Point Of Presence) (205 ã®ã‚¨ãƒƒã‚¸ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ 11 ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³åˆ¥ã‚¨ãƒƒã‚¸ã‚­ãƒ£ãƒƒã‚·ãƒ¥) ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚\nç‰¹å¾´ - Amazon CloudFront | AWS ã“ã®ã‚ˆã†ã«ã€ä¸–ç•Œä¸­ã«ã‚¨ãƒƒã‚¸ã‚µãƒ¼ãƒ (ã‚¨ãƒƒã‚¸ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³) ãŒã‚ã‚Šã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«è¿‘ã„ã‚¨ãƒƒã‚¸ã‚µãƒ¼ãƒã‹ã‚‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é…ä¿¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã¾ã‚ã€ã“ã‚Œã¯ CloudFront ã¨ã„ã†ã‹ CDN ã¨ã„ã†ã‚µãƒ¼ãƒ“ã‚¹è‡ªä½“ã«ã‚ˆã‚‹æ©æµã§ã™ã€‚ã¨ã¯è¨€ãˆã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«å¯¾ã—ã¦é«˜é€Ÿã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é…ä¿¡ã§ãã‚‹ã¨ã„ã†ã®ã¯å¤§ããªãƒ¡ãƒªãƒƒãƒˆã§ã™ã€‚\nCloudFront ã§ã¯ Cookie ã‚„ ã‚¯ã‚¨ãƒªæ–‡å­—åˆ—ã«ã‚ˆã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥åˆ¶å¾¡ã‚‚æŸ”è»Ÿã«è¨­å®šã§ãã‚‹ã®ã§ã€ä¸Šæ‰‹ãåˆ©ç”¨ã—ã¦ã„ããŸã„ã¨ã“ã‚ã§ã™ã€‚\nç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã® SSL å¯¾å¿œ S3 ã®ã¿ã®å ´åˆã€ S3 + CloudFront ã®å ´åˆã¨ã‚‚ã«ã€å„ã‚µãƒ¼ãƒ“ã‚¹ãŒæä¾›ã—ã¦ã„ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã¯ SSL/TSL æš—å·åŒ–ãŒæœ‰åŠ¹ã«ãªã£ã¦ãŠã‚Šã€ https ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é…ä¿¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚S3 ã§ã‚ã‚Œã° https://\u0026lt;bucket-name\u0026gt;.s3-ap-northeast-1.amazonaws.com ã€ CloudFront ã§ã‚ã‚Œã° https://\u0026lt;distribution-id\u0026gt;.cloudfront.net ã®ã‚ˆã†ãªãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nã—ã‹ã—ã€ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã§ SSL/TSL çµŒç”±ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é…ä¿¡ã—ã‚ˆã†ã¨æ€ã†ã¨ã€ CloudFront ã‚’åˆ©ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nS3 ã®ã¿ã§ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™1ãŒã€ãã®å ´åˆã¯ SSL è¨¼æ˜æ›¸ã‚’é…ç½®ã™ã‚‹å ´æ‰€ãŒãªãã€ SSL/TSL çµŒç”±ã§ã®é…ä¿¡ãŒã§ãã¾ã›ã‚“ã€‚ CloudFront ã‚’åˆ©ç”¨ã™ã‚Œã°ã€ ACM (AWS Certificate Manager) ã§ä½œæˆã—ãŸè¨¼æ˜æ›¸ã‚’ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã«è¨­å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã§ SSL/TSL çµŒç”±ã§ã®é…ä¿¡ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚\nAWS Certificate Manager ã«ã¤ã„ã¦ ACM ã«ã¤ã„ã¦ã‚‚ç°¡å˜ã«ãŠã•ã‚‰ã„ã—ã¦ãŠãã¾ã™ã€‚\nAWS Certificate Manager (ä»¥ä¸‹ã€ACM) ã¯ SSL/TLS è¨¼æ˜æ›¸ã‚’ç®¡ç†ã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã€ç®¡ç†ã—ã¦ã„ã‚‹è¨¼æ˜æ›¸ã‚’ AWS ã®å„ç¨®ã‚µãƒ¼ãƒ“ã‚¹ã§åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ãŸã€ ACM ã§ã®è¨¼æ˜æ›¸ç™ºè¡Œã¯ç„¡æ–™ã§ã€ä¸”ã¤æ›´æ–°ä½œæ¥­ã‚‚ä¸è¦ã§ã™ã€‚å€‹äººçš„ã«è¨¼æ˜æ›¸ã®ç®¡ç†ã£ã¦ã‹ãªã‚Šé¢å€’ã ã¨æ€ã£ã¦ã„ã‚‹ã®ã§ã€ ACM ã¯ã¨ã¦ã‚‚ã‚ã‚ŠãŒãŸã„ã‚µãƒ¼ãƒ“ã‚¹ã ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\nACM ã§ç®¡ç†ã—ã¦ã„ã‚‹è¨¼æ˜æ›¸ã‚’åˆ©ç”¨ã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚\nAmazon CloudFront Amazon API Gateway Elastic Load Balancing ã¤ã¾ã‚Šã€ AWS ã§ Web ã‚µãƒ¼ãƒ“ã‚¹ (ã‚µã‚¤ãƒˆ) ã‚„ API ã‚’ SSL/TLS çµŒç”±ã§é…ä¿¡ã™ã‚‹å ´åˆã¯ã€ä¸Šè¨˜ã®ã‚µãƒ¼ãƒ“ã‚¹ã« ACM ã§ç®¡ç†ã—ãŸè¨¼æ˜æ›¸ã‚’é…ç½®ã™ã‚‹ã‹ã€ EC2 ãªã©ã«ç›´æ¥è¨¼æ˜æ›¸ã‚’é…ç½®ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚(å¾Œè€…ã®å ´åˆã¯è¨¼æ˜æ›¸ã®æ›´æ–°ã‚’è‡ªåˆ†ãŸã¡ã§ã‚„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™)\nä»Šå›ã®ã‚ˆã†ã«ã€ S3 ã§ãƒ»ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã§ãƒ»SSL/TLS çµŒç”±ã§ é™çš„ã‚µã‚¤ãƒˆã‚’ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹å ´åˆã«ã¯ã€ CloudFront ã‚’åˆ©ç”¨ã™ã‚‹ã—ã‹æ–¹æ³•ãŒãªã„ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nAWS Certificate Managerï¼ˆSSL/TLS è¨¼æ˜æ›¸ã®ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ³ã€ç®¡ç†ã€ãŠã‚ˆã³ãƒ‡ãƒ—ãƒ­ã‚¤ï¼‰| AWS ä»–ã«ã‚‚ãƒ¡ãƒªãƒƒãƒˆã¯ã‚ã‚‹ã‚‚ã‚ˆã† ã“ã®è¨˜äº‹ã‚’æ›¸ãã«ã‚ãŸã£ã¦ã‚ã‚‰ãŸã‚ã¦ S3 ã®ä»•æ§˜ã«ã¤ã„ã¦èª¿ã¹ã¦ã„ãŸã®ã§ã™ãŒã€ã©ã†ã‚„ã‚‰ S3 ã«ã‚‚ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ã®ä»•æ§˜ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\nS3 ã§ã¯ã€ãƒã‚±ãƒƒãƒˆå†…ã®ä¸€ã¤ã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã«ã¤ã 1 ç§’é–“ã« 3,500 ä»¶ã® PUT/COPY/POST/DELETE ã€5,500 ä»¶ã® GET/HEAD ã¨ã€ãã‚Œãã‚Œãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚’è¶…ãˆã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒç™ºç”Ÿã™ã‚‹ã¨ã€ S3 ã¯ 503 Slow Dwon ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™å ´åˆãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\nCloudFront ã‚’ S3 ã®å‰æ®µã«ç½®ã‘ã°ã“ã®ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ã‚’å›é¿ã™ã‚‹ã“ã¨ã‚‚ã§ããã†ã§ã™ã€‚\nãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã®è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³: Amazon S3 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æœ€é©åŒ– - Amazon Simple Storage Service ã¾ãŸã‚³ã‚¹ãƒˆé¢ã§ã‚‚ãƒ¡ãƒªãƒƒãƒˆã¯ã‚ã‚Šãã†ã§ã™ã€‚ S3 ã®ã¿ã®å ´åˆã€ CloudFront çµŒç”±ã®å ´åˆã¨ã‚‚ã«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¸ã®ãƒ‡ãƒ¼ã‚¿è»¢é€ã«ã‹ã‹ã‚‹æ–™é‡‘ã¯ã»ã¼åŒã˜ã§ã™ãŒã€ CloudFront ã‚’åˆ©ç”¨ã™ã‚Œã° S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆå›æ•°ã‚’æ¸›ã‚‰ã™ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ãã®åˆ†ã¯ã‚³ã‚¹ãƒˆå‰Šæ¸›ãŒã§ããã†ã§ã™ã€‚ãŸã ã—ã€ S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã‹ã‹ã‚‹æ–™é‡‘ã¯ 1,000 ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ãŸã‚Š 0.00037 USD (æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³) ã¨ ã‹ãªã‚Šå°‘é¡ãªã®ã§ã€ãã‚‚ãã‚‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ãŒå°‘ãªã„å ´åˆã«ã¯ã‚ã¾ã‚Šã‚³ã‚¹ãƒˆå‰Šæ¸›ã¯è¦‹è¾¼ã‚ãªã„ã¨æ€ã„ã¾ã™ã€‚\nã¾ã¨ã‚ AWS ä¸Šã§é™çš„ã‚µã‚¤ãƒˆã‚’ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹éš›ã« Amazon S3 ã¨ Amazon CloudFront ã‚’ã‚»ãƒƒãƒˆã§ä½¿ã†ã“ã¨ã§å¾—ã‚‰ã‚Œã‚‹ãƒ¡ãƒªãƒƒãƒˆã«ã¤ã„ã¦ç°¡å˜ã«ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸã€‚\nS3 ã ã‘ã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã§ãã‚‹ã¨ã„ã†æ‰‹è»½ã•ã¯ã‚ã‚Šã¾ã™ãŒã€è¡¨ç¤ºé€Ÿåº¦ã®é«˜é€ŸåŒ–ã‚„ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã® SSL å¯¾å¿œãªã©ã€å¾—ã‚‰ã‚Œã‚‹ãƒ¡ãƒªãƒƒãƒˆã¯å¤§ãã„ã¨æ€ã„ã¾ã™ã€‚ãŸã ã—ã€ CloudFront ã®è¨­å®šå¤‰æ›´ã«ã¯å¤šå°‘æ™‚é–“ãŒã‹ã‹ã‚‹ã®ã§ã€è‰²ã€…è¨­å®šã‚’ã„ã˜ã£ã¦å¤‰æ›´ã—ã¦\u0026hellip;ã¨ã„ã†ä½œæ¥­ãŒé »ç¹ã«ç™ºç”Ÿã™ã‚‹å ´åˆã«ã¯ã¡ã‚‡ã£ã¨ã‚¹ãƒˆãƒ¬ã‚¹ã‚’æ„Ÿã˜ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã¨ã¯è¨€ã£ã¦ã‚‚ã€ä¸€æ™‚æœŸã«æ¯”ã¹ã¦ãã‚Œã‚‰ã«ã‹ã‹ã‚‹æ™‚é–“ã‚‚ç›¸å½“çŸ­ç¸®ã•ã‚Œã¦ã„ã‚‹ã®ã§ã‚¹ãƒˆãƒ¬ã‚¹ã‚‚ã ã„ã¶è»½æ¸›ã•ã‚Œã¦ã„ã¾ã™ã€‚\nSlashing CloudFront change propagation times in 2020 â€“ recent changes and looking forward | Networking \u0026amp;amp; Content Delivery CloudFrontã®ä½œæˆã‚„æ›´æ–°æ™‚é–“ãŒç´„5å€é«˜é€Ÿã«ãªã‚Šã¾ã—ãŸ | Developers.IO CloudFront ã¾ã§è¨­å®šã™ã‚‹ãƒãƒ³ã‚ºã‚ªãƒ³ã¯ã‚ã¾ã‚Šç„¡ã„ã®ã§é¢å€’ã ã¨æ€ã‚ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€å¾—ã‚‰ã‚Œã‚‹ãƒ¡ãƒªãƒƒãƒˆã¯å¤§ãã„ã®ã§ãœã² S3 ã¨ CloudFront ã¯ã‚»ãƒƒãƒˆã§ä½¿ã£ã¦ã¿ã¦ãã ã•ã„ã€‚\nStatic website hosting ã‚’æœ‰åŠ¹ã«ã—ã¦ Route 53 ã§ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¨­å®š\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-advantages-of-using-s3-and-cloudfront/",
    "title": "ãªãœ S3 ã®å‰æ®µã« CloudFront ã‚’ç½®ãã¨è‰¯ã„ã®ã‹"
  },
  {
    "contents": "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§é–‹å‚¬ã•ã‚ŒãŸã€ŒJAWS-UG ã‚³ãƒ³ãƒ†ãƒŠæ”¯éƒ¨ #17 ECS/Fargate PV 1.4 ãƒ­ãƒ¼ãƒ³ãƒè¨˜å¿µï¼ã€ã®ãƒ¬ãƒ (ãƒ¡ãƒ¢) ã§ã™ã€‚ç§ã®ã‚³ãƒ³ãƒ†ãƒŠã«å¯¾ã™ã‚‹ãƒ¬ãƒ™ãƒ«æ„Ÿã¯ã€ æœ€è¿‘å°‘ã—ãšã¤ Docker è§¦ã‚Šå§‹ã‚ã¦ã‚³ãƒ³ãƒ†ãƒŠç³»ã®æƒ…å ±ã‚‚è¿½ã£ã¦ã„ã‚‹ã‚‚ã®ã®ã‚ˆãã‚ã‹ã‚‰ã‚“ ã¨ã„ã†çŠ¶æ…‹ã§ã™ã€‚ã‚ˆãã‚ã‹ã‚‰ã‚“ãªã‚Šã«ã‚‚è©±ã‚’è´ã„ã¦ã¿ã‚ˆã†ã¨ã„ã†ã“ã¨ã§å‚åŠ ã—ã¾ã—ãŸã€‚\nã¡ãªã¿ã«ã‚³ãƒ³ãƒ†ãƒŠæ”¯éƒ¨ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯åˆå‚åŠ ã§ã—ãŸã€‚\nJAWS-UGã‚³ãƒ³ãƒ†ãƒŠæ”¯éƒ¨ #17 ECS/Fargate PV 1.4 ãƒ­ãƒ¼ãƒ³ãƒè¨˜å¿µï¼ - connpass ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚° #jawsug_ct ç›®æ¬¡ ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ« ã‚»ãƒƒã‚·ãƒ§ãƒ³ ã‚³ãƒ³ãƒ†ãƒŠã¨ã‚³ãƒ³ãƒ†ãƒŠã®ã¤ãªãã‹ãŸ on ECS é‡‘èç³»ã‚µãƒ¼ãƒ“ã‚¹ã§ECS/Fargateã‚’è¨­è¨ˆã™ã‚‹ã¨ã„ã†ã“ã¨ Fargateã§Serviceã€Cronã€RunTaskåŸºç›¤ã‚’é‹ç”¨ã™ã‚‹ ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¤ãƒ³ãƒ•ãƒ©ç’°å¢ƒã‚’å†æ§‹ç¯‰ï¼ã€œAWS Fargateã®ãŠã‹ã’ã§å¹¸ã›ã«ãªã‚ŒãŸè©±ã€œ å…¨ä½“ã®æ„Ÿæƒ³ ãã®ä»–ã®è³‡æ–™ ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ« æ™‚é–“ å†…å®¹ ç™»å£‡è€… (æ•¬ç§°ç•¥) 17:55 - 19:00 Black Belt Webinar \u0026ldquo;AWS ã‚³ãƒ³ãƒ†ãƒŠã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ\u0026rdquo; ã®è£ã¤ã¶ã‚„ã ã‚³ãƒ³ãƒ†ãƒŠæ”¯éƒ¨é‹å–¶ã®ã¿ãªã•ã‚“ 19:00 - 19:10 ä¼‘æ†© \u0026mdash; 19:10 - 19:15 æ”¯éƒ¨æ¡ˆå†…ãªã© ã‚³ãƒ³ãƒ†ãƒŠæ”¯éƒ¨é‹å–¶ 19:15 - 19:40 ã‚³ãƒ³ãƒ†ãƒŠã¨ã‚³ãƒ³ãƒ†ãƒŠã®ã¤ãªãã‹ãŸ on ECS Masatoshi Hayashi / AWSJ 19:40 - 20:05 é‡‘èç³»ã‚µãƒ¼ãƒ“ã‚¹ã§ECS/Fargateã‚’è¨­è¨ˆã™ã‚‹ã¨ã„ã†ã“ã¨ Masaya ARAI 20:05 - 20:15 ä¼‘æ†© \u0026mdash; 20:15 - 20:40 Fargateã§Serviceã€Cronã€RunTaskåŸºç›¤ã‚’é‹ç”¨ã™ã‚‹ Shohei Koyama 20:40 - 21:05 ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¤ãƒ³ãƒ•ãƒ©ç’°å¢ƒã‚’å†æ§‹ç¯‰ï¼ã€œAWS Fargateã®ãŠã‹ã’ã§å¹¸ã›ã«ãªã‚ŒãŸè©±ã€œ Takayuki Yoshioka 21:05 - 21:10 ç· ã‚ã®ã”æŒ¨æ‹¶ ã‚³ãƒ³ãƒ†ãƒŠæ”¯éƒ¨é‹å–¶ â€» Black Belt Webinar â€œAWS ã‚³ãƒ³ãƒ†ãƒŠã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆâ€ ã®è£ã¤ã¶ã‚„ã ã«ã¤ã„ã¦ã¯é…ä¿¡ã§ã¯ãªãã€ Twitter ä¸Šã§ãŸãã•ã‚“ãƒ„ã‚¤ãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ #jawsug_ct ã‚»ãƒƒã‚·ãƒ§ãƒ³ å„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®è´è¬›ãƒ¡ãƒ¢ã§ã™ã€‚ç™ºè¡¨è³‡æ–™ã‚‚ã€å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã«é–¢ã—ã¦ã¯éšæ™‚è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚\nã‚³ãƒ³ãƒ†ãƒŠã¨ã‚³ãƒ³ãƒ†ãƒŠã®ã¤ãªãã‹ãŸ on ECS ä¸‰ç¨®é¡ã®ã‚³ãƒ³ãƒ†ãƒŠé€£æºæ–¹æ³• ã‚¿ã‚¹ã‚¯å†…æ¥ç¶š ã‚µãƒ¼ãƒ“ã‚¹é–¢é€£ç³» ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•é€£æº æ™‚é–“çµŒéã€ã‚³ãƒ³ãƒ†ãƒŠãŒç™ºè¡Œã—ãŸã‚¤ãƒ™ãƒ³ãƒˆãªã© ã‚¿ã‚¹ã‚¯å†…ã‚³ãƒ³ãƒ†ãƒŠæ¥ç¶š ã‚µã‚¤ãƒ‰ã‚«ãƒ¼ã€ã‚¢ãƒ³ãƒã‚µãƒ€ãƒ¼ã€ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã¨ã‹å‘¼ã°ã‚Œã‚‹ ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ ãƒ­ã‚°é–¢é€£æ©Ÿèƒ½ã‚’ã‚µã‚¤ãƒ‰ã‚«ãƒ¼ã«ã™ã‚‹ ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨é–¢ä¿‚ã®ãªã„ãƒ­ã‚°ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å‡¦ç†ã‚’ã‚¢ãƒ—ãƒªã‚³ãƒ³ãƒ†ãƒŠã®å¤–ã«å‡ºã™ ã‚µãƒ¼ãƒ“ã‚¹é–“æ¥ç¶š ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®å¿…è¦æ€§ã¨ã¯\né«˜åº¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã¨ã„ã†é¸æŠè‚¢ ã‚ãˆã¦ã‚µãƒ¼ãƒ“ã‚¹ã«åˆ†ã‘ã‚‹ã®ã¯ã€ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ™‚ã«å•é¡ŒãŒç™ºç”Ÿã—ã¦ãã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚° (èª¿æ•´ã«æ™‚é–“ãŒã‹ã‹ã‚‹) ä¸€ã¤ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æ›´æ–°ã—ãŸã‚‰å£Šã‚ŒãŸ Fargate ã«ç§»è¡Œã—ãŸã„ ã‚µãƒ¼ãƒ“ã‚¹é–“ã®æ¥ç¶šã¨ã¯ã€ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å•é¡Œã®è§£æ±º\næ¥ç¶šã®ã‚ã¾ã‚Šè‰¯ããªã„ãƒ‘ã‚¿ãƒ¼ãƒ³\nã‚³ãƒ³ãƒ†ãƒŠå†…éƒ¨ã®å®Ÿè£…ã«æš—é»™çš„ã«ä¾å­˜ DB ã‚¹ã‚­ãƒ¼ãƒã®å…±æœ‰ãªã© ã“ã‚Œã¯ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¯„å›²ãŒçµã‚Œã¦ã„ãªã„ã€ã‚µãƒ¼ãƒ“ã‚¹é–“æ¥ç¶šã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æº€ãŸã•ãªã„ ä¸€èˆ¬çš„ãªã‚µãƒ¼ãƒ“ã‚¹é–“ã®æ¥ç¶š\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ã•ã‚ŒãŸ API ã§æ¥ç¶š ã‚µãƒ¼ãƒ“ã‚¹å†…ã®å®Ÿè£…ã«ä¾å­˜ã—ãªã„ ã©ã“ã§ã‚³ãƒ³ãƒ†ãƒŠãŒå‹•ã„ã¦ã„ã‚‹ã‹ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã«ã‚µãƒ¼ãƒ“ã‚¹ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒª ECS Service Discovery\nã‚µãƒ¼ãƒ“ã‚¹åŒå£«ã‚’ API ã§ã¤ãªã ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ãŒé€šã£ãŸã‚‰ã‚µãƒ¼ãƒ“ã‚¹ç™»éŒ² Cloud Map ã«ã‚µãƒ¼ãƒ“ã‚¹ IP ç™»éŒ² -\u0026gt; Route 53 ã« DNS ãƒ¬ã‚³ãƒ¼ãƒ‰ç™»éŒ² ç‹¬ç«‹æ€§ã®é«˜ã„ã‚µãƒ¼ãƒ“ã‚¹åŒå£«ã‚’çµ±ä¸€ã—ãŸæ–¹æ³•ã§ã¤ãªããŸã„\nã„ã‚ã‚“ãªçŠ¶æ³ (EC2, EKS, ECS, Python, Go, Java\u0026hellip;) ã‚µãƒ¼ãƒ“ã‚¹ãƒ¡ãƒƒã‚·ãƒ¥ (App Mesh) ã§è§£æ±ºã™ã‚‹ App Mesh\nã‚µãƒ¼ãƒ“ã‚¹é–“é€šä¿¡ã®æ¨™æº–åŒ– ã‚µãƒ¼ãƒ“ã‚¹ãŒç‹¬ç«‹ã—ã¦ã‚‚æ¥ç¶šã—ã‚„ã™ã„ åŒæœŸçš„ãªã¤ãªãæ–¹ã°ã‹ã‚Šã—ã¦ã„ã‚‹ã¨ã€ä¸€ã¤ã®ã‚µãƒ¼ãƒ“ã‚¹ã«è² æ‹…ãŒé›†ä¸­ã™ã‚‹\nã‚µãƒ¼ãƒ“ã‚¹é–“ã« Event Bus ã‚’æŒŸã‚€ ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•é€£æº EventBridge \u0026amp; SQS\nãƒãƒãƒ¼ã‚¸ãƒ‰ãª Event Bus ã‚¹ã‚­ãƒ¼ãƒã‚’å®šç¾©ã—ã¦ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã€ã‚µãƒ¼ãƒ“ã‚¹æ¥ç¶šã—ã‚„ã™ã„ SQS ã¨é€£æºã™ã‚‹ã“ã¨ã§ã€ãƒ”ãƒ¼ã‚¯ãŒèª­ã‚ãªã„ãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰ã«å¯¾å¿œ SNS \u0026amp; SQS\nã‚¹ã‚­ãƒ¼ãƒã®å®šç¾©ãªã©ã¯ã§ããªã„ãŒã€ã‚·ãƒ³ãƒ—ãƒ«ã«é«˜ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆãªé€£æºãŒå¯èƒ½ Kinesis Data Stream\nã‚¤ãƒ™ãƒ³ãƒˆã®ãƒªãƒ—ãƒ¬ã‚¤ãŒã—ã‚„ã™ã„ ä¾å­˜é–¢ä¿‚ãŒèª²é¡Œã«ãªã‚Šã‚„ã™ã„\nã©ã®ã‚­ãƒ¥ãƒ¼ãŒã©ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã€ã©ã†ã„ã†ç›®çš„ã§ ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã®æ•´åˆæ€§ ã‚¨ãƒ©ãƒ¼æ™‚ã«ã©ã†ãªã‚‹ã‹ ã‚µãƒ¼ãƒ“ã‚¹é–“ã®å‡¦ç†ã®æµã‚ŒãŒæ˜ç¤ºçš„ã§ãªã„ã®ã§ã‚ã‹ã‚Šã«ãã„ ã‚µãƒ¼ãƒ“ã‚¹ã‚’è¿½åŠ ã™ã‚‹ã¨ãã«ã€ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®å½±éŸ¿ãŒç™ºç”Ÿ Step Functions ã§ä¾å­˜é–¢ä¿‚ã‚’æ•´ç† ä¾å­˜é–¢ä¿‚ã®ç®¡ç†ã‚’ Step Functions ã«ç§»è­²ã™ã‚‹ã“ã¨ã§å„ã‚µãƒ¼ãƒ“ã‚¹ã®ç‹¬ç«‹æ€§ãŒé«˜ã¾ã‚‹ ã‚ã‚‹ã‚¹ãƒ†ãƒƒãƒ—ã‚’ä»–ã®å®Ÿè£…ã«å·®ã—æ›¿ãˆã‚‹ã¨ã„ã†ã“ã¨ãŒã‚„ã‚Šã‚„ã™ã„ ã¾ã¨ã‚ ãªã‚‹ã¹ãã‚·ãƒ³ãƒ—ãƒ«ã« å¿…è¦ã«å¿œã˜ã¦æ§˜ã€…ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¤œè¨ ã‚µãƒ¼ãƒ“ã‚¹ã®ç‹¬ç«‹æ€§ã‚’ä¿ã¤ã“ã¨ã‚’æ„è­˜ã™ã‚‹ è³ªç–‘ Cloud Map ã ã‘ã§ã¯è¦ä»¶ãŒé”æˆã§ããªã„å ´åˆã« App Mesh ã‚’ä½¿ã† Blue/Green ãƒ‡ãƒ—ãƒ­ã‚¤ é‡‘èç³»ã‚µãƒ¼ãƒ“ã‚¹ã§ECS/Fargateã‚’è¨­è¨ˆã™ã‚‹ã¨ã„ã†ã“ã¨ é‡‘èã‚µãƒ¼ãƒ“ã‚¹ã§ã® ECS/Fargate ã‚’åˆ©ç”¨ã—ãŸäº‹ä¾‹ã¨è¨­è¨ˆãƒã‚¤ãƒ³ãƒˆ\né‡‘èã‚µãƒ¼ãƒ“ã‚¹ã®å¤‰åŒ– å®‰å®šæ€§ x ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ x ã‚¬ãƒãƒŠãƒ³ã‚¹\nç¤¾ä¼šã‚¤ãƒ³ãƒ•ãƒ© å¯¾ã‚µã‚¤ãƒãƒ¼æ”»æ’ƒ ä¼çµ±çš„ãªçµ±åˆ¶ãƒ«ãƒ¼ãƒ«, FISC æ³•æ”¹æ­£ã‚„ FinTech ä¼æ¥­ã®ç™»å ´ã«ã‚ˆã‚‹é‡‘èã‚µãƒ¼ãƒ“ã‚¹ã®æ‹¡å¼µãŒé€²ã‚“ã§ã„ã‚‹\nECS/Fargate ã¨ã„ã†é¸æŠ FinTech é ˜åŸŸã§ã¯ãƒ¦ãƒ¼ã‚¶ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãªå¯¾å¿œãŒå¿…è¦ ãƒ¦ãƒ¼ã‚¶ä¾¡å€¤ã®å‘ä¸Šã«ãƒªã‚½ãƒ¼ã‚¹ã‚’é›†ä¸­ é »ç¹ãªæ”¹è‰¯ (å¤‰æ›´) ã‚’ã—ãŸã„ é‹ç”¨ä¿å®ˆä½œæ¥­ã‚’ãªã‚‹ã¹ãæ¸›ã‚‰ã—ãŸã„ å“è³ªã‚’ç¶­æŒã—ãŸã„ -\u0026gt; ã‚³ãƒ³ãƒ†ãƒŠã«ã‚ˆã‚‹è§£æ±º ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ¬ãƒ¼ãƒ³ã¨ã—ã¦ EC2, Fargate ã®é¸æŠè‚¢ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã¨ã—ã¦ ECS, EKS ã®é¸æŠè‚¢ EC2 ã ã¨é‹ç”¨è² è·ãŒå¤§ãã„ -\u0026gt; Fargate Fargate ã¯ä¾¡æ ¼æ”¹å®šã‚„ Savings Plans ã«ã‚ˆã£ã¦æ–™é‡‘ã‚‚ãŠã•ãˆã‚‰ã‚Œã‚‹ è¨­è¨ˆã«å¿…è¦ãªè¦–ç‚¹ã®æ•´ç† ä½•ã‚’æ‹ ã‚Šæ‰€ã«ã—ã¦è¨­è¨ˆã‚’ã™ã‚Œã°ã‚ˆã„ã‹ å®‰å®šæ€§ x ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ x ã‚¬ãƒãƒŠãƒ³ã‚¹ ã«ã¤ã„ã¦ã¯ Fargate ã§ã‚‚æ„è­˜çš„ã«æº€ãŸã•ãªã„ã¨ã„ã‘ãªã„ FISC å®‰å…¨å¯¾ç­–åŸºæº–ã¸ã®éµå®ˆ Well-Architected Framework ç‰¹å®šã®ãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰ã«ç‰¹åŒ–ã—ãŸ W-A Lens é‡‘èã«ç‰¹åŒ–ã—ãŸ Lens ã‚’ FISC ã«æ¬¡ã 2 ã¤ã‚ã®ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã¨ã—ã¦è¨­è¨ˆ ECS/Fargate è¨­è¨ˆã®è¦æ‰€ FISC ã®å®‰å…¨å¯¾ç­–åŸºæº– W-A FSI Lens AWS Well-Architected Framework Financial Services Industry Lens ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’å¯èƒ½ãªé™ã‚Šãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã«ä¿ã¤ ECR, S3, CloudWatch ã«ã¯ VPC ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§ã‚¢ã‚¯ã‚»ã‚¹ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«æƒ…å ±ã®ä¿è­· Secret Manager, ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã«ä¿å­˜ ã‚¿ã‚¹ã‚¯å®šç¾©å†…ã§ç’°å¢ƒå¤‰æ•°ã« ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã€ã‚¿ã‚¹ã‚¯å®šç¾©ã®æ›¸ãæ–¹ ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã©ã“ã‹ã‚‰ï¼Ÿãƒ†ã‚¹ãƒˆæ¸ˆã¿ï¼Ÿ å¿…è¦æœ€ä½é™ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã¿ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œæˆ CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®æ•´å‚™ è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ã®æœ‰åŠ¹å¯ ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜å ´æ‰€ CI/CD ã§ä½¿ã†ä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚‚ã¤ S3 ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ ã¾ã¨ã‚ ECS/Fargate ã‚’å®‰å…¨ã«é‡‘èã‚µãƒ¼ãƒ“ã‚¹ã§æ‰±ã†ãŸã‚ã®è¨­è¨ˆ FISC, W-A FSI Lens è³ªç–‘ VPC ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«å¯¾å¿œã—ã¦ãªã„ã‚µãƒ¼ãƒ“ã‚¹ã®è¾›ã• ç¾çŠ¶ã¯ç‰¹ã«ãªã„ã€‚ECR ã‚‚æœ€è¿‘å¯¾å¿œã—ã¦ã€ ECS ã¾ã‚ã‚Šã¯ã»ã¼ã»ã¼é–‰ã˜ãŸãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§å‹•ã‹ã›ã‚‹ã‚ˆã†ã«ãªã£ãŸ Fargateã§Serviceã€Cronã€RunTaskåŸºç›¤ã‚’é‹ç”¨ã™ã‚‹ ECS, Fargate ã§ååˆ† Service : ã‚µãƒ¼ãƒãƒ¼ RunTask : ä»»æ„ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å®Ÿè¡Œã€‚ãƒ¯ãƒ³ã‚·ãƒ§ãƒƒãƒˆ Cron : å®šæœŸå®Ÿè¡Œ Fargate ã®ã‚¿ã‚¹ã‚¯é–‹å§‹æ–¹æ³• Service RunTask Cron ã¯ EventBrige ã‹ã‚‰ Fargate ã® RunTask API Terraform åŸºç›¤ã®å…±é€šåŒ– ã‚·ãƒ³ãƒ—ãƒ«ãªè¨­è¨ˆ ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ« ã‚¹ãƒ‘ã‚¤ã‚¯ã‚’äºˆæƒ³ã—ã¦ã„ã‚‹å ´åˆã¯ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒ«ã®å€¤ã‚’ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³ã¯ draw.io ã§ä½œæˆ (.draw.io, .png ã‚’ Git ç®¡ç†) Terraform module ã§å…±é€šåŒ– å¤‰åŒ–ãŒå¤šã„ã¨ã“ã‚ã¯åˆ¥ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è€ƒãˆã‚‹ æ–°è¦ã‚µãƒ¼ãƒ“ã‚¹ã‚’è¿½åŠ ã™ã‚‹éš›ã§ã‚‚ Dockerfile ãŒã‚ã‚Œã°å°ä¸€æ™‚é–“ã§ä½œã‚Œã‚‹ ecs-deploy ã¨ã„ã†å†…è£½ãƒ„ãƒ¼ãƒ« (Go) Slack ã§ãƒ‡ãƒ—ãƒ­ã‚¤ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã® ON/OFF ã‚‚ Slack ã§ ãƒ­ã‚° ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã¯ Datadog, é•·æœŸä¿å­˜ (ç›£æŸ»ç”¨) ã¯ S3 ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚° ecs-update-notify (Go) ã‚¿ã‚¹ã‚¯ãŒåˆ‡ã‚Šæ›¿ã‚ã£ãŸã¨ãã€åˆ‡ã‚Šæ›¿ã‚ã‚‰ãªã‹ã£ãŸã¨ãã«é€šçŸ¥ sioncojp/ecs-update-notify | GitHub Fargate ã«ãªã£ãŸã‹ã‚‰ã¨è¨€ã£ã¦ç°¡å˜ã«ãªã‚‹ã‚ã‘ã§ã¯ãªã„ã€‚ã‚»ãƒ³ã‚¹ãŒå¿…è¦ ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¤ãƒ³ãƒ•ãƒ©ç’°å¢ƒã‚’å†æ§‹ç¯‰ï¼ã€œAWS Fargateã®ãŠã‹ã’ã§å¹¸ã›ã«ãªã‚ŒãŸè©±ã€œ ã‚¤ãƒ³ãƒ•ãƒ©ç’°å¢ƒã®å†æ§‹ç¯‰ æ§‹ç¯‰ RedMica : Redmine ã®æ¬¡æœŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æ–°æ©Ÿèƒ½ã‚’å…ˆè¡Œã—ã¦åˆ©ç”¨å¯èƒ½ redmica/redmica: The future Redmine you can get today â€” yet another distribution of a flexible project management software named Redmine | GitHub Before EC2 ãƒ¡ã‚¤ãƒ³ After ãƒ¡ã‚¤ãƒ³ã® Web ã‚µãƒ¼ãƒã‚’ Fargate on ECS è¸ã¿å°ã‚µãƒ¼ãƒ (EC2) è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯ S3 ã«ä¿æŒ å†æ§‹ç¯‰ã®ãƒã‚¤ãƒ³ãƒˆ ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šåŒ– DB, ãƒ­ã‚°, æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ« S3 ã¨ EFS ãŒå€™è£œ S3 ã¯ã‚¢ãƒ—ãƒªã®å¤‰æ›´ãŒå¿…è¦ã€ EFS ã¯å¤‰æ›´ä¸è¦ ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚³ã‚¹ãƒˆã¯ S3 ã®ã»ã†ãŒå®‰ã„ ãã‚‚ãã‚‚é–‹ç™ºå½“æ™‚ã¯ Fargate ã® EFS é€£æºãŒã§ããªã‹ã£ãŸ (æœ€è¿‘ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§é€£æºå¯èƒ½ã«) redmica/redmica_s3: Uses Amazon S3 for storing attachments | GitHub ãƒ¦ãƒ¼ã‚¶ã”ã¨ã« ECS Service èµ·å‹• ã‚³ã‚¹ãƒˆãƒ¡ãƒªãƒƒãƒˆãŒãªã„ ãƒ¦ãƒ¼ã‚¶ã”ã¨ã«ã‚¿ã‚¹ã‚¯å®šç¾©ã™ã‚‹ã®ãŒç…©é›‘ -\u0026gt; å´ä¸‹ Apartment (Gem) ã®åˆ©ç”¨ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å•é¡Œ migration é–¢é€£ã§ã¤ã‚‰ãã† -\u0026gt; å´ä¸‹ Apache + Passenger ãƒ—ãƒ­ã‚»ã‚¹ã”ã¨ã«ãƒãƒ¼ãƒˆåˆ‡ã‚Šæ›¿ãˆ Apache ã®è¨­å®šæƒ…å ±ã¯ S3 ã«ä¿å­˜ ãªãœ ECS ? å½“æ™‚ EKS ãŒæ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ãªã‹ã£ãŸ ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®æ–™é‡‘ãŒé«˜ã‹ã£ãŸ ãªãœ Fargata ? EC2 ã®ç®¡ç†ãŒé¢å€’ã€ãƒªã‚½ãƒ¼ã‚¹ã®è¨ˆç®—ã‚‚é¢å€’ ç®¡ç†ã‚³ã‚¹ãƒˆãŒä½ã„ EC2 ã¨æ¯”è¼ƒã—ã¦ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚³ã‚¹ãƒˆãŒé«˜ã„ã€ã‚µãƒ¼ãƒã«å…¥ã‚Œãªã„ ã‚µãƒ¼ãƒã«å…¥ã‚Œãªã„ã“ã¨ã¯ã€èª¿æŸ»ç¯„å›²ã‚’é™å®šã§ãã‚‹ã¨ã„ã†æ„å‘³ã§ã¯ãƒ¡ãƒªãƒƒãƒˆ ECS ã«ãªã‚Œã‚‹ã¾ã§ã¯ EC2 ã‚¿ã‚¤ãƒ—ã‚‚ç«‹ã¦ã¦ãŠã é‹ç”¨ CodePipeline GitLab ã‹ã‚‰ CodeCommit ã«ãƒŸãƒ©ãƒ¼ãƒªãƒ³ã‚° CodeBuild (build) CodeBuild (test) Dockerfile ENTORYPOINT ã« DB è¨­å®šç³»ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä»•è¾¼ã‚“ã§ãŠã Step Functions ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ–°è¦ç™»éŒ² ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®å¤‰æ›´ ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢ã€ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ Migration å•é¡Œ rails db:migrate ã‚’ã©ã†ã‚„ã£ã¦å®Ÿè¡Œã™ã‚‹ã‹ å½“åˆã¯ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã« migration ãƒ•ãƒ­ãƒ¼ã‚’å…¥ã‚Œã¦ã„ãŸ S3 ã‹ã‚‰ã‚µã‚¤ãƒˆã”ã¨ã®è¨­å®šæƒ…å ±ã‚’å–å¾—ã€Step Functions ã®ä¸¦åˆ—å‡¦ç†ã§ã‚µã‚¤ãƒˆã®æ•°ã ã‘ migration ã‚’å®Ÿè¡Œ å…¨ä½“ã®æ„Ÿæƒ³ ã€ŒJAWS-UG ã‚³ãƒ³ãƒ†ãƒŠæ”¯éƒ¨ #17 ECS/Fargate PV 1.4 ãƒ­ãƒ¼ãƒ³ãƒè¨˜å¿µï¼ã€ã®ãƒ¬ãƒ (ãƒ¡ãƒ¢) ã§ã—ãŸã€‚\nå†’é ­ã«æ›¸ã„ãŸé€šã‚Šã€ã‚³ãƒ³ãƒ†ãƒŠã»ã‚“ã¨ã«ãªã‚“ã‚‚ã‚ã‹ã‚‰ã‚“çŠ¶æ…‹ã§ã—ãŸãŒã€ã‚ã‹ã‚‰ãªã„ãªã‚Šã«è¿½ã£ã¦ã„ãŸ AWS ã«ãŠã‘ã‚‹ã‚³ãƒ³ãƒ†ãƒŠã«é–¢ã™ã‚‹æƒ…å ±ãŒã€ãªã‚“ã¨ãªãè‡ªåˆ†ã®ä¸­ã§å°‘ã—ç¹‹ãŒã£ãŸã‹ãªã¨ã„ã†å°è±¡ã§ã™ã€‚ä»Šå›ã¯ã‚³ãƒ³ãƒ†ãƒŠæ”¯éƒ¨ã®ã‚¤ãƒ™ãƒ³ãƒˆã ã£ãŸã‚“ã§ã™ãŒã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ä¸­ã§ä½•åº¦ã‚‚ Step Functions ã®è©±é¡ŒãŒå‡ºã¦ãã¦ã„ãŸã®ã§ã€é‡ã„è…°ã‚’ä¸Šã’ã¦ä½¿ã£ã¦ã¿ãŸã„ãªã¨æ€ã„ã¾ã—ãŸã€‚\nFargate, ECS ã«é–¢ã—ã¦ã¯å…ˆæ—¥ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’æ›¸ã„ãŸã€Œã¿ã‚“ãªã® AWSã€å†…ã§ãƒãƒ³ã‚ºã‚ªãƒ³ã‚’ã‚„ã£ãŸã®ã§ã€ä»Šå›ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘ã¦ã‚‚ã†ä¸€åº¦è©¦ã—ã¦ã¿ã‚‹ã¨ãªã«ã‹ç™ºè¦‹ãŒã‚ã‚Šãã†ãªæ°—ãŒã—ã¦ã„ã¾ã™ã€‚\nã‚ã¨å°è±¡çš„ã ã£ãŸã®ãŒã€é‡‘èç³»ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ Fargate ã‚’ä½¿ã†è©±ã§ã™ã€‚ FISC ã¨ AWS Well-Architected Framework ã® FSI Lens ã«æ²¿ã£ãŸè¨­è¨ˆã‚’ã—ã¦ã„ãã“ã¨ã§ã€è‡ªãšã¨é©åˆ‡ãªè¨­è¨ˆãƒ»æ§‹æˆã«ãªã£ã¦ã„ãã‚“ã ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚é‡‘èç³»ã¯å®‰å…¨æ€§ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ã‚¬ãƒãƒŠãƒ³ã‚¹ã«é–¢ã—ã¦å³ã—ã„è¦å®šãŒã‚ã‚Šã¾ã™ãŒã€ãã®ä»–ã® Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚‚ Well-Architected Framework ã«æ²¿ã£ãŸè¨­è¨ˆã‚’ã—ã¦ã„ãã“ã¨ã¯ã¨ã¦ã‚‚å¤§äº‹ã ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚\nã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬ã ã¨å…¨ç„¶ã‚ã‹ã‚‰ãªã„åˆ†é‡ã®ã‚¤ãƒ™ãƒ³ãƒˆã§ã‚‚æ°—è»½ã«å‚åŠ ã§ãã‚‹ã®ã§è‰¯ã„ãªã¨æ€ã£ã¦ã¾ã™ã€‚é‹å–¶ã®ã¿ãªã•ã¾ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®é–‹å‚¬ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼\nãã®ä»–ã®è³‡æ–™ connpass ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã«ã¦ç™»å£‡è³‡æ–™ã€å‹•ç”»ã€ãŠã‚ˆã³å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆãŒã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\nJAWS-UGã‚³ãƒ³ãƒ†ãƒŠæ”¯éƒ¨ #17 ECS/Fargate PV 1.4 ãƒ­ãƒ¼ãƒ³ãƒè¨˜å¿µï¼ - è³‡æ–™ä¸€è¦§ - connpass ",
    "permalink": "https://michimani.net/post/event-jaws-ug-container-17/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG ã‚³ãƒ³ãƒ†ãƒŠæ”¯éƒ¨ #17 ECS/Fargate PV 1.4 ãƒ­ãƒ¼ãƒ³ãƒè¨˜å¿µï¼ ã«ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§å‚åŠ ã—ã¾ã—ãŸ #jawsug_ct"
  },
  {
    "contents": "DeepL ã®æœ‰æ–™ãƒ—ãƒ©ãƒ³ (DeepL Pro) ãŒåˆ©ç”¨å¯èƒ½ã«ãªã‚Šã€ API ã§ç¿»è¨³ãªã©ã® DeepL ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ä»Šå›ã¯ Python ã§ DeepL ã® API ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ DeepL Pro å‰æ Python ã§ DeepL API ã‚’è©¦ã™ Translating text Monitoring usage ã¾ã¨ã‚ DeepL Pro DeepL ã®æœ‰æ–™ãƒ—ãƒ©ãƒ³ (DeepL Pro) ã«ã¯æ¬¡ã® 3 ã¤ãŒã‚ã‚Šã¾ã™ã€‚\nå€‹äººå‘ã‘ Starter Advanced Ultimate ãƒãƒ¼ãƒ å‘ã‘ Starter Advanced Ultimate é–‹ç™ºè€…å‘ã‘ DeepL API ãã‚Œãã‚Œæ¬¡ã®ã‚ˆã†ãªæ–™é‡‘è¨­å®šã«ãªã£ã¦ã„ã¾ã™ã€‚(å˜ä½ã¯ å††)\nå€‹äººå‘ã‘ å¹´æ‰•ã„ (æœˆæ›ç®—) æœˆæ‰•ã„ Starter 9,000 (750) 1,200 Advanced 30,000 (2,500) 3,800 Ultimate 60,000 (5,000) 7,500 ãƒãƒ¼ãƒ å‘ã‘ å¹´æ‰•ã„ (æœˆæ›ç®—) æœˆæ‰•ã„ Starter 9,000 (750) 1,200 Advanced 30,000 (2,500) 3,800 Ultimate 60,000 (5,000) 7,500 â€» ãƒ¦ãƒ¼ã‚¶ 1 äººã‚ãŸã‚Šã®æ–™é‡‘ã§ã™ã€‚\né–‹ç™ºè€…å‘ã‘ æœˆæ‰•ã„ + åˆ©ç”¨åˆ† DeepL API 630 â€» 630 å††/æœˆ ã®åŸºæœ¬æ–™é‡‘ã«åŠ ãˆã¦ã€ç¿»è¨³æ¸ˆã¿ã®ãƒ†ã‚­ã‚¹ãƒˆ 1,000,000 æ–‡å­—ã‚ãŸã‚Š 2,500 å††ã®æ–™é‡‘ãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚\nå€‹äººå‘ã‘ãƒ»ãƒãƒ¼ãƒ å‘ã‘ã®å„ãƒ—ãƒ©ãƒ³ã®æ©Ÿèƒ½å·®ã«ã¤ã„ã¦ã¯å…¬å¼ã®ãƒ—ãƒ©ãƒ³è¡¨ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nDeepL Pro å‰æ ä»Šå›ã¯ DeepL Pro ã® é–‹ç™ºè€…å‘ã‘ ãƒ—ãƒ©ãƒ³ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚\nAPI ã®å®Ÿè¡Œã«å¿…è¦ãª auth_token ã«ã¤ã„ã¦ã¯ã€ãƒ—ãƒ©ãƒ³å¥‘ç´„å¾Œã®ãƒã‚¤ãƒšãƒ¼ã‚¸ã§ç¢ºèªãƒ»å–å¾—æ¸ˆã¿ã¨ã—ã¾ã™ã€‚\nã¾ãŸã€ä»Šå›ã¯ Python 3.x ã§å®Ÿè£…ã—ã¾ã™ã€‚\nPython ã§ DeepL API ã‚’è©¦ã™ DeepL API ã§ã¯ã€å¤§ããåˆ†ã‘ã¦ 3 ç¨®é¡ã® API ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚\nTranslating text Translating Documents (beta) Other functions ä»Šå›ã¯ã“ã‚Œã‚‰ã®ã†ã¡ã€ Translating text ã¨ã€ Other functions ã«å«ã¾ã‚Œã‚‹ Monitoring usage ã® API ã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚\nTranslating text ã„ã‚ã‚†ã‚‹æ™®é€šã®æ–‡å­—åˆ—ç¿»è¨³ã§ã™ã€‚\nã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ https://api.deepl.com/v2/translate ã§ã€ãƒ¡ã‚½ãƒƒãƒ‰ã¯ POST ã€ä»–ã®ç¿»è¨³ã‚µãƒ¼ãƒ“ã‚¹ã® API ã¨ã»ã¼åŒã˜ã§ã€ ç¿»è¨³å¯¾è±¡ã®ãƒ†ã‚­ã‚¹ãƒˆ ã€ ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¨ãªã‚‹è¨€èª ã€ API ã®ãƒˆãƒ¼ã‚¯ãƒ³ (auth_key) ãŒå¿…é ˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nãŸã ã—ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã® Content-Type ã¯ application/x-www-form-urlencoded ã¨ãªã£ã¦ã„ã¾ã™ã€‚ãã®ä»–ã€ API ã®è©³ç´°ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nDeepL API | Translating text Python ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™ã€‚\nimport argparse import json import os import sys import urllib.parse import urllib.request with open(os.path.dirname(os.path.abspath(__file__)) + \u0026#39;/../config.json\u0026#39;) as j: config = json.load(j) AUTH_KEY = config[\u0026#39;auth_key\u0026#39;] DEEPL_TRANSLATE_EP = \u0026#39;https://api.deepl.com/v2/translate\u0026#39; T_LANG_CODES = [\u0026#34;DE\u0026#34;, \u0026#34;EN\u0026#34;, \u0026#34;FR\u0026#34;, \u0026#34;IT\u0026#34;, \u0026#34;JA\u0026#34;, \u0026#34;ES\u0026#34;, \u0026#34;NL\u0026#34;, \u0026#34;PL\u0026#34;, \u0026#34;PT-PT\u0026#34;, \u0026#34;PT-BR\u0026#34;, \u0026#34;PT\u0026#34;, \u0026#34;RU\u0026#34;, \u0026#34;ZH\u0026#34;] S_LANG_CODES = [\u0026#34;DE\u0026#34;, \u0026#34;EN\u0026#34;, \u0026#34;FR\u0026#34;, \u0026#34;IT\u0026#34;, \u0026#34;JA\u0026#34;, \u0026#34;ES\u0026#34;, \u0026#34;NL\u0026#34;, \u0026#34;PL\u0026#34;, \u0026#34;PT\u0026#34;, \u0026#34;RU\u0026#34;, \u0026#34;ZH\u0026#34;] p = argparse.ArgumentParser() p.add_argument(\u0026#39;-m\u0026#39;, \u0026#39;--message\u0026#39;, help=\u0026#39;text to translate. (Default: Hello World.)\u0026#39;, default=\u0026#39;Hello World.\u0026#39;) p.add_argument(\u0026#39;-t\u0026#39;, \u0026#39;--target\u0026#39;, help=f\u0026#39;target language code (Default: JA). allowed lang code : {str(T_LANG_CODES)}\u0026#39;, default=\u0026#39;JA\u0026#39;) p.add_argument(\u0026#39;-s\u0026#39;, \u0026#39;--source\u0026#39;, help=f\u0026#39;source language code (Default: auto). allowed lang code : {str(S_LANG_CODES)}\u0026#39;, default=\u0026#39;\u0026#39;) args = p.parse_args() def translate(text, s_lang=\u0026#39;\u0026#39;, t_lang=\u0026#39;JA\u0026#39;): headers = { \u0026#39;Content-Type\u0026#39;: \u0026#39;application/x-www-form-urlencoded; utf-8\u0026#39; } params = { \u0026#39;auth_key\u0026#39;: AUTH_KEY, \u0026#39;text\u0026#39;: text, \u0026#39;target_lang\u0026#39;: t_lang } if s_lang != \u0026#39;\u0026#39;: params[\u0026#39;source_lang\u0026#39;] = s_lang req = urllib.request.Request( DEEPL_TRANSLATE_EP, method=\u0026#39;POST\u0026#39;, data=urllib.parse.urlencode(params).encode(\u0026#39;utf-8\u0026#39;), headers=headers ) try: with urllib.request.urlopen(req) as res: res_json = json.loads(res.read().decode(\u0026#39;utf-8\u0026#39;)) print(json.dumps(res_json, indent=2, ensure_ascii=False)) except urllib.error.HTTPError as e: print(e) if __name__ == \u0026#39;__main__\u0026#39;: t_lang = args.target s_lang = args.source text = args.message if t_lang not in T_LANG_CODES: print(( f\u0026#39;ERROR: Invalid target language code \u0026#34;{t_lang}\u0026#34;. \\n\u0026#39; f\u0026#39;Alloed lang code are following. \\n{str(T_LANG_CODES)}\u0026#39; )) sys.exit(1) if s_lang != \u0026#39;\u0026#39; and s_lang not in S_LANG_CODES: print(( f\u0026#39;WARNING: Invalid source Language code \u0026#34;{s_lang}\u0026#34;. \\n\u0026#39; \u0026#39;The source language is automatically determined in this request. \\n\u0026#39; f\u0026#39;Allowed source lang code are following. \\n{str(S_LANG_CODES)} \\n\\n\u0026#39; )) s_lang = \u0026#39;\u0026#39; translate(text, t_lang=t_lang, s_lang=s_lang) ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ translate.py ã¨ã€ auth_key ã‚’è¨˜è¿°ã—ãŸ config.json ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«é…ç½®ã—ã¾ã™ã€‚\nâ”œâ”€â”€ config.json â””â”€â”€ src â””â”€â”€ translate.py config.json ã®ä¸­èº«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n{ \u0026#34;auth_key\u0026#34;: \u0026#34;your-deelpl-api-auth-token\u0026#34; } ãã—ã¦ã€æ¬¡ã®ã‚ˆã†ã«å®Ÿè¡Œã™ã‚‹ã¨ã€ç¿»è¨³çµæœãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n$ python3 src/translate.py -m \u0026#34;ã“ã‚Œã¯ DeepL API ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚\u0026#34; -t EN { \u0026#34;translations\u0026#34;: [ { \u0026#34;detected_source_language\u0026#34;: \u0026#34;JA\u0026#34;, \u0026#34;text\u0026#34;: \u0026#34;This is a sample program for the DeepL API.\u0026#34; } ] } Monitoring usage ç¶šã„ã¦ã¯ã€ DeepL API ã®ä½¿ç”¨çŠ¶æ³ã‚’å–å¾—ã™ã‚‹ API ã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚\nã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ https://api.deepl.com/v2/usage ã€ãƒ¡ã‚½ãƒƒãƒ‰ã¯ POST ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ auth_key ã®ã¿ã§ã™ã€‚\nDeepL API | Monitoring usage Python ã®ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nimport json import os import urllib.parse import urllib.request with open(os.path.dirname(os.path.abspath(__file__)) + \u0026#39;/../config.json\u0026#39;) as j: config = json.load(j) AUTH_KEY = config[\u0026#39;auth_key\u0026#39;] DEEPL_TRANSLATE_EP = \u0026#39;https://api.deepl.com/v2/usage\u0026#39; def monitor_usage(): headers = { \u0026#39;Content-Type\u0026#39;: \u0026#39;application/x-www-form-urlencoded; utf-8\u0026#39; } params = { \u0026#39;auth_key\u0026#39;: AUTH_KEY } req = urllib.request.Request( DEEPL_TRANSLATE_EP, method=\u0026#39;POST\u0026#39;, data=urllib.parse.urlencode(params).encode(\u0026#39;utf-8\u0026#39;), headers=headers ) try: with urllib.request.urlopen(req) as res: res_json = json.loads(res.read().decode(\u0026#39;utf-8\u0026#39;)) print(json.dumps(res_json, indent=2, ensure_ascii=False)) except urllib.error.HTTPError as e: print(e) if __name__ == \u0026#39;__main__\u0026#39;: monitor_usage() ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ç¾åœ¨ã®ç¿»è¨³æ–‡å­—æ•°ã®åˆè¨ˆã¨åˆ¶é™æ–‡å­—æ•°ãŒå–å¾—ã§ãã¾ã™ã€‚\n$ python3 src/usage.py { \u0026#34;character_count\u0026#34;: 192, \u0026#34;character_limit\u0026#34;: 1000000 } ã¾ã¨ã‚ DeepL API ã‚’ Python ã§å®Ÿè¡Œã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚ã“ã®è¨˜äº‹ã§ç´¹ä»‹ã—ãŸã‚µãƒ³ãƒ—ãƒ«ã«ã¤ã„ã¦ã¯ GitHub ã«ç½®ã„ã¦ã„ã¾ã™ã€‚\nç¿»è¨³ç²¾åº¦ãŒ Google ç¿»è¨³ã‚ˆã‚Šã‚‚å„ªã‚Œã¦ã„ã‚‹ã¨ã„ã†è©•ä¾¡ã‚‚ã‚ã‚‹ DeepL ã§ã™ãŒã€æœ‰æ–™ãƒ—ãƒ©ãƒ³ã¨ã—ã¦ API ã‚‚åˆ©ç”¨å¯èƒ½ã«ãªã£ãŸã“ã¨ã§ Web ã‚¢ãƒ—ãƒªã‚„ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã§ã®åˆ©ç”¨ã‚‚ã—ã‚„ã™ããªã‚Šã¾ã—ãŸã€‚ç¿»è¨³åˆ¶åº¦ã«é–¢ã—ã¦ã¯ç¿»è¨³ã™ã‚‹æ–‡ç« ã®æ€§è³ª (å°‚é–€ç”¨èªãŒå¤šã„ã€è©±ã—è¨€è‘‰ãŒå¤šã„ ãªã©) ã«ã‚ˆã£ã¦ã—ã£ã‹ã‚ŠåŸå‘³ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€æ–°ã—ã„é¸æŠè‚¢ã¨ã—ã¦å€™è£œã«å…¥ã‚Œã¦ãŠã„ã¦ã‚‚è‰¯ã•ãã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/programming-using-deepl-api-by-python/",
    "title": "Python ã§ DeepL API ã‚’ä½¿ã£ã¦ã¿ãŸ"
  },
  {
    "contents": "ä¸€ã¤å‰ã®è¨˜äº‹ã§ Google Apps Script ã‚’ä½¿ã£ã¦ Slack ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å¤‰æ›´ã—ã¾ã—ãŸãŒã€ä»Šå›ã¯ãã‚Œã‚’ Python è£½ã® CLI ãƒ„ãƒ¼ãƒ«ã£ã½ã„ã‚‚ã®ã¨ã—ã¦ä½œã£ã¦ã¿ãŸè©±ã§ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ å®Ÿè£… config.json change_status.py Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã§å®Ÿè¡Œ ã¾ã¨ã‚ æ¦‚è¦ ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ Slack ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å¤‰æ›´ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ Python ã§å®Ÿè£…ã—ã¾ã™ã€‚ CLI ãƒ„ãƒ¼ãƒ«ã¨ã„ã†ã»ã©ã—ã£ã‹ã‚Šã—ãŸã‚‚ã®ã§ã¯ãªã„ãŸã‚ã€ ã€Œã£ã½ã„ã‚‚ã®ã€ ã¨ã„ã†ã“ã¨ã«ã—ã¦ãŠãã¾ã™ã€‚\nåŸºæœ¬çš„ã«ã¯å‰å›ã®è¨˜äº‹ã§æ›¸ã„ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ Python ã«æ›¸ãæ›ãˆã‚‹ã®ã§ã™ãŒã€ã‚»ãƒƒãƒˆã™ã‚‹çµµæ–‡å­—ã‚„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦æ¸¡ã›ã‚‹ã‚ˆã†ãªå½¢ã§å®Ÿè£…ã‚’ã—ã¦ã„ã¾ã™ã€‚\nå®Ÿè£… æ§‹æˆã¨ã—ã¦ã¯ã€ Slack ã® API ã‚„å¯¾è±¡ã®ãƒ¦ãƒ¼ã‚¶ ID ãªã©ã‚’è¨˜è¿°ã—ãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ« config.json ã¨ã€å®Ÿéš›ã®å‡¦ç†ã‚’ã™ã‚‹ Python ã‚¹ã‚¯ãƒªãƒ—ãƒˆ change_status.py ã® 2 ã¤ã‚’æ¬¡ã®ã‚ˆã†ã«é…ç½®ã—ã¾ã™ã€‚\n$ tree . . â”œâ”€â”€ config.json â””â”€â”€ src â””â”€â”€ change_status.py config.json config.json ã®ä¸­èº«ã¯æ¬¡ã®ã‚ˆã†ãªæ§‹é€ ã«ã—ã¾ã™ã€‚\n{ \u0026#34;slack\u0026#34;: { \u0026#34;user_id\u0026#34;: \u0026#34;XXXXXXXX\u0026#34;, \u0026#34;api_token\u0026#34;: \u0026#34;xoxp-********-********-********\u0026#34;, \u0026#34;default_status_emoji\u0026#34;: \u0026#34;:ghost:\u0026#34;, \u0026#34;default_status_message\u0026#34;: \u0026#34;I\u0026#39;m a ghost.\u0026#34; } } user_id : ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ã®å¯¾è±¡ã¨ãªã‚‹ Slack ãƒ¦ãƒ¼ã‚¶ã® ID ã§ã™ã€‚ api_token : Slack API ã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã® token ã§ã™ã€‚ ã‚¹ã‚³ãƒ¼ãƒ—ã¨ã—ã¦ users.profile:write ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚ default_status_emoji : çµµæ–‡å­—æŒ‡å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’çœç•¥ã—ãŸéš›ã«ä½¿ç”¨ã™ã‚‹çµµæ–‡å­—ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚ default_status_message : ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æŒ‡å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’çœç•¥ã—ãŸéš›ã«ä½¿ç”¨ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã™ã€‚ change_status.py change_status.py ã¯æ¬¡ã®ã‚ˆã†ã«å®Ÿè£…ã—ã¾ã™ã€‚ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã¯ Python 3 ã§ã™ã€‚\nimport argparse import json import os import urllib.parse import urllib.request # define config value with open(os.path.dirname(os.path.abspath(__file__)) + \u0026#39;/../config.json\u0026#39;) as j: config = json.load(j) USER_ID = config[\u0026#39;slack\u0026#39;][\u0026#39;user_id\u0026#39;] API_TOKEN = config[\u0026#39;slack\u0026#39;][\u0026#39;api_token\u0026#39;] DEFAULT_STATUS_EMOJI = config[\u0026#39;slack\u0026#39;][\u0026#39;default_status_emoji\u0026#39;] DEFAULT_STATUS_MESSAGE = config[\u0026#39;slack\u0026#39;][\u0026#39;default_status_message\u0026#39;] PROFILE_SET_URL = \u0026#39;https://slack.com/api/users.profile.set\u0026#39; # CLI option setting p = argparse.ArgumentParser() p.add_argument(\u0026#39;-e\u0026#39;, \u0026#39;--emoji\u0026#39;, help=\u0026#39;Slack emoji code for status icon. (e.g) :ghost:\u0026#39;, default=DEFAULT_STATUS_EMOJI) p.add_argument(\u0026#39;-m\u0026#39;, \u0026#39;--message\u0026#39;, help=\u0026#39;message for status.\u0026#39;, default=DEFAULT_STATUS_MESSAGE) args = p.parse_args() def set_status(emoji, message): # type: (str) -\u0026gt; () \u0026#34;\u0026#34;\u0026#34;Set Slack status.\u0026#34;\u0026#34;\u0026#34; headers = { \u0026#39;Authorization\u0026#39;: \u0026#39;Bearer %s\u0026#39; % API_TOKEN, \u0026#39;X-Slack-User\u0026#39;: USER_ID, \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json; charset=utf-8\u0026#39; } params = { \u0026#39;profile\u0026#39;: { \u0026#39;status_emoji\u0026#39;: emoji, \u0026#39;status_text\u0026#39;: message } } req = urllib.request.Request( PROFILE_SET_URL, method=\u0026#39;POST\u0026#39;, data=json.dumps(params).encode(\u0026#39;utf-8\u0026#39;), headers=headers ) with urllib.request.urlopen(req) as res: print(json.dumps(json.loads(res.read().decode(\u0026#39;utf-8\u0026#39;)), indent=2)) if __name__ == \u0026#39;__main__\u0026#39;: status_emoji = args.emoji status_message = args.message set_status(status_emoji, status_message) ç‰¹ã«å¤‰ã‚ã£ãŸã¨ã“ã‚ã¯ç„¡ã„ã§ã™ãŒã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å®Ÿè¡Œã™ã‚‹éš›ã«å¼•æ•°ã¨ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æ¥½ã«æ‰±ã†ã“ã¨ãŒå‡ºæ¥ã‚‹ã‚ˆã†ã« argparse ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚\nãƒ•ã‚¡ã‚¤ãƒ«ä¸Šéƒ¨ã«ã‚ã‚‹ä¸‹è¨˜ã®éƒ¨åˆ†ã§ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è¨­å®šã‚’ã—ã¦ã„ã¾ã™ã€‚\n# CLI option setting p = argparse.ArgumentParser() p.add_argument(\u0026#39;-e\u0026#39;, \u0026#39;--emoji\u0026#39;, help=\u0026#39;Slack emoji code for status icon. (e.g) :ghost:\u0026#39;, default=DEFAULT_STATUS_EMOJI) p.add_argument(\u0026#39;-m\u0026#39;, \u0026#39;--message\u0026#39;, help=\u0026#39;message for status.\u0026#39;, default=DEFAULT_STATUS_MESSAGE) args = p.parse_args() ã“ã‚Œã§ã€ -e ã¾ãŸã¯ --emoji ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€ -m ã¾ãŸã¯ --message ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦çµµæ–‡å­—ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãã‚Œãã‚Œã®å€¤ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¾‹ãˆã° -e ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã•ã‚ŒãŸå€¤ã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ å†…ã§å‚ç…§ã™ã‚‹ã«ã¯ã€ args.emoji ã®ã‚ˆã†ã«ã—ã¦ä½¿ã„ã¾ã™ã€‚\nargparse ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®è¨˜äº‹ã‚’å‚è€ƒã«ã—ã¾ã—ãŸã€‚\n[ãƒ†ãƒ³ãƒ—ãƒ¬ä»˜ã]Pythonã§CLIãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚‹ã¨ãã®Tips | Developers.IO argparse ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ -h ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ add_argument() ã® help ã§æŒ‡å®šã—ãŸæ–‡å­—åˆ—ãŒè‰¯ã„æ„Ÿã˜ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n$ python3 src/change_status.py -h usage: change_status.py [-h] [-e EMOJI] [-m MESSAGE] optional arguments: -h, --help show this help message and exit -e EMOJI, --emoji EMOJI Slack emoji code for status icon. (e.g) :ghost: -m MESSAGE, --message MESSAGE message for status. Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã§å®Ÿè¡Œ æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å©ã„ã¦å®Ÿè¡Œã—ã¾ã™ã€‚\n$ python3 src/change_status.py ãŸã ã€ã“ã‚Œã ã¨ Python 3 ã®ç’°å¢ƒãŒç„¡ã„ã¨ãƒ€ãƒ¡ãªã®ã§ã€ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã§å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã—ãŸã€‚\næ¬¡ã®ã‚ˆã†ãª Dockerfile ã‚’ç”¨æ„ã—ã¾ã™ã€‚ä»Šå›ã¯ Python 3.8.3 ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nFROM python:3.8.3 COPY . /app ENTRYPOINT [ \u0026#34;python\u0026#34;, \u0026#34;/app/src/change_status.py\u0026#34; ] ã“ã‚Œã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦\n$ docker build -t michimani/chss . å®Ÿè¡Œã—ã¾ã™ã€‚\n$ docker run michimani/chss ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹å ´åˆã¯æ¬¡ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ã€‚\n$ docker run michimani/chss -e \u0026#34;:monkey:\u0026#34; -m \u0026#34;I am a monkey.\u0026#34; ã“ã®ã‚ˆã†ã«ã€ Docker ã¯ CLI ã£ã½ãä½¿ã†ã“ã¨ãŒå‡ºæ¥ã‚‹ã®ãŒè‰¯ã„ã§ã™ã­ã€‚å¿…è¦ãªãƒ—ãƒ­ã‚»ã‚¹ã‚’å¿…è¦ãªã¨ãã«ã ã‘èµ·å‹•ã—ã¦ã€ä¸è¦ã«ãªã£ãŸã‚‰å‰Šé™¤ã™ã‚‹ã¨ã„ã† Docker ã®ä¸»ã¨ã—ãŸä½¿ã„æ–¹ã§ã™ã€‚ \u0026hellip; ã¾ã‚ã“ã‚Œã¯å…ˆæ—¥ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ãŸã¿ã‚“ãªã® Python ã® ç¬¬ 2 ç« ã«æ›¸ã‹ã‚Œã¦ã„ãŸã“ã¨ãªã‚“ã§ã™ãŒã€‚\nã¾ã¨ã‚ Slack ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å¤‰æ›´ã™ã‚‹ CLI ãƒ„ãƒ¼ãƒ«ã£ã½ã„ã‚‚ã®ã‚’ Python ã§ä½œã£ã¦ã¿ãŸè©±ã§ã—ãŸã€‚ ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ GitHub ã«ç½®ã„ã¦ã„ã‚‹ã®ã§ã€ã‚‚ã—ã‚ˆã‹ã£ãŸã‚‰ä½¿ã£ã¦ã¿ã¦ãã ã•ã„ã€‚\nç”¨é€”ã¨ã—ã¦ã¯ã€æ¯æ—¥ã®å‹¤å‹™é–‹å§‹ãƒ»çµ‚äº†ã¨ä¸€ç·’ã«ä½¿ã†ãã‚‰ã„ã§ã™ã‹ã­\u0026hellip;ã€‚\n",
    "permalink": "https://michimani.net/post/programming-set-slack-status-by-python/",
    "title": "Slack ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å¤‰æ›´ã™ã‚‹ CLI ãƒ„ãƒ¼ãƒ«ã£ã½ã„ã‚‚ã®ã‚’ Python ã§ä½œã£ã¦ã¿ãŸ"
  },
  {
    "contents": "ãµã¨ã€ Google ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®äºˆå®šã¨ Slack ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’é€£æºã•ã›ãŸã„ãªã¨æ€ã„ã€ Google Apps Script ã§ãã®å‡¦ç†ã‚’æ›¸ã„ã¦ã¿ãŸè©±ã§ã™ã€‚\næ¦‚è¦ å…ˆã«æ›¸ã„ã¦ãŠãã¾ã™ãŒã€å†’é ­ã§æ›¸ã„ãŸ ã€ŒGoogle ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®äºˆå®šã¨ Slack ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’é€£æºã•ã›ãŸã„ã€ ã¨ã„ã†ã®ã¯å®Ÿç¾ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ãã†ã„ã†ä¾¿åˆ©ãªã‚‚ã®ã¯æ—¢ã«å­˜åœ¨ã—ã¦ã„ã‚‹ã®ã§ã€ã‚‚ã—é€£æºã•ã›ãŸã„ãªã¨æ€ã£ã¦ã„ã‚‹æ–¹ã¯ä½¿ã£ã¦ã¿ã¦ãã ã•ã„ã€‚\nGoogle Calendar ã¨ Slack ã‚’é€£æºã•ã›ã‚‹ | Slack ãªã®ã§ã€ä»Šå›ã¯ãŸã å˜ã« Google Apps Script (ä»¥ä¸‹ã€GAS) ã§ Slack ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å¤‰æ›´ã—ã¦ã¿ãŸã¨ã„ã†è©±ã«ãªã‚Šã¾ã™ã€‚ã„ã‚ã‚†ã‚‹ä¾›é¤Šãƒ–ãƒ­ã‚°ã§ã™ã€‚\n(ã‚„ã‚ŠãŸã‹ã£ãŸã“ã¨) GAS ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã®ãƒˆãƒªã‚¬ãƒ¼ã«ã¯æ¬¡ã® 2 é€šã‚ŠãŒã‚ã‚Šã¾ã™ã€‚\næ™‚é–“ä¸»å°å‹ ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‹ã‚‰ æ™‚é–“ä¸»å°å‹ ã¯ã€ã„ã‚ã‚†ã‚‹ cron ã¿ãŸã„ãªå½¢å¼ã§å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‹ã‚‰ ã¯ã€ Google ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã¨é€£å‹•ã—ãŸãƒˆãƒªã‚¬ãƒ¼ã¨ãªã‚Šã¾ã™ã€‚ã“ã® é€£å‹• ã‚’ã€å‹æ‰‹ã«è‰¯ã„ã‚ˆã†ã«è§£é‡ˆã—ã¦ ã€Œäºˆå®šã®é–‹å§‹ã¨ã‹çµ‚äº†ã‚‚ãƒˆãƒªã‚¬ãƒ¼ã«ã§ãã‚‹ã‚“ã˜ã‚ƒã­ï¼Ÿã€ ã¨æ€ã£ã¦ã„ãŸã®ãŒé–“é•ã„ã§ã—ãŸã€‚ GAS ã®ãƒˆãƒªã‚¬ãƒ¼ã¨ã—ã¦æŒ‡å®šã§ãã‚‹ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®é€£å‹•ã¨ã¯ã€ äºˆå®šã®å¤‰æ›´ ã®ã‚ˆã†ã§ã™ã€‚\nGAS ã§ Slack ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ ã§ã¯ã€ä¾›é¤Šã™ã‚‹ GAS ã®ç´¹ä»‹ã§ã™ã€‚\nSlack ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ã¯ POST https://slack.com/api/users.profile.set ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¾ã™ã€‚\nã“ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§ã¯ãƒ¦ãƒ¼ã‚¶åã‚„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚‚å¤‰æ›´ã§ãã¾ã™ãŒã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å¤‰æ›´ã™ã‚‹å ´åˆã¯æ¬¡ã®ã‚ˆã†ãª payload ã‚’ post ã—ã¾ã™ã€‚\n{ \u0026#34;profile\u0026#34;: { \u0026#34;status_emoji\u0026#34;: \u0026#34;:ghost:\u0026#34;, \u0026#34;status_text\u0026#34;: \u0026#34;status message\u0026#34; } } status_emoji ã«ã¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®çµµæ–‡å­—ã‚³ãƒ¼ãƒ‰ã‚’æŒ‡å®šã—ã¾ã™ã€‚å­˜åœ¨ã—ãªã„çµµæ–‡å­—ã‚’æŒ‡å®šã—ãŸå ´åˆã¯ profile_status_set_failed_not_valid_emoji ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã™ã€‚ staus_emoji ã€ status_text ã¨ã‚‚ã«ç©ºæ–‡å­—ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nusers.profile.set method | Slack ã¾ãŸã€ GAS ã§å¤–éƒ¨ API ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹ãŸã‚ã«ã¯ UrlFetchApp.fetch() ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nClass UrlFetchApp | Apps Script | Google Developers ã¾ã¨ã‚ Google Apps Script ã§ Slack ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å¤‰æ›´ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã¨ãã«ã¾ã¨ã‚ã‚‹å†…å®¹ã‚‚ãªã„ã§ã™ãŒã€ä¾¿åˆ©ãªä»•çµ„ã¿ã¯ã ã„ãŸã„æ—¢ã«å­˜åœ¨ã—ã¦ã„ã‚‹ãªã¨æ€ã„ã¾ã—ãŸã€‚(å°ä¸¦)\n",
    "permalink": "https://michimani.net/post/programming-set-slack-status-via-google-apps-script/",
    "title": "Google Apps Script ã§ Slack ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å¤‰æ›´ã™ã‚‹"
  },
  {
    "contents": "ã“ã®ãƒ–ãƒ­ã‚° (Hugo) ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ã«ã¯ AWS CodePipeline ã‚’ä½¿ã£ã¦ãŠã‚Šã€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å®Ÿè¡ŒãŒå®Œäº†ã™ã‚‹ã¾ã§ã« 2 ã€œ 3 åˆ†ã‹ã‹ã£ã¦ã„ã¾ã—ãŸã€‚ã›ã£ã‹ã Hugo ã®ãƒ“ãƒ«ãƒ‰ãŒé«˜é€Ÿãªã®ã«å…¨ä½“ã§ãã‚“ãªã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã„ã‚‹ã®ã¯æ®‹å¿µã ã£ãŸã®ã§ã€ãªã‚“ã¨ã‹ã—ã¦æ™‚é–“çŸ­ç¸®ã§ããªã„ã‹ãªãƒ¼ã¨ã„ã†ã®ãŒä»Šå›ã®è©±ã§ã™ã€‚\nç›®æ¬¡ ã‚„ã‚‹ã“ã¨ CodePipeline ã‚’ä½¿ã£ãŸãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼ ã‚„ã£ãŸã“ã¨ CodeBuild ã ã‘ã‚’ä½¿ã£ãŸãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼ CodeBuild ã ã‘ã«ã™ã‚‹ã“ã¨ã§ç™ºç”Ÿã™ã‚‹ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ ã¾ã¨ã‚ ã‚„ã‚‹ã“ã¨ CodePipeline ã‚’ä½¿ç”¨ã—ãŸ Hugo ã®ãƒ“ãƒ«ãƒ‰ãŠã‚ˆã³ãƒ‡ãƒ—ãƒ­ã‚¤ã®æ™‚é–“ã‚’ã€ãªã‚“ã¨ã‹ã—ã¦çŸ­ç¸®ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚ \u0026lsquo;ãªã‚“ã¨ã‹ã—ã¦\u0026rsquo; ã¨ã„ã£ã¦ã‚‚ä½•ãŒåŸå› ãŒã‚ã‹ã‚‰ãªã„ã¨æ‰‹ã®ã¤ã‘ã‚ˆã†ãŒãªã„ã®ã§ã€ã¨ã‚Šã‚ãˆãšç¾çŠ¶ã®æ§‹æˆã‚’ãŠã•ã‚‰ã„ã—ã¦ãŠãã¾ã™ã€‚\nCodePipeline ã‚’ä½¿ã£ãŸãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼ ã“ã‚Œã¾ã§ã¯æ¬¡ã®ã‚ˆã†ãªæ§‹æˆã§ Hugo ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è¡Œã£ã¦ã„ã¾ã—ãŸã€‚\nCodePipeline ã§ã¯ã€ GitHub ã¸ã® Push ã¨ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦æ¬¡ã® 3 ã¤ã®ãƒ•ã‚§ãƒ¼ã‚ºã§å‡¦ç†ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã—ãŸã€‚\nGitHub ã‹ã‚‰ã‚½ãƒ¼ã‚¹ã‚’å–å¾— CodeBuild ã§ Hugo ã®ãƒ“ãƒ«ãƒ‰ã€ S3 ãƒã‚±ãƒƒãƒˆã¸ãƒ‡ãƒ—ãƒ­ã‚¤ Lambda é–¢æ•°ã‚’å®Ÿè¡Œã—ã€ Slack ã¸ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å®Ÿè¡Œçµæœã‚’é€šçŸ¥ ã“ã®ä¸­ã§ãƒ¡ã‚¤ãƒ³ãªã®ã¯ã‚‚ã¡ã‚ã‚“ \u0026ldquo;2. CodeBuild ã§ Hugo ã®ãƒ“ãƒ«ãƒ‰ã€ S3 ãƒã‚±ãƒƒãƒˆã¸ãƒ‡ãƒ—ãƒ­ã‚¤\u0026rdquo; ã§ã™ãŒã€ãã®å‡¦ç†è‡ªä½“ã®æ‰€è¦æ™‚é–“ã¯ç´„ 1 åˆ†ç¨‹åº¦ã§ã—ãŸã€‚\nã‚½ãƒ¼ã‚¹ã®å–å¾—ã¯ CodeBuild å˜ä½“ã§ã‚‚ã§ãã¾ã™ã—ã€æ˜¨å¹´ 12 æœˆã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«ã‚ˆã‚Šã€å„ Code ã‚·ãƒªãƒ¼ã‚ºã‹ã‚‰ SNS ãƒˆãƒ”ãƒƒã‚¯ãŠã‚ˆã³ä»Šå¹´ã® 4 æœˆã« GA ã¨ãªã£ãŸ AWS Chatbot çµŒç”±ã§é€šçŸ¥ã‚’è¡Œã†ã“ã¨ãŒå‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nã˜ã‚ƒã‚ã‚‚ã† CodeBuild ã ã‘ã§ã„ã„ã‚„ã‚“ã€‚ã¨ãªã‚‹ã‚ã‘ã§ã™ã€‚\nã‚„ã£ãŸã“ã¨ CodePipeline ã®ä½¿ç”¨ã‚’ã‚„ã‚ã¦ã€ CodeBuild ã ã‘ã§ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼ã‚’å®Œçµã™ã‚‹ã‚ˆã†ã«æ§‹æˆã‚’å¤‰æ›´ã—ã¾ã—ãŸã€‚\nCodeBuild ã ã‘ã‚’ä½¿ã£ãŸãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼ CodeBuild ã ã‘ã‚’ä½¿ã£ãŸãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼ã¯ã€æ¬¡ã®ã‚ˆã†ãªæ§‹æˆã«ãªã‚Šã¾ã™ã€‚\nGitHub ã¸ã® Push ã‚’ CodeBuild ã§æ¤œå‡ºã—ã€ãƒ“ãƒ«ãƒ‰ã‚’é–‹å§‹ã—ã¾ã™ã€‚ãã—ã¦ã€çµæœã®é€šçŸ¥ã¯ AWS Chatbot ã«ã‚ˆã£ã¦ Slack ã«é€šçŸ¥ã—ã¾ã™ã€‚ã“ã®æ§‹æˆã«ã™ã‚‹ã“ã¨ã§ã€å…¨ä½“ã®å‡¦ç†æ™‚é–“ã¯ç´„ 1 åˆ†ã¨ãªã‚Šã¾ã—ãŸã€‚\nãŸã ã—ã€é€šçŸ¥ã®å†…å®¹ã«é–¢ã—ã¦ã¯ä»¥å‰ã‚ˆã‚Šã‚‚ç°¡ç´ ãªã‚‚ã®ã«ãªã‚Šã¾ã—ãŸã€‚ä»¥å‰ã¯ é€šçŸ¥ç”¨ã® Lambda é–¢æ•°ã‚’ç”¨æ„ã—ã¦ã€å®Ÿè¡Œä¸­ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®æƒ…å ±ã‚’ã‚´ãƒ‹ãƒ§ã‚´ãƒ‹ãƒ§ã—ã¦æ¬¡ã®ã‚ˆã†ãªé€šçŸ¥ã‚’ Slack ã«æŠ•ã’ã¦ã„ã¾ã—ãŸã€‚\nã“ã‚ŒãŒã€ AWS Chatbot çµŒç”±ã«ãªã‚‹ã¨æ¬¡ã®ã‚ˆã†ãªé€šçŸ¥å†…å®¹ã«ãªã‚Šã¾ã™ã€‚\nã¾ã€ãƒ“ãƒ«ãƒ‰çµ‚ã‚ã£ãŸã‹ã©ã†ã‹ãŒã‚ã‹ã‚Œã°è‰¯ã„ã®ã§ã€ååˆ†ã¨ã„ãˆã°ååˆ†ã§ã™ã­ã€‚\nCodeBuild ã ã‘ã«ã™ã‚‹ã“ã¨ã§ç™ºç”Ÿã™ã‚‹ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ CodeBuild ã ã‘ã«ã™ã‚‹ã“ã¨ã§ç™ºç”Ÿã™ã‚‹ãƒ¡ãƒªãƒƒãƒˆã¨ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã®ãŠã•ã‚‰ã„ã§ã™ã€‚\nãƒ¡ãƒªãƒƒãƒˆ ã¾ãšã€ãƒ¡ãƒªãƒƒãƒˆã¨ã—ã¦ã¯ä¸‹è¨˜ã® 3 ç‚¹ãŒæŒ™ã’ã‚‰ã‚Œã¾ã™ã€‚\nãƒ•ãƒ­ãƒ¼å…¨ä½“ã®æ™‚é–“çŸ­ç¸® CodePipeline ã®è²»ç”¨å‰Šæ¸› Lambda ã®è²»ç”¨å‰Šæ¸› ãƒ•ãƒ­ãƒ¼å…¨ä½“ã®æ™‚é–“çŸ­ç¸®ã¯ã‚‚ã¡ã‚ã‚“ã§ã™ãŒã€ä½¿ç”¨ã—ãªããªã£ãŸ CodePipeline ã€ Lambda ã®è²»ç”¨å‰Šæ¸›ã‚‚é”æˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ç‰¹ã« CodePipeline ã«é–¢ã—ã¦ã¯ã€æ¯æœˆã®ç„¡æ–™æ ã¨ã—ã¦ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ 1 ã¤ã¯ç„¡æ–™ã§ã™ãŒã€ãã‚Œä»¥é™ã¯ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ 1 ã¤ã‚ãŸã‚Š 1 USD/month ã®è²»ç”¨ãŒç™ºç”Ÿã—ã¾ã™ã€‚æ—¢ã« 2 ã¤ä»¥ä¸Šã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªå ´åˆã¯ 1 USD ã®å‰Šæ¸›ã«ãªã‚Šã¾ã™ã—ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒã“ã‚Œã ã‘ã ã£ãŸå ´åˆã¯ã€è²´é‡ãªç„¡æ–™æ ã‚’ç©ºã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\u0026hellip;ã¨ã€ã“ã®å†…å®¹ã¯ä»¥å‰ã«ã‚‚æ›¸ã„ã¦ã„ã¾ã—ãŸã€‚\nãƒ‡ãƒ¡ãƒªãƒƒãƒˆ ä»Šå›ã®ãƒ•ãƒ­ãƒ¼ã«é–¢ã—ã¦ã„ã¦ã°ã€ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã¯ç„¡ã„ã¨æ€ã„ã¾ã™ã€‚ã‚ãˆã¦ä¸Šã’ã‚‹ã¨ã™ã‚Œã°ã€ Slack ã¸ã®é€šçŸ¥å†…å®¹ãŒç°¡ç´ ã«ãªã£ãŸãã‚‰ã„ã§ã—ã‚‡ã†ã‹ã€‚\nã¾ã¨ã‚ Hugo ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ã« CodePipeline ã‚’ã‚„ã‚ã¦ CodeBuild ã ã‘ã‚’ä½¿ã†ã‚ˆã†ã«ã—ãŸè©±ã§ã—ãŸã€‚\nä»Šå›ã®ã‚ˆã†ã«ã‚½ãƒ¼ã‚¹ãŒ GitHub ã§ç®¡ç†ã•ã‚Œã¦ã„ã‚‹å ´åˆã«ã¯ 1 CodeBuild ã§ Push ç­‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ CodePipeline ã§ãƒ•ãƒ­ãƒ¼ã‚’é–‹å§‹ã™ã‚‹å¿…è¦ãŒãªããªã‚Šã¾ã™ã€‚ã¾ãŸã€ Code ã‚·ãƒªãƒ¼ã‚ºã‹ã‚‰ã®é€šçŸ¥ã€ Chatbot ã® GA ã«ã‚ˆã‚Šé€šçŸ¥ã«é–¢ã—ã¦ã‚‚ CodeBuild å˜ä½“ã§è¡Œã†ã“ã¨ãŒå‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€ã“ã“ã§ã‚‚ CodePipeline ãŠã‚ˆã³é€šçŸ¥ç”¨ã® Lambda é–¢æ•°ãŒä¸è¦ã¨ãªã‚Šã¾ã™ã€‚\nã“ã®ãƒ–ãƒ­ã‚°ã®ã‚ˆã†ãªå€‹äººã®ã¡ã‚‡ã£ã¨ã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚„ã€å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚‚ç°¡ç´ ãªã‚‚ã®ã«é–¢ã—ã¦ã¯ CodeBuild ã ã‘ã§ã‚‚ååˆ†ãªãƒ“ãƒ«ãƒ‰ãƒ•ãƒ­ãƒ¼ã‚’æ§‹ç¯‰ã§ããã†ã§ã™ã€‚\nã‚½ãƒ¼ã‚¹ãŒ CodeCommit ã®å ´åˆã«ã¯ç›´æ¥ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ã“ã¨ãŒã§ããªã„ãŸã‚ã€ EventBridge çµŒç”±ã§ Lambda ã‚’å®Ÿè¡Œã—ã€ãã®ä¸­ã§è©²å½“ã® CodeBuild ã‚’å®Ÿè¡Œã™ã‚‹ ã¨ã„ã£ãŸæµã‚ŒãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/aws-only-use-codebuild-for-building-hugo/",
    "title": "Hugo ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ã« CodePipeline ã‚’ã‚„ã‚ã¦ CodeBuild ã ã‘ã‚’ä½¿ã†ã‚ˆã†ã«ã—ãŸ"
  },
  {
    "contents": "AWS ã«ã¯ 170 ã‚’è¶…ãˆã‚‹ã‚µãƒ¼ãƒ“ã‚¹ãŒã‚ã‚Šã¾ã™ãŒã€ãã‚Œã‚‰ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã©ã®ã‚ˆã†ã«çµ„ã¿åˆã‚ã›ã¦ä½¿ãˆã°ã‚ˆã„ã®ã‹ã¯ã€å®Ÿéš›ã«å‹•ãã‚‚ã®ã‚’ä½œã£ã¦ã¿ãªã„ã¨ç†è§£ãŒå‡ºæ¥ãªã„éƒ¨åˆ†ãŒå¤§ãã„ã§ã™ã€‚ä»Šå›ç´¹ä»‹ã™ã‚‹ ã€Œã¿ã‚“ãªã® AWS ã€œAWSã®åŸºæœ¬ã‚’æœ€æ–°ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã¾ã‚‹ã”ã¨ç†è§£ï¼ã€ ã§ã¯ã€ AWS ã®åŸºæœ¬ã‹ã‚‰æœ€æ–°æƒ…å ±ã‚‚å«ã‚ãŸ AWS ã®ä½¿ã„ã©ã“ã‚ã¨ãƒã‚¤ãƒ³ãƒˆãŒè©°ã¾ã£ã¦ã„ã¾ã™ã€‚è³¼å…¥ã‹ã‚‰å°‘ã—æ™‚é–“ãŒçµŒã£ã¦ã—ã¾ã„ã¾ã—ãŸãŒã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nå±Šã„ãŸ #ã¿ã‚“ãªã®AWS #awsforeveryone pic.twitter.com/oy9yyghbwi\n\u0026mdash; ã‚ˆã£ã—ãƒ¼ Lv.854 (@michimani210) April 20, 2020 ç›®æ¬¡ æ›¸ç±ã®æ¦‚è¦ è‘—è€… æ›¸ç±ã®ç›®æ¬¡ å„ç« ã®æ¦‚è¦ã¨æ„Ÿæƒ³ 1 ç«  AWS ã®åŸºç¤çŸ¥è­˜ 2 ç«  AWS ã§ä½œã‚‹ Web ã‚µãƒ¼ãƒ“ã‚¹ 3 ç«  ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ä½œã‚‹ãƒ¢ãƒã‚¤ãƒ«å‘ã‘ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ 4 ç«  AWS ã§ä½œã‚‹ãƒ‡ãƒ¼ã‚¿ã®åé›†ãƒ»å¯è¦–åŒ– ã¾ã¨ã‚ æ›¸ç±ã®æ¦‚è¦ AWS ã®åŸºç¤ã¨æœ€æ–°æƒ…å ±ãŒè©°ã¾ã£ãŸä¸€å†Šã«ãªã£ã¦ã„ã¾ã™ã€‚è©³ç´°ãªç›®æ¬¡ã¯ä¸‹ã«ã‚‚æ›¸ãã¾ã™ãŒã€æœ¬æ›¸ã§ã¯æ¬¡ã® 4 ã¤ã®ç« ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nAWS ã®åŸºç¤çŸ¥è­˜ AWS ã§ä½œã‚‹Web ã‚µãƒ¼ãƒ“ã‚¹ ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ä½œã‚‹ãƒ¢ãƒã‚¤ãƒ«å‘ã‘ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ AWS ã§ä½œã‚‹ãƒ‡ãƒ¼ã‚¿ã®åé›†ãƒ»å¯è¦–åŒ– AWS ã®å…¨ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢ã™ã‚‹æƒ…å ±ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€ä¸€èˆ¬çš„ãª Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ§‹ç¯‰ã€ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ§‹ç¯‰ã€ãƒ‡ãƒ¼ã‚¿åˆ†æã«ã¤ã„ã¦ã€ãã‚Œãã‚Œ AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã—ãŸãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«ã¤ã„ã¦æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nAWS ã®åŸºç¤çŸ¥è­˜ã«ã¤ã„ã¦ã¯ã€ãã®å‰æ®µéšã«ã‚ãŸã‚‹ã€Œã‚¯ãƒ©ã‚¦ãƒ‰ã¨ã¯ã€ã¨ã„ã†å†…å®¹ã‹ã‚‰è©±ãŒå§‹ã¾ã‚‹ãŸã‚ã€ã“ã‚Œã‹ã‚‰ AWS ã‚’ã€ã‚¯ãƒ©ã‚¦ãƒ‰ã‚’å§‹ã‚ã‚ˆã†ã¨æ€ã£ã¦ã„ã‚‹æ–¹ã«ã‚‚èª­ã¿ã‚„ã™ã„å†…å®¹ã«ãªã£ã¦ã„ã¾ã™ã€‚\nã¾ãŸã€æœ¬æ›¸å†…ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã‚„ãƒãƒ³ã‚ºã‚ªãƒ³ãƒ‘ãƒ¼ãƒˆã§ä½¿ç”¨ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦ã¯ GitHub ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚\nclassmethod/aws-for-everyone: ã€Œã¿ã‚“ãªã®AWSã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ç½®ãå ´ è‘—è€… æŠ€è¡“è©•è«–ç¤¾ã‹ã‚‰å‡ºç‰ˆã•ã‚Œã¦ã„ã‚‹æœ¬æ›¸ã§ã™ãŒã€è‘—è€…ã¯ AWS ã®ãƒ—ãƒ¬ãƒŸã‚¢ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã§ã€ã€Œã‚„ã£ã¦ã¿ãŸã€ç³»æŠ€è¡“ãƒ¡ãƒ‡ã‚£ã‚¢ã® Developers.IO ã‚’é‹å–¶ã•ã‚Œã¦ã„ã‚‹ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã«æ‰€å±ã—ã¦ã„ã‚‹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®æ–¹ã€…ã§ã™ã€‚ AWS ã«ã¤ã„ã¦ä½•ã‹èª¿ã¹ãŸã“ã¨ãŒã‚ã‚‹æ–¹ãªã‚‰ã€ãã®æŠ€è¡“ãƒ–ãƒ­ã‚°ã«ä¸€åº¦ã¯ãŠä¸–è©±ã«ãªã£ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚\næ™®æ®µãƒ–ãƒ­ã‚°ã‚’æ›¸ã‹ã‚Œã¦ã„ã‚‹æ–¹ã€…ãŒæ›¸ã„ãŸæ›¸ç±ã¨ã„ã†ã“ã¨ã§ã€éå¸¸ã«èª­ã¿ã‚„ã™ã„æ–‡ç« æ§‹æˆã«ãªã£ã¦ã„ã¾ã™ã€‚\nã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ç™ºã€Œã‚„ã£ã¦ã¿ãŸã€ç³»æŠ€è¡“ãƒ¡ãƒ‡ã‚£ã‚¢ | Developers.IO æ›¸ç±ã®ç›®æ¬¡ æœ¬æ›¸ã®ç›®æ¬¡ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\n1 ç«  AWS ã®åŸºç¤çŸ¥è­˜\n1.1 ã‚¯ãƒ©ã‚¦ãƒ‰ã¨ã¯ 1.2 AWS ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ 1.3 æœ€ä½é™æŠ¼ã•ãˆã¦ãŠãã¹ãã‚¢ã‚«ã‚¦ãƒ³ãƒˆé–‹è¨­æ™‚ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ 1.4 AWS ã«ãŠã‘ã‚‹ç›£è¦– (ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°) 1.5 AWS ã‚’å­¦ç¿’ã™ã‚‹ã‚³ãƒ„ 2 ç«  AWS ã§ä½œã‚‹ Web ã‚µãƒ¼ãƒ“ã‚¹\n2.1 æœ¬æ€§ã§è§£èª¬ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å…¨ä½“æ§‹æˆã¨åˆ©ç”¨ã™ã‚‹ AWS ã‚µãƒ¼ãƒ“ã‚¹ 2.2 AWS ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åŸºç¤ 2.3 ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ§‹ç¯‰ãƒ»é‹ç”¨æ‰‹æ®µã¨ã—ã¦ã®ã‚³ãƒ³ãƒ†ãƒŠé–¢é€£ã‚µãƒ¼ãƒ“ã‚¹ 2.4 CI/CD ã‚’å®Ÿç¾ã™ã‚‹ Code ã‚·ãƒªãƒ¼ã‚º 2.5 ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ï¼šéšœå®³ç›£è¦–ã€ãƒªã‚½ãƒ¼ã‚¹ç›£è¦– 2.6 ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ 2.7 ã‚³ãƒ¼ãƒ‰ã«ã‚ˆã‚‹ã‚¤ãƒ³ãƒ•ãƒ©ã®é‹ç”¨ç®¡ç† 2.8 CloudFormation ã‚’åˆ©ç”¨ã—ãŸã‚³ãƒ³ãƒ†ãƒŠã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ§‹ç¯‰ 3 ç«  ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ä½œã‚‹ãƒ¢ãƒã‚¤ãƒ«å‘ã‘ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³\n3.1 ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ã¯ 3.2 ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚’å®Ÿç¾ã™ã‚‹ AWS ã‚µãƒ¼ãƒ“ã‚¹ 3.3 æ§‹ç¯‰ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å…¨ä½“æ§‹æˆ 3.4 ã‚¯ãƒ©ã‚¦ãƒ‰é–‹ç™ºã‚­ãƒƒãƒˆ (AWS CDK) ã®æº–å‚™ 3.5 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ (API) ã®æ§‹ç¯‰ 3.6 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ 3.7 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®é…ä¿¡ 3.8 ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚° 4 ç«  AWS ã§ä½œã‚‹ãƒ‡ãƒ¼ã‚¿ã®åé›†ãƒ»å¯è¦–åŒ–\n4.1 AWS ã§ä½œã‚‹ãƒ‡ãƒ¼ã‚¿åé›†åŸºç›¤ 4.2 ãƒ‡ãƒ¼ã‚¿åˆ†æã®åŸºæœ¬çŸ¥è­˜ã¨ AWS ã‚µãƒ¼ãƒ“ã‚¹ 4.3 ãƒ‡ãƒ¼ã‚¿ãƒ¬ã‚¤ã‚¯ã‚’æ§‹ç¯‰ã™ã‚‹ 4.4 ãƒ‡ãƒ¼ã‚¿ã‚¦ã‚§ã‚¢ãƒã‚¦ã‚¹ã‚’æ§‹æˆã—ã€ã‚°ãƒ©ãƒ•è¡¨ç¤ºã™ã‚‹ 4.5 æ©Ÿæ¢°å­¦ç¿’ã‚’å°å…¥ã™ã‚‹ 4.6 æ§‹ç¯‰ã—ãŸã‚·ã‚¹ãƒ†ãƒ  (AWS ãƒªã‚½ãƒ¼ã‚¹) ã‚’å‰Šé™¤ã™ã‚‹ å„ç« ã®æ¦‚è¦ã¨æ„Ÿæƒ³ ã“ã“ã‹ã‚‰ã¯å„ç« ã®æ¦‚è¦ã‚’ç°¡å˜ã«æ›¸ã„ã¦ã„ãã¾ã™ã€‚\n1 ç«  AWS ã®åŸºç¤çŸ¥è­˜ ã“ã®ç« ã¯ã€ IT ã‚¤ãƒ³ãƒ•ãƒ©ã®æ­´å²ã‹ã‚‰ã‚¯ãƒ©ã‚¦ãƒ‰ã®ç™»å ´ã€ ãã—ã¦ AWS ã®ç™»å ´ã«ã¤ã„ã¦ã®å†…å®¹ã‹ã‚‰å§‹ã¾ã‚Šã¾ã™ã€‚ AWS ã«é–¢ã—ã¦ã¯ã€ AWS Well-Architected ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ ã«æ²¿ã£ãŸå†…å®¹ã§æ§‹æˆã®ãƒã‚¤ãƒ³ãƒˆã«è§¦ã‚Œã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\nAWS Well-Architected â€“ å®‰å…¨ã§åŠ¹ç‡çš„ãªã‚¯ãƒ©ã‚¦ãƒ‰å¯¾å¿œã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆé–‹è¨­æ™‚ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã«é–¢é€£ã—ã¦ã€ IAM ã®æ¦‚è¦ã¨ä½¿ã„æ–¹ã€æ¨©é™è¨­å®šã®è€ƒãˆæ–¹ã«ã¤ã„ã¦ã‚‚è§£èª¬ã•ã‚Œã¦ã„ã¾ã™ã€‚ç›£è¦–ã«ã¤ã„ã¦ã¯ã€ AWS ã§ã®ç›£è¦–ã®æ ¸ã¨ãªã‚‹ Amazon CloudWatch ã®å„ç”¨èª (ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€ Logs Insight ãªã©) ã«ã¤ã„ã¦èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚\nAWS ã‚’å°‘ã—è§¦ã£ãŸã“ã¨ãŒã‚ã‚‹æ–¹ã«ã¨ã£ã¦ã¯åŸºæœ¬çš„ãªéƒ¨åˆ†ã®ãŠã•ã‚‰ã„ã‚’ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã—ã€ AWS ãŒåˆã‚ã¦ã ã¨ã„ã†äººã«ã¨ã£ã¦ã‚‚ã€å°å…¥ã¨ã—ã¦ã‚ã‹ã‚Šã‚„ã™ã„å†…å®¹ã«ãªã£ã¦ã„ã¾ã™ã€‚\n2 ç«  AWS ã§ä½œã‚‹ Web ã‚µãƒ¼ãƒ“ã‚¹ ã“ã®ç« ã§ã¯ã€å®Ÿéš›ã« AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’çµ„ã¿åˆã‚ã›ã¦ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã—ã¦ã„ãã¾ã™ã€‚ç« ã®å„ç¯€ã§ã¯ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹ç¯‰ã«ä½¿ç”¨ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®è©³ç´°èª¬æ˜ã¨ã€ã‚¤ãƒ³ãƒ•ãƒ©ã®ã‚³ãƒ¼ãƒ‰åŒ–ã€ CI/CD ã«ã¤ã„ã¦ã‚‚è§¦ã‚Œã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ç« ã®æœ€å¾Œã§ã¯ã€ãƒãƒ³ã‚ºã‚ªãƒ³å½¢å¼ã§ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã—ã¦ã„ãæ§‹æˆã«ãªã£ã¦ã„ã¾ã™ã€‚\nã“ã“ã§æ§‹ç¯‰ã™ã‚‹ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ä¸‹å›³ã®ã‚ˆã†ãªã„ã‚ã‚†ã‚‹ä¸‰å±¤ã® Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãªã£ã¦ã„ã¾ã™ã€‚\nã”è¦§ã®é€šã‚Šã€ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒªã‚½ãƒ¼ã‚¹ã«ã¯ Amazon EC2 ã§ã¯ãªã Amazon Fargate ãŒåˆ©ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®æ§‹æˆã‚’æ§‹ç¯‰ã™ã‚‹ãƒãƒ³ã‚ºã‚ªãƒ³ã¯ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ãƒãƒãƒãƒã™ã‚‹ã®ã§ã¯ãªãã€ã™ã¹ã¦ CloudFormation ã‚’ä½¿ç”¨ã—ã¦æ§‹ç¯‰ã—ã¦ã„ãã¾ã™ã€‚\nã‚µãƒ³ãƒ—ãƒ«ã¨ã¯ã„ãˆã€å®Ÿéš›ãã®ã¾ã¾ã§ã‚‚ä½¿ãˆã‚‹æ§‹æˆã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãªã£ã¦ã„ã¦ã€ CLoudFormation ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ã‚¹ã‚¿ãƒƒã‚¯ä½œæˆã®ã‚»ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ã¤ã„ã¦ã‚‚æœ¬ç•ªé‹ç”¨ã§ãã®ã¾ã¾åˆ©ç”¨ã§ããã†ãªå†…å®¹ã«ãªã£ã¦ã„ã¾ã™ã€‚å€‹äººçš„ã«ã¯ã‚¤ãƒ³ãƒ•ãƒ©ã®ã‚³ãƒ¼ãƒ‰åŒ–ã®éƒ¨åˆ†ãŒã™ã”ãå‚è€ƒã«ãªã£ãŸã¨æ„Ÿã˜ã¦ã„ã¦ã€ã“ã®éƒ¨åˆ†ã®åŸ·ç­†ã‚’æ‹…å½“ã•ã‚Œã¦ã„ã‚‹æ¿±ç”°ã•ã‚“ (ãƒãƒã‚³ãƒ¼ã•ã‚“) ã® IaC ã®ãƒã‚¦ãƒã‚¦ãŒã™ã”ãè©°ã¾ã£ã¦ã„ã¦è‰¯ã„ãªã¨æ€ã„ã¾ã™ã€‚\n3 ç«  ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ä½œã‚‹ãƒ¢ãƒã‚¤ãƒ«å‘ã‘ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ã“ã®ç« ã§ã¯ã€ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ¦‚è¦ (ãƒ¡ãƒªãƒƒãƒˆã€é¸æŠã™ã‚‹ç†ç”±) ã®è©±ã‹ã‚‰å§‹ã¾ã‚Šã€ AWS ã§ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚ãã—ã¦ã€å®Ÿéš›ã«ãã‚Œã‚‰ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç”¨ã„ãŸãƒ¢ãƒã‚¤ãƒ«å‘ã‘ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹ãƒãƒ³ã‚ºã‚ªãƒ³ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚\næ§‹ç¯‰ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯ Amazon API Gateway ã€ AWS Lambda ã€ Amazon DynamoDB ã‚’åˆ©ç”¨ã—ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«ã¯ Vue.js ã§ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ Amazon S3 ã«é…ç½®ã—ã€ Amazon CloudFront ã‹ã‚‰é…ä¿¡ã™ã‚‹æ§‹æˆã«ãªã£ã¦ã„ã¾ã™ã€‚ãã—ã¦ã€ãã‚Œã‚‰ã¯ AWS CDK ã§ç®¡ç†ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ãŠã‚Šã€ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã ã‘ã§ãªã CDK ã«ã¤ã„ã¦ã‚‚å­¦ç¿’ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã‚‚ã¡ã‚ã‚“ã“ã®ç« ã§ä½¿ç”¨ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦ã‚‚ GitHub ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã“ã“æœ€è¿‘ã¯ã‚µãƒ¼ãƒãƒ¬ã‚¹ã¨ã„ã†è¨€è‘‰ã‚’ãŸãã•ã‚“èãã‚ˆã†ã«ãªã£ã¦ã€å€‹äººçš„ã«ã‚‚ Lambda ã‚„ DynamoDB ã¯ã‚ˆãä½¿ã†ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ AWS CDK ã«é–¢ã—ã¦ã¯æ˜¨å¹´ 7 æœˆã« GA ã¨ãªã£ã¦ä»¥æ¥ã‚‚ã®ã™ã”ã„ã‚¹ãƒ”ãƒ¼ãƒ‰ã§ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒã•ã‚Œã¦ã„ã¦ã€æ³¨ç›®ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ãªã£ã¦ã„ã¾ã™ã€‚å€‹äººçš„ã«ã¯ AWS CDK ã§ IaC äººç”Ÿã‚’ã‚¹ã‚¿ãƒ¼ãƒˆã—ãŸã¨è¨€ã£ã¦ã‚‚éè¨€ã§ã¯ãªã„ã®ã§ã€å®Ÿéš›ã« CDK ã‚’ä½¿ã£ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹ç¯‰ã‚’çµŒé¨“ã™ã‚‹ã“ã¨ãŒã§ããŸã®ã¯è‰¯ã‹ã£ãŸã§ã™ã€‚\n4 ç«  AWS ã§ä½œã‚‹ãƒ‡ãƒ¼ã‚¿ã®åé›†ãƒ»å¯è¦–åŒ– ã“ã®ç« ã§ã¯ã€ IoT ãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰é€ä¿¡ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã®åé›†åŸºç›¤ã®æ§‹ç¯‰ã€ AWS Glue ã€ Amazon Athena ã€ Amazon Redshift ã€ Amazon QuickSight ã¨ã„ã£ãŸãƒ‡ãƒ¼ã‚¿åˆ†æã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿ã®åˆ†ææ–¹æ³•ã«ã¤ã„ã¦æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nå‰åŠéƒ¨åˆ†ã¯ã€ AWS SAM (AWS Serverless Application Model) ã‚’ä½¿ã£ã¦ IoT ãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰é€ä¿¡ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã®åé›†åŸºç›¤ã‚’æ§‹ç¯‰ã—ã€ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã€æ ¼ç´ã®æµã‚Œã‚’ç¢ºèªã§ãã¾ã™ã€‚ IoT ãƒ‡ãƒã‚¤ã‚¹ã‚’å®Ÿéš›ã«æº–å‚™ã™ã‚‹ã®ã¯é›£ã—ã„ãŸã‚ã€ EC2 ä¸Šã«ä»®æƒ³ã® IoT ãƒ‡ãƒã‚¤ã‚¹ (ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³) ã‚’æ§‹ç¯‰ã—ã€ãƒ‡ãƒ¼ã‚¿ã‚’ IoT Core ã§å—ã‘å–ã‚Š Kinesis Data Firehose ã§å‡¦ç†ã™ã‚‹ã¨ã„ã£ãŸæ§‹æˆã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚\nå¾ŒåŠéƒ¨åˆ†ã§ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ¬ã‚¤ã‚¯ã€ãƒ‡ãƒ¼ã‚¿ã‚¦ã‚§ã‚¢ãƒã‚¦ã‚¹ã®ç”¨èªã®èª¬æ˜ã‹ã‚‰ã¯ã˜ã¾ã‚Šã€ãƒ‡ãƒ¼ã‚¿ã‚¦ã‚§ã‚¢ãƒã‚¦ã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã«å¿…è¦ãªå‰å‡¦ç†ã§ã‚ã‚‹ ETL (Extract-Transform-Load) ã«ã¤ã„ã¦ã‚‚èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®å¾Œã€å®Ÿéš›ã«ãƒ‡ãƒ¼ã‚¿ãƒ¬ã‚¤ã‚¯ã€ãƒ‡ãƒ¼ã‚¿ã‚¦ã‚§ã‚¢ãƒã‚¦ã‚¹ã‚’æ§‹ç¯‰ã—ã€ Amazon QuickSight ã§ãƒ‡ãƒ¼ã‚¿ã‚’å‚ç…§ã™ã‚‹ã¨ã„ã†ãƒãƒ³ã‚ºã‚ªãƒ³ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚\næ­£ç›´ã€ãƒ‡ãƒ¼ã‚¿åˆ†æã«é–¢ã—ã¦ã¯ã‚ã‹ã‚‰ãªã„éƒ¨åˆ†ãŒå¤šã™ãã‚‹ã®ã§ã€å®Ÿéš›ã«æ‰‹ã‚’å‹•ã‹ã—ã¦åˆ†æåŸºç›¤ã‚’æ§‹ç¯‰ã§ãã‚‹ã®ã¯è‰¯ã„ãªã¨æ€ã„ã¾ã—ãŸã€‚ã‚ã‚‰ãŸã‚ã¦æ™‚é–“ã‚’ä½œã£ã¦ãƒãƒ³ã‚ºã‚ªãƒ³ã¯ã‚„ã‚Šç›´ã—ã¦ã¿ã¾ã™ã€‚\nã¾ã¨ã‚ AWS ã®ä½¿ã„ã©ã“ã‚ã¨ãƒã‚¤ãƒ³ãƒˆãŒã‚ã‹ã‚‹ã€Œã¿ã‚“ãªã® AWSã€ã‚’èª­ã‚“ã§ã¿ãŸè©±ã§ã—ãŸã€‚\næŠ€è¡“æ›¸ã«é–¢ã—ã¦ã¯ã€å‡ºç‰ˆæ™‚ç‚¹ã§æ—¢ã«æƒ…å ±ãŒå¤ããªã£ã¦ã„ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚Šã€ç‰¹ã« AWS ã«é–¢ã—ã¦ã¯æ—¥ã€…ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚¹ãƒ”ãƒ¼ãƒ‰ãŒã¯ã‚„ã„ã®ã§æ›¸ç±ã‚’è²·ã†ã®ã¯èºŠèº‡ã—ã¦ã„ã¾ã—ãŸã€‚ã—ã‹ã—ã€æ—¥ã€…ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’è¿½ã„ã‹ã‘ã‚‹ãŸã‚ã«ã¯ãã‚‚ãã‚‚ä»ŠãŒã©ã†ã„ã†çŠ¶æ…‹ãªã®ã‹ã‚’çŸ¥ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãã®ãŸã‚ã«ã¯ã‚ã‚‹æ™‚ç‚¹ã§ã®æƒ…å ±ãŒãã£ã—ã‚Šè©°ã¾ã£ã¦ã„ã‚‹æ›¸ç±ã‚’è²·ã£ã¦ã€ã—ã£ã‹ã‚Šç†è§£ã™ã‚‹ã¨ã„ã†ã®ã¯å¤§äº‹ãªã“ã¨ã ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚\nã“ã®ã€Œã¿ã‚“ãªã® AWSã€ ã«é–¢ã—ã¦ã¯å‡ºç‰ˆã‚¤ãƒ™ãƒ³ãƒˆãŒé–‹å‚¬ã•ã‚Œã€ (ã»ã¼) å…¨è‘—è€…é›†åˆã§å‡ºç‰ˆã¾ã§ã®æµã‚Œã‚„ãã‚Œãã‚Œã®åŸ·ç­†éƒ¨åˆ†ã«å¯¾ã™ã‚‹æƒ³ã„ã«ã¤ã„ã¦èªã‚‰ã‚Œã¦ã„ã¾ã—ãŸã€‚ã‚¤ãƒ™ãƒ³ãƒˆå‚åŠ è€…ã‹ã‚‰ã®è³ªå•ã§ã‚‚\nã‚ãˆã¦ç´™ãƒ™ãƒ¼ã‚¹ã§ä»Šå¾Œå¤ã„æƒ…å ±ã«ãªã£ã¦ã„ãã§ã‚ã‚ã†æ›¸ç±ã‚’è²·ã†æ„ç¾©ã£ã¦ä½•ãªã‚“ã§ã—ã‚‡ã†ã‹ï¼Ÿ\nã¨ã„ã†è³ªå•ãŒã‚ã‚Šã€ãã®ç­”ãˆã¨ã—ã¦\næ›¸ç±ã¯ä½“ç³»ç«‹ã¦ã‚‰ã‚ŒãŸæ•™æã§å­¦ç¿’ã™ã‚‹ã®ã«å‘ã„ã¦ã„ã‚‹ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€åŸºç¤ãŒã—ã£ã‹ã‚Šã—ã¦ã„ã‚‹æ–¹ã€å¿œç”¨ã‚’çŸ¥ã‚ŠãŸã„æ–¹ã€æœ€æ–°æƒ…å ±ã«è§¦ã‚ŒãŸã„æ–¹ãªã©ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç­‰ã§å­¦ç¿’ã™ã‚‹ã¨è‰¯ã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚\nã¨ã„ã†å›ç­”ã‚’ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚\nã€Œã¿ã‚“ãªã®AWSã€œAWSã®åŸºæœ¬ã‚’æœ€æ–°ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã¾ã‚‹ã”ã¨ç†è§£ï¼ã€ å…¨è‘—è€…é›†åˆãƒˆãƒ¼ã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã®Q\u0026amp;amp;Aã‚’ã¾ã¨ã‚ã¾ã—ãŸï¼ï¼ˆå‹•ç”»ã‚ã‚Šï¼‰ | Developers.IO ã€Œã¿ã‚“ãªã® AWSã€ã§ã¯ã€ã“ã® ä½“ç³»ç«‹ã¦ã‚‰ã‚ŒãŸæ•™æã§å­¦ç¿’ã™ã‚‹ ã¨ã„ã†éƒ¨åˆ†ãŒã—ã£ã‹ã‚Šã§ãã‚‹æ›¸ç±ã«ãªã£ã¦ã„ã‚‹ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚ãƒãƒ³ã‚ºã‚ªãƒ³ã§ä½¿ç”¨ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚‚æœ¬ç•ªé‹ç”¨ã‚’æ„è­˜ã•ã‚ŒãŸå†…å®¹ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚‹ã ã‘ã§ã‚‚å‹‰å¼·ã«ãªã‚Šã¾ã™ã€‚\næ›¸ç±å†…ã§ã¯åŸºæœ¬çš„ãªéƒ¨åˆ†ã¨ãƒã‚¤ãƒ³ãƒˆã¨ãªã‚‹éƒ¨åˆ†ãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€ã‚ˆã‚Šè©³ç´°ãªéƒ¨åˆ†ã«é–¢ã™ã‚‹æƒ…å ±ã«ã¤ã„ã¦ã¯ Developers.IO ã®é–¢é€£è¨˜äº‹ã® URL ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚‚è¦ªåˆ‡ã ãªã¨æ€ã„ã¾ã—ãŸã€‚\nãã†ã„ã†æ„å‘³ã§ã¯ã€ AWS ã‚’ã“ã‚Œã‹ã‚‰å§‹ã‚ã‚ˆã†ã¨æ€ã£ã¦ã„ã‚‹æ–¹ã«ã¯ã‚‚ã¡ã‚ã‚“ã§ã™ãŒã€ç§ã®ã‚ˆã†ã«æ—¢ã« AWS ã¯è§¦ã£ã¦ã„ã‚‹ã‘ã©å®Ÿéš›ã®é‹ç”¨ã‚„æ§‹ç¯‰æ–¹æ³•ã«è‡ªä¿¡ãŒãªã„ã¨ã„ã†æ–¹ã«ã‚‚ãŠã™ã™ã‚ã®æ›¸ç±ã ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/bookreview-aws-for-everyone/",
    "title": "[æ›¸è©•] AWS ã®ä½¿ã„ã©ã“ã‚ã¨ãƒã‚¤ãƒ³ãƒˆãŒã‚ã‹ã‚‹ã€Œã¿ã‚“ãªã® AWSã€ã‚’èª­ã‚“ã§ã¿ãŸ #awsforeveryone"
  },
  {
    "contents": "Amazon EventBridge ã‚’ä½¿ã£ã¦ AWS Lambda ã‚’æ—¥æœ¬æ™‚é–“ã®æ¯æœˆ 1 æ—¥ã® 00:00 ã«å®Ÿè¡Œã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã§ã™ã€‚\nç›®æ¬¡ â€»è¿½è¨˜ (2021/12/13) æ¦‚è¦ EventBridge ã§ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®š Lambda é–¢æ•°ã§ã®æ—¥ä»˜åˆ¤å®š ã¾ã¨ã‚ â€»è¿½è¨˜ (2021/12/13) ä»¥é™ è‰²ã€…ã¨æ›¸ã„ã¦ã¾ã™ãŒã€çµè«–ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ã« cron å¼ã‚’æŒ‡å®šã—ã¾ã™ã€‚\ncron(0 15 L * ? *) Amazon EventBridge ã® cron å¼ã§ã¯ã€æœˆæœ«ã‚’ç¤ºã™ L ã¨ã„ã†ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãªã®ã§ã€ä¸Šè¨˜ã®ã‚ˆã†ã«æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€æ—¥æœ¬æ™‚é–“ã®æœˆåˆã® 00:00 ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nThe L wildcard in the Day-of-month or Day-of-week fields specifies the last day of the month or week.\nCreating an Amazon EventBridge rule that runs on a schedule - Amazon EventBridge ã‚³ãƒ¡ãƒ³ãƒˆã§æ•™ãˆã¦ã„ãŸã ãã¾ã—ãŸã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼\næ¦‚è¦ ä»Šå›ã®ãƒã‚¤ãƒ³ãƒˆã¯ã€ ã€Œæ—¥æœ¬æ™‚é–“ã®æ¯æœˆ 1 æ—¥ã® 00:00ã€ ã¨ã„ã†éƒ¨åˆ†ã§ã™ã€‚\nAmazon EventBridge ã§ã¯ã€ä¸€èˆ¬çš„ãª cron ã®æ§‹æ–‡ã‚’ä½¿ã£ã¦ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãŸã ã—ã€ã“ã® cron ã§æŒ‡å®šã™ã‚‹æ—¥æ™‚ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã¯ UTC ã¨ãªã£ã¦ã„ã‚‹ãŸã‚ã€ JST ã¨ã®æ™‚å·®ã‚’è€ƒæ…®ã—ã¦æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nJST ã¯ +0900 ãªã®ã§ã€ cron ã§ã¯å®Ÿéš›ã«æ—¥æœ¬æ™‚é–“ã§å®Ÿè¡Œã—ãŸã„æ™‚é–“ã® 9 æ™‚é–“å‰ã®æ—¥æ™‚ã‚’æŒ‡å®šã—ã¾ã™ã€‚ãªã®ã§ã€æ—¥æœ¬æ™‚é–“ã®æ¯æœˆ 1 æ—¥ã® 00:00 ã«å®Ÿè¡Œã—ãŸã„å ´åˆã¯ã€ UNIX æ™‚é–“ã®æœˆæœ«ã® 15:00 ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ã—ã‹ã—ã€ cron ã§ã¯ æœˆæœ« ã‚’æŒ‡å®šã™ã‚‹æ–¹æ³•ãŒãªã„ãŸã‚ã€å®Ÿè¡Œã™ã‚‹ Lambda é–¢æ•°å´ã§å°‘ã—æ‰‹ã‚’åŠ ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nç‰¹å¾´ - Amazon EventBridge | AWS EventBridge ã§ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®š cron ã§æœˆæœ«ã‚’æŒ‡å®šã™ã‚‹æ–¹æ³•ãŒãªã„ã¨ã¯ã„ãˆã€æœˆæœ«ã«ãªã‚Šå¾—ã‚‹æ—¥ã¯é™ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ãªã®ã§ã€ EventBridge ã§ã¯æ¬¡ã®ã‚ˆã†ãª cron å¼ã§ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®šã‚’ã—ã¦ãŠãã¾ã™ã€‚\ncron(0 15 28-31 * ? *) ã“ã†ã™ã‚‹ã“ã¨ã§ã€æ¬¡ã®ã‚ˆã†ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç”Ÿã—ã¾ã™ã€‚\nSun, 28 Jun 2020 15:00:00 GMT Mon, 29 Jun 2020 15:00:00 GMT Tue, 30 Jun 2020 15:00:00 GMT Tue, 28 Jul 2020 15:00:00 GMT Wed, 29 Jul 2020 15:00:00 GMT Thu, 30 Jul 2020 15:00:00 GMT Fri, 31 Jul 2020 15:00:00 GMT Fri, 28 Aug 2020 15:00:00 GMT Sat, 29 Aug 2020 15:00:00 GMT Sun, 30 Aug 2020 15:00:00 GMT Mon, 31 Aug 2020 15:00:00 GMT ... ã“ã‚Œã§å„æœˆã®æœˆæœ«ã‚’ç¶²ç¾…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ãŒã€æœˆæœ«ã§ãªã„æ—¥ã«ã‚‚ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç”Ÿã—ã¦ã—ã¾ã„ã¾ã™ã€‚ãªã®ã§ã€å®Ÿéš›ã«æœˆæœ«ã‹ã©ã†ã‹ (æ—¥æœ¬æ™‚é–“ã§ã¯ 1 æ—¥ã‹ã©ã†ã‹) ã‚’ã€å®Ÿè¡Œã™ã‚‹ Lambda é–¢æ•°å´ã§åˆ¤å®šã—ã¾ã™ã€‚\nLambda é–¢æ•°ã§ã®æ—¥ä»˜åˆ¤å®š Lambda é–¢æ•°å†…ã§ã¯ã€å®Ÿéš›ã®å‡¦ç†ã‚’è¡Œã†å‰ã«æ—¥ä»˜ã®åˆ¤å®šã‚’è¡Œã„ã€å®Ÿè¡Œæ™‚é–“ãŒæ—¥æœ¬æ™‚é–“ã® 1 æ—¥ã§ãªã‘ã‚Œã°ãã“ã§å‡¦ç†ã‚’çµ‚äº†ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ä»Šå›ã¯ Go ã§æ›¸ã„ã¦ã¿ã¾ã™ã€‚\nã¾ã¨ã‚ Amazon EventBridge ã‚’ä½¿ã£ã¦ AWS Lambda ã‚’æ—¥æœ¬æ™‚é–“ã®æ¯æœˆ 1 æ—¥ã® 00:00 ã«å®Ÿè¡Œã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã§ã—ãŸã€‚ æ¯æ—¥ã€æ¯é€±ã‚„ 1 æ—¥ã® 09:00 ä»¥é™ã®æœˆæ¬¡ã§ã‚ã‚Œã° cron ã§è§£æ±ºã—ã¾ã™ãŒã€æ¯æœˆ 1 æ—¥ã® 09:00 ã¾ã§ã®å®Ÿè¡Œã«ã¯ Lambda å´ã§åˆ¤å®šãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-run-lambda-at-1st-day-of-month/",
    "title": "AWS Lambda ã‚’æ¯æœˆ 1 æ—¥ã® 00:00 (JST) ã«å®Ÿè¡Œã™ã‚‹"
  },
  {
    "contents": "æœ€è¿‘ã¯ Go ã‚’æ›¸ãã“ã¨ãŒå¤šã„ã®ã§ã€å‚™å¿˜éŒ²ã¨ã—ã¦ AWS SDK for Go ã‚’ä½¿ã£ã¦ DynamoDB ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ç‰¹å®šã®å±æ€§ (Attributes) ã®ã¿ã‚’å–å¾—ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nç›®æ¬¡ Go ã§ DynamoDB ã‚’æ“ä½œã™ã‚‹ ã‚„ã‚‹ã“ã¨ ã™ã¹ã¦ã®å±æ€§ã‚’å«ã‚ã¦ Scan ã™ã‚‹ ç‰¹å®šã®å±æ€§ã®ã¿ã‚’å–å¾—ã™ã‚‹ã‚ˆã†ã« Scan ã™ã‚‹ ã¾ã¨ã‚ Go ã§ DynamoDB ã‚’æ“ä½œã™ã‚‹ Go ã§ DynamoDB ã‚’æ“ä½œã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ããã£ã¦ã¿ã‚‹ã¨ã€ guregu/dynamo ã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ãŸä¾‹ãŒå¤šãå‡ºã¦ãã¾ã™ã€‚DynamoDB ã«é™ã‚‰ãšã€ Go ã® SDK ã§ AWS ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’æ“ä½œã™ã‚‹éš›ã«ã¯ãƒã‚¤ãƒ³ã‚¿å‹ã‚’æ‰±ã†å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€å®Ÿè£…ãŒè¤‡é›‘ã ã¨æ„Ÿã˜ã¦ã—ã¾ã„ãŒã¡ã§ã™ã€‚ guregu/dynamo ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€éå¸¸ã«ã‹ã‚“ãŸã‚“ãªè¨˜è¿°ã§ DynamoDB ã‚’æ“ä½œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nguregu/dynamo: expressive DynamoDB library for Go ãŸã ã—ã€ä»Šå›ã®ã‚ˆã†ãªå ´åˆã‚„å°‘ã—è¤‡é›‘ãªä½¿ã„æ–¹ã‚’ã™ã‚‹å ´åˆã¯ AWS SDK for Go ã‚’ä½¿ã£ãŸã»ã†ãŒæŸ”è»Ÿãªå®Ÿè£…ãŒã§ãã¾ã™ã€‚\nã‚„ã‚‹ã“ã¨ DynamoDB ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«ã® Thread ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾ã—ã¦ã€æ¬¡ã® 2 ã¤ã®æ–¹æ³•ã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦ã¿ã¾ã™ã€‚\nã™ã¹ã¦ã®å±æ€§ã‚’å«ã‚ã¦ Scan ã™ã‚‹ ç‰¹å®šã®å±æ€§ã®ã¿ã‚’å–å¾—ã™ã‚‹ã‚ˆã†ã« Scan ã™ã‚‹ ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã«ã¤ã„ã¦ã¯å…¬å¼ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nã‚µãƒ³ãƒ—ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ãƒ‡ãƒ¼ã‚¿ - Amazon DynamoDB ã“ã“ã‹ã‚‰ã¯å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã‚’æŠœç²‹ã—ã¦æ›¸ãã¾ã™ãŒã€å…¨ä½“ã«ã¤ã„ã¦ã¯ Gist ã«ç½®ã„ã¦ã„ã¾ã™ã®ã§ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nSample script to scan DynamoDB table via AWS SDK for Go. ã™ã¹ã¦ã®å±æ€§ã‚’å«ã‚ã¦ Scan ã™ã‚‹ package main import ( \u0026#34;bytes\u0026#34; \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/aws\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/aws/session\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/service/dynamodb\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/service/dynamodb/dynamodbattribute\u0026#34; ) // Thread is a struct of a Thread item type Thread struct { ForumName string `dynamodbav:\u0026#34;ForumName\u0026#34; json:\u0026#34;forum_name\u0026#34;` Subject string `dynamodbav:\u0026#34;Subject\u0026#34; json:\u0026#34;subject\u0026#34;` Answered int `dynamodbav:\u0026#34;Answered\u0026#34; json:\u0026#34;answered\u0026#34;` LastPostedBy string `dynamodbav:\u0026#34;LastPostedBy\u0026#34; json:\u0026#34;last_posted_by\u0026#34;` LastPostedDateTime string `dynamodbav:\u0026#34;LastPostedDateTime\u0026#34; json:\u0026#34;last_posted_date_time\u0026#34;` Message string `dynamodbav:\u0026#34;Message\u0026#34; json:\u0026#34;message\u0026#34;` Replies int `dynamodbav:\u0026#34;Replies\u0026#34; json:\u0026#34;replies\u0026#34;` Tags []string `dynamodbav:\u0026#34;Tags\u0026#34; json:\u0026#34;tags\u0026#34;` Views int `dynamodbav:\u0026#34;Views\u0026#34; json:\u0026#34;views\u0026#34;` } var tableName string = \u0026#34;Thread\u0026#34; var region string = \u0026#34;ap-northeast-1\u0026#34; var db = dynamodb.New(session.New(), \u0026amp;aws.Config{ Region: aws.String(region), }) // Scan is a function to scan table. func Scan() []Thread { var threads []Thread = []Thread{} scanOut, err := db.Scan(\u0026amp;dynamodb.ScanInput{ TableName: aws.String(tableName), }) if err != nil { fmt.Println(err.Error()) return threads } for _, scanedThread := range scanOut.Items { var threadTmp Thread _ = dynamodbattribute.UnmarshalMap(scanedThread, \u0026amp;threadTmp) threads = append(threads, threadTmp) } return threads } // ThreadsToJSONString is a function to convert Thread object to JSON string. func ThreadsToJSONString(threads interface{}) string { j, err := json.Marshal(threads) if err != nil { fmt.Println(err.Error()) return \u0026#34;\u0026#34; } var buf bytes.Buffer jerr := json.Indent(\u0026amp;buf, j, \u0026#34;\u0026#34;, \u0026#34; \u0026#34;) if jerr != nil { fmt.Println(jerr.Error()) return \u0026#34;\u0026#34; } return buf.String() } func main() { fmt.Println(\u0026#34;Scan with all attributes.\u0026#34;) allAttrRes := Scan() fmt.Println(ThreadsToJSONString(allAttrRes)) } ã¾ãš Thread Struct ã‚’ã‚¿ã‚°ä»˜ãã§å®šç¾©ã—ã¾ã™ã€‚ dynamodbav ã‚¿ã‚°ã¯ DynamoDB ãƒ†ãƒ¼ãƒ–ãƒ«ã®å±æ€§åã‚’æŒ‡å®šã—ã¾ã™ã€‚ json ã‚¿ã‚°ã¯ JSON ã§å‡ºåŠ›ã™ã‚‹éš›ã®å±æ€§åã‚’æŒ‡å®šã—ã¾ã™ã€‚ Scan() ã§ã¯å¼•æ•°ã« *dynamodb.ScanInput å‹ã®å¤‰æ•°ã‚’æ¸¡ã—ã¾ã™ã€‚ãã®å¤‰æ•°ã§ã¯ãƒ†ãƒ¼ãƒ–ãƒ«å TableName ã®ã¿æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\nThreadsToJSONString() é–¢æ•°ã§ã¯ Thread ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ•´å½¢æ¸ˆã¿ã® JSON æ–‡å­—åˆ—ã«å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚\nã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªå‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚\n$ go run ./src/dynamo/main.go Scan with all attributes. [ { \u0026#34;forum_name\u0026#34;: \u0026#34;Amazon CloudFront\u0026#34;, \u0026#34;subject\u0026#34;: \u0026#34;CloudFront Thread 1\u0026#34;, \u0026#34;answered\u0026#34;: 0, \u0026#34;last_posted_by\u0026#34;: \u0026#34;User A\u0026#34;, \u0026#34;last_posted_date_time\u0026#34;: \u0026#34;2015-09-22T19:58:22.514Z\u0026#34;, \u0026#34;message\u0026#34;: \u0026#34;CloudFront thread 1 message\u0026#34;, \u0026#34;replies\u0026#34;: 0, \u0026#34;tags\u0026#34;: [ \u0026#34;index\u0026#34;, \u0026#34;primarykey\u0026#34;, \u0026#34;table\u0026#34; ], \u0026#34;views\u0026#34;: 10 }, { \u0026#34;forum_name\u0026#34;: \u0026#34;Amazon S3\u0026#34;, \u0026#34;subject\u0026#34;: \u0026#34;S3 Thread 1\u0026#34;, \u0026#34;answered\u0026#34;: 0, \u0026#34;last_posted_by\u0026#34;: \u0026#34;User A\u0026#34;, \u0026#34;last_posted_date_time\u0026#34;: \u0026#34;2015-09-29T19:58:22.514Z\u0026#34;, \u0026#34;message\u0026#34;: \u0026#34;S3 thread 1 message\u0026#34;, \u0026#34;replies\u0026#34;: 0, \u0026#34;tags\u0026#34;: [ \u0026#34;largeobjects\u0026#34;, \u0026#34;multipart upload\u0026#34; ], \u0026#34;views\u0026#34;: 0 }, { \u0026#34;forum_name\u0026#34;: \u0026#34;Amazon DynamoDB\u0026#34;, \u0026#34;subject\u0026#34;: \u0026#34;DynamoDB Thread 1\u0026#34;, \u0026#34;answered\u0026#34;: 0, \u0026#34;last_posted_by\u0026#34;: \u0026#34;User A\u0026#34;, \u0026#34;last_posted_date_time\u0026#34;: \u0026#34;2015-09-22T19:58:22.514Z\u0026#34;, \u0026#34;message\u0026#34;: \u0026#34;DynamoDB thread 1 message\u0026#34;, \u0026#34;replies\u0026#34;: 0, \u0026#34;tags\u0026#34;: [ \u0026#34;index\u0026#34;, \u0026#34;primarykey\u0026#34;, \u0026#34;table\u0026#34; ], \u0026#34;views\u0026#34;: 0 }, { \u0026#34;forum_name\u0026#34;: \u0026#34;Amazon DynamoDB\u0026#34;, \u0026#34;subject\u0026#34;: \u0026#34;DynamoDB Thread 2\u0026#34;, \u0026#34;answered\u0026#34;: 0, \u0026#34;last_posted_by\u0026#34;: \u0026#34;User A\u0026#34;, \u0026#34;last_posted_date_time\u0026#34;: \u0026#34;2015-09-15T19:58:22.514Z\u0026#34;, \u0026#34;message\u0026#34;: \u0026#34;DynamoDB thread 2 message\u0026#34;, \u0026#34;replies\u0026#34;: 0, \u0026#34;tags\u0026#34;: [ \u0026#34;items\u0026#34;, \u0026#34;attributes\u0026#34;, \u0026#34;throughput\u0026#34; ], \u0026#34;views\u0026#34;: 0 } ] ç‰¹å®šã®å±æ€§ã®ã¿ã‚’å–å¾—ã™ã‚‹ã‚ˆã†ã« Scan ã™ã‚‹ åŸºæœ¬çš„ã«ã¯ä¸Šã®ä¾‹ã¨åŒã˜ãªã®ã§ã€ç•°ãªã‚‹éƒ¨åˆ†ã®ã¿æŠœãå‡ºã—ã¦ã„ã¾ã™ã€‚ä»Šå›ã¯ Thread ãƒ†ãƒ¼ãƒ–ãƒ«ã®å±æ€§ã®ã†ã¡ã€ ForumName ã¨ Subject ã®ã¿å–å¾—ã—ã¦ã¿ã¾ã™ã€‚\n// ThreadWithSomeAttr is a struct of a Thread item with some attributes. type ThreadWithSomeAttr struct { ForumName string `dynamodbav:\u0026#34;ForumName\u0026#34; json:\u0026#34;forum_name\u0026#34;` Subject string `dynamodbav:\u0026#34;Subject\u0026#34; json:\u0026#34;subject\u0026#34;` } // ScanSomeAttr is a function to scan table with some attributes. func ScanSomeAttr() []ThreadWithSomeAttr { var threads []ThreadWithSomeAttr = []ThreadWithSomeAttr{} scanOut, err := db.Scan(\u0026amp;dynamodb.ScanInput{ TableName: aws.String(tableName), ExpressionAttributeNames: map[string]*string{ \u0026#34;#FNAME\u0026#34;: aws.String(\u0026#34;ForumName\u0026#34;), \u0026#34;#SUBJ\u0026#34;: aws.String(\u0026#34;Subject\u0026#34;), }, ProjectionExpression: aws.String(\u0026#34;#FNAME, #SUBJ\u0026#34;), }) if err != nil { fmt.Println(err.Error()) return threads } for _, scanedThread := range scanOut.Items { var threadTmp ThreadWithSomeAttr _ = dynamodbattribute.UnmarshalMap(scanedThread, \u0026amp;threadTmp) threads = append(threads, threadTmp) } return threads } Scan ã—ãŸçµæœã‚’å—ã‘å–ã‚‹ Struct ã¨ã—ã¦ ThreadWithSomeAttr ã‚’å®šç¾©ã—ã¾ã™ã€‚Scan() ã®å¼•æ•°ã¨ã—ã¦ã¯ã€ãƒ†ãƒ¼ãƒ–ãƒ«åã«åŠ ãˆã¦ã€å–å¾—ã—ãŸã„å±æ€§åã‚’æŒ‡å®šã—ãŸ *dynamodb.ScanInput ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\nã“ã®çŠ¶æ…‹ã§å®Ÿè¡Œã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªå‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚\n$ go run ./src/dynamo/main.go Scan with some attributes. [ { \u0026#34;forum_name\u0026#34;: \u0026#34;Amazon CloudFront\u0026#34;, \u0026#34;subject\u0026#34;: \u0026#34;CloudFront Thread 1\u0026#34; }, { \u0026#34;forum_name\u0026#34;: \u0026#34;Amazon S3\u0026#34;, \u0026#34;subject\u0026#34;: \u0026#34;S3 Thread 1\u0026#34; }, { \u0026#34;forum_name\u0026#34;: \u0026#34;Amazon DynamoDB\u0026#34;, \u0026#34;subject\u0026#34;: \u0026#34;DynamoDB Thread 1\u0026#34; }, { \u0026#34;forum_name\u0026#34;: \u0026#34;Amazon DynamoDB\u0026#34;, \u0026#34;subject\u0026#34;: \u0026#34;DynamoDB Thread 2\u0026#34; } ] ã¡ãªã¿ã« Scan ã—ãŸçµæœã‚’ ThreadWithSomeAttr Struct ã®ä»£ã‚ã‚Šã«ã€ã™ã¹ã¦ã®å±æ€§ã‚’å®šç¾©ã—ãŸ Thread ã§å—ã‘å–ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªçµæœã«ãªã‚Šã¾ã™ã€‚\n$ go run ./src/dynamo/main.go Scan with some attributes. [ { \u0026#34;forum_name\u0026#34;: \u0026#34;Amazon CloudFront\u0026#34;, \u0026#34;subject\u0026#34;: \u0026#34;CloudFront Thread 1\u0026#34;, \u0026#34;answered\u0026#34;: 0, \u0026#34;last_posted_by\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;last_posted_date_time\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;message\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;replies\u0026#34;: 0, \u0026#34;tags\u0026#34;: null, \u0026#34;views\u0026#34;: 0 }, { \u0026#34;forum_name\u0026#34;: \u0026#34;Amazon S3\u0026#34;, \u0026#34;subject\u0026#34;: \u0026#34;S3 Thread 1\u0026#34;, \u0026#34;answered\u0026#34;: 0, \u0026#34;last_posted_by\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;last_posted_date_time\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;message\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;replies\u0026#34;: 0, \u0026#34;tags\u0026#34;: null, \u0026#34;views\u0026#34;: 0 }, { \u0026#34;forum_name\u0026#34;: \u0026#34;Amazon DynamoDB\u0026#34;, \u0026#34;subject\u0026#34;: \u0026#34;DynamoDB Thread 1\u0026#34;, \u0026#34;answered\u0026#34;: 0, \u0026#34;last_posted_by\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;last_posted_date_time\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;message\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;replies\u0026#34;: 0, \u0026#34;tags\u0026#34;: null, \u0026#34;views\u0026#34;: 0 }, { \u0026#34;forum_name\u0026#34;: \u0026#34;Amazon DynamoDB\u0026#34;, \u0026#34;subject\u0026#34;: \u0026#34;DynamoDB Thread 2\u0026#34;, \u0026#34;answered\u0026#34;: 0, \u0026#34;last_posted_by\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;last_posted_date_time\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;message\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;replies\u0026#34;: 0, \u0026#34;tags\u0026#34;: null, \u0026#34;views\u0026#34;: 0 } ] ForumName ã¨ Subject ã®å€¤ã¯å–å¾—ã§ãã¾ã™ãŒã€ãã‚Œä»¥å¤–ã®å±æ€§ã«ã¤ã„ã¦ã¯ãã‚Œãã‚Œã®å±æ€§ã«å®šç¾©ã•ã‚ŒãŸå‹ã®åˆæœŸå€¤ã«ãªã‚Šã¾ã™ã€‚\nã¾ã¨ã‚ AWS SDK for Go ã‚’ä½¿ã£ã¦ DynamoDB ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ç‰¹å®šã®å±æ€§ (Attributes) ã®ã¿ã‚’å–å¾—ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nãƒã‚¤ãƒ³ã‚¿å‹ã«ã¤ã„ã¦ã¯ 1 å¹´ç›®ã®ã“ã‚ã« C è¨€èªã§æ‰±ã£ã¦ä»¥æ¥ã ã£ãŸã®ã§ã¡ã‚‡ã£ã¨æ‹’å¦åå¿œãŒã‚ã‚Šã¾ã—ãŸãŒã€æ…£ã‚Œã‚Œã°ç‰¹ã«å•é¡Œãªã„ã§ã™ã­ã€‚\nAWS SDK ã«é–¢ã—ã¦ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚‚ã—ã£ã‹ã‚Šç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã®ç‚¹ã§ã‚‚å®‰å¿ƒã§ã™ã€‚\ndynamodb - Amazon Web Services - Go SDK ä»Šå›ã®ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ä¸‹è¨˜ Gist ã«ç½®ã„ã¦ã„ã¾ã™ã€‚\nSample script to scan DynamoDB table via AWS SDK for Go. ",
    "permalink": "https://michimani.net/post/aws-scan-dynamodb-table-with-go-sdk/",
    "title": "AWS SDK for Go ã§ DynamoDB ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ç‰¹å®šã®å±æ€§ã ã‘å–å¾—ã™ã‚‹"
  },
  {
    "contents": "AWS Lambda ã®é–¢æ•°ã‚’ Python ã§å®Ÿè£…ã™ã‚‹éš›ã«ä½¿ç”¨ã™ã‚‹ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ä½œã£ãŸã®ã§ã€ãã®æ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä½œæˆ ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºã®å‰Šæ¸› Docker Hub ã¸ Push ãƒ¬ã‚¤ãƒ¤ãƒ¼ç”¨ zip ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ Lambda ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ç™»éŒ² ã¾ã¨ã‚ æ¦‚è¦ Python 3.8 ã‚’ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã¨ã—ã¦ã€ AWS Lambda ã®é–¢æ•°ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ã‚’è€ƒãˆã¾ã™ã€‚ãã®éš›ã«ã€ pip ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ Lambda ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã—ã¦æ§‹ç¯‰ã—ã¾ã™ã€‚\nAWS Lambda ã§ã¯ãƒ©ã‚¤ãƒ³ã‚¿ã‚¤ãƒ ã”ã¨ã«å®Ÿè¡Œç’°å¢ƒ (OS) ãŒç•°ãªã‚Šã¾ã™ã€‚ã“ã®ã‚¨ãƒ³ãƒˆãƒªã‚’æ›¸ã„ã¦ã„ã‚‹æ™‚ç‚¹ (2020/05/16) ã§ã¯ã€ Python 3.8 ã®å®Ÿè¡Œç’°å¢ƒã¯ Amazon Linux 2 ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nAWS Lambda runtimes - AWS Lambda ä»Šå›ã¯ Lambda ãƒ¬ã‚¤ãƒ¤ãƒ¼ç”¨ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç¾¤ (zip ãƒ•ã‚¡ã‚¤ãƒ«) ã‚’ã€ Docker ã‚’ä½¿ã£ã¦ Amazon Linux 2 ç’°å¢ƒã§ä½œæˆã—ã¾ã™ã€‚\nDocker ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä½œæˆ ã¾ãšã¯ Python 3.8 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ Amazon Linux 2 ã® Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¾ã™ã€‚Amazon Linux 2 ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ Docker Hub ã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ä»Šå›ã¯ãã®ä¸­ã‹ã‚‰ 2.0.20200406..0 ã‚’ä½¿ã„ã¾ã™ã€‚\namazonlinux - Docker Hub ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºã®å‰Šæ¸› ã¨ã‚Šã‚ãˆãšä½œæˆã—ãŸã¨ãã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ã‚µã‚¤ã‚ºãŒ 1.17 GB ã«ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚ã•ã™ãŒã«ã‚µã‚¤ã‚ºãŒå¤§ãã™ãã‚‹ã¨æ€ã£ãŸã®ã§ã€å‰Šæ¸›æ–¹æ³•ã«ã¤ã„ã¦èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚\nDockerfile ã® RUN ã®æŒ™å‹• Dockerfile ã§ã¯ RUN ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ Linux ã‚³ãƒãƒ³ãƒ‰ã‚’è¨˜è¿°ã—ã¦ Python 3.8 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãã¾ã™ã€‚ã“ã® RUN ã‚³ãƒãƒ³ãƒ‰ã¯å®Ÿè¡Œã™ã‚‹ãŸã³ã«ãƒ¬ã‚¤ãƒ¤ã‚’é‡ã­ã¦ã„ãå½¢ã«ãªã‚Šã¾ã™ã€‚ãªã®ã§ã€ Python 3.8 ç”¨ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãªã©ä¸è¦ãªä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã™ã‚‹å ´åˆã¯ã€åŒã˜ RUN ã‚³ãƒãƒ³ãƒ‰å†…ã§å‡¦ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nDockerfile reference | Docker Documentation - RUN ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰æ™‚ã®ã‚µã‚¤ã‚ºã®å¤‰é·ã‚’èª¿ã¹ã‚‹ docker build ã§ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã„ãéç¨‹ã§ã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ã‚µã‚¤ã‚ºãŒã©ã®ã‚ˆã†ã«å¤‰åŒ–ã—ã¦ã„ã£ãŸã‹ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n$ docker history IMAGE docker history | Docker Documentation å®Ÿè¡Œçµæœã¯æ¬¡ã®ã‚ˆã†ãªå½¢ã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\ndocker history 6a20bde9c6da IMAGE CREATED CREATED BY SIZE COMMENT 6a20bde9c6da 10 hours ago /bin/sh -c pip3.8 -V 0B 49f06a13c22d 10 hours ago /bin/sh -c python3.8 -V 0B 669423823b31 10 hours ago /bin/sh -c rm -rf Python-3.8.3 0B 9e98a158748d 10 hours ago /bin/sh -c rm -rf Python-3.8.3.tgz 0B 2af6cd8cdd37 10 hours ago /bin/sh -c cd Python-3.8.3 \u0026amp;\u0026amp; ./configure --â€¦ 360MB 22c8ca1d8b4c 10 hours ago /bin/sh -c tar xzf Python-3.8.3.tgz 84.1MB b2acff82a0d2 10 hours ago /bin/sh -c wget https://www.python.org/ftp/pâ€¦ 24.1MB 621e604d00a9 10 hours ago /bin/sh -c yum -y install gcc openssl-devel â€¦ 332MB 7f335821efb5 3 weeks ago /bin/sh -c #(nop) CMD [\u0026#34;/bin/bash\u0026#34;] 0B \u0026lt;missing\u0026gt; 3 weeks ago /bin/sh -c #(nop) ADD file:c64a7d77d1e9f4364â€¦ 163MB ã‚¤ãƒ¡ãƒ¼ã‚¸å†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã”ã¨ã®ã‚µã‚¤ã‚ºã‚’èª¿ã¹ã‚‹ ãƒ“ãƒ«ãƒ‰å¾Œã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã«ã¤ã„ã¦ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã”ã¨ã®ã‚µã‚¤ã‚ºã‚’ç¢ºèªã—ã¾ã™ã€‚\n$ docker run -it --rm 6a20bde9c6da du / | sort -n | tail 179120\t/var/cache/yum/x86_64/2/amzn2-core 179128\t/var/cache/yum/x86_64/2 179132\t/var/cache/yum/x86_64 179136\t/var/cache/yum 179160\t/var/cache 190324\t/var 212184\t/usr/local/lib 230872\t/usr/local 544248\t/usr 736976\t/ ã“ã‚Œã§ä¸è¦ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒã‚ã‚Œã°å‰Šé™¤ã™ã‚‹ã‚ˆã†ãªã‚³ãƒãƒ³ãƒ‰ã‚’ Dockerfile ã«è¿½è¨˜ã—ã¦å†ãƒ“ãƒ«ãƒ‰ -\u0026gt; ç¢ºèª -\u0026gt; å†ãƒ“ãƒ«ãƒ‰ \u0026hellip; ã—ã¦ã„ãã¾ã™ã€‚\næœ€çµ‚çš„ã« 550 MB ãã‚‰ã„ã«ãªã‚Šã¾ã—ãŸãŒã€ã“ã‚Œã§ã‚‚å¤§ãã„ã§ã™ã‚ˆã­ã€‚å¤šåˆ†ã€‚\nDocker Hub ã¸ Push ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¦ã‚µã‚¤ã‚ºå‰Šæ¸›ã—ãŸ Dockerfile ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nFROM amazonlinux:2.0.20200406.0 RUN yum -y install \\ gcc \\ openssl-devel \\ bzip2-devel \\ libffi-devel \\ wget \\ tar \\ gzip \\ make \\ wget https://www.python.org/ftp/python/3.8.3/Python-3.8.3.tgz \u0026amp;\u0026amp; \\ tar xzf Python-3.8.3.tgz \u0026amp;\u0026amp; \\ cd Python-3.8.3 \u0026amp;\u0026amp; \\ ./configure --enable-optimizations \u0026amp;\u0026amp; \\ make altinstall \u0026amp;\u0026amp; \\ cd ~ \u0026amp;\u0026amp; \\ rm -rf /var/cache/yum/* \u0026amp;\u0026amp; \\ rm -rf /Python-3.8.3 RUN python3.8 -V RUN pip3.8 -V ã“ã® Dockerfile ã‚’ä½¿ã£ã¦ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã®ã¨ãã€ -t ã§æŒ‡å®šã™ã‚‹ã‚¿ã‚°åã¯ {Docker Hub ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ID}/{Docker Hub ã®ãƒªãƒã‚¸ãƒˆãƒªå} ã«ã—ã¦ãŠãã¾ã™ã€‚\n$ docker build -t michimani/amzn2py38 . ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒä½œæˆã§ããŸã‚‰ã€ Docker Hub ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚\n$ docker login Login with your Docker ID to push and pull images from Docker Hub. If you don\u0026#39;t have a Docker ID, head over to https://hub.docker.com to create one. Username: michimani Password: Login Succeeded ãƒ­ã‚°ã‚¤ãƒ³ã§ããŸã‚‰ã€å…ˆã»ã©ä½œæˆã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ Docker Hub ã« Push ã—ã¾ã™ã€‚\n$ docker push michimani/amzn2py38:latest Push ã•ã‚ŒãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ Docker Hub ã§ç¢ºèªã—ã¾ã™ã€‚\nmichimani/amzn2py38 - Docker Hub ãƒ¬ã‚¤ãƒ¤ãƒ¼ç”¨ zip ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ å¿…è¦ãª Python ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ requirements.txt ã«è¨˜è¿°ã—ã¦ãŠãã¾ã™ã€‚ãã—ã¦ã€ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã‚’ä½œã‚Šã¾ã™ã€‚\n. â”œâ”€â”€ Dockerfile â”œâ”€â”€ docker-compose.yml â””â”€â”€ requirements.txt Dockerfile ã¯æ¬¡ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã€‚\nFROM michimani/amzn2py38:latest RUN yum -y install zip RUN mkdir /home/dist docker-compose.yml ã¯æ¬¡ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã€‚\nversion: \u0026#34;3\u0026#34; services: app: build: . volumes: - \u0026#34;.:/home\u0026#34; command: \u0026gt; bash -c \u0026#34; mkdir /home/dist \u0026amp;\u0026amp; mkdir -p /home/tmp/python \u0026amp;\u0026amp; pip3.8 install -r /home/requirements.txt -t /home/tmp/python --upgrade \u0026amp;\u0026amp; cd /home/tmp \u0026amp;\u0026amp; zip -r /home/dist/layer.zip ./python \u0026amp;\u0026amp; cd /home \u0026amp;\u0026amp; rm -rf /home/tmp\u0026#34; ã‚ã¨ã¯æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚Œã°ã€ dist/layer.zip ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚\n$ docker-compose up Lambda ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ç™»éŒ² Lambda ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ç™»éŒ²ã¯ã€ä¸‹è¨˜ã® AWS CLI ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œã§ãã¾ã™ã€‚\n$ aws lambda publish-layer-version \\ --layer-name my_layer \\ --zip-file fileb://dist/layer.zip ã¾ã¨ã‚ Python 3.8 ç”¨ã® Lambda ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ Docker ã‚’ä½¿ã£ã¦ä½œæˆã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nDocker ã¾ã ã¾ã ã‚ˆãã‚ã‹ã‚‰ã‚“çŠ¶æ…‹ãªã®ã§ã€æœ€åˆã«ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºãŒ 1 GB è¶…ãˆãŸã¨ãã¯ç„¦ã‚Šã¾ã—ãŸã€‚ RUN ã®æŒ™å‹•ã«ã¤ã„ã¦ã‚‚ã¡ã‚ƒã‚“ã¨ã‚ã‹ã£ã¦ã„ãªã‹ã£ãŸã®ã§ã€èª¿ã¹ã‚‹æ©Ÿä¼šã«ãªã£ã¦ã‚ˆã‹ã£ãŸã§ã™ã€‚\nLambda ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ã¤ã„ã¦ã¯ã€å¤–éƒ¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ Lambda è‡ªä½“ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚µã‚¤ã‚ºã‚’å°ã•ãã™ã‚‹ã“ã¨ãŒã§ãã€ã•ã‚‰ã«ä»–ã®é–¢æ•°ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã®ã§ã€ç”¨é€”åˆ¥ã«ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ä½œæˆã—ã¦ãŠã‘ã° Lambda é–¢æ•°ã®å®Ÿè£…ãŒã—ã‚„ã™ããªã‚Šãã†ã§ã™ã€‚\nAWS Lambda ãƒ¬ã‚¤ãƒ¤ãƒ¼ - AWS Lambda ",
    "permalink": "https://michimani.net/post/aws-create-lambda-layers-with-docker/",
    "title": "Docker ã§ Python ç”¨ã® Lambda ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ä½œã‚‹"
  },
  {
    "contents": "AWS Chatbot ã¯é€£æºå…ˆã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã—ã¦ã€ Slack ã¨ Amazon Chime ã‚’é¸æŠã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ Slack ã«é–¢ã—ã¦ã¯ä»¥å‰ã«åˆ¥ã®ã‚¨ãƒ³ãƒˆãƒªã§æ›¸ã„ãŸã®ã§ã€ä»Šå›ã¯ Amazon Chime ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã—ã¦ AWS Chatbot ã¨é€£æºã—ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ 1. Amazon Chime ã§ Webhook URL ã‚’ç”Ÿæˆ ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹ Webhook URL ã‚’ç”Ÿæˆã™ã‚‹ 2. AWS Chatbot ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®è¨­å®š CloudWatch Alarm ã‚’ Amazon Chime ã®ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã«é€šçŸ¥ã™ã‚‹ ã¾ã¨ã‚ æ¦‚è¦ AWS Chatbot ã¨ Amazon Chime ã‚’é€£æºã•ã›ã¦ã€ Amazon Chime ã®ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã« CloudWatch Alarm ã®é€šçŸ¥ã‚’é£›ã°ã—ã¦ã¿ã¾ã™ã€‚\nã‚„ã‚‹ã“ã¨ã¨ã—ã¦ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚\nAmazon Chime ã§ Webhook URL ã‚’ç”Ÿæˆ AWS Chatbot ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®è¨­å®š ã‚ˆã‚Šè©³ç´°ãªæ‰‹é †ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® Setting up AWS Chatbot with Amazon Chime ãƒ‘ãƒ¼ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nGetting started with AWS Chatbot - AWS Chatbot å‰æ Amazon Chime ã§ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã®ä½œæˆã‚’ã™ã‚‹ã«ã¯ Amazon Chime ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ä½œæˆã«ã¤ã„ã¦ã¯çœç•¥ã™ã‚‹ã®ã§ã€ä¸‹è¨˜ã®ãƒªãƒ³ã‚¯ã‹ã‚‰ä½œæˆã—ã¦ãŠãã¾ã™ã€‚\nAmazon Chime Login 1. Amazon Chime ã§ Webhook URL ã‚’ç”Ÿæˆ ã¾ãšã¯ Amazon Chime ã§ Webhook URL ã‚’ç”Ÿæˆã—ã¾ã™ã€‚ã“ã“ã‹ã‚‰ã®æ“ä½œã¯ Amazon Chime ã® Web ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã€ãŠã‚ˆã³ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§è¡Œã„ã¾ã™ã€‚ä»Šå›ã¯ Web ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§æ“ä½œã—ã¦ã¿ã¾ã™ãŒã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã‚‚ã»ã¼åŒã˜ã§ã™ã€‚\nãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹ Webhook URL ã¯ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã«å¯¾ã—ã¦ä½œæˆã™ã‚‹ã®ã§ã€ã¾ãšã¯ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã‚’ä½œæˆã—ã¾ã™ã€‚\nHome ã®å³å´ã«ã‚ã‚‹ Quick actions ã®ä¸­ã‹ã‚‰ Create a new chat room ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\nãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã®åå‰ã‚’å…¥åŠ›ã™ã‚‹ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ä»»æ„ã®åå‰ã‚’å…¥åŠ›ã—ã¦ Create ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚\nã“ã‚Œã§ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ãŒä½œæˆã•ã‚Œã€ç”»é¢å·¦ã® CHAT ROOMS ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nWebhook URL ã‚’ç”Ÿæˆã™ã‚‹ ç¶šã„ã¦ Webhook URL ã‚’ç”Ÿæˆã—ã¾ã™ã€‚\nå…ˆã»ã©ä½œæˆã—ãŸãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã‚’é–‹ã„ã¦ã€ç”»é¢ä¸Šã«ã‚ã‚‹è¨­å®šã‚¢ã‚¤ã‚³ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ Manage webhooks and bots ã‚’é¸æŠã—ã¾ã™ã€‚\nã™ã‚‹ã¨æ¬¡ã®ã‚ˆã†ãªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ä¸Šéƒ¨ã® Add webhook ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\né¸æŠä¸­ã®ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã«å¯¾ã™ã‚‹ webhook ã‚’ä½œæˆã™ã‚‹ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ä»»æ„ã®åå‰ã‚’å…¥åŠ›ã—ã¦ Create ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚\nã“ã‚Œã§ webhook ãŒä½œæˆã•ã‚Œã€ Manage webhooks and bots ã®ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã«ä¸€è¦§ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ Copy URL ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ä½œæˆã—ãŸ webhook ã® URL ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãŠãã¾ã™ã€‚\n2. AWS Chatbot ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®è¨­å®š ç¶šã„ã¦ã€ AWS Chatbot ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®è¨­å®šã‚’ã—ã¾ã™ã€‚ å‰å› ã¯ãƒãƒ£ãƒƒãƒˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã—ã¦ Slack ã‚’é¸æŠã—ã¾ã—ãŸãŒã€ä»Šå›ã¯ Amazon Chime ã‚’é¸æŠã—ã¾ã™ã€‚\nã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãª Amazon Chime ã‚¦ã‚§ãƒ–ãƒ•ãƒƒã‚¯ã®è¨­å®šãƒ•ã‚©ãƒ¼ãƒ ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ Slack ã«ã—ãŸå ´åˆã¨ã®é•ã„ã¯ã€ä¸€ç•ªä¸Šã® è¨­å®šã®è©³ç´° ã®é …ç›®ã§ã™ã€‚\nåå‰ è¨­å®šã™ã‚‹ Amazno Chime Webhook ã®åå‰ã‚’å…¥åŠ›ã—ã¾ã™ã€‚ åå‰ã«ã¯ a-z, A-Z, 0-9, -, _ ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚\nã‚¦ã‚§ãƒ–ãƒ•ãƒƒã‚¯ URL å…ˆã»ã©ã‚³ãƒ”ãƒ¼ã—ã¦ãŠã„ãŸ Amazon Chime ã® Webhook URL ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\nã‚¦ã‚§ãƒ–ãƒ•ãƒƒã‚¯ã®èª¬æ˜ ã“ã“ã‚‚å¿…é ˆã«ãªã£ã¦ã„ã‚‹ã®ã§ã€ã“ã®è¨­å®šã«é–¢ã™ã‚‹èª¬æ˜ã‚’å…¥åŠ›ã—ã¾ã™ã€‚èª¬æ˜ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¨ã—ã¦ ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ å/ã‚¦ã‚§ãƒ–ãƒ•ãƒƒã‚¯ã®ç›®çš„ ã‚’æ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€ç‰¹ã«ã“ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã‚ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nä»¥é™ã®è¨­å®šã«ã¤ã„ã¦ã¯ Slack ã®å ´åˆã¨åŒæ§˜ã§ã™ã€‚ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã«ã¤ã„ã¦ã¯ã€ãƒãƒªã‚·ãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰ é€šçŸ¥ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ ã‚’é¸æŠã—ã¦ãŠãã¾ã™ã€‚\né€šçŸ¥ç”¨ã® SNS ãƒˆãƒ”ãƒƒã‚¯ã‚’æŒ‡å®šã—ã¦ è¨­å®š ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚\nã“ã‚Œã§ AWS Chatbot ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®šãŒå®Œäº†ã—ã¾ã—ãŸã€‚\nCloudWatch Alarm ã‚’ Amazon Chime ã®ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã«é€šçŸ¥ã™ã‚‹ ã§ã¯ã€ AWS Chatbot çµŒç”±ã§ CloudWatch Alarm ã®é€šçŸ¥ã‚’ Amazon Chime ã®ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã«é£›ã°ã—ã¦ã¿ã¾ã™ã€‚ä»Šå›ã‚‚ å‰å› ã¨åŒæ§˜ã« CloudFront ã® Alarm ç”»é¢ã‹ã‚‰ã€ã‚ã‚‹ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã«å¯¾ã™ã‚‹ 4xx Error Rate ã«é–¢ã™ã‚‹ã‚¢ãƒ©ãƒ¼ãƒ ã‚’è¨­å®šã—ã¾ã—ãŸã€‚\nè¨­å®šå¾Œã€è©²å½“ã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã«å¯¾ã—ã¦æ„å›³çš„ã« 4xx ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã¦æš«ãå¾…ã¤ã¨ã€æ¬¡ã®ã‚ˆã†ãªé€šçŸ¥ãŒ Amazon Chime ã®ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã«å±Šãã¾ã—ãŸã€‚\nã¡ãªã¿ã«ã€åŒæ™‚ã« Slack ã®æ–¹ã«ã‚‚å±Šã„ãŸé€šçŸ¥ã¯æ¬¡ã®ã‚ˆã†ãªå†…å®¹ã§ã—ãŸã€‚\nå†…å®¹ã¯å…¨ãåŒã˜ã§ã™ã­ã€‚\nã¾ã¨ã‚ AWS Chatbot ã¨ Amazon Chime ã‚’é€£æºã•ã›ã¦ã€ Amazon Chime ã®ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã« CloudWatch Alarm ã®é€šçŸ¥ã‚’é£›ã°ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®šã®éƒ¨åˆ†ãŒé•ã†ã ã‘ã§ã€ Slack ã®å ´åˆã¨åŒæ§˜ã«æ•´å½¢ã•ã‚ŒãŸé€šçŸ¥ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚å€‹äººçš„ã«ã¯ Amazon Chime ã¯ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚»ãƒŸãƒŠãƒ¼ã§ã® Instant meeting ã—ã‹åˆ©ç”¨ã—ãŸã“ã¨ãŒãªã‹ã£ãŸã®ã§ã™ãŒã€ Slack ãŒåˆ©ç”¨ã§ããªã„ç’°å¢ƒã®å ´åˆã¯ Amazon Chime ã®ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã§é€šçŸ¥ã‚’ç¢ºèªã™ã‚‹æ–¹æ³•ã‚‚ã‚ã‚‹ã¨ã„ã†ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚\nãŸã ã€ Slack ã¨é•ã£ã¦ AWS Chatbot ã‚’ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã«æ‹›å¾…ã™ã‚‹ã‚ã‘ã§ã¯ãªã Webhook ã§ã®é€£æºãªã®ã§ã€ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã‹ã‚‰ AWS CLI ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã¯ã§ããªã„ã‚ˆã†ã§ã™ã€‚CLI ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œã‚‚ã—ãŸã„å ´åˆã¯ Slack ã‚’åˆ©ç”¨ã—ãŸã»ã†ãŒè‰¯ã•ãã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-setting-aws-chatbot-with-amazon-chime/",
    "title": "AWS Chatbot ã‚’ä½¿ã£ã¦ Amazon Chime ã®ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã« CloudWatch Alarm ã®é€šçŸ¥ã‚’é£›ã°ã—ã¦ã¿ã‚‹"
  },
  {
    "contents": "AWS èªå®šã®ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ãŒã€ Acclaim ã¨ã„ã†ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ç®¡ç†ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã‚Šã€è‡ªåˆ†ã®æ‰€æŒã—ã¦ã„ã‚‹ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ã‚’ SNS ã§ã‚·ã‚§ã‚¢ã—ãŸã‚Šã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¸åŸ‹ã‚è¾¼ã‚“ã ã‚Šã€ã¾ãŸã€ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ã‚’ä»˜ä¸ã—ãŸãƒ‘ãƒ–ãƒªãƒƒã‚¯ãªãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã®ä½œæˆã¨å…¬é–‹ãƒ»å…±æœ‰ãŒç°¡å˜ã«ãªã‚Šã¾ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ Acclaim ã¨ã¯ Acclaim ã§ã®æ“ä½œ AWS èªå®šã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã«æ–°ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒç™»å ´ Acclaim ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ ãƒã‚¤ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã¸ã® AWS èªå®šãƒãƒƒã‚¸ã®è¡¨ç¤º ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ã®å€‹åˆ¥ãƒšãƒ¼ã‚¸ã§ã¯ã„ã‚ã‚“ãªæƒ…å ±ãŒç¢ºèªã§ãã‚‹ ä»Šã¾ã§ã®ãƒãƒƒã‚¸ç®¡ç†ã¯ã©ã†ãªã‚‹ï¼Ÿ ã¾ã¨ã‚ æ¦‚è¦ AWS èªå®šã«åˆæ ¼ã—ãŸè¨¼ã¨ã—ã¦ä»˜ä¸ã•ã‚Œã‚‹ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ãŒã€ã“ã‚Œã¾ã§ã® AWS èªå®šã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒšãƒ¼ã‚¸ (CertMetrics) ã§ã®ç®¡ç† ã‹ã‚‰ Acclaim ã§ã®ç®¡ç† ã«å¤‰æ›´ã•ã‚Œã¾ã™ã€‚ä»Šå›ã¯ã€æ–°ãŸãªç®¡ç†ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¨ãªã‚‹ Acclaim ãã®ã‚‚ã®ã«ã¤ã„ã¦ã¨ã€å®Ÿéš›ã« Acclaim ã§ AWS èªå®šãƒãƒƒã‚¸ã‚’ã©ã®ã‚ˆã†ã«ç®¡ç†ãƒ»ã‚·ã‚§ã‚¢å‡ºæ¥ã‚‹ã®ã‹ç¢ºèªã—ã¦ã¿ãŸè©±ã§ã™ã€‚\nAWS Certification Digital Badges Acclaim ã¨ã¯ Acclaim (ã‚¢ã‚¯ãƒ¬ãƒ¼ãƒ ) ã¨ã¯ã€ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ã‚’é€šã˜ã¦å€‹äººã®èƒ½åŠ›ã‚’è¨¼æ˜ã™ã‚‹ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ (ãƒ„ãƒ¼ãƒ«) ã§ã€å¤šãã®èªå®šå›£ä½“ã¨ææºã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚ä»Šå›ã€ AWS ã‚‚ãã®å›£ä½“ã®ä¸€ã¤ã¨ã—ã¦ææºã™ã‚‹ã“ã¨ã«ãªã£ãŸã‚ˆã†ã§ã™ã€‚\n2018 å¹´ã«ã€ãƒ‡ã‚¸ã‚¿ãƒ«èªè¨¼ã®ç™ºè¡Œãƒ»ç®¡ç†ã‚’è¡Œã† Credly ã¨ã„ã†ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¨åˆä½µã™ã‚‹ã“ã¨ã«ãªã‚Šã€ã‚¹ã‚­ãƒ«è©•ä¾¡ã‚„è³‡æ ¼ã®è¨¼æ˜ãªã©ã‚’ã¾ã¨ã‚ã¦æä¾›ã™ã‚‹ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ãªãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¨ãªã‚Šã¾ã—ãŸã€‚\nãƒ”ã‚¢ã‚½ãƒ³ã® ACCLAIM äº‹æ¥­ã¯ã€CREDLYã¨åˆä½µã¸ | Acclaim :: ãƒ”ã‚¢ã‚½ãƒ³ VUE Acclaim ã®ã‚µã‚¤ãƒˆã§ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚\nCredly\u0026rsquo;s Acclaim platform is the world\u0026rsquo;s largest network of individuals and organizations using verified achievements to unlock opportunities. Join millions of professionals in sharing your achievements online.\nAcclaim - Acclaim ã–ã£ãã‚Šæ„è¨³ã™ã‚‹ã¨ã€ Acclaim ã¯ èªå®šæ¸ˆã¿ã®ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ã‚’ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã«å…±æœ‰ã§ãã‚‹ä¸–ç•Œæœ€å¤§ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  ã¨ã„ã†ã“ã¨ã§ã™ã€‚ãã“ã« AWS èªå®šã®ãƒãƒƒã‚¸ã‚‚è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã¨ã„ã†æ„Ÿã˜ã§ã™ã­ã€‚\nAcclaim ã§ã®æ“ä½œ ã§ã¯å®Ÿéš›ã« Acclaim ã§ AWS èªå®šãƒãƒƒã‚¸ã‚’ç®¡ç†ã—ã¦ã¿ã¾ã™ã€‚ã„ããªã‚Š Acclaim ã®ãƒšãƒ¼ã‚¸ã«è¡Œãã®ã§ã¯ãªãã€ã¾ãšã¯ã“ã‚Œã¾ã§é€šã‚Š AWS èªå®šã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒšãƒ¼ã‚¸ã¸ãƒ­ã‚°ã‚¤ãƒ³ã—ã€ãã“ã‹ã‚‰ Acclaim ã®ãƒšãƒ¼ã‚¸ã¸ã¨é·ç§»ã—ã¦ã„ãã¾ã™ã€‚\nAWS èªå®šã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã«æ–°ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒç™»å ´ AWS èªå®šã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã«ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ã€ ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸(å»ƒæ­¢äºˆå®š) ã¨ ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸(æ–°) ã¨ã„ã†ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒå¢—ãˆã¦ã„ã¾ã™ã€‚\nãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸(æ–°) ãƒšãƒ¼ã‚¸ã¸é·ç§»ã™ã‚‹ã¨ã€ä¸Šã®ã‚­ãƒ£ãƒ—ãƒãƒ£ã®ã‚ˆã†ã« AWS èªå®šãƒãƒƒã‚¸ãŒ Acclaim çµŒç”±ã§æä¾›ã•ã‚Œã‚‹èª¬æ˜ãŒè¨˜è¿°ã•ã‚Œã¦ã„ã¾ã™ã€‚èª¬æ˜ã®å³ã«ã‚ã‚‹ Credly ã® Acclaim ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ Acclaim ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆãƒšãƒ¼ã‚¸ã¸é·ç§»ã—ã¾ã™ã€‚\nAcclaim ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ AWS èªå®šã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã‹ã‚‰é·ç§»ã—ã¦ãã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆãƒ•ã‚©ãƒ¼ãƒ ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nCountry ã®é¸æŠã€ Acclaim ãƒ­ã‚°ã‚¤ãƒ³ç”¨ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ã€ Create Account ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚\nè¦ç´„ã®åŒæ„ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ç¢ºèªã—ã¦ I Accept ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚\nã“ã‚Œã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆã¯å®Œäº†ã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ Acclaim ã§ä½œæˆã—ãŸè‡ªåˆ†ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’ã€å€‹åˆ¥ã® URL ã§å…±æœ‰ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nãƒã‚¤ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã¸ã® AWS èªå®šãƒãƒƒã‚¸ã®è¡¨ç¤º ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆãŒå®Œäº†ã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\næ‰€æŒã—ã¦ã„ã‚‹ AWS èªå®šãƒãƒƒã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ãŒã€ã“ã®çŠ¶æ…‹ã§ã¯å…±æœ‰ã—ãŸè‡ªåˆ†ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã«ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ã¯ã€è¡¨ç¤ºã•ã›ãŸã„ãƒãƒƒã‚¸ã‚’ Accept ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nè©¦ã—ã« AWS Certified Developer - Associate ã®ãƒãƒƒã‚¸ã‚’é¸æŠã—ã¦ã¿ã‚‹ã¨ã€ãƒãƒƒã‚¸ã«é–¢ã™ã‚‹å€‹åˆ¥ãƒšãƒ¼ã‚¸ã«é·ç§»ã—ã¾ã™ã€‚ã™ã‚‹ã¨ã€ç”»é¢ãƒˆãƒƒãƒ—ã«æ¬¡ã®ã‚ˆã†ãªè¡¨ç¤ºãŒã‚ã‚Šã¾ã™ã€‚\nã“ã“ã§ Accept Badge ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€æ¬¡ã®ã‚ˆã†ãªãƒ¢ãƒ¼ãƒ€ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nã“ã“ã§ Public ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹ã¨ã€è‡ªåˆ†ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ Auto Accept ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹ã¨ã€ AWS èªå®šã®ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ã«ã¤ã„ã¦ã¯è‡ªå‹•ã§ Accept ãŠã‚ˆã³ Public ã«ãªã‚‹ã‚ˆã†ã«è¨­å®šã§ãã¾ã™ã€‚\nãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ã‚’ Accept ã™ã‚‹ã¨ã€è‡ªåˆ†ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸ã§ã¯æ¬¡ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nã“ã®ãƒšãƒ¼ã‚¸ã¯å€‹åˆ¥ã® URL ãŒå‰²ã‚ŠæŒ¯ã‚‰ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã® URL ã‚’å…±æœ‰ã™ã‚‹ã“ã¨ã§ç°¡å˜ã«è‡ªåˆ†ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’æ‰€æŒã—ã¦ã„ã‚‹ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ã¨ã¨ã‚‚ã«å…±æœ‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã“ã®ç”»é¢ã«è¡¨ç¤ºã™ã‚‹åå‰ã‚„ bio ã€ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã¤ã„ã¦ã¯è¨­å®šç”»é¢ã‹ã‚‰ç·¨é›†å¯èƒ½ã§ã™ã€‚\nãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ã®å€‹åˆ¥ãƒšãƒ¼ã‚¸ã§ã¯ã„ã‚ã‚“ãªæƒ…å ±ãŒç¢ºèªã§ãã‚‹ ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ã® Accept ã®éš›ã«ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ã®å€‹åˆ¥ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹ã®ã§ã™ãŒã€ãã®ãƒšãƒ¼ã‚¸ã§ã¯æ§˜ã€…ãªæƒ…å ±ãŒç¢ºèªã§ãã¾ã™ã€‚\nãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ã®æ¦‚è¦ ã¾ãšã¯ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ã®è©³ç´°ã«ã¤ã„ã¦ã§ã™ã€‚\nãƒãƒƒã‚¸ã®ç”»åƒã¨èªå®šã®åå‰ã€èªå®šå…ƒã€ã“ã®ãƒãƒƒã‚¸ã‚’æ‰€æŒã—ã¦ã„ã‚‹ã¨è¨¼æ˜ã§ãã‚‹ã‚¹ã‚­ãƒ«ã®èª¬æ˜ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚\nãŠã™ã™ã‚ã®é–¢é€£æƒ…å ± èªå®šãƒãƒƒã‚¸ã«é–¢é€£ã™ã‚‹ãŠã™ã™ã‚ã®æƒ…å ±ã¸ã®ãƒªãƒ³ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ AWS èªå®šã®å ´åˆã€ç¶™ç¶šã—ãŸå‹‰å¼·ã®ãŸã‚ã®æƒ…å ±ã€èªå®šã«ã‚ˆã£ã¦å¾—ã‚‰ã‚Œã‚‹ãƒ¡ãƒªãƒƒãƒˆã€ä¸Šä½è³‡æ ¼ã®æƒ…å ±ãªã©ã¸ã®ãƒªãƒ³ã‚¯ (AWS å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ) ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚\nãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ä¿æŒè€…ã®çµ±è¨ˆ åŒã˜ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ã‚’æ‰€æŒã—ã¦ã„ã‚‹äººã®çµ±è¨ˆãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚å†…å®¹ã¨ã—ã¦ã¯ã€ãƒãƒƒã‚¸ä¿æŒè€…ã® è·ç¨® (ãƒ­ãƒ¼ãƒ«) ã€åœ°åŸŸã€å¹´åã€ä¼æ¥­ã€é–¢é€£ã™ã‚‹æŠ€è¡“ ã®çµ±è¨ˆã‚’ç¢ºèªã™ã‚‹ã¨ãŒã§ãã¾ã™ã€‚\né–¢é€£ã™ã‚‹ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ (èªå®š) è©²å½“ã®ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ã«é–¢é€£ã™ã‚‹ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ (èªå®š) ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸å€‹åˆ¥ãƒšãƒ¼ã‚¸ã«é–¢ã—ã¦ã¯ æ‰€æŒ/æœªæ‰€æŒ å•ã‚ãšã«é–²è¦§å¯èƒ½ã§ã™ã€‚\nä»Šã¾ã§ã®ãƒãƒƒã‚¸ç®¡ç†ã¯ã©ã†ãªã‚‹ï¼Ÿ ã“ã‚Œã¾ã§ã® AWS èªå®šã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒšãƒ¼ã‚¸ (CertMetrics) ã§ã®ãƒãƒƒã‚¸ç®¡ç†ã¯ 2020å¹´ 8æœˆ 1æ—¥ ä»¥é™ ä½¿ç”¨ã§ããªããªã‚Šã¾ã™ã€‚ã‚‚ã—ã“ã‚Œã¾ã§ã« CertMetrics ã®å…±æœ‰æ©Ÿèƒ½ã‚’åˆ©ç”¨ã—ã¦å¤–éƒ¨ã«ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ã‚’å…¬é–‹ã—ã¦ã„ãŸå ´åˆã€ 2020å¹´ 8æœˆ 1æ—¥ ã¾ã§ã« Acclaim ã‹ã‚‰ã®å…±æœ‰ã«åˆ‡ã‚Šæ›¿ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã¾ã¨ã‚ AWS èªå®šã«åˆæ ¼ã—ãŸè¨¼ã¨ã—ã¦ä»˜ä¸ã•ã‚Œã‚‹ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ãŒã€ã“ã‚Œã¾ã§ã® AWS èªå®šã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒšãƒ¼ã‚¸ (CertMetrics) ã§ã®ç®¡ç† ã‹ã‚‰ Acclaim ã§ã®ç®¡ç† ã«å¤‰æ›´ã•ã‚Œã‚‹ã¨ã„ã†è©±ã§ã—ãŸã€‚\nã“ã‚Œã¾ã§ã®ãƒãƒƒã‚¸ç®¡ç†ã§ã¯èªå®šãƒãƒƒã‚¸ã¤ã„ã¦å€‹åˆ¥ã®å…±æœ‰ URL ã—ã‹ç™ºè¡Œã§ãã¾ã›ã‚“ã§ã—ãŸãŒã€ Acclaim çµŒç”±ã§å…±æœ‰ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã“ã¨ã§ã€å€‹äººã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã¨ã—ã¦æ‰€æŒã—ã¦ã„ã‚‹ãƒãƒƒã‚¸ã‚’ç°¡å˜ã«å…±æœ‰ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nã¡ãªã¿ã« AWS èªå®šä»¥å¤–ã§ã¯ã€ Oracle ã®å„ç¨®èªå®šã‚„ Adobe ã®å„ç¨®èªå®šã«ã‚‚å¯¾å¿œã—ã¦ã„ã‚‹ã‚ˆã†ãªã®ã§ã€ AWS èªå®šä»¥å¤–ã«ã‚‚ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒƒã‚¸ã‚’æ‰€æŒã•ã‚Œã¦ã„ã‚‹æ–¹ã¯ãã‚Œã‚‰ã‚‚ã¾ã¨ã‚ã¦å…±æœ‰ã§ãã‚‹ã®ã¯ä¾¿åˆ©ãªã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚\nAWS Certification Digital Badges Acclaim - Acclaim ",
    "permalink": "https://michimani.net/post/aws-certification-degital-badges-provided-via-acclaim/",
    "title": "AWS èªå®šãƒãƒƒã‚¸ãŒ Acclaim ã§ç®¡ç†ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ SNS ã§ã‚·ã‚§ã‚¢ã—ã‚„ã™ããªã£ãŸ"
  },
  {
    "contents": "JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ åˆå¿ƒè€…æ”¯éƒ¨ï¼†åƒè‘‰æ”¯éƒ¨#26 æ–°äººã•ã‚“æ­“è¿ï¼ãƒãƒ³ã‚ºã‚ªãƒ³\u0026amp;LT(ã‚ªãƒ³ãƒ©ã‚¤ãƒ³) ã«å‚åŠ ã—ã¦ãã¾ã—ãŸã€‚ä»Šå›ã¯ãªã‚“ã¨ LT æ ã§å‚åŠ ã—ã¾ã—ãŸã€‚äººç”Ÿåˆã® LT ãŒã©ã‚“ãªæ„Ÿã˜ã ã£ãŸã®ã‹ã€ãã®æ„Ÿæƒ³ã‚’ãƒ¡ã‚¤ãƒ³ã«æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nã¨ã‚Šã‚ãˆãš LT ã§ä½¿ç”¨ã—ãŸè³‡æ–™ã‚’è¦‹ãŸã„ï¼ã¨ã„ã†æ–¹ã¯ å®Œæˆã—ãŸã‚¹ãƒ©ã‚¤ãƒ‰ ã¾ã§ã‚¸ãƒ£ãƒ³ãƒ—ã—ã¦ãã ã•ã„ã€‚\nãªãŠã€å½“æ—¥ã®æ§˜å­ã¯ #jawsug_bgnr ãŠã‚ˆã³ #jawsugchiba ã®ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã§ãƒ„ã‚¤ãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã¡ã‚‰ã‚‚è¦‹ã¦ã¿ã¦ãã ã•ã„ã€‚\nç›®æ¬¡ ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ« LT æ ã§å‚åŠ ã—ã¦ãã¾ã—ãŸï¼ LT ã‚’ã—ã‚ˆã†ã¨æ€ã£ãŸãã£ã‹ã‘ LT ã®å†…å®¹ LT ç”¨ã®ã‚¹ãƒ©ã‚¤ãƒ‰ä½œæˆ ãƒ•ã‚©ãƒ³ãƒˆã‚’è€ƒãˆã‚‹ æµã‚Œã‚’è€ƒãˆã‚‹ å„ãƒ‘ãƒ¼ãƒˆã®ä½œæˆ ç·´ç¿’ã¨ä¿®æ­£ å®Œæˆã—ãŸã‚¹ãƒ©ã‚¤ãƒ‰ Amazon Chime ã‚’ä½¿ã£ãŸ LT Chime ã§ç”»é¢å…±æœ‰ ãƒ‡ãƒã‚¤ã‚¹ã®åˆ‡ã‚Šæ›¿ãˆã¯ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç‰ˆã®ã¿å¯ ç”»é¢å…±æœ‰ä¸­ã¯å…±æœ‰ã—ãŸç”»é¢ã—ã‹è¦‹ã‚Œãªã„ ã¾ã¨ã‚ ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ« ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ«ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\næ™‚é–“ å†…å®¹ ç™»å£‡è€… 19:20ã€œ å—ä»˜é–‹å§‹ - 19:30-19:40 è«¸æ³¨æ„/åˆå¿ƒè€…æ”¯éƒ¨ã¨ã¯/ãƒ†ãƒ¼ãƒèª¬æ˜ åˆå¿ƒè€…æ”¯éƒ¨é‹å–¶ ç¹”ç”°ã•ã‚“ 19:40-19:45 åƒè‘‰æ”¯éƒ¨ã®ã”ç´¹ä»‹ åƒè‘‰æ”¯éƒ¨é‹å–¶ å’Œç”°ã•ã‚“ 19:45-21:15 ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ: æ‰‹ã‚’å‹•ã‹ã—ãªãŒã‚‰å­¦ã¶ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã¯ã˜ã‚ã®ä¸€æ­© AWSJ é‡‘æ¾¤ã•ã‚“ 21:15-21:20 ä¼‘æ†© - 20:20-21:30 å®¿é¡Œã®å›ç­”LT1 AWS CDK ã§æ–‡å­—èµ·ã“ã—+ç¿»è¨³ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ä½œã£ã¦ã¿ãŸ ä¼Šè—¤ (åƒ•ã§ã™) 20:32-21:42 å®¿é¡Œã®å›ç­”LT2 batchiã•ã‚“ 20:44-21:49 ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹LT-Lambdaã£ã¦èª²é‡‘ã•ã‚Œã‚‹ã®ï¼Ÿã€œéåŒæœŸå‡¦ç†ã§ã¡ã‚‡ã£ã¨ã‚„ã‚‰ã‹ã—ãŸè©± åƒè‘‰æ”¯éƒ¨é‹å–¶ å’Œç”°ã•ã‚“ 21:51-22:00 ç· ã‚ \u0026amp; ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ é‹å–¶ ç¹”ç”°ã•ã‚“ ãªãŠä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã«ã¤ã„ã¦ã¯ã€åˆå¿ƒè€…æ”¯éƒ¨ #24 ã§å®Ÿæ–½ã•ã‚ŒãŸã‚‚ã®ã¨åŒã˜å†…å®¹ã§ã™ã€‚\nJAWS-UG åˆå¿ƒè€…æ”¯éƒ¨#24 ã‚µãƒ¼ãƒãƒ¬ã‚¹ãƒãƒ³ã‚ºã‚ªãƒ³å‹‰å¼·ä¼š - connpass ãã®ä»–ã€ä»Šå›ã®ã‚¤ãƒ™ãƒ³ãƒˆè©³ç´°ã«ã¤ã„ã¦ã¯ connpass ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nJAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ï¼†åƒè‘‰æ”¯éƒ¨ #26 æ–°äººã•ã‚“æ­“è¿ï¼ãƒãƒ³ã‚ºã‚ªãƒ³\u0026amp;amp;LT(ã‚ªãƒ³ãƒ©ã‚¤ãƒ³) - connpass LT æ ã§å‚åŠ ã—ã¦ãã¾ã—ãŸï¼ ä»Šå›ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€ãƒãƒ³ã‚ºã‚ªãƒ³ãŒãƒ¡ã‚¤ãƒ³ã§ LT ãŒ 3 æœ¬ã¨ã„ã†å†…å®¹ã§ã—ãŸã€‚ connpass ã§ã®ã‚¤ãƒ™ãƒ³ãƒˆå…¬é–‹ã®å‰ã«ã€ Facebook ã®åˆå¿ƒè€…æ”¯éƒ¨ã‚°ãƒ«ãƒ¼ãƒ—ã§é‹å–¶ã®ç¹”ç”°ã•ã‚“ã‹ã‚‰ LT ã—ã¦ãã‚Œã‚‹æ–¹ã‚’å‹Ÿé›†ã—ã¦ã„ã‚‹ã¨ã„ã†æŠ•ç¨¿ãŒã‚ã‚Šã¾ã—ãŸã€‚LT ã®å†…å®¹ã¨ã—ã¦ã¯ã€å‰å›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§å‡ºã¦ã„ãŸå®¿é¡Œã®å›ç­”ã«ã¤ã„ã¦ã€ã§ã—ãŸã€‚\nå‰å›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã®å®¿é¡Œã«ã¤ã„ã¦ã¯ãƒãƒ³ã‚ºã‚ªãƒ³å¾Œã™ãã«å®Ÿæ–½ã—ã¦ãŠã‚Šã€ãƒ–ãƒ­ã‚°ã«ã‚‚æ›¸ã„ã¦ã„ã¾ã—ãŸã€‚ãªã®ã§ã€ãã®å†…å®¹ã§ã‚ã‚Œã°è©±ã›ãã†ã ãªã¨æ€ã„ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ LT ã‚’ã—ãŸã„æ—¨ã‚’ä¼ãˆã€ LT æ ã§å‚åŠ ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚\nLT ã‚’ã—ã‚ˆã†ã¨æ€ã£ãŸãã£ã‹ã‘ åƒ•è‡ªèº«ã€ã“ã‚Œã¾ã§ã«ã‚¤ãƒ™ãƒ³ãƒˆã§ã®ç™»å£‡ã‚„ LT ã®çµŒé¨“ã¯ç„¡ãã€ã‚‚ã¡ã‚ã‚“ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®ç™»å£‡çµŒé¨“ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚\nãŸã ã€ 2 å¹´å‰ãã‚‰ã„ã‹ã‚‰ã“ã®ãƒ–ãƒ­ã‚°ã§è‰²ã€…ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã€å»å¹´ã‹ã‚‰ã¯ãƒãƒ³ã‚ºã‚ªãƒ³ã‚„ãã®ä»–ã‚¤ãƒ™ãƒ³ãƒˆã«ã‚‚å‚åŠ ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã€è‡ªåˆ†ã‚‚ä½•ã‹ã—ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã§ç™»å£‡ã¨ã„ã†å½¢ã§ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã—ã¦ã¿ãŸã„ãªã€ã¨ã¯æ€ã£ã¦ã„ã¾ã—ãŸã€‚\nå‰ã«å‚åŠ ã—ãŸ JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ã®ã‚¤ãƒ™ãƒ³ãƒˆã§ã€Œç™»å£‡ã‚‚åˆå¿ƒè€…ã§ã™ã€ã¨è¨€ã£ã¦ç™»å£‡ã•ã‚Œã¦ã„ã‚‹æ–¹ãŒã„ã¦ã€ã“ã“ã®ã‚°ãƒ«ãƒ¼ãƒ—ãªã‚‰ç™»å£‡ãƒ‡ãƒ“ãƒ¥ãƒ¼ã§ãã‚‹ã‹ã‚‚ã—ã‚Œãªã„ãªã¨æ„Ÿã˜ã¦ã„ã¾ã—ãŸã€‚\nãã‚“ãªã¨ã“ã‚ã«ä»Šå›ã®ãƒãƒ£ãƒ³ã‚¹ãŒå·¡ã£ã¦ããŸã‚ã‘ã§ã™ã€‚æ°—ä»˜ã„ãŸã‚‰å‚åŠ è¡¨æ˜ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã£ã¦ã„ã¾ã—ãŸã€‚ã¾ã‚ã€ãªã‚“ã¨ã‹ãªã‚‹ã‚„ã‚ç²¾ç¥ã§ã™ã€‚\nLT ã®å†…å®¹ å…ˆè¿°ã—ãŸé€šã‚Š LT ã®å†…å®¹ã¯ã€å‰å›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã®å®¿é¡Œã«å¯¾ã™ã‚‹å›ç­”ãªã®ã§ã€ãƒ–ãƒ­ã‚°ã«ã—ãŸå†…å®¹ã‚’ãã®ã¾ã¾è©±ã›ã°ã„ã„ã‹ãªã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚\nãŸã ã€ã“ã®å†…å®¹ã ã¨ã¡ã‚‡ã£ã¨å‘³æ°—ãªã„ãªã¨æ€ã„ã€æœ€è¿‘èˆˆå‘³ã®ã‚ã‚‹ IaC ã«çµ¡ã‚ã¦è©±ã—ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚ãã—ã¦ä»˜ã‘ãŸã‚¿ã‚¤ãƒˆãƒ«ãŒ ã€ŒAWS CDK ã§æ–‡å­—èµ·ã“ã— + ç¿»è¨³ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ä½œã£ã¦ã¿ãŸã€ ã§ã™ã€‚ã“ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’è€ƒãˆãŸæ™‚ç‚¹ã§ã¯ CDK ã‚’ä½¿ã£ã¦ã‚„ã£ã¦ã¿ãŸã¨ã„ã†äº‹å®Ÿã¯ä¸€åˆ‡ã‚ã‚Šã¾ã›ã‚“ã€‚ã¯ã„ã€‚ã‚¿ã‚¤ãƒˆãƒ«ã‚’æ±ºã‚ã¦ã‹ã‚‰ CDK ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚Šå§‹ã‚ã¾ã—ãŸã€‚\nGA ã‹ã‚‰ 10 ãƒ¶æœˆãã‚‰ã„çµŒã£ãŸ AWS CDK ã§ã™ãŒã€ã„ã¾ã ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®ã‚¹ãƒ”ãƒ¼ãƒ‰ã¯è¡°ãˆã‚‹ã“ã¨ç„¡ãã€éå¸¸ã«é€Ÿã„ã‚¹ãƒ”ãƒ¼ãƒ‰ã§æ”¹å–„ãƒ»æ”¹è‰¯ãŒé€²ã‚“ã§ã„ã¾ã™ã€‚ãã‚“ãªãƒ›ãƒƒãƒˆãªè©±é¡Œã«å°‘ã—ã§ã‚‚è§¦ã‚Œã‚‰ã‚Œã‚‹ LT ãŒã§ãã‚Œã°é¢ç™½ã„ã‹ãªã¨æ€ã£ã¦ã“ã®ã‚¿ã‚¤ãƒˆãƒ«ã«æ±ºã‚ã¾ã—ãŸã€‚\nå¹¸ã„ã€ CDK è‡ªä½“ã¯å°‘ã—è§¦ã£ãŸã“ã¨ãŒã‚ã£ãŸã®ã§ã€æœ€ä½é™å‹•ãå®Ÿè£…è‡ªä½“ã¯ã•ã•ã£ã¨ã§ãã¾ã—ãŸã€‚\nLT ã§ç´¹ä»‹ã—ãŸ CDK ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ GitHub ã§å…¬é–‹ã—ã¦ã„ã¾ã™ã®ã§ã€ clone ã—ã¦è§¦ã£ã¦ã¿ã¦ãã ã•ã„ã€‚\nmichimani/jaws-ug-bgnr-24-homework: JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨#24 ã‚µãƒ¼ãƒãƒ¬ã‚¹ãƒãƒ³ã‚ºã‚ªãƒ³å‹‰å¼·ä¼š ã«ã¦å®¿é¡Œã¨ãªã£ã¦ã„ãŸ æ–‡å­—èµ·ã“ã— \u0026#43; ç¿»è¨³ ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã® CDK ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚ LT ç”¨ã®ã‚¹ãƒ©ã‚¤ãƒ‰ä½œæˆ ä»Šå›ã® LT ã¯ 10 åˆ†ã¨ã„ã†ã“ã¨ã§ã€ LT ã¨ã—ã¦ã¯å°‘ã—é•·ã‚ã®è¨­å®šã§ã—ãŸã€‚ãŸã ã€ç™»å£‡çµŒé¨“ãŒã¾ã£ãŸãç„¡ã„ã®ã§ 10 åˆ†ã¨è¨€ã‚ã‚Œã¦ã‚‚ãƒœãƒªãƒ¥ãƒ¼ãƒ æ„ŸãŒå…¨ãã‚ã‹ã‚Šã¾ã›ã‚“ã€‚ã¨ã„ã†ã“ã¨ã§ã€ã¾ãšã¯æ™‚é–“ã‚’æ°—ã«ã›ãšã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ä½œã£ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚\nä»¥ä¸‹ã€ã‚¹ãƒ©ã‚¤ãƒ‰ä½œæˆæ™‚ã«ã‚„ã£ãŸã“ã¨ã‚’é †ã«æŒ¯ã‚Šè¿”ã£ã¦ã¿ã¾ã™ã€‚\nãƒ•ã‚©ãƒ³ãƒˆã‚’è€ƒãˆã‚‹ ã¾ãšæœ€åˆã«ã‚„ã£ãŸã®ãŒã€ä½¿ç”¨ã™ã‚‹ãƒ•ã‚©ãƒ³ãƒˆã®é¸å®šã§ã™ã€‚ãŸã¶ã‚“ã“ã‚Œã‚’æœ€åˆã«ã‚„ã‚‹ã®ã¯é–“é•ã£ã¦ã„ã‚‹æ°—ã¯ã—ã¦ã¾ã™ã€‚ãŒã€ 1 æšç›®ã®ã‚¿ã‚¤ãƒˆãƒ«ãƒšãƒ¼ã‚¸ã‚’ä½œã‚‹ã¨ãã«ãƒ•ã‚©ãƒ³ãƒˆãŒæ°—ã«ãªã£ã¦ã—ã¾ã£ã¦ã€çµæœçš„ã«ã‚¿ã‚¤ãƒˆãƒ«ãƒšãƒ¼ã‚¸ä½œã‚‹ã ã‘ã§ 1 æ—¥çµ‚ã‚ã£ã¦ã—ã¾ã£ãŸã®ã¯è‰¯ã„æ€ã„å‡ºã§ã™ã€‚\næœ€çµ‚çš„ã«é¸ã‚“ã ãƒ•ã‚©ãƒ³ãƒˆã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚ã©ã¡ã‚‰ã‚‚ Adobe Fonts ã§ä½¿ç”¨ã§ãã‚‹ãƒ•ã‚©ãƒ³ãƒˆã§ã™ã€‚\nã‚¿ã‚¤ãƒˆãƒ«ï¼è¦‹å‡ºã— : A-OTF è¦‹å‡ºã—ã‚´MB31 Pr6N æœ¬æ–‡ : A-OTF UDæ–°ã‚´ Pr6N ãªãŠã€ã‚³ãƒ¼ãƒ‰éƒ¨åˆ†ã«é–¢ã—ã¦ã¯ VS Code ã‚’ã‚¹ã‚¯ã‚·ãƒ§ã‚’ä½¿ç”¨ã—ãŸã®ã§ã€æ™®æ®µ VS Code ã§ä½¿ç”¨ã—ã¦ã„ã‚‹ Hackgen Console ã«ãªã£ã¦ã„ã¾ã™ã€‚\nyuru7/HackGen: HackGen is Japanese programming font which is a composed of Hack and GenJyuu-Gothic. æµã‚Œã‚’è€ƒãˆã‚‹ æ¬¡ã«å…¨ä½“ã®æµã‚Œã‚’è€ƒãˆã¾ã—ãŸã€‚\nä»Šã¾ã§ã«å‚åŠ ã—ã¦ããŸã‚¤ãƒ™ãƒ³ãƒˆã‚’æ€ã„å‡ºã—ãŸã‚Šã€ç™»å£‡è€…ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’å‚è€ƒã«ã—ãŸã‚Šã—ã¦ã€æ¬¡ã®ã‚ˆã†ãªæµã‚Œã«ã—ã‚ˆã†ã¨è€ƒãˆã¾ã—ãŸã€‚\nã‚¿ã‚¤ãƒˆãƒ« è‡ªå·±ç´¹ä»‹ ã‚¢ã‚¸ã‚§ãƒ³ãƒ€ è©±ã™ã“ã¨ è©±ã•ãªã„ã“ã¨ ãƒ¡ã‚¤ãƒ³ å®¿é¡Œã®å†…å®¹ã‚’ãŠã•ã‚‰ã„ AWS CDK ã¨ã¯ AWS CDK ã§å®¿é¡Œã‚„ã£ã¦ã¿ãŸ ã¾ã¨ã‚ ãŠã—ã¾ã„ ç‰¹ã«ãŠã‚‚ã—ã‚ã¿ã‚‚ãªãã€è‡³ã£ã¦æ™®é€šãªæ§‹æˆã‹ã¨æ€ã„ã¾ã™ã€‚ãŸã ã€å…ˆã«å…¨ä½“ã®æµã‚Œã¨æ§‹æˆã‚’è€ƒãˆã‚‹ã“ã¨ã§ã€ã‚ã¨ã¯ãã‚Œãã‚Œè‚‰ä»˜ã‘ã—ã¦ã„ãã ã‘ã«ãªã‚Šã¾ã—ãŸã€‚\nå„ãƒ‘ãƒ¼ãƒˆã®ä½œæˆ ä¸Šã®æ§‹æˆã®ã†ã¡ã€ä¸€ç•ªå¤§äº‹ãªã®ã¯ ãƒ¡ã‚¤ãƒ³ ã§ã™ã€‚(å½“ãŸã‚Šå‰) ãã®ä¸­ã§ã‚‚ã€ä»Šå›ã® LT ã®ãƒ¡ã‚¤ãƒ³ã¯ ãƒãƒ³ã‚ºã‚ªãƒ³ã®å®¿é¡Œã®å›ç­” ãªã®ã§ã€ 3. AWS CDK ã§å®¿é¡Œã‚„ã£ã¦ã¿ãŸ éƒ¨åˆ†ãŒä¸€ç•ªå¤§äº‹ãªéƒ¨åˆ†ã§ã™ã€‚\nã¨ã¯è¨€ã£ã¦ã‚‚ã€å®Ÿè£…å†…å®¹ã‚’æ·¡ã€…ã¨è©±ã—ã¦ã‚‚ã¤ã¾ã‚‰ãªã„ã ã‚ã†ã—ã€ã©ã†ã™ã‚‹ã‹ãªãƒ¼ã¨æ‚©ã‚“ã§ã„ã¾ã—ãŸã€‚ãã“ã§ã€æ€ã„ã¤ã„ãŸã®ãŒã€ ãƒ‘ãƒ©ãƒ‘ãƒ©æ¼«ç”»ä½œæˆ¦ ã§ã™ã€‚ãƒ€ã‚µã„ãƒãƒ¼ãƒŸãƒ³ã‚°ã§ã™ã€‚\n10 åˆ†ã¨ã„ã†é•·ã„ã‚ˆã†ã§çŸ­ã„æ™‚é–“ã§ã€ãªã‚“ã¨ãªãã§ã‚‚å†…å®¹ã‚’ä¼ãˆã‚ˆã†ã¨æ€ã†ã¨ã€ã‚„ã¯ã‚Šå–‹ã‚‹ã‚ˆã‚Šã‚‚ãƒ†ãƒ³ãƒã‚ˆãå‹•ãã‚’è¦‹ã›ãŸã»ã†ãŒè‰¯ã„ã®ã‹ãªã¨ã„ã†æ€ã„ã‹ã‚‰è€ƒãˆãŸä½œæˆ¦ã§ã™ã€‚ã¨ã„ã£ã¦ã‚‚æ—¢ã«ã“ã®ã‚ˆã†ãªæ–¹æ³•ã‚’å®Ÿè·µã•ã‚Œã¦ã„ã‚‹ç™»å£‡è³‡æ–™ã¯ãŸãã•ã‚“ã‚ã‚Šã€åƒ•è‡ªèº«ãŒãã®ç™»å£‡ã‚’æ‹è´ã—ã¦ã„ã¦å‡„ãã‚ã‹ã‚Šã‚„ã™ã‹ã£ãŸã¨ã„ã†ä½“é¨“ãŒã‚ã£ãŸã®ã‚‚å¤§ãã„ã§ã™ã€‚\nãªã‚“ã¨ãªãã‚¤ãƒ¡ãƒ¼ã‚¸ã¯å‡ºæ¥ã‚‹ã¨æ€ã„ã¾ã™ãŒã€å…·ä½“çš„ã«ã¯ã€ å®Ÿéš›ã« CDK ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ã›ã‚‹ ã¿ãŸã„ãªã“ã¨ã‚’ã‚„ã‚Šã¾ã—ãŸã€‚\nãã®çµæœã€ LT çµ‚äº†å¾Œã«ã¯ãã®éƒ¨åˆ†ã‚’è‰¯ã‹ã£ãŸã¨è¨€ã£ã¦ã„ãŸã ã‘ã‚‹ãƒ„ã‚¤ãƒ¼ãƒˆãŒã‚ã‚Šã€ã‚·ãƒ³ãƒ—ãƒ«ã«å¬‰ã—ã‹ã£ãŸã§ã™ã€‚\nä¼Šè—¤ã•ã‚“ã«ã‚ˆã‚‹å®¿é¡Œå›ç­”ï¼AWS CDK ã§æ§‹ç¯‰ã—ã¦ã„ãŸã ã„ãŸã¨ã®ã“ã¨ğŸ˜ç´ æ™´ã‚‰ã—ã„ã§ã™ï¼AWS CDK ã‚’å®Ÿè¡Œã™ã‚‹éƒ¨åˆ†ã®è³‡æ–™ã¨ã¦ã‚‚åˆ†ã‹ã‚Šã‚„ã™ã„ã€‚ã€‚ã€‚#jawsug_bgnr #jawsugchiba\n\u0026mdash; ketancho ğŸ™‚ï½œKei Kanazawa (@ketancho) April 28, 2020 ã“ã‚Œç§ã‚‚æ€ã£ãŸï¼ï¼\nã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç”»é¢ã§ã‚³ãƒãƒ³ãƒ‰æ‰“ã£ã¦ã‚‹ã‹ã®ã‚ˆã†ãªã‚¹ãƒ©ã‚¤ãƒ‰ã€ã‚ã‹ã‚Šã‚„ã™ã‹ã£ãŸï¼ã¾ã•ã‹ã®åˆLTã ã£ãŸãªã‚“ã¦ï¼#jawsug_bgnr https://t.co/07OgR1Zugl\n\u0026mdash; ãŸã‘ã  (@taketakekaho) April 28, 2020 ç·´ç¿’ã¨ä¿®æ­£ å…¨ä½“ãŒå®Œæˆã—ãŸã‚‰ã€ã‚ã¨ã¯å®Ÿéš›ã«æ™‚é–“ã‚’è¨ˆã£ã¦ç·´ç¿’ã—ã¦ã¿ã¾ã™ã€‚å¹¸ã„ã«ã‚‚ä¸€ç™ºç›®ã®ç·´ç¿’ã§ 12 åˆ†ãã‚‰ã„ã ã£ãŸã®ã§ã€ä»Šå›ã¯å°‘ã—è©±ã™å†…å®¹ã‚’å‰Šã‚‹ã ã‘ã§å¯¾å¿œã§ãã¾ã—ãŸã€‚\nã¡ãªã¿ã«ã‚¹ãƒ©ã‚¤ãƒ‰ã¯ macOS ã«ä»˜å±ã—ã¦ã„ã‚‹ Keynote ã§ä½œæˆã—ã€å®Ÿéš›ã®ç™ºè¡¨æ™‚ã«ã‚‚ Keynote ã®å†ç”Ÿæ©Ÿèƒ½ã‚’åˆ©ç”¨ã—ã¾ã—ãŸã€‚ãƒãƒ«ãƒãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ç’°å¢ƒã§ Keynote ã®å†ç”Ÿæ©Ÿèƒ½ã‚’åˆ©ç”¨ã™ã‚‹ã¨ã€ãƒ¡ã‚¤ãƒ³ã«ã¯ã‚¹ãƒ©ã‚¤ãƒ‰ãŒãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã§è¡¨ç¤ºã•ã‚Œã€ã‚µãƒ–ã«ã¯ç¾åœ¨è¡¨ç¤ºä¸­ã®ã‚¹ãƒ©ã‚¤ãƒ‰ãŠã‚ˆã³æ¬¡ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã€ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ãƒ¡ãƒ¢ã€å†ç”Ÿé–‹å§‹ã‹ã‚‰ã®çµŒéæ™‚é–“ãªã©ãŒè¡¨ç¤ºã•ã‚Œã¦éå¸¸ã«ä¾¿åˆ©ã§ã™ã€‚\nå®Œæˆã—ãŸã‚¹ãƒ©ã‚¤ãƒ‰ Amazon Chime ã‚’ä½¿ã£ãŸ LT ä»Šå›ã€ã‚¤ãƒ™ãƒ³ãƒˆã®é…ä¿¡ã«ã¯ Amazon Chime ã‚’ä½¿ç”¨ã—ã¾ã—ãŸã€‚\nAmazon Chimeï¼ˆå¾“é‡èª²é‡‘åˆ¶ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ä¼šè­°ã€ãƒãƒ£ãƒƒãƒˆã‚µãƒ¼ãƒ“ã‚¹ï¼‰| AWS ä¸»å‚¬è€…å´ã§è‰²ã€…è¨­å®šãŒã‚ã‚‹ã‚ˆã†ãªã®ã§ã™ãŒã€ä»Šå›ã®ã‚¤ãƒ™ãƒ³ãƒˆã§ã¯æ¬¡ã®ã‚ˆã†ãªå½¢ã§ã—ãŸã€‚\næ‹›å¾… URL ã‹ã‚‰å‚åŠ ã—ãŸãƒ¦ãƒ¼ã‚¶ã¯ãƒã‚¤ã‚¯ãƒ»ãƒ“ãƒ‡ã‚ªå…±ã«ã‚ªãƒ• ä¸»å‚¬è€…ã« Presenter ã«æŒ‡å®šã•ã‚Œã‚‹ã¨ãƒã‚¤ã‚¯ãƒ»ãƒ“ãƒ‡ã‚ªãŒã‚ªãƒ³ã«ã§ãã‚‹ Presenter ã«ãªã‚‹ã¨ç”»é¢ã®å…±æœ‰ã‚‚ã§ãã‚‹ ã‚ã¨ã¯åŸºæœ¬çš„ã«ãã®ä»–ã®ãƒ“ãƒ‡ã‚ªä¼šè­°ãƒ„ãƒ¼ãƒ«ã¨åŒæ§˜ã§ã€ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½ãŒã‚ã£ãŸã‚Šã—ã¾ã™ã€‚\nChime ã§ç”»é¢å…±æœ‰ Chime ã§ç”»é¢å…±æœ‰ã™ã‚‹ã«ã¯ã€ç”»é¢ä¸Šéƒ¨ã«ã‚ã‚‹ Screen ã‚¢ã‚¤ã‚³ãƒ³ã‹ã‚‰é–‹å§‹ã—ã¾ã™ã€‚\né¸æŠè‚¢ã¨ã—ã¦ã¯ Share Screen ã¨ Share Window ãŒã‚ã‚Šã¾ã™ã€‚\nShare Screen ã“ã“ã§è¨€ã† Screen ã¨ã¯ã€ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ (ãƒ¢ãƒ‹ã‚¿ãƒ¼) å…¨ä½“ã®ã“ã¨ã§ã™ã€‚ãƒãƒ«ãƒãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ç’°å¢ƒã§ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€ Share Screen ã‚’é¸ã‚“ã ã‚ã¨ã«ã©ã®ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã‚’å…±æœ‰ã™ã‚‹ã‹é¸æŠã—ã¾ã™ã€‚\nShare Window ã“ã“ã§è¨€ã† Window ã¨ã¯ã€å„ã‚¢ãƒ—ãƒª (ã‚½ãƒ•ãƒˆ) ã®ã²ã¨ã¤ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã™ã€‚ macOS ã§ã‚ã‚Œã°ã€ Finder ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ä¸€ã¤é¸æŠã™ã‚‹ã¨ã€ä»–ã®ãƒ¦ãƒ¼ã‚¶ã«ã¯ãã® Window ãŒç”»é¢å…¨ä½“ã«è¡¨ç¤ºã•ã‚Œã‚‹å½¢ã«ãªã‚Šã¾ã™ã€‚\nãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ä¸Šã«è¦‹ã›ãŸããªã„ã‚‚ã®ãŒã‚ã‚‹ãªã©ã®å ´åˆã‚’é™¤ã„ã¦ã¯ã€ Share Screen ã‚’é¸æŠã—ã¦ã€ Keynote ã‚„ PowerPoint ã®å†ç”Ÿãƒ»ã‚¹ãƒ©ã‚¤ãƒ‰ã‚·ãƒ§ãƒ¼ã‚’é–‹å§‹ã™ã‚‹ã®ãŒã‚¹ãƒ ãƒ¼ã‚ºã‹ãªã¨æ€ã„ã¾ã™ã€‚\nãƒ‡ãƒã‚¤ã‚¹ã®åˆ‡ã‚Šæ›¿ãˆã¯ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç‰ˆã®ã¿å¯ è‡ªå®…ã®ç’°å¢ƒã«ã‚ˆã£ã¦ã¯ãƒã‚¤ã‚¯ã‚„ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ã«æ§˜ã€…ãªã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãƒ‡ãƒã‚¤ã‚¹ã‚’ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹æ–¹ã‚‚ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚ Chime ã§ã¯ã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç‰ˆã®ã‚¢ãƒ—ãƒªã§ãªã„ã¨ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãƒ‡ãƒã‚¤ã‚¹ã®åˆ‡ã‚Šæ›¿ãˆãŒã§ããªã„ã‚ˆã†ã§ã™ã€‚\nãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç‰ˆã‚¢ãƒ—ãƒªã§ã¯ç”»é¢ä¸Šéƒ¨ã® more ã‹ã‚‰ãƒ‡ãƒã‚¤ã‚¹è¨­å®šãŒå¯èƒ½ã§ã™ãŒã€ãƒ–ãƒ©ã‚¦ã‚¶ç‰ˆã§ã¯è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã§ã—ãŸã€‚\nä»Šå›ã¯ã€å…ˆæ—¥è²·ã£ãŸ TASCAM ã® DR-07X ã‚’ãƒã‚¤ã‚¯ã«ä½¿ç”¨ã—ã¦ã¿ãŸã‹ã£ãŸã®ã§ã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç‰ˆã® Chime ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¾ã—ãŸã€‚ LT è´ã„ã¦ãã ã•ã£ãŸæ–¹ã€éŸ³å£°ã©ã†ã ã£ãŸã§ã—ã‚‡ã†ã‹ï¼Ÿ\nç”»é¢å…±æœ‰ä¸­ã¯å…±æœ‰ã—ãŸç”»é¢ã—ã‹è¦‹ã‚Œãªã„ ç™»å£‡è€…ã¯è‡ªåˆ†ã®ç”»é¢ã‚’å…±æœ‰ã—ã¦å–‹ã‚‹ã“ã¨ã«ãªã‚‹ã®ã§ã™ãŒã€ç”»é¢ã‚’å…±æœ‰ã™ã‚‹ã¨ Chime ã®ç”»é¢ãŒè¦‹ã‚Œã¾ã›ã‚“ã€‚ã©ã†ã„ã†ã“ã¨ã‹ã¨ã„ã†ã¨ã€è‡ªåˆ†å«ã‚ãƒ“ãƒ‡ã‚ªã‚’ã‚ªãƒ³ã«ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ã®é¡”ãŒè¦‹ãˆãªã„ã®ã¯ã‚‚ã¡ã‚ã‚“ã€ãƒãƒ£ãƒƒãƒˆã‚‚è¦‹ã‚Œã¾ã›ã‚“ã€‚ã“ã‚ŒãŒè¾›ã„ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ã€ ç”»é¢å…±æœ‰ã—ã¦å–‹ã£ã¦ã„ã‚‹è‡ªåˆ†ã®é¡”ãŒè‡ªåˆ†ã§ç¢ºèªã§ããªã„ ã¨ã„ã†ã“ã¨ã§ã™ã€‚ã‚¹ãƒ©ã‚¤ãƒ‰ã¯ã‚‚ã¡ã‚ã‚“ã€è‡ªåˆ†ãŒã©ã‚“ãªé¢¨ã«è¦‹ãˆã¦ã„ã‚‹ã®ã‹ã¯æ°—ã«ãªã‚Šã¾ã™ã‚ˆã­ã€‚\nãã‚“ãªã¨ãã«è©¦ã—ãŸã„ã®ãŒã€ ä»–ã®ç«¯æœ«ã§åˆ¥ãƒ¦ãƒ¼ã‚¶ã¨ã—ã¦ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«å‚åŠ ã—ã¦ãŠã ã¨ã„ã†ã“ã¨ã§ã™ã€‚ã‚‚ã¡ã‚ã‚“ã€ å‚åŠ äººæ•°ã«ä½™è£•ãŒã‚ã‚Œã° ã®è©±ã§ã™ãŒã€ã“ã®æ–¹æ³•ã‚’ä½¿ã†ã“ã¨ã§è‡ªåˆ†ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã‚„é¡”ãŒã©ã†è¦‹ãˆã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã ã¨ã©ã†ã—ã¦ã‚‚ã‚¹ãƒ©ã‚¤ãƒ‰ã®ãƒšãƒ¼ã‚¸é·ç§»ã«ã¨å–‹ã‚Šã«ãƒ©ã‚°ãŒç™ºç”Ÿã—ãŸã‚Šã™ã‚‹ã®ã§ã€ãƒšãƒ¼ã‚¸åˆ‡ã‚Šæ›¿ãˆã‚„å–‹ã‚Šã«ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’ç¢ºèªã™ã‚‹ã®ã«ã‚‚è‰¯ã„ã‹ãªã¨æ€ã„ã¾ã™ã€‚ä»Šå›ã®ã‚ˆã†ã«ç´™èŠå±…é¢¨ã«ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯éå¸¸ã«é‡è¦ãªã®ã§ã€å¯èƒ½ãªå ´åˆã¯è©¦ã—ã¦ã¿ã‚‹ã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚\nã¾ã¨ã‚ JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ åˆå¿ƒè€…æ”¯éƒ¨ï¼†åƒè‘‰æ”¯éƒ¨#26 æ–°äººã•ã‚“æ­“è¿ï¼ãƒãƒ³ã‚ºã‚ªãƒ³\u0026amp;LT(ã‚ªãƒ³ãƒ©ã‚¤ãƒ³) ã« LT æ ã§å‚åŠ ã—ã¦ããŸè©±ã§ã—ãŸã€‚\näººç”Ÿåˆã® LT ã€ã—ã‹ã‚‚ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã¨ã„ã†ã“ã¨ã§ã©ã†ãªã‚‹ã‹ä¸å®‰ã§ã—ãŸãŒã€ãªã‚“ã¨ã‹ç„¡äº‹ã«çµ‚ãˆã‚‹ã“ã¨ãŒã§ããŸã‹ãªã¨æ€ã„ã¾ã™ã€‚ä»Šå›ã“ã®ã‚ˆã†ãªæ©Ÿä¼šã‚’ç”¨æ„ã—ã¦ã„ãŸã ã„ãŸåˆå¿ƒè€…æ”¯éƒ¨é‹å–¶ã®ã¿ãªã•ã¾ã€ã¾ãŸã€å½“æ—¥å‚åŠ ã•ã‚Œã¦ LT ã‚’è´ã„ã¦ãã ã•ã£ãŸã¿ãªã•ã¾ã€æœ¬å½“ã«ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼ã¨ã¦ã‚‚è‰¯ã„çµŒé¨“ã«ãªã‚Šã¾ã—ãŸã€‚\nã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®ç™»å£‡ã«ã¤ã„ã¦ã¯ã€å‚åŠ è€…ã®é¡”ãŒè¦‹ãˆãªã„ã€å†…å®¹ãŒä¼ã‚ã£ã¦ã„ã‚‹ã‹ãŒåˆ¤æ–­ã§ããªã„ã€ä¼šå ´ã®é›°å›²æ°—ãŒã‚ã‹ã‚‰ãªã„ã€ãªã©ã€ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã«æ¯”ã¹ã¦è¾›ã„ãƒã‚¤ãƒ³ãƒˆãŒãŸãã•ã‚“ã‚ã‚‹ã¨ã„ã†è©±ã‚’äº‹å‰ã«èã„ã¦ã„ã¾ã—ãŸã€‚ã—ã‹ã—ã€äººå‰ã«å‡ºã‚‹ã®ã«æ…£ã‚Œã¦ã„ãªã„ã€ä¸”ã¤ç·Šå¼µã—ã‚„ã™ã„è‡ªåˆ†ã«ã¯ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã® LT ã¯æ°—è»½ã«ã§ãã¦ã‚ˆã‹ã£ãŸãªã¨è¨€ã†å°è±¡ã§ã™ã€‚ç·Šå¼µã—ã¦ãªã‹ã£ãŸã‚ã‘ã§ã¯ãªã„ã®ã§ã™ãŒã€‚\nã‚‚ã— LT ã‚„ç™»å£‡ã—ã¦ã¿ãŸã„ã‘ã©åƒ•ã¨åŒã˜ã‚ˆã†ã«äººå‰ã«å‡ºã‚‹ã®ã¯è‹¦æ‰‹ã ãªã¨æ„Ÿã˜ã¦ã„ã‚‹æ–¹ãŒã„ã‚Œã°ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã® LT ã‚„ç™»å£‡ã¯ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã«æ¯”ã¹ã¦ãƒãƒ¼ãƒ‰ãƒ«ãŒä½ãã€ LTãƒ»ç™»å£‡ãƒ‡ãƒ“ãƒ¥ãƒ¼ã«ã¯ã‚‚ã£ã¦ã“ã„ãªç’°å¢ƒã ã¨ä¼ãˆãŸã„ã§ã™ã€‚\nã‚ã‚‰ãŸã‚ã¦ã§ã™ãŒã€ä»Šå›ã® LT å‚åŠ ã¯ã¨ã¦ã‚‚è‰¯ã„çµŒé¨“ã«ãªã‚Šã¾ã—ãŸã—ã€ã¨ã¦ã‚‚æ¥½ã—ã‹ã£ãŸã§ã™ã€‚é‹å–¶ã®ã¿ãªã•ã¾ã€å‚åŠ è€…ã®ã¿ãªã•ã¾ã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼\nã‚‚ã—è‡ªåˆ†ã® LT ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆ (è³›å¦å•ã‚ãš) ã‚ã‚Œã°ã€ Twitter ã‚„ã¯ã¦ãƒ–ãªã©ã§ã”æ„è¦‹ã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™ã€‚\nè‡ªåˆ†ãŒå–‹ã£ãŸã‚¤ãƒ™ãƒ³ãƒˆã®ãƒ„ã‚¤ãƒ¼ãƒˆæ˜ã‚‹ã®ã¯ã“ã‚“ãªã«æ¥½ã—ã„ã®ã‹ã€‚ã¾ãŸæ©Ÿä¼šãŒã‚ã‚Œã°ã‚„ã£ã¦ã¿ãŸã„ãªã€‚\n\u0026mdash; ã‚ˆã£ã—ãƒ¼ Lv.854 (@michimani210) April 28, 2020 ",
    "permalink": "https://michimani.net/post/event-jaws-ug-beginner-26/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ï¼†åƒè‘‰æ”¯éƒ¨#26 æ–°äººã•ã‚“æ­“è¿ï¼ãƒãƒ³ã‚ºã‚ªãƒ³\u0026LT(ã‚ªãƒ³ãƒ©ã‚¤ãƒ³) ã«å‚åŠ ã—ã¦ãã¾ã—ãŸ #jawsug_bgnr #jawsugchiba"
  },
  {
    "contents": "AWS Chatbot ã§ã¯ CloudWatch ã‚„ Code ã‚·ãƒªãƒ¼ã‚ºãªã©ã®é€šçŸ¥ã‚’æ•´å½¢ã—ã¦ãã‚Œã‚‹ã¨ã„ã†æ©Ÿèƒ½ãŒæ³¨ç›®ã•ã‚ŒãŒã¡ã§ã™ãŒã€ Slack ã‹ã‚‰ AWS CLI ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚å®Ÿè¡Œã§ãã‚‹ CLI ã‚³ãƒãƒ³ãƒ‰ã«ã¯ã„ãã¤ã‹åˆ¶é™ã‚‚ã‚ã‚‹ã®ã§ã€ãã®ã‚ãŸã‚Šã‚‚ä¸€ç·’ã«ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ å‰æ ãƒãƒ£ãƒ³ãƒãƒ«ã®è¨­å®š èª­ã¿å–ã‚Šå°‚ç”¨ã‚³ãƒãƒ³ãƒ‰ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ Lambda å‘¼ã³å‡ºã—ã‚³ãƒãƒ³ãƒ‰ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ AWS ã‚µãƒãƒ¼ãƒˆã‚³ãƒãƒ³ãƒ‰ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ å®Ÿéš›ã«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹ èª­ã¿å–ã‚Šå°‚ç”¨ã‚³ãƒãƒ³ãƒ‰ Lambda å‘¼ã³å‡ºã—ã‚³ãƒãƒ³ãƒ‰ AWS ã‚µãƒãƒ¼ãƒˆã‚³ãƒãƒ³ãƒ‰ ã¾ã¨ã‚ å‰æ AWS Chatbot ã¨ Slack ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®é€£æºã¯æ¸ˆã‚“ã§ã„ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚é€£æºã®æ‰‹é †ã«ã¤ã„ã¦ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã™ã‚‹ã‹ã€ä¸€ã¤å‰ã®è¨˜äº‹ã§æ›¸ã„ãŸå†…å®¹ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚\nGetting started with AWS Chatbot - AWS Chatbot AWS Chatbot ã‚’ä½¿ã£ã¦ CloudWatch Alarm ã®é€šçŸ¥ã‚’ Slack ã«é£›ã°ã—ã¦ã¿ãŸ - michimani.net ãƒãƒ£ãƒ³ãƒãƒ«ã®è¨­å®š AWS Chatbot ã§ã¯ã€ Slack ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ ã®ä¸­ã«è¤‡æ•°ã® ãƒãƒ£ãƒ³ãƒãƒ« ã‚’è¨­å®šã—ã¾ã™ã€‚è¨­å®šã«ã¤ã„ã¦ã¯ å‰å›ã®è¨˜äº‹ ã¨åŒæ§˜ãªã®ã§è©³ç´°ã¯å‰²æ„›ã—ã¾ã™ã€‚\nä»Šå›ã€ Slack ã§ AWS CLI ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã«ã¯ã€ AWS Chatbot ã®ãƒãƒ£ãƒ³ãƒãƒ«è¨­å®šã§ é©åˆ‡ã«ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã‚’ã™ã‚‹ å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®è¨­å®šé …ç›®ã§ã„ã†ã¨ã€ã“ã®éƒ¨åˆ†ã§ã™ã€‚\nãƒãƒªã‚·ãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ã‹ã‚‰å¿…è¦ãªæ¨©é™ã‚’é¸æŠã—ã¦ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã‚’è¨­å®šã™ã‚‹ã®ã§ã™ãŒã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ é€šçŸ¥ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ ã®ã¿ãŒé¸æŠã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®æ¨©é™ã‚’ä»˜ä¸ã™ã‚‹ã“ã¨ã§ã€ Amazon CloudWatch ã‹ã‚‰ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚°ãƒ©ãƒ•ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nãƒãƒªã‚·ãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ã¯ é€šçŸ¥ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ ã®ä»–ã«ã€ã¤ãã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚\nèª­ã¿å–ã‚Šå°‚ç”¨ã‚³ãƒãƒ³ãƒ‰ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ Lambda å‘¼ã³å‡ºã—ã‚³ãƒãƒ³ãƒ‰ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ AWS ã‚µãƒãƒ¼ãƒˆã‚³ãƒãƒ³ãƒ‰ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ ã“ã‚Œã‚‰ã¯ã™ã¹ã¦ Slack ã‹ã‚‰å®Ÿè¡Œã§ãã‚‹ AWS CLI ã‚³ãƒãƒ³ãƒ‰ã‚’åˆ¶é™ã™ã‚‹ã‚‚ã®ã§ã™ã€‚ãã‚Œãã‚Œã®æ¨©é™ã§å®Ÿè¡Œã§ãã‚‹ã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã‚‚ã¨ã«æ•´ç†ã—ã¦ã¿ã¾ã™ã€‚\nèª­ã¿å–ã‚Šå°‚ç”¨ã‚³ãƒãƒ³ãƒ‰ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ AWS CLI ã‚³ãƒãƒ³ãƒ‰ã®ã†ã¡ã€ èª­ã¿å–ã‚Šå°‚ç”¨ ã®ã‚³ãƒãƒ³ãƒ‰ã®ã¿å®Ÿè¡Œå¯èƒ½ã¨ãªã‚Šã¾ã™ã€‚åŸºæœ¬çš„ã«ã¯ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒå¯¾è±¡ã¨ãªã‚Šã¾ã™ãŒã€ä»¥ä¸‹ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦ã¯èª­ã¿å–ã‚Šå°‚ç”¨ã§ã‚ã£ã¦ã‚‚å®Ÿè¡Œä¸å¯ã ã£ãŸã‚Šã™ã‚‹ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚\nã‚µãƒ¼ãƒ“ã‚¹ åˆ¶é™å†…å®¹ IAM ã™ã¹ã¦å®Ÿè¡Œä¸å¯ AWS KMS ã™ã¹ã¦å®Ÿè¡Œä¸å¯ AWS STS ã™ã¹ã¦å®Ÿè¡Œä¸å¯ Amazon Cognito èª­ã¿å–ã‚Šå°‚ç”¨ã®ã¿å®Ÿè¡Œå¯ GetSigningCertificate ã¯å®Ÿè¡Œä¸å¯ Amazon EC2 èª­ã¿å–ã‚Šå°‚ç”¨ã®ã¿å®Ÿè¡Œå¯ GetPasswordData ã¯å®Ÿè¡Œä¸å¯ Amazon ECR èª­ã¿å–ã‚Šå°‚ç”¨ã®ã¿å®Ÿè¡Œå¯ GetAuthorizationToken ã¯å®Ÿè¡Œä¸å¯ GameLift èª­ã¿å–ã‚Šå°‚ç”¨ã®ã¿å®Ÿè¡Œå¯ è³‡æ ¼æƒ…å ± (credentials) ã«é–¢ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰åŠã³ GetInstanceAccess ã¯å®Ÿè¡Œä¸å¯ Amazon Lightsail List ãŠã‚ˆã³ Read ã¯å®Ÿè¡Œå¯ ã‚­ãƒ¼ãƒšã‚¢ã«å¯¾ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰åŠã³ GetInstanceAccess ã¯å®Ÿè¡Œä¸å¯ Amazon Redshift GetClusterCredentials ã¯å®Ÿè¡Œä¸å¯ Amazon S3 èª­ã¿å–ã‚Šå°‚ç”¨ã®ã¿å®Ÿè¡Œå¯ GetBucketPolicy ã¯å®Ÿè¡Œä¸å¯ AWS Storage Gateway èª­ã¿å–ã‚Šå°‚ç”¨ã®ã¿å®Ÿè¡Œå¯ DescribeChapCredentials ã¯å®Ÿè¡Œä¸å¯ èª­ã¿å–ã‚Šå°‚ç”¨ã®ã‚³ãƒãƒ³ãƒ‰ã®ä¸­ã§ã‚‚ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚„é‡è¦ãªæƒ…å ±ã«é–¢ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯å®Ÿè¡Œä¸å¯ã¨ãªã£ã¦ã„ã¾ã™ã€‚ã¾ãŸã€ IAM ã‚„ KMS ã€ STS ã¨ã„ã£ãŸé‡è¦ãªã‚µãƒ¼ãƒ“ã‚¹ã«é–¢ã—ã¦ã¯ã™ã¹ã¦ã®ã‚³ãƒãƒ³ãƒ‰ãŒå®Ÿè¡Œä¸å¯ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nIAM ãƒãƒªã‚·ãƒ¼ã¨ã—ã¦ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Deny\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;iam:*\u0026#34;, \u0026#34;kms:*\u0026#34;, \u0026#34;sts:*\u0026#34;, \u0026#34;cognito-idp:GetSigningCertificate\u0026#34;, \u0026#34;ec2:GetPasswordData\u0026#34;, \u0026#34;ecr:GetAuthorizationToken\u0026#34;, \u0026#34;gamelift:RequestUploadCredentials\u0026#34;, \u0026#34;gamelift:GetInstanceAccess\u0026#34;, \u0026#34;lightsail:DownloadDefaultKeyPair\u0026#34;, \u0026#34;lightsail:GetInstanceAccessDetail\u0026#34;, \u0026#34;lightsail:GetKeyPair\u0026#34;, \u0026#34;lightsail:GetKeyPairs\u0026#34;, \u0026#34;redshift:GetClusterCredentials\u0026#34;, \u0026#34;s3:GetBucketPolicy\u0026#34;, \u0026#34;storagegateway:DescribeChapCredentials\u0026#34; ], \u0026#34;Resource\u0026#34;: [ \u0026#34;*\u0026#34; ] } ] } ã¡ãªã¿ã« Amazon S3 ã«é–¢ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã«é–¢ã—ã¦ã¯ã€ AWS CLI ã® s3api ã®ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€ s3 list-buckets ã®ã‚ˆã†ã«å‘¼ã³å‡ºã—ã¾ã™ã€‚ s3 ls ã¯ä½¿ç”¨ã§ãã¾ã›ã‚“ã€‚\nLambda å‘¼ã³å‡ºã—ã‚³ãƒãƒ³ãƒ‰ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ ãã®åã®é€šã‚Šã€ Lambda é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œå¯èƒ½ã¨ãªã‚Šã¾ã™ã€‚å…·ä½“çš„ã«ã¯æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚\nlambda invoke lambda invoke-async IAM ãƒãƒªã‚·ãƒ¼ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;lambda:invokeAsync\u0026#34;, \u0026#34;lambda:invokeFunction\u0026#34; ], \u0026#34;Resource\u0026#34;: [ \u0026#34;*\u0026#34; ] } ] } AWS ã‚µãƒãƒ¼ãƒˆã‚³ãƒãƒ³ãƒ‰ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ AWS ã‚µãƒãƒ¼ãƒˆã«é–¢ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œå¯èƒ½ã¨ãªã‚Šã¾ã™ã€‚ã“ã®æ¨©é™ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ç†ç”±ã¨ã—ã¦ã¯ã€ä¾‹ãˆã°ã‚µãƒãƒ¼ãƒˆæ‹…å½“ã®äººãŒãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å¿…è¦ãªãã€ Slack ã‹ã‚‰ AWS ã‚µãƒãƒ¼ãƒˆã«å¯¾ã—ã¦ãƒã‚±ãƒƒãƒˆã‚’ä½œæˆã§ãã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãŒè€ƒãˆã‚‰ã‚Œã‚‹ã‹ã‚‰ã§ã™ã€‚\nIAM ãƒãƒªã‚·ãƒ¼ã¨ã—ã¦ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;support:*\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; } ] } ã“ã‚Œã‚‰ã®æ¨©é™ã¯ãƒãƒ£ãƒ³ãƒãƒ«ã”ã¨ã«è¨­å®šã§ãã‚‹ãŸã‚ã€ãƒãƒ£ãƒ³ãƒãƒ«ã«ã‚¸ãƒ§ã‚¤ãƒ³ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«åˆã‚ã›ã¦æ¨©é™ã‚’å¤‰ãˆã‚‹ã“ã¨ã§ã€å¯èƒ½ãªæ“ä½œã‚’åˆ¶é™ã—ã¤ã¤ä¾¿åˆ©ã« AWS ãƒªã‚½ãƒ¼ã‚¹ã‚’æ“ä½œã§ããã†ã§ã™ã€‚\nRunning AWS CLI commands from Slack channels - AWS Chatbot å®Ÿéš›ã«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹ ã§ã¯å®Ÿéš›ã«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚ä»Šå›ã¯ä¸Šã§èª¬æ˜ã—ãŸãƒãƒªã‚·ãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ã™ã¹ã¦ä»˜ä¸ã—ã¦ã„ã‚‹ãƒãƒ£ãƒ³ãƒãƒ«ã§å®Ÿè¡Œã—ã¾ã™ã€‚\nã¾ãšã¯å…¨ä½“ã®ãƒ˜ãƒ«ãƒ—ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚Slack ãƒãƒ£ãƒ³ãƒãƒ«å†…ã§ã® AWS CLI ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œã¯ã€æ™®æ®µã® aws ã®ä»£ã‚ã‚Šã« @aws ã¨ã—ã¦å®Ÿè¡Œã—ã¾ã™ã€‚\nãªã®ã§ã€ãƒ˜ãƒ«ãƒ—ã‚’ç¢ºèªã™ã‚‹å ´åˆã¯ @aws help ã¨ã—ã¾ã™ã€‚\nã“ã‚“ãªæ„Ÿã˜ã§å¿œç­”ãŒè¿”ã£ã¦ãã¾ã™ã€‚ã“ã‚Œã chat bot ã£ã¦ã„ã†æ„Ÿã˜ã§ã™ã­ã€‚\nèª­ã¿å–ã‚Šå°‚ç”¨ã‚³ãƒãƒ³ãƒ‰ èª­ã¿å–ã‚Šå°‚ç”¨ã®ã‚³ãƒãƒ³ãƒ‰ã®ä¾‹ã¨ã—ã¦ã€ Lambda é–¢æ•°ã®ä¸€è¦§ã‚’å–å¾—ã—ã¦ã¿ã¾ã™ã€‚å®Ÿè¡Œã™ã‚‹ã®ã¯ @aws lambda list-functions ã§ã™ã€‚\nLambda é–¢æ•°ã®ãƒªã‚¹ãƒˆãŒè¿”ã£ã¦ãã¾ã—ãŸã€‚\nã§ã¯ã€æ›¸ãè¾¼ã¿ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã©ã†ãªã‚‹ã§ã—ã‚‡ã†ã‹ã€‚è©¦ã—ã« s3 create-bucket ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\nit isn\u0026rsquo;t enabled ã¨è¨€ã‚ã‚Œã¦å®Ÿè¡Œä¸å¯ã§ã—ãŸã€‚ã¡ãªã¿ã«ã€å®Ÿè¡Œä¸å¯ãªã‚³ãƒãƒ³ãƒ‰ã«é–¢ã—ã¦ã¯ãƒ˜ãƒ«ãƒ—ã‚’è¦‹ã‚‹ã“ã¨ã‚‚ã§ãã¾ã›ã‚“ã€‚\nã¡ãªã¿ã«ã€ãƒãƒ£ãƒ³ãƒãƒ«ã® IAM ãƒ­ãƒ¼ãƒ«ã«ã¯ãƒãƒªã‚·ãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ã›ãšã«ã€æ—¢å­˜ã® IAM ãƒ­ãƒ¼ãƒ«ã‚’ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚ãã®éš›ã€ãŸã¨ãˆã° S3 ã¸ã® FullAccess ã‚’ã‚‚ã¤ IAM ãƒ­ãƒ¼ãƒ«ã‚’ã‚¢ã‚¿ãƒƒãƒã—ãŸã¨ã—ã¦ã‚‚ã€ Slack ã‹ã‚‰ã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã§ãƒã‚±ãƒƒãƒˆä½œæˆãªã©ã®æ›¸ãè¾¼ã¿æ“ä½œãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nLambda å‘¼ã³å‡ºã—ã‚³ãƒãƒ³ãƒ‰ Lambda å‘¼ã³å‡ºã—ã‚³ãƒãƒ³ãƒ‰ lambda invoke ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚å®Ÿè¡Œã™ã‚‹ Lambda é–¢æ•°ã¨ã—ã¦ã¯ã€ context ã®ä¸€éƒ¨ã‚’ Slack ã«ãƒã‚¹ãƒˆã™ã‚‹ã ã‘ã®é–¢æ•°ã‚’ç”¨æ„ã—ã¾ã—ãŸã€‚é–¢æ•°åã¯ chatbot-function ã¨ã—ã¾ã™ã€‚\nimport json import urllib.parse from urllib.request import Request, urlopen from urllib.error import URLError, HTTPError SLACK_WEBHOOK_URL = \u0026#39;https://hooks.slack.com/************\u0026#39; def lambda_handler(event, context): print_context_attrs = [ \u0026#39;aws_request_id\u0026#39;, \u0026#39;function_name\u0026#39;, \u0026#39;function_version\u0026#39;, \u0026#39;memory_limit_in_mb\u0026#39;, \u0026#39;client_context\u0026#39;, ] context_data = {} for attr in print_context_attrs: if attr == \u0026#39;client_context\u0026#39;: client_context = context.client_context attr_value = {} if client_context is not None: for client_context_attr in dir(client_context): attr_value[client_context_attr] = getattr(client_context, client_context_attr) else: attr_value = getattr(context, attr) context_data[attr] = attr_value context_str = json.dumps(context_data, indent=2, ensure_ascii=False) message = f\u0026#39;```\\n{context_str}\\n```\u0026#39; post_to_slack(message) def post_to_slack(message): req = Request(SLACK_WEBHOOK_URL, json.dumps( {\u0026#39;text\u0026#39;: message}).encode(\u0026#39;utf-8\u0026#39;)) try: response = urlopen(req) response.read() except HTTPError as e: print(f\u0026#39;Request failed: {e.code} {e.reason}\u0026#39;) except URLError as e: print(f\u0026#39;Server connection failed: {e.reason}\u0026#39;) æœ¬å½“ã«å®Ÿè¡Œã™ã‚‹ã‹ã‚³ãƒãƒ³ãƒ‰ã®ç¢ºèªãŒã‚ã‚Šã€ Yes ã‚’æŠ¼ã™ã¨å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\nãƒãƒ£ãƒ³ãƒãƒ«ãŒä¸€ç·’ãªã®ã§ Lambda ã‹ã‚‰ã®ãƒã‚¹ãƒˆãŒé–“ã«å…¥ã£ã¦ã¾ã™ãŒã€å®Ÿè¡Œçµæœã‚‚ AWS Chatbot ã‹ã‚‰è¿”ã£ã¦ãã¦ã„ã¾ã™ã€‚\nã“ã“ã§ã€ Incoming WebHook ã®ãƒã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒ AWS CLI ã®ã‚³ãƒãƒ³ãƒ‰ã«ãªã£ã¦ã„ãŸã‚‰ã©ã†ãªã‚‹ã®ã‹ï¼Ÿã¨ãµã¨æ€ã„ã€ã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚åŒã˜é–¢æ•°ã ã¨ãƒ«ãƒ¼ãƒ—ã—ãŸã¨ãæ€–ã„ã®ã§ã€æ¬¡ã®ã‚ˆã†ãªåˆ¥ã® Lambda é–¢æ•°ã‚’ä½œæˆã—ã¾ã—ãŸã€‚é–¢æ•°åã¯ chatbot-pre-function ã¨ã—ã¾ã™ã€‚\nimport json import urllib.parse from urllib.request import Request, urlopen from urllib.error import URLError, HTTPError SLACK_WEBHOOK_URL = \u0026#39;https://hooks.slack.com/services/********\u0026#39; def lambda_handler(event, context): message = \u0026#39;@aws lambda invoke --function-name chatbot-function --region ap-northeast-1\u0026#39; post_to_slack(message) def post_to_slack(message): req = Request(SLACK_WEBHOOK_URL, json.dumps( {\u0026#39;text\u0026#39;: message}).encode(\u0026#39;utf-8\u0026#39;)) try: response = urlopen(req) response.read() except HTTPError as e: print(f\u0026#39;Request failed: {e.code} {e.reason}\u0026#39;) except URLError as e: print(f\u0026#39;Server connection failed: {e.reason}\u0026#39;) ã“ã®é–¢æ•°ã‚’ Slack ã‹ã‚‰å‘¼ã³å‡ºã—ã¦ã¿ã¾ã™ã€‚\nchatbot-function ã¯å‘¼ã³å‡ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚\nAWS ã‚µãƒãƒ¼ãƒˆã‚³ãƒãƒ³ãƒ‰ å®Ÿéš›ã«ã‚µãƒãƒ¼ãƒˆãƒã‚±ãƒƒãƒˆã‚’ä½œæˆã™ã‚‹ã‚ã‘ã«ã¯ã„ã‹ãªã„ã®ã§ã€ãƒ˜ãƒ«ãƒ—ã‚’ç¢ºèªã—ã¦å®Ÿè¡Œå¯èƒ½ãªã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚\nã¾ã¨ã‚ AWS Chatbot ã‚’ä½¿ã£ã¦ Slack ã‹ã‚‰ AWS CLI ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã‚µãƒãƒ¼ãƒˆã«é–¢ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã ã‘ã‚’å®Ÿè¡Œã§ãã‚‹æ¨©é™ã¨ã„ã†ã®ã¯ã€ã‚µãƒãƒ¼ãƒˆæ‹…å½“ã®éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®æ–¹ãŒ Slack ã‹ã‚‰ã‚µãƒãƒ¼ãƒˆãƒã‚±ãƒƒãƒˆã‚’ä½œæˆã§ãã‚‹ã®ã§ã€ãƒãƒ¼ãƒ‰ãƒ«ãŒå°‘ã—ä½ããªã‚‹ã‹ãªã¨æ€ã„ã¾ã—ãŸã€‚\nã¾ãŸã€ Lambda é–¢æ•°ã‚’å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ã“ã¨ã¯å‡ºæ¥ã‚‹ã“ã¨ã®å¹…ãŒã‹ãªã‚ŠåºƒãŒã‚‹ã®ã§ã€ã‚¢ã‚¤ãƒ‡ã‚¢æ¬¡ç¬¬ã§ã¯é¢ç™½ã„ãƒ»ä¾¿åˆ©ãªä½¿ã„æ–¹ãŒã§ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãŸã¨ãˆã°ã€ç‰¹å®šã® CodePipeline ã‚’å®Ÿè¡Œã™ã‚‹ Lambda ã‚’ä½œæˆã—ã¦ãŠã‘ã°ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ­ã‚°ã‚¤ãƒ³ã§ããªãã¦ã‚‚ã€ PC ã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’æ“ä½œã™ã‚‹ã“ã¨ãŒã§ããªãã¦ã‚‚ã€ã‚¹ãƒãƒ›ã« Slack ã‚¢ãƒ—ãƒªã•ãˆå…¥ã£ã¦ã„ã‚Œã°å¯è»¢ã³ãªãŒã‚‰ã§ã‚‚ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nä»–ã«ã‚‚ä½¿ã„æ–¹ã¯è‰²ã€…ã‚ã‚Šãã†ãªã®ã§ã€ã“ã‚Œã‹ã‚‰ãŸãã•ã‚“ã®æƒ…å ±ãŒå‡ºã¦ãã‚‹ã“ã¨ã«ãƒ¯ã‚¯ãƒ¯ã‚¯ã—ã¦ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-run-cli-commands-via-aws-chatbot/",
    "title": "AWS Chatbot ã‚’ä½¿ã£ã¦ Slack ã‹ã‚‰ AWS CLI ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹"
  },
  {
    "contents": "æ˜¨å¹´ 7 æœˆã« beta ã¨ã—ã¦ç™»å ´ã—ãŸ AWS Chatbot ãŒã¤ã„ã«ä¸€èˆ¬åˆ©ç”¨å¯èƒ½ (GA) ã¨ãªã‚Šã¾ã—ãŸï¼ä»Šå›ã¯ã€ AWS Chatbot ã‚’ä½¿ã£ã¦ CloudWatch Alarm ã®é€šçŸ¥ã‚’ Slack ã«é£›ã°ã—ã¦ã¿ã¾ã—ãŸã€‚CloudWatch Alarm ã®é€šçŸ¥ã§ã¯ã€ AWS Chatbot ãŒã‚ˆã—ãªã«å†…å®¹ã‚’æ•´å½¢ã—ã¦ãã‚Œã‚‹ã®ã§ã€ã“ã‚Œã¾ã§ç‹¬è‡ªã« Lambda ã§æ•´å½¢ã—ã¦ã„ãŸæ–¹ã«ã¯ãã‚Œã‚‰ã®å‡¦ç†ãŒä¸è¦ã«ãªã‚Šã¾ã™ã€‚\nAWS Chatbot Now Generally Available ç›®æ¬¡ AWS Chatbot ã¨ã¯ AWS Chatbot ã®è¨­å®š ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ä½œæˆ ãƒãƒ£ãƒ³ãƒãƒ«ã®è¨­å®š Slack ã¸ã®æ‹›å¾… CloudWatch Alarm ã‚’ Slack ã«é€šçŸ¥ã™ã‚‹ ã¾ã¨ã‚ AWS Chatbot ã¨ã¯ è©³ç´°ã¯ã‚µãƒ¼ãƒ“ã‚¹ãƒšãƒ¼ã‚¸ã‚„ AWS ãƒ–ãƒ­ã‚°ã‚’è¦‹ã¦ã„ãŸã ã‘ã‚Œã°ã‚ã‹ã‚‹ã®ã§ã™ãŒã€ç°¡å˜ã«è¨€ã†ã¨ã€ CloudWatch (ãªã©) ã‹ã‚‰ã®é€šçŸ¥ã‚’ã„ã„æ„Ÿã˜ã«æ•´å½¢ã—ã¦ Slack ã¾ãŸã¯ Amazon Chime Webhook ã«é£›ã°ã—ã¦ãã‚Œã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚\nã¾ãŸã€ Slack ã‹ã‚‰ç‰¹å®šã® AWS CLI ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\nAWS Chatbot - Amazon Web Services Introducing AWS Chatbot: ChatOps for AWS | AWS DevOps Blog AWS Chatbot â€“ ChatOps for Slack and Chime | AWS News Blog AWS Chatbot è‡ªä½“ã®åˆ©ç”¨ã«ã¯æ–™é‡‘ã¯ç™ºç”Ÿã›ãšã€ä»˜éšã—ã¦åˆ©ç”¨ã™ã‚‹ Amazon SNS ãªã©ã®æ–™é‡‘ã®ã¿ã‚’æ”¯æ‰•ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nAWS Chatbot ã®è¨­å®š ã§ã¯ã€å®Ÿéš›ã« AWS Chatbot ã¨ Slack ã‚’é€£æºã—ã¦ã¿ã¾ã™ã€‚\nãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ä½œæˆ ã¾ãšã¯ ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ä½œæˆã§ã™ã€‚\nãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ AWS Chatbot ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã¾ã™ã€‚\nbeta ãŒæ¶ˆãˆã¦ã¾ã™ã­ã€‚\nãƒãƒ£ãƒƒãƒˆã‚¯ãƒ©ã‚¤ãƒ³ãƒˆã‚’è¨­å®š ã‹ã‚‰ Slack ã‚’é¸æŠã—ã¦é€²ã¿ã¾ã™ã€‚\nSlack ã®èªè¨¼ç”»é¢ã«é·ç§»ã™ã‚‹ã®ã§ã€å†…å®¹ã‚’ç¢ºèªã—ã¦ Allow ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚\nSlack ã¨ã®é€£æºãŒå®Œäº†ã—ã€ ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ ãŒä½œæˆã•ã‚Œã¾ã™ã€‚\nãƒãƒ£ãƒ³ãƒãƒ«ã®è¨­å®š ç¶šã„ã¦ã€ä½œæˆã—ãŸãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å†…ã§ãƒãƒ£ãƒ³ãƒãƒ«ã®è¨­å®šã‚’ã—ã¾ã™ã€‚ãŒã€ãã®éš›ã« SNS ãƒˆãƒ”ãƒƒã‚¯ã‚’æŒ‡å®šã™ã‚‹ç®‡æ‰€ãŒã‚ã‚‹ã®ã§ã€å…ˆã«ä½œæˆã—ã¦ãŠãã¾ã™ã€‚ã‚‚ã¡ã‚ã‚“æ—¢å­˜ã® SNS ãƒˆãƒ”ãƒƒã‚¯ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚\nä»Šå›ã¯ã€ CloudFront ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã«å¯¾ã™ã‚‹ã‚¢ãƒ©ãƒ¼ãƒ ã‚’é€šçŸ¥ã—ãŸã„ã®ã§ã€æ¬¡ã®ã‚ˆã†ãªãƒˆãƒ”ãƒƒã‚¯ã‚’ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ä½œæˆã—ã¾ã—ãŸã€‚\nSNS ãƒˆãƒ”ãƒƒã‚¯ã‚’ä½œæˆã—ãŸã‚‰ã€ AWS Chatbot ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã«æˆ»ã£ã¦ æ–°ã—ã„ãƒãƒ£ãƒ³ãƒãƒ«ã‚’è¨­å®š ã‚’æŠ¼ã—ã¾ã™ã€‚\nå…¥åŠ›ã™ã‚‹é …ç›®ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚\nè¨­å®šã®è©³ç´° è¨­å®šå ãƒãƒ£ãƒ³ãƒãƒ«è¨­å®šã®åå‰ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\nãƒ­ã‚°è¨˜éŒ² CloudWatch Logs ã«ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ãŸã„å ´åˆã¯ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚\nSlack ãƒãƒ£ãƒ³ãƒãƒ« é€£æºã—ãŸ Slack ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å†…ã®ãƒãƒ£ãƒ³ãƒãƒ«ã‚’æŒ‡å®šã—ã¾ã™ã€‚ãƒ‘ãƒ–ãƒªãƒƒã‚¯ ã¾ãŸã¯ ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚’é¸æŠã—ã€ãƒãƒ£ãƒ³ãƒãƒ«ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ AWS Chatbot ã§ã¯ CloudWatch ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’å–å¾—ã—ãŸã‚Šã€ç‰¹å®šã® AWS CLI ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ãã®ãŸã‚ã« IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nä»Šå›ã¯ CloudWatch Alarm ã®é€šçŸ¥ã‚’ã—ãŸã„ã®ã§ã€ ãƒãƒªã‚·ãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ã§ é€šçŸ¥ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ ã‚’æŒ‡å®šã—ã¾ã—ãŸã€‚\né€šçŸ¥ AWS Chatbot ã¯ SNS ãƒˆãƒ”ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦CloudWatch Alarm ã‚’é€šçŸ¥ã™ã‚‹ã®ã§ã€ä»»æ„ã® SNS ãƒˆãƒ”ãƒƒã‚¯ã‚’æŒ‡å®šã—ã¾ã™ã€‚æŒ‡å®šæ–¹æ³•ã¯ã€ã¾ãšãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ã‹ã‚‰ã€ãã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³å†…ã®ãƒˆãƒ”ãƒƒã‚¯ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nä»Šå›ã¯å…ˆã»ã©ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ä½œæˆã—ãŸ CloudWatchAlarm ãƒˆãƒ”ãƒƒã‚¯ã‚’æŒ‡å®šã—ã¾ã—ãŸã€‚\nã“ã®è¨­å®šã‚’ã™ã‚‹ã“ã¨ã§ã€æŒ‡å®šã—ã¦ SNS ãƒˆãƒ”ãƒƒã‚¯ã®ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–ã« AWS Chatbot ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚\nSlack ã¸ã®æ‹›å¾… ãƒãƒ£ãƒ³ãƒãƒ«è¨­å®šã§æŒ‡å®šã—ãŸ Slack ã®ãƒãƒ£ãƒ³ãƒãƒ«ã§ã€ /invite @aws ã‚’å®Ÿè¡Œã—ã€ AWS Chatbot ã‚’æ‹›å¾…ã—ã¾ã™ã€‚\nã“ã‚Œã§æº–å‚™ã¯å®Œäº†ã§ã™ã€‚\nCloudWatch Alarm ã‚’ Slack ã«é€šçŸ¥ã™ã‚‹ ã§ã¯ã€ AWS Chatbot çµŒç”±ã§ CloudWAtch Alarm ã‚’ Slack ã«é€šçŸ¥ã—ã¦ã¿ã¾ã™ã€‚\nä»Šå›ã¯ CloudFront ã® Alarm ç”»é¢ã‹ã‚‰ã€æ¬¡ã®ã‚ˆã†ãªã‚¢ãƒ©ãƒ¼ãƒ ã‚’è¨­å®šã—ã¾ã—ãŸã€‚\nãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã«å¯¾ã—ã¦ã€ 5 åˆ†é–“ã® 4xx ã‚¨ãƒ©ãƒ¼ç‡ãŒ 10 % ã‚’è¶…ãˆãŸã¨ãã«é€šçŸ¥ã™ã‚‹ã‚ˆã†ãªè¨­å®šã§ã™ã€‚\nè¨­å®šå¾Œã€æ„å›³çš„ã« 404 ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã€æš«ãå¾…ã¤ã¨ã€æ¬¡ã®ã‚ˆã†ãªé€šçŸ¥ãŒ Slack ã«å±Šãã¾ã—ãŸã€‚\nã‚¢ãƒ©ãƒ¼ãƒ ã®å†…å®¹ã¯è‰¯ã„æ„Ÿã˜ã«æ•´å½¢ã•ã‚Œã€ã‚¢ãƒ©ãƒ¼ãƒ ç™ºç”Ÿæ™‚ç‚¹ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ã‚°ãƒ©ãƒ•ã‚‚ç”»åƒã¨ã—ã¦æ·»ä»˜ã•ã‚Œã¦é€šçŸ¥ã•ã‚Œã¾ã™ã€‚ã‚ã¡ã‚ƒãã¡ã‚ƒä¾¿åˆ©ã§ã™ã€‚\nã¾ã¨ã‚ æ˜¨å¹´ 7 æœˆã« beta ã¨ã—ã¦ç™»å ´ã—ãŸ AWS Chatbot ãŒã¤ã„ã«ä¸€èˆ¬åˆ©ç”¨å¯èƒ½ã¨ãªã‚Šã¾ã—ãŸï¼ã¨ã„ã†ã“ã¨ã§ã€ CloudWatch Alarm ã®é€šçŸ¥ã‚’ Slack ã«é£›ã°ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã“ã‚Œã¾ã§ã€é€šçŸ¥ã®å†…å®¹ã‚’ Lambda ã§æ•´å½¢ã—ã¦ Slack ã¸é€šçŸ¥ã—ã¦ã„ãŸæ–¹ã‚‚å¤šã„ã¨æ€ã„ã¾ã™ã€‚ãã‚ŒãŒãªã‚“ã¨ã€AWS Chatbot ã‚’ä½¿ã†ã¨ç°¡å˜ãªè¨­å®šã®ã¿ã§è‰¯ã„æ„Ÿã˜ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã—ã¦ãã‚Œã¾ã™ã€‚ã—ã‹ã‚‚ç„¡æ–™ã€‚\nã“ã‚Œã¯ãªã‚“ã¨ã„ã†ã‹ã€è‰¯ã„ã§ã™ã­ã€‚(èªå½™åŠ›)\nã¾ãŸã€æœ€è¿‘ã§ã¯ Code ã‚·ãƒªãƒ¼ã‚ºã‹ã‚‰ã®é€šçŸ¥ã‚‚ AWS Chatbot ã«å¯¾å¿œã—ã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚‰ã®é€šçŸ¥ã‚‚è‰¯ã„æ„Ÿã˜ã«æ•´å½¢ã•ã‚Œã‚‹ã¨æ€ã†ã¨å‡„ãåŠ©ã‹ã‚‹æ°—ãŒã—ã¦ã„ã¾ã™ã€‚\nã¨ã‚Šã‚ãˆãšä»Šå›ã¯ CloudWatch Alarm ã®é€šçŸ¥ã‚’ã‚„ã£ã¦ã¿ãŸã®ã§ã€ãã®ä»–ã®é€šçŸ¥ã«ã¤ã„ã¦ã‚‚éšæ™‚è©¦ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws/aws-post-slack-by-chatbot/",
    "title": "AWS Chatbot ã‚’ä½¿ã£ã¦ CloudWatch Alarm ã®é€šçŸ¥ã‚’ Slack ã«é£›ã°ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "Hugo ã§ãƒ“ãƒ«ãƒ‰ã—ãŸãƒ–ãƒ­ã‚°ã‚„ã‚µã‚¤ãƒˆã‚’ AWS ç’°å¢ƒ (CloudFront + S3) ã§é‹ç”¨ã—ã¦ã„ã‚‹æ–¹ã‚‚å¤šã„ã¨æ€ã„ã¾ã™ã€‚ä»Šå›ã¯ã€Hugo ã®ã¿ãªã‚‰ãšé™çš„ã‚µã‚¤ãƒˆã‚’ AWS ç’°å¢ƒã§é‹ç”¨ã™ã‚‹éš›ã«åˆ©ç”¨ã—ãŸã„ Lambda@Edge ã«ã¤ã„ã¦ã®è©±ã§ã™ã€‚\nç›®æ¬¡ å‰æ AWS ç’°å¢ƒã§é™çš„ã‚µã‚¤ãƒˆã‚’é‹ç”¨ã™ã‚‹éš›ã®æ³¨æ„ç‚¹ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æŒ™å‹• é™çš„ã‚µã‚¤ãƒˆã® URL ã®æ­£è¦åŒ– Lambda@Edge ã¨ã¯ Lambda@Edge ã§ URL ã®æ­£è¦åŒ–ã‚’ã™ã‚‹ (ã“ã“ã§ã®) æ­£è¦åŒ–ã®å®šç¾© Hugo ã§ã‚¢ã‚¯ã‚»ã‚¹ãŒæƒ³å®šã•ã‚Œã‚‹ URL Lambda ã®å‡¦ç† ã¾ã¨ã‚ å‰æ ã¾ãšã€ä»Šå›ã®è©±ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªæ§‹æˆã§é™çš„ã‚µã‚¤ãƒˆã‚’ AWS ç’°å¢ƒã§é‹ç”¨ã—ã¦ã„ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¾ã™ã€‚\nS3 ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é…ç½®ã—ã€å‰æ®µã« CloudFront ã‚’ç”¨æ„ã—ã¾ã™ã€‚ CloudFront ã‹ã‚‰ S3 ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã«ã¯ Origin Access Identity ã‚’ä½¿ç”¨ã—ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ S3 ãƒã‚±ãƒƒãƒˆå†…ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¸ã¯ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nAWS ç’°å¢ƒã§é™çš„ã‚µã‚¤ãƒˆã‚’é‹ç”¨ã™ã‚‹éš›ã®æ³¨æ„ç‚¹ AWS ç’°å¢ƒã§é™çš„ã‚µã‚¤ãƒˆã‚’é‹ç”¨ã™ã‚‹æ–¹æ³•ã¨ã—ã¦ã¯ã€ä¸Šè¨˜ã®ã‚ˆã†ã« S3 ã®å‰æ®µã« CloudFront ã‚’ç½®ãæ–¹æ³•ã¨ã€ S3 ã® Static website hosting æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹æ–¹æ³•ãŒã‚ã‚Šã€ã“ã® 2 ã¤ã®æ–¹æ³•ã§ã¯ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æŒ™å‹•ãŒç•°ãªã‚Šã¾ã™ ã€‚\nã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æŒ™å‹• ä¾‹ãˆã°ã€æ¬¡ã®ã‚ˆã†ãªæ§‹é€ ã‚’æŒã¤ã‚µã‚¤ãƒˆãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚(ä»®ã«ãƒ›ã‚¹ãƒˆåã‚’ http://example.com ã¨ã—ã¦ãŠãã¾ã™)\nâ”œâ”€â”€ error.html â”œâ”€â”€ index.html â””â”€â”€ posts â”œâ”€â”€ sample_1 â”‚Â â””â”€â”€ index.html â””â”€â”€ sample_2 â””â”€â”€ index.html ã“ã®ã‚µã‚¤ãƒˆã‚’ CloudFront + S3 ã¨ S3 ã® Static website hosting ãã‚Œãã‚Œã§é‹ç”¨ã—ãŸå ´åˆã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æŒ™å‹•ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nCloudFront + S3 http://example.com ã¾ãŸã¯ http://example.com/ ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹\nindex.html ã®å†…å®¹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ http://example.com/index.html ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹\nindex.html ã®å†…å®¹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ http://example.com/posts/sample_1 ã¾ãŸã¯ http://example.com/posts/sample_1/ ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹\n403 Access Denied http://example.com/posts/sample_1/index.html ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹\nposts/sample_1/index.html ã®å†…å®¹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ S3 ã® Static website hosting http://example.com ã¾ãŸã¯ http://example.com/ ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹\nindex.html ã®å†…å®¹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ http://example.com/index.html ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹\nindex.html ã®å†…å®¹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ http://example.com/posts/sample_1 ã¾ãŸã¯ http://example.com/posts/sample_1/ ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹\nposts/sample_1/index.html ã®å†…å®¹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ http://example.com/posts/sample_1/index.html ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹\nposts/sample_1/index.html ã®å†…å®¹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ ã¤ã¾ã‚Šã€ CloudFront + S3 ã§é™çš„ã‚µã‚¤ãƒˆã‚’é‹ç”¨ã™ã‚‹å ´åˆã€å¯¾è±¡ã®ãƒã‚±ãƒƒãƒˆã®ç›´ä¸‹ã«ã‚ã‚‹ index.html ã®ã¿çœç•¥ãŒå¯èƒ½ã§ã€ãã‚Œä»¥é™ã®éšå±¤ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã«ã¯æ˜ç¤ºçš„ã« index.html \u0008ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚\né™çš„ã‚µã‚¤ãƒˆã® URL ã®æ­£è¦åŒ– ã“ã‚ŒãŒä»Šå›ã®ä¸€ç•ªã®ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚\nä¸Šã§èª¬æ˜ã—ãŸã¨ãŠã‚Šã€å€‹åˆ¥ã®ãƒšãƒ¼ã‚¸ã«ã¯ /index.html ã‚’ä»˜ä¸ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã—ã‹ã—ã€ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«ã¯ä»˜ä¸ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã—ã€ä»˜ä¸ã—ã¦ã‚‚ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã§ã™ã€‚ã¤ã¾ã‚Šã€ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«å¯¾ã—ã¦ã¯ http://example.com ã¨ http://example.com/index.html ã¨ã„ã† 2 ã¤ã® URL ã‚’æŒã¤ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nã“ã‚Œã‚‰ã®è¦‹ãŸç›®ã¯åŒä¸€ãƒšãƒ¼ã‚¸ã§ã™ãŒã€ Google Analytics ãªã©ã®ã‚¢ã‚¯ã‚»ã‚¹è§£æãªã©ã‚’åˆ©ç”¨ã™ã‚‹éš›ã«ã¯åˆ¥ãƒšãƒ¼ã‚¸ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™ã€‚ãªã®ã§ã€ index.html ã‚ã‚Šã‹ãªã—ã‹ã¯çµ±ä¸€ã•ã‚Œã¦ã„ãŸã»ã†ãŒã‚ˆã„ã§ã™ã€‚\nã˜ã‚ƒã‚ã©ã£ã¡ã«çµ±ä¸€ã™ã‚‹ã‹ã¨ã„ã†è©±ã§ã™ãŒã€ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«é–¢ã—ã¦ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã¿ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ããŸã»ã†ãŒã‚¹ãƒƒã‚­ãƒªã™ã‚‹ã®ã§ index.html ãŒç„¡ã„ã»ã†ãŒã„ã„ã§ã™ã‚ˆã­ã€‚åˆã‚ã›ã¦å€‹åˆ¥ãƒšãƒ¼ã‚¸ã‚‚ / ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã¨ã“ã‚ã§ã™ãŒã€ä¸Šã§èª¬æ˜ã—ãŸã‚ˆã†ã«æ·±ã„éšå±¤ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹éš›ã«ã¯ index.html ã‚’ä»˜ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã“ã‚Œã‚’è§£æ±ºã™ã‚‹ã®ãŒã€ CloudFront ã® Lambda@Edge ã¨ã„ã†æ©Ÿèƒ½ã§ã™ã€‚\nLambda@Edge ã¨ã¯ Lambda@Edge ã¯ã€Amazon CloudFrontã®æ©Ÿèƒ½ã§ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¿‘ã„ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã§ãã‚‹ãŸã‚ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå‘ä¸Šã—ã€å¾…ã¡æ™‚é–“ãŒçŸ­ç¸®ã•ã‚Œã¾ã™ã€‚\n(ä¸­ç•¥)\nLambda@Edge ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ã‚µãƒ¼ãƒãƒ¼ç®¡ç†ã‚’ä½•ã‚‚è¡Œã‚ãªãã¦ã‚‚ã€ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«åˆ†æ•£ã•ã›ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚Lambda@Edge ã¯ã€Amazon CloudFront ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é…ä¿¡ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ (CDN) ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚ŒãŸã‚¤ãƒ™ãƒ³ãƒˆã«å¯¾å¿œã—ã¦ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nLambda@Edge | AWS ã¤ã¾ã‚Šã©ã†ã„ã†ã“ã¨ã‹ã¨ã„ã†ã¨ã€ CloudFront ã«ç™ºç”Ÿã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆ ã‚’ãƒˆãƒªã‚¬ãƒ¼ã« Lambda é–¢æ•°ã‚’å®Ÿè¡Œã§ãã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚ CloudFront ã«ç™ºç”Ÿã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆ ã¨ã¯ã€æ¬¡ã® 4 ã¤ã§ã™ã€‚\nViewer Request : ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ CloudFront ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ Viewer Response : CloudFront ã‹ã‚‰ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¸ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ Origin Request : CloudFront ã‹ã‚‰ Origin ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ Origin Response : Origin ã‹ã‚‰ CloudFront ã¸ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ ãŸã¨ãˆã°ã€ Basic èªè¨¼ã‚’è¨­å®šã—ãŸã„å ´åˆã€ Viewer Request ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦èªè¨¼æƒ…å ±ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ Lambda é–¢æ•°ã‚’å®Ÿè¡Œã—ã€æ­£ã—ã‘ã‚Œã° Origin ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç¶™ç¶šã—ã€æ­£ã—ããªã‘ã‚Œã°ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¸èªè¨¼å¤±æ•—ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™ ã¨ã„ã£ãŸã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚\nLambda@Edge ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ Origin ã«åˆ°é”ã™ã‚‹ã¾ã§ã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ãªã®ã§ã€ä¸Šã®ä¾‹ã¨åŒã˜ã Viewer Request ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚ˆã—ãªã«å‡¦ç†ã™ã‚‹ Lambda ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€ URL ã®æ­£è¦åŒ–ã‚’ã‚„ã‚ã†ã¨ã„ã†ã®ãŒä»Šå›ã®è©±ã§ã™ã€‚(ã“ã“ã¾ã§é•·ããªã‚Šã¾ã—ãŸ)\nLambda@Edge ã§ URL ã®æ­£è¦åŒ–ã‚’ã™ã‚‹ Viewer Request ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã™ã‚‹ã“ã¨ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæƒ…å ±ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆã® URL ã¨ã‹ãƒ˜ãƒƒãƒ€ãƒ¼ã¨ã‹ã§ã™ã€‚\nå®Ÿè¡Œã•ã‚Œã‚‹ Lambda ã§ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã® URL ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€ index.html ã‚ã‚Šãªã®ã‹ãªã—ãªã®ã‹ã€ / ã§çµ‚ã‚ã£ã¦ã„ã‚‹ã‹ã©ã†ã‹ã€ãªã©ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€å¿…è¦ã§ã‚ã‚Œã°ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã›ã‚‹ãªã©ã®å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ãã®å‡¦ç†ã‚’ã†ã¾ã„ã“ã¨ã‚„ã£ã¦ã€ URL ã®æ­£è¦åŒ–ã‚’å®Ÿç¾ã—ã¾ã™ã€‚\n(ã“ã“ã§ã®) æ­£è¦åŒ–ã®å®šç¾© ä¸€è¨€ã§ æ­£è¦åŒ– ã¨è¨€ã£ã¦ã‚‚ã€ã©ã†ã„ã£ãŸå½¢ã«è½ã¨ã—è¾¼ã‚€ã‹ã¯è‰²ã€…ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚ãªã®ã§ã€ä»Šå›ã¯æ¬¡ã®ã‚ˆã†ãªæ¡ä»¶ã‚’æº€ãŸã™ã‚ˆã†ã«æ­£è¦åŒ–ã‚’è€ƒãˆã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚\nå„ãƒšãƒ¼ã‚¸ã«ã¯ / çµ‚ã‚ã‚Šã§ã®ã‚¢ã‚¯ã‚»ã‚¹ã«çµ±ä¸€ / ç„¡ã—ã€ãŠã‚ˆã³ /index.html çµ‚ã‚ã‚Šã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ / ã« 302 ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ ã“ã‚Œã«ã‚ˆã£ã¦ã€æ¬¡ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã™ã¹ã¦ https://michimani.net/post/development-lambda-edge-for-hugo-hosted-aws/ ã«çµ±ä¸€ã•ã‚Œã€ã‚¢ã‚¯ã‚»ã‚¹è§£æã§ã‚‚ã“ã® URL ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¨ã—ã¦è¨ˆç®—ã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nhttps://michimani.net/post/development-lambda-edge-for-hugo-hosted-aws/ https://michimani.net/post/development-lambda-edge-for-hugo-hosted-aws https://michimani.net/post/development-lambda-edge-for-hugo-hosted-aws/index.html Hugo ã§ã‚¢ã‚¯ã‚»ã‚¹ãŒæƒ³å®šã•ã‚Œã‚‹ URL Hugo ã§ãƒ“ãƒ«ãƒ‰ã—ãŸãƒ–ãƒ­ã‚°ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¨ã—ã¦æƒ³å®šã•ã‚Œã‚‹ URL ã‚’ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚\n/page/* : è¨˜äº‹ä¸€è¦§ãƒšãƒ¼ã‚¸ã®ãƒšãƒ¼ã‚¸ãƒ³ã‚° /posts/* ã¾ãŸã¯ /post/* : å„è¨˜äº‹ /about/ : about ãƒšãƒ¼ã‚¸ /categories/* : ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒšãƒ¼ã‚¸ /tags/* : ã‚¿ã‚°åˆ¥ãƒšãƒ¼ã‚¸ /archives/* : ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒšãƒ¼ã‚¸ ã“ã‚Œã‚‰ã®ãƒšãƒ¼ã‚¸å¯¾ã—ã¦æ­£è¦åŒ–ã®å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nLambda ã®å‡¦ç† ãŠå¾…ãŸã›ã—ã¾ã—ãŸã€‚ã‚„ã£ã¨ Lambda æœ¬ä½“ã«ãŸã©ã‚Šç€ãã¾ã—ãŸã€‚\nã‚„ã£ã¦ã„ã‚‹ã“ã¨ã¯æ¬¡ã® 2 ã¤ã§ã™ã€‚\n/ ç„¡ã—ã€ãŠã‚ˆã³ index.html çµ‚ã‚ã‚Šã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ / çµ‚ã‚ã‚Šã® URL ã« 302 ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ / çµ‚ã‚ã‚Šã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ /index.html ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã—ã¦æ”¹ã–ã‚“ã—ã¦ Origin ã¸ ã¾ãšä¸€ã¤ç›®ã§ã™ãŒã€æ­£è¦è¡¨ç¾ã§æ¡ä»¶ã«ãƒãƒƒãƒã™ã‚‹å ´åˆã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã›ã‚‹ã‚ˆã†ãªå€¤ã‚’è¿”å´ã—ã¦ã„ã¾ã™ã€‚\nconst redirectUrl = host + requestUri.replace(\u0026#39;/index.html\u0026#39;, \u0026#39;\u0026#39;) + \u0026#39;/\u0026#39;; const response = { status: \u0026#39;302\u0026#39;, statusDescription: \u0026#39;Found\u0026#39;, headers: { location: [{ key: \u0026#39;Location\u0026#39;, value: redirectUrl, }], }, } // return response to redirect (for viewer) callback(null, response); ã“ã†ã™ã‚‹ã“ã¨ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ Origin ã¾ã§åˆ°é”ã›ãšã€ CloudFront ã‹ã‚‰ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\näºŒã¤ç›®ã«é–¢ã—ã¦ã¯ã€ / çµ‚ã‚ã‚Šã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã•ã‚ŒãŸ URL ã‚’ /index.html ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã„ã†é¢¨ã« request.uri ã‚’æ›´æ–°ã—ã¦ã„ã¾ã™ã€‚\n// Replace the received URI with the URI that includes the index page request.uri = actualUri; // Return to CloudFront (for origin) callback(null, request); ã“ã‚Œã«ã‚ˆã‚Šã€ / ã¨ã„ã† Viewer Request ãŒ /index.html ã¨ã„ã† Origin Request ã«å¤‰ã‚ã‚Šã€ Origin ã¯ /index.html ãªã‚‰ã‚ã‚‹ã‚ˆ ã¨ã„ã†ã“ã¨ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã—ã¦ãã‚Œã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã™ã‚Œã°ã€ / ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ /index.html ãŒè¿”ã£ã¦ããŸæ„Ÿã˜ã§ã™ã€‚\nã“ã® Lambda ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã®ã¯ CloudFront ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒå­˜åœ¨ã—ãªã„å ´åˆã®ã¿ãªã®ã§ã€æ–™é‡‘çš„ã«ã‚‚ã‚ã¾ã‚Šå¿ƒé…ã¯ã„ã‚Šã¾ã›ã‚“ã€‚\nã¾ã¨ã‚ AWS ä¸Šã§é™çš„ã‚µã‚¤ãƒˆã‚’é‹ç”¨ã™ã‚‹ã¨ãã« Lambda@Edge ã§ URL ã‚’æ­£è¦åŒ–ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦æ›¸ãã¾ã—ãŸã€‚\næœ€å¾Œã«ç´¹ä»‹ã—ãŸ Lambda é–¢æ•°ã¯ Hugo ã‚’æƒ³å®šã—ãŸã‚‚ã®ã«ãªã£ã¦ã„ã¾ã™ãŒã€ä»–ã®é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã§ãƒ“ãƒ«ãƒ‰ã—ãŸã‚µã‚¤ãƒˆã§ã‚‚åŒæ§˜ã®æ–¹æ³•ã§ URL ã®æ­£è¦åŒ–ã¯ã§ãã¾ã™ã€‚\nAWS ã§é™çš„ã‚µã‚¤ãƒˆã‚’é‹ç”¨ã™ã‚‹å ´åˆã¯ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æŒ™å‹•ã«æ³¨æ„ã—ã¦ã€ URL ã®æ­£è¦åŒ–ã«ã¤ã„ã¦ã‚‚é ­ã«å…¥ã‚Œã¦ãŠã„ãŸã»ã†ãŒè‰¯ã•ãã†ã§ã™ã€‚Lambda@Edge ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã”ã¨ã®å®Ÿè£…ã‚µãƒ³ãƒ—ãƒ«ã«ã¤ã„ã¦å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã„ãã¤ã‹ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã¡ã‚‰ã‚‚ã™ã”ãå‚è€ƒã«ãªã‚Šã¾ã™ã€‚\nLambda@Edge Example Functions - Amazon CloudFront ",
    "permalink": "https://michimani.net/post/development-lambda-edge-for-hugo-hosted-aws/",
    "title": "Lambda@Edge ã§é™çš„ã‚µã‚¤ãƒˆã® URL ã‚’æ­£è¦åŒ–ã™ã‚‹"
  },
  {
    "contents": "ãƒ–ãƒ­ã‚°ã§ã‚ˆãã‚ã‚‹ã€Œæœ€è¿‘èª­ã¾ã‚Œã¦ã„ã‚‹è¨˜äº‹ã€ã¿ãŸã„ãªã‚‚ã®ã‚’é™çš„ã‚µã‚¤ãƒˆã§ã‚‚å®Ÿç¾ã—ãŸã„ã¨æ€ã„ã€Google Analytics Reporting API v4 ã‚’ä½¿ã£ã¦ç›´è¿‘ä¸€é€±é–“ã®ãƒšãƒ¼ã‚¸ã”ã¨ã® PV æ•°ã‚’å–å¾—ã—ã¦ã¿ã¾ã—ãŸã€‚å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ JSON ã¨ã‹ã§ä¿æŒã—ã¦ãŠã‘ã°ã€å‰æ—¥ã¾ã§ã®ãƒ‡ãƒ¼ã‚¿ã§ PV ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãŒä½œæˆã§ããã†ã§ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ å‰æ å®Ÿè£… 1. å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« 2. ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œ 3. PV å–å¾—ç”¨ã«ç·¨é›† ã¾ã¨ã‚ æ¦‚è¦ Google Analytics Reporting API v4 (ä»¥ä¸‹ã€Reporting API) ã‚’ä½¿ç”¨ã—ã¦ã€ç›´è¿‘ä¸€é€±é–“ã®å„ãƒšãƒ¼ã‚¸ã”ã¨ã® PV æ•°ã‚’å–å¾—ã—ã¾ã™ã€‚å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªå½¢ã§ä¿å­˜ã—ã¾ã™ã€‚\n[ { \u0026#34;page_path\u0026#34;: \u0026#34;/path/to/post_1\u0026#34;, \u0026#34;page_view\u0026#34;: 100 }, { \u0026#34;page_path\u0026#34;: \u0026#34;/path/to/post_2\u0026#34;, \u0026#34;page_view\u0026#34;: 99 } ] å–å¾—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ Python 3.x ã§å®Ÿè£…ã—ã¾ã™ã€‚\n(.venv) $ python -V Python 3.7.6 é©å®œã€ä»®æƒ³ç’°å¢ƒã‚’ä½œã‚‹ãªã‚Šã—ã¦ä½œæ¥­ã—ã¦ãã ã•ã„ã€‚\nå‰æ Reporting API v4 ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®èªè¨¼æƒ…å ± (client_secrets.json) ãŒæ‰‹å…ƒã«ã‚ã‚‹ ä¸Šè¨˜ã®æº–å‚™ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®å…¬å¼ãƒ¬ã‚¤ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nã¯ã˜ã‚ã¦ã®ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ Reporting API v4: ã‚µãƒ¼ãƒ“ã‚¹ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‘ã‘ Python ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ å®Ÿè£… å®Ÿè£…ã«ã¤ã„ã¦ã¯å…¬å¼ã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã«ã‚ã‚‹ã‚µãƒ³ãƒ—ãƒ«ãŒã»ã¼ãã®ã¾ã¾ä½¿ãˆã‚‹ã®ã§ã€ãã‚Œã‚’ã‚‚ã¨ã«ä¸‹è¨˜ã®æ‰‹é †ã§é€²ã‚ã¦ã„ãã¾ã™ã€‚\nå¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œ PV å–å¾—ç”¨ã«ç·¨é›† 1. å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« Reporting API ã‚’ Python ã§ä½¿ç”¨ã™ã‚‹ãŸã‚ã«ã€ã¾ãšã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ pip install --upgrade google-api-python-client ã“ã‚Œã«åŠ ãˆã¦ã€ oauth2client ã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ pip install oauth2client 2. ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã®ãƒšãƒ¼ã‚¸ã«ã‚ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ HelloAnalytics.py ã‚’ã‚³ãƒ”ãƒ¼ã¾ãŸã¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã¦ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ç·¨é›†ã—ã¾ã™ã€‚\n\u0026#34;\u0026#34;\u0026#34;Hello Analytics Reporting API V4.\u0026#34;\u0026#34;\u0026#34; from apiclient.discovery import build from oauth2client.service_account import ServiceAccountCredentials SCOPES = [\u0026#39;https://www.googleapis.com/auth/analytics.readonly\u0026#39;] - KEY_FILE_LOCATION = \u0026#39;\u0026lt;REPLACE_WITH_JSON_FILE\u0026gt;\u0026#39; - VIEW_ID = \u0026#39;\u0026lt;REPLACE_WITH_VIEW_ID\u0026gt;\u0026#39; + KEY_FILE_LOCATION = \u0026#39;./client_secrets.json\u0026#39; + VIEW_ID = \u0026#39;1234567890123\u0026#39; èªè¨¼æƒ…å ±ã¯ client_secrets.json ã¨ã„ã†åå‰ã§ã€ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚\nVIEW_ID ã«æŒ‡å®šã™ã‚‹ã®ã¯ã€ Google Analytics ã®ãƒ“ãƒ¥ãƒ¼ã® ID ã§ã™ã€‚ç¢ºèªã™ã‚‹ã«ã¯ã€ Google Analytics ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã€ Account Explorer ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nAccount Explorer â€” Google Analytics Demos \u0026amp;amp; Tools ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ç¢ºèªã™ã‚‹å ´åˆã¯ã€ä¸‹ã®ã‚­ãƒ£ãƒ—ãƒãƒ£ã§èµ¤ãå¡—ã‚‰ã‚Œã¦ã„ã‚‹éƒ¨åˆ†ã®å€¤ã‚’ç¢ºèªã—ã¾ã™ã€‚\nã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€7 æ—¥å‰ã‹ã‚‰ä»Šæ—¥ã¾ã§ã® å„å›½ (åœ°åŸŸ) ã”ã¨ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n$ python HelloAnalytics.py ga:country: (not set) Date range: 0 ga:sessions: 5 ga:country: Australia Date range: 0 ga:sessions: 1 ga:country: Bahrain Date range: 0 ga:sessions: 1 ga:country: Brazil Date range: 0 ga:sessions: 1 ga:country: Canada Date range: 0 ... 3. PV å–å¾—ç”¨ã«ç·¨é›† å„ãƒšãƒ¼ã‚¸ (ãƒ‘ã‚¹) ã”ã¨ã® PV æ•°ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ã€ã‚µãƒ³ãƒ—ãƒ«å†…ã® get_report() é–¢æ•°ã‚’æ¬¡ã®ã‚ˆã†ã«ç·¨é›†ã—ã¾ã™ã€‚\nreturn analytics.reports().batchGet( body={ \u0026#39;reportRequests\u0026#39;: [ { \u0026#39;viewId\u0026#39;: VIEW_ID, - \u0026#39;dateRanges\u0026#39;: [{\u0026#39;startDate\u0026#39;: \u0026#39;7daysAgo\u0026#39;, \u0026#39;endDate\u0026#39;: \u0026#39;today\u0026#39;}], - \u0026#39;metrics\u0026#39;: [{\u0026#39;expression\u0026#39;: \u0026#39;ga:sessions\u0026#39;}], - \u0026#39;dimensions\u0026#39;: [{\u0026#39;name\u0026#39;: \u0026#39;ga:country\u0026#39;}] + \u0026#39;dateRanges\u0026#39;: [{\u0026#39;startDate\u0026#39;: \u0026#39;7daysAgo\u0026#39;, \u0026#39;endDate\u0026#39;: \u0026#39;yesterday\u0026#39;}], + \u0026#39;metrics\u0026#39;: [{\u0026#39;expression\u0026#39;: \u0026#39;ga:pageviews\u0026#39;}], + \u0026#39;dimensions\u0026#39;: [{\u0026#39;name\u0026#39;: \u0026#39;ga:pagePath\u0026#39;}] }] } ).execute() ä¸Šè¨˜ã®ã‚ˆã†ã« metrics ã¨ dimensions ã‚’ç·¨é›†ã™ã‚‹ã“ã¨ã§ã€æ¬¡ã®ã‚ˆã†ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒå–å¾—ã§ãã¾ã™ã€‚\n{ \u0026#34;reports\u0026#34;: [ { \u0026#34;columnHeader\u0026#34;: { \u0026#34;dimensions\u0026#34;: [ \u0026#34;ga:pagePath\u0026#34; ], \u0026#34;metricHeader\u0026#34;: { \u0026#34;metricHeaderEntries\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;ga:pageviews\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;INTEGER\u0026#34; } ] } }, \u0026#34;data\u0026#34;: { \u0026#34;rows\u0026#34;: [ { \u0026#34;dimensions\u0026#34;: [ \u0026#34;/path/to_post_1\u0026#34; ], \u0026#34;metrics\u0026#34;: [ { \u0026#34;values\u0026#34;: [ \u0026#34;100\u0026#34; ] } ] }, { \u0026#34;dimensions\u0026#34;: [ \u0026#34;/path/to/post_2\u0026#34; ], \u0026#34;metrics\u0026#34;: [ { \u0026#34;values\u0026#34;: [ \u0026#34;99\u0026#34; ] } ] } ] } } ] } ã“ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‹ã‚‰å„ãƒ‘ã‚¹ã® PV æ•°ã‚’é›†è¨ˆã™ã‚‹ãŸã‚ã®é–¢æ•°ã‚’ä½œæˆã—ã¾ã™ã€‚åˆã‚ã›ã¦ã€çµæœã‚’å‡ºåŠ›ã™ã‚‹é–¢æ•°ã‚‚ä½œæˆã—ã¾ã™ã€‚ã“ã®éš›ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å«ã¾ã‚Œã‚‹ãƒ‘ã‚¹ã«ã¯ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚‚å«ã¾ã‚Œã¦ã„ã‚‹ã®ã§ã€é›†è¨ˆæ™‚ã«ã¯ç„¡è¦–ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\ndef calc(response): # type: (dict) -\u0026gt; () \u0026#34;\u0026#34;\u0026#34;Calculate page views of each page path. Args: response: The Analytics Reporting API V4 response. \u0026#34;\u0026#34;\u0026#34; calc_res = dict() pv_summary = [] report = response.get(\u0026#39;reports\u0026#39;, [])[0] for report_data in report.get(\u0026#39;data\u0026#39;, {}).get(\u0026#39;rows\u0026#39;, []): # get page path page_path = report_data.get(\u0026#39;dimensions\u0026#39;, [])[0] # ignore query parameters page_path = re.sub(r\u0026#39;\\?.+$\u0026#39;, \u0026#39;\u0026#39;, page_path) # get page view page_view = int(report_data.get(\u0026#39;metrics\u0026#39;, [])[0].get(\u0026#39;values\u0026#39;)[0]) if page_path in calc_res: calc_res[page_path] += page_view else: calc_res[page_path] = page_view for path in calc_res: pv_summary.append({ \u0026#39;page_path\u0026#39;: path, \u0026#39;page_views\u0026#39;: calc_res[path] }) # sort by page views pv_summary.sort( key=lambda path_data: path_data[\u0026#39;page_views\u0026#39;], reverse=True) return pv_summary def save_as_json(data, file_path=\u0026#39;./res.json\u0026#39;): # type: (dict or list, str) -\u0026gt; () \u0026#34;\u0026#34;\u0026#34; Save dict pr list as JSON file. Args: data: dict or list object to save. file_path: file path for JSON file. (default is \u0026#39;./res.json\u0026#39;) \u0026#34;\u0026#34;\u0026#34; with open(file_path, \u0026#39;w\u0026#39;) as f: f.write(json.dumps(data, indent=2)) ã‚‚ã¨ã‚‚ã¨ã‚ã£ãŸ print_response() ä½¿ç”¨ã—ãªã„ã®ã§å‰Šé™¤ã—ã¦ã€æœ€çµ‚çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nå®Ÿè¡Œã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãª JSON ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚\n[ { \u0026#34;page_path\u0026#34;: \u0026#34;/path/to/post_1\u0026#34;, \u0026#34;page_views\u0026#34;: 100 }, { \u0026#34;page_path\u0026#34;: \u0026#34;/path/to/post_2\u0026#34;, \u0026#34;page_views\u0026#34;: 99 }, { \u0026#34;page_path\u0026#34;: \u0026#34;/path/to/post_4\u0026#34;, \u0026#34;page_views\u0026#34;: 10 }, { \u0026#34;page_path\u0026#34;: \u0026#34;/path/to/post_3\u0026#34;, \u0026#34;page_views\u0026#34;: 5 } ] ã¾ã¨ã‚ Google Analytics Reporting API v4 ã‚’ä½¿ã£ã¦ç›´è¿‘ä¸€é€±é–“ã®ãƒšãƒ¼ã‚¸ã”ã¨ã® PV æ•°ã‚’å–å¾—ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚æœ¬å½“ã¯è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚‚å–å¾—ã§ãã‚Œã°è‰¯ã„ã®ã§ã™ãŒã€ä»Šå›ã¯ãƒ‘ã‚¹ã”ã¨ã® PV æ•°ã§ä¸€æ—¦å¦¥å”ã—ã¦ã¾ã™ã€‚ãŸã ã€URL ã•ãˆã‚ã‹ã‚Œã°ã¯ã¦ãªãƒ–ãƒ­ã‚°ã®åŸ‹ã‚è¾¼ã¿ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ç”¨ã—ã¦ãƒªãƒ³ã‚¯ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ã“ã®æƒ…å ±ã ã‘ã§ã‚‚ãªã‚“ã¨ã‹ãªã‚Šãã†ã§ã™ã€‚\nã‚ã¨ã¯ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®šæœŸçš„ã« (1æ—¥1å›) å®Ÿè¡Œã—ã¦ S3 ã«ã§ã‚‚ JSON ã‚’é…ç½®ã§ãã‚Œã°ã€é™çš„ã‚µã‚¤ãƒˆã§ã‚‚è¨˜äº‹ã®é–²è¦§æ•°ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãŒç°¡å˜ã«ä½œæˆã§ããã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/programming-get-access-count-from-google-analytics/",
    "title": "[Python] Google Analytics Reporting API v4 ã§ç›´è¿‘ä¸€é€±é–“ã®ãƒšãƒ¼ã‚¸ã”ã¨ã® PV æ•°ã‚’å–å¾—ã™ã‚‹"
  },
  {
    "contents": "ä»Šæ—¥ 4 æœˆ 10 æ—¥ã¯ãƒ•ã‚©ãƒ³ãƒˆã®æ—¥ã§ã™ã€‚æ™®æ®µç”Ÿæ´»ã—ã¦ã„ã¦ãƒ•ã‚©ãƒ³ãƒˆã‚’æ„è­˜ã™ã‚‹ã“ã¨ã¯ã‚ã¾ã‚Šãªã„ã¨ã¯æ€ã„ã¾ã™ãŒã€ãƒ•ã‚©ãƒ³ãƒˆãŒå¤‰ã‚ã‚‹ã ã‘ã§ç›®ã«å…¥ã£ã¦ã„ãã‚‹æƒ…å ±ã®å°è±¡ã¯ã‹ãªã‚Šå¤‰ã‚ã‚Šã¾ã™ã€‚\nã“ã®ãƒ–ãƒ­ã‚°ã§ã‚‚Webãƒ•ã‚©ãƒ³ãƒˆã‚’ã¤ã‹ã£ã¦ã„ã‚‹ã®ã§ã€ä»Šå›ã¯ãã®å°è±¡ã®å¤‰ã‚ã‚Šæ–¹ã«ã¤ã„ã¦ã€ã–ã£ãã‚Šã¨ç°¡å˜ã«æ›¸ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nç›®æ¬¡ ãã‚‚ãã‚‚ãƒ•ã‚©ãƒ³ãƒˆã¨ã¯ ã©ã‚“ãªç¨®é¡ã®ãƒ•ã‚©ãƒ³ãƒˆãŒã‚ã‚‹ã‹ ãƒ•ã‚©ãƒ³ãƒˆã£ã¦èª°ãŒä½œã£ã¦ã‚‹ã®ã‹ å®Ÿéš›ã«ã©ã‚Œã ã‘å°è±¡ãŒå¤‰ã‚ã‚‹ã®ã‹ï¼Ÿ UDæ–°ã‚´ UDé»ãƒŸãƒ³ ã‚µãƒ³ ãƒ©ã‚¤ãƒ³G ãƒ–ãƒ­ã‚°ã§ã‚‚ãƒ•ã‚©ãƒ³ãƒˆã«æ‹˜ã‚‹ ã¾ã¨ã‚ ãã‚‚ãã‚‚ãƒ•ã‚©ãƒ³ãƒˆã¨ã¯ å†’é ­ã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€æ™®æ®µã‹ã‚‰ãƒ•ã‚©ãƒ³ãƒˆã‚’æ„è­˜ã—ã¦ã„ã‚‹äººã¯å°‘ãªã„ã¨æ€ã„ã¾ã™ã€‚ã¨ã¯è¨€ã£ã¦ã‚‚ã€ä»•äº‹ãªã©ã§è³‡æ–™ä½œæˆã™ã‚‹éš›ã«ã€æ–‡å­—ã®å½¢ã‚’å¤‰ãˆã‚‹ãŸã‚ã«ç„¡æ„è­˜ã«è‰²ã‚“ãªãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ã£ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nç§ç”Ÿæ´»ã§è¨€ã†ã¨ã€æ–°èã¨ã‹é›»è»Šå†…ã®é›»å­æ¡ˆå†…ç‰ˆã¨ã‹é“è·¯æ¨™è­˜ã¨ã‹ã€åŒã˜æ–‡å­—ã§ã‚‚é•ã†å½¢ã‚’ã—ã¦ã„ã¾ã™ã€‚ã‚ã‚ŒãŒãƒ•ã‚©ãƒ³ãƒˆã®é•ã„ã§ã™ã€‚\nã©ã‚“ãªç¨®é¡ã®ãƒ•ã‚©ãƒ³ãƒˆãŒã‚ã‚‹ã‹ Windows ãƒ¦ãƒ¼ã‚¶ã®æ–¹ãªã‚‰ã€ MS ã‚´ã‚·ãƒƒã‚¯ ã¨ã‹ MS æ˜æœ ã¨ã‹ã¯é¦´æŸ“ã¿ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚ Mac ãƒ¦ãƒ¼ã‚¶ã®æ–¹ãªã‚‰ã€ ãƒ’ãƒ©ã‚®ãƒ ã¨ã‹ã§ã™ã€‚\nWindows æ´¾ã€ Mac æ´¾ ã®é–“ã§ã—ã°ã—ã°è«–äº‰ã«ãªã‚‹ã®ãŒã€ã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚©ãƒ³ãƒˆã®é•ã„ã§ã™ã€‚(ä¸»ã« Mac æ´¾ãŒ MS ã‚´ã‚·ãƒƒã‚¯ã€ MS æ˜æœã‚’ãƒ‡ã‚£ã‚¹ã‚‹æ™‚ã«ä¸€æ–¹çš„ã«è¨€ã£ã¦ã‚‹æ°—ã‚‚ã—ã¾ã™ãŒ)\nã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚©ãƒ³ãƒˆã¯ã€ PC ã®è¨­å®šç”»é¢ã¨ã‹ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ© (Finder) ã§è¡¨ç¤ºã•ã‚Œã‚‹æ–‡å­—ã«ä½¿ã‚ã‚Œã‚‹ãƒ•ã‚©ãƒ³ãƒˆã§ã€ PC ã‚’ä½¿ã£ã¦ä½œæ¥­ã™ã‚‹ã†ãˆã§ä¸€ç•ªç›®ã«ã™ã‚‹ãƒ•ã‚©ãƒ³ãƒˆã§ã™ã€‚å®Ÿéš›ã€ç§ã‚‚ Mac æ­´ãŒé•·ã„ã®ã§ã€ä¹…ã€…ã« Windows ã®ç”»é¢ã‚’è¦‹ã‚‹ã¨ ã‚¦ãƒƒ ã¨ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚\nOS ã‚’é¸æŠã™ã‚‹æ¡ä»¶ã«ã‚‚ãªã‚Šå¾—ã‚‹ã¨ã„ã†æ„å‘³ã§ã¯ã€ãƒ•ã‚©ãƒ³ãƒˆã®æŒã¤å½±éŸ¿ã¯å¤§ãã„ã¨è¨€ãˆã¾ã™ã€‚\nãƒ•ã‚©ãƒ³ãƒˆã£ã¦èª°ãŒä½œã£ã¦ã‚‹ã®ã‹ ãƒ•ã‚©ãƒ³ãƒˆã¯ã€ Microsoft ã‚„ Googleã€ Adobe ãªã©ã®ä¼æ¥­ãŒç‹¬è‡ªã«ä½œã£ã¦ã„ãŸã‚Šã™ã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ãŒã€ãƒ•ã‚©ãƒ³ãƒˆã‚’å°‚é–€ã«ä½œã£ã¦ã„ã‚‹ä¼šç¤¾(ãƒ•ã‚©ãƒ³ãƒˆãƒ™ãƒ³ãƒ€ãƒ¼)ã‚‚ã‚ã‚Šã¾ã™ã€‚\nä¸–ç•Œçš„ã«æœ‰åãªã®ã¯ Monotype ã€æ—¥æœ¬ã§ã¯ ãƒ¢ãƒªã‚µãƒ¯ ã€ ãƒ•ã‚©ãƒ³ãƒˆãƒ¯ãƒ¼ã‚¯ã‚¹ ã€ è¦–è¦šãƒ‡ã‚¶ã‚¤ãƒ³ç ”ç©¶æ‰€ ãªã©ãŒã‚ã‚Šã¾ã™ã€‚\nã¾ãŸã€å€‹äººã®ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã•ã‚“ãŒç‹¬è‡ªã«ä½œã£ã¦ã„ã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚\nãƒ•ã‚©ãƒ³ãƒˆãƒ™ãƒ³ãƒ€ãƒ¼ãŒæ‰±ã†ãƒ•ã‚©ãƒ³ãƒˆã«ã¤ã„ã¦ã¯ã»ã¨ã‚“ã©ãŒæœ‰å„Ÿã§ã€ 1 æ›¸ä½“ã„ãã‚‰ ã¨ã‹ã€ã„ãã¤ã‚‚ã®æ›¸ä½“ã‚’ä½¿ãˆã‚‹å¹´é–“ã®ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã‚’è²·ã†ã¨ã„ã†æ–¹æ³•ãŒä¸€èˆ¬çš„ã§ã™ã€‚\næœ€è¿‘ã§ã¯æ›¸é¡ã ã‘ã§ã¯ãªã Web ã‚µã‚¤ãƒˆã«ã‚‚ãƒ•ã‚©ãƒ³ãƒˆã‚’é©ç”¨ã§ãã‚‹ (Web ãƒ•ã‚©ãƒ³ãƒˆ) ã®ã§ã€å„ãƒ™ãƒ³ãƒ€ãƒ¼ã¯ Web ãƒ•ã‚©ãƒ³ãƒˆç”¨ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚‚å±•é–‹ã—ã¦ã„ã¾ã™ã€‚\nå®Ÿéš›ã«ã©ã‚Œã ã‘å°è±¡ãŒå¤‰ã‚ã‚‹ã®ã‹ï¼Ÿ ã˜ã‚ƒã‚ã€ãƒ•ã‚©ãƒ³ãƒˆã«ã‚ˆã£ã¦ã©ã‚Œãã‚‰ã„å°è±¡ãŒå¤‰ã‚ã‚‹ã®ã‹ã€ã„ãã¤ã‹ã®ãƒ•ã‚©ãƒ³ãƒˆã§è©¦ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\næ¤œè¨¼ã«ä½¿ã†ã®ã¯ã€çš†ã•ã‚“ã”å­˜çŸ¥ æ•è‰å­ã®ç¬¬ 1 æ®µã§ã™ã€‚\nUDæ–°ã‚´ ã¾ãšã¯ã€ãƒ¢ãƒªã‚µãƒ¯ã® A-OTF UDæ–°ã‚´ ã®å ´åˆã€‚\nã‚´ ã¯ã€ã‚´ã‚·ãƒƒã‚¯ã‚’æ„å‘³ã—ã¦ã„ã‚‹ã®ã§ã€åŸºæœ¬çš„ã«ã¯ã‚´ã‚·ãƒƒã‚¯ä½“ã§ã™ã€‚ UD ã¨ã¯ã€Universal Design (ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³) ã®ã“ã¨ã§ã€æ–‡åŒ–ãƒ»è¨€èªãƒ»å›½ç±ã®é•ã„ã€è€è‹¥ç”·å¥³ã¨ã„ã£ãŸå·®ç•°ã€éšœå®³ãƒ»èƒ½åŠ›ã®å¦‚ä½•ã‚’å•ã‚ãšã«ã©ã‚“ãªäººã«ã‚‚èª­ã¿ã‚„ã™ã„è¨­è¨ˆã§ã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚\næœ€è¿‘ã§ã¯æ•™è‚²æ¥­ç•Œã§ã®æ³¨ç›®åº¦ãŒé«˜ã¾ã£ã¦ã„ã¾ã™ã€‚\nèªçŸ¥ã•ã‚Œã«ãã„èª­ã¿æ›¸ãéšœå®³ã€€ï¼µï¼¤ãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ã†ã¨ã€€ï¼ˆ1/3ãƒšãƒ¼ã‚¸ï¼‰ - ç”£çµŒãƒ‹ãƒ¥ãƒ¼ã‚¹ é©å‘½çš„ã«èª­ã¿ã‚„ã™ã„ã€ï¼µï¼¤ãƒ•ã‚©ãƒ³ãƒˆã€€å­¦åŠ›å‘ä¸ŠåŠ¹æœã‚‚æœŸå¾…ï¼šæœæ—¥æ–°èãƒ‡ã‚¸ã‚¿ãƒ« UDé»ãƒŸãƒ³ ç¶šã„ã¦ã¯ã€åŒã˜ããƒ¢ãƒªã‚µãƒ¯ã® UDé»ãƒŸãƒ³ ã®å ´åˆã§ã™ã€‚\né»ãƒŸãƒ³ ã¯ ã€Œãƒ¬ã‚¤ãƒŸãƒ³ã€ ã¨èª­ã¿ã¾ã™ã€‚ã“ã‚Œã¯æ˜æœä½“ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸãƒ•ã‚©ãƒ³ãƒˆã§ã™ã€‚\næ˜æœä½“ã¯ã‚´ã‚·ãƒƒã‚¯ä½“ã¨é•ã£ã¦ã€ã€Œå¤§äººã£ã½ã•ã€ã€Œæ´—ç·´ã•ã‚ŒãŸæ„Ÿã˜ã€ãŒå‡ºã‚‹ã¨è¨€ã‚ã‚Œã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚\nUD æ–°ã‚´ã¨åŒæ§˜ã«ã€ã“ã¡ã‚‰ã‚‚ U Dæ›¸ä½“ã¨ãªã£ã¦ã„ã‚‹ã®ã§ã€éå¸¸ã«èª­ã¿ã‚„ã™ã„ã§ã™ã€‚\nã‚µãƒ³ ç¶šã„ã¦ã¯ã€ã‚¿ã‚¤ãƒ—ãƒãƒ³ã‚¯ã® ã‚µãƒ³ ã®å ´åˆã€‚\nã‚µãƒ³ã¯æ‰‹æ›¸ãæ„ŸãŒã‚ã‚‹ãƒ•ã‚©ãƒ³ãƒˆã§ã€èª­ã¿ã‚„ã™ã• ã¨ã„ã†ã‚ˆã‚Šã¯ ãƒ‡ã‚¶ã‚¤ãƒ³æ€§ ã«æŒ¯ã£ã¦ã„ã‚‹ãƒ•ã‚©ãƒ³ãƒˆã‹ãªã¨ã„ã†å°è±¡ã§ã™ã€‚\nãƒ–ãƒ­ã‚°ã®æœ¬æ–‡ã¨ã—ã¦ã¯ã¡ã‚‡ã£ã¨ä½¿ã„ã«ãã„ã®ã§ã€ä¾‹ãˆã°å¼•ç”¨ç®‡æ‰€ã¨ã‹ã€ä¸€éƒ¨åˆ†ã«ã ã‘ä½¿ã†ã®åˆ†ã«ã¯ã‚ˆã•ãã†ã§ã™ã€‚\nãƒ©ã‚¤ãƒ³G æœ€å¾Œã«ã€è¦–è¦šãƒ‡ã‚¶ã‚¤ãƒ³ç ”ç©¶æ‰€ã® ãƒ©ã‚¤ãƒ³G ã®å ´åˆã€‚\nè¦–è¦šãƒ‡ã‚¶ã‚¤ãƒ³ç ”ç©¶æ‰€ã¯ã€æ™®é€šã®ã‚´ã‚·ãƒƒã‚¯ä½“ã‚„æ˜æœä½“ã«åŠ ãˆã¦ã€éå¸¸ã«ãƒ‡ã‚¶ã‚¤ãƒ³è¦ç´ ã®å¼·ã„ãƒ•ã‚©ãƒ³ãƒˆã‚’æ‰±ã£ã¦ã„ã‚‹å°è±¡ã§ã™ã€‚\nã“ã®ãƒ©ã‚¤ãƒ³Gã‚‚ãƒ‡ã‚¶ã‚¤ãƒ³æ€§ãŒå¼·ãã€é•·ã„æ–‡ç« ã«ã¯å‘ã„ã¦ã„ã¾ã›ã‚“ã€‚\nãƒã‚¹ã‚¿ãƒ¼ã‚„Webåºƒå‘Šãªã©ã€æ²ç¤ºç‰©ã«ä½¿ç”¨ã™ã‚‹ã¨ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã¯ã‚ã‚Šãã†ã§ã™ã€‚\nãƒ–ãƒ­ã‚°ã§ã‚‚ãƒ•ã‚©ãƒ³ãƒˆã«æ‹˜ã‚‹ ãƒ•ã‚©ãƒ³ãƒˆãŒé•ã†ã ã‘ã§ã‹ãªã‚Šå°è±¡ãŒå¤‰ã‚ã£ã¦ã€åŒã˜æ–‡ç« ã§ã‚‚ã€å†…å®¹ã®å…¥ã£ã¦ãã‚„ã™ã•ã€ãã‚‚ãã‚‚ èª­ã¿ãŸã„/èª­ã¿ãŸããªã„ ã¨ã„ã†åˆ‡ã‚Šåˆ†ã‘ã®è¦å› ã«ã‚‚ãªã‚Šã¾ã™ã€‚\nãƒ–ãƒ­ã‚°ã«ãŠã„ã¦ã‚‚ãƒ•ã‚©ãƒ³ãƒˆã¯é‡è¦ã ã¨æ€ã£ã¦ã„ã¦ã€ã™ã”ãè‰¯ã„æ–‡ç« ãŒæ›¸ã‹ã‚Œã¦ã„ã¦ã‚‚ã€ãã‚ŒãŒãƒ‡ã‚¶ã‚¤ãƒ³ã«ç‰¹åŒ–ã—ãŸãƒ•ã‚©ãƒ³ãƒˆã§æ›¸ã‹ã‚Œã¦ã„ã‚‹ã¨ã€å¤šåˆ†é€”ä¸­ã§èª­ã‚€ã®ã‚’è«¦ã‚ã¦ã—ã¾ã„ã¾ã™ã€‚\nãã‚“ãªã¨ãã¯ Web ãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ã£ã¦ã¿ã¾ã™ã€‚å†’é ­ã«æ›¸ã„ãŸã‚ˆã†ã«å„ãƒ•ã‚©ãƒ³ãƒˆãƒ™ãƒ³ãƒ€ãƒ¼ãŒæä¾›ã—ã¦ã„ã‚‹ Web ãƒ•ã‚©ãƒ³ãƒˆã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã†ã¨ã„ã†æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚\nãƒ¢ã‚¶ã‚¤ã‚¯ | Monotype. TypeSquare - ãƒ¢ãƒªã‚µãƒ¯ ã—ã‹ã—ã€å„ãƒ™ãƒ³ãƒ€ãƒ¼ã®ã“ã†ã„ã£ãŸã‚µãƒ¼ãƒ“ã‚¹ã¯ã€å€‹äººå‘ã‘ã¨è¨€ã†ã‚ˆã‚Šã¯ä¼æ¥­ã®ãƒãƒ¼ã‚¿ãƒ«ã‚µã‚¤ãƒˆã‚„ECã‚µã‚¤ãƒˆãªã©ãŒä¸»ãªã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«ãªã£ã¦ã„ã¾ã™ã€‚\nãªã®ã§ã€å€‹äººã§Webãƒ•ã‚©ãƒ³ãƒˆã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã¯ã€ Adobe ã® Adobe Fonts ãŒãŠã™ã™ã‚ã§ã™ã€‚\nAdobe Fonts | ç„¡åˆ¶é™ã®ãƒ•ã‚©ãƒ³ãƒˆã‚’æ¤œç´¢ Adobe Fonts ã®è‰¯ã„ã¨ã“ã‚ã¯ã€æ§˜ã€…ãªãƒ•ã‚©ãƒ³ãƒˆãƒ™ãƒ³ãƒ€ãƒ¼ã®ãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ãˆã‚‹ã¨ã„ã†ç‚¹ã§ã™ã€‚ã¾ãŸã€ä¸€éƒ¨ã®ãƒ•ã‚©ãƒ³ãƒˆã¯ PC ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ãŒã§ãã€ Adobe CC ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ (Photoshop, Illustrator ãªã©) ä»¥å¤–ã®ã‚¨ãƒ‡ã‚£ã‚¿ã‚„ãã®ä»–ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å†…ã§ã‚‚åˆ©ç”¨ãŒå¯èƒ½ã§ã™ã€‚ã‚‚ã¡ã‚ã‚“ Word ã‚„ PowerPoint ã§ã‚‚ã€‚\nãƒ–ãƒ­ã‚°ã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ã‚¬ãƒ©ãƒƒã¨å¤‰ãˆã‚‹ã“ã¨ã¯ãªã‹ãªã‹é›£ã—ã„ã§ã™ãŒã€ãƒ•ã‚©ãƒ³ãƒˆã ã‘ã§ã‚ã‚Œã°ç°¡å˜ã«å¤‰æ›´ã§ãã‚‹ã«ã‚‚ã‹ã‹ã‚ã‚‰ãšå¤‰ã‚ã£ãŸæ„ŸãŒå¤§ãã„ã®ã§ã€æ‰‹è»½ã«ãƒ–ãƒ­ã‚°ã®é›°å›²æ°—ã‚’å¤‰ãˆãŸã„å ´åˆã«ã‚‚ Web ãƒ•ã‚©ãƒ³ãƒˆã¯ãŠã™ã™ã‚ã§ã™ã€‚\nã¾ã¨ã‚ ãƒ•ã‚©ãƒ³ãƒˆã®æ—¥ã¨ã„ã†ã“ã¨ã§ã€ãƒ•ã‚©ãƒ³ãƒˆã®é•ã„ã«ã‚ˆã‚‹å°è±¡ã®é•ã„ã«ã¤ã„ã¦ã–ã£ãã‚Šã¨æ›¸ãã¾ã—ãŸã€‚\næœ€è¿‘ã§ã¯ã€å±±æ‰‹ç·šã®æ–°é§… é«˜è¼ªã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤é§…ã®ãƒ•ã‚©ãƒ³ãƒˆãŒå°‘ã—è©±é¡Œã«ãªã‚Šã¾ã—ãŸãŒã€è¡—ãªã‹ã«ã‚ã‚‹çœ‹æ¿ã‚„ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãªã©ã€ãƒ•ã‚©ãƒ³ãƒˆã«æ³¨ç›®ã—ã¦è¦‹ã¦ã¿ã‚‹ã¨ãªã‹ãªã‹é¢ç™½ã„ã§ã™ã€‚\nãœã²ã“ã®æ©Ÿä¼šã«æ™®æ®µä»•äº‹ã§ä½œæˆã—ã¦ã„ã‚‹è³‡æ–™ã®ãƒ•ã‚©ãƒ³ãƒˆã‚„ã€èº«è¿‘ãªã‚‚æ–‡å­—ã®ãƒ•ã‚©ãƒ³ãƒˆã«ã¤ã„ã¦è€ƒãˆã¦ã¿ã¦ã¯ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚\n",
    "permalink": "https://michimani.net/post/other-font-day-2020/",
    "title": "4æœˆ10æ—¥ã¯ãƒ•ã‚©ãƒ³ãƒˆã®æ—¥ï¼ãƒ•ã‚©ãƒ³ãƒˆã«ã‚ˆã‚‹å°è±¡ã®é•ã„ã®ã–ã£ãã‚Šã¨ã—ãŸè©±"
  },
  {
    "contents": "ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ãŒæœ¬æ ¼çš„ã«å§‹ã¾ã£ã¦ 1 ãƒ¶æœˆãŒéããŸã®ã§ã€ãã®é–“ã«è©¦è¡ŒéŒ¯èª¤ã—ãªãŒã‚‰æº–å‚™ã—ãŸä½œæ¥­ç’°å¢ƒãŒä¸€æ—¦ãã‚Œã£ã½ã„æ„Ÿã˜ã§è½ã¡ç€ã„ãŸã®ã§ã”ç´¹ä»‹ã—ã¾ã™ã€‚ãªãŠã€ã‚¿ã‚¤ãƒˆãƒ«ã¯ãƒ—ãƒãƒã‚ºã‚’èµ·ã“ã—ã¦ã„ã‚‹ãƒ–ãƒ­ã‚°è¨˜äº‹ã®ãƒ‘ãƒ­ãƒ‡ã‚£ã§ã™ã€‚ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®ç¤¾é•·ã•ã‚“ã®è¨˜äº‹ã§ã™ãŒã€ãŠã‚‚ã—ã‚ã•ã¨ç¾å®Ÿå‘³ã¨å‹¢ã„ãŒã™ã”ã„ã§ã™ã€‚ãƒˆãƒ¼ã‚¿ãƒ«ã§ã€ã‚ã¡ã‚ƒãã¡ã‚ƒç¾¨ã¾ã—ã„ã§ã™ã€‚\nç¤¾é•·ã¨ã—ã¦æœ€ä½é™ã®ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã‚’æ•´ãˆã¦ã¿ãŸ | Developers.IO ç›®æ¬¡ è©¦é¨“çš„å°å…¥ã‹ã‚‰æœ¬ç•ªå°å…¥ã¸ å¿«é©ãªåºƒã„ä½œæ¥­ç’°å¢ƒ å¿«é©ãªæ‰‹å…ƒã®ä½œæ¥­ç’°å¢ƒ å¿«é©ãªéŸ³å£°ç’°å¢ƒ å¿«é©ãªç€åº§ç’°å¢ƒ å¿«é©ãªç©ºæ°—ç’°å¢ƒ åºƒã•ã¯æ­£ç¾© ãŠã¾ã‘ é…ç·š é›‘å¿µ ã¾ã¨ã‚ è©¦é¨“çš„å°å…¥ã‹ã‚‰æœ¬ç•ªå°å…¥ã¸ ç§ã®æ‰€å±ã—ã¦ã„ã‚‹ä¼æ¥­ã§ã¯ã€ä»Šå¹´ã«å…¥ã£ã¦ã‹ã‚‰è©¦é¨“çš„ã«ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ã¨æ™‚å·®å‡ºå‹¤ãŒå°å…¥ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚è©¦é¨“çš„ã¨ã„ã†ã®ã¯ã€ä»Šå¹´é–‹å‚¬ã•ã‚Œã‚‹äºˆå®šã ã£ãŸæ±äº¬ã‚ªãƒªãƒ³ãƒ”ãƒƒã‚¯ã«å‚™ãˆã¦ã€ãã®æœŸé–“ã«å•é¡Œãªããƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ã§ãã‚‹ã‚ˆã†ã«è‰²ã€…è©¦ã—ã¦ãŠã“ã†ã¨ã„ã†ç›®çš„ã‹ã‚‰ã§ã™ã€‚è©¦é¨“çš„ãªã®ã§é€± 2 æ—¥ã‚’ä¸Šé™ã«ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ã—ã¦ã¿ã‚‹ã€ã¨ã„ã†çŠ¶æ…‹ã§ã—ãŸã€‚ãã‚ŒãŒ COVID-19 ã®å½±éŸ¿ã‹ã‚‰ã€é€± 2 æ—¥ã®ä¸Šé™ã‚’æ’¤å»ƒ -\u0026gt; ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯æ¨å¥¨ -\u0026gt; åŸå‰‡ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ ã¨ã€è©¦é¨“çš„å°å…¥ã‹ã‚‰ä¸€æ°—ã«æœ¬ç•ªå°å…¥ã«ãªã‚Šã¾ã—ãŸã€‚\nãã“ã‹ã‚‰ 1 ãƒ¶æœˆãŒéãã¦ã€ã‚ã‚‹ç¨‹åº¦ è‡ªå®…ã§ã®ä½œæ¥­ç’°å¢ƒãŒæ•´ã£ã¦ãã¾ã—ãŸã€‚ã‚‚ã¨ã‚‚ã¨ã‚ã£ãŸç‰©ã€ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ãŒå§‹ã¾ã£ã¦ã‹ã‚‰è³¼å…¥ã—ãŸã‚‚ã®ã€ã©ã¡ã‚‰ã‚‚ã‚ã‚Šã¾ã™ãŒã€ä»Šå›ã¯ç¾åœ¨ã®ä½œæ¥­ç’°å¢ƒã‚’ã”ç´¹ä»‹ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nå¿«é©ãªåºƒã„ä½œæ¥­ç’°å¢ƒ ä¼šç¤¾ã§ã¯ 27 ã‚¤ãƒ³ãƒã®ã‚µãƒ–ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ãŒæ”¯çµ¦ã•ã‚Œã¦ã„ãŸã®ã§ã€ãã¡ã‚‰ã‚’ãƒ¡ã‚¤ãƒ³ã«ã—ã¦ä½œæ¥­ã‚’ã—ã¦ã„ã¾ã—ãŸã€‚è‡ªå®…ã§ã‚‚å¿«é©ã«ä½œæ¥­ã‚’ã™ã‚‹ãŸã‚ã«ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã§ä½œæ¥­ã—ã¦ã„ã¾ã™ã€‚ä½¿ç”¨ã—ã¦ã„ã‚‹ã®ã¯ã€ BenQ EL2870U ã§ã™ã€‚\nã“ã‚Œã¯ã‚‚ã¨ã‚‚ã¨ã‚¹ãƒãƒ–ãƒ© SP ã‚’å¿«é©ã«ãƒ—ãƒ¬ã‚¤ã—ãŸã„ã¨æ€ã£ã¦ 1 å¹´ãã‚‰ã„å‰ã«è³¼å…¥ã—ã¦ã„ãŸã‚‚ã®ã§ã€ BenQ ã®ã‚·ãƒªãƒ¼ã‚ºã®ä¸­ã§ã‚‚ ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒ¢ãƒ‹ã‚¿ãƒ¼ ã«åˆ†é¡ã•ã‚Œã‚‹ãƒ¢ãƒ‹ã‚¿ãƒ¼ã§ã™ã€‚28 ã‚¤ãƒ³ãƒ 4K HDR å¯¾å¿œã¨ãªã£ã¦ã„ã¦ã€ç›®ã«ã‚‚å„ªã—ãã€è§£åƒåº¦ã‚‚é«˜ã„ã®ã§ä½œæ¥­ç’°å¢ƒãŒåºƒãã€å¿«é©ã«ä½œæ¥­ã‚’ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nBenQ ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒ¢ãƒ‹ã‚¿ãƒ¼ ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ EL2870U 27.9ã‚¤ãƒ³ãƒ/4K/HDR/TN/1ms/FreeSyncå¯¾å¿œ/HDMIÃ—2/DP1.4/ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼/ã‚¢ã‚¤ã‚±ã‚¢æ©Ÿèƒ½B.I.+ å¿«é©ãªæ‰‹å…ƒã®ä½œæ¥­ç’°å¢ƒ ç¶šã„ã¦ã¯æ‰‹å…ƒã®ä½œæ¥­ç’°å¢ƒã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã¨ãƒã‚¦ã‚¹ã§ã™ã€‚\nä¼šç¤¾ã§ã¯ Apple ã®ãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã—ãŸãŒã€ã„ã¾è‡ªå®…ã§ä½¿ç”¨ã—ã¦ã„ã‚‹ã®ã¯ REALFORCE for MAC ã§ã™ã€‚\nå‰ã‹ã‚‰æ°—ã«ãªã£ã¦ã„ã¾ã—ãŸãŒã€æ±ºã—ã¦å®‰ã„ã‚‚ã®ã§ã¯ãªã„ã®ã§ãªã‹ãªã‹è¸ã¿åˆ‡ã‚Œãšã«ã„ã¾ã—ãŸã€‚ã—ã‹ã—ã€è²·ã†ãªã‚‰ä»Šã§ã—ã‚‡ã£ã¦ã„ã†ãã‚‰ã„ã®çŠ¶æ³ã«ãªã£ãŸã®ã§ã€é‡ã„è…°ã‚’ã‚ã’ã¦è³¼å…¥ã—ã¾ã—ãŸã€‚é«˜ã„è²·ã„ç‰©ã§ã—ãŸãŒã€ã“ã‚Œã¯æœ¬å½“ã«è²·ã£ã¦ã‚ˆã‹ã£ãŸã§ã™ã€‚ã‚‚ã† Apple ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã«ã¯æˆ»ã‚Œãªã„ã§ã™ã€‚å¿«é©ã™ãã¾ã™ã€‚è©³ã—ã„ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«ã¤ã„ã¦ã¯å€‹åˆ¥ã«æ›¸ã„ã¦ã„ã‚‹ã®ã§ã€è³¼å…¥ã‚’è€ƒãˆã¦ã„ã‚‹æ–¹ã¯å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\næ±ãƒ—ãƒ¬ R2TLSA-JP3M-BK REALFORCE TKL SA R2 for Mac æ—¥æœ¬èª ãƒ†ãƒ³ã‚­ãƒ¼ãƒ¬ã‚¹ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ ï¼ˆ91é…åˆ— APCæ©Ÿèƒ½ + é™éŸ³ï¼‰ï¼šã‚·ãƒ«ãƒãƒ¼/é»’ ãƒ¬ãƒ¼ã‚¶ãƒ¼å°åˆ· 30g ãƒã‚¦ã‚¹ãªã‚“ã§ã™ãŒã€è‰²ã€…è€ƒãˆãŸçµæœã‚„ã£ã±ã‚Šãƒˆãƒ©ãƒƒã‚¯ãƒ‘ãƒƒãƒ‰ãŒä¾¿åˆ©ã ãªã¨ã„ã†çµè«–ã«ãªã‚Šã¾ã—ãŸã€‚å¤ã„ iMac ã«ã¤ã„ã¦ããŸ Magic Trackpad ãŒæ‰‹å…ƒã«ã‚ã‚Šã¾ã—ãŸãŒã€ä¹¾é›»æ± é§†å‹•ã¨ã„ã†ã®ãŒã‚¤ã‚±ã¦ãªã„ã®ã§ã€æ–°ãŸã« Magic Trackpad 2 ã‚’è³¼å…¥ã—ã¾ã—ãŸã€‚\næ—§ Trackpad ã¨ã®é•ã„ã¯\nç™½ã„ åºƒã„ å‚¾æ–œãŒã‚†ã‚‹ã„ å……é›»å¼ (Lightning ã‚±ãƒ¼ãƒ–ãƒ«) æ„Ÿåœ§ã‚¿ãƒƒãƒå¯¾å¿œ ã‚¯ãƒªãƒƒã‚¯éŸ³ãŒé™ã‹ ã§ã™ã€‚åŸºæœ¬çš„ã«ã¯ãƒ‘ãƒ¯ãƒ¼ã‚¢ãƒƒãƒ—ã—ã¦ã„ã‚‹ã‚“ã§ã™ãŒã€å‚¾æ–œã«é–¢ã—ã¦ã¯æ—§å‹ã®æ–¹ãŒè‰¯ã‹ã£ãŸã§ã™ã­ã€‚\nãƒã‚¦ã‚¹ã§ã¯ãªããƒˆãƒ©ãƒƒã‚¯ãƒ‘ãƒƒãƒ‰ã«ã—ãŸã“ã¨ã«ã‚ˆã‚‹ãƒ¡ãƒªãƒƒãƒˆã¨ã—ã¦ã¯ã€ã‚„ã¯ã‚Š Mac ã®å„ªç§€ãªã‚¸ã‚§ã‚¹ãƒãƒ£ãŒãã®ã¾ã¾ä½¿ãˆã‚‹ã¨ã„ã†ç‚¹ã§ã™ã­ã€‚æŒ‡ã®æœ¬æ•°ã€ãƒ”ãƒ³ãƒã€ä¸Šä¸‹ã®ç§»å‹•ãªã©ã§æ§˜ã€…ãªå‹•ä½œã‚’ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ãã“ã¯ãƒˆãƒ©ãƒƒã‚¯ãƒ‘ãƒƒãƒ‰ãŒå„ªç§€ãªéƒ¨åˆ†ã§ã™ã€‚\nã¡ãªã¿ã«é»’ (ã‚¹ãƒšãƒ¼ã‚¹ã‚°ãƒ¬ã‚¤) ã‚‚ã‚ã‚Šã¾ã™ãŒã€ç™½ã‚ˆã‚Šã‚‚å€¤æ®µãŒé«˜ã„ã§ã™ã€‚\nå¿«é©ãªéŸ³å£°ç’°å¢ƒ ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ãŒå§‹ã¾ã‚Šã€å½“ãŸã‚Šå‰ã§ã™ãŒä¼šè­°ãªã©ã¯å…¨ã¦ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã™ã€‚ãã®éš›ã«ã€ã“ã¡ã‚‰ã®éŸ³å£°ã‚’è‰¯ã„æ„Ÿã˜ã«ç›¸æ‰‹ã«ä¼ãˆã‚‹ãŸã‚ã«ã¯å¤–éƒ¨ãƒã‚¤ã‚¯ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚ã¨ã„ã†ã“ã§ä½¿ç”¨ã—ã¦ã„ã‚‹ã®ãŒã€ TASCAM DR-07X ã§ã™ã€‚\nãƒã‚¤ã‚¯ã‚¢ãƒ¼ãƒ ã¯æº–å‚™ã§ãã¦ã„ãªã„ã®ã§ã€ã‚´ãƒªãƒ©ãƒãƒƒãƒ‰ã§ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã®ä¸Šéƒ¨ã«å¼•ã£æ›ã‘ã¦ã¾ã™ã€‚\nDR-07X ã¯å…¬å¼ãƒšãƒ¼ã‚¸ã«\nç°¡å˜æ“ä½œã§é«˜éŸ³è³ªéŒ²éŸ³ã‚’æä¾›ã™ã‚‹ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆãªãƒãƒ³ãƒ‡ã‚£ãƒ¬ã‚³ãƒ¼ãƒ€ãƒ¼ã§ã™ã€‚\nDR-07X | è£½å“ãƒˆãƒƒãƒ— | TASCAM (æ—¥æœ¬) ã¨ã‚ã‚‹ã‚ˆã†ã«ã€ã„ã‚ã‚†ã‚‹ãƒªãƒ‹ã‚¢ PCM ãƒ¬ã‚³ãƒ¼ãƒ€ãƒ¼ãªã‚“ã§ã™ã€‚ãŸã ã—ã€ USB æ¥ç¶šã§ãã‚‹ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒæ­è¼‰ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€å¤–éƒ¨ãƒã‚¤ã‚¯ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ãƒã‚¤ã‚¯éƒ¨åˆ†ã¯å¯å‹•å¼ã®å˜ä¸€æŒ‡å‘æ€§ãƒã‚¤ã‚¯ã§ã€è‡ªåˆ†ã®å£°ã‚’ã—ã£ã‹ã‚Šå±Šã‘ãŸã„ã¨ãã¯é–‰ã˜ãŸçŠ¶æ…‹ã§ã€å‘¨ã‚Šã®éŸ³ã‚‚å±Šã‘ãŸã„å ´åˆã¯é–‹ã„ãŸçŠ¶æ…‹ã§ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ã‚ã€ä¼šè­°ä¸­ã«å‘¨ã‚Šã®éŸ³ã‚’å±Šã‘ãŸã„å ´é¢ã¯ã‚ã¾ã‚Šãªã„ã¨æ€ã„ã¾ã™ãŒã€‚æ„å¤–ã¨å®‰ä¾¡ãªã®ã§ãŠã™ã™ã‚ã§ã™ã€‚\nDR-07X ã«ã¤ã„ã¦ã¯æ˜¨æ—¥å±Šã„ãŸã°ã‹ã‚Šãªã®ã§ã€ã¾ãŸã‚ã‚‰ãŸã‚ã¦å€‹åˆ¥ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼è¨˜äº‹ã‚’æ›¸ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nTASCAM ã‚¿ã‚¹ã‚«ãƒ  - USB ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ­è¼‰ ã‚¹ãƒ†ãƒ¬ã‚ª ãƒªãƒ‹ã‚¢PCMãƒ¬ã‚³ãƒ¼ãƒ€ãƒ¼ DR-07X å¿«é©ãªç€åº§ç’°å¢ƒ é•·ã„æ™‚é–“åº§ã£ã¦ä½œæ¥­ã™ã‚‹ã®ã§ã€å¿«é©ãªç€åº§ç’°å¢ƒãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚è‡ªå®…ã§ä½¿ã£ã¦ã„ã‚‹ã®ã¯ AKRacing Pro-X ã§ã™ã€‚\nã“ã¡ã‚‰ã‚‚ã‚¹ãƒãƒ–ãƒ© SP ã‚’å¿«é©ã«ãƒ—ãƒ¬ã‚¤ã—ãŸã„ã¨ã„ã†æ€ã„ã‹ã‚‰æº–å‚™ã—ãŸã‚‚ã®ã§ã€ä½¿ã„å§‹ã‚ã¦ã‹ã‚‰åŠå¹´ãã‚‰ã„çµŒã¡ã¾ã™ã€‚ãƒ¯ãƒ³ãƒ«ãƒ¼ãƒ ã§ãŠä¸–è¾ã«ã‚‚åºƒã„ã¨ã¯è¨€ãˆãªã„éƒ¨å±‹ã«ç½®ãã¨å­˜åœ¨æ„ŸãŒã™ã”ã„ã§ã™ãŒã€å¿«é©ã•ã‚‚åŠç«¯ãªã„ã§ã™ã€‚ãµã¤ã†ã«åº§ã£ã¦ä½œæ¥­ã™ã‚‹ã‚‚ã‚ˆã—ã€åº§é¢ã«ã‚ãã‚‰ã‚’ã‹ã„ã¦åº§ã‚‹ã‚‚ã‚ˆã—ã€ãƒªã‚¯ãƒ©ã‚¤ãƒ‹ãƒ³ã‚°ã‚’ãƒ•ãƒ«ã«å€’ã—ã¦æ˜¼å¯ã‚’ã™ã‚‹ã‚‚ã‚ˆã—ã€‚ã¨ã«ã‹ãä¸¸ä¸€æ—¥åº§ã£ã¦ã„ã¦ã‚‚ãŠå°»ãŒç—›ããªã£ãŸã‚Šã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒã‚§ã‚¢ã£ã¦ã‚ã¡ã‚ƒãã¡ã‚ƒé«˜ã„ã‚‚ã®ã ã¨æ€ã£ã¦ã„ãŸã‚“ã§ã™ãŒã€ã„ã‚ã‚†ã‚‹é«˜ç´šã‚ªãƒ•ã‚£ã‚¹ãƒã‚§ã‚¢ã®åŠåˆ†ä»¥ä¸‹ãã‚‰ã„ã®å€¤æ®µã§è²·ãˆã‚‹ã®ã§ãŠã™ã™ã‚ã§ã™ã€‚\nã“ã¡ã‚‰ã‚‚å€‹åˆ¥è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã‚‹ã®ã§å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nå¿«é©ãªç©ºæ°—ç’°å¢ƒ ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ãŒæœ¬æ ¼çš„ã«å§‹ã¾ã£ãŸ 2 æœˆå¾ŒåŠã‹ã‚‰ 3 æœˆä¸Šæ—¬ã‚ãŸã‚Šã¯ã€ã¾ã ã¾ã å¯’ã„æ—¥ãŒå¤šãç©ºæ°—ãŒä¹¾ç‡¥ã—ã¦ã„ã¾ã—ãŸã€‚ä»Šå¹´ã®ã¯ã˜ã‚ã«ä¹¾ç‡¥ã‹ã‚‰å–‰ã‚’ã‚„ã‚‰ã‚Œã¦é¢¨é‚ªã‚’ã“ã˜ã‚‰ã›ãŸã“ã¨ãŒã‚ã£ãŸã®ã§ã€åŒã˜éã¡ã‚’ç¹°ã‚Šè¿”ã•ãªã„ã‚ˆã†ã«åŠ æ¹¿å™¨ã‚’è²·ã„ã¾ã—ãŸã€‚ä½•åº¦ã‚‚çµ¦æ°´ã™ã‚‹ã®ãŒé¢å€’ãªã®ã¨ã€ä¾¡æ ¼ã‚‚å®‰ã„ã‚‚ã®ãŒè‰¯ã‹ã£ãŸã®ã§ã€ Amazon ã§é©å½“ã«æ¢ã—ã¦è‰¯ã•ã’ã ãªã¨æ€ã£ãŸ Dreamegg DG001 ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚\nå®¹é‡ã¯ 2 Lã€‚è’¸æ°—ã®å¼·ã• (å™´å‡ºé‡) ã¯ 2 æ®µéšã§èª¿ç¯€å¯èƒ½ã§ã™ã€‚ã‚¿ã‚¤ãƒãƒ¼ã‚‚ 1,3,6 æ™‚é–“ã§è¨­å®šå¯èƒ½ã§ã™ã€‚\néŸ³ã‚‚é™ã‹ãªã®ã§ã€å¯ã¦ã‚‹é–“ã«èµ·å‹•ã—ã¦ã„ã¦ã‚‚å…¨ãæ°—ã«ãªã‚Šã¾ã›ã‚“ã€‚èµ·å‹•ä¸­ã®é’è‰² LED ãŒã¡ã‚‡ã£ã¨çœ©ã—ã„ãã‚‰ã„ã§ã™ã€‚\næœ€è¿‘ã¯ç©ºæ°—ãŒä¹¾ç‡¥ã™ã‚‹ã“ã¨ã‚‚ãªããªã£ã¦ããŸã®ã§èµ·å‹•å›æ•°ã¯æ¸›ã£ã¦ã¾ã™ãŒã€ã“ã‚ŒãŒãªã‘ã‚Œã°ã¾ãŸé¢¨é‚ªã‚’ã“ã˜ã‚‰ã›ã¦ã„ãŸã¨æ€ã„ã¾ã™ã€‚\nDreamegg åŠ æ¹¿å™¨ å“ä¸Š è¶…éŸ³æ³¢ 2020é©æ–°ç‰ˆ å¤§å®¹é‡ 2L ã—ãšãå‹ ã‚¿ã‚¤ãƒãƒ¼æ©Ÿèƒ½ï¼ˆ1H/3H/6Hï¼‰ æœ€å¤§30æ™‚é–“ç¨¼åƒ LEDãƒ©ã‚¤ãƒˆä»˜ é™éŸ³ ãƒŸã‚¹ãƒˆå™´å‡ºèª¿æ•´å¯ ç©ºç„šãé˜²æ­¢ çœã‚¨ãƒ ä¹¾ç‡¥å¯¾ç­– DG001 åºƒã•ã¯æ­£ç¾© ã¨ã„ã†ã“ã¨ã§è‰²ã€…ç´¹ä»‹ã—ã¦ãã¾ã—ãŸãŒã€å…¨ä½“çš„ã«ã¯ã“ã‚“ãªæ„Ÿã˜ã«ãªã£ã¦ã„ã¾ã™ã€‚\nå®Ÿã¯ã“ã‚Œã§æœºã®åŠåˆ†ã®ã‚¹ãƒšãƒ¼ã‚¹ãªã‚“ã§ã™ã€‚ä½¿ã£ã¦ã„ã‚‹æœºã¯ IKEA ã® LINNMON / ADILS ãƒ†ãƒ¼ãƒ–ãƒ« ã§ã™ã€‚å¥¥è¡Œã 60 cm ã§ã€æ¨ªå¹…ã¯ãªã‚“ã¨ 200 cm ï¼ ã‚ã¡ã‚ƒãã¡ã‚ƒåºƒã„ã§ã™ã€‚ãŸã ã€ã“ã“ã«å†™ã£ã¦ã„ãªã„å³åŠåˆ†ã«ã¯å¤ã„ iMac ã¨ã‹æœ¬ãŒãŠã„ã¦ã‚ã£ãŸã‚Šã€ã¡ã‚‡ã£ã¨ã—ãŸç‰©ç½®çŠ¶æ…‹ã«ãªã£ã¦ã„ã¾ã™ã€‚\nã¡ãªã¿ã«ã“ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã¯é«˜ã•ãŒèª¿ç¯€ã§ããªã„ã‚“ã§ã™ãŒã€åˆ¥å£²ã‚Šã§ OLOV ã¨ã„ã†ä¼¸ç¸®ã§ãã‚‹è„šãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ã¤ã‹ã£ã¦èª¿ç¯€ã—ã¦ã¾ã™ã€‚\nå¹…ã‚‚å¥¥è¡Œãã‚‚å¤§æº€è¶³ãªã“ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã§ã™ãŒã€å”¯ä¸€ã®å¼±ç‚¹ãŒ è»½ã• ã§ã™ã€‚æ¤…å­ã®è‚˜ç½®ããŒã‚ãŸã£ãŸã ã‘ã§ã‚‚çµæ§‹æºã‚ŒãŸã‚Šã€é•·ã„è¾ºã®æ©‹ã«æ¥µç«¯ã«é‡ãŸã„ã‚‚ã®ã‚’ã®ã›ã‚‹ã¨å°‘ã—å‚¾ã„ãŸã‚Šã™ã‚‹ã“ã¨ãŒã‚ã‚‹ã®ã§ã€å®‰å®šæ„Ÿã«é›£ã‚ã‚Šã§ã™ã€‚æœ¬å½“ã¯ãƒ¢ãƒ‹ã‚¿ãƒ¼ã‚¢ãƒ¼ãƒ ã‚’ä½¿ã£ã¦æœºä¸Šã‚’ã‚ˆã‚Šåºƒãä½¿ã„ãŸã„ã¨ã„ã†å¦„æƒ³ã‚‚ã‚ã‚‹ã‚“ã§ã™ãŒã€æœãŸã—ã¦ç«¯ã£ã“ã«è·é‡ã‚’ã‹ã‘ã¦å¤§ä¸ˆå¤«ãªã®ã‹ã€ä¸å®‰ãŒã‚ã‚Šã¾ã™ã€‚\nãã‚Œã§ã‚‚ã€åºƒã•ã¯æ­£ç¾©ã§ã™ã€‚\nLINNMON ãƒªãƒ³ãƒ¢ãƒ³ / ADILS ã‚ªãƒ‡ã‚£ãƒªã‚¹ ãƒ†ãƒ¼ãƒ–ãƒ« - ãƒ›ãƒ¯ã‚¤ãƒˆ - IKEA OLOV ã‚ªãƒ¼ãƒ­ãƒ´ è„š ä¼¸ç¸®å¼ - ãƒ–ãƒ©ãƒƒã‚¯ - IKEA ãŠã¾ã‘ ä½œæ¥­ã¨ã¯ç›´æ¥é–¢ä¿‚ã®ç„¡ã„éƒ¨åˆ†ã«ã¤ã„ã¦ã‚‚å°‘ã—ç´¹ä»‹ã—ã¾ã™ã€‚\né…ç·š ã“ã‚Œã¾ã§ã¯åºŠã«ã‚¿ãƒƒãƒ—ãŒã‚ã£ãŸã®ã§ã€ã‚ã‚‰ã‚†ã‚‹ã‚³ãƒ¼ãƒ‰ãŒåºŠã‚’é€™ã£ã¦ã„ã¾ã—ãŸã€‚ãã®ãŸã‚ã€æ¤…å­ã®è„š (ã‚³ãƒ­ã‚³ãƒ­) ã§è¸ã‚“ã ã‚Šçµ¡ã¾ã£ãŸã‚Šã™ã‚‹ã“ã¨ãŒã‚ˆãã‚ã‚Šã¾ã—ãŸã€‚å‰²ã¨ã‚ã‚ŠãŒã¡ãªå¯¾ç­–ã§ã™ãŒã€é›»æºã‚¿ãƒƒãƒ—ã‚’æœºã®è£ã«ãã£ã¤ã‘ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€ãã‚Œã‚‰ã®å•é¡Œã¯è§£æ±ºã—ã¾ã—ãŸã€‚\né›»æºã‚¿ãƒƒãƒ—è‡ªä½“ã«ã‚‚æ§˜ã€…ãªç¨®é¡ãŒã‚ã‚Šã¾ã™ãŒã€ ã‚¨ãƒ¬ã‚³ãƒ  ECT-0103BK ã¯ 10 å€‹å£ã§å„å£ã®é–“éš”ã‚‚å°‘ã—ãšã¤é•ã£ã¦ã„ã‚‹ãŸã‚ã€æ§˜ã€…ãªã‚¢ãƒ€ãƒ—ã‚¿ã®å½¢çŠ¶ãŒã‚ã£ã¦ã‚‚ã‚¿ãƒƒãƒ—ã®å£ã‚’æœ‰åŠ¹ã«ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚å£ãªã©ã«å–ã‚Šä»˜ã‘ã‚‹ãŸã‚ã®ãƒã‚¸ã‚‚ä»˜å±ã—ã¦ã„ã‚‹ã®ã§ãŠã™ã™ã‚ã§ã™ã€‚\nã‚¨ãƒ¬ã‚³ãƒ  é›»æºã‚¿ãƒƒãƒ— é›·ã‚¬ãƒ¼ãƒ‰ 10å€‹å£ ã»ã“ã‚Šã‚·ãƒ£ãƒƒã‚¿ãƒ¼ä»˜ å›ºå®š\u0026amp;åŠä¸‹å¯èƒ½ãªå›è»¢ãƒ‘ãƒ¼ãƒ„ä»˜ã 3m ãƒ–ãƒ©ãƒƒã‚¯ ECT-0103BK é›‘å¿µ ã¡ãªã¿ã«æœºã®å·¦ç«¯ã«ã¯\næ°—åˆ†ã‚’ã‚ã’ã‚‹ BGM ã‚’å†ç”Ÿã—ã¦ãã‚Œã‚‹ Amazon Echo ã„ã‚„ã—åŠ¹æœã®ã‚ã‚‹ãƒ‘ãƒƒã‚¯ãƒ³ãƒ•ãƒ©ãƒ¯ãƒ¼ã® amiibo ã“ã“ã«ç½®ãã—ã‹ãªã„ Nintendo Switch ç½®ãå ´æ‰€ã‚’å¤±ã£ãŸã‚­ãƒ¥ãƒ¼ãƒ–ãŸã¡ ãŒç½®ã‹ã‚Œã¦ã„ã¾ã™ã€‚\næœ¬æ¥ã€é›‘å¿µã§ã‚ã‚‹ã“ã‚Œã‚‰ã®ã‚‚ã®ã¯è¦–ç•Œã«å…¥ã‚‰ãªã„å ´æ‰€ã«ç½®ãã»ã†ãŒè‰¯ã„ã¨æ€ã„ã¾ã™ãŒã€å€‹äººçš„ã«ã¯å°‘ã—éŠã³ãŒã‚ã‚‹ãã‚‰ã„ã®ã»ã†ãŒé›†ä¸­ã§ãã‚‹æ°—ãŒã—ã¦ã¾ã™ã€‚\nä½™è«‡ã§ã™ãŒã€ã“ã®å¤–å‡ºè‡ªç²›æœŸé–“ã«ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¼ãƒ–å§‹ã‚ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿå®¤å†…ã§ã§ãã‚‹è¶£å‘³ã¨ã—ã¦éå¸¸ã«ãŠã™ã™ã‚ã§ã™ã€‚æ°—ä»˜ã„ãŸã‚‰æ•°æ™‚é–“æº¶ã‘ã¦ã‚‹ã“ã¨ã‚‚ã‚¶ãƒ©ã«ã‚ã‚Šã¾ã™ã€‚\nã¾ã¨ã‚ ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ãŒå§‹ã¾ã£ã¦ 1 ãƒ¶æœˆãŒéãã€ãªã‚“ã¨ãªãè½ã¡ç€ã„ãŸä½œæ¥­ç’°å¢ƒã«ã¤ã„ã¦ã®è©±ã§ã—ãŸã€‚\nä¸€é€šã‚Šã¯ã‚¢ã‚¤ãƒ†ãƒ ãŒæ•´ã£ãŸæ„Ÿã˜ã§ã™ãŒã€è¿½åŠ ã™ã‚‹ã¨ãªã‚‹ã¨ Web ã‚«ãƒ¡ãƒ©ã§ã™ã‹ã­ã€‚ç¾çŠ¶ã¯å³å´ã«ç½®ã„ã¦ã„ã‚‹ MacBook Pro ã®ã‚«ãƒ¡ãƒ©ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ãŒã€ã©ã†ã—ã¦ã‚‚ç›®ç·šãŒé•ã†æ–¹å‘ã‚’å‘ãã“ã¨ã«ãªã‚Šã¾ã™ã€‚ã¾ã‚ã€å¿…ãšã—ã‚‚ã‚«ãƒ¡ãƒ©ç›®ç·šã«ãªã‚‹å¿…è¦ã¯ãªã„ã¨æ€ã†ã®ã§ã“ã®çŠ¶æ…‹ã§éã”ã—ã¦ã„ã¾ã™ãŒã€æ¬¡ã®èª²é‡‘ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ãã“ã‹ãªã¨æ€ã„ã¾ã™ã€‚\nè‰²ã€…ç´¹ä»‹ã—ã¾ã—ãŸãŒã€ä¸€ç•ªå¤§äº‹ãªã®ã¯æ¤…å­ã‹ãªã¨ã€‚è§¦ã‚Œã¦ã„ã‚‹æ™‚é–“ãŒä¸€ç•ªé•·ã„ã€ã•ã‚‰ã«ç‰¹æ®Šãªå ´åˆ1 ã‚’è¦—ã„ã¦ç„¡ã„ã¨ä½œæ¥­ã§ããªã„ãã‚‰ã„å¤§äº‹ãªã‚¢ã‚¤ãƒ†ãƒ ã§ã™ã€‚æ§˜ã€…ãªç¨®é¡ã®æ¤…å­ãŒã‚ã‚Šå€¤æ®µã‚‚ãƒ”ãƒ³ã‚­ãƒªã§ã™ãŒã€è‡ªåˆ†ã«åˆã†ä¸€å“ã‚’è¦‹ã¤ã‘ã¦å¿«é©ãªç€åº§ç’°å¢ƒã‚’ã‚²ãƒƒãƒˆã—ã¦ã‚‚ã‚‰ã„ãŸã„ã§ã™ã€‚å½¢çŠ¶ã¯æ§˜ã€…ã§ã™ãŒã€ã‚¢ãƒ¼ãƒ ãƒ¬ã‚¹ãƒˆã¯ã‚ã£ãŸã»ã†ãŒã„ã„ã§ã™ã€‚æ¤…å­ã®æ˜‡é™ã«åŠ ãˆã¦ã€ã‚¢ãƒ¼ãƒ ãƒ¬ã‚¹ãƒˆå˜ä½“ã§ã®æ˜‡é™ã‚‚ã‚ã‚‹ã¨ãªãŠè‰¯ã„ã§ã™ã€‚\nå€‹äººçš„ã«ä»–äººã®ä½œæ¥­ç’°å¢ƒã‚’è¦‹ã‚‹ã®ãŒå¥½ããªã®ã§ã€ã“ã®æ©Ÿä¼šã«ã“ã‚“ãªè¨˜äº‹ãŒãŸãã•ã‚“å‡ºã¦ãã‚‹ã¨æ¥½ã—ã„ãªã¨æ€ã£ã¦ã¾ã™ã€‚\nç«‹ã£ãŸçŠ¶æ…‹ã€ã¾ãŸã¯å¯è»¢ã‚“ã çŠ¶æ…‹\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n",
    "permalink": "https://michimani.net/post/gadget-for-remote-work-tele-work/",
    "title": "ä¸€èˆ¬çš„ãªã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã—ã¦ãã‚Œã£ã½ã„ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã‚’æ•´ãˆã¦ã¿ãŸ"
  },
  {
    "contents": "Amazon CloudFront ã¯ AWS ãŒæä¾›ã—ã¦ã„ã‚‹ CDN ã‚µãƒ¼ãƒ“ã‚¹ã§ã€ AWS ç’°å¢ƒã§ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é‹ç”¨ã™ã‚‹éš›ã«åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒå¤šã„ã¨æ€ã„ã¾ã™ã€‚ã“ã®ãƒ–ãƒ­ã‚°ã®é‹ç”¨ã«ã‚‚ä½¿ç”¨ã—ã¦ã„ã‚‹ã®ã§ã™ãŒã€ãµã¨ CloudFront ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä»•æ§˜ã«ã¤ã„ã¦æ°—ã«ãªã£ãŸã®ã§ã€ã‚ã‚‰ãŸã‚ã¦èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚\næ°—ã«ãªã£ãŸãã£ã‹ã‘ã¯å…ˆæ—¥æ›¸ã„ãŸãƒ–ãƒ­ã‚°è¨˜äº‹ã§ã™ã€‚\nç›®æ¬¡ å‰æ è§¦ã‚Œã‚‹ã“ã¨ å„é …ç›®ã®æ¦‚è¦ å„é …ç›®ã®è©³ç´° Cached HTTP Methods Cache Based on Selected Request Headers Object Caching Forward Cookies Query String Forwarding and Caching ã¾ã¨ã‚ å‰æ CloudFront ã® Web Distribution ã«ãŠã„ã¦ã€ ã‚ªãƒªã‚¸ãƒ³ã« S3 ã‚’æŒ‡å®šã—ã¦ã„ã‚‹å ´åˆ ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä»•æ§˜ã«ã¤ã„ã¦è‡ªåˆ†ãªã‚Šã«ã¾ã¨ã‚ãŸã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä»¥ä¸Šã®å†…å®¹ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã¾ãŸã€ RTMP Distribution ã¾ãŸã¯ Web Distribution ã§ã‚«ã‚¹ã‚¿ãƒ ã‚ªãƒªã‚¸ãƒ³ã‚’æŒ‡å®šã—ã¦ã„ã‚‹å ´åˆã¯æŒ™å‹•ãŒå¤‰ã‚ã‚‹éƒ¨åˆ†ã‚‚ã‚ã‚‹ã®ã§ã€è©³ç´°ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nAmazon CloudFront ã¨ã¯ - Amazon CloudFront ã¡ãªã¿ã«ã€RTMP Distribution ã¯ 2020/12/31 ã§ã‚µãƒãƒ¼ãƒˆãŒçµ‚äº†ã™ã‚‹ã¿ãŸã„ã§ã™ã€‚\nAWS Developer Forums: RTMP Support Discontinuing on December 31, 2020 è§¦ã‚Œã‚‹ã“ã¨ ä»Šå›ã¯ã€ Amazon CloudFront (ä»¥ä¸‹ã€ CloudFront) ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä»•æ§˜ã«ã¤ã„ã¦èª¿ã¹ã¦ã¿ãŸå†…å®¹ã‚’ã¾ã¨ã‚ã¾ã™ã€‚å…·ä½“çš„ã«ã¯ã€ Web Distribution ã® Behavior ã®è¨­å®šç”»é¢ã§å‡ºã¦ãã‚‹é …ç›®ã®ã†ã¡ã€æ¬¡ã®é …ç›®ã«ã¤ã„ã¦ã§ã™ã€‚\nCached HTTP Methods Cache Based on Selected Request Headers Object Caching Forward Cookies Query String Forwarding and Caching è¨­å®šç”»é¢ã§ã¯ä¸‹ã®ã‚­ãƒ£ãƒ—ãƒãƒ£å†…ã§èµ¤æ ã§å›²ã£ãŸéƒ¨åˆ†ã§ã™ã€‚\nå„é …ç›®ã®æ¦‚è¦ ä¸Šã§ã‚ã’ãŸé …ç›®ã®è©³ç´°ã®å‰ã«ã€ç°¡å˜ã«ãã‚Œãã‚Œã®é …ç›®ãŒä½•ã‚’è¨­å®šã™ã‚‹é …ç›®ãªã®ã‹ã€æ¦‚è¦ã‚’ãŠã•ã‚‰ã„ã—ã¾ã™ã€‚\nCached HTTP Methods ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾è±¡ã¨ã™ã‚‹ HTTP ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nCache Based on Selected Request Headers ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã®æƒ…å ±ã‚’ã‚‚ã¨ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ã‹ã©ã†ã‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nObject Caching ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚é–“ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nForward Cookies Cookie ã‚’ã‚‚ã¨ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ã‹ã©ã†ã‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nQuery String Forwarding and Caching ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ã‚‚ã¨ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ã‹ã©ã†ã‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nå„é …ç›®ã®è©³ç´° ã§ã¯ã€å„é …ç›®ã®æŒ‡å®šå†…å®¹ã¨ä»•æ§˜ã«ã¤ã„ã¦ã¾ã¨ã‚ã¦ã„ãã¾ã™ã€‚\nCached HTTP Methods ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾è±¡ã¨ã™ã‚‹ HTTP ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒ‡å®šã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ GET ã¨ HEAD ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾è±¡ã«ãªã£ã¦ãŠã‚Šã€å¯¾è±¡ã‹ã‚‰å¤–ã™ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚\nAllowed HTTP Methods ã®æŒ‡å®šæ–¹æ³•ã«ã‚ˆã£ã¦ã€é¸æŠã§ãã‚‹ HTTP ãƒ¡ã‚½ãƒƒãƒ‰ãŒä¸‹è¨˜ã®ã‚ˆã†ã«å¤‰ã‚ã‚Šã¾ã™ã€‚\nã€ŒGET, HEADã€ã‚’æŒ‡å®šã—ãŸå ´åˆ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® GET ã¨ HEAD ã®ã¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾è±¡ã¨ãªã‚Šã¾ã™ã€‚\nã€ŒGET, HEAD, OPTIONSã€ ã¾ãŸã¯ã€ŒGET, HEAD, OPTIONS, PUT, POST, PATCH, DELETEã€ã‚’æŒ‡å®šã—ãŸå ´åˆ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® GET ã¨ HEAD ã«åŠ ãˆã¦ OPTIONS ã‚‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾è±¡ã«ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚\nCache Based on Selected Request Headers CloudFront ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã‚ªãƒªã‚¸ãƒ³ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹éš›ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã¯è€ƒæ…®ã•ã‚Œã¾ã›ã‚“ã€‚ãªã®ã§ã€ä¾‹ãˆã°ä¸‹è¨˜ã®ã‚ˆã†ã« custom-header ã«åˆ¥ã€…ã®å€¤ã‚’æŒ‡å®šã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ã‚‚ã€ ã©ã¡ã‚‰ã‹ä¸€æ–¹ã®ã¿ãŒã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã‚‹ ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nGET /get HTTP/1.1 Accept: */* Accept-Encoding: gzip, deflate Connection: keep-alive Host: httpbin.org User-Agent: HTTPie/2.0.0 custom-header: foo GET /get HTTP/1.1 Accept: */* Accept-Encoding: gzip, deflate Connection: keep-alive Host: httpbin.org User-Agent: HTTPie/2.0.0 custom-header: bar Cache Based on Selected Request Headers ã®é …ç›®ã§ã¯ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã‚’ã‚‚ã¨ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ã‹ã©ã†ã‹ã‚’ã€æ¬¡ã® 3 ã¤ã®æ–¹æ³•ã§ã—ã¦ã„ã—ã¾ã™ã€‚\nNone (Improves Cacheing) ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹éš›ã«ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã¯è€ƒæ…®ã•ã‚Œã¾ã›ã‚“ã€‚ä¸Šã§ã‚ã’ãŸä¾‹ã®é€šã‚Šã€ç‰¹å®šã®ãƒ˜ãƒƒãƒ€ã®å€¤ãŒç•°ãªã£ã¦ã„ã¦ã‚‚ã€ã©ã¡ã‚‰ã‹ (è¤‡æ•°ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒæœ‰ã‚‹å ´åˆã¯ã©ã‚Œã‹ã²ã¨ã¤) ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã“ã®æ–¹æ³•ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã™ã€‚\nWhitelist æ˜ç¤ºçš„ã«æŒ‡å®šã—ãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã®å€¤ã«åŸºã¥ã„ã¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¾ã™ã€‚ãŸã¨ãˆã°ã€ä¸Šã®ä¾‹ã§ä½¿ç”¨ã—ãŸ custom-header ã¨ã„ã†ãƒ˜ãƒƒãƒ€ã‚’ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆã§æŒ‡å®šã—ãŸå ´åˆã€ custom-header: foo ã¨ custom-header: bar ã¯åˆ¥ã€…ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã™ã€‚\nBehavior ã®è¨­å®šç”»é¢ã§ã¯ã“ã®æ–¹æ³•ã‚’æŒ‡å®šã™ã‚‹ã¨ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾è±¡ã¨ã—ãŸã„ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€åã‚’æ”¹è¡Œã§åŒºåˆ‡ã£ã¦æŒ‡å®šã—ã¾ã™ã€‚\nCloudFront ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã„ãã¤ã‹ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã‚’ã‚ªãƒªã‚¸ãƒ³ã«è»¢é€ã—ã¾ã™ãŒã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾è±¡ã¨ãªã‚‹ã®ã¯ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆã§æŒ‡å®šã—ãŸãƒ˜ãƒƒãƒ€ã®ã¿ã§ã™ã€‚ã¾ãŸã€ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆã«æŒ‡å®šã§ãã‚‹ãƒ˜ãƒƒãƒ€ã®ä¸Šé™ã¯ã€ 10 ã¨ãªã£ã¦ã„ã¾ã™ã€‚ã“ã®æ•°ã‚’è¶…ãˆã¦æŒ‡å®šã—ãŸã„å ´åˆã¯ã€ã‚¯ã‚©ãƒ¼ã‚¿ã®å¼•ãä¸Šã’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã‚¯ã‚©ãƒ¼ã‚¿ - Amazon CloudFront | ã‚«ã‚¹ã‚¿ãƒ ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã‚¯ã‚©ãƒ¼ã‚¿ (ã‚¦ã‚§ãƒ–ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®ã¿) All ã™ã¹ã¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã‚’ã‚ªãƒªã‚¸ãƒ³ã«è»¢é€ã—ã¾ã™ã€‚ãã®ä»£ã‚ã‚Šã€ã“ã®è¨­å®šã‚’ã—ãŸå ´åˆ CloudFront ã¯ã€ ã“ã® Behavior ã§å¯¾è±¡ã¨ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ãªã„ ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ãƒ¼ã«åŸºã¥ãã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ - Amazon CloudFront Object Caching CloudFront ãŒã‚ªãƒªã‚¸ãƒ³ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã€å†åº¦ã‚ªãƒªã‚¸ãƒ³ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è»¢é€ã™ã‚‹ã¾ã§ã®æ™‚é–“ (ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿æŒã™ã‚‹æ™‚é–“) ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã“ã“ã§æŒ‡å®šã—ãŸæ™‚é–“ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯ CloudFront ã®ã‚¨ãƒƒã‚¸ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ä¿æŒã•ã‚Œã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ãã“ã‹ã‚‰ãƒ“ãƒ¥ãƒ¼ã‚¢ã¸è¿”å´ã•ã‚Œã¾ã™ã€‚\nãŸã ã—é »ç¹ã«ã‚¢ã‚¯ã‚»ã‚¹ãŒç„¡ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«é–¢ã—ã¦ã¯ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¿æŒæ™‚é–“ã«é”ã™ã‚‹å‰ã«ã‚¨ãƒƒã‚¸ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰å‰Šé™¤ã•ã‚Œã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ 24 æ™‚é–“ (86400 ç§’) å¾Œã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æœ‰åŠ¹æœŸé™ãŒåˆ‡ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ãŒã€æ¬¡ã® 2 ã¤ã®æ–¹æ³•ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚é–“ã‚’åˆ¶å¾¡ã—ã¾ã™ã€‚\nUse Origin Cache Headers ã‚ªãƒªã‚¸ãƒ³ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«æŒ‡å®šã•ã‚Œã¦ã„ã‚‹ Cache-Control: max-age ã¾ãŸã¯ Cache-Control: s-maxage ã¾ãŸã¯ Expires ãƒ˜ãƒƒãƒ€ã®å€¤ã‚’ã‚‚ã¨ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚é–“ã‚’åˆ¶å¾¡ã—ã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ˜ãƒƒãƒ€ãŒã‚ªãƒªã‚¸ãƒ³ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å­˜åœ¨ã—ãªã„å ´åˆã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® 24 æ™‚é–“ ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚\nå„ãƒ˜ãƒƒãƒ€ã®æŒ‡å®šæ–¹æ³•ã®ä¾‹ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nCache-Control: max-age=3600 Cache-Control: s-maxage=3600 Expires: Thu, 30 Apr 2020 23:59:59 GMT CloudFront ã§ã¯ Cache-Control: max-age ã¨ Cache-Control: s-maxage ã‚’ä½µç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ãŸã€ Cache-Control: max-age ã¨ Expires ã‚’ä¸¡æ–¹æŒ‡å®šã—ãŸå ´åˆã€ CloudFront ã¯ Cache-Control: max-age ã®å€¤ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ æŒ™å‹•ã«ã¤ã„ã¦ã¯å¾Œè¿°ã—ã¾ã™ã€‚\nã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒã‚¨ãƒƒã‚¸ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿æŒã•ã‚Œã‚‹æœŸé–“ã®ç®¡ç† (æœ‰åŠ¹æœŸé™) - Amazon CloudFront | ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ä½¿ç”¨ã—ãŸå€‹ã€…ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¿æŒæœŸé–“ã®åˆ¶å¾¡ Customize ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ 24 æ™‚é–“ã¨ãªã£ã¦ã„ã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚é–“ã‚’ã€ æœ€å° (Minimum TTL) ã€ æœ€å¤§ (Maximum TTL) ã€ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ (Default TTL) ã® 3 ã¤ã®å€¤ã§æŒ‡å®šã—ã¾ã™ã€‚å„å€¤ãŒé©ç”¨ã•ã‚Œã‚‹æ¡ä»¶ã«ã¤ã„ã¦ã¯å¾Œè¿°ã—ã¾ã™ã€‚\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ä¿æŒæ™‚é–“ã®æŒ™å‹• å®Ÿéš›ã« CloudFront ã®ã‚¨ãƒƒã‚¸ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒä¿æŒã•ã‚Œã‚‹æ™‚é–“ã€ãŠã‚ˆã³ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¿æŒæ™‚é–“ã¯ã€ã‚ªãƒªã‚¸ãƒ³ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ˜ãƒƒãƒ€æƒ…å ±ã¨ã€Minimum/Maximum/Default ãŠã‚ˆã³ CloudFront ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ (24h = 86400sec) ã®æ¡ä»¶ã«ã‚ˆã£ã¦å¤‰ã‚ã‚Šã¾ã™ã€‚å…·ä½“çš„ã«ã¯ä¸‹è¨˜ã®æ¡ä»¶ã®çµ„ã¿åˆã‚ã›ã«ãªã‚Šã¾ã™ã€‚\nã‚ªãƒªã‚¸ãƒ³ Cache-Control: max-age ãŒå­˜åœ¨ã™ã‚‹ Cache-Control: max-age ãŒå­˜åœ¨ã—ãªã„ Cache-Control: max-age ãŠã‚ˆã³ Cache-Control: s-maxage ãŒå­˜åœ¨ã™ã‚‹ Expires ãŒå­˜åœ¨ã™ã‚‹ Cache-Control: no-cacheã€ no-store ã€ private ã®ã„ãšã‚Œã‹ãŒå­˜åœ¨ã™ã‚‹ CloludFront Minimum TTL = 0 ç§’ Minimum TTL \u0026gt; 0 ç§’ â€»è¡¨å†…ã§ã¯è¡¨è¨˜ã®éƒ½åˆä¸Šã€ Minimum TTLã€ Maximum TTL ã‚’ãã‚Œãã‚Œ MIN ã¨ MAX ã¨æ›¸ã„ã¦ã¾ã™\nã‚ªãƒªã‚¸ãƒ³ Minimum TTL = 0 Minimum TTL \u0026gt; 0 Cache-Control: max-age ã‚ã‚Š CloudFront max-age ã¨ Maximum TTL ã®å°ã•ã„æ–¹ã®å€¤ ãƒ–ãƒ©ã‚¦ã‚¶ max-age ã®å€¤ CloudFront ãƒ»MIN \u0026lt; max-age \u0026lt; MAX ã®å ´åˆ max-age ã®å€¤ ãƒ» max-age \u0026lt; MIN ã®å ´åˆ Minimum TTL ã®å€¤ ãƒ»max-age \u0026gt; MAX ã®å ´åˆ Maximum TTL ã®å€¤ ãƒ–ãƒ©ã‚¦ã‚¶ max-age ã®å€¤ Cache-Control: max-age ãªã— CloudFront Default TTL ã®å€¤ ãƒ–ãƒ©ã‚¦ã‚¶ ãƒ–ãƒ©ã‚¦ã‚¶ã«ã‚ˆã‚‹ CloudFront Default TTL ã¾ãŸã¯ Min TTL ã®ã†ã¡å¤§ãã„æ–¹ã®å€¤ ãƒ–ãƒ©ã‚¦ã‚¶ ãƒ–ãƒ©ã‚¦ã‚¶ã«ã‚ˆã‚‹ Cache-Control: max-age ãŠã‚ˆã³ Cache-Control: s-maxage ã‚ã‚Š CloudFront s-maxage ã¨ Maximum TTL ã®å°ã•ã„æ–¹ã®å€¤ ãƒ–ãƒ©ã‚¦ã‚¶ max-age ã®å€¤ CloudFront ãƒ»MIN \u0026lt; s-maxage \u0026lt; MAX ã®å ´åˆ s-maxage ã®å€¤ ãƒ» s-maxage \u0026lt; MIN ã®å ´åˆ Minimum TTL ã®å€¤ ãƒ»s-maxage \u0026gt; MAX ã®å ´åˆ Maximum TTL ã®å€¤ ãƒ–ãƒ©ã‚¦ã‚¶ max-age ã®å€¤ Expires ã‚ã‚Š CloudFront Expires ã®æ—¥ä»˜ã¨ Maximum TTL ã«å¯¾å¿œã™ã‚‹æ—¥ä»˜ã®æ—©ã„æ–¹ã®æ—¥ä»˜ã¾ã§ ãƒ–ãƒ©ã‚¦ã‚¶ Expires ã®æ—¥ä»˜ã¾ã§ CloudFront ãƒ»MIN \u0026lt; Expires \u0026lt; MAX ã®å ´åˆ Expires ã®æ—¥ä»˜ã¾ã§ ãƒ» Expires \u0026lt; MIN ã®å ´åˆ Minimum TTL ã«å¯¾å¿œã™ã‚‹æ—¥ä»˜ã¾ã§ ãƒ»Expires \u0026gt; MAX ã®å ´åˆ Maximum TTL ã®å€¤ã«å¯¾å¿œã™ã‚‹æ—¥ä»˜ã¾ã§ ãƒ–ãƒ©ã‚¦ã‚¶ Expires ã®æ—¥ä»˜ã¾ã§ Cache-Control: no-cacheã€ no-store ã€ private ã®ã„ãšã‚Œã‹ã‚ã‚Š CloudFront ãƒ˜ãƒƒãƒ€ã‚’å„ªå…ˆ ãƒ–ãƒ©ã‚¦ã‚¶ ãƒ˜ãƒƒãƒ€ã‚’å„ªå…ˆ CloudFront Minimum TTL ã®å€¤ ãƒ–ãƒ©ã‚¦ã‚¶ ãƒ˜ãƒƒãƒ€ã‚’å„ªå…ˆ ã‚ˆã‚Šè©³ç´°ãªè¡¨ã«ã¤ã„ã¦ã¯ä¸‹è¨˜å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒã‚¨ãƒƒã‚¸ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿æŒã•ã‚Œã‚‹æœŸé–“ã®ç®¡ç† (æœ‰åŠ¹æœŸé™) - Amazon CloudFront | ã‚¦ã‚§ãƒ–ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§ CloudFront ãŒã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¿æŒã™ã‚‹æœŸé–“ã®æŒ‡å®š Forward Cookies CLoudFront ã§ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã« Cookie ãŒè€ƒæ…®ã•ã‚Œã¾ã›ã‚“ã€‚ã“ã®é …ç›®ã§ã¯ã‚ªãƒªã‚¸ãƒ³ã« Cookie ã‚’è»¢é€ã—ã€ Cookie ã®å€¤ã«ã‚ˆã£ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã™ã‚‹ã‹ã©ã†ã‹ã‚’æ¬¡ã® 3 ã¤ã®æ–¹æ³•ã§æŒ‡å®šã—ã¾ã™ã€‚\nNone (Improves Caching) Cookie ã‚’ã‚ªãƒªã‚¸ãƒ³ã«è»¢é€ã›ãšã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«è€ƒæ…®ã—ã¾ã›ã‚“ã€‚ã¾ãŸã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã‹ã‚‰ Cookie ãƒ˜ãƒƒãƒ€ã‚’å‰Šé™¤ã—ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ã‹ã‚‰ Set-Cookie ãƒ˜ãƒƒãƒ€ã‚’å‰Šé™¤ã—ã¾ã™ã€‚\nWeb Distribution ã§ã¯ã‚ªãƒªã‚¸ãƒ³ã«ã‚ˆã£ã¦ Cookie ã‚’å‡¦ç†ã—ãªã„ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã‚ã‚Šã€ãã®å ´åˆã¯ã“ã®æ–¹æ³•ã‚’æŒ‡å®šã™ã‚‹ã¹ãã§ã™ã€‚ä»Šå›ã®å‰æã¨ã—ã¦ã„ã‚‹ S3 ã¯ Cookie ã‚’å‡¦ç†ã—ãªã„ãŸã‚ã€ã“ã®é …ç›®ã§ã¯ None ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nS3 ã®ä»–ã€ Cookie ã‚’å‡¦ç†ã—ãªã„ã‚ªãƒªã‚¸ãƒ³ã®å ´åˆã« None ä»¥å¤–ã‚’æŒ‡å®šã™ã‚‹ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ä½ä¸‹ã«ç¹‹ãŒã‚Šã¾ã™ã€‚\nWhitelist ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆã§æŒ‡å®šã—ãŸ Cookie ã®ã¿ã‚ªãƒªã‚¸ãƒ³ã«è»¢é€ã—ã€ãã®å€¤ã‚’ã‚‚ã¨ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä¿æŒã—ã¾ã™ã€‚æŒ‡å®šã—ãŸ Cookie ä»¥å¤–ã¯ã‚ªãƒªã‚¸ãƒ³ã¸ã®è»¢é€æ™‚ã«å‰Šé™¤ã•ã‚Œã¾ã™ã€‚ä¸€æ–¹ã€æŒ‡å®šã—ã¦ã„ãªã„ Cookie ãŒã‚ªãƒªã‚¸ãƒ³ã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å«ã¾ã‚Œã¦ã„ãŸå ´åˆã¯ã€ãã®å€¤ã‚‚å«ã‚ã¦ãƒ“ãƒ¥ãƒ¼ã‚¢ã«è¿”å´ã—ã¾ã™ã€‚\næŒ‡å®šæ–¹æ³•ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã®å ´åˆã¨åŒæ§˜ã§ã€æ”¹è¡ŒåŒºåˆ‡ã‚Šã§æŒ‡å®šã—ã¾ã™ã€‚\nAll ã™ã¹ã¦ã® Cookie ã‚’ã‚ªãƒªã‚¸ãƒ³ã«è»¢é€ã—ã€ãã®å€¤ã‚’ã‚‚ã¨ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä¿æŒã—ã¾ã™ã€‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«è€ƒæ…®ã•ã‚Œã‚‹ã®ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã«å«ã¾ã‚Œã¦ã„ãŸ Cookie ã®ã¿ã§ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã¯å«ã¾ã‚Œãšã‚ªãƒªã‚¸ãƒ³ã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã¯å«ã¾ã‚Œã‚‹ã‚ˆã†ãª Cookie ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«è€ƒæ…®ã•ã‚Œã¾ã›ã‚“ã€‚\nãƒ“ãƒ¥ãƒ¼ã‚¢ã¸ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã¯ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã‚ªãƒªã‚¸ãƒ³ã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ä¸¡æ–¹ã® Cookie ãŒã™ã¹ã¦è¿”å´ã•ã‚Œã¾ã™ã€‚\nCookie ã«åŸºã¥ãã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ - Amazon CloudFront Query String Forwarding and Caching ãƒªã‚¯ã‚¨ã‚¹ãƒˆ URL ã«å«ã¾ã‚Œã‚‹ ? ä»¥é™ã®æ–‡å­—åˆ—ã§æŒ‡å®šã•ã‚ŒãŸã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ã‚‚ã¨ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä¿æŒã™ã‚‹ã‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚æŒ‡å®šæ–¹æ³•ã¯æ¬¡ã® 3 ã§ã™ã€‚\nNone (Improves Caching) ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ã‚ªãƒªã‚¸ãƒ³ã«è»¢é€ã›ãšã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«è€ƒæ…®ã—ã¾ã›ã‚“ã€‚ã¤ã¾ã‚Šã€ä¸‹è¨˜ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã¯ã™ã¹ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã‚‹ã®ã¯ã©ã‚Œã‹ä¸€ã¤ã®ã¿ã¨ãªã‚Šã¾ã™ã€‚\n- https://michimani.net/js/bundle.js - https://michimani.net/js/bundle.js?query_param=value1 - https://michimani.net/js/bundle.js?query_param=value2 Foward all, cache based on whitelist ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆã§æŒ‡å®šã—ãŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ã¿ã‚ªãƒªã‚¸ãƒ³ã«è»¢é€ã—ã€ãã®å€¤ã‚’ã‚‚ã¨ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä¿æŒã—ã¾ã™ã€‚ä¾‹ãˆã°ä¸Šã®ä¾‹ã§ä½¿ç”¨ã—ãŸ query_param ã¨ã„ã†ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆã§æŒ‡å®šã—ãŸå ´åˆã€ä¸Šã® 3 ã¤ã¯åˆ¥ã€…ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã™ã€‚ä¸€æ–¹ã§ã€æŒ‡å®šã—ã¦ã„ãªã„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«è€ƒæ…®ã•ã‚Œãªã„ãŸã‚ã€ä¸‹è¨˜ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã™ã¹ã¦åŒä¸€ã¨ã¿ãªã•ã‚Œã¾ã™ã€‚\n- https://michimani.net/js/bundle.js - https://michimani.net/js/bundle.js?query_param_2=value1 - https://michimani.net/js/bundle.js?query_param_2=value2 ä¸‹è¨˜ã‚‚åŒä¸€ã¨ãªã‚Šã¾ã™ã€‚\n- https://michimani.net/js/bundle.js?query_param=value1\u0026amp;query_param_2=value2_1 - https://michimani.net/js/bundle.js?query_param=value1\u0026amp;query_param_2=value2_2 Foward all, cache based on all ã™ã¹ã¦ã®ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ã‚ªãƒªã‚¸ãƒ³ã«è»¢é€ã—ã€ãã®å€¤ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«è€ƒæ…®ã—ã¾ã™ã€‚\nã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã‚ˆã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ³¨æ„ç‚¹ ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã‚ˆã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã«æ³¨æ„ã—ãŸã„ã®ãŒã€ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®é †åº ã¨ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å€¤ã®å¤§æ–‡å­—/å°æ–‡å­— ã§ã™ã€‚ã“ã‚Œã‚‰ã«æ³¨æ„ã—ãªã„ã¨ã€ã‚ªãƒªã‚¸ãƒ³ã¸ã®ä¸è¦ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒç™ºç”Ÿã—ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒä½ä¸‹ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚\nãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®é †åº ä¾‹ãˆã°ä¸‹è¨˜ã® 2 ã¤ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚\n- https://michimani.net/images/2020040220492101.jpg?width=1200\u0026amp;height=900\u0026amp;color=brack - https://michimani.net/images/2020040220492101.jpg?height=900\u0026amp;color=black\u0026amp;width=1200 ã‚ªãƒªã‚¸ãƒ³ã‹ã‚‰ã™ã‚Œã°ã©ã¡ã‚‰ã‚‚ width: 1200, height: 900, color: black ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ã™ãŒã€CloudFront ã§ã¯ã“ã‚Œã‚‰ã¯åˆ¥ã€…ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ã—ã¦ä¿æŒã•ã‚Œã¾ã™ã€‚\nãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å€¤ã®å¤§æ–‡å­—/å°æ–‡å­— ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®é †åºã¨åŒæ§˜ã«ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åãŠã‚ˆã³å€¤ã®å¤§æ–‡å­—/å°æ–‡å­—ã«ã¤ã„ã¦æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚\n- https://michimani.net/images/2020040220492101.jpg?color=brack - https://michimani.net/images/2020040220492101.jpg?Color=brack - https://michimani.net/images/2020040220492101.jpg?color=Brack - https://michimani.net/images/2020040220492101.jpg?Color=Brack ã‚‚ã—ã‚ªãƒªã‚¸ãƒ³å´ã§ã¯å¤§æ–‡å­—/å°æ–‡å­—ã‚’åŒºåˆ¥ã—ã¦ã„ãªã‹ã£ãŸã¨ã—ã¦ã‚‚ã€ CloudFront ã§ã¯ä¸Šã® 4 ã¤ã¯ã™ã¹ã¦åˆ¥ã€…ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ã—ã¦ä¿å­˜ã•ã‚Œã¾ã™ã€‚\nã‚¯ã‚¨ãƒªæ–‡å­—åˆ—ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«åŸºã¥ãã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ - Amazon CloudFront ã¾ã¨ã‚ Amazon CloudFront ã«ãŠã„ã¦ã€ Web Distribution ã§ S3 ã‚’ã‚ªãƒªã‚¸ãƒ³ã«æŒ‡å®šã—ãŸéš›ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ä»•æ§˜ã«ã¤ã„ã¦ã‚ã‚‰ãŸã‚ã¦èª¿ã¹ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã“ã‚Œã¾ã§ãªã‚“ã¨ãªãæŒ‡å®šã—ã¦ã„ãŸé …ç›® (ç‰¹ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¿æŒæ™‚é–“) ã‚‚ã‚ã£ã¦ã€ã‚„ã£ã±ã‚Šå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã—ã£ã‹ã‚Šèª­ã‚€ã®ã¯å¤§äº‹ã ãªã¨æ€ã„ã¾ã—ãŸã€‚é€†ã«è¨€ãˆã°ã€ AWS ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒéå¸¸ã«å……å®Ÿã—ã¦ã„ã¦èª­ã¿ã‚„ã™ã„ã¨ã„ã†ã“ã¨ãŒè¨€ãˆã‚‹ã¨æ€ã„ã¾ã™ã€‚\nä»Šå›ã“ã‚Œã ã‘ã®å†…å®¹ã‚’ã¾ã¨ã‚ã‚‹ã®ã«çµæ§‹æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã—ãŸãŒã€ã¾ã ã¾ã è§¦ã‚Œã‚‰ã‚Œã¦ã„ãªã„å†…å®¹ã‚‚ãŸãã•ã‚“ã‚ã‚Šã¾ã™ã€‚ã‚‚ã†ç–²ã‚ŒãŸã®ã§ã“ã‚Œä»¥ä¸Šã¯æ›¸ãã¾ã›ã‚“ãŒã€ä»Šå¾Œã‚‚å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã—ã£ã‹ã‚Šèª­ã‚€ç™–ã¯ç¶šã‘ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-about-cache-spec-of-cloudfront/",
    "title": "Amazon CloudFront ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä»•æ§˜ã«ã¤ã„ã¦ã‚ã‚‰ãŸã‚ã¦èª¿ã¹ã¦ã¿ãŸ"
  },
  {
    "contents": "å®Ÿè£…ã—ãŸ API ã‚’ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰è©¦ã™éš›ã« cURL ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹æ–¹ã¯å¤šã„ã¨æ€ã„ã¾ã™ã€‚ ãŸã ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒè¤‡é›‘ã ã£ãŸã‚Šãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¦‹ã¥ã‚‰ã‹ã£ãŸã‚Šã€ä¸ä¾¿ã•ã‚’æ„Ÿã˜ã¦ã„ã‚‹æ–¹ã‚‚ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚ã¾ã‚ã€åƒ•ãªã‚“ã§ã™ãŒã€‚ä»Šå›ç´¹ä»‹ã™ã‚‹ HTTPie ã¯ã€ç›´æ„Ÿçš„ã§ã‚ã‹ã‚Šã‚„ã™ã„ã‚³ãƒãƒ³ãƒ‰ã§ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ http ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚\nç›®æ¬¡ HTTPie ã¨ã¯ å®Ÿéš›ã«ä½¿ã£ã¦ã¿ã‚‹ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« GET ãƒªã‚¯ã‚¨ã‚¹ãƒˆ GET ä»¥å¤–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»˜ããƒªã‚¯ã‚¨ã‚¹ãƒˆ ãƒ˜ãƒƒãƒ€æƒ…å ±ã®ä»˜ä¸ https:// ã®çœç•¥ å‡ºåŠ›ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ãã®ä»–ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ã¾ã¨ã‚ HTTPie ã¨ã¯ cURL ã¯ HTTP ä»¥å¤–ã«ã‚‚ FTP ã‚„ TELNET, LDAP ãªã©ã€æ§˜ã€…ãªãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«å¯¾å¿œã—ã¦ã„ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ä¸€æ–¹ã€ä»Šå›ç´¹ä»‹ã™ã‚‹ HTTPie (èª­ã¿æ–¹ã¯ ã‚¨ã‚¤ãƒãƒ†ã‚£ãƒ¼ãƒ†ã‚£ãƒ¼ãƒ‘ã‚¤) ã¯ã€ ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ã® HTTP ãŠã‚ˆã³ HTTPS é€šä¿¡ã«ç‰¹åŒ–ã—ãŸ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã™ã€‚\næœ€è¿‘ã§ã¯ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ API ã‚’å®Ÿè£…ã—ã¦ã€ã¡ã‚‡ã£ã¨å‹•ãã‚’ç¢ºèªã™ã‚‹ ã¿ãŸã„ãªã“ã¨ã‚‚å¢—ãˆã¦ãã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚ HTTPie ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ API ã®å‹•ä½œç¢ºèªãŒéå¸¸ã«ç›´æ„Ÿçš„ãªã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã™ã‚‹ã“ã¨ãŒã§ãã€ã¾ãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã¤ã„ã¦ã‚‚ç¢ºèªã—ã‚„ã™ã„å½¢ã§å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nHTTPie â€“ command line HTTP client ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ GitHub ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚\njakubroztocil/httpie: As easy as HTTPie /aitch-tee-tee-pie/ ğŸ¥§ Modern command line HTTP client â€“ user-friendly curl alternative with intuitive UI, JSON support, syntax highlighting, wget-like downloads, extensions, etc. https://twitter.com/clihttp å®Ÿéš›ã«ä½¿ã£ã¦ã¿ã‚‹ ã§ã¯ã€å®Ÿéš›ã« HTTPie ã‚’ä½¿ã£ã¦ã¿ã¾ã™ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« HTTPie ã¯ macOSã€ Linuxã€Windows ãŠã‚ˆã³ãã®ä»–ã® OS ã§ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nmacOS ã®å ´åˆ macOS ã§ã¯ Homebrew ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ã§ã€ã“ã®æ–¹æ³•ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚\n$ brew install httpie Linux ã®å ´åˆ Linux ã®å ´åˆã¯ã€å„ OS ã”ã¨ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã‚’ä½¿ç”¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¾‹ãˆã°ã€ Debian ã¾ãŸã¯ Ubuntu ã®å ´åˆã¯ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã€‚\n$ apt-get install httpie Windows ãŠã‚ˆã³ãã®ä»–ã® OS ã®å ´åˆ Windows ãŠã‚ˆã³ãã®ä»–ã® OS (macOSã€Linux ã‚’å«ã‚€) ã§ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€ã¾ãŸã¯å®‰å®šã—ã¦ã„ãªã„æœ€æ–°ç‰ˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å ´åˆã¯ã€ pip ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ã“ã®éš›ã€ Python ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 3.6 ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n$ pip install --upgrade pip setuptools $ pip install --upgrade httpie å®‰å®šã—ã¦ã„ãªã„æœ€æ–°ç‰ˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å ´åˆã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n$ pip install --upgrade https://github.com/jakubroztocil/httpie/archive/master.tar.gz ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã®è©³ç´°ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nHTTPie 2.0.0 (latest) documentation | Installation ãã‚Œãã‚Œã®æ–¹æ³•ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒã§ããŸã‚‰ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚\n$ http --version 1.0.3 HTTPie ã§ã¯ http ã‚³ãƒãƒ³ãƒ‰ã§è«¸ã€…ã®æ“ä½œã‚’è¡Œã„ã¾ã™ã€‚\nã§ã¯ã€æ¬¡ã‹ã‚‰ã¯å®Ÿéš›ã« http ã‚³ãƒãƒ³ãƒ‰ä½¿ç”¨æ–¹æ³•ã‚„ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ã¤ã„ã¦è¦‹ã¦ã„ãã¾ã™ã€‚\nãªãŠã€ã“ã®ãƒ–ãƒ­ã‚°å†…ã§ã¯ã‚¢ã‚¯ã‚»ã‚¹å…ˆã« https://httpbin.org ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’åˆ©ç”¨ã—ã¾ã™ã€‚ã“ã‚Œã¯ HTTPie å…¬å¼ã®ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚ HTTPie ã§ã¯ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§å‹•ä½œã‚’ç¢ºèªã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã‚‚å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã›ãšã«è©¦ã—ãŸã„æ–¹ã¯ä¸‹è¨˜ã®ãƒ„ãƒ¼ãƒ«ã‚’åˆ©ç”¨ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nHTTPie demo GET ãƒªã‚¯ã‚¨ã‚¹ãƒˆ ã§ã¯ã¾ãšã¯ GET ã§ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚\n$ http https://httpbin.org/get ã“ã‚Œã ã‘ã§ã™ã€‚ç°¡å˜ã§ã™ã­ã€‚\nã¡ãªã¿ã«ã€å®Ÿè¡Œçµæœã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ç‰¹ã«ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ãŸã‚Šã—ãªãã¦ã‚‚ã€ã‚«ãƒ©ãƒ¼ãƒªãƒ³ã‚°ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒ JSON ã®å ´åˆã¯æ•´å½¢ã‚‚ã•ã‚Œã¾ã™ã€‚\nGET ä»¥å¤–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ GET ä»¥å¤–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã™ã‚‹å ´åˆã¯ã€ http ã‚³ãƒãƒ³ãƒ‰ã«ç¶šã„ã¦ä½¿ç”¨ã—ãŸã„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒ‡å®šã—ã¾ã™ã€‚ä¾‹ãˆã° POST ã§ã‚ã‚Œã°ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n$ http POST https://httpbin.org/post åŒã˜è¦é ˜ã§ã€ PUT , PATCH , DELETE ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ãã‚Œãã‚Œã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚‚ã¡ã‚ã‚“ GET ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚\nãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»˜ããƒªã‚¯ã‚¨ã‚¹ãƒˆ ç¶šã„ã¦ã¯ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ¸¡ã™å ´åˆã®ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚\nã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ¸¡ã™å ´åˆã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n$ http https://httpbin.org/get qp1==1 qp2==2 ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åã¨å€¤ã‚’ == ã§ç¹‹ã„ã§è¨˜è¿°ã—ã¾ã™ã€‚ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã¯ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã¨åŒã˜æ„å‘³ã«ãªã‚Šã¾ã™ã€‚\n$ http \u0026#39;https://httpbin.org/get?qp1=1\u0026amp;qp2=2\u0026#39; ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ POST æ™‚ãªã© body ã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å«ã‚ãŸã„å ´åˆã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n$ http POST https://httpbin.org/post data1=value1 data2=value2 ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã¨å€¤ã‚’ = ã§ç¹‹ã„ã§è¨˜è¿°ã—ã¾ã™ã€‚ã“ã®å ´åˆã€ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã—ãŸã“ã¨ã«ãªã‚Šã¾ã™ã€‚\n{ \u0026#34;data1\u0026#34;: \u0026#34;value1\u0026#34;, \u0026#34;data2\u0026#34;: \u0026#34;value2\u0026#34; } å˜ç´”ãªæ–‡å­—åˆ—ã§ã‚ã‚Œã°ä¸Šè¨˜ã®æ–¹æ³•ã§å•é¡Œãªã„ã§ã™ãŒã€ æ–‡å­—åˆ— (String) ã§ã¯ãªã æ•°å€¤ (Number) ã¨ã—ã¦æ¸¡ã—ãŸã„å ´åˆã‚„ çœŸå½å€¤ (Boolean) ã¾ãŸã¯ã€ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ (Object) ã‚„ é…åˆ— (Array) ã‚’å€¤ã¨ã—ã¦æŒ‡å®šã—ãŸã„ç”»é¢ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚ä¾‹ãˆã°ã€ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã—ãŸã„å ´åˆã‚’è€ƒãˆã¾ã™ã€‚\n{ \u0026#34;data1\u0026#34;: \u0026#34;value1\u0026#34;, \u0026#34;data2\u0026#34;: \u0026#34;value2\u0026#34;, \u0026#34;data3\u0026#34;: 3, \u0026#34;data4\u0026#34;: { \u0026#34;data4_1\u0026#34;: \u0026#34;value4_1\u0026#34;, \u0026#34;data4_2\u0026#34;: 42 }, \u0026#34;data5\u0026#34;: [ \u0026#34;data5_1\u0026#34;, \u0026#34;data5_2\u0026#34;, \u0026#34;data5_3\u0026#34; ] } ã“ã®å ´åˆã¯ã€ = ã®ä»£ã‚ã‚Šã« := ã‚’ä½¿ç”¨ã—ã¦æ¬¡ã®ã‚ˆã†ãªå½¢ã§å®Ÿè¡Œã—ã¾ã™ã€‚ (é©å®œæ”¹è¡Œã—ã¦ã„ã¾ã™)\n$ http POST https://httpbin.org/post \\ data1=value1 \\ data2=value2 \\ data3:=3 \\ data4:=\u0026#39;{\u0026#34;data4_1\u0026#34;: \u0026#34;value4_1\u0026#34;,\u0026#34;data4_2\u0026#34;: 42}\u0026#39; \\ data5:=\u0026#39;[\u0026#34;data5_1\u0026#34;,\u0026#34;data5_2\u0026#34;,\u0026#34;data5_3\u0026#34;]\u0026#39; ã¾ãŸã€ã™ã§ã«ä¸Šè¨˜ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿ã‚’ JSON ãƒ•ã‚¡ã‚¤ãƒ« post_data.json ã¨ã—ã¦ä¿å­˜ã—ã¦ã‚‹å ´åˆã€ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚\n$ http POST https://httpbin.org/post @post_data.json ãƒ‡ãƒ¼ã‚¿å…¨ä½“ã§ã¯ãªãã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã‚’æŒ‡å®šã—ã¦ã€å€¤ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚\n$ http POST https://httpbin.org/post data1:=@post_data_1.json ãƒ˜ãƒƒãƒ€æƒ…å ±ã®ä»˜ä¸ ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã®ä»˜ä¸ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªå½¢ã§å®Ÿè¡Œã—ã¾ã™ã€‚\n$ http https://httpbin.org/get any-header:value-for-header ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æŒ‡å®šã¨åŒã˜ã‚ˆã†ãªå½¢ã§ã™ãŒã€ãƒ˜ãƒƒãƒ€æƒ…å ±ã‚’æŒ‡å®šã™ã‚‹å ´åˆã¯ : ã§ãƒ˜ãƒƒãƒ€åã¨å€¤ã‚’ç¹‹ã„ã§è¨˜è¿°ã—ã¾ã™ã€‚ã‚‚ã¡ã‚ã‚“ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æŒ‡å®šã¨ä¸€ç·’ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚\n$ http POST https://httpbin.org/post data1=value1 data2=value2 any-header:value-for-header AWS ã® API Gateway ã§ API ã‚­ãƒ¼ã‚’ä½¿ç”¨ã—ãŸ API ã‚’å®Ÿè¡Œã™ã‚‹å ´åˆã¯ X-Api-Key ãƒ˜ãƒƒãƒ€ã§ API ã‚­ãƒ¼ã‚’æŒ‡å®šã™ã‚‹ã®ã§ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n$ http https://httpbin.org/get x-api-key:api-key-value https:// ã®çœç•¥ ã“ã‚Œã¾ã§ã‚¢ã‚¯ã‚»ã‚¹å…ˆã® URL ã¯ https:// ã‚’ä»˜ã‘ã¦ã„ã¾ã—ãŸãŒã€ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒ‰ãƒ¡ã‚¤ãƒ³åã‹ã‚‰ã®æŒ‡å®šã‚‚å¯èƒ½ã§ã™ã€‚\n$ http httpbin.org/get ãƒ—ãƒ­ãƒˆã‚³ãƒ«éƒ¨åˆ†ã®çœç•¥ã¯ cURL ã§ã‚‚å¯èƒ½ã§ã™ãŒã€ HTTPie ã§ã¯ localhost ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«çŸ­ç¸®ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n$ http : ä¾‹ãˆã° localhost:1313/get ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å ´åˆã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n$ http :1313/get å‡ºåŠ›ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒœãƒ‡ã‚£ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ãŒã€ä¸‹è¨˜ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§å‡ºåŠ›å†…å®¹ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã‚ªãƒ—ã‚·ãƒ§ãƒ³ å‡ºåŠ›å†…å®¹ --headers, -h ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ã®ã¿ --body , b ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒœãƒ‡ã‚£ã®ã¿ --verbose, -v ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®æƒ…å ±ä¸¡æ–¹ --print , -p æŒ‡å®šã—ãŸæƒ…å ±ã®ã¿ (ä¸‹è¨˜å‚ç…§) -v ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã ã‘ã§ãªããƒªã‚¯ã‚¨ã‚¹ãƒˆã®æƒ…å ±ã‚‚åˆã‚ã›ã¦å‡ºåŠ›ã•ã‚Œã‚‹ã®ã§ã€ API ã®ãƒ‡ãƒãƒƒã‚°æ™‚ã«ã¯å½¹ã«ç«‹ã¡ãã†ã§ã™ã€‚\n--print ã¾ãŸã¯ -p ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹å ´åˆã¯ã€åˆã‚ã›ã¦ä¸‹è¨˜ã®å€¤ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€å¿…è¦ãªæƒ…å ±ã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã—ã¦å‡ºåŠ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\næŒ‡å®šã™ã‚‹å€¤ å‡ºåŠ›å†…å®¹ H ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ B ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ h ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ b ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒœãƒ‡ã‚£ ä¾‹ãˆã°ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ã®ã¿å‡ºåŠ›ã—ãŸã„å ´åˆã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n$ http -p Hh https://httpbin.org/get ãã®ä»–ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ä¸Šè¨˜ã®å†…å®¹ã§åŸºæœ¬çš„ãª HTTP ã‚¢ã‚¯ã‚»ã‚¹ã¯å¯èƒ½ã‹ã¨æ€ã„ã¾ã™ãŒã€ä»–ã«ã‚‚ HTTPie ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªæ§˜ã€…ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚\nAuthentication Basic èªè¨¼ Digest èªè¨¼ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ ãƒ—ãƒ­ã‚­ã‚· ã‚«ã‚¹ã‚¿ãƒ  SSL è¨¼æ˜æ›¸ ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®åˆ©ç”¨ è©³ç´°ã«ã¤ã„ã¦ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŠã³ --help ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®å‡ºåŠ›ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nHTTPie 2.0.0 (latest) documentation ã¾ã¨ã‚ ç›´æ„Ÿçš„ã§ä½¿ã„ã‚„ã™ã„ http ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ HTTPie ã®ç´¹ä»‹ã§ã—ãŸã€‚\ncURL ã¨æ¯”ã¹ã¦ã€ãƒ¡ã‚½ãƒƒãƒ‰ã‚„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æŒ‡å®šãŒã‚·ãƒ³ãƒ—ãƒ«ã§ã‚ã‹ã‚Šã‚„ã™ãã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‡ºåŠ›ã‚‚ã‚«ãƒ©ãƒ¼ãƒªãƒ³ã‚°ãƒ»æ•´å½¢ã•ã‚Œã¦ã„ã¦è¦‹ã‚„ã™ã„ã¨ã„ã†ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ã® http é€šä¿¡ãŒã‹ãªã‚Šã‚„ã‚Šã‚„ã™ããªã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ç‰¹ã« API ã®ãƒ†ã‚¹ãƒˆæ™‚ã«ã¯ã€ localhost ç”¨ã®çŸ­ç¸®ã‚³ãƒãƒ³ãƒ‰ãªã©ã‚‚ã‚ã‚Šã€éå¸¸ã«ä½¿ã„ã‚„ã™ã„ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚\nå˜ç´”ãª http é€šä¿¡è©¦ã—ãŸã„ã‘ã© cURL ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã‹ã‚ˆãã‚ã‹ã‚‰ã‚“ ã¨ã„ã†æ–¹ã¯ä½¿ã£ã¦ã¿ã¦ã¯ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚\n",
    "permalink": "https://michimani.net/post/development-about-httpie-cli-of-http-client/",
    "title": "CLI ã§ http ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ãªã‚‰ HTTPie ãŒä¾¿åˆ©"
  },
  {
    "contents": "ã“ã®ãƒ–ãƒ­ã‚°ã¯é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã® Hugo ã‚’ä½¿ã£ã¦ãƒ“ãƒ«ãƒ‰ã—ã¦ã„ã¾ã™ã€‚é™çš„ã‚µã‚¤ãƒˆã®é­…åŠ›ã¨ã„ãˆã°ã€è¡¨ç¤ºã®é€Ÿã•ã§ã™ã€‚ã¾ãŸã€CloudFront ãªã©ã® CDN ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šè¡¨ç¤ºã‚¹ãƒ”ãƒ¼ãƒ‰ã‚’ä¸Šã’ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä»Šå›ã¯é™çš„ã‚µã‚¤ãƒˆã«ãŠã‘ã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã«ã¤ã„ã¦ã€å®Ÿéš›ã«ã“ã®ãƒ–ãƒ­ã‚°ã§é‹ç”¨ã—ã¦ã„ã‚‹æ–¹æ³•ã‚’ä¾‹ã«ç´¹ä»‹ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nç›®æ¬¡ å‰æ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ç¨®é¡ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ»ãƒ‡ãƒ¼ã‚¿ã®ç¨®é¡ é™çš„ã‚µã‚¤ãƒˆã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ CDN (CloudFront) ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ ã¾ã¨ã‚ å‰æ ã“ã®ãƒ–ãƒ­ã‚°ã¯ä¸‹è¨˜ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç”¨ã„ã¦ AWS ç’°å¢ƒä¸Šã§é‹ç”¨ã—ã¦ã„ã¾ã™ã€‚\nRoute 53, CloudFront (ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯) S3 (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‡ãƒ¼ã‚¿) CodePipeline, CodeBuild (è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤) ãƒ‡ãƒ—ãƒ­ã‚¤ã®è©³ç´°ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®è¨˜äº‹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ç¨®é¡ é™çš„ã‚µã‚¤ãƒˆã ã‘ã§ãªã Web ã‚µã‚¤ãƒˆã«å¯¾ã™ã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ã—ã¦ã¯ã€å¤§ããåˆ†ã‘ã¦ä¸‹è¨˜ã®äºŒç¨®é¡ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒã‚ã‚Šã¾ã™ã€‚\nã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã¯ã€ CDN ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ä»–ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã©ãŒè©²å½“ã—ã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ã—ã¦ã¯ã€ cookieã€ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã©ãŒè©²å½“ã—ã¾ã™ã€‚\nä»Šå›ã¯ä¸Šè¨˜ã®å¤§ããªåˆ†é¡ãã‚Œãã‚Œã‹ã‚‰ CDN ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ ã¨ ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ ã«ã¤ã„ã¦ã®æˆ¦ç•¥ã‚’è€ƒãˆã¦ã¿ã¾ã™ã€‚\nã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ»ãƒ‡ãƒ¼ã‚¿ã®ç¨®é¡ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ»ãƒ‡ãƒ¼ã‚¿ã«ã‚‚ä¸‹è¨˜ã®ã‚ˆã†ãªç¨®é¡ãŒã‚ã‚Šã¾ã™ã€‚\nhtml css, js ç”»åƒãƒ‡ãƒ¼ã‚¿ ãã‚Œãã‚Œã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒæ®‹ã£ã¦ã„ã‚‹ã“ã¨ã§ã€å¤ã„æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œç¶šã‘ã¦ã„ãŸã‚Šã€è¡¨ç¤ºãŒå´©ã‚Œã¦ã„ãŸã‚Šã€ãƒœã‚¿ãƒ³ãªã©ã®å‹•ä½œãŒæ­£ã—ããªã‹ã£ãŸã‚Šã¨ã„ã£ãŸã“ã¨ãŒèµ·ã“ã‚Šã¾ã™ã€‚å ´åˆã«ã‚ˆã£ã¦ã¯ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ»ãƒ‡ãƒ¼ã‚¿ã®ç¨®é¡ã«ã‚ˆã£ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã‚’å¤‰ãˆã‚‹å¿…è¦ã‚‚å‡ºã¦ãã¾ã™ã€‚\né™çš„ã‚µã‚¤ãƒˆã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ é™çš„ã‚µã‚¤ãƒˆã§ã¯ã€ãã®åã®é€šã‚Šãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ä»¥å¤–ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æƒ…å ±ãŒæ›´æ–°ã•ã‚Œã‚‹ã“ã¨ã¯ãªã„ãŸã‚ã€ã§ãã‚‹é™ã‚Šã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ©æµã‚’å—ã‘ã‚‹ã“ã¨ãŒæœ›ã¾ã—ã„ã§ã™ã€‚ãã®ãŸã‚ã€åŸºæœ¬æˆ¦ç•¥ã¨ã—ã¦ CDN ã€ ãƒ–ãƒ©ã‚¦ã‚¶ã¨ã‚‚ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚é–“ã¯é•·ãã—ã¦ãŠãã®ãŒã‚ˆã„ã§ã—ã‚‡ã†ã€‚\nãŸã ã—æ³¨æ„ã—ãŸã„ã®ã¯ã€ CDN ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯ç®¡ç†è€… (ã‚µã‚¤ãƒˆé‹å–¶è€…) å´ã§å‰Šé™¤ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ãŒã€ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯å‰Šé™¤ã§ããªã„ã¨ã„ã†ã“ã¨ã§ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯ã‚µã‚¤ãƒˆã‚’é–²è¦§ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ã®ç«¯æœ«ã«ä¿å­˜ã•ã‚Œã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã®ã§ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒªãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿæ–½ã—ã¦ã‚‚ã‚‰ã£ãŸã‚Šã€ãã®ä»–ã®æ–¹æ³•ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å‰Šé™¤ã—ã¦ã‚‚ã‚‰ã†ã‚ˆã†ãƒ¦ãƒ¼ã‚¶ã«ä¾é ¼ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã“ã‚Œã‚‰ã‚’è¸ã¾ãˆã¦ã€å®Ÿéš›ã«ã“ã®ãƒ–ãƒ­ã‚°ã§é‹ç”¨ã—ã¦ã„ã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\nCDN (CloudFront) ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ CloudFront ã§ã¯ã€ Behavior ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ (*) ã®ã¿ã§ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚é–“ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¦ã„ã¾ã™ã€‚\nMinimun TTL: 86400 (1 æ—¥) Maximum TTL: 2592000 (30 æ—¥) Default TTL: 1209600 (14 æ—¥) å„ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚é–“ã®é©ç”¨ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚ç°¡å˜ã«æ›¸ã„ã¦ãŠãã¨ã€ã‚ªãƒªã‚¸ãƒ³ã® Cache-Control ã€ Expires ãƒ˜ãƒƒãƒ€ ã®å€¤ã¨ã®é–¢ä¿‚ã§ã€ Minimum, Maximum, Default ã®å€¤ãŒã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚é–“ã¨ã—ã¦é©ç”¨ã•ã‚Œã¾ã™ã€‚\nã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒã‚¨ãƒƒã‚¸ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿æŒã•ã‚Œã‚‹æœŸé–“ã®ç®¡ç† (æœ‰åŠ¹æœŸé™) - Amazon CloudFront ã¾ãŸã€ CloudFront ã§ã¯ ã‚¯ã‚¨ãƒªæ–‡å­—åˆ—ã‚‚å«ã‚ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ã‹ã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®ãƒ–ãƒ­ã‚°ã§ã¯ c ã¨ã„ã†ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ã¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾è±¡ã¨ã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ã„ã¾ã™ã€‚å…·ä½“çš„ã«ã¯ Query String Forwarding and Caching ã®é …ç›®ã§ Forward all, cache based on whitelist ã‚’é¸æŠã—ã¦ã€ Query String Whitelist ã« c ã‚’å…¥åŠ›ã—ã¦ã„ã¾ã™ã€‚\nã“ã†ã™ã‚‹ã“ã¨ã§ã€ä¸‹è¨˜ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ãã‚Œãã‚Œåˆ¥ã€…ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nhttps://michimani.net/js/bundle.js https://michimani.net/js/bundle.js?c=12345 https://michimani.net/js/bundle.js?c=abcde ä¸€æ–¹ã§ã€ä»–ã®ã‚¯ã‚¨ãƒªæ–‡å­—åˆ—ã§ã¯åŒä¸€ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™ã€‚\nhttps://michimani.net/js/bundle.js?other_query=12345 https://michimani.net/js/bundle.js?other_query=abcde ã¾ãŸã€é™çš„ã‚µã‚¤ãƒˆã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ãƒ˜ãƒƒãƒ€æƒ…å ±ã‚„ Cookie ã«ã‚ˆã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®é•ã„ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹å¿…è¦ãŒãªã„ã®ã§ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã§ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ (Cache Based on Selected Request Headers) ã¨ Cookie ã§ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ (Forward Cookies) ã¯ None ã«ã—ã¦ã„ã¾ã™ã€‚\nãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã¨ã—ã¦ã€åŸºæœ¬çš„ã«ã¯ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã›ãªã„ ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä¿å­˜ã•ã›ãªã„ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã¯ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ã« Cache-Control ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å‹•ä½œã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã›ãŸããªã„å ´åˆã¯ Cache-Control: no-store ã‚’æŒ‡å®šã—ã€æ™‚é–“ã‚’æŒ‡å®šã—ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã›ã‚‹å ´åˆã¯ Cache-Control: public, max-age=31536000 ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚\nCache-Control - HTTP | MDN ã“ã®ãƒ–ãƒ­ã‚°ã§ã¯ã€ html ã¨ ãã®ä»–ã®ã‚¢ã‚»ãƒƒãƒˆ (ç”»åƒã€cssã€js) ã§ãã‚Œãã‚Œä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¦ã„ã¾ã™ã€‚\nhtml: Cache-Control: no-store ãã®ä»–: Cache-Control: public, max-age=1209600 ã‚ªãƒªã‚¸ãƒ³ã«å¯¾ã—ã¦ max-age ã‚’æŒ‡å®šã™ã‚‹å ´åˆã€ å‰è¿°ã—ãŸ CloudFront ã® Minimum, Maximum, Default ã®å€¤ã¨ã®é–¢ä¿‚ã«æ³¨æ„ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚è©³ã—ãã¯ä¸‹è¨˜ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nCloudFront ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚é–“ã«é–¢ã™ã‚‹å•é¡Œã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° ãƒ‡ãƒ¼ã‚¿ã®ç¨®é¡ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ–¹æ³•ã‚’åˆ†ã‘ã‚‹ç†ç”± html ã¨ãã®ä»–ã‚¢ã‚»ãƒƒãƒˆã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ–¹æ³•ã‚’åˆ†ã‘ã¦ã„ã‚‹ã®ã¯ã€ä¸‹è¨˜ã®ç†ç”±ã‹ã‚‰ã§ã™ã€‚\nhtml (ãƒ–ãƒ­ã‚°è¨˜äº‹æœ¬æ–‡) ã®æ›´æ–°ã¯ã™ãã«åæ˜ ã•ã‚Œã¦ã»ã—ã„ ãã®ä»–ã‚¢ã‚»ãƒƒãƒˆã¯é »ç¹ã«æ›´æ–°ã•ã‚Œã‚‹ã“ã¨ãŒãªã„ ãã®ä»–ã‚¢ã‚»ãƒƒãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºãŒå¤§ãããªã‚ŠãŒã¡ html (ãƒ–ãƒ­ã‚°è¨˜äº‹æœ¬æ–‡) ã«ã¤ã„ã¦ã¯ã€èª¤å­—ãªã©ãŒã‚ã£ãŸéš›ã«ã™ãã«å¤‰æ›´ãŒåæ˜ ã•ã‚Œã¦ã»ã—ã„ã®ã§ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯ã—ãªã„ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nä¸€æ–¹ã§ãã®ä»–ã®ã‚¢ã‚»ãƒƒãƒˆé¡ã«ã¤ã„ã¦ã¯ã€ãƒ–ãƒ­ã‚°è¨˜äº‹æœ¬æ–‡ã»ã©é »ç¹ã«æ›´æ–°ãŒç™ºç”Ÿã™ã‚‹ã‚‚ã®ã§ã‚‚ãªã„ã“ã¨ã€ã¾ãŸã€ç‰¹ã«ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãªã©ã¯ã‚µã‚¤ã‚ºã‚‚å¤§ãããªã‚ŠãŒã‚Šãªã®ã§ã€è¡¨ç¤ºã®é«˜é€ŸåŒ–ã®ãŸã‚ã«ã‚‚ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nãŸã ã—ã“ã‚Œã‚‰ã‚¢ã‚»ãƒƒãƒˆé¡ã«æ›´æ–°ãŒã‚ã£ãŸéš›ã«ã¯ã€ã‚µã‚¤ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒå´©ã‚ŒãŸã‚Šå‹•ä½œãŒæ­£ã—ããªã‹ã£ãŸã‚Šã¨ã€é–²è¦§ã«æ”¯éšœã‚’ããŸã—ã¾ã™ã€‚ãã®å¯¾ç­–ã¨ã—ã¦ã€å„ã‚¢ã‚»ãƒƒãƒˆãƒ‡ãƒ¼ã‚¿ã«ã¯å…ˆè¿°ã—ãŸã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä»˜ä¸ã—ã¦ã„ã¾ã™ã€‚ã‚¢ã‚»ãƒƒãƒˆé¡ã‚’æ›´æ–°ã—ãŸéš›ã«ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å€¤ã‚‚ä¸€ç·’ã«æ›´æ–°ã™ã‚‹ã“ã¨ã§ã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯æ›´æ–°å¾Œã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã€æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nã‚ªãƒªã‚¸ãƒ³ã® Cache-Control ãƒ˜ãƒƒãƒ€è¨­å®š ã‚ªãƒªã‚¸ãƒ³ã® Cache-Control ã«ã¤ã„ã¦æ›¸ãã¾ã—ãŸãŒã€ S3 ãƒã‚±ãƒƒãƒˆã‚’ã‚ªãƒªã‚¸ãƒ³ã¨ã—ã¦æŒ‡å®šã—ã¦ã„ã‚‹å ´åˆã¯ã©ã®ã‚ˆã†ã«è¨­å®šã™ã‚Œã°ã‚ˆã„ã®ã§ã—ã‚‡ã†ã‹ã€‚\nã“ã®ãƒ–ãƒ­ã‚°ã§ã¯ Hugo ã®ãƒ“ãƒ«ãƒ‰ã¨ S3 ãƒã‚±ãƒƒãƒˆã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ CodeBuild å†…ã§å®Œçµã—ã¦ã„ã¾ã™ã€‚å®Ÿéš›ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ãª buildspec.yml ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚(ä¸€éƒ¨ãƒã‚¹ã‚¯ã—ã¦ã„ã¾ã™)\nversion: 0.2 phases: install: commands: - curl -Ls https://github.com/gohugoio/hugo/releases/download/v0.68.3/hugo_0.68.3_Linux-64bit.tar.gz -o /tmp/hugo.tar.gz - tar xf /tmp/hugo.tar.gz -C /tmp - mv /tmp/hugo /usr/bin/hugo - rm -rf /tmp/hugo* build: commands: - hugo post_build: commands: - aws s3 sync \u0026#34;public/\u0026#34; \u0026#34;s3://\u0026lt;target-bucket-name\u0026gt;\u0026#34; --delete --metadata-directive \u0026#34;REPLACE\u0026#34; --cache-control \u0026#34;public, max-age=1209600\u0026#34; --exclude \u0026#34;index.html\u0026#34; --exclude \u0026#34;post/*\u0026#34; --exclude \u0026#34;tags/*\u0026#34; --exclude \u0026#34;archives/*\u0026#34; --exclude \u0026#34;categories/*\u0026#34; --exclude \u0026#34;about/*\u0026#34; - aws s3 sync \u0026#34;public/\u0026#34; \u0026#34;s3://\u0026lt;target-bucket-name\u0026gt;\u0026#34; --delete --metadata-directive \u0026#34;REPLACE\u0026#34; --cache-control \u0026#34;no-store\u0026#34; --exclude \u0026#34;*\u0026#34; --include \u0026#34;index.html\u0026#34; --include \u0026#34;post/*\u0026#34; --include \u0026#34;tags/*\u0026#34; --include \u0026#34;archives/*\u0026#34; --include \u0026#34;categories/*\u0026#34; --include \u0026#34;about/*\u0026#34; - aws cloudfront create-invalidation --distribution-id YOUR-DISTRIBUTION-ID --paths \u0026#34;/*\u0026#34; post_build å†…ã§ 3 ã¤ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚æœ€åˆã® 2 ã¤ã¯ S3 ãƒã‚±ãƒƒãƒˆã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã§ã€ 3 ã¤ç›®ã¯ CloudFront ã® Invalidation ã‚’ä½œæˆã—ã¦ã„ã¾ã™ã€‚\nS3 ãƒã‚±ãƒƒãƒˆå†…ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦ Cache-Control ã‚’è¨­å®šã™ã‚‹ã«ã¯ s3 sync ã‚³ãƒãƒ³ãƒ‰ã® --metadata-directive ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ Cache-Control ã ã‘ã§ãªãã€ãã®ä»–ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ã‚’ä»˜ä¸ã—ãŸã„å ´åˆã«ã‚‚ä½¿ç”¨ã—ã¾ã™ã€‚\n--exclude ãŠã‚ˆã³ --include ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ S3 ãƒã‚±ãƒƒãƒˆã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ html ã¨ãã®ä»–ã‚¢ã‚»ãƒƒãƒˆé¡ã‚’åˆ¥ã€…ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã€ãã‚Œãã‚Œå…ˆè¿°ã—ãŸ Cache-Control ã‚’è¨­å®šã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nã¾ã¨ã‚ é™çš„ã‚µã‚¤ãƒˆã®ãŠã‘ã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã«ã¤ã„ã¦ã€ Hugo + AWS ã§é‹ç”¨ã—ã¦ã„ã‚‹ã“ã®ãƒ–ãƒ­ã‚°ã‚’ä¾‹ã«ã—ã¦æ›¸ã„ã¦ã¿ã¾ã—ãŸã€‚\né™çš„ã‚µã‚¤ãƒˆã ã¨ã‚·ãƒ³ãƒ—ãƒ«ã§ã™ãŒã€å‹•çš„ã‚µã‚¤ãƒˆã«ãªã‚‹ã¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã©ã‚‚è€ƒãˆã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã€ã‚ã‚‰ãŸã‚ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã£ã¦æ€–ã„ãªã¨ã„ã†ã®ãŒç‡ç›´ãªæ„Ÿæƒ³ã§ã™ã€‚\nã‚‚ã— Hugo ã‚„ãã®ä»–ã®é™çš„ã‚µã‚¤ãƒˆã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã©ã†ã—ã‚ˆã†ã‹è€ƒãˆã¦ã„ã‚‹æ–¹ãŒã„ã‚Œã°å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚ãã‚ŒãŠã‹ã—ã„ã‚„ã‚ç­‰ã®ã”æ„è¦‹ã‚‚ã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/development-cache-strategies-for-hugo/",
    "title": "[Hugo] é™çš„ã‚µã‚¤ãƒˆã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã«ã¤ã„ã¦"
  },
  {
    "contents": "AWS Resource Groups ã£ã¦çŸ¥ã£ã¦ã¾ã™ã‹ï¼Ÿç§ã¯ä»ŠæœçŸ¥ã‚Šã¾ã—ãŸã€‚èª¿ã¹ã¦ã¿ã‚‹ã¨ã€ã©ã†ã‚„ã‚‰ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ã® AWS ãƒªã‚½ãƒ¼ã‚¹ã®ç®¡ç†ã‚’å¿«é©ã«ã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚ˆã†ãªã®ã§ã€å®Ÿéš›ã«è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚\nç›®æ¬¡ AWS Resource Groups ã¨ã¯ ã‚„ã£ã¦ã¿ã‚‹ å‰æ ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆã™ã‚‹ ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ ã¾ã¨ã‚ AWS Resource Groups ã¨ã¯ AWS ãƒªã‚½ãƒ¼ã‚¹ã‚’æ•´ç†ã™ã‚‹ã«ã¯ã€ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€å¤šæ•°ã®ãƒªã‚½ãƒ¼ã‚¹ä¸Šã®ã‚¿ã‚¹ã‚¯ã‚’ä¸€åº¦ã«ç®¡ç†ãŠã‚ˆã³è‡ªå‹•åŒ–ã—ã‚„ã™ããªã‚Šã¾ã™ã€‚\nAWS ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ— ã¨ã¯? - AWS ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ— é€šå¸¸ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§å„ãƒªã‚½ãƒ¼ã‚¹ã‚’æ“ä½œ (ä½œæˆãƒ»ç·¨é›†ãƒ»é–²è¦§) ã™ã‚‹å ´åˆã€å„ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ç§»å‹•ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚å„ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§æ“ä½œã—ãŸã„ãƒªã‚½ãƒ¼ã‚¹ã‚’æ¢ã—ã¦æ“ä½œã—ã¾ã™ã€‚AWS Resource Groups ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ å„ãƒªã‚½ãƒ¼ã‚¹ã«ä»˜ä¸ã•ã‚ŒãŸã‚¿ã‚°ã«ã‚ˆã‚‹ ã‚¿ã‚°ãƒ™ãƒ¼ã‚¹ ã§ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã€ã¾ãŸã¯ AWS CloudFormation ã‚¹ã‚¿ãƒƒã‚¯ãƒ™ãƒ¼ã‚¹ ã§ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ãŒã§ãã¾ã™ã€‚ãã®çµæœã€ä¸€ã¤ã®ç”»é¢ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã•ã‚ŒãŸãƒªã‚½ãƒ¼ã‚¹ã‚’ç®¡ç†ã§ãã‚‹ã¨ã„ã†ã‚ã‘ã§ã™ã€‚\nã‚„ã£ã¦ã¿ã‚‹ ã§ã¯å®Ÿéš›ã«ã‚„ã£ã¦ã¿ã¾ã™ã€‚\nãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªç”»é¢ã«ãªã£ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚é€šå¸¸ã¯ã“ã“ã‹ã‚‰å„ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®ç§»å‹•ã—ã¦æ“ä½œã‚’ã—ã¾ã™ã€‚\nå‰æ ä»Šå›ã¯ä¾‹ã¨ã—ã¦ ã‚¿ã‚°ãƒ™ãƒ¼ã‚¹ ã§ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚ãã®ãŸã‚ã€äºˆã‚ã„ãã¤ã‹ã®ãƒªã‚½ãƒ¼ã‚¹ã«åŒã˜ã‚¿ã‚°ã§ç®¡ç†ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¾ã™ã€‚\nä»Šå›ã§ã‚ã‚Œã°ã€ Product ã¨ã„ã†ã‚¿ã‚°åã§ michimani.net ã¨ã„ã†å€¤ã‚’æŒã£ã¦ã„ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã§ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆã—ã¦ã¿ã¾ã™ã€‚\nãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆã™ã‚‹ ã¾ãšã¯ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆã—ã¾ã™ã€‚\nãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®ä¸Šéƒ¨ã«ã‚ã‚‹ ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ— ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒå‡ºã¦ãã‚‹ã®ã§ã€ ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆã—ã¾ã™ ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\nã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ¼ãƒ ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€å„é …ç›®ã‚’åŸ‹ã‚ã¦ã„ãã¾ã™ã€‚\nGroup type ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã®ã‚¿ã‚¤ãƒ—ã§ã™ã€‚ã‚¿ã‚°ãƒ™ãƒ¼ã‚¹ ã¨ CloudFkrmation ã‚¹ã‚¿ãƒƒã‚¯ãƒ™ãƒ¼ã‚¹ ã‚’é¸æŠã§ãã¾ã™ã€‚ä»Šå›ã¯ ã‚¿ã‚°ãƒ™ãƒ¼ã‚¹ã‚’é¸æŠã—ã¾ã™ã€‚\nã‚°ãƒ«ãƒ¼ãƒ—åˆ†ã‘ã®æ¡ä»¶ ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã®æ¡ä»¶ã‚’è¨­å®šã—ã¾ã™ã€‚\nãƒªã‚½ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ— ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã¨ã—ã¦ç®¡ç†ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚’é¸æŠã—ã¾ã™ã€‚ç‰¹å®šã®ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒªã‚½ãƒ¼ã‚¹ã®ã¿ã‚’ç®¡ç†ã—ãŸã„å ´åˆã¯ã€å¿…è¦ãªãƒªã‚½ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ—ã‚’å€‹åˆ¥ã«æŒ‡å®šã—ã¾ã™ã€‚ç‰¹ã«ã“ã ã‚ã‚Šãªãã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ç®¡ç†ã—ãŸã„å ´åˆã¯ ã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹ã™ã¹ã¦ã®ãƒªã‚½ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ— ã‚’é¸æŠã—ã¾ã™ã€‚\nã‚¿ã‚° ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹ãŸã‚ã®å¯¾è±¡ã¨ãªã‚‹ ã‚¿ã‚°ã‚­ãƒ¼ ã¨ ã‚¿ã‚°å€¤ ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã‚¿ã‚°ã‚­ãƒ¼ã¯å¿…é ˆã§ã™ãŒã€ã‚¿ã‚°å€¤ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ãªã£ã¦ã„ã¾ã™ã€‚ä»Šå›ã¯ ã‚¿ã‚°ã‚­ãƒ¼: Product, ã‚¿ã‚°å: michimani.net ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nã‚°ãƒ«ãƒ¼ãƒ—ãƒªã‚½ãƒ¼ã‚¹ ä½œæˆæ™‚ç‚¹ã§ã¯ä½•ã‚‚è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚\nã‚°ãƒ«ãƒ¼ãƒ—ã®è©³ç´° ä½œæˆã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã®åå‰ã¨èª¬æ˜ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³) ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\nã‚°ãƒ«ãƒ¼ãƒ—ã‚¿ã‚° - ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ä½œæˆã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—è‡ªä½“ã«ä»˜ä¸ã™ã‚‹ã‚¿ã‚°ã§ã™ã€‚ã“ã“ã§æŒ‡å®šã—ãŸã‚¿ã‚°ã¯ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã®ãƒ¡ãƒ³ãƒãƒ¼ (ãƒªã‚½ãƒ¼ã‚¹) ã«ã¯é©ç”¨ã•ã‚Œã¾ã›ã‚“ã€‚é©ç”¨ã•ã‚ŒãŸã‚‰ç›¸äº’ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã‚ˆã­ã€‚\nå„é …ç›®ã®å…¥åŠ›ãŒçµ‚ã‚ã£ãŸã‚‰ ã‚°ãƒ«ãƒ¼ãƒ—ã®ä½œæˆ ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚\nã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªå½¢ã§è¨­å®šã—ãŸãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã®æ¡ä»¶ã«è©²å½“ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ãŒä¸€è¦§ã§è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ æ—¢ã«ä½œæˆã•ã‚ŒãŸãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã¸ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ã€ä½œæˆæ™‚ã¨åŒæ§˜ã«ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®ä¸Šéƒ¨ã‹ã‚‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ã¦ã€ ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä¿å­˜ã—ã¾ã—ãŸ ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚æ—¥æœ¬èªã ã¨å¾®å¦™ãªæ–‡è¨€ã«ãªã£ã¦ã„ã¾ã™ãŒã€è‹±èªã ã¨ Saved groups ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã®ä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€å¯¾è±¡ã®ã‚°ãƒ«ãƒ¼ãƒ—åã®ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€å…ˆç¨‹ã®ãƒªã‚½ãƒ¼ã‚¹ä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nã¾ã¨ã‚ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ãƒªã‚½ãƒ¼ã‚¹ã®ç®¡ç†ãŒå¿«é©ã«ãªã‚‹ AWS Resource Groups ã‚’ä½¿ã£ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚„é‹ç”¨ã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«åˆ©ç”¨ã—ã¦ã„ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚’æ“ä½œã—ãŸããªã‚‹ã“ã¨ã¯ã‚ˆãã‚ã‚‹ã¨æ€ã†ã®ã§ã€ã„ã¡ã„ã¡ AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’è¡Œãæ¥ã™ã‚‹ã®ãŒé¢å€’ã ãªã¨æ„Ÿã˜ã¦ã„ã‚‹æ–¹ã¯è©¦ã—ã¦ã¿ã¦ã¯ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚\n",
    "permalink": "https://michimani.net/post/aws-about-resource-groups/",
    "title": "AWS Resource Groups ã‚’ä½¿ã£ã¦ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã®ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†ã‚’å¿«é©ã«ã™ã‚‹"
  },
  {
    "contents": "CloudFront ã¨ S3 ã§å…¬é–‹ã™ã‚‹é™çš„ã‚µã‚¤ãƒˆã« IP åˆ¶é™ã‚’ã‹ã‘ã‚‹ãŸã‚ã« AWS WAF ã§ WebACL ã‚’ CloudFormation ã§ä½œæˆã—ã‚ˆã†ã¨ã—ãŸã¨ã“ã‚ã€ WAF ã® v1 ã¨ v2 ã§æŒ™å‹•ãŒç•°ãªã‚‹éƒ¨åˆ†ãŒã‚ã‚Šã¾ã—ãŸã€‚ãŒã£ã¤ã‚Šãƒãƒã£ã¦è§£æ±ºã¾ã§ã«è‹¦æˆ¦ã—ãŸã®ã§ã€ä»Šå›ã¯ãã®è©±ã§ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ WAF v1 ã®å ´åˆ WAF v2 ã®å ´åˆ ã‚¹ã‚¿ãƒƒã‚¯ã®ä½œæˆ WAF v1 ã®å ´åˆ WAF v2 ã®å ´åˆ WAF v2 ã§ Scope: CLOUDFRONT ã‚’æŒ‡å®šã§ãã‚‹ã®ã¯ us-east-1 ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®ã¿ S3 ãƒã‚±ãƒƒãƒˆã¯æ±äº¬ã€ WAF WebACL ã¯ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ ã‚’ã©ã†ã«ã‹ã™ã‚‹ WAF ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¦ã€S3 \u0026#43; CloudFront ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚Œã°ã‚ˆã„ã®ã§ã¯ï¼Ÿ WAF ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã§ SSM ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã«ç™»éŒ²ã™ã‚Œã°ã‚ˆã„ã®ã§ã¯ï¼Ÿ WebACL ã® ARN ã‚’ãªã‚“ã¨ã‹ã—ã¦å–å¾—ã—ã¦ã€ S3 \u0026#43; CloudFront ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦æ¸¡ã›ã°ã‚ˆã„ã®ã§ã¯ï¼Ÿ ã¾ã¨ã‚ æ¦‚è¦ ä¸‹å›³ã®ã‚ˆã†ãªæ§‹æˆã‚’æ§‹ç¯‰ã™ã‚‹ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nã¨ã¦ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã§ã‚ã‚ŠãŒã¡ãªæ§‹æˆã§ã™ãŒã€ä¸€ç‚¹ä»Šå›ã®ãƒã‚¤ãƒ³ãƒˆã¨ã‚‚ãªã‚‹ã®ãŒã€S3 ãƒã‚±ãƒƒãƒˆã¯æ±äº¬ (ap-northeast-1) ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ä½œæˆã™ã‚‹ã¨ã„ã†ç‚¹ã§ã™ã€‚ IP åˆ¶é™ã«ã¤ã„ã¦ã¯ã€ WAF ã® IPSet ã§æŒ‡å®šã—ãŸ IP ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ãªãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆå½¢å¼ã§ã®åˆ¶é™ã‚’è€ƒãˆã¾ã™ã€‚\nã“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã€ WAF ã® WebACL ã‚’ v1 ã¨ v2 ã®ãã‚Œãã‚Œã§ä½œæˆã—ã¦ã¿ã‚ˆã†ã¨ã—ãŸã¨ã“ã‚ã€ v1 ã¨ v2 ã§æŒ™å‹•ãŒç•°ãªã‚‹éƒ¨åˆ†ãŒã‚ã‚Šã¾ã—ãŸã€‚ãã®å†…å®¹ã¨ã€è§£æ±ºæ–¹æ³•ã«ã¤ã„ã¦æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nCloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ ã§ã¯ã€ä¸Šå›³ã®æ§‹æˆã‚’æ§‹ç¯‰ã™ã‚‹ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚ CloudFront ã¨ S3 ã«ã¤ã„ã¦ã¯ WAF ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒã©ã¡ã‚‰ã§ã‚‚å¤§ããå¤‰ã‚ã‚‰ãªã„ã®ã§ã€ WAF ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹éƒ¨åˆ†ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚S3 ã¨ CloudFront ã‚‚å«ã‚ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå…¨ä½“ã«ã¤ã„ã¦ã¯ GitHub ã«ç½®ã„ã¦ã„ã‚‹ã®ã§ã€ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nmichimani/cfn-template-samples: Samples of CloudFormation template. WAF v1 ã®å ´åˆ # AWS WAF v1 WAFv1IPSet: Type: \u0026#34;AWS::WAF::IPSet\u0026#34; Properties: Name: \u0026#34;MyWAFv1IPSet\u0026#34; IPSetDescriptors: - Type: \u0026#34;IPV4\u0026#34; Value: 192.0.2.44/32 - Type: \u0026#34;IPV6\u0026#34; Value: 1111:0000:0000:0000:0000:0000:0000:0111/128 WAFv1Rule: Type: \u0026#34;AWS::WAF::Rule\u0026#34; Properties: Name: \u0026#34;MyWAFv1Rule\u0026#34; MetricName: \u0026#34;MyWAFv1RuleMetric\u0026#34; Predicates: - DataId: !Ref WAFv1IPSet Negated: false Type: \u0026#34;IPMatch\u0026#34; WAFv1WebACL: Type: \u0026#34;AWS::WAF::WebACL\u0026#34; Properties: Name: \u0026#34;MyWAFv1WebACL\u0026#34; MetricName: \u0026#34;MyWAFv1WebACLMetric\u0026#34; DefaultAction: Type: \u0026#34;BLOCK\u0026#34; Rules: - RuleId: !Ref WAFv1Rule Priority: 0 Action: Type: \u0026#34;ALLOW\u0026#34; WAF v1 ã§ã¯ IPSet ã€ Rule ã€ WebACL ã® 3 ã¤ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚IPv4 ã¨ IPv6 ã¯åŒã˜ãƒªã‚½ãƒ¼ã‚¹å†…ã§å®šç¾©ã§ãã¾ã™ã€‚\nWAF v2 ã®å ´åˆ # AWS WAF v2 WAFv2IPSet: Type: \u0026#34;AWS::WAFv2::IPSet\u0026#34; Properties: Addresses: - 192.0.2.44/32 IPAddressVersion: IPV4 Name: \u0026#34;MyWAFv2IPSet\u0026#34; Scope: \u0026#34;CLOUDFRONT\u0026#34; WAFv2IPSetV6: Type: \u0026#34;AWS::WAFv2::IPSet\u0026#34; Properties: Addresses: - 1111:0000:0000:0000:0000:0000:0000:0111/128 IPAddressVersion: IPV6 Name: \u0026#34;MyWAFv2IPSetV6\u0026#34; Scope: \u0026#34;CLOUDFRONT\u0026#34; WAFv2WebACL: Type: \u0026#34;AWS::WAFv2::WebACL\u0026#34; Properties: DefaultAction: Block: {} Name: MyWAFv2WebACLI Rules: - Name: \u0026#34;MyWAFv2WebACLRuleIPSet\u0026#34; Action: Allow: {} Priority: 0 Statement: IPSetReferenceStatement: Arn: !GetAtt WAFv2IPSet.Arn VisibilityConfig: CloudWatchMetricsEnabled: true MetricName: \u0026#34;MyWAFv2WebACLRuleIPSetMetric\u0026#34; SampledRequestsEnabled: false - Name: \u0026#34;MyWAFv2WebACLRuleIPSetV6\u0026#34; Action: Allow: {} Priority: 1 Statement: IPSetReferenceStatement: Arn: !GetAtt WAFv2IPSetV6.Arn VisibilityConfig: CloudWatchMetricsEnabled: true MetricName: \u0026#34;MyWAFv2WebACLRuleIPSetV6Metric\u0026#34; SampledRequestsEnabled: false Scope: \u0026#34;CLOUDFRONT\u0026#34; VisibilityConfig: CloudWatchMetricsEnabled: true MetricName: \u0026#34;MyWAFWebACLMetrics\u0026#34; SampledRequestsEnabled: false ä¸€æ–¹ã§ v2 ã®å ´åˆã¯ IPSet ã¨ WebACL ã® 2 ç¨®é¡ ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚ãŸã ã—ã€ IPv4 ã¨ IPv6 ã¯åˆ¥ã®ãƒªã‚½ãƒ¼ã‚¹ã¨ã—ã¦å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nç‰¹å®šã® IP ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ã¨ã„ã†åŒæ§˜ã®å‹•ä½œã‚’ã•ã›ã‚‹å ´åˆã§ã‚‚ v1 ã¨ v2 ã§ã¯ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®è¨˜è¿°æ–¹æ³•ãŒå¤§ããç•°ãªã‚Šã¾ã™ã€‚è©³ã—ãã¯ãã‚Œãã‚Œã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nWAF Resource Type Reference - AWS CloudFormation WAFv2 Resource Type Reference - AWS CloudFormation ã‚¹ã‚¿ãƒƒã‚¯ã®ä½œæˆ å†’é ­ã«æ›¸ã„ãŸã¨ãŠã‚Šã€ S3 ãƒã‚±ãƒƒãƒˆã¯æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ä½œæˆã—ãŸã„ã®ã§ã€æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã® CloudFormation ã§ã‚¹ã‚¿ãƒƒã‚¯ã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚\nWAF v1 ã®å ´åˆ WAFv1Sample ã¨ã„ã†åå‰ã§ã‚¹ã‚¿ãƒƒã‚¯ã‚’ä½œæˆã—ã¾ã™ã€‚ã—ã°ã‚‰ãã™ã‚‹ã¨ã€ç„¡äº‹ã«ãƒªã‚½ãƒ¼ã‚¹ãŒä½œæˆã•ã‚Œã¾ã—ãŸã€‚\nWAF v2 ã®å ´åˆ WAFv2Sample ã¨ã„ã†åå‰ã§ã‚¹ã‚¿ãƒƒã‚¯ã‚’ä½œæˆã—ã¾ã™ã€‚ã—ã°ã‚‰ãã™ã‚‹ã¨ã€ IPSet ã®ä½œæˆæ™‚ã«ä¸‹è¨˜ã®ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã€ãƒªã‚½ãƒ¼ã‚¹ã®ä½œæˆã«å¤±æ•—ã—ã¦ã„ã¾ã™ã€‚\nError reason: The scope is not valid., field: SCOPE_VALUE, parameter: CLOUDFRONT (Service: Wafv2, Status Code: 400, Request ID: XXXXXXXXXXXXXXXXXXXXXX)\nWAF v2 ã§ Scope: CLOUDFRONT ã‚’æŒ‡å®šã§ãã‚‹ã®ã¯ us-east-1 ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®ã¿ èª¿ã¹ã¦ã¿ã‚‹ã¨ã€ã©ã†ã‚„ã‚‰ WAF v2 ã® IPSet ã‚„ WebACL ã§å¿…é ˆã¨ãªã£ã¦ã„ã‚‹ Scope ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã« CLOUDFRONT ã‚’æŒ‡å®šã™ã‚‹å ´åˆã€ã‚¹ã‚¿ãƒƒã‚¯ã‚’ä½œæˆã™ã‚‹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¯ ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ (us-east-1) ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚AWS ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…ã«ã¯ã“ã‚Œã«é–¢ã™ã‚‹è¨˜è¿°ã‚’è¦‹ã¤ã‘ã‚‹äº‹ãŒã§ããªã‹ã£ãŸã®ã§ã™ãŒã€ AWS ã® Discussion Forums ã§ã¯ãã®è©±é¡Œã«é–¢ã™ã‚‹ã‚¹ãƒ¬ãƒƒãƒ‰ãŒã‚ã‚Šã¾ã—ãŸã€‚\nAs the scope has been set to \u0026ldquo;CLOUDFRONT\u0026rdquo;, you would need to deploy the stack using the \u0026ldquo;us-east-1\u0026rdquo; region. Otherwise, you will face the same error in any other region except the \u0026ldquo;us-east-1\u0026rdquo; region. I have tested the template you have attached, in the \u0026ldquo;us-east-1\u0026rdquo; region and it worked correctly.\nAWS Developer Forums: WAFv2 CLOUDFRONT scope in CloudFormation \u0026amp;hellip; ã¨ã„ã†ã“ã¨ã§ã€ãŠã¨ãªã—ããƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚¹ã‚¿ãƒƒã‚¯ã‚’ä½œæˆã—ãŸã¨ã“ã‚ã€ç„¡äº‹ã«ãƒªã‚½ãƒ¼ã‚¹ãŒä½œæˆã•ã‚Œã¾ã—ãŸã€‚\nS3 ãƒã‚±ãƒƒãƒˆã¯æ±äº¬ã€ WAF WebACL ã¯ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ ã‚’ã©ã†ã«ã‹ã™ã‚‹ ã§ã¯ã€ WAF v2 ã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã¯ä»Šå›ã®å½“åˆã®ç›®çš„ã§ã‚ã£ãŸ S3 ãƒã‚±ãƒƒãƒˆã¯æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ä½œæˆã™ã‚‹ ã‚’è«¦ã‚ã‚‹ã—ã‹ãªã„ã®ã§ã—ã‚‡ã†ã‹ã€‚\nWAF v2 ã® WebACL ã«é–¢ã—ã¦ã¯ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ã¾ãŸ CloudFormation ã§ä½œæˆã•ã‚Œã‚‹ãƒªã‚½ãƒ¼ã‚¹ã¯ CloudFormation ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ä¾å­˜ã™ã‚‹ã“ã¨ã‚‚è€ƒãˆã‚‹ã¨ã€åŒã˜ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã§å®šç¾©ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ãªã®ã§ã€ WAF ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã€ S3 ãŠã‚ˆã³ CloudFront ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’åˆ†ã‘ã¦ä½œæˆã—ã¾ã™ã€‚\nCloudFront ã‚’å®šç¾©ã™ã‚‹éš›ã«ã¯ WebACL ã® ARN ãŒå¿…è¦ã«ãªã‚‹ãŸã‚ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’åˆ†ã‘ã‚‹ã¨ãªã‚‹ã¨ãã®å€¤ã‚’ã©ã“ã‹ã‚‰å‚ç…§ã™ã‚‹ã‹ãŒå•é¡Œã«ãªã‚Šã¾ã™ã€‚ãã“ã§ã„ãã¤ã‹å¯¾å¿œæ–¹æ³•ã‚’è€ƒãˆãŸã®ã§ã€ãã‚Œã‚‰ã«ã¤ã„ã¦è§£èª¬ã€ã¨ã„ã†ã‹èª¿ã¹ãŸå†…å®¹ã‚’æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nWAF ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¦ã€S3 + CloudFront ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚Œã°ã‚ˆã„ã®ã§ã¯ï¼Ÿ ã„ã‚ã‚†ã‚‹ã‚¯ãƒ­ã‚¹ã‚¹ã‚¿ãƒƒã‚¯å‚ç…§ã§ã™ã­ã€‚\nãŸã ã€æ®‹å¿µãªãŒã‚‰ CloudFormation ã®ã‚¯ãƒ­ã‚¹ã‚¹ã‚¿ãƒƒã‚¯å‚ç…§ã¯åˆ¥ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚¹ã‚¿ãƒƒã‚¯ã®å‡ºåŠ›å€¤ã‚’å‚ç…§ã™ã‚‹ã“ã¨ãŒã§ããªã„ãŸã‚ã€ã“ã®æ–¹æ³•ã¯ä½¿ãˆã¾ã›ã‚“ã€‚\nãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚ãŸã‚‹ã‚¯ãƒ­ã‚¹ ã‚¹ã‚¿ãƒƒã‚¯ã®å‚ç…§ã‚’ä½œæˆã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚Fn::ImportValue çµ„ã¿è¾¼ã¿é–¢æ•°ã¯ã€åŒã˜ãƒªãƒ¼ã‚¸ãƒ§ãƒ³å†…ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸå€¤ã®ã¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ãã¾ã™ã€‚\nãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: åˆ¥ã® AWS CloudFormation ã‚¹ã‚¿ãƒƒã‚¯ã®ãƒªã‚½ãƒ¼ã‚¹å‡ºåŠ›ã‚’å‚ç…§ã™ã‚‹ - AWS CloudFormation WAF ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã§ SSM ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã«ç™»éŒ²ã™ã‚Œã°ã‚ˆã„ã®ã§ã¯ï¼Ÿ ã§ã¯ WAF ç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã§ã€SSM ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã« WebACL ã® ARN ã‚’ç™»éŒ²ã™ã‚‹æ–¹æ³•ã¯ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚CLoudFormation ã«ã¯ SSM ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã‚’å‚ç…§ã—ã¦å€¤ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ã®ã‚’ã©ã“ã‹ã§è¦‹ãŸã®ã§ã€ã„ã‘ãã†ãªæ°—ãŒã—ã¾ã™ã€‚\nã—ã‹ã—ã€æ®‹å¿µãªãŒã‚‰ SSM ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã¯ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æŒã¤ä»•æ§˜ã§ã€ã•ã‚‰ã« CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§å‚ç…§ã§ãã‚‹ã®ã¯ CloudFormation ã¨åŒã˜ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚‚ã®ã ã‘ã§ã™ã€‚ãªã®ã§ã€ã“ã®æ–¹æ³•ã‚‚ä½¿ãˆã¾ã›ã‚“ã€‚\nWebACL ã® ARN ã‚’ãªã‚“ã¨ã‹ã—ã¦å–å¾—ã—ã¦ã€ S3 + CloudFront ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦æ¸¡ã›ã°ã‚ˆã„ã®ã§ã¯ï¼Ÿ ã˜ã‚ƒã‚ã‚‚ã†ãªã‚“ã¨ã‹ã—ã¦ ARN ã‚’å–å¾—ã—ã¦ã€ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«æ¸¡ã™ã—ã‹ãªã„ã¨ã„ã†çµè«–ã«è‡³ã‚Šã¾ã—ãŸã€‚çµè«–ã‹ã‚‰è¨€ã†ã¨ã€ã“ã®æ–¹æ³•ã«è½ã¡ç€ãã¾ã—ãŸã€‚\nãŸã ã€ã“ã® ãªã‚“ã¨ã‹ã—ã¦ ã®éƒ¨åˆ†ã‚’ã§ãã‚‹ã ã‘ç°¡å˜ã«ã€äº‹æ•…ãŒãªã„ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«å·¥å¤«ã—ã¦ã¿ã¾ã—ãŸã€‚\nWAF ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ ARN ã®å€¤ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ ã¾ãšã€WAF ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ ARN ã®å€¤ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ä¸Šã§ç´¹ä»‹ã—ãŸ WAF v2 ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ä¸‹è¨˜ã®å®šç¾©ã‚’è¿½åŠ ã—ã¾ã™ã€‚\nOutputs: WAFWebACLArn: Value: !GetAtt WAFv2WebACL.Arn Export: Name: My-WAF-v2-WebACL-Arn ã“ã‚Œã§ã€ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã® CloudFormation ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒªã‚¹ãƒˆã‹ã‚‰ WebACL ã® ARN ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nAWS CLI ã§ ARN ã®æ–‡å­—åˆ—ã®ã¿ã‚’å–å¾—ã™ã‚‹ AWS CLI ã§ã¯ã€ CloudFormation ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒªã‚¹ãƒˆã‚’å–å¾—ã™ã‚‹ cloudformation list-exports ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ã‚¹ã‚¿ãƒƒã‚¯ã‹ã‚‰ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸå€¤ã®ãƒªã‚¹ãƒˆãŒå–å¾—ã§ãã¾ã™ã€‚\n$ aws cloudformation list-exports --region us-east-1 { \u0026#34;Exports\u0026#34;: [ { \u0026#34;ExportingStackId\u0026#34;: \u0026#34;arn:aws:cloudformation:us-east-1:123456789012:stack/WAFv2Sample/2e4c7420-6856-11ea-b666-XXXXXXXXXXXX\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;My-WAF-v2-WebACL-Arn\u0026#34;, \u0026#34;Value\u0026#34;: \u0026#34;arn:aws:wafv2:us-east-1:123456789012:global/webacl/MyWAFv2WebACLI/dca677c6-a3ae-4087-9397-XXXXXXXXXXXX\u0026#34; } ] } ã“ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‹ã‚‰ã€ WebACL ã®å€¤ã ã‘æŠœãå‡ºã—ã¾ã™ã€‚ä»Šå›ã§ã‚ã‚Œã°å¯¾è±¡ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå€¤ã®åå‰ã¯ My-WAF-v2-WebACL-Arn ãªã®ã§ã€ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ ARN ã®ã¿æŠœãå‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚\n$ aws cloudformation list-exports --region us-east-1 \\ | jq -r \u0026#39;.Exports[] | select (.Name==\u0026#34;My-WAF-v2-WebACL-Arn\u0026#34;) | .Value\u0026#39; arn:aws:wafv2:us-east-1:123456789012:global/webacl/MyWAFv2WebACLI/dca677c6-a3ae-4087-9397-XXXXXXXXXXXX ã“ã®å€¤ã‚’ S3 + CloudFront ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦æŒ‡å®šã—ã¾ã™ã€‚ä¸‹è¨˜ã®ã‚ˆã†ãªæ„Ÿã˜ã€‚\nParameters: WAFv2WebACLARN: Description: \u0026#34;ARN string of WAF v2 WebACL\u0026#34; Type: \u0026#34;String\u0026#34; Resources: # S3 ã€ OriginAccessIdentity éƒ¨åˆ†ã¯çœç•¥ # CloudFront CloudFrontDistribution: Type: \u0026#34;AWS::CloudFront::Distribution\u0026#34; Properties: DistributionConfig: Origins: - Id: \u0026#34;s3-for-waf-v2-origin\u0026#34; DomainName: !GetAtt \u0026#34;S3Bucket.DomainName\u0026#34; S3OriginConfig: OriginAccessIdentity: !Sub \u0026#34;origin-access-identity/cloudfront/${OriginAccessIdentiry}\u0026#34; Enabled: true DefaultCacheBehavior: TargetOriginId: \u0026#34;s3-for-waf-v2-origin\u0026#34; ViewerProtocolPolicy: \u0026#34;redirect-to-https\u0026#34; AllowedMethods: [\u0026#34;GET\u0026#34;, \u0026#34;HEAD\u0026#34;] ForwardedValues: QueryString: false WebACLId: !Ref WAFv2WebACLARN DefaultRootObject: \u0026#34;index.html\u0026#34; ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã¯ãªã AWS CLI ã§å®Ÿè¡Œã™ã‚‹å ´åˆã«ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦æ“ä½œã‚’ç°¡ç•¥åŒ–ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\n$ aws cloudformation deploy \\ --stack-name WAFv2SampleS3AndCF \\ --template-file /path/to/s3_cf_template.yml \\ --parameter-overrides WAFv2WebACLARN=$(aws cloudformation list-exports --region us-east-1 | jq -r \u0026#39;.Exports[] | select (.Name==\u0026#34;My-WAF-v2-WebACL-Arn\u0026#34;) | .Value\u0026#39;) --region ap-northeast-1 ã¾ã¨ã‚ WAF ã§ IP åˆ¶é™ã‚’å®Ÿç¾ã™ã‚‹ WebACL ã‚’ v1 ã¨ v2 ãã‚Œãã‚Œã§ä½œæˆã—ãŸã‚‰ã€ v2 ã®æŒ™å‹•ã®é•ã„ã«ãƒãƒã£ãŸè©±ã§ã—ãŸã€‚\nv1 ã ã¨ CloudFront ç”¨ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ãª WebACL ã‚’ä½œæˆã™ã‚‹å ´åˆã«ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ (us-east-1) ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚ã‚‹å¿…è¦ãŒãªã„ã®ã«ã€ v2 ã ã¨ãã“ãŒå³ã—ã„ã®ãŒè¾›ã„ã§ã™ã­ã€‚ä½•ã‹ã—ã‚‰ç†ç”±ãŒã‚ã‚‹ã®ã‹ã€ãŸã å˜ã«å¯¾å¿œã•ã‚Œã¦ãªã„ã ã‘ãªã®ã‹ã¯ã‚ã‹ã‚Šã¾ã›ã‚“ãŒã€ã¡ã‚‡ã£ã¨ä¸ä¾¿ã•ã‚’æ„Ÿã˜ãŸã®ã§ã§ãã‚Œã° v1 ã¨åŒã˜ã‚ˆã†ã« Scope: CLOUDFRONT ã‚‚ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ä»¥å¤–ã®å„ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã»ã—ã„ãªã¨æ€ã„ã¾ã™ã€‚\nä»Šå›ã¨åŒã˜ã‚ˆã†ãªçŠ¶æ³ã§åˆ¥ã®è§£æ±ºæ–¹æ³•ãŒã‚ã‚Œã°ãœã²æ•™ãˆã¦ã„ãŸã ããŸã„ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-create-web-acl-at-waf-v1-v2/",
    "title": "AWS WAF v1 ã¨ v2 ãã‚Œãã‚Œã§ WebACL ã‚’ CloudFormation ã§ä½œæˆã—ãŸã¨ãã«ãƒãƒã£ãŸè©±"
  },
  {
    "contents": "ä»¥å‰ã«ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ç”»é¢è¨­è¨ˆã‚’ã™ã‚‹æ©Ÿä¼šãŒã‚ã£ãŸã®ã§ã™ãŒã€å„ªã‚ŒãŸ UI/UX ã£ã¦ãªã‚“ã‚„ï¼Ÿ ã¨ã„ã†ç–‘å•ãŒå‡ºã¦ãã¾ã—ãŸã€‚ã“ã‚Œã¾ã§ã«ã‚‚ç®¡ç†ç”»é¢ã®æ©Ÿèƒ½è¿½åŠ ã‚„ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½¿ç”¨ã™ã‚‹ç”»é¢ã®æ”¹ä¿®ã‚’ã—ãŸçµŒé¨“ã¯ã‚ã‚Šã¾ã™ãŒã€ UI/UX ã«ã¤ã„ã¦æ·±ãè€ƒãˆãŸã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ãã‚“ãªã¨ãã« ã€Œã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ãƒ‡ã‚¶ã‚¤ãƒ³ã®ãŠç´„æŸ - å„ªã‚ŒãŸ UX ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã® 101 ã®ãƒ«ãƒ¼ãƒ«ã€ ã¨ã„ã†æ›¸ç±ã‚’è¦‹ã¤ã‘ãŸã®ã§ã€ä»Šå›ã”ç´¹ä»‹ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚\nç›®æ¬¡ æ›¸ç±ã®æ¦‚è¦ è‘—è€…ãƒ»ç¿»è¨³è€… æ›¸ç±ã®ç›®æ¬¡ å„ç« ã®æ¦‚è¦ 1 ç«  ãƒ—ãƒ­ãƒ­ãƒ¼ã‚° 2 ç«  æ–‡å­—ã¨è¨€è‘‰ 3 ç«  ã‚¢ã‚¤ã‚³ãƒ³ã‚„ãƒœã‚¿ãƒ³ 4 ç«  UI éƒ¨å“ 5 ç«  ãƒ•ã‚©ãƒ¼ãƒ  6 ç«  ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ 7 ç«  ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®æƒ…å ±æç¤º 8 ç«  ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ 9 ç«  ã‚¨ãƒ”ãƒ­ãƒ¼ã‚° ã¾ã¨ã‚ æ›¸ç±ã®æ¦‚è¦ ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ãƒ‡ã‚¶ã‚¤ãƒ³ã®ãŠç´„æŸ - å„ªã‚ŒãŸ UX ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã® 101 ã®ãƒ«ãƒ¼ãƒ«\nWeb ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã ã‘ã§ãªãã€ãƒ‡ã‚¸ã‚¿ãƒ«è£½å“ã®ãƒ‡ã‚¶ã‚¤ãƒ³ã«å½¹ç«‹ã¤æŒ‡é‡ãŒã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ãã®æ•°ã¯ 101 é …ç›®ã‚ã‚Šã¾ã™ãŒã€ã©ã‚Œã‚‚åŸºæœ¬çš„ãªå†…å®¹ã§ã€å„ªã‚ŒãŸ UX ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã¯ãœã²æŠ‘ãˆã¦ãŠããŸã„ãƒã‚¤ãƒ³ãƒˆã¨ãªã£ã¦ã„ã¾ã™ã€‚ 101 ã®ãŠç´„æŸã¯å¾Œè¿°ã™ã‚‹ 7 ã¤ã®å¤§é …ç›® (+ ã‚¨ãƒ”ãƒ­ãƒ¼ã‚°) ã§ã‚ã‘ã‚‰ã‚Œã¦ãŠã‚Šã€èˆˆå‘³ã®ã‚ã‚‹éƒ¨åˆ†ã ã‘ã‚’é¸ã‚“ã§èª­ã‚€ã“ã¨ã‚‚ã§ãã¾ã™ã€‚å„ãŠç´„æŸã¯ 1 ã€œ 2 ãƒšãƒ¼ã‚¸ã§å®Œçµã™ã‚‹ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ãŠã‚Šã€ãã‚Œãã‚Œã®èª¬æ˜ã®ã‚ã¨ã«ç®‡æ¡æ›¸ãã§ãƒã‚¤ãƒ³ãƒˆã‚’ã„ãã¤ã‹æ›¸ã‹ã‚Œã¦ã„ã‚‹ã¨ã„ã†æ§‹æˆã§ã™ã€‚ãªã®ã§ã€æ°—ã«ãªã£ãŸé …ç›®ã«é–¢ã—ã¦ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹çš„ã«ã‚‚ä½¿ã†ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚\nè‘—è€…ã® Will Grant æ°ã¯ã¾ãˆãŒãã«ã¦ ã€Œã€ã“ã‚Œã«ã¯è³›æˆã§ããªã„ã€ã¨æ€ãˆã‚‹ãƒ«ãƒ¼ãƒ«ã‚‚ã‚ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ãŒã€ãã‚Œã¯ãã‚Œã§ã‹ã¾ã‚ãªã„ã€‚ã€ ã¨ã—ã¦ãŠã‚Šã€å¿…ãšã™ã¹ã¦ã‚’å–ã‚Šè¾¼ã‚€å¿…è¦ã¯ãªã„ã“ã¨ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã—ã¦ã„ã¾ã™ã€‚\nè‘—è€…ãƒ»ç¿»è¨³è€… Will Grant è‘— æ­¦èˆåºƒå¹¸ã€æ­¦èˆã‚‹ã¿ è¨³ (æ•¬ç§°ç•¥)\næ›¸ç±ã®ç›®æ¬¡ 1 ç«  ãƒ—ãƒ­ãƒ­ãƒ¼ã‚° 2 ç«  æ–‡å­—ã¨è¨€è‘‰ 3 ç«  ã‚¢ã‚¤ã‚³ãƒ³ã‚„ãƒœã‚¿ãƒ³ 4 ç«  UI éƒ¨å“ 5 ç«  ãƒ•ã‚©ãƒ¼ãƒ  6 ç«  ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ 7 ç«  ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®æƒ…å ±æç¤º 8 ç«  ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ 9 ç«  ã‚¨ãƒ”ãƒ­ãƒ¼ã‚° å„ç« ã®æ¦‚è¦ ãã‚Œã§ã¯å„ç« ã®æ¦‚è¦ã¨ã€ã©ã®ã‚ˆã†ãª ãŠç´„æŸ ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ã®ã‹ã€å°‘ã—ã ã‘ç´¹ä»‹ã—ã¦ã„ãã¾ã™ã€‚\n1 ç«  ãƒ—ãƒ­ãƒ­ãƒ¼ã‚° ã“ã®å…ˆã®å„ç« ã‚’èª­ã¿é€²ã‚ã¦ã„ãå‰ã«ã€UX ãƒ‡ã‚¶ã‚¤ãƒ³ã«ãŠã„ã¦å¤§åˆ‡ãªã®ã¯ã€Œå…±æ„Ÿæ€§ã€ã¨ã€Œå®¢è¦³æ€§ã€ã§ã‚ã‚‹ã“ã¨ã€ã€Œå­¦ç¿’ã¨å®Ÿè·µã ã‘ã§ã¯ä¸ååˆ†ã§ã‚ã‚‹ã“ã¨ã€ã‚’å¼·èª¿ã—ã¦ã„ã¾ã™ã€‚ã¾ãŸã€ UX ãƒ‡ã‚¶ã‚¤ãƒ³ã§é‡è¦ãªã®ã¯ç”Ÿã¾ã‚ŒæŒã£ãŸæ‰èƒ½ã§ã¯ãªãã€é©åˆ‡ãªã‚³ãƒ„ã¨ãƒ«ãƒ¼ãƒ«ã‚’è¦šãˆã‚‹ã“ã¨ã§ã‚ã‚‹ã“ã¨ã ã¨è¿°ã¹ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\n2 ç«  æ–‡å­—ã¨è¨€è‘‰ æ–‡å­—ã®ãƒ•ã‚©ãƒ³ãƒˆã€å¤§ãã•ã€è‰²ã€æ–‡ç« ã®è¨€è‘‰é£ã„ã«ã¤ã„ã¦ã®ãŠç´„æŸãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚æ–‡å­—è‰²ã«é–¢ã—ã¦ã¯èƒŒæ™¯è‰²ã¨ã®é©åˆ‡ãªã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”ã«ã¤ã„ã¦æ›¸ã‹ã‚Œã¦ã„ãŸã‚Šã€ç”¨èªã®çµ±ä¸€ã«é–¢ã™ã‚‹ãŠç´„æŸã‚‚æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\næ›¸ä½“ã¯æœ€å¤šã§ã‚‚ 2 ç¨®é¡ã« è‹±èªãƒšãƒ¼ã‚¸ã§ã¯ log in ã§ã¯ãªã sign in ã‚’ä½¿ãˆ ãªã©\n3 ç«  ã‚¢ã‚¤ã‚³ãƒ³ã‚„ãƒœã‚¿ãƒ³ ã‚¢ã‚¤ã‚³ãƒ³ç”»åƒã®çµ±ä¸€ã€ãƒœã‚¿ãƒ³ã®é©åˆ‡ãªå¤§ãã•ã«ã¤ã„ã¦æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚ãŸã¾ã«ãƒœã‚¿ãƒ³ã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‚¢ã‚¤ã‚³ãƒ³ã‚„ãƒãƒ¼ã‚¯ã¨å®Ÿéš›ã®æŒ™å‹•ãŒå…¨ç„¶é•ã†ã¨ã„ã†å ´é¢ã«é­é‡ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ãŒã€ãã®ã‚ˆã†ãªã“ã¨ãŒèµ·ã“ã‚‰ãªã„ã‚ˆã†ãªãŠç´„æŸã‚‚æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nå¤ãã•ããªã£ãŸæ©Ÿå™¨ã®ã‚¢ã‚¤ã‚³ãƒ³ãªã©ä½¿ã†ãª çµµæ–‡å­—ã¯ä¸–ç•Œå…¬èªã®ã‚¢ã‚¤ã‚³ãƒ³ã‚»ãƒƒãƒˆ ãªã©\n4 ç«  UI éƒ¨å“ ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚„ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã€ãƒªãƒ³ã‚¯ã®å½¢å¼ã¨ã„ã£ãŸ UI éƒ¨å“ã«é–¢ã™ã‚‹ãŠç´„æŸãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚å„ãŠç´„æŸå†…ã§ã¯ UI éƒ¨å“ã®ã‚ã‚‹ã¹ãå§¿ã«ã¤ã„ã¦ã€ã‚ã‹ã‚Šã‚„ã™ãè§£èª¬ã•ã‚Œã¦ã„ã¾ã™ã€‚\nãƒ‡ãƒã‚¤ã‚¹ã«ã‚‚ã¨ã‚‚ã¨å‚™ã‚ã£ã¦ã„ã‚‹å…¥åŠ›æ–¹æ³•ã‚’åˆ©ç”¨ã›ã‚ˆ å¹´æœˆæ—¥ã®é¸æŠç”¨ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã¯ï¼Ÿ ãªã©\n5 ç«  ãƒ•ã‚©ãƒ¼ãƒ  æ¤œç´¢ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€ç”»åƒã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãªã©ã€ãƒ•ã‚©ãƒ¼ãƒ ã«é–¢ã™ã‚‹ãŠç´„æŸãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã«é–¢ã™ã‚‹å†…å®¹ã§ã¯ã€é›»è©±ç•ªå·ã‚„ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æƒ…å ±ãªã©å…¥åŠ›ã™ã‚‹å†…å®¹ã”ã¨ã«ãƒã‚¤ãƒ³ãƒˆãŒç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®å½¢å¼ã«é–¢ã—ã¦ã¯ã€Œå¤ªã£è…¹ã€ã§ ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ç´°ã‹ãªæ¤œè¨¼ã¯ä¸è¦ ãªã©\n6 ç«  ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã®æ–¹æ³•ã€ãƒšãƒ¼ã‚¸é·ç§»ã€ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã®æ–¹æ³•ãªã©ã«é–¢ã™ã‚‹ãŠç´„æŸãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®ç« ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã®ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å®Ÿéš›ã®æ“ä½œæ‰‹é †ãƒ»ä½“é¨“ (ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼) ã‚’ã«é‡ãã‚’ãŠã„ãŸãŠç´„æŸã¨ãªã£ã¦ã„ã¾ã™ã€‚\nåˆæœŸãƒšãƒ¼ã‚¸ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®èª¬æ˜ã®å¥½æ©Ÿ ã©ã®ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ã§ã‚‚å¸¸ã«ç¾åœ¨ä½ç½®ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ˜ç¤ºã›ã‚ˆ ãªã©\n7 ç«  ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®æƒ…å ±æç¤º æ¤œç´¢çµæœã€è¨­å®šå†…å®¹ã€é€šçŸ¥ãªã©ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¯¾ã™ã‚‹ã‚ã‚‰ã‚†ã‚‹æƒ…å ±ã®æç¤ºã«é–¢ã™ã‚‹ãŠç´„æŸãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚å¯¾è±¡ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€åˆ©ç”¨ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®åˆå¿ƒè€…ãªã®ã‹ãƒ˜ãƒ“ãƒ¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ãªã®ã‹ã€ã¨ã„ã£ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼å±æ€§ã”ã¨ã®æç¤ºæ–¹æ³•ã«ã¤ã„ã¦ã‚‚è§¦ã‚Œã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\néš ã‚ŒãŸéƒ¨åˆ†ã‚‚ãƒãƒ©ãƒƒã¨è¦‹ã›ã‚ˆ ã€Œå¼Šç¤¾ã®ãƒ“ã‚¸ãƒ§ãƒ³ã€ã«é–¢å¿ƒã®ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ãªã‚“ã¦ã„ãªã„ ãªã©\n8 ç«  ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ æœ¬æ–‡ã®èª­ã¿ä¸Šã’ã€ç”»é¢ã®æ‹¡å¤§ãƒ»ç¸®å°ã€è‰²è¦šéšœå®³è€…ã«å¯¾ã™ã‚‹é…æ…®ãªã©ã«é–¢ã™ã‚‹ãŠç´„æŸãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚ç‰¹ã« Tab ã‚­ãƒ¼ã§ã®æ“ä½œã‚„ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ©ãƒ™ãƒ«ã«é–¢ã™ã‚‹ãŠç´„æŸã¯ã€ã‚ãƒ¼ãªã‚‹ã»ã©ãªã€ã¨æ€ã„ã¾ã—ãŸã€‚\nã‚¯ãƒªãƒƒã‚¯å¯èƒ½ãªãƒªãƒ³ã‚¯ã®ãƒ†ã‚­ã‚¹ãƒˆã¯ã€Œèª­ã¿ä¸Šã’ã€æ©Ÿèƒ½ã«é…æ…®ã—ã¦ Tab ã‚­ãƒ¼ã§ã®ç§»å‹•ã®é †åºã¯æ”¯æ´æŠ€è¡“ã®åˆ©ç”¨è€…ã‚’å¿µé ­ã«ç½®ã„ã¦ ãªã©\n9 ç«  ã‚¨ãƒ”ãƒ­ãƒ¼ã‚° ã‚¨ãƒ”ãƒ­ãƒ¼ã‚°ã§ã¯ã€ã“ã‚Œã¾ã§ã®ç« ã«ã¯è©²å½“ã—ãªã„ã€ã§ã‚‚å®Ÿéš›ã«å„ªã‚ŒãŸ UX ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã¯è€ƒæ…®ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã‚ˆã†ãªå†…å®¹ã«é–¢ã™ã‚‹ãŠç´„æŸãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚å„ç« ã«è©²å½“ã—ãªã„å†…å®¹ã¨ã¯ã„ã£ã¦ã‚‚ã–ã£ãã‚Šã¨ã—ãŸæµ…ã„å†…å®¹ã«ãªã£ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªãã€ã“ã“ã§ã‚‚è©³ç´°ãªèª¬æ˜ã¨ãƒã‚¤ãƒ³ãƒˆãŒã‚ã‹ã‚Šã‚„ã™ãã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’éå°è©•ä¾¡ã™ã‚‹ãª ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ†ã‚¹ãƒˆã§ã¯æœ¬ç‰©ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å¯¾è±¡ã«ã›ã‚ˆ ãªã©\nã¾ã¨ã‚ å„ªã‚ŒãŸ UX ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã® tips ãŒã¾ã¨ã‚ã‚‰ã‚ŒãŸ ã€Œã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ãƒ‡ã‚¶ã‚¤ãƒ³ã®ãŠç´„æŸã€ã‚’èª­ã‚“ã ã®ã§ã€ãã®ç´¹ä»‹ã§ã—ãŸã€‚\nå†…å®¹ã¨ã—ã¦ã¯ã“ã‚Œã¾ã§ã«ã©ã“ã‹ã§èã„ãŸã“ã¨ãŒã‚ã£ãŸã‚Šã€æ„Ÿè¦šçš„ã«ãã†æ€ã£ã¦ã„ãŸã‚Šã™ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€ã©ã‚Œã‚‚ãµã‚“ã‚ã‚Šã¨ã—ãŸãƒ¬ãƒ™ãƒ«ã§ã®èªè­˜ã§ã—ãŸã€‚æœ¬æ›¸ã§ã¯ã€ãã†ã„ã£ãŸãªã‚“ã¨ãªãã‚ã‹ã£ã¦ã„ã‚‹å†…å®¹ã«é–¢ã—ã¦ã‚‚ã‚ã‹ã‚Šã‚„ã™ãæ•°å€¤ã‚„å›³ã‚’ç”¨ã„ã¦è§£èª¬ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€æ—¢ã«è‡ªåˆ†ã®ä¸­ã«ã‚ã‚‹ UX ã«å¯¾ã™ã‚‹è€ƒãˆæ–¹ã®åœ°ç›¤å›ºã‚ã«ã‚‚å½¹ç«‹ã¤ã¨æ€ã„ã¾ã™ã€‚\nãŸã ã—ã¾ãˆãŒãã§ç­†è€…ãŒã‚³ãƒ¡ãƒ³ãƒˆã—ã¦ã„ã‚‹ã‚ˆã†ã«ã€æœ¬æ›¸ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ãŠç´„æŸã‚’ã™ã¹ã¦éµœå‘‘ã¿ã«ã—ã¦ UX ãƒ‡ã‚¶ã‚¤ãƒ³ã€ç”»é¢è¨­è¨ˆã‚’ã™ã‚‹ã®ã§ã¯ãªãã€ã—ã£ã‹ã‚Šã¨å¯¾è±¡ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åƒã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã™ã‚‹ã“ã¨ãŒå¤§äº‹ã ã¨æ€ã„ã¾ã—ãŸã€‚ç‰¹ã«ã‚¨ãƒ”ãƒ­ãƒ¼ã‚°ã®ç« ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ†ã‚¹ãƒˆã§ã¯æœ¬ç‰©ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å¯¾è±¡ã«ã›ã‚ˆã€ã¨ã„ã†ãŠç´„æŸãŒã¾ã•ã«ãã®é€šã‚Šã§ã€å®Ÿéš›ã«ä½¿ç”¨ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒ†ã‚¹ãƒˆã‚’ã—ã¦ã‚‚ã‚‰ã£ã¦ã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ã‚‚ã‚‰ã„ã€æ”¹å–„ã‚’ã—ã¦ã„ãã¨ã„ã†æµã‚ŒãŒã€å„ªã‚ŒãŸ UX ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã¯ä¸€ç•ªå¤§äº‹ã‹ãªã¨æ€ã„ã¾ã—ãŸã€‚\nã“ã‚Œã‹ã‚‰ UX ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ã™ã‚‹æ–¹ã€ UX ãƒ‡ã‚¶ã‚¤ãƒ³ã«ã¤ã„ã¦ãªã‚“ã¨ãªãã‚„ã‚‹ã¹ãã“ã¨ã¯ã‚ã‹ã£ã¦ã„ã‚‹æ–¹ã€ ãã‚“ãªæ–¹ãŸã¡ã«ãŠã™ã™ã‚ã®ä¸€å†Šã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/bookreview-101-ux-principles/",
    "title": "[æ›¸è©•] å„ªã‚ŒãŸ UX ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã® tips ãŒè©°ã¾ã£ãŸã€Œã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ãƒ‡ã‚¶ã‚¤ãƒ³ã®ãŠç´„æŸ - å„ªã‚ŒãŸ UX ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã® 101 ã®ãƒ«ãƒ¼ãƒ«ã€ã‚’èª­ã‚“ã§ã¿ãŸ"
  },
  {
    "contents": "ä»Šæœˆã«å…¥ã£ã¦ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ãŒæœ¬æ ¼åŒ–ã—ã€ã“ã‚Œã¾ã§ä»¥ä¸Šã«ã‚»ãƒ«ãƒ•ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆãŒå¤§äº‹ãªçŠ¶æ³ã«ãªã£ã¦ãã¾ã—ãŸã€‚ä»Šå›ã¯ã€ãã®ã‚¿ã‚¤ãƒˆãƒ«ã®é€šã‚Š ã€Œãƒ¤ãƒã„é›†ä¸­åŠ›ã€ ã‚’å¾—ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ•ãƒãƒƒã‚¯ãŒè©°ã¾ã£ãŸæ›¸ç± ã€Œãƒ¤ãƒã„é›†ä¸­åŠ› - 1 æ—¥ãƒ–ãƒƒé€šã—ã§ã‚¢ã‚¿ãƒãŒå†´ãˆã‚ãŸã‚‹ç¥ãƒ©ã‚¤ãƒ•ãƒãƒƒã‚¯ 45ã€ ã‚’èª­ã‚“ã ã®ã§ã€ãã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã™ã€‚\nç›®æ¬¡ æ›¸ç±ã®æ¦‚è¦ è‘—è€… æ›¸ç±ã®ç›®æ¬¡ å„ç« ã®æ¦‚è¦ã¨æ„Ÿæƒ³ åºç«  ç£ã¨èª¿æ•™å¸« ã€œãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã‚’ 400 ï¼… å¼•ãå‡ºã™ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€œ ç¬¬ 1 ç«  é¤Œã‚’ä¸ãˆã‚‹ ã€œè„³ã®é¦¬åŠ›ã‚’é«˜ã‚ã‚‹ã‚µãƒ—ãƒªã¨é£Ÿäº‹æ³•ã€œ ç¬¬ 2 ç«  å ±é…¬ã®äºˆæ„Ÿ ã€œè„³å†…ãƒ›ãƒ«ãƒ¢ãƒ³ã‚’æ“ã‚‹ç›®æ¨™è¨­å®šã®å¥¥ç¾©ã€œ ç¬¬ 3 ç«  å„€å¼ã‚’è¡Œã† ã€œæ¯å›ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã§è¶…é›†ä¸­ãƒ¢ãƒ¼ãƒ‰ã€œ ç¬¬ 4 ç«  ç‰©èªã‚’ç·¨ã‚€ ã€œã‚»ãƒ«ãƒ•ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æ›¸ãæ›ãˆã¦ã€Œã‚„ã‚‹ã€äººé–“ã«ãªã‚‹ã€œ ç¬¬ 5 ç«  è‡ªå·±ã‚’è¦³ã‚‹ ã€œãƒã‚¤ãƒ³ãƒ‰ãƒ•ãƒ«ãƒã‚¹ã§é™ã‹ãªé›†ä¸­ã‚’å–ã‚Šæˆ»ã™ã€œ ç¬¬ 6 ç«  è«¦ã‚ã¦ã€ä¼‘ã‚€ ã€œç–²åŠ´ã¨ã‚¹ãƒˆãƒ¬ã‚¹ã‚’ç™’ã™ãƒªã‚»ãƒƒãƒˆæ³•ã€œ ãŠã‚ã‚Šã« ã¾ã¨ã‚ æ›¸ç±ã®æ¦‚è¦ æ›¸ç±ã®ã‚¿ã‚¤ãƒˆãƒ«ã®é€šã‚Šã€ã€Œãƒ¤ãƒã„é›†ä¸­åŠ›ã€ã‚’å¾—ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ•ãƒãƒƒã‚¯ãŒè©°ã¾ã£ã¦ã„ã¾ã™ã€‚\nã€Œã‚„ã‚‰ãªã‘ã‚Œã°ã„ã‘ãªã„ã‚¿ã‚¹ã‚¯ãŒã‚ã‚‹ã®ã«ã€ã¤ã„ã¤ã„ã‚¹ãƒãƒ›ã‚’æ‰‹ã«ã¨ã£ã¦ã‚²ãƒ¼ãƒ ã‚„ Twitter ã‚’è¦‹ã¦ã—ã¾ã†ã€\nã€ŒæœŸé™ãŒè¿«ã£ã¦ã„ã‚‹ã®ã«åˆ¥ã®ã“ã¨ã°ã‹ã‚Šã‚„ã£ã¦ã—ã¾ã†ã€\nãŠãã‚‰ãã»ã¨ã‚“ã©ã®äººãŒã“ã®ã‚ˆã†ãªçµŒé¨“ã‚’ã—ãŸã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚æœ¬æ›¸ã§ã¯ã€ãã‚‚ãã‚‚ã€Œé›†ä¸­åŠ›ã€ã¨ã¯ä½•ãªã®ã‹ã€ã©ã®ã‚ˆã†ãªãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã§äººé–“ã®å¿ƒã¯å‹•ãã®ã‹ã‚’è§£èª¬ã—ã€åŠ¹ç‡çš„ã«é›†ä¸­åŠ›ã‚’é«˜ã‚ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã€æ•°ã€…ã®è«–æ–‡ã‚„ç ”ç©¶ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ã¦æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nãã®ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’çŸ¥ã‚‹ã“ã¨ã§ã€èª°ã«ã§ã‚‚çœ ã£ã¦ã„ã‚‹ã€Œãƒ¤ãƒã„é›†ä¸­åŠ›ã€ã‚’ç›®è¦šã‚ã•ã›ã€é›†ä¸­åŠ›ã‚’é«˜ã„ãƒ¬ãƒ™ãƒ«ã§ã‚­ãƒ¼ãƒ—ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã‚ã‘ã§ã™ã€‚å‡„ãã†ã€‚\nè‘—è€… ãƒ©ã‚¤ã‚¿ãƒ¼ï¼ç·¨é›†è€… éˆ´æœ¨è£• ã•ã‚“\nãƒ‘ãƒ¬ã‚ªãªç”· æ›¸ç±ã®ç›®æ¬¡ æœ¬æ›¸ã®ç›®æ¬¡ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nåºç«  ç£ã¨èª¿æ•™å¸« ã€œãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã‚’ 400 % å¼•ãå‡ºã™ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€œ\nä¸€èˆ¬äººã® 4 å€ã®ç”Ÿç”£æ€§ã‚’æŒã¤ã¯ã„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ¼ã¯ä½•ãŒé•ã†ã®ã‹ï¼Ÿ é›†ä¸­åŠ›ã®å•é¡Œã‚’ä¸€æŒ™ã«è§£æ±ºã™ã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ ã€Œç£ã€ã¯å˜ç´”ã§éæ•ã ãŒã€è¶…çµ¶ãƒ‘ãƒ¯ãƒ¼ã‚’ç™ºæ®ã™ã‚‹ ã€Œèª¿æ•™å¸«ã€ã¯è«–ç†çš„ã€‚å¤§é£¯ãã‚‰ã„ã®å‰²ã«ã€åŠ›ãŒã‚·ãƒ§ãƒœã„\u0026hellip;\u0026hellip; é›†ä¸­åŠ›å‘ä¸Šã®ãŸã‚ã® 3 ã¤ã®æ•™è¨“ ç¬¬ 1 ç«  é¤Œã‚’ä¸ãˆã‚‹ ã€œè„³ã®é¦¬åŠ›ã‚’é«˜ã‚ã‚‹ã‚µãƒ—ãƒªã¨é£Ÿäº‹æ³•ã€œ\nãŠæ‰‹è»½ã«è¦šé†’ä½œç”¨ã‚’å€å¢—ã•ã›ã‚‹ã‚«ãƒ•ã‚§ã‚¤ãƒ³ã®æ‘‚ã‚Šæ–¹ é£Ÿã¹ã‚‹ã ã‘ã§è„³æ©Ÿèƒ½ãŒä¸ŠãŒã‚‹é­”æ³•ã®é£Ÿäº‹æ³• è„³ã‚’å¤‰ãˆãŸã„ãªã‚‰ã€Œé£Ÿäº‹æ—¥è¨˜ã€ãŒæœ€å¼·ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚ã‚‹ ç¬¬ 2 ç«  å ±é…¬ã®äºˆæ„Ÿ ã€œè„³å†…ãƒ›ãƒ«ãƒ¢ãƒ³ã‚’æ“ã‚‹ç›®æ¨™è¨­å®šã®å¥¥ç¾©ã€œ\næ­»ã‚“ã§ã—ã¾ã†ã»ã©ç†±ä¸­ã™ã‚‹ã€Œã‚²ãƒ¼ãƒ ã€ã®åŠ›ã‚’ãƒãƒƒã‚¯ã›ã‚ˆ ã‚ãªãŸã®ä»•äº‹ã‚’ã€Œã‚¯ã‚½ã‚²ãƒ¼ã€ã«ã—ã¦ã—ã¾ã† 2 ã¤ã®è¦ç´  é”æˆæ„ŸãŒã‚„ã¿ã¤ãã«ãªã‚‹ã‚¿ã‚¹ã‚¯ç®¡ç†æ³• ç¬¬ 3 ç«  å„€å¼ã‚’è¡Œã† ã€œæ¯å›ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã§è¶…é›†ä¸­ãƒ¢ãƒ¼ãƒ‰ã€œ\nä¸€è¦‹ç„¡é§„ãªã€Œãƒã‚¤å„€å¼ã€ã«éš ã•ã‚ŒãŸåŠ¹æœãŒæ¬¡ã€…ã«æ˜ã‚‰ã‹ã« ãƒ‰ãƒ¼ãƒ‘ãƒŸãƒ³ã‚’å‡ºã™å„€å¼ã§ä¸€æ—¥ä¸­æ—ã‚Šã¾ãã‚Š ã€Œå°ã•ãªä¸å¿«ã€ã§ç£ã‚’åˆºæ¿€ã™ã‚‹ å„€å¼ã‚¹ã‚¿ãƒƒã‚­ãƒ³ã‚°ã§ç£ã‚’å°ãè‰¯ã„ç¿’æ…£ã‚’é€£é–ã•ã›ã‚ˆã† å„€å¼ã¯é€± 4 å› 2 ãƒ¶æœˆç¶šã‘ã‚‹ã¨å®Œå…¨ã«èº«ã«ã¤ã ç¬¬ 4 ç«  ç‰©èªã‚’ç·¨ã‚€ ã€œã‚»ãƒ«ãƒ•ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æ›¸ãæ›ãˆã¦ã€Œã‚„ã‚‹ã€äººé–“ã«ãªã‚‹ã€œ\nã€Œãªã‚ŠãŸã„è‡ªåˆ†ã«ãªã‚‹ã€ãŸã‚ã«ã¯ç‰©èªãŒåŠ¹ã ã‚»ãƒ«ãƒ•ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä¸Šæ›¸ãã™ã‚‹ 5 ã¤ã®æ–¹æ³• ç¬¬ 5 ç«  è‡ªå·±ã‚’è¦³ã‚‹ ã€œãƒã‚¤ãƒ³ãƒ‰ãƒ•ãƒ«ãƒã‚¹ã§é™ã‹ãªé›†ä¸­ã‚’å–ã‚Šæˆ»ã™ã€œ\nç¬¬ãƒ–ãƒ¼ãƒ ã«ãªã£ãŸã€Œæ„å¿—åŠ›ã€ã€ 2 ã¤ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ ã€Œè‡ªåˆ¶ã€ã™ã‚‹ãŸã‚ã«ã¯ã€Œè‡ªçœã€ãŒæ¬ ã‹ã›ãªã„ å¹³é™ãªè‡ªåˆ†ã‚’å–ã‚Šæˆ»ã™ãƒ‡ã‚¿ãƒƒãƒãƒ‰ãƒ»ãƒã‚¤ãƒ³ãƒ‰ãƒ•ãƒ«ãƒã‚¹ ç¬¬ 6 ç«  è«¦ã‚ã¦ã€ä¼‘ã‚€ ã€œç–²åŠ´ã¨ã‚¹ãƒˆãƒ¬ã‚¹ã‚’ç™’ã™ãƒªã‚»ãƒƒãƒˆæ³•ã€œ\né›†ä¸­åŠ›ã¯ã€Œã‚ã¾ã®ã˜ã‚ƒãã€ ãƒã‚¬ãƒ†ã‚£ãƒ–ãªæ€è€ƒã‚’ã‚«ãƒãƒƒã¨åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚»ãƒ«ãƒ•ãƒ»ã‚¢ã‚¯ã‚»ãƒ—ã‚¿ãƒ³ã‚¹ ç–²åŠ´ã¨ã‚¹ãƒˆãƒ¬ã‚¹ã‚’ç§‘å­¦çš„ã«ãƒªã‚»ãƒƒãƒˆã™ã‚‹æ–¹æ³• ãŠã‚ã‚Šã«\nå„ç« ã®æ¦‚è¦ã¨æ„Ÿæƒ³ ã“ã“ã‹ã‚‰ã¯å„ç« ã®æ¦‚è¦ã‚’å°‘ã—ã ã‘ã”ç´¹ä»‹ã„ãŸã—ã¾ã™ã€‚\nåºç«  ç£ã¨èª¿æ•™å¸« ã€œãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã‚’ 400 ï¼… å¼•ãå‡ºã™ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€œ æœ¬æ›¸ã‚’èª­ã¿é€²ã‚ã¦ã„ãã†ãˆã§ã®å‰æã¨ãªã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€Œç£ã¨èª¿æ•™å¸«ã€ã«ã¤ã„ã¦æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚é›£ã—ã„ã‚‚ã®ã‚’å«Œã„ã€ã‚ã‚‰ã‚†ã‚‹åˆºæ¿€ã«åå¿œã™ã‚‹ã€ãƒ‘ãƒ¯ãƒ¼ãŒå¼·ã„ã¨ã„ã†ç‰¹å¾´ã‚’ã‚‚ã¤ç£ã€‚ãã‚Œã«å¯¾ã—ã¦ã€è«–ç†æ€§ãŒæ­¦å™¨ã€ã‚¨ãƒãƒ«ã‚®ãƒ¼æ¶ˆè²»ãŒå¤§ãã„ã€ãƒ‘ãƒ¯ãƒ¼ãŒå°ã•ã„ã¨ã„ã†ç‰¹å¾´ã‚’ã‚‚ã¤èª¿æ•™å¸«ã€‚è‡ªåˆ†ã®ä¸­ã«ã‚ã‚‹ãã‚Œãã‚Œã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’ã†ã¾ãæ‰±ã†ã“ã¨ãŒã€ãƒ¤ãƒã„é›†ä¸­åŠ›ã‚’å¾—ã‚‹ãŸã‚ã®ç­‹é“ã«ãªã‚‹ã¨ã„ã†ã‚ã‘ã§ã™ã€‚\nç¬¬ 1 ç«  é¤Œã‚’ä¸ãˆã‚‹ ã€œè„³ã®é¦¬åŠ›ã‚’é«˜ã‚ã‚‹ã‚µãƒ—ãƒªã¨é£Ÿäº‹æ³•ã€œ ã€Œç£ã‚’ã†ã¾ãæ‰±ã†ã«ã¯ã¾ãšã¯è…¹ã”ã—ã‚‰ãˆãŒå¤§äº‹ã€ ã¨ã„ã†ã“ã¨ã§ã€é£Ÿäº‹ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ãŸé›†ä¸­åŠ›ã‚¢ãƒƒãƒ—æ–¹æ³•ã«ã¤ã„ã¦æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚ä½•ã‚’ã€ã©ã‚Œã ã‘ã®é‡ã€ã©ã®ã‚ˆã†ãªé–“éš”ã§æ‘‚å–ã™ã‚‹ã®ãŒæœ€ã‚‚åŠ¹æœçš„ã§ã‚ã‚‹ã€ã¨ã„ã£ãŸã‚ˆã†ãªå‡„ãå…·ä½“çš„ãªæ•°å€¤ã‚’ç”¨ã„ã¦ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚é€”ä¸­ã§ã€Œè„³ã«è‰¯ã„ 10 ã®ãƒ•ãƒ¼ãƒ‰ã‚«ãƒ†ã‚´ãƒªãƒ¼ã€ã¨ã—ã¦ã€å„ã‚«ãƒ†ã‚´ãƒªã«è©²å½“ã™ã‚‹å…·ä½“çš„ãªé£Ÿã¹ç‰©ã€ç´ æ€§ã•ã‚Œã‚‹æ‘‚å–é‡ã‚’ç¤ºã—ãŸè¡¨ã‚‚æ²è¼‰ã•ã‚Œã¦ãŠã‚Šã€å®Ÿéš›ã®è¡Œå‹•ã«ã‚‚ç¹‹ã’ã‚„ã™ã„ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nç¬¬ 2 ç«  å ±é…¬ã®äºˆæ„Ÿ ã€œè„³å†…ãƒ›ãƒ«ãƒ¢ãƒ³ã‚’æ“ã‚‹ç›®æ¨™è¨­å®šã®å¥¥ç¾©ã€œ äººãŒã‚²ãƒ¼ãƒ ã«ç†±ä¸­ã—ã¦ã—ã¾ã†ã®ã¯ç¨‹ã‚ˆã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å ±é…¬ãŒç¶™ç¶šçš„ã«ä¸ãˆã‚‰ã‚Œã‚‹ã‹ã‚‰ã§ã‚ã‚‹ã€ã¨ã„ã†è©±ã‹ã‚‰å§‹ã¾ã‚Šã€ãã‚Œã‚’ä»•äº‹ã«ã‚‚ç”Ÿã‹ã›ãªã„ã‹ï¼Ÿã¨ã„ã†ã®ãŒã“ã®ç« ã®å†…å®¹ã§ã™ã€‚ä»•äº‹ã«ãŠã„ã¦ã€ç°¡å˜éãã‚‹ã‚¿ã‚¹ã‚¯ã€é€†ã«é›£ã—ã™ãã‚‹ã‚¿ã‚¹ã‚¯ã¯ãã®ä»•äº‹ã‚’ã€Œã‚¯ã‚½ã‚²ãƒ¼ã€ã«ã—ã¦ã—ã¾ã„ã€é›†ä¸­åŠ›ãŒç¶šãã¾ã›ã‚“ã€‚ãã®å•é¡Œç‚¹ã‚’ã€Œå ±é…¬æ„Ÿè¦šãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã€ã¨ã„ã†æ–¹æ³•ã§è§£æ±ºã—ã¦ã„ãã¾ã™ã€‚\nç¬¬ 3 ç«  å„€å¼ã‚’è¡Œã† ã€œæ¯å›ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã§è¶…é›†ä¸­ãƒ¢ãƒ¼ãƒ‰ã€œ é›†ä¸­ã™ã‚‹å‰ã«æ¯å›ä½•ã‹ã—ã‚‰åŒã˜ã“ã¨ã‚’ã‚„ã‚‹ã“ã¨ã§ã€ã‚„ã‚‰ãªã„å ´åˆã¨æ¯”è¼ƒã—ã¦è«¸ã€…ã®åŠ¹æœãŒè‰¯ã„æ–¹å‘ã«å‡ºãŸã¨ã„ã†ç ”ç©¶çµæœã‚’ã‚‚ã¨ã«ã€ç°¡å˜ãªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚’ä½¿ã£ã¦ç£ã‚’ã†ã¾ãæ‰±ã†ã¨ã„ã†è©±ã§ã™ã€‚å„€å¼ã¨ã„ã†ã¨å¤§ã’ã•ã§ã™ãŒã€ä¾‹ãˆã°è©¦é¨“å‰ã«æŒ‡ã‚’ 10 å›é³´ã‚‰ã™ã¨ã‹ã€ãã†ã„ã£ãŸç°¡å˜ãªå†…å®¹ã§ã‚‚åŠ¹æœãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚ãŸã ã—ã€ã©ã†ã›ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã¨ã—ã¦çµ„ã¿è¾¼ã‚€ã®ã§ã‚ã‚Œã°ã€æ„å‘³ã®ã‚ã‚‹å„€å¼ã®ã»ã†ãŒåŠ¹ç‡çš„ã§ã™ã€‚ä¾‹ãˆã°ã€ã€Œä¸€æ—¥ã®æœ€åˆã«ãã®æ—¥ã«ã‚„ã‚‹ã¹ãã‚¿ã‚¹ã‚¯ã‚’ã™ã¹ã¦æ›¸ãå‡ºã™ã€ã§ã‚ã£ãŸã‚Šã€ã€Œã‚¿ã‚¹ã‚¯ã‚’å®Œäº†ã—ãŸã‚‰ã™ãã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹ã€ã¨ã„ã£ãŸå„€å¼ã¯ç¾å®Ÿã«ã‚‚å½¹ã«ç«‹ã¤å„€å¼ã¨ã—ã¦ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚\nç¬¬ 4 ç«  ç‰©èªã‚’ç·¨ã‚€ ã€œã‚»ãƒ«ãƒ•ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æ›¸ãæ›ãˆã¦ã€Œã‚„ã‚‹ã€äººé–“ã«ãªã‚‹ã€œ ãƒ‘ãƒ¯ãƒ¼ã®å°ã•ã„èª¿æ•™å¸«ã§ã™ãŒã€ãã®ä¸­ã§ã‚‚æœ€å¤§ã®æ­¦å™¨ã§ã‚ã‚‹ã€Œç‰©èªã€ã‚’ä¸Šæ‰‹ãæ‰±ãŠã†ã¨ã„ã†å†…å®¹ã§ã™ã€‚ä¾‹ãˆã°ã€èª­æ›¸ä¸­ã«é›†ä¸­åŠ›ãŒé€”åˆ‡ã‚Œã¦ã—ã¾ã†ã‚ˆã†ãªäººã¯ã€ãã‚‚ãã‚‚è‡ªåˆ†ãŒèª­æ›¸å®¶ã§ã‚ã‚‹ã¨ã„ã†ã“ã¨ã‚’è‡ªåˆ†ã®ä¸­ã§å®šç¾©ã™ã‚‹ã“ã¨ãŒã€ç‰©èªã®è¨­å®šã«ãªã‚Šã¾ã™ã€‚ãã†ã™ã‚‹ã“ã¨ã§ã€ä»®ã«èª­æ›¸ä¸­ã«é›†ä¸­åŠ›ãŒé€”åˆ‡ã‚Œãã†ã«ãªã£ã¦ã‚‚ã€èª­æ›¸å®¶ã§ã‚ã‚‹ã¨ã„ã†è‡ªåˆ†ãŒå´©ã‚Œã¦ã—ã¾ã†ã®ã‚’æã‚Œã€é›†ä¸­åŠ›ã‚’ã‚­ãƒ¼ãƒ—ã§ãã‚‹ã¨ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚ç« ã®å¾ŒåŠã§ã¯ã€ç‰©èªã‚’è‡ªåˆ†ã«ã—ã£ã‹ã‚Šã¨å®šç€ã•ã›ã‚‹ãŸã‚ã®æ–¹æ³•ã«ã¤ã„ã¦ã‚‚æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nç¬¬ 5 ç«  è‡ªå·±ã‚’è¦³ã‚‹ ã€œãƒã‚¤ãƒ³ãƒ‰ãƒ•ãƒ«ãƒã‚¹ã§é™ã‹ãªé›†ä¸­ã‚’å–ã‚Šæˆ»ã™ã€œ è‡ªåˆ†ã®æ€æƒ³ã‚„æ„Ÿæƒ…ã‹ã‚‰è·é›¢ã‚’ãŠã„ã¦ã²ãŸã™ã‚‰è¦³å¯Ÿã«å¾¹ã—ã€ç£ã®æš´èµ°ã‹ã‚‰è·é›¢ã‚’ãŠã„ã¦å¯¾å¿œã—ã‚ˆã†ã¨ã„ã†å†…å®¹ã§ã™ã€‚ãã†ã„ã£ãŸæ°—æŒã¡ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«æ–¹æ³•ã¨ã—ã¦ã€ãƒ¡ã‚¿ãƒ•ã‚¡ãƒ¼ã‚’ä½¿ç”¨ã—ãŸæ–¹æ³•ã€ã“ã®å ´æ‰€ã§ã¯ã“ã‚Œã—ã‹ã‚„ã‚‰ãªã„ã¨ã„ã† \u0026ldquo;è–åŸŸ\u0026rdquo; ã‚’ç”¨ã„ãŸæ–¹æ³•ã€èª¿æ•™å¸«ã‚’åˆ‡ã‚Šãªè©±ã™æ–¹æ³•ãŒç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚è–åŸŸã«ã¤ã„ã¦ã¯ç‰©ç†çš„ãªå ´æ‰€ã ã‘ã§ãªãã€ä»•äº‹ä¸­ã«ä½¿ç”¨ã™ã‚‹ã‚¹ãƒãƒ›ã¨ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã®ã‚¹ãƒãƒ›ã‚’åˆ†ã‘ãŸã‚Šã¨ã„ã£ãŸãƒ‡ã‚¸ã‚¿ãƒ«è¦ç´ ã®ç®¡ç†ã«ã¤ã„ã¦ã‚‚è§¦ã‚Œã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\nç¬¬ 6 ç«  è«¦ã‚ã¦ã€ä¼‘ã‚€ ã€œç–²åŠ´ã¨ã‚¹ãƒˆãƒ¬ã‚¹ã‚’ç™’ã™ãƒªã‚»ãƒƒãƒˆæ³•ã€œ é›†ä¸­ã™ã‚‹ã“ã¨ã‚’è«¦ã‚ã¦ä¼‘ã‚€ã“ã¨ã®å¤§åˆ‡ã•ã«ã¤ã„ã¦æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚é›†ä¸­åŠ›ã‚’ç¶­æŒã§ããªã„äººã¯ã€ã€Œé›†ä¸­åŠ›ã‚’è¿½ã„æ±‚ã‚ã™ãã¦ã—ã¾ã†ã€ã€Œé›†ä¸­åŠ›ãŒãªã„è‡ªåˆ†ã‚’è²¬ã‚éãã¦ã—ã¾ã†ã€ã¨ã„ã†ç‰¹å¾´ã‚’ã‚‚ã£ã¦ã„ã‚‹ã“ã¨ãŒå¤šã„ã‚ˆã†ã§ã™ã€‚ç‰¹ã«è‡ªè²¬ã®å¿µã¯ã‚¹ãƒˆãƒ¬ã‚¹ã®ä¸­ã§ã‚‚ãŸã¡ãŒæ‚ªã„ã‚‚ã®ã§ã€ååˆ†ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç™ºæ®ã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚ã—ã£ã‹ã‚Šã¨ä¼‘ã‚“ã§æ°—æŒã¡ã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹æ–¹æ³•ã¨ã—ã¦ã€ç±³è»å¼å¿«çœ ã‚¨ã‚¯ã‚µã‚µã‚¤ã‚ºã¨å‘¼ã°ã‚Œã‚‹æ‰‹æ³•ã‚‚ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚\nãŠã‚ã‚Šã« å…¨ 6 ç« ã«ã‚ãŸã£ã¦æ§˜ã€…ãªé›†ä¸­åŠ›ã‚¢ãƒƒãƒ—æ–¹æ³•ãŒç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã—ãŸã€ã“ã®ã¾ã¨ã‚ã§ã¯å®Ÿéš›ã«ã©ã“ã‹ã‚‰å§‹ã‚ã‚Œã°ã‚ˆã„ã®ã‹ã€7 ã¤ã®ãƒ¬ãƒ™ãƒ«ã«åˆ†é¡ã—ã¦ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã¾ã¨ã‚ ãƒ¤ãƒã„é›†ä¸­åŠ›ã‚’å¾—ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ•ãƒãƒƒã‚¯ãŒè©°ã¾ã£ãŸæ›¸ç± ã€Œãƒ¤ãƒã„é›†ä¸­åŠ› - 1 æ—¥ãƒ–ãƒƒé€šã—ã§ã‚¢ã‚¿ãƒãŒå†´ãˆã‚ãŸã‚‹ç¥ãƒ©ã‚¤ãƒ•ãƒãƒƒã‚¯ 45ã€ ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã—ãŸã€‚\nå„ç« ã§ã•ã¾ã–ã¾ãªãƒ©ã‚¤ãƒ•ãƒãƒƒã‚¯ãŒç´¹ä»‹ã•ã‚Œã¦ãŠã‚Šã€å…¨ã¦ã‚’å®Ÿç¾ã§ãã‚Œã°æ–‡å­—é€šã‚Šã€Œãƒ¤ãƒã„é›†ä¸­åŠ›ã€ã‚’å¾—ã‚‰ã‚Œãã†ãªæ°—ãŒã—ã¾ã™ã€‚ãŸã ã€æœ€åˆã‹ã‚‰ã™ã¹ã¦ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã¯ç„¡ç†ã ã¨æ€ã†ã®ã§ã€ ãŠã‚ã‚Šã« ã®ç« ã§æ›¸ã‹ã‚Œã¦ã„ã‚‹ãƒ¬ãƒ™ãƒ«åˆ¥ã®æ–¹æ³•ã«å¾“ã£ã¦ã€ã¾ãšã¯ç°¡å˜ãªéƒ¨åˆ†ã‹ã‚‰å–ã‚Šå…¥ã‚Œã¦ã„ã‘ã‚Œã°ã¨æ€ã„ã¾ã™ã€‚\nä¸€æ—¦èª­ã‚“ã ã‚ã¨ã€ã‚ã‚‰ãŸã‚ã¦èª­ã‚€ã“ã¨ã§ã‚ˆã‚Šé›†ä¸­åŠ›ã‚¢ãƒƒãƒ—ã¸ã®æ„è­˜ã‚’é«˜ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ãƒ¤ãƒã„é›†ä¸­åŠ›ã‚’æ‰‹ã«å…¥ã‚ŒãŸã„æ–¹ã«ã¯ãœã²æ‰‹å…ƒã«ãŠã„ã¦ãŠããŸã„ä¸€å†Šã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/bookreview-awesome-focus/",
    "title": "[æ›¸è©•] ã“ã‚Œã§ã‚ãªãŸã‚‚èª¿æ•™å¸«ï¼ã€Œãƒ¤ãƒã„é›†ä¸­åŠ› - 1 æ—¥ãƒ–ãƒƒé€šã—ã§ã‚¢ã‚¿ãƒãŒå†´ãˆã‚ãŸã‚‹ç¥ãƒ©ã‚¤ãƒ•ãƒãƒƒã‚¯ 45ã€ã‚’èª­ã‚“ã§ã¿ãŸ"
  },
  {
    "contents": "Serverless Framework ã‚’ä½¿ç”¨ã™ã‚‹ã¨ API Gateway ã® API ã‚­ãƒ¼ã‚‚ç°¡å˜ã«ç”Ÿæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä»Šå›ã¯ã€ç”Ÿæˆã—ãŸ API ã‚­ãƒ¼ã‚’ ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã« SSM ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã«ç™»éŒ²ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ãŸè©±ã§ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ å‰æ ã‚„ã‚‹ã“ã¨ 1. sls info ã‹ã‚‰ API ã‚­ãƒ¼ã®å€¤ã‚’å–å¾—ã™ã‚‹ 2. å–å¾—ã—ãŸ API ã‚­ãƒ¼ã‚’ SSM ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã«ç™»éŒ²ã™ã‚‹ æœ€çµ‚çš„ãª buildspec.yml ã¾ã¨ã‚ æ¦‚è¦ Serverless Framework ã§ API Gateway ã® API ã‚­ãƒ¼ã‚’ç”Ÿæˆã—ã€ãã®å€¤ã‚’ AWS Systems Manager (SSM) ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã«ç™»éŒ²ã—ã¾ã™ã€‚ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã«ç™»éŒ²ã—ã¦ãŠã‘ã°ã€åˆ¥ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ç®¡ç†ã—ã¦ã„ã‚‹ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚„ãã®ä»–ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ã‚³ãƒ¼ãƒ‰ã«åŸ‹ã‚è¾¼ã‚€éš›ã«ã‚‚æ‰±ã„ã‚„ã™ããªã‚Šã¾ã™ã€‚\nå‰æ ç”Ÿæˆã•ã‚Œã‚‹ API ã‚­ãƒ¼ãŒå„ã‚¹ãƒ†ãƒ¼ã‚¸ã« ã²ã¨ã¤ã ã‘ ã§ã‚ã‚‹ã“ã¨\nserverless.yml ã§ã¯æ¬¡ã®ã‚ˆã†ãªè¨­å®šã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¾ã™ã€‚\nprovider: name: aws runtime: python3.7 apiKeys: - ${self:provider.stage}-defaultApiKey usagePlan: quota: limit: 10000 period: DAY throttle: burstLimit: 500 rateLimit: 250 stage: ${opt:stage, self:custom.defaultStage} custom: defaultStage: dev CodeBuild ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã„ã‚‹\nGitHub ã‚„ CodeCommit ã¸ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã¨ã—ã¦ã€ CodeBuild ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¾ã™ã€‚ buildspec.yml ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ $STAGE å¤‰æ•°ã«ã¯ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã®ã‚¹ãƒ†ãƒ¼ã‚¸ (dev, stg ãªã©) ãŒå…¥ã‚‹æƒ³å®šã§ã™ã€‚\nversion: 0.2 phases: install: commands: - npm install -g serverless - npm install build: commands: - sls deploy --stage $STAGE ã‚„ã‚‹ã“ã¨ sls info ã‹ã‚‰ API ã‚­ãƒ¼ã®å€¤ã‚’å–å¾—ã™ã‚‹ å–å¾—ã—ãŸ API ã‚­ãƒ¼ã‚’ SSM ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã«ç™»éŒ²ã™ã‚‹ ã“ã‚Œã‚‰ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ buildspec.yml ã«è¿½è¨˜ã™ã‚‹å½¢ã§å¯¾å¿œã—ã¾ã™ã€‚\n1. sls info ã‹ã‚‰ API ã‚­ãƒ¼ã®å€¤ã‚’å–å¾—ã™ã‚‹ Serverless Framework ã§ã¯ sls info ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚ŒãŸ API ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚„ Lambda é–¢æ•°ã®æƒ…å ±ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã€ãã®æƒ…å ±ã®ä¸­ã« API ã‚­ãƒ¼ã®å€¤ã‚‚å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ sls info ã‚³ãƒãƒ³ãƒ‰ã§ã¯ sls deploy ã¨åŒæ§˜ã« --stage ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æƒ…å ±å–å¾—å¯¾è±¡ã®ã‚¹ãƒ†ãƒ¼ã‚¸ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n$ sls info --stage dev Service Information service: sls-sample stage: dev region: us-east-1 stack: sls-sample-dev resources: 14 api keys: dev-defaultApiKey: VaO3S4kmbvajSscuozbXSaKLO06YwzV79OxjaWgU endpoints: GET - https://XXXXXXXXXX.execute-api.us-east-1.amazonaws.com/dev/handler functions: hello: sls-sample-dev-hello layers: None sls info ã®å‡ºåŠ›çµæœã‹ã‚‰ API ã‚­ãƒ¼ã‚’æŠœãå‡ºã™ãŸã‚ã«ã€ä¸‹è¨˜ã® sed ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nsls info --stage dev | sed -n -r \u0026#39;s/^.*defaultApiKey: (.+)$/\\1/p\u0026#39; macOS ã«æ¨™æº–ã§æ­è¼‰ã•ã‚Œã¦ã„ã‚‹ sed ã§ç¢ºèªã™ã‚‹å ´åˆã¯ -r ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ä»£ã‚ã‚Šã« -E ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ç¢ºèªã—ã¦ãã ã•ã„ã€‚\n$ sls info --stage dev | sed -n -E \u0026#39;s/^.*defaultApiKey: (.+)$/\\1/p\u0026#39; VaO3S4kmbvajSscuozbXSaKLO06YwzV79OxjaWgU 2. å–å¾—ã—ãŸ API ã‚­ãƒ¼ã‚’ SSM ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã«ç™»éŒ²ã™ã‚‹ SSM ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã¸ç™»éŒ²ã«ã¯ AWS CLI ã® ssm put-patrameter ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\n1 ã®å‡ºåŠ›çµæœã‚’é©å½“ãªå¤‰æ•° (ã“ã“ã§ã¯ API_KEY) ã«æ ¼ç´ã—ã€ãã®å€¤ã‚’ç™»éŒ²ã—ã¾ã™ã€‚\n$ API_KEY=$(sls info --stage dev | sed -n -r \u0026#39;s/^.*defaultApiKey: (.+)$/\\1/p\u0026#39;) $ aws ssm put-parameter \\ --name \u0026#34;/sampleapp/dev/api_key\u0026#34; \\ --value \u0026#34;${API_KEY}\u0026#34; \\ --type SecureString \\ --overwrite æœ€çµ‚çš„ãª buildspec.yml ã“ã“ã¾ã§ã®æ‰‹é †ã‚’è¸ã¾ãˆã¦ã€æœ€çµ‚çš„ã« buildspec.yml ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nversion: 0.2 phases: install: commands: - npm install -g serverless - npm install build: commands: - sls deploy --stage $STAGE - \u0026#34;API_KEY=$(sls info --stage $STAGE | sed -n -r \u0026#39;s/^.+defaultApiKey: (.+)$/\\\\1/p\u0026#39;)\u0026#34; - echo $API_KEY - aws ssm put-parameter --name \u0026#34;/sampleapp/${STAGE}/api_key\u0026#34; --value \u0026#34;${API_KEY}\u0026#34; --type SecureString --description \u0026#34;API key for Sample API - ${STAGE}\u0026#34; --overwrite ä¸Šè¨˜ã®èª¬æ˜ã¨å¤‰ã‚ã£ã¦ã„ã‚‹ã®ã¯ sed ã‚³ãƒãƒ³ãƒ‰å†…ã® / ã‚’ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã—ã¦ã„ã‚‹ ã“ã¨ã¨ã€ ã‚¹ãƒ†ãƒ¼ã‚¸ã”ã¨ã«å¯å¤‰ã«ã™ã‚‹éƒ¨åˆ†ã‚’å¤‰æ•° STAGE ã§ç½®ãæ›ãˆã¦ã„ã‚‹ ã“ã¨ã§ã™ã€‚\nbuild ãƒ•ã‚§ãƒ¼ã‚ºã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã‚‹ã‚„ã‚“ã£ã¦ã„ã†ãƒ„ãƒƒã‚³ãƒŸã‚‚ã‚ã‚Šã¾ã™ãŒã€ç¯€ç´„ã‚‚å…¼ã­ã¦ CodeBuild å†…ã§å®Œçµã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã®ã§è¦‹é€ƒã—ã¦ãã ã•ã„ã€‚ã‚„ã£ã¦ã„ã‚‹å†…å®¹ã¨ã—ã¦ã¯ post_build ãƒ•ã‚§ãƒ¼ã‚ºã®ã»ã†ãŒã—ã£ãã‚Šãã‚‹æ°—ã‚‚ã—ã¦ã„ã¾ã™ã€‚\nã¾ã¨ã‚ Serverless Framework ã§ API Gateway ã® API ã‚­ãƒ¼ã‚’ç”Ÿæˆã—ã€ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã«ãã®å€¤ã‚’ AWS Systems Manager (SSM) ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã«ç™»éŒ²ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nSSM ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã«ç™»éŒ²ã—ã¦ã—ã¾ãˆã°ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ã‚‚åˆ©ç”¨ã—ã‚„ã™ããªã‚‹ã®ã§ã€ API ã‚­ãƒ¼ã®å¤–å‡ºã—ã«æ‚©ã‚“ã§ã„ã‚‹æ–¹ã¯å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\n",
    "permalink": "https://michimani.net/post/aws-put-api-key-to-ssm--parameter-with-serverless-framework/",
    "title": "Serverless Framework ã§ç”Ÿæˆã—ãŸ API ã‚­ãƒ¼ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã« SSM ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã«ç™»éŒ²ã™ã‚‹"
  },
  {
    "contents": "AWS CodeCommit ã®ãƒªãƒã‚¸ãƒˆãƒªã« Git ã®èªè¨¼æƒ…å ±ã‚’è¨­å®šã›ãšã« IAM ãƒ¦ãƒ¼ã‚¶ã¨ã—ã¦æ¥ç¶šã§ãã‚‹ HTTPS with git-remote-codecommit ã¨ã„ã†æ–¹æ³•ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã¯ git-remote-codecommit ã¨ã„ã† Python ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ãŸæ–¹æ³•ã§ã€ SSH, HTTPS ã«ç¶šã„ã¦æ–°ãŸã«è¿½åŠ ã•ã‚ŒãŸæ¥ç¶šæ–¹æ³•ã¨ãªã‚Šã¾ã™ã€‚\nCodeCommit ã«å¯¾ã™ã‚‹ Git ã®èªè¨¼ãŒä¸è¦ã«ãªã‚Šã€ IAM ãƒ¦ãƒ¼ã‚¶ã¨ã—ã¦æ¥ç¶šã§ãã‚‹ã¨ã„ã†ã“ã¨ã§ã€ CodeCommit ãƒªãƒã‚¸ãƒˆãƒªã¸ã®æ¥ç¶šãŒã¨ã¦ã‚‚æ¥½ã«ãªã‚Šãã†ã§ã™ã€‚\nç›®æ¬¡ HTTPS with git-remote-codecommit ã“ã‚Œã¾ã§ã®æ¥ç¶šæ–¹æ³• HTTPS with git-remote-codecommit ã§æ¥ç¶šã—ã¦ã¿ã‚‹ 0. git-remote-codecommit ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã®å‰ææ¡ä»¶ã®ç¢ºèªãƒ»æº–å‚™ 1. CodeCommit ã«å¯¾ã™ã‚‹åˆæœŸè¨­å®š 2. git-remote-codecommit ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« 3. CodeCommit ãƒªãƒã‚¸ãƒˆãƒªã¸ã®æ¥ç¶š ã¾ã¨ã‚ HTTPS with git-remote-codecommit CodeCommit supports connections to CodeCommit repositories over HTTPS with git-remote-codecommit, a utility that modifies Git. This is the recommended approach for federated or temporary access connections to CodeCommit repositories. You can also use git-remote-codecommit with an IAM user. git-remote-codecommit does not require you to set up Git credentials for the user.\nAWS CodeCommit User Guide Document History - AWS CodeCommit AWS CodeCommit ãƒªãƒã‚¸ãƒˆãƒªã«å¯¾ã™ã‚‹æ¥ç¶šæ–¹æ³•ã¨ã—ã¦ã€ git-remote-codecommit ã‚’ä½¿ç”¨ã—ãŸ HTTPS ã§ã®æ¥ç¶šãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¾ã—ãŸã€‚ã“ã®æ–¹æ³•ã¯ã€æ—¢ã«èªè¨¼ã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ã€ã¾ãŸã¯ä¸€æ™‚çš„ãªæ¥ç¶šã‚’è¡Œã†éš›ã«æ¨å¥¨ã•ã‚Œã‚‹æ–¹æ³•ã§ã™ã€‚ git-remote-codecommit ã‚’ä½¿ç”¨ã—ãŸ HTTPS ã§ã®æ¥ç¶šã§ã¯ã€ Git ã®èªè¨¼æƒ…å ±ã®è¨­å®šã¯ä¸è¦ã§ã™ã€‚\ngit-remote-codecommit ã¯ã€ã‚‚ã¨ã‚‚ã¨ OSS ã§å…¬é–‹ã•ã‚Œã¦ã„ãŸãƒ„ãƒ¼ãƒ«ã§ã—ãŸãŒã€ä»Šå› AWS ãŒå…¬å¼ã«ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«ãªã£ãŸã€ã¨ã„ã†çµŒç·¯ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\nAWS CodeCommit Introduces an Open Source Remote Helper ã‚‚ã¨ã‚‚ã¨ã¯ GitHub ã® awslabs/git-remote-codecommit ã§ç®¡ç†ã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€ç¾åœ¨ã¯ aws/git-remote-codecommit ã§ç®¡ç†ã•ã‚Œã¦ã„ã¾ã™ã€‚\naws/git-remote-codecommit: An implementation of Git Remote Helper that makes it easier to interact with AWS CodeCommit ã“ã‚Œã¾ã§ã®æ¥ç¶šæ–¹æ³• CodeCommit ãƒªãƒã‚¸ãƒˆãƒªã¸ã®æ¥ç¶šæ–¹æ³•ã¨ã—ã¦ã€ SSH ã¨ HTTPS ã® 2 ã¤ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã—ãŸã€‚ ã“ã‚Œã‚‰ã®æ–¹æ³•ã§æ¥ç¶šã™ã‚‹å ´åˆã€ãã‚Œãã‚Œ IAM ãƒ¦ãƒ¼ã‚¶ã®èªè¨¼æƒ…å ±ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚\nSSH SSH æ¥ç¶šç”¨ã®å…¬é–‹éµã®ç™»éŒ² HTTPS æ¥ç¶šç”¨ã®ãƒ¦ãƒ¼ã‚¶ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ä½œæˆ SSH æ¥ç¶šã¯ä»•æ–¹ãªã„ã¨ã—ã¦ã€ HTTPS ã§ã®æ¥ç¶šæ™‚ã«ã‚‚ IAM ã®èªè¨¼æƒ…å ±è¨­å®šã§ CodeCommit ã®èªè¨¼æƒ…å ±ã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€é¢å€’ã ãªã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚ãã‚ŒãŒã€ä»Šå›æ–°ãŸã«ã‚µãƒãƒ¼ãƒˆã•ã‚ŒãŸ HTTPS with git-remote-codecommit ã¨ã„ã†æ¥ç¶šæ–¹æ³•ã«ã‚ˆã‚Šè§£æ¶ˆã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nHTTPS with git-remote-codecommit ã§æ¥ç¶šã—ã¦ã¿ã‚‹ ã§ã¯å®Ÿéš›ã«æ–°ã—ã„æ¥ç¶šæ–¹æ³• HTTPS with git-remote-codecommit ã§æ¥ç¶šã—ã¦ã¿ã¾ã™ã€‚å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯ä¸‹è¨˜ã®æ‰‹é †ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã®ã§ã€åŒã˜æµã‚Œã§ç¢ºèªã—ã¦ã„ãã¾ã™ã€‚\nå‰ææ¡ä»¶ã®ç¢ºèªãƒ»æº–å‚™ CodeCommit ã«å¯¾ã™ã‚‹åˆæœŸè¨­å®š git-remote-codecommit ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« CodeCommit ãƒªãƒã‚¸ãƒˆãƒªã¸ã®æ¥ç¶š Setup Steps for HTTPS Connections to AWS CodeCommit with git-remote-codecommit - AWS CodeCommit 0. git-remote-codecommit ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã®å‰ææ¡ä»¶ã®ç¢ºèªãƒ»æº–å‚™ git-remote-codecommit ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã«ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒã‚·ãƒ³ã«ä»¥ä¸‹ã®ã‚‚ã®ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nPython 3.x pip 9.0.3 ä»¥ä¸Š Git 1.7.9 ä»¥ä¸Š å¿µã®ãŸã‚ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚\n$ python3 -V Python 3.7.5 $ pip3 --version pip 19.3.1 from /usr/local/lib/python3.7/site-packages/pip (python 3.7) $ git --version git version 2.17.2 (Apple Git-113) ã‚‚ã— pip ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä½ã„å ´åˆã¯ã€ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¾ã™ã€‚\n$ curl -O https://bootstrap.pypa.io/get-pip.py $ python3 get-pip.py --user 1. CodeCommit ã«å¯¾ã™ã‚‹åˆæœŸè¨­å®š CodeCommit ã«å¯¾ã™ã‚‹åˆæœŸè¨­å®šã¨ã„ã£ã¦ã‚‚ã€ã“ã“ã§ã‚„ã‚‹ã®ã¯ä¸‹è¨˜ã®å†…å®¹ã§ã™ã€‚\nCodeCommite ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ IAM ãƒ¦ãƒ¼ã‚¶ã®ä½œæˆ AWS CLI ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨èªè¨¼æƒ…å ±ã®è¨­å®š ã“ã“ã¯ä»Šå›æ–°ãŸã«å‡ºã¦ãã‚‹å†…å®¹ã§ã‚‚ãªã„ã®ã§å‰²æ„›ã—ã¾ã™ã€‚æ—¢å­˜ã® IAM ãƒ¦ãƒ¼ã‚¶ãŒã‚ã‚Œã°ãã‚Œã‚’ä½¿ç”¨ã—ã¦ã€ã‚‚ã— CodeCommit ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒãªã„å ´åˆã¯ AWSCodeCommitPowerUser ã¾ãŸã¯ãã®ä»–ã®ãƒãƒªã‚·ãƒ¼ã§ CodeCommit ã®æ“ä½œãŒã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã¾ã™ã€‚\n2. git-remote-codecommit ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ä»Šå›ã®è‚ã¨ãªã‚‹ git-remote-codecommit ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ pip3 install git-remote-codecommit ... ... Successfully built git-remote-codecommit Installing collected packages: git-remote-codecommit Successfully installed git-remote-codecommit-1.11 3. CodeCommit ãƒªãƒã‚¸ãƒˆãƒªã¸ã®æ¥ç¶š ã§ã¯ã€å®Ÿéš›ã« HTTPS with git-remote-codecommit ã§ CodeCommit ãƒªãƒã‚¸ãƒˆãƒªã¸æ¥ç¶šã—ã¦ã¿ã¾ã™ã€‚\nãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ CodeCommit ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¸ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãƒªãƒã‚¸ãƒˆãƒªä¸€è¦§ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€ URL ã®ã‚¯ãƒ­ãƒ¼ãƒ³ ã®åˆ—ã« HTTPS (git-remote-codecommit) ãŒæ–°ãŸã«è¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã“ã“ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªãƒªãƒ³ã‚¯ãŒã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã™ã€‚\ncodecommit::ap-northeast-1://your-repo-name ã“ã®ãƒªãƒ³ã‚¯ã‚’ä½¿ã£ã¦ clone ã—ã¾ã™ã€‚\n$ git clone codecommit::ap-northeast-1://your-repo-name ä»¥ä¸Šã§ã™ã€‚éå¸¸ã«ç°¡å˜ã§ã™ã€‚\nã‚ã¨ã¯æ™®é€šã« git push ã¨ã‹ git pull ã¨ã‹ã€æ™®é€šã« Git ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nAWS CLI ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ IAM ãƒ¦ãƒ¼ã‚¶ã¨ã—ã¦æ¥ç¶šã™ã‚‹ã®ã§ã€AWS CLI ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦æ¥ç¶šã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚\nä¾‹ãˆã° cc-user ã¨ã„ã†ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åã‚’ä»˜ã‘ãŸ IAM ãƒ¦ãƒ¼ã‚¶ã§æ¥ç¶šã—ãŸã„å ´åˆã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªå½¢ã§ clone ã—ã¾ã™ã€‚\n$ git clone codecommit::ap-northeast-1://cc-user@your-repo-name ãƒªãƒã‚¸ãƒˆãƒªåã®å‰ã« ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«å@ ã‚’ä»˜ã‘ã‚‹å½¢ã§ã™ã€‚\nã¾ã¨ã‚ AWS CodeCommit ã®ãƒªãƒã‚¸ãƒˆãƒªã« Git ã®èªè¨¼æƒ…å ±ã‚’è¨­å®šã›ãšã« IAM ãƒ¦ãƒ¼ã‚¶ã¨ã—ã¦æ¥ç¶šã§ãã‚‹ HTTPS with git-remote-codecommit ã¨ã„ã†æ–¹æ³•ãŒã‚µãƒãƒ¼ãƒˆã•ã‚ŒãŸã®ã§ã€å®Ÿéš›ã«è©¦ã—ã¦ã¿ãŸã¨ã„ã†è©±ã§ã—ãŸã€‚\nCodeCommit ãƒªãƒã‚¸ãƒˆãƒªã¸ã®æ¥ç¶šã«ã¯å…¬é–‹éµã®ç™»éŒ²ã‚„ HTTPS æ¥ç¶šç”¨ã®ãƒ¦ãƒ¼ã‚¶æƒ…å ±ã‚’ä½œæˆã—ãŸã‚Šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸãŒã€ä»Šå›ã‚µãƒãƒ¼ãƒˆã•ã‚ŒãŸæ–¹æ³•ã«ã‚ˆã‚Šã€å˜ç´”ã« IAM ãƒ¦ãƒ¼ã‚¶ã§æ¥ç¶šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ SSH ã¯ã¨ã‚‚ã‹ãã€ HTTPS ã§ã‚‚æ¥ç¶šç”¨ãƒ¦ãƒ¼ã‚¶ã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã®ã¯ä¸ä¾¿ã ã£ãŸã®ã§ã€ã¨ã¦ã‚‚ã‚ã‚ŠãŒãŸã„ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§ã™ã€‚\nåŒã˜ã‚ˆã†ã«ä¸ä¾¿ã•ã‚’æ„Ÿã˜ã¦ã„ãŸæ–¹ã¯è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n",
    "permalink": "https://michimani.net/post/aws-codecommit-access-repos-with-iam-user/",
    "title": "Git ã®èªè¨¼æƒ…å ±ä¸è¦ï¼CodeCommit ã« IAM ãƒ¦ãƒ¼ã‚¶ã§æ¥ç¶šã§ãã‚‹ HTTPS with git-remote-codecommit ãŒã‚µãƒãƒ¼ãƒˆã•ã‚ŒãŸã¿ãŸã„ãªã®ã§è©¦ã—ã¦ã¿ã¾ã—ãŸ"
  },
  {
    "contents": "3æœˆã‹ã‚‰ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ãŒæœ¬æ ¼çš„ã«å°å…¥ã•ã‚Œã‚‹ã“ã¨ã«ãªã£ãŸã®ã§ã€å‰ã‹ã‚‰æ°—ã«ãªã£ã¦ã„ãŸå¤–ä»˜ã‘ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã€ŒREALFORCE for Macã€ã‚’è³¼å…¥ã—ã¾ã—ãŸã€‚for Mac ã«ã‚‚æ§˜ã€…ãªãƒ¢ãƒ‡ãƒ«ãŒã‚ã‚Šã¾ã™ãŒã€ä»Šå›è³¼å…¥ã—ãŸã®ã¯ ãƒ†ãƒ³ã‚­ãƒ¼ãƒ¬ã‚¹/APC å¯¾å¿œ/æ—¥æœ¬èªé…åˆ—/ãƒ–ãƒ©ãƒƒã‚¯+ã‚·ãƒ«ãƒãƒ¼ ãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚ä»Šå›ã¯ãã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã™ã€‚\nMac ã®ã‚­ãƒ¼é…åˆ—ã«å¯¾å¿œã—ãŸå¤–ä»˜ã‘ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’æ¢ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«æ…£ã‚Œã°å¹¸ã„ã§ã™ã€‚\nç›®æ¬¡ REALFORCE for Mac for Mac ã®ãƒ©ã‚¤ãƒ³ãƒŠãƒƒãƒ— APC æ©Ÿèƒ½ã®æœ‰ç„¡ ã‚‚ã¨ã‚‚ã¨ä½¿ã£ã¦ã„ãŸã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ ãã—ã¦ãƒ•ã‚©ãƒ¼ã‚¹ã®åŠ›ã‚’æ‰‹ã«å…¥ã‚ŒãŸ ãªã«ã“ã‚Œã‹ã£ã“ã„ã„ å¤§ãã•ãƒ»é‡ã•ã«ã¤ã„ã¦ è‚å¿ƒã®ä½¿ç”¨æ„Ÿã¯ ãã®ä»–ã®ç‰¹å¾´ ã¾ã¨ã‚ REALFORCE for Mac ãã‚‚ãã‚‚ REALFORCE ã¨ã¯ã€æ±ãƒ—ãƒ¬ã¨ã„ã†æ—¥æœ¬ã®ä¼æ¥­ãŒè²©å£²ã—ã¦ã„ã‚‹ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ã™ã€‚ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã«é–¢ã—ã¦ã¯ãƒ‰ç´ äººãªã®ã§ã‚ã¾ã‚Šè©³ã—ãã¯æ›¸ãã¾ã›ã‚“ (æ›¸ã‘ã¾ã›ã‚“) ãŒã€æ‰“éµæ„ŸãŒæ°—æŒã¡ã‚ˆãã€é™éŸ³ã§ã€ã‚­ãƒ¼ã®æ§‹é€ ã‹ã‚‰ã‚‚èª¤å…¥åŠ›ãŒç™ºç”Ÿã—ã¥ã‚‰ããªã£ã¦ã„ãŸã‚Šã€ç‹¬è‡ªã® APC ã¨ã„ã†æ©Ÿèƒ½ã«ã‚ˆã£ã¦ã‚­ãƒ¼ã®åå¿œé€Ÿåº¦ã‚’å¤‰æ›´ã§ããŸã‚Šã€ã¨ã«ã‹ãé«˜æ©Ÿèƒ½ã§è©•ä¾¡ã®é«˜ã„ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ã™ã€‚\nã“ã‚Œã¾ã§ã¯ Windows ã®ã‚­ãƒ¼é…åˆ—ã®ã‚‚ã®ã—ã‹è²©å£²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã§ã—ãŸãŒã€æ˜¨å¹´ã« for Mac ã¨ã—ã¦ Mac ç‰ˆãŒç™ºå£²ã•ã‚Œã¾ã—ãŸã€‚\nfor Mac ã®ãƒ©ã‚¤ãƒ³ãƒŠãƒƒãƒ— for Mac ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ãƒ¢ãƒ‡ãƒ«ãŒç™ºå£²ã•ã‚Œã¦ã„ã¾ã™ã€‚\nãƒ†ãƒ³ã‚­ãƒ¼ãƒ¬ã‚¹ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰\nAPC ã‚ã‚Š (ã‚¹ã‚¤ãƒƒãƒéŸ³:é™éŸ³ã€ã‚­ãƒ¼è·é‡:30g) US é…åˆ— R2TLSA-US3M-WH R2TLSA-US3M-BK JIS é…åˆ— R2TLSA-JP3M-WH R2TLSA-JP3M-BK APC ãªã— (ã‚¹ã‚¤ãƒƒãƒéŸ³:æ¨™æº–ã€ã‚­ãƒ¼è·é‡:å¤‰è·é‡) US é…åˆ— R2TL-USVM-WH R2TL-USVM-BK JIS é…åˆ— R2TL-JPVM-WH R2TL-JPVM-BK ãƒ•ãƒ«ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰\nAPC ã‚ã‚Š (ã‚¹ã‚¤ãƒƒãƒéŸ³:é™éŸ³ã€ã‚­ãƒ¼è·é‡:30g) JIS é…åˆ— R2SA-JP3M-WH R2SA-JP3M-BL APC ãªã— (ã‚¹ã‚¤ãƒƒãƒéŸ³:æ¨™æº–ã€ã‚­ãƒ¼è·é‡:å¤‰è·é‡) JIS é…åˆ— R2-JPVM-WH R2-JPVM-BK è£½å“ - Home \u0026amp;amp; Office - Mac | REALFORCE | æ—¥æœ¬è£½ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®æœ€é«˜å³° ãƒ†ãƒ³ã‚­ãƒ¼ãƒ¬ã‚¹ã‹ãƒ•ãƒ«ã‚µã‚¤ã‚ºã‹ã€ã¾ãŸãã‚Œãã‚Œ APC æ©Ÿèƒ½ã®æœ‰ç„¡ãŒå¤§ããªé•ã„ã¨ãªã‚Šã¾ã™ã€‚ãƒ†ãƒ³ã‚­ãƒ¼ãƒ¬ã‚¹ãƒ¢ãƒ‡ãƒ«ã«ã¯ US ã¨ JIS ä¸¡æ–¹ã®é…åˆ—ã®ãƒ¢ãƒ‡ãƒ«ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ãŒã€ãƒ•ãƒ«ã‚µã‚¤ã‚ºã«ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã¯ JIS é…åˆ—ã®ã¿ã§ã™ã€‚\nã¾ãŸã€å…¨ãƒ¢ãƒ‡ãƒ«å…±é€šã§æœ‰ç·š (USB type A) ã®ã¿ã§ã™ã€‚\nAPC æ©Ÿèƒ½ã®æœ‰ç„¡ APC æ©Ÿèƒ½ã®æœ‰ç„¡ãŒå¤§ããªé•ã„ã ã¨æ›¸ãã¾ã—ãŸãŒã€ã“ã®æ©Ÿèƒ½ã®æœ‰ç„¡ã«ã‚ˆã£ã¦ã‚¹ã‚¤ãƒƒãƒéŸ³ã¨ã‚­ãƒ¼è·é‡ã«ã¤ã„ã¦ã‚‚é•ã„ãŒç”Ÿã¾ã‚Œã¾ã™ã€‚\nä¸Šã®ãƒ¢ãƒ‡ãƒ«ä¸€è¦§ã«ã‚‚æ›¸ã„ã¦ã„ã¾ã™ãŒã€ APC ã‚ã‚Š ãƒ¢ãƒ‡ãƒ«ã ã¨ã‚¹ã‚¤ãƒƒãƒéŸ³ã¯é™éŸ³ã€ã‚­ãƒ¼è·é‡ã¯ 30g ã¨ãªã‚Šã¾ã™ã€‚ä¸€æ–¹ã§ APC ãªã— ãƒ¢ãƒ‡ãƒ«ã§ã¯ã€ã‚¹ã‚¤ãƒƒãƒéŸ³ãŒæ¨™æº–ã€ã‚­ãƒ¼è·é‡ã¯å¤‰è·é‡ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nãã‚‚ãã‚‚ APC æ©Ÿèƒ½ã¨ã¯ APC (ã‚¢ã‚¯ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚¤ãƒ³ãƒˆãƒã‚§ãƒ³ã‚¸ãƒ£ãƒ¼) æ©Ÿèƒ½ã¨ã¯ã€ã‚­ãƒ¼ã‚¹ã‚¤ãƒƒãƒã®ã‚ªãƒ³ä½ç½®ã‚’èª¿æ•´ã™ã‚‹ã“ã¨ãŒã§ãã‚‹æ©Ÿèƒ½ã§ã™ã€‚APC æ©Ÿèƒ½æ­è¼‰ãƒ¢ãƒ‡ãƒ«ã§ã¯ã‚­ãƒ¼ã‚¹ã‚¤ãƒƒãƒã®ã‚ªãƒ³ä½ç½®ã‚’ 1.5mm ã€ 2.2mm ã€ 3.0mm ã®3 æ®µéšã§èª¿æ•´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®èª¿æ•´ã¯ã‚­ãƒ¼å…¨ä½“ã§ä¸€æ‹¬ã—ã¦è¨­å®šã™ã‚‹ã“ã¨ã¯ã‚‚ã¡ã‚ã‚“ã§ã™ãŒã€ã‚­ãƒ¼ã”ã¨ã«è¨­å®šã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ã“ã®å€¤ãŒå°ã•ã„ã»ã©å°‘ãªã„æŠ¼ã—è¾¼ã¿é‡ã§ã‚­ãƒ¼ã‚ªãƒ³ã¨ãªã‚‹ãŸã‚ã€å°‘ã—ã®åŠ›ã§ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚\nè£½å“ : REALFORCE TKL SA for Mac / R2TLSA-JP3M-BK | REALFORCE | æ—¥æœ¬è£½ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®æœ€é«˜å³° ã“ã®æ©Ÿèƒ½ã‚’æ­è¼‰ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šé€šå¸¸ã®ãƒ¡ã‚«ãƒ‹ã‚«ãƒ«ã‚­ãƒ¼ã‚¹ã‚¤ãƒƒãƒã‚ˆã‚Šã‚‚æœ€å¤§ã§ 25 % é«˜é€Ÿã«å…¥åŠ›ãŒã§ãã‚‹ã‚ˆã«ãªã‚‹ã‚ˆã†ã§ã™ã€‚(æ±ãƒ—ãƒ¬èª¿ã¹)\nAPC ã‚ã‚Šãƒ¢ãƒ‡ãƒ«ã§ã¯ã‚­ãƒ¼è·é‡ãŒ 30g ã§å›ºå®šã§ã™ãŒã€ã‚­ãƒ¼ã‚ªãƒ³ã®ä½ç½®ã‚’èª¿æ•´ã™ã‚‹ã“ã¨ã§åå¿œé€Ÿåº¦ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nAPC ãªã—ãƒ¢ãƒ‡ãƒ«ã®å¤‰è·é‡ã¨ã¯ ã‚ã‚‰ã‹ã˜ã‚ã‚­ãƒ¼ã«ã‚ˆã£ã¦è·é‡ãŒ (ç‰©ç†çš„ã«) è¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚REALFORCE for Mac ã® APC ãªã—ãƒ¢ãƒ‡ãƒ«ã§ã¯ã€ã‚­ãƒ¼ã«ã‚ˆã£ã¦è·é‡ãŒ 30g ã€45g ã€ 55g ã«è¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒ›ãƒ¼ãƒ ãƒã‚¸ã‚·ãƒ§ãƒ³ã«ç½®ã„ãŸéš›ã«ã€ä¸»è¦éƒ¨åˆ†ã¯è·é‡ãŒé‡ãã€å°æŒ‡ã§å…¥åŠ›ã™ã‚‹ã‚ˆã†ãªã‚­ãƒ¼ã¯è·é‡ãŒè»½ããªã£ã¦ã„ã‚‹ã€ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚\nç‰¹å¾´ | REALFORCE | æ—¥æœ¬è£½ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®æœ€é«˜å³° ã‚‚ã¨ã‚‚ã¨ä½¿ã£ã¦ã„ãŸã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ æ™®æ®µä½¿ã£ã¦ã„ã‚‹ã®ã¯ MacBook Pro 2018 (ä»•äº‹ã§ã¯åˆ¥ã® MacBook Pro 2018) ã§ã™ãŒã€ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã§ä½¿ç”¨ã™ã‚‹éš›ã«ã‚‚å¤–ä»˜ã‘ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã¯ä½¿ç”¨ã›ãšã€MacBook Pro æœ¬ä½“ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã—ãŸã€‚\nMacBook Pro ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã¨ã„ãˆã°ä½•ã‹ã¨å•é¡ŒãŒå¤šã„ã®ã§ã™ãŒã€è«¸ã€…ãŒæ”¹å–„ã•ã‚ŒãŸã¨è¨€ã‚ã‚Œã¦ã„ãŸ 2018 å¹´ãƒ¢ãƒ‡ãƒ«ã§ã•ãˆã‚‚è³¼å…¥ã‹ã‚‰æ•°ãƒ¶æœˆå¾Œã«ã¯ãƒãƒ£ã‚¿ãƒªãƒ³ã‚°ãŒç™ºç”Ÿã—ã€ Apple Store é§†ã‘è¾¼ã‚“ã ã¨ã„ã†æ€ã„å‡ºãŒã‚ã‚Šã¾ã™ã€‚\nãã®å¾Œã¯ç‰¹ã«ä¸å…·åˆãªãå‹•ä½œã—ã¦ã„ã¾ã—ãŸã€‚ã“ã®å•é¡Œã•ãˆãªã‘ã‚Œã° MacBook Pro ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã¯ã™ã”ãè‰¯ã„ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\nãŸã ã€ã‚„ã£ã±ã‚Šãƒ‡ãƒ¥ã‚¢ãƒ«ã§ä½¿ç”¨ã™ã‚‹ã¨ãªã‚‹ã¨å¤§ãã„ç”»é¢ã‚’ãƒ¡ã‚¤ãƒ³ã§ä½¿ã„ãŸã„ã®ã§å¤–ä»˜ã‘ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãŒæ¬²ã—ã„ã€ã§ã‚‚ Mac ã®é…åˆ—ã«ç‰¹åŒ–ã—ã¦ã„ã‚‹ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã£ã¦ Apple ç´”æ­£ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãã‚‰ã„ã—ã‹ãªã„ã‚ˆãªãƒ¼ã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚\nã¡ãªã¿ã« Apple ç´”æ­£ã®å¤–ä»˜ã‘ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã«ã¤ã„ã¦ã¯ã€ iMac late 2013 ã«ä»˜å±ã—ã¦ããŸã‚‚ã®ã‚’ãã®ã¾ã¾ iMac ä½¿ã£ã¦ã„ã¾ã™ã®ã§ã€ä¸€å¿œå¤–ä»˜ã‘ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãŒã‚ã‚‹ã¨ã„ãˆã°ã‚ã‚Šã¾ã™ã€‚\nãã—ã¦ãƒ•ã‚©ãƒ¼ã‚¹ã®åŠ›ã‚’æ‰‹ã«å…¥ã‚ŒãŸ æ˜¨ä»Šã®è«¸ã€…ã®æƒ…å‹¢ã‹ã‚‰ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ãŒä¸»ã«ãªã‚‹ã¨ã„ã†ã“ã¨ã§ã€ã“ã‚Œã¾ã§ä»¥ä¸Šã«è‡ªå®…ã§ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã§ä½œæ¥­ã™ã‚‹ã“ã¨ãŒå¢—ãˆã‚‹ã®ã§ã€ã“ã®éš›ã«å¤–ä»˜ã‘ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒ‡ãƒ“ãƒ¥ãƒ¼ã—ã¦ã¿ã‚ˆã†ã¨ã„ã†ã“ã¨ã§ã€å‰ã‹ã‚‰å°‘ã—æ°—ã«ãªã£ã¦ã„ãŸ REALFORCE for Mac ã‚’è³¼å…¥ã—ã¾ã—ãŸã€‚\nä»Šå›è³¼å…¥ã—ãŸãƒ¢ãƒ‡ãƒ«ã¯ã€ ãƒ†ãƒ³ã‚­ãƒ¼ãƒ¬ã‚¹ / APC ã‚ã‚Š / JIS é…åˆ— ãƒ¢ãƒ‡ãƒ« / ãƒ–ãƒ©ãƒƒã‚¯+ã‚·ãƒ«ãƒãƒ¼ (R2TLSA-JP3M-BK) ã§ã™ã€‚\nä»–ã®é¸æŠè‚¢ã¨ã—ã¦ HHKB ã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€ã„ã‚ã‚“ãªãƒ¬ãƒ“ãƒ¥ãƒ¼è¨˜äº‹ã‚’è¦‹ã¦ REALFORCE for Mac ã«ã—ã¾ã—ãŸã€‚ã¾ã‚ã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰åˆå¿ƒè€…ãªã®ã§è¦‹ãŸç›®ãŒã‹ã£ã“ã„ã„ã¨ã„ã†ç†ç”±ãŒä¸€ç•ªå¤§ãã„ã§ã™ã€‚\nãªã«ã“ã‚Œã‹ã£ã“ã„ã„ ã§ã¯ã€ã¾ãšã¯å†™çœŸå¤šã‚ã§ REALFORCE ã®ã‚«ãƒƒã‚³ã‚ˆã•ã‚’ãŠè¦‹ã›ã—ã¦ã„ãã¾ã™ã€‚\nç™½ã„ç®±ã«ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®å›³ãŒæã‹ã‚Œã¦ã„ã¾ã™ã€‚\nãã®ä¸­ã«ã¯é»’ã„ç®±ã€‚ã“ã®ã‚ãŸã‚Šã‹ã‚‰ã‚«ãƒƒã‚³ã‚ˆã•ãŒæº¢ã‚Œã¦ã¾ã™ã€‚\nã‚ã¡ã‚ƒãã¡ã‚ƒã‚«ãƒƒã‚³ã„ã„ã§ã™ã­ã€‚\nä½•ãŒã‚«ãƒƒã‚³ã„ã„ã‹ã£ã¦ã€ JIS é…åˆ—ã§ã¯ã‚ã‚‹ã‚‚ã®ã®ã€ã‹ãªè¡¨ç¤ºãŒãªãã¦ã‚¹ãƒƒã‚­ãƒªã—ã¦ã‚‹ã¨ã“ã‚ã§ã™ã­ã€‚å†™çœŸã§ã¯å°‘ã—è–„ã„è‰²ã«å†™ã£ã¦ã„ã¾ã™ãŒã€å®Ÿéš›ã¯è‹¥å¹²ç°è‰²ã£ã½ããªã£ãŸå¢¨è‰²ã£ã¦ã„ã†æ„Ÿã˜ã§ã€ãã“ã«è¼åº¦ã®ä½ã„é»„åœŸè‰²ã§åˆ»å°ãŒã•ã‚Œã¦ãŠã‚Šã€åˆ»å°ã®ä¸»å¼µãŒã»ã¨ã‚“ã©ã‚ã‚Šã¾ã›ã‚“ã€‚\nçœŸä¸Šã‹ã‚‰è¦‹ãŸå…¨ä½“åƒã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚\nè£é¢ã¯ã“ã‚“ãªæ„Ÿã˜ã€‚\nå…¨ãƒ¢ãƒ‡ãƒ«å…±é€šã§æœ‰ç·šã®ã¿ã§ã™ãŒã€é…ç·šã¯ä¸­å¤®ã¨å·¦å³ã® 3 ç®‡æ‰€ã‹ã‚‰å‡ºã™ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ç½®ãå ´æ‰€ã«ã¯èé€šãŒåˆ©ãã¾ã™ã€‚\né«˜ã•èª¿æ•´ã®è„šã¨ 4 éš…ã«æ»‘ã‚Šæ­¢ã‚ã®ã‚´ãƒ ãŒè£…ç€ã•ã‚Œã¦ã„ã¾ã™ã€‚ãªãŠã€é«˜ã•èª¿æ•´ã®è„šã‚’å‡ºã—ãŸæ™‚ã¯ã€æ»‘ã‚Šæ­¢ã‚ã¯æ‰‹å‰å´ã® 2 ç®‡æ‰€ã®ã¿æ¥åœ°ã™ã‚‹å½¢ã«ãªã‚Šã¾ã™ã€‚\nå¤§ãã•ãƒ»é‡ã•ã«ã¤ã„ã¦ ç®±ã‹ã‚‰å–ã‚Šå‡ºã—ãŸã¨ãã®æ„Ÿæƒ³ã¨ã—ã¦ã¯ã€ é‡ã„ãª ã¨ã„ã†ã®ãŒä¸€ç•ªã§ã—ãŸã€‚\nè³¼å…¥æ™‚ã«ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æœ¬ä½“ã®é‡é‡ã¾ã§ã¿ã¦ã„ãªã‹ã£ãŸã®ã§ã™ãŒã€ä»Šå›è³¼å…¥ã—ãŸãƒ†ãƒ³ã‚­ãƒ¼ãƒ¬ã‚¹ãƒ¢ãƒ‡ãƒ«ã®é‡é‡ã¯ 1.1 kg ã¨ã€ãªã‹ãªã‹é‡ãŸã„ã§ã™ã€‚ãƒ•ãƒ«ã‚µã‚¤ã‚ºãƒ¢ãƒ‡ãƒ«ã§ã¯ 1.4 kg ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nãŸã ã—ã€ã“ã®é‡ã•ãŒå®‰å®šæ„Ÿã«ã¤ãªãŒã£ã¦ã„ã¦ã€è£é¢ã®æ»‘ã‚Šæ­¢ã‚ã¨åˆã‚ã•ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ç½®ã„ãŸã¨ãã€ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã—ã¦ã‚‹ã¨ãã®å®‰å®šæ„ŸãŒå‡„ã„ã§ã™ã€‚\nå¤§ãã•ã«é–¢ã—ã¦ã¯ã€æ¯”è¼ƒã¨ã—ã¦ Apple ç´”æ­£ã®ãƒ†ãƒ³ã‚­ãƒ¼ä»˜ãã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã¨ã®ç”»åƒã‚’è¼‰ã›ã¦ãŠãã¾ã™ã€‚\næ¨ªå¹…ã¯ã€å½“ãŸã‚Šå‰ã§ã™ãŒãƒ†ãƒ³ã‚­ãƒ¼ãŒãªã„åˆ†ç‹­ããªã£ã¦ã¾ã™ã€‚ç‰¹ã«ç‹­ã„ã¨ã‹åºƒã„ã¨ã‹æ„Ÿã˜ã‚‹ã‚ˆã†ãªå¹…ã®ã‚µã‚¤ã‚ºé¤¨ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nä¸€æ–¹ã€é«˜ã•ã«é–¢ã—ã¦ã¯ã‹ãªã‚Šé«˜ããªã£ã¦ã„ã¾ã™ã€‚Apple ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã¨ MacBook Pro ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰é¢ã®é«˜ã•ã¯ã»ã¼ä¸€ç·’ãªã®ã§ã€ãã‚Œã¨æ¯”ã¹ã¦ã‚‚ 3 å€ãã‚‰ã„ã®é«˜ã•ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯é«˜ã•èª¿æ•´ã®è„šã‚’å‡ºã—ã¦ã„ãªã„çŠ¶æ…‹ã§ã®æ¯”è¼ƒãªã®ã§ã€è„šã‚’å‡ºã™ã¨ã‹ãªã‚Šé«˜ããªã‚Šã¾ã™ã€‚\nå±Šã„ã¦ã‹ã‚‰ã¾ã æ•°æ™‚é–“ã—ã‹ä½¿ã£ã¦ã„ã¾ã›ã‚“ãŒã€å€‹äººçš„ã«ã¯ã“ã®é«˜ã•ãŒã¡ã‚‡ã£ã¨è¾›ã„ã‹ãªãƒ¼ã¨ã„ã†å°è±¡ã§ã™ã€‚ã“ã‚Œã¾ã§å¹³ãŸã„ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ãšã£ã¨ç”Ÿæ´»ã—ã¦ããŸã®ã§æ…£ã‚Œã¦ã„ãªã„ã¨ã„ã†ã®ã¯å¤§ãã„ã§ã™ãŒã€ä»Šå¾Œã¯æ‰‹é¦–ã‚’ç½®ãå°ã¿ãŸã„ãªã®ã‚’å°å…¥ã™ã‚‹ã‹ã‚‚çŸ¥ã‚Œã¾ã›ã‚“ã€‚\nè‚å¿ƒã®ä½¿ç”¨æ„Ÿã¯ å±Šã„ã¦ã‹ã‚‰æ•°æ™‚é–“ã€ e-typing ã§æ•°æ™‚é–“ã¨ã“ã®ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã‚‹ãªã‹ã§æ„Ÿã˜ãŸä½¿ç”¨æ„Ÿã«ã¤ã„ã¦ã®æ„Ÿæƒ³ã§ã™ã€‚\nã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã§ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ç·´ç¿’ ã‚¤ãƒ¼ã‚¿ã‚¤ãƒ”ãƒ³ã‚° | e-typing ãƒ­ãƒ¼ãƒå­—ã‚¿ã‚¤ãƒ”ãƒ³ã‚° æ‰“éµéŸ³ãŒæ°—æŒã¡ã„ã„ ã„ã‚ã‚“ãªãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ã¿ã¦ã„ã¦ã€ã‚ˆãæ›¸ã‹ã‚Œã¦ã„ã‚‹ã®ãŒã“ã® éŸ³ãŒæ°—æŒã¡ã„ã„ ã¨ã„ã†æ„Ÿæƒ³ã§ã™ã€‚ãªã«è¨€ã£ã¦ã‚“ã ã‚ã†ãªã£ã¦æ€ã£ã¦ãŸã‚“ã§ã™ãŒã€ãã®æ„å‘³ãŒã‚ˆã†ã‚„ãã‚ã‹ã‚Šã¾ã—ãŸã€‚ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã—ã¦ã„ã¦æ°—æŒã¡ã„ã„ã¨æ€ã†ã“ã¨ãªã‚“ã¦ãªã‹ã£ãŸã‚“ã§ã™ãŒã€ãªã‚“ã¨ã„ã†ã‹ã€ã©ã‚“ã©ã‚“æ–‡å­—ã‚’æ‰“ã¡ãŸããªã‚‹ã‚ˆã†ãªã€ãã‚“ãªéŸ³ã§ã™ã­ã€‚\næ™®æ®µã¯ãªã«ã‹ã—ã‚‰éŸ³æ¥½ã‚’è´ããªãŒã‚‰ãƒ–ãƒ­ã‚°ã‚’æ›¸ãã“ã¨ãŒå¤šã„ã®ã§ã™ãŒã€å¤–éƒ¨ã®éŸ³ã‚’ç„¡ã«ã—ã¦ã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®æ‰“éµéŸ³ã‚’è´ããŸããªã‚‹ã‚ˆã†ãªã€ãã‚“ãªéŸ³ã§ã™ã€‚ã¨ã¦ã‚‚æ°—æŒã¡ã„ã„ã§ã™ã€‚\næ‰“éµéŸ³ã«ã¤ã„ã¦ã¯ã€ e-typing ã‚’è©¦ã—ã¦ã„ã‚‹å ´é¢ã‚’ iPhone 11 Pro ã§ç°¡æ˜“çš„ã«æ’®å½±ã—ãŸã‚‚ã®ãŒã‚ã‚‹ã®ã§ã€å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nREALFORTH for Mac ã®æ‰“éµéŸ³ pic.twitter.com/brb5BJwpGV\n\u0026mdash; ã‚ˆã£ã—ãƒ¼ Lv.854 (@michimani210) March 23, 2020 YouTube ã« 11 åˆ†ãã‚‰ã„ã®å‹•ç”»ã‚‚ã‚¢ãƒƒãƒ—ã—ã¦ã„ã¾ã™ã€‚\nå¿«é©ãªã‚¿ã‚¤ãƒ”ãƒ³ã‚°ä½“é¨“ å±Šã„ã¦ã™ãã«ä½¿ç”¨ã—ãŸæ™‚ç‚¹ã§ã¯ã€ã‚ã¡ã‚ƒãã¡ã‚ƒè»½ã„æŠ¼ã—è¾¼ã¿ã§åå¿œã™ã‚‹ãªãƒ¼ã¨æ€ã£ã¦ã„ã¦ã€ã‚€ã—ã‚è»½ã™ãã‚‹ãªã¨æ€ã£ã¦ã„ãŸã‚“ã§ã™ãŒã€ APC æ©Ÿèƒ½ã§ã‚­ãƒ¼ã‚ªãƒ³ã®ä½ç½®ã‚’å¤‰æ›´ã™ã‚‹ã¨ã€ã‚ã¡ã‚ƒãã¡ã‚ƒã„ã„æ„Ÿã˜ã«ãªã‚Šã¾ã—ãŸã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ä¸€æ‹¬ã§ 2.2mm ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã®ã§ã™ãŒã€ 3.0mm ã«å¤‰æ›´ã™ã‚‹ã“ã¨ã§æœ€é«˜ã®ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ä½“é¨“ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nAPC ã‚„ãã®ä»–è«¸ã€…ã®è¨­å®šã«ã¤ã„ã¦ã¯ REALFORCE ã®å°‚ç”¨ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã§è¡Œã„ã¾ã™ã€‚\nã“ã®ã‚ˆã†ã«ä¸€æ‹¬ã§è¨­å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã—ã€å„æ©Ÿã‚­ãƒ¼ã”ã¨ã«è¨­å®šå€¤ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\nã‚­ãƒ¼ã‚ªãƒ³ã®ä½ç½®ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§åå¿œé€Ÿåº¦ã‚’å¤‰ãˆã‚‰ã‚Œã‚‹ã¨ã„ã†ã®ã‚‚å¤§ãã„ã§ã™ãŒã€ã‚‚ã²ã¨ã¤å¤§ããªè¦å› ã¨ã—ã¦ã¯ã€REALFORCE ã®ç‰¹å¾´ã§ã‚ã‚‹ Nã‚­ãƒ¼ãƒ­ãƒ¼ãƒ«ã‚ªãƒ¼ãƒãƒ¼ ã®æ©æµãŒå¤§ãã„ã§ã™ã€‚\nè¤‡æ•°ã®ã‚­ãƒ¼ãŒåŒæ™‚ã«æŠ¼ã•ã‚ŒãŸå ´åˆã«æŠ¼ã•ã‚ŒãŸé †åºã«å¾“ã£ã¦ã™ã¹ã¦èªè­˜ã•ã‚Œã‚‹ã€ï¼®ã‚­ãƒ¼ãƒ­ãƒ¼ãƒ«ã‚ªãƒ¼ãƒãƒ¼ã€å¯¾å¿œãªã®ã§ã€é«˜é€Ÿå…¥åŠ›æ™‚ã«åŒæ™‚æŠ¼ã—ã®æ§˜ãªå…¥åŠ›ã‚’ã—ã¦ã‚‚å…¨ã¦æ­£ç¢ºã«å…¥åŠ›ã•ã‚Œã¾ã™ã€‚ãƒ—ãƒ­ã®ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã«ã‚‚å®‰å¿ƒã—ã¦ã”ä½¿ç”¨ã„ãŸã ã‘ã¾ã™ã€‚\næ±ãƒ—ãƒ¬ã®ã‚µã‚¤ãƒˆã«æ›¸ã‹ã‚Œã¦ã„ã‚‹é€šã‚Šã€åŒæ™‚æŠ¼ã—ã£ã½ã„é«˜é€Ÿå…¥åŠ›ã§ã‚‚ã—ã£ã‹ã‚Šã¨åå¿œã—ã¦é †ç•ªã«å…¥åŠ›ã•ã‚Œã‚‹ã®ã§ã€ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ä¸­ã«æŠœã‘ãŒã‚ã£ãŸã‚Šã™ã‚‹ã“ã¨ãŒãªãã€ã‚¹ãƒ ãƒ¼ã‚ºã«å…¥åŠ›ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚\nãŸã ã—ã“ã® Nã‚­ãƒ¼ãƒ­ãƒ¼ãƒ«ã‚ªãƒ¼ãƒãƒ¼ã«ã¯ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã‚‚ã‚ã‚‹ã¨æ€ã£ã¦ã„ã¦ã€è¤‡æ•°ã®ã‚­ãƒ¼ã‚’ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ãƒŸã‚¹ã§åŒæ™‚ã«æŠ¼ã—ã¦ã—ã¾ã†ã¨ãã‚Œã‚‚åå¿œã—ã¦ã—ã¾ã†ã‚“ã§ã™ã‚ˆã­ã€‚ã¾ã‚ã€ã“ã‚Œã«é–¢ã—ã¦ã¯ã‚­ãƒ¼ã®é…ç½®ã«æ…£ã‚Œã¦ç¢ºå®Ÿã«ï¼‘ã¤ã®ã‚­ãƒ¼ã‚’æŠ¼ã™ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«æ…£ã‚Œã°ç„¡è¦–ã§ãã‚‹ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã ã¨æ€ã„ã¾ã™ãŒã€æ…£ã‚Œã‚‹ã¾ã§ã¯é€†ã«èª¤å…¥åŠ›ãŒå¤šããªã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nã‚­ãƒ¼ãƒœãƒ¼ãƒ‰è‡ªä½“ã®å®‰å®šæ„ŸãŒæŠœç¾¤ å¤–è¦³ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ã¨ã“ã‚ã§ã‚‚æ›¸ãã¾ã—ãŸãŒã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æœ¬ä½“ãŒ 1.1 kg ã¨ã„ã†é‡ã•ã§ã€ã•ã‚‰ã«è£é¢ã® 4 ç®‡æ‰€ã«æ»‘ã‚Šæ­¢ã‚ãŒã¤ã„ã¦ã„ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®å®‰å®šæ„ŸãŒæŠœç¾¤ã§ã™ã€‚ã“ã‚Œã¯ã‚¿ã‚¤ãƒ”ãƒ³ã‚°æ™‚ã«ã‚‚åŠ¹æœã‚’ç™ºæ®ã—ã¦ã„ã¦ã€å¤šå°‘è’ã„ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚’ã—ã¦ã‚‚ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãŒãšã‚ŒãŸã‚Šã™ã‚‹ã“ã¨ãŒãªã„ã®ã§ã€ã„ã‚ã‚†ã‚‹ã€Œã‚«ã‚¿ã‚«ã‚¿ã‚«ã‚¿ã‚«ã‚¿ã‚«ã‚¿ã‚«ã‚¿ã€ãƒƒã‚¿ãƒ¼ãƒ³ï¼ã€ã¿ãŸã„ãªã“ã¨ã‚’ã‚„ã£ã¦ã‚‚å…¨ç„¶ã³ãã¨ã‚‚ã—ã¾ã›ã‚“ã€‚\nãã‚“ãªã«è’ã„ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚’ã—ãªã„ã¨ã„ã†å ´åˆã§ã‚‚ã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰è‡ªä½“ãŒã‚ºãƒ¬ã‚‹ãƒ»å‹•ãå¿ƒé…ãŒã»ã¨ã‚“ã©ãªã„ã¨ã„ã†ã®ã¯ã€ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚’ã™ã‚‹ä¸Šã§å®Ÿã¯é‡è¦ãªã“ã¨ãªã®ã‹ã‚‚ã—ã‚Œãªã„ãªã¨æ€ã„ã¾ã—ãŸã€‚\nãã®ä»–ã®ç‰¹å¾´ ã“ã“ã¾ã§ç´¹ä»‹ã—ã¦ããŸå†…å®¹ä»¥å¤–ã«ä¸‹è¨˜ã®ã‚ˆã†ãªç‰¹å¾´ã‚‚ã‚ã‚‹ã®ã§ã€ç°¡å˜ã«ç´¹ä»‹ã—ã¦ãŠãã¾ã™ã€‚\nã‚­ãƒ¼ã‚¹ãƒšãƒ¼ã‚µãƒ¼ã«ã‚ˆã‚‹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚° å°‚ç”¨ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã«ã‚ˆã‚‹ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º ã‚­ãƒ¼ã‚¹ãƒšãƒ¼ã‚µãƒ¼ã«ã‚ˆã‚‹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚° REALFORCE for Mac ã«ã¯ä»˜å±å“ã¨ã—ã¦æ¬¡ã®ã‚ˆã†ãªã‚‚ã®ãŒå…¥ã£ã¦ã„ã¾ã™ã€‚\nã“ã®é»’ã„ã®ãŒ ã‚­ãƒ¼ã‚¹ãƒšãƒ¼ã‚µãƒ¼ ã¨å‘¼ã°ã‚Œã‚‹ã‚‚ã®ã§ã€ç´ æã¨ã—ã¦ã¯æŸ”ã‚‰ã‹ã„ã‚¯ãƒƒã‚·ãƒ§ãƒ³ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚ã‚­ãƒ¼ãƒˆãƒƒãƒ—ã‚’å¤–ã—ã¦ã“ã‚Œã‚’æŒŸã‚€ã“ã¨ã«ã‚ˆã£ã¦ã€ã‚­ãƒ¼ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ã®æˆ»ã‚Šã‚’èª¿æ•´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚­ãƒ¼ã‚¹ãƒšãƒ¼ã‚µãƒ¼ã¯æš‘ã•ãŒ 2mm ã¨ 3mm ã®ã‚‚ã®ãŒä»˜å±ã—ã¦ã„ã‚‹ã®ã§ã€ APC ã®è¨­å®šå€¤ã¨åˆã‚ã›ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã‚ˆã‚Šç´ æ—©ã„ã‚­ãƒ¼å…¥åŠ›ã‚’å®Ÿç¾ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã‚ˆã†ã§ã™ã€‚\nã¡ãªã¿ã«ã‚­ãƒ¼ãƒˆãƒƒãƒ—ã‚’å¤–ã™ãŸã‚ã®å·¥å…· (ã‚­ãƒ¼ãƒˆãƒƒãƒ—ãƒ—ãƒ©ãƒ¼) ã‚‚ä»˜å±ã—ã¦ã„ã¾ã™ã€‚\nå°‚ç”¨ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã«ã‚ˆã‚‹ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º APC è¨­å®šã®ã¨ã“ã‚ã§å°‘ã—ç´¹ä»‹ã—ã¾ã—ãŸãŒã€å°‚ç”¨ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§æ§˜ã€…ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚’ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nä¾‹ãˆã° ã‚­ãƒ¼ãƒ­ãƒƒã‚¯ æ©Ÿèƒ½ã€‚\nã“ã®æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ç‰¹å®šã®ã‚­ãƒ¼ã®åå¿œã‚’ç„¡åŠ¹åŒ–ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã“ã®ç”»åƒã§ç„¡åŠ¹åŒ–ã—ã¦ã„ã‚‹ã®ã¯ 1 ã‚­ãƒ¼ã®å·¦ã«ã‚ã‚‹ E/J ã¨ã„ã†ã‚­ãƒ¼ã§ã€ãƒãƒƒã‚¯ã‚¯ã‚¦ã‚©ãƒ¼ãƒˆã‚’å…¥åŠ›ã§ãã‚‹ä¾¿åˆ©ãªã‚­ãƒ¼ã§ã™ã€‚ãŸã ã€ 1 ã‚’æ‰“ã¨ã†ã¨ã™ã‚‹ã¨ãã«ã©ã†ã—ã¦ã‚‚èª¤ã‚¿ã‚¤ãƒ—ã—ã¦ã—ã¾ã†ã®ã§ç„¡åŠ¹åŒ–ã—ã¦ã„ã¾ã™ã€‚\nãã®ä»–ã«ã‚‚ä¸‹è¨˜ã®ã‚ˆã†ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒå¯èƒ½ã§ã™ã€‚\nã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ã®è‰²ãƒ»è¼åº¦å¤‰æ›´ CapsLock ã¨ Ctrl ã‚­ãƒ¼ã®å…¥ã‚Œæ›¿ãˆ ãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ ã¾ã¨ã‚ ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ã«å‚™ãˆã¦æ±ãƒ—ãƒ¬ã®æœ€é«˜å³°ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ REALFORCE for Mac ã‚’è³¼å…¥ã—ã¦ã¿ãŸã®ã§ã€ãã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã—ãŸã€‚\nã»ã¼åˆã‚ã¦ã®å¤–ä»˜ã‘ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ã€ãªã‹ãªã‹ã®ãŠå€¤æ®µãŒã™ã‚‹ã‚‚ã®ã‚’è²·ã£ãŸã®ã§åˆã‚ãªã‹ã£ãŸã‚‰ã©ã†ã—ã‚ˆã†ã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€ææ†‚ã§ã—ãŸã€‚ä½¿ç”¨æ„Ÿã¯æ‰“éµéŸ³ã€åå¿œã‚¹ãƒ”ãƒ¼ãƒ‰å…±ã«æœ€é«˜ã§ã€å¤§æº€è¶³ã§ã™ã€‚ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰è‡ªä½“ã®æ€§èƒ½ã¯å®Œç’§ãªã®ã§ã€ã‚ã¨ã¯äººé–“ã®ã‚¿ã‚¤ãƒ”ãƒ³ã‚°åŠ›ã‚’ä¸Šã’ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nå¤–è¦³ã®ã¨ã“ã‚ã§ã‚‚è§¦ã‚Œã¾ã—ãŸãŒã€ã¯ã‚Šã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®é«˜ã•ã«ã¤ã„ã¦ã¯æ°—ã«ãªã‚‹ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚ã“ã‚Œã°ã£ã‹ã‚Šã¯ã“ã‚Œã¾ã§ã®å¹³ãŸã„ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã°ã‹ã‚Šä½¿ã£ã¦ããŸã¨ã„ã†çµŒç·¯ã‹ã‚‰ã‚‚ã€æ…£ã‚Œã§ã§ã©ã†ã«ã‹ãªã‚‰ãªã„æ°—ãŒã—ã¦ã„ã‚‹ã®ã§ã€æ—©ã„æ®µéšã§æ‰‹é¦–ã‚’è¼‰ã›ã‚‹å°ã‚’è³¼å…¥ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\né€†ã«è¨€ãˆã°ãã‚Œä»¥å¤–ã«é–¢ã—ã¦ã¯è‰¯ã„ã¨ã“ã‚ã—ã‹ãªã„ã®ã§ã€ãã“ã«å¯¾ã™ã‚‹è§£æ±ºç­–ã•ãˆç”¨æ„ã§ãã‚Œã° Mac ç”¨ã®å¤–ä»˜ã‘ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã¨ã—ã¦ã¯ã¨ã¦ã‚‚è‰¯ã„ã‚¢ã‚¤ãƒ†ãƒ ã ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/gadget-review-realforce-for-mac/",
    "title": "[ãƒ¬ãƒ“ãƒ¥ãƒ¼] ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®æœ€é«˜å³° REALFORCE for Mac ã®æ‰“éµæ„ŸãŒæ°—æŒã¡ã‚ˆã™ããŸè©±"
  },
  {
    "contents": "å…ˆæ—¥ JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§åˆã‚ã¦è§¦ã£ãŸ Amazon Transcribe ã§ã™ãŒã€æ–‡å­—èµ·ã“ã—ã®éš›ã«å€‹äººã‚’ç‰¹å®šã§ãã‚‹ã‚ˆã†ãªæ–‡è¨€ (é›»è©±ç•ªå·ã‚„å£åº§ç•ªå·ãªã©) ã‚’è‡ªå‹•ã§å‰Šé™¤ã—ã¦ãã‚Œã‚‹ã¨ã„ã†ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒã‚ã‚Šã¾ã—ãŸã€‚æœ€è¿‘è§¦ã£ãŸã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¨ã„ã†ã“ã¨ã§ã€å®Ÿéš›ã«è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚\nç›®æ¬¡ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®æ¦‚è¦ å‰æ ã‚„ã£ã¦ã¿ã‚‹ éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™ æ™®é€šã«æ–‡å­—èµ·ã“ã—ã—ã¦ã¿ã‚‹ ContentRedaction ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦æ–‡å­—èµ·ã“ã—ã—ã¦ã¿ã‚‹ ã¾ã¨ã‚ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®æ¦‚è¦ Amazon Transcribe to automatically remove sensitive personally identifiable information (PII) from your transcription results. Amazon Transcribe uses state-of-the-art machine learning technology to accurately identify and remove PII. PII removed includes social security number, credit card/bank account information and contact information such as name, email address, phone number and mailing address.\n(å…¬å¼ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã‹ã‚‰æŠœç²‹)\nAWS ã®æ–‡å­—èµ·ã“ã—ã‚µãƒ¼ãƒ“ã‚¹ Amazon Transcribe ã« å€‹äººã‚’ç‰¹å®šã§ãã‚‹æ©Ÿå¯†æƒ…å ± (Personally Identifiable Information (PII)) ã‚’è‡ªå‹•çš„ã«å‰Šé™¤ã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ PII ã¨ã—ã¦èªè­˜ã•ã‚Œã‚‹ã®ã¯ã€ç¤¾ä¼šä¿éšœç•ªå·ã€ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç•ªå·ã€éŠ€è¡Œå£åº§ç•ªå·ã€åå‰ã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã€é›»è©±ç•ªå·ã€ä½æ‰€ãªã©ã§ã™ã€‚\nã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒåˆ©ç”¨ã§ãã‚‹ã®ã¯ã€ Amazon Transcribe ãŒåˆ©ç”¨ã§ãã‚‹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³å…¨ã¦ã§ã™ãŒã€ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹è¨€èªã¯ç¾æ™‚ç‚¹ã§ en-US ã®ã¿ã§ã™ã€‚\nè©³ç´°ã«ã¤ã„ã¦ã¯å…¬å¼ã®ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nAmazon Transcribe now supports automatic content redaction å‰æ ä»Šå›ã¯ Transcribe ã® API ã‚’å®Ÿè¡Œã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€ Lambda é–¢æ•°ã¨ã—ã¦ã§ã¯ãªããƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§å®Ÿè¡Œã—ã¾ã™ã€‚\nã¨ã„ã†ã®ã‚‚ã€ä¸€æ—¦ Lambda ã§å®Ÿè¡Œã—ã‚ˆã†ã¨ã—ãŸã®ã§ã™ãŒã€ã©ã†ã‚„ã‚‰ Lmabda ã® boto3 ãŒæœ€æ–°ã«ãªã£ã¦ã„ãªã„ãŸã‚ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã‹ã‚‰ã§ã™ã€‚\nUnknown parameter in input: \u0026#34;ContentRedaction\u0026#34;, must be one of: TranscriptionJobName, LanguageCode, MediaSampleRateHertz, MediaFormat, Media, OutputBucketName, OutputEncryptionKMSKeyId, Settings ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§è¿½åŠ ã•ã‚ŒãŸ Content Redaction æ©Ÿèƒ½ã‚’ä½¿ã†ã«ã¯ã€ start_transcription_job ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã« ContentRedaction ã‚’æŒ‡å®šã™ã‚‹ã®ã§ã™ãŒã€ boto3 ãŒæœ€æ–°ã§ãªã„ãŸã‚ã«å¯¾å¿œã—ã¦ã„ãªã„ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚\nã“ã®å•é¡Œã«ã¤ã„ã¦ã¯å…¬å¼ã«ã‚‚æ›¸ã‹ã‚Œã¦ãŠã‚Šã€å¯¾å¿œæ–¹æ³•ã¨ã—ã¦ã¯æœ€æ–°ã® boto3 ã‚’ pip ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ Lambda Layer ã‚’ä½œæˆã—ã€ãã® Layer ã‚’ä½¿ã†ã¨ã„ã†æ–¹æ³•ã§ã™ã€‚\nPython (Boto 3) Lambda é–¢æ•°ã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ã‚’ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ å°‘ã—æ‰‹é–“ãŒã‹ã‹ã‚Šãã†ã ã£ãŸã®ã§ã€ä»Šå›ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã§æœ€æ–°ã® boto3 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦è©¦ã—ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚\nã‚„ã£ã¦ã¿ã‚‹ ã§ã¯æ—©é€Ÿã‚„ã£ã¦ã¿ã¾ã™ã€‚\néŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè£…ã®å‰ã«ã€ã‚‚ã¨ã¨ãªã‚‹éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚\nè‡ªåˆ†ã§è‹±èªã‚’å–‹ã£ã¦éŒ²éŸ³ã§ãã‚Œã°ã‚ˆã„ã®ã§ã™ãŒã€ Speaking ã‚¹ã‚­ãƒ«ãŒä½ã„ã®ã§æ–­å¿µã€‚ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã® Google ç¿»è¨³ã§ãã‚Œã£ã½ã„æ–‡è¨€ã‚’éŸ³èª­ã•ã›ã¦ã€ãã‚Œã‚’éŒ²éŸ³ã—ã¦ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚\nè©³ã—ã„æ‰‹é †ã¯å‰²æ„›ã—ã¾ã™ãŒã€ä»Šå›ã¯æ¬¡ã®ã‚ˆã†ãªæ–‡è¨€ã‚’éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦åˆ©ç”¨ã—ã¾ã™ã€‚\næ™®é€šã«æ–‡å­—èµ·ã“ã—ã—ã¦ã¿ã‚‹ ã¾ãšæœ€åˆã¯ ContentRedaction ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç„¡ã—ã§æ–‡å­—èµ·ã“ã—ã—ã¦ã¿ã¾ã™ã€‚\nimport boto3 import datetime def transcribe(): s3 = boto3.client(\u0026#39;s3\u0026#39;) transcribe = boto3.client(\u0026#39;transcribe\u0026#39;) bucket = \u0026#39;jugbgnr24-transcribe-input-michimani\u0026#39; key = \u0026#39;Jennifer_PII.mp3\u0026#39; try: transcribe.start_transcription_job( TranscriptionJobName= datetime.datetime.now().strftime(\u0026#34;%Y%m%d%H%M%S\u0026#34;) + \u0026#39;_Transcription\u0026#39;, LanguageCode=\u0026#39;en-US\u0026#39;, Media={ \u0026#39;MediaFileUri\u0026#39;: \u0026#39;https://s3.ap-northeast-1.amazonaws.com/\u0026#39; + bucket + \u0026#39;/\u0026#39; + key }, OutputBucketName=\u0026#39;jugbgnr24-transcribe-output-michimani\u0026#39; ) except Exception as e: print(e) print(\u0026#39;Error getting object {} from bucket {}. Make sure they exist and your bucket is in the same region as this function.\u0026#39;.format(key, bucket)) raise e if __name__ == \u0026#39;__main__\u0026#39;: transcribe() ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å†…å®¹ã¯ JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨#24 ã®ã‚‚ã®ã‚’ã»ã¼ãã®ã¾ã¾æŒã£ã¦ãã¦ã€S3 ã®ãƒã‚±ãƒƒãƒˆåãŠã‚ˆã³å¯¾è±¡ã®éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«åã¯å›ºå®šã§æ›¸ã„ã¦ã„ã¾ã™ã€‚\njugbgnr24-transcribe-input-michimani ãƒã‚±ãƒƒãƒˆã«éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ« Jennifer_PII.mp3 ã‚’ç½®ã„ã¦ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã€‚ã—ã°ã‚‰ãã™ã‚‹ã¨ jugbgnr24-transcribe-output-michimani ã«æ–‡å­—èµ·ã“ã—çµæœã® JSON ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§å–å¾—ã—ã¦ä¸­èº«ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚(é•·ã„ã®ã§ results.transcripts éƒ¨åˆ†ã®ã¿æŠœç²‹)\n{ \u0026#34;results\u0026#34;: { \u0026#34;transcripts\u0026#34;: [ { \u0026#34;transcript\u0026#34;: \u0026#34;Hello. My name is Jennifer. My phone number is 98765432198 And my main bank account number is 00112233\u0026#34; } ] } } ã»ã¼æœ€åˆã®æ–‡è¨€é€šã‚Šã€æ–‡å­—èµ·ã“ã—ã§ãã¦ã„ã¾ã™ã€‚\nContentRedaction ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦æ–‡å­—èµ·ã“ã—ã—ã¦ã¿ã‚‹ ã§ã¯ä»Šåº¦ã¯ ContentRedaction ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦æ–‡å­—èµ·ã“ã—ã—ã¦ã¿ã¾ã™ã€‚\nimport boto3 import datetime def transcribe(): s3 = boto3.client(\u0026#39;s3\u0026#39;) transcribe = boto3.client(\u0026#39;transcribe\u0026#39;) bucket = \u0026#39;jugbgnr24-transcribe-input-michimani\u0026#39; key = \u0026#39;Jennifer_PII.mp3\u0026#39; try: transcribe.start_transcription_job( TranscriptionJobName= datetime.datetime.now().strftime(\u0026#34;%Y%m%d%H%M%S\u0026#34;) + \u0026#39;_Transcription\u0026#39;, LanguageCode=\u0026#39;en-US\u0026#39;, Media={ \u0026#39;MediaFileUri\u0026#39;: \u0026#39;https://s3.ap-northeast-1.amazonaws.com/\u0026#39; + bucket + \u0026#39;/\u0026#39; + key }, OutputBucketName=\u0026#39;jugbgnr24-transcribe-output-michimani\u0026#39; ContentRedaction={ \u0026#39;RedactionType\u0026#39;: \u0026#39;PII\u0026#39;, \u0026#39;RedactionOutput\u0026#39;: \u0026#39;redacted\u0026#39; } ) except Exception as e: print(e) print(\u0026#39;Error getting object {} from bucket {}. Make sure they exist and your bucket is in the same region as this function.\u0026#39;.format(key, bucket)) raise e if __name__ == \u0026#39;__main__\u0026#39;: transcribe() è‰²ãŒã¤ã„ã¦ã„ã‚‹éƒ¨åˆ†ãŒã€ ContentRedaction ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ã€‚\nRedactionType ã®å€¤ã¨ã—ã¦ã¯ PLL ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nRedactionOutput ã®å€¤ã¨ã—ã¦ã¯ redacted ã¾ãŸã¯ redacted_and_unredacted ã‚’æŒ‡å®šã—ã¾ã™ã€‚redacted ã‚’æŒ‡å®šã—ãŸã¨ãã¯ã€ ContentRedaction ãŒé©ç”¨ã•ã‚ŒãŸçµæœã®ã¿ã€ ä¸€æ–¹ã§ redacted_and_unredacted ã‚’æŒ‡å®šã—ãŸã¨ãã¯ ContentRedaction ãŒé©ç”¨ã•ã‚ŒãŸå ´åˆã¨é©ç”¨ã—ãªã‹ã£ãŸå ´åˆã®ä¸¡æ–¹ã®çµæœãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nã¾ãŸã€ ContentRedaction ãŒé©ç”¨ã•ã‚ŒãŸçµæœã® JSON ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ redacted- ã¨ã„ã†ãƒ—ãƒªãƒ•ã‚£ãƒƒã‚¯ã‚¹ãŒä»˜ä¸ã•ã‚Œã¾ã™ã€‚\nTranscribeService â€” Boto 3 Docs 1.12.9 documentation | Client.start_transcription_job ã“ã‚Œã§å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨ã€çµæœã® JSON ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚(é•·ã„ã®ã§ results.transcripts éƒ¨åˆ†ã®ã¿æŠœç²‹)\n{ \u0026#34;results\u0026#34;: { \u0026#34;transcripts\u0026#34;: [ { \u0026#34;transcript\u0026#34;: \u0026#34;Hello. My name is [PII]. My phone number is [PII] And my main bank account number is [PII]\u0026#34; } ] } } åå‰ã€é›»è©±ç•ªå·ã€å£åº§ç•ªå·ã«è©²å½“ã™ã‚‹éƒ¨åˆ†ãŒ [PII] ã¨ã„ã†æ–‡å­—åˆ—ã§ç½®æ›ã•ã‚Œã¦ã„ã¾ã™ã€‚ã™ã”ã„ã€‚\nã¾ã¨ã‚ Amazon Transcribe ã§æ©Ÿå¯†æƒ…å ±ã‚’è‡ªå‹•ã§å‰Šé™¤ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã¿ãŸã„ãªã®ã§è©¦ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nå€‹äººçš„ã«ã‚¿ã‚¤ãƒ ãƒªãƒ¼ãªã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã ã£ãŸã®ã§è©¦ã—ã¦ã¿ã¾ã—ãŸãŒã€ã“ã‚“ãªã“ã¨ãŒç°¡å˜ã«ã§ãã¦ã—ã¾ã†ã®ã¯æœ¬å½“ã«ã™ã”ã„ãªã¨æ€ã„ã¾ã—ãŸã€‚(å°ä¸¦æ„Ÿ)\nAWS ã®å…¬å¼ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã«ã‚‚ã‚ã‚‹ã‚ˆã†ã«ã€ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã¨ã‹ã‚µãƒãƒ¼ãƒˆã‚»ãƒ³ã‚¿ãƒ¼ã®ä¼šè©±å†…å®¹ã‚’æ–‡å­—èµ·ã“ã—ã—ã¦æ®‹ã—ã¦ã„ã‚‹éš›ã«ã¯æœ‰åŠ¹ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ãªã‚Šãã†ã§ã™ã€‚ãŸã ã—ã€ç¾æ™‚ç‚¹ã§ ContentRedaction ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã®ã¯ en-US ã®ã¿ãªã®ã§ã€æ—¥æœ¬ã§æ©æµã‚’å—ã‘ã‚‹ã“ã¨ã¯ã‚ã¾ã‚Šç„¡ã„ã‚ˆã†ãªæ°—ãŒã—ã¾ã™\u0026hellip;ã€‚\nJAWS-UG åˆå¿ƒè€…æ”¯éƒ¨#24 ã‚µãƒ¼ãƒãƒ¬ã‚¹ãƒãƒ³ã‚ºã‚ªãƒ³å‹‰å¼·ä¼šã®å®¿é¡Œã‚’ã‚„ã£ã¦ã¿ãŸ #jawsug_bgnr #jawsug - michimani.net ",
    "permalink": "https://michimani.net/post/aws-transcribe-automatic-content-redaction/",
    "title": "Amazon Transcribe ã§æ©Ÿå¯†æƒ…å ±ã‚’è‡ªå‹•ã§å‰Šé™¤ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã¿ãŸã„ãªã®ã§è©¦ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "å‰ã«åŒä¸€ã‚«ãƒ†ã‚´ãƒªè¨˜äº‹ã®ä¸€è¦§ã‚’è¨˜äº‹ä¸‹ã«è¡¨ç¤ºã™ã‚‹æ–¹æ³•ã‚’æ›¸ãã¾ã—ãŸãŒã€ä»Šå›ã¯ãã®ã‚¿ã‚°ç‰ˆã§ã™ã€‚è¤‡æ•°ã®ã‚¿ã‚°ãŒä»˜ã‘ã‚‰ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€ãã‚Œãã‚Œã®ã‚¿ã‚°ã«ç´ã¥ãè¨˜äº‹ã®ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ å‰æ ã‚„ã‚‹ã“ã¨ ç¾åœ¨è¨˜äº‹ã®ã‚¿ã‚°åã‚’å–å¾—ã™ã‚‹ å¯¾è±¡ã®ã‚¿ã‚°ãŒä»˜ã‘ã‚‰ã‚ŒãŸè¨˜äº‹ä¸€è¦§ã‚’å–å¾—ã™ã‚‹ è¨˜äº‹ã®ä¸€è¦§ã‚’è¡¨ç¤ºã•ã›ã‚‹ æœ€çµ‚çš„ã«ã©ã†ãªã£ãŸã®ã‹ ã¾ã¨ã‚ å‰æ Hugo 0.65.3 Taxonomies ã‚’ä½¿ã£ã¦ã‚¿ã‚°ç®¡ç†ã—ã¦ã„ã‚‹ ã‚„ã‚‹ã“ã¨ åŸºæœ¬çš„ã«ã¯åŒä¸€ã‚«ãƒ†ã‚´ãƒªã®è¨˜äº‹ä¸€è¦§ã‚’è¡¨ç¤ºã—ãŸã¨ãã¨åŒã˜ã§ã™ã€‚\nå„ãƒ†ãƒ¼ãƒãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ã‚ã‚‹ layouts/_default/single.html ã«ä¿®æ­£ã‚’åŠ ãˆã¾ã™ã€‚\nä»Šå›ã‚‚å‰å›ã¨åŒæ§˜ã« indigo ã®ãƒ†ãƒ¼ãƒã§å®Ÿè£…ã™ã‚‹ã®ã§ã€å¯¾è±¡ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ themes/indigo/layouts/_default/single.html ã¨ãªã‚Šã¾ã™ã€‚\nç¾åœ¨è¨˜äº‹ã®ã‚¿ã‚°åã‚’å–å¾—ã™ã‚‹ åŒä¸€ã‚¿ã‚°ã®è¨˜äº‹ä¸€è¦§ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ã€ç¾åœ¨ã®è¨˜äº‹ã®ã‚¿ã‚°åã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚«ãƒ†ã‚´ãƒªã®æ™‚ã¨åŒæ§˜ã«ã€æ¬¡ã®ã‚ˆã†ãªè¨˜è¿°ã§ã‚¿ã‚°ã® ãƒªã‚¹ãƒˆ ã‚’å–å¾—ã§ãã¾ã™ã€‚\n{{ .Params.tags }} å‰å›ã¯ã€ ä¸€ã¤ã®è¨˜äº‹ã«ã‚«ãƒ†ã‚´ãƒªã¯ä¸€ã¤ã—ã‹è¨­å®šã—ãªã„ ã¨ã„ã†æš—é»™ã®ãƒã‚¤ãƒ«ãƒ¼ãƒ«ã«åŸºã¥ã„ã¦ã€ã‚«ãƒ†ã‚´ãƒªåã¯æ¬¡ã®ã‚ˆã†ãªè¨˜è¿°ã§å–å¾—ã—ã¦ã„ã¾ã—ãŸã€‚\n{{ $c := index .Params.categories 0 }} ãŸã ã—ã€ä»Šå›ã¯è¤‡æ•°ã®ã‚¿ã‚°ãŒä»˜ã‘ã‚‰ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã€ã™ã¹ã¦ã®ã‚¿ã‚°ã«é–¢ã—ã¦é–¢é€£ã™ã‚‹è¨˜äº‹ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹ã®ã§ã€æ¬¡ã®ã‚ˆã†ãªè¨˜è¿°ã§ã‚¿ã‚°ã®ãƒªã‚¹ãƒˆã‹ã‚‰ã‚¿ã‚°åã‚’å†å¸°çš„ã«å–å¾—ã—ã¾ã™ã€‚\n{{ range .Params.tags }} {{ $t := . }} {{ end }} ã“ã® range ã®ä¸­ã§ã€å„ã‚¿ã‚°ã«é–¢é€£ã™ã‚‹è¨˜äº‹ä¸€è¦§ã‚’å–å¾—ã—ã€è¡¨ç¤ºã—ã¦ã„ãã¾ã™ã€‚\nå¯¾è±¡ã®ã‚¿ã‚°ãŒä»˜ã‘ã‚‰ã‚ŒãŸè¨˜äº‹ä¸€è¦§ã‚’å–å¾—ã™ã‚‹ $t ã«ã¯ã‚¿ã‚°åãŒæ ¼ç´ã•ã‚Œã‚‹ã®ã§ã€ãã®å€¤ã‚’ç”¨ã„ã¦è¨˜äº‹ã®ä¸€è¦§ã‚’å–å¾—ã—ã¾ã™ã€‚å…·ä½“çš„ã«ã¯æ¬¡ã®ã‚ˆã†ãªå½¢ã§å–å¾—ã—ã¾ã™ã€‚\n{{ $tposts := index $site_obj.Taxonomies.tags (replace (lower $t) \u0026#34; \u0026#34; \u0026#34;-\u0026#34;) }} ã“ã‚Œã§ $tposts å¤‰æ•°ã«ã¯ã€ã‚¿ã‚°å $t ãŒä»˜ã‘ã‚‰ã‚ŒãŸè¨˜äº‹ã®ä¸€è¦§ãŒæ ¼ç´ã•ã‚Œã¾ã™ã€‚\nã¨ã¯è¨€ã£ã¦ã‚‚æ€¥ã«å‡ºã¦ããŸéƒ¨åˆ†ãŒã„ãã¤ã‹ã‚ã‚‹ã®ã§ã€ãã‚Œãã‚Œèª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚\nå¤‰æ•° $site_obj ã¾ãšã¯ $site_obj ã¨ã„ã†å¤‰æ•°ã§ã™ã€‚\nã“ã‚Œã¯ range ã®å¤–ã§æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã—ã¦ãŠãã¾ã™ã€‚\n{{ $site_obj := .Site }} range ã®ä¸­ã§ã¯ .Site ã‚’æ–°ãŸã«å®šç¾©ã—ãŸå¤‰æ•°ã¨ã—ã¦ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ç†ç”±ã¨ã—ã¦ã¯ã€ range ã®ä¸­ã§ã¯ . ãŒç¤ºã™ã®ã¯å€‹åˆ¥ã®ã‚¿ã‚°åãªã®ã§ã€ .Site ã‚’å‚ç…§ã™ã‚‹ã“ã¨ãŒã§ããªã„ã‹ã‚‰ã§ã™ã€‚\nè©¦ã—ã« .Site ã®ã¾ã¾ä½¿ç”¨ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã™ã€‚ (é©å®œ æ”¹è¡Œã—ã¦ã„ã¾ã™)\nrender of \u0026#34;page\u0026#34; failed: \u0026#34;/path/to/michimani.net/themes/indigo/layouts/_default/single.html:106:33\u0026#34;: execute of template failed: template: _default/single.html:106:33: executing \u0026#34;_default/single.html\u0026#34; at \u0026lt;.Site.Taxonomies.tags\u0026gt;: can\u0026#39;t evaluate field Site in type string Rebuild failed: Failed to render pages: render of \u0026#34;page\u0026#34; failed: \u0026#34;/path/to/michimani.net/themes/indigo/layouts/_default/single.html:106:33\u0026#34;: execute of template failed: template: _default/single.html:106:33: executing \u0026#34;_default/single.html\u0026#34; at \u0026lt;.Site.Taxonomies.tags\u0026gt;: can\u0026#39;t evaluate field Site in type string ãªã®ã§ã€ range ã®å¤–ã§ .Site ã‚’å¤‰æ•°ã«ä»£å…¥ã—ã¦ãŠã„ã¦ã€ range ã®ä¸­ã§ã¯å¤‰æ•°ã‚’ä»‹ã—ã¦ .Site ã®æƒ…å ±ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nåŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã®ç½®æ› ã‚¿ã‚°åã«ã¯åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã‚’å«ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ãŒã€ .Site.Taxonomies.tags ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚­ãƒ¼ã¨ãªã£ã¦ã„ã‚‹ã‚¿ã‚°åã§ã¯è‹±æ•°å­—ãŒå°æ–‡å­—ã«ã€åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ãŒãƒã‚¤ãƒ•ãƒ³ - ã«ã€ãã‚Œãã‚Œç½®æ›ã•ã‚Œã¦ã„ã¾ã™ã€‚\nä¾‹ãˆã° Amazon S3 ã¨ã„ã†ã‚¿ã‚°åã§ã‚ã‚Œã°ã€ã‚­ãƒ¼åã¨ã—ã¦ã¯ amazon-s3 ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nä¸€æ–¹ã§ range ã§å›ã—ã¦ã„ã‚‹ .Params.tags ã®ã‚¿ã‚°åã¯ Amazon S3 ã¨ã„ã£ãŸæœ¬æ¥ã®ã‚¿ã‚°åãªã®ã§ã€æ¬¡ã®è¨˜è¿°ã§è‹±æ•°å­—ã®å°æ–‡å­—åŒ–ã¨åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã®ç½®æ›ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚\n{{ (replace (lower $t) \u0026#34; \u0026#34; \u0026#34;-\u0026#34;) }} replace | Hugo è¨˜äº‹ã®ä¸€è¦§ã‚’è¡¨ç¤ºã•ã›ã‚‹ è¨˜äº‹ã®ä¸€è¦§ãŒå–å¾—ã§ããŸã®ã§ã€ã‚ã¨ã¯è¡¨ç¤ºã™ã‚‹ã ã‘ã§ã™ã€‚\nã“ã®éƒ¨åˆ†ã¯ã‚«ãƒ†ã‚´ãƒªã®å ´åˆã¨åŒã˜ãªã®ã§ã€ç‰¹ã«æ–°ã—ã„ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å‰å›ã¨åŒæ§˜ã«ã€è©²å½“ã™ã‚‹è¨˜äº‹ä¸€è¦§ã®æœ€åˆã® 5 ä»¶ã®ã¿ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚\n{{ range first 5 $tposts }} {{ .Render \u0026#34;li\u0026#34; }} {{ end }} æœ€çµ‚çš„ã«ã©ã†ãªã£ãŸã®ã‹ ã“ã“ã¾ã§ã‚„ã£ãŸã“ã¨ã‚’ã¾ã¨ã‚ã‚‹ã¨ã€å„ã‚¿ã‚°ã®è¨˜äº‹ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹éƒ¨åˆ†ã¯æ¬¡ã®ã‚ˆã†ãªå½¢ã«ãªã‚Šã¾ã—ãŸã€‚\n{{ if and (.Params.tags) }} {{ $site_obj := .Site }} {{ range .Params.tags }} {{ $t := . }} {{ $tposts := index $site_obj.Taxonomies.tags (replace (lower $t) \u0026#34; \u0026#34; \u0026#34;-\u0026#34;) }} {{ if gt (len $tposts) 1 }} \u0026lt;div class=\u0026#34;same-category-tags-posts-area\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;Other posts tagged by \u0026#34;{{ $t }}\u0026#34;\u0026lt;/h2\u0026gt; {{ range first 5 $tposts }} {{ .Render \u0026#34;li\u0026#34; }} {{ end }} {{ if gt (len $tposts) 5 }} \u0026lt;a class=\u0026#34;more-btn\u0026#34; href=\u0026#34;/tags/{{ lower $t }}/\u0026#34;\u0026gt;more ...\u0026lt;/a\u0026gt; {{ else }} \u0026lt;a class=\u0026#34;more-btn\u0026#34; href=\u0026#34;/tags/\u0026#34;\u0026gt;other tags\u0026lt;/a\u0026gt; {{ end }} \u0026lt;/div\u0026gt; {{ end }} {{ end }} {{ end }} ãƒªã‚¹ãƒˆã®ç´°ã‹ã„è¡¨ç¤ºæ¡ä»¶ã¯ã‚«ãƒ†ã‚´ãƒªã®å ´åˆã¨åŒã˜ã§ã€åŒä¸€ã‚¿ã‚°ã®è¨˜äº‹ãŒ 5 ä»¶ä»¥ä¸Šã‚ã‚Œã°ã‚¿ã‚°åˆ¥è¨˜äº‹ä¸€è¦§ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯ã‚’ more ã€ 5 ä»¶ã‚ˆã‚Šå°‘ãªã‘ã‚Œã°ã‚¿ã‚°ä¸€è¦§ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯ã‚’ othre tags ã§ã€ãã‚Œãã‚Œè¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nå®Ÿéš›ã«ã¯æ¬¡ã®ã‚ˆã†ãªè¡¨ç¤ºã«ãªã‚Šã¾ã™ã€‚\nã¾ã¨ã‚ Hugo ã§ä½œã£ãŸãƒ–ãƒ­ã‚°ã®è¨˜äº‹ä¸‹ã«ã€ãã®è¨˜äº‹ã¨åŒã˜ã‚¿ã‚°ãŒä»˜ã‘ã‚‰ã‚Œã¦ã„ã‚‹è¨˜äº‹ã®ä¸€è¦§ã‚’è¡¨ç¤ºã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nä»Šã¾ã§ã¯å„è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«éƒ¨åˆ†ã«ã‚¿ã‚°åˆ¥ä¸€è¦§ã¸ã®ãƒªãƒ³ã‚¯ã‚’ç½®ã„ã¦ã„ã¾ã—ãŸãŒã€ä»Šå› è¨˜äº‹ã®ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ã§ã‚¿ã‚°åˆ¥ä¸€è¦§ãƒšãƒ¼ã‚¸ã¸é·ç§»ã™ã‚‹ã¨ã„ã†ã‚¹ãƒ†ãƒƒãƒ—ãŒãªããªã‚Šã€å›éŠãŒã—ã‚„ã™ããªã‚Šã¾ã—ãŸã€‚\nã“ã®ãƒ–ãƒ­ã‚°ã«é–¢ã—ã¦ã¯è‡ªåˆ†ã§ã‚‚è¦‹è¿”ã™ã“ã¨ãŒå¤šã„ã®ã§ã€é–¢é€£ã™ã‚‹æƒ…å ±ãŒè¿½ã„ã‹ã‘ã‚„ã™ããªã£ãŸãªãƒ¼ã¨ã„ã†å°è±¡ã§ã™ã€‚\nåŒã˜ã‚ˆã†ãªã“ã¨ã‚’å®Ÿç¾ã—ãŸã„ã¨è€ƒãˆã¦ã„ã‚‹æ–¹ã¯ã€æ˜¯éå‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\n[Hugo] è¨˜äº‹ä¸‹ã«åŒã˜ã‚«ãƒ†ã‚´ãƒªã®è¨˜äº‹ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹ - michimani.net ",
    "permalink": "https://michimani.net/post/development-show-other-posts-tagged-by-the-same-tag-on-hugo/",
    "title": "[Hugo] è¨˜äº‹ä¸‹ã«åŒã˜ã‚¿ã‚°ãŒä»˜ã‘ã‚‰ã‚Œã¦ã„ã‚‹è¨˜äº‹ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹"
  },
  {
    "contents": "AWS Chalice ã§ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã¨ãã«ã€è‡ªå‹•ã§ä½œæˆã•ã‚Œã‚‹ã¯ãšã® IAM ãƒãƒªã‚·ãƒ¼ãŒä½œæˆã•ã‚Œãªã‹ã£ãŸå ´é¢ãŒã‚ã£ãŸã®ã§ã€ãã®ã¨ãã®è©±ã§ã™ã€‚\nç›®æ¬¡ AWS Chalice ã¨ã¯ ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’è§£æã—ã¦å¿…è¦ãªãƒãƒªã‚·ãƒ¼ã‚’è‡ªå‹•çš„ã«ä»˜ä¸ ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã‚ˆã—ãªã«è‡ªå‹•ä½œæˆã•ã‚Œã‚‹å ´åˆ ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã‚ˆã—ãªã«è‡ªå‹•ä½œæˆã•ã‚Œãªã„å ´åˆ AWC Chalice ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰è§£æã¯ Client class ã§ã®å®Ÿè£…æ™‚ã®ã¿æœ‰åŠ¹ Client ã¨ Resource ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®é•ã„ AWS Chalice ã§ä½œæˆã•ã‚Œã‚‹ IAM ãƒ­ãƒ¼ãƒ«ã«ã‚’æ‰‹å‹•ã§ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ ã¾ã¨ã‚ AWS Chalice ã¨ã¯ AWS Chalice ã¨ã¯ã€ Python ã§ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ãƒã‚¤ã‚¯ãƒ­ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚AWS ç’°å¢ƒä¸Šã§ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ã¯ AWS SAM ã‚„ Serverless Framework ãªã©ãŒã‚ã‚Šã¾ã™ãŒã€ Chalice ã¯ãã‚Œã‚‰ã«æ¯”ã¹ã¦éå¸¸ã«ã‚·ãƒ³ãƒ—ãƒ«ã§ã€ AWS ã§ã®ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã‚’å§‹ã‚ãŸã„ã¨ã„ã†äººã«ã¨ã£ã¦ã¯å°å…¥ã«ã‚‚ã£ã¦ã“ã„ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚\nGetting Started â€” Python Serverless Microframework for AWS 1.12.0 documentation aws/chalice: Python Serverless Microframework for AWS Chalice ã§è‡ªå‹•çš„ã«ä½œæˆã•ã‚Œã‚‹ AWS ãƒªã‚½ãƒ¼ã‚¹ã¯ API Gateway ã® API ã¨ Lambda ã®é–¢æ•°ã€ IAM ãƒ­ãƒ¼ãƒ«ã¨ãƒãƒªã‚·ãƒ¼ã®ã¿ã§ã™ã€‚ä»–ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã¯ãã®ä»–ã®ãƒªã‚½ãƒ¼ã‚¹ã‚‚ä½œæˆã§ããŸã‚Šã—ã¾ã™ãŒã€ Chalice ã§ã¯å¿…è¦æœ€ä½é™ã®ãƒªã‚½ãƒ¼ã‚¹ã®ã¿ãŒä½œæˆã•ã‚Œã¾ã™ã€‚ã¾ãŸã€é–‹ç™ºè¨€èªã‚‚ Python å›ºå®šãªã®ã§ã€ãã‚Œã‚‚å«ã‚ã¦ã‚·ãƒ³ãƒ—ãƒ«ã§ã¨ã£ã¤ãã‚„ã™ã„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ãªã£ã¦ã„ã¾ã™ã€‚\nä»Šå›ã¯ã„ã‚ã‚†ã‚‹ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çš„ãªè©±ã§ã¯ãªãã¦ã€ Chalice ã§è‡ªå‹•ä½œæˆã•ã‚Œã‚‹ IAM ãƒãƒªã‚·ãƒ¼ã«é–¢ã™ã‚‹è©±ã§ã™ã€‚ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çš„ãªè©±ã¯ã¾ãŸåˆ¥ã§æ›¸ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’è§£æã—ã¦å¿…è¦ãªãƒãƒªã‚·ãƒ¼ã‚’è‡ªå‹•çš„ã«ä»˜ä¸ ã§ã¯ã€ç°¡å˜ãª REST API ã‚’å®Ÿè£…ã—ã¦ã€ Chalice ã«ã‚ˆã£ã¦ä½œæˆã•ã‚Œã‚‹ IAM ãƒãƒªã‚·ãƒ¼ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nREST API ã®å†…å®¹ã¨ã—ã¦ã¯ã€ DynamoDB ã«å­˜åœ¨ã™ã‚‹ Thread ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚ãƒ‡ãƒ¼ã‚¿ã«é–¢ã—ã¦ã¯ã€ä¸‹è¨˜ã® DynamoDB ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nã‚µãƒ³ãƒ—ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ãƒ‡ãƒ¼ã‚¿ - Amazon DynamoDB AWS Chalice ã§ã¯ã€åŸºæœ¬çš„ã« app.py ã« API ã®å‡¦ç†ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚ãã—ã¦ chalice deploy ã‚³ãƒãƒ³ãƒ‰ã§ AWS ç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã«ã¯ã€ API Gateway ã® API ã€ Lambda é–¢æ•°ã€ IAM ãƒ­ãƒ¼ãƒ« ã‚’è‡ªå‹•ã§ä½œæˆã—ã¦ãã‚Œã¾ã™ã€‚ã“ã®éš›ã«ä½œæˆã•ã‚Œã‚‹ IAM ãƒ­ãƒ¼ãƒ«ã«ã¯ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’è§£æã—ã¦ã€å¿…è¦ãªãƒãƒªã‚·ãƒ¼ã‚’ã‚ˆã—ãªã«ä»˜ä¸ã—ã¦ãã‚Œã¾ã™ã€‚\nä»Šå›ãƒãƒã£ãŸãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ã€å®Ÿè£…æ–¹æ³•ã«ã‚ˆã£ã¦ã¯ã€ æœ¬æ¥ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’è§£æã—ã¦å¿…è¦ãªãƒãƒªã‚·ãƒ¼ã‚’æŒã¤ IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¦ãã‚Œã‚‹ã¯ãšãŒã€æ¨©é™ãŒè¶³ã‚Šãªã„å ´åˆãŒèµ·ã“ã‚Šã†ã‚‹ ã¨ã„ã†ã“ã¨ã§ã™ã€‚ãªã®ã§ã€æ­£ã—ãä½œæˆã•ã‚Œã‚‹å ´åˆã¨ãã†ã§ãªã„å ´åˆã®å®Ÿè£…æ–¹æ³•ã®é•ã„ã‚’æ¯”è¼ƒã—ã¦ã„ãã¾ã™ã€‚\nã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã‚ˆã—ãªã«è‡ªå‹•ä½œæˆã•ã‚Œã‚‹å ´åˆ ã¾ãšã¯æ­£ã—ãå¿…è¦ãªãƒãƒªã‚·ãƒ¼ãŒä»˜ä¸ã•ã‚Œã‚‹å ´åˆã®å®Ÿè£…ã§ã™ã€‚\napp.py ã‚’ä¸‹è¨˜ã®ã‚ˆã†ãªå†…å®¹ã§å®Ÿè£…ã—ã¾ã™ã€‚\nfrom chalice import Chalice, Response import boto3 import urllib.parse app = Chalice(app_name=\u0026#39;chalice-sample\u0026#39;) dynamo_client = boto3.client(\u0026#39;dynamodb\u0026#39;) TABLE_NAME = \u0026#39;Thread\u0026#39; @app.route(\u0026#39;/threads\u0026#39;, methods=[\u0026#39;GET\u0026#39;]) def get_threads(): items = dynamo_client.scan(TableName=TABLE_NAME) return Response(body=items[\u0026#39;Items\u0026#39;], status_code=200, headers={\u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;}) @app.route(\u0026#39;/threads/{forum_name_url}\u0026#39;, methods=[\u0026#39;GET\u0026#39;]) def get_forum_threads(forum_name_url): forum_name = urllib.parse.unquote(forum_name_url) items = dynamo_client.query( TableName=TABLE_NAME, KeyConditions={ \u0026#39;ForumName\u0026#39;: { \u0026#39;AttributeValueList\u0026#39;: [ {\u0026#39;S\u0026#39;: forum_name} ], \u0026#39;ComparisonOperator\u0026#39;: \u0026#39;EQ\u0026#39; } }) return Response(body=items[\u0026#39;Items\u0026#39;], status_code=200, headers={\u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;}) API ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ GET /threads ã¨ GET /threads/{forum_name} ã‚’ç”¨æ„ã—ã¦ã„ã¦ã€å‰è€…ã¯ãƒ†ãƒ¼ãƒ–ãƒ«å†…ã®ãƒ‡ãƒ¼ã‚¿å‰å–å¾—ã€å¾Œè€…ã¯ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ã§ã‚ã‚‹ ForumName ã‚’æŒ‡å®šã—ãŸãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã‚’è¡Œã„ã¾ã™ã€‚\nãã‚Œãã‚Œã®å‡¦ç†ã®ä¸­ã§ boto3 ã‚’ç”¨ã„ã¦ DynamoDB ã«å¯¾ã™ã‚‹ Scan ã¨ Query ã® API ã‚’å‘¼ã‚“ã§ã„ã¾ã™ã€‚\nã“ã®å®Ÿè£…çŠ¶æ…‹ã§ chalice deploy ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªãƒãƒªã‚·ãƒ¼ã‚’ã‚‚ã¤ IAM ãƒ­ãƒ¼ãƒ«ãŒä½œæˆã•ã‚Œã¾ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;dynamodb:Query\u0026#34;, \u0026#34;dynamodb:Scan\u0026#34; ], \u0026#34;Resource\u0026#34;: [ \u0026#34;*\u0026#34; ], \u0026#34;Sid\u0026#34;: \u0026#34;ae5b14e8a77347428XXXXXXXXXXXXX\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;logs:CreateLogGroup\u0026#34;, \u0026#34;logs:CreateLogStream\u0026#34;, \u0026#34;logs:PutLogEvents\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:logs:*:*:*\u0026#34; } ] } å®Ÿè£…é€šã‚Šã€ dynamodb:Query ã¨ dynamodb:Scan ã®æ¨©é™ãŒä»˜ä¸ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã‚ˆã—ãªã«è‡ªå‹•ä½œæˆã•ã‚Œãªã„å ´åˆ ç¶šã„ã¦ã¯ã€å¿…è¦ãªãƒãƒªã‚·ãƒ¼ãŒæ­£ã—ãä½œæˆã•ã‚Œãªã„å ´åˆã®å®Ÿè£…ã§ã™ã€‚\napp.py ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«å®Ÿè£…ã—ã¾ã™ã€‚\nfrom chalice import Chalice, Response import boto3 import urllib.parse app = Chalice(app_name=\u0026#39;chalice-sample\u0026#39;) dynamo_resource = boto3.resource(\u0026#39;dynamodb\u0026#39;) TABLE_NAME = \u0026#39;Thread\u0026#39; @app.route(\u0026#39;/threads\u0026#39;, methods=[\u0026#39;GET\u0026#39;]) def get_threads(): items = dynamo_resource.Table(TABLE_NAME).scan() return Response(body=items[\u0026#39;Items\u0026#39;], status_code=200, headers={\u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;}) @app.route(\u0026#39;/threads/{forum_name_url}\u0026#39;, methods=[\u0026#39;GET\u0026#39;]) def get_forum_threads(forum_name_url): forum_name = urllib.parse.unquote(forum_name_url) items = dynamo_resource.Table(TABLE_NAME).query(KeyConditions={ \u0026#39;ForumName\u0026#39;: { \u0026#39;AttributeValueList\u0026#39;: [ forum_name ], \u0026#39;ComparisonOperator\u0026#39;: \u0026#39;EQ\u0026#39; } }) return Response(body=items[\u0026#39;Items\u0026#39;], status_code=200, headers={\u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;}) API ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯å…ˆã»ã©ã¨åŒæ§˜ã«ã€ GET /threads ã¨ GET /threads/{forum_name} ã‚’ç”¨æ„ã—ã¦ã„ã¦ã€å‰è€…ã¯ãƒ†ãƒ¼ãƒ–ãƒ«å†…ã®ãƒ‡ãƒ¼ã‚¿å‰å–å¾—ã€å¾Œè€…ã¯ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ã§ã‚ã‚‹ ForumName ã‚’æŒ‡å®šã—ãŸãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã‚’è¡Œã„ã¾ã™ã€‚\nå®Ÿè£…æ–¹æ³•ã§å…ˆã»ã©ã¨ç•°ãªã‚‹ç‚¹ã¯ã€ boto3 ã® Client class ã§ã¯ãªã Resource class ã‚’ä½¿ç”¨ã—ãŸå®Ÿè£…ã«ãªã£ã¦ã„ã‚‹ã¨ã„ã†ç‚¹ã§ã™ã€‚\nã“ã®å ´åˆã€ chalice deploy ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªãƒãƒªã‚·ãƒ¼ã‚’ã‚‚ã¤ IAM ãƒ­ãƒ¼ãƒ«ãŒä½œæˆã•ã‚Œã¾ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;logs:CreateLogGroup\u0026#34;, \u0026#34;logs:CreateLogStream\u0026#34;, \u0026#34;logs:PutLogEvents\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:logs:*:*:*\u0026#34; } ] } ã¯ã„ã€‚CloudWatch Logs ã«å¯¾ã™ã‚‹ãƒãƒªã‚·ãƒ¼ã—ã‹ä»˜ä¸ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚\nã“ã‚Œã§ã¯ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚ŒãŸ API ã‚’å®Ÿè¡Œã—ã¦ã‚‚ã€æ¨©é™ãŒè¶³ã‚Šãšã«ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚\nbotocore.exceptions.ClientError: An error occurred (AccessDeniedException) when calling the Query operation: User: arn:aws:sts::123456789012:assumed-role/chalice-sample-dev/chalice-sample-dev is not authorized to perform: dynamodb:Query on resource: arn:aws:dynamodb:ap-northeast-1:123456789012:table/Thread AWC Chalice ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰è§£æã¯ Client class ã§ã®å®Ÿè£…æ™‚ã®ã¿æœ‰åŠ¹ ä¸Šè¨˜ã®ã‚ˆã†ã«ä½œæˆã•ã‚Œã‚‹ãƒãƒªã‚·ãƒ¼ã«å·®ç•°ãŒç”Ÿã˜ã‚‹ã®ã¯ã€å®Ÿè£…ã‚’ boto3 ã® Client class ã‚’ä½¿ã†ã‹ã€ Resource class ã‚’ä½¿ã†ã‹ãŒåŸå› ã«ãªã£ã¦ã„ã¾ã™ã€‚\nAWS Chalice ã§ã¯ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰è§£æã«ã€ boto3 ã® Client class ã® API ã‚’å‘¼ã‚“ã§ã„ã‚‹ã‹ã©ã†ã‹ã‚’è¦‹ã¦ã„ã¾ã™ã€‚\nChalice ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã§ã¯ã“ã®è¾ºã‚Šã§ã™ã€‚\nchalice/analyzer.py at 3f89da242629772d6561cc7be19ff8039489bcae Â· aws/chalice Client class ã¨ Resource class ã®æ€§è³ªã®é•ã„ã‚’è€ƒãˆã‚‹ã¨ã“ã†ãªã£ã¦ã„ã‚‹ã“ã¨ã¯ç†è§£ã§ãã¾ã™ã€‚\nClient class ã¯ AWS ã®å„ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã™ã‚‹ API ã‚’ã»ã¼ç¶²ç¾…ã—ã¦ã„ã‚‹ã®ã§ã€å¿…è¦ãªãƒãƒªã‚·ãƒ¼ãŒåˆ¤å®šã—ã‚„ã™ã„ã§ã™ã€‚ãŸã ã—ã€ä½ãƒ¬ãƒ™ãƒ«ãª API ã®ãŸã‚ã‚³ãƒ¼ãƒ«æ™‚ã«ã¯ç´°ã‹ã„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æŒ‡å®šã—ãŸã‚Šã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®åŠ å·¥ãŒå¿…è¦ã«ãªã£ãŸã‚Šã¨ã€å®Ÿè£…æ™‚ã«ã¯æ‰‹é–“ãŒã‹ã‹ã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚\nä¸€æ–¹ã§ Resource class ã¯ Client class ã‚’é«˜ãƒ¬ãƒ™ãƒ«ã§æŠ½è±¡åŒ–ã—ãŸ class ã§ã€åŒã˜å‡¦ç†ã‚’ã™ã‚‹ã«ã—ã¦ã‚‚ã‚³ãƒ¼ãƒ«æ™‚ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚„ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒæ‰±ã„ã‚„ã™ã„å½¢ã«ãªã£ã¦ã„ã‚‹ãŸã‚ã€å®Ÿè£…ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ã ã¨è¨€ãˆã¾ã™ã€‚\nClient ã¨ Resource ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®é•ã„ ã§ã¯å®Ÿéš›ã«ãã‚Œãã‚Œã®å®Ÿè£…ã§æ­£ã—ããƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã§ããŸå ´åˆã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’æ¯”è¼ƒã—ã¦ã¿ã¾ã™ã€‚å¯¾è±¡ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ã€ GET /threads/Amazon%20S3 ã¨ã—ã¦æ¯”è¼ƒã—ã¾ã™ã€‚\nã¾ãšã¯ Client class ã‚’ç”¨ã„ãŸå®Ÿè£…ã®å ´åˆã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã€‚\n[ { \u0026#34;Answered\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;0\u0026#34; }, \u0026#34;ForumName\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Amazon S3\u0026#34; }, \u0026#34;LastPostedBy\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;User A\u0026#34; }, \u0026#34;LastPostedDateTime\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;2015-09-29T19:58:22.514Z\u0026#34; }, \u0026#34;Message\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;S3 thread 1 message\u0026#34; }, \u0026#34;Replies\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;0\u0026#34; }, \u0026#34;Subject\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;S3 Thread 1\u0026#34; }, \u0026#34;Tags\u0026#34;: { \u0026#34;L\u0026#34;: [ { \u0026#34;S\u0026#34;: \u0026#34;largeobjects\u0026#34; }, { \u0026#34;S\u0026#34;: \u0026#34;multipart upload\u0026#34; } ] }, \u0026#34;Views\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;0\u0026#34; } } ] å„é …ç›®ã®å€¤ã«å¯¾ã—ã¦ã€å‹ã‚’ç¤ºã™æƒ…å ±ã‚‚å…¥ã£ãŸçŠ¶æ…‹ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã£ã¦ãã¾ã™ã€‚\nç¶šã„ã¦ Resource class ã‚’ç”¨ã„ãŸå ´åˆã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã€‚\n[ { \u0026#34;Answered\u0026#34;: 0.0, \u0026#34;ForumName\u0026#34;: \u0026#34;Amazon S3\u0026#34;, \u0026#34;LastPostedBy\u0026#34;: \u0026#34;User A\u0026#34;, \u0026#34;LastPostedDateTime\u0026#34;: \u0026#34;2015-09-29T19:58:22.514Z\u0026#34;, \u0026#34;Message\u0026#34;: \u0026#34;S3 thread 1 message\u0026#34;, \u0026#34;Replies\u0026#34;: 0.0, \u0026#34;Subject\u0026#34;: \u0026#34;S3 Thread 1\u0026#34;, \u0026#34;Tags\u0026#34;: [ \u0026#34;largeobjects\u0026#34;, \u0026#34;multipart upload\u0026#34; ], \u0026#34;Views\u0026#34;: 0.0 } ] è‡ªç„¶ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§è¿”ã£ã¦ãã¾ã™ã€‚å®Ÿè£…æ™‚ã§ã¯ã€é–“é•ã„ãªãã“ã¡ã‚‰ã®å½¢ã®æ–¹ãŒæ‰±ã„ã‚„ã™ã„ã§ã™ã€‚\nä»Šå›ã¯ DynamoDB ã«å¯¾ã™ã‚‹æ“ä½œã§ã™ãŒã€ä»–ã®ãƒªã‚½ãƒ¼ã‚¹ã«å¯¾ã™ã‚‹æ“ä½œã§ã‚‚ Resouce class ã‚’ç”¨ã„ãŸã»ã†ãŒå®Ÿè£…ã¯æ¥½ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚\nAWS SDK for Python(Boto3)ã§ã¯Client APIã‚ˆã‚ŠResource APIã‚’ä½¿ãŠã† - Qiita AWS Chalice ã§ä½œæˆã•ã‚Œã‚‹ IAM ãƒ­ãƒ¼ãƒ«ã«ã‚’æ‰‹å‹•ã§ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ è‡ªå‹•ã§ä½œæˆã•ã‚Œã‚‹ IAM ãƒ­ãƒ¼ãƒ«ã«å¿…è¦ãªãƒãƒªã‚·ãƒ¼ãŒä»˜ä¸ã•ã‚Œãªã„ã®ã¯å›°ã‚‹ã‘ã©ã€å®Ÿè£…ã¯æ¥½ãªæ–¹ãŒã„ã„ã‹ã‚‰ãª\u0026hellip; ã¨ã„ã†æ‚©ã¿ãŒå‡ºã¦ãã‚‹ã¨æ€ã„ã¾ã™ãŒã€ AWS Chalice ã§ã¯ã€è‡ªå‹•ã§ä½œæˆã•ã‚Œã‚‹ IAM ãƒ­ãƒ¼ãƒ«ã«æ‰‹å‹•ã§ä½œæˆã—ãŸãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\næ–¹æ³•ã¯ç°¡å˜ã§ã€ .chalice/config.json ã§ä¸‹è¨˜ã®ã‚ˆã†ãªè¨­å®šã‚’ã—ã¾ã™ã€‚\n{ \u0026#34;version\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;app_name\u0026#34;: \u0026#34;chalice-sample\u0026#34;, \u0026#34;stages\u0026#34;: { \u0026#34;dev\u0026#34;: { \u0026#34;api_gateway_stage\u0026#34;: \u0026#34;api\u0026#34;, \u0026#34;autogen_policy\u0026#34;: false, \u0026#34;iam_policy_file\u0026#34;: \u0026#34;custom-policy.json\u0026#34; } } } \u0026quot;autogen_policy\u0026quot;: false ã§ãƒãƒªã‚·ãƒ¼ã®è‡ªå‹•ç”Ÿæˆã‚’ã‚ªãƒ•ã«ã—ã¦ã€ \u0026quot;iam_policy_file\u0026quot;: \u0026quot;custom-policy.json\u0026quot; ã§æ‰‹å‹•ã§ä½œæˆã—ãŸãƒãƒªã‚·ãƒ¼ã® JSON ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¾ã™ã€‚ä»Šå›ã§ã‚ã‚Œã°ä¸‹è¨˜ã®ã‚ˆã†ãª JSON ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;dynamodb:Query\u0026#34;, \u0026#34;dynamodb:Scan\u0026#34; ], \u0026#34;Resource\u0026#34;: [ \u0026#34;*\u0026#34; ] }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;logs:CreateLogGroup\u0026#34;, \u0026#34;logs:CreateLogStream\u0026#34;, \u0026#34;logs:PutLogEvents\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:logs:*:*:*\u0026#34; } ] } ã“ã®çŠ¶æ…‹ã§ chalice deploy ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€è‡ªå‹•ã§ä½œæˆã•ã‚Œã‚‹ IAM ãƒ­ãƒ¼ãƒ«ã«ã¯ä¸Šè¨˜ã®ãƒãƒªã‚·ãƒ¼ãŒã‚¢ã‚¿ãƒƒãƒã•ã‚Œã¾ã™ã€‚\nè‡ªåˆ†ã§å¿…è¦ãªæ¨©é™ã‚’è€ƒãˆã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã™ãŒã€ Resource class ã‚’ç”¨ã„ãŸå®Ÿè£…ã‚’ã™ã‚‹å ´åˆã«ã¯ã“ã®ã‚ˆã†ãªå½¢ã§ãƒãƒªã‚·ãƒ¼ã‚’æŒ‡å®šã™ã‚‹å½¢ã«ãªã‚Šã¾ã™ã€‚\nã¾ã¨ã‚ AWS Chalice ã§ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹éš›ã«ã€å¿…è¦ãª IAM ãƒãƒªã‚·ãƒ¼ãŒè‡ªå‹•ã§ä½œæˆã•ã‚Œãªã‹ã£ãŸå ´é¢ãŒã‚ã£ãŸã¨ã„ã†è©±ã§ã—ãŸã€‚\næœ€åˆã¯ ãªã‚“ã§ Resouce class ã ã¨ãƒãƒªã‚·ãƒ¼ä½œæˆã•ã‚Œã¸ã‚“ã­ã‚“ ã£ã¦æ€ã£ã¦ãŸã‚“ã§ã™ãŒã€ Client class ã¨ã®æŠ½è±¡åº¦ã®é•ã„ã¨ã‹ã‚’è€ƒãˆã‚‹ã¨ç´å¾—ã§ãã¾ã—ãŸã€‚å¿…è¦ãªãƒãƒªã‚·ãƒ¼ã‚’è€ƒãˆã‚‹ã®ã£ã¦ AWS è§¦ã‚Šå§‹ã‚ãŸã°ã‹ã‚Šã ã¨ã‚ˆãã‚ã‹ã‚‰ã‚“ã£ã¦ã„ã†æ„Ÿã˜ã§ã™ã‘ã©ã€è‡ªåˆ†ã§å¿…è¦ãªãƒãƒªã‚·ãƒ¼ã‚’èª¿ã¹ã¦éƒ½åº¦è¶³ã—ã¦ã„ãã£ã¦ã„ã†ä½œæ¥­ã¯å®Ÿã¯ AWS è§¦ã‚‹ä¸Šã§ã¯é‡è¦ãªã“ã¨ãªã‚“ã˜ã‚ƒãªã„ã‹ãªã¨æ€ã£ã¦ã¾ã™ã€‚æœ€åˆã®ã†ã¡ã¯ ã¨ã‚Šã‚ãˆãš Full Access ã§ ã£ã¦ã‚„ã‚ŠãŒã¡ã§ã™ã‘ã©ã€ãã†ã‚„ã£ã¦å¿…è¦ãªæ¨©é™ã‚’çŸ¥ã£ã¦çµã£ã¦ã„ãä½œæ¥­ãŒåœ°å‘³ã«å¤§äº‹ã ãªã¨ã€æœ€è¿‘æ„Ÿã˜ã¦ã¾ã™ã€‚\nå†’é ­ã«ã‚‚æ›¸ã„ãŸã‚ˆã†ã«ã€ AWS Chalice ã¯ã¨ã¦ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªã‚µãƒ¼ãƒãƒ¬ã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãªã®ã§ã€ã¨ã‚Šã‚ãˆãš AWS ã§ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚„ã‚ŠãŸã„ ã¨ã‹ã€ Python ã§ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚„ã‚ŠãŸã„ ã¨ã„ã†æ–¹ã«ã¯ãŠã™ã™ã‚ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚\nå‚è€ƒ AWS SDK for Python(Boto3)ã§ã¯Client APIã‚ˆã‚ŠResource APIã‚’ä½¿ãŠã† - Qiita ",
    "permalink": "https://michimani.net/post/aws-about-auto-generate-iam-policy-in-chalice/",
    "title": "AWS Chalice ã§å¿…è¦ãª IAM ãƒãƒªã‚·ãƒ¼ãŒæ­£ã—ãä½œæˆã•ã‚Œãªã‹ã£ãŸã¨ãã®è©±"
  },
  {
    "contents": "å…ˆæ—¥é–‹å‚¬ã•ã‚ŒãŸ JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨#24 ã‚µãƒ¼ãƒãƒ¬ã‚¹ãƒãƒ³ã‚ºã‚ªãƒ³å‹‰å¼·ä¼šã§å®¿é¡Œã«ãªã£ã¦ã„ãŸèª²é¡Œã‚’ã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚å†…å®¹ã¨ã—ã¦ã¯ã€æ–‡å­—èµ·ã“ã— \u0026amp; ç¿»è¨³ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å‡¦ç†ã§ã™ã€‚\nå‰åŠéƒ¨åˆ†ã¯å½“æ—¥ã®æ§˜å­ã¨ã€ãƒãƒ³ã‚ºã‚ªãƒ³ã®å†…å®¹ã«ã¤ã„ã¦æ›¸ã„ã¦ã„ã¾ã™ã€‚å®¿é¡Œéƒ¨åˆ†ã«ã¤ã„ã¦ã¯å¾ŒåŠã«æ›¸ã„ã¦ã„ã¾ã™ã€‚\nç›®æ¬¡ å½“æ—¥ã®æ§˜å­ ãƒãƒ³ã‚ºã‚ªãƒ³ã®æ¦‚è¦ å®¿é¡Œã®å†…å®¹ S3 ãƒã‚±ãƒƒãƒˆã®ä½œæˆ æ–‡å­—èµ·ã“ã—ç”¨ Lambda é–¢æ•°ã®ä½œæˆ ç¿»è¨³ç”¨ Lambda é–¢æ•°ã®ä½œæˆ æ–‡å­—èµ·ã“ã—ã‹ã‚‰é€šã—ã¦ç¢ºèªã—ã¦ã¿ã‚‹ ã¾ã¨ã‚ å½“æ—¥ã®æ§˜å­ å½“åˆã¯ç¾åœ°ã§ã®å‚åŠ ã‚’äºˆå®šã—ã¦ã„ã¾ã—ãŸãŒã€æ˜¨ä»Šã®è«¸ã€…ã®æƒ…å‹¢ã‹ã‚‰ãƒªãƒ¢ãƒ¼ãƒˆæ ã«å¤‰æ›´ã—ã€è‡ªå®…ã‹ã‚‰ãƒªãƒ¢ãƒ¼ãƒˆã§å‚åŠ ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚\nç¾åœ°é–‹å‚¬ã«ã¤ã„ã¦ã‚‚æ§˜ã€…ãªæ¤œè¨äº‹é …ã‚„æ‡¸å¿µç­‰ã‚ã£ãŸã‹ã¨æ€ã„ã¾ã™ãŒã€ãƒªãƒ¢ãƒ¼ãƒˆå«ã‚é–‹å‚¬ã•ã‚ŒãŸã“ã¨ã«æ„Ÿè¬ã„ãŸã—ã¾ã™ã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚\nã‚¤ãƒ™ãƒ³ãƒˆã®è©³ç´°ã«ã¤ã„ã¦ã¯ connpass ã®ãƒšãƒ¼ã‚¸ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚ä»Šå›ä½¿ç”¨ã—ãŸè³‡æ–™ç­‰ã‚‚ã‚¢ãƒƒãƒ—ã•ã‚Œã¦ã„ã¾ã™ã€‚\nJAWS-UG åˆå¿ƒè€…æ”¯éƒ¨#24 ã‚µãƒ¼ãƒãƒ¬ã‚¹ãƒãƒ³ã‚ºã‚ªãƒ³å‹‰å¼·ä¼š - connpass ã¾ãŸã€å½“æ—¥ã®æ§˜å­ã«ã¤ã„ã¦ã¯ã€ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚° #jawsug_bgnr ãŠã‚ˆã³ #jawsug ã§ãƒ„ã‚¤ãƒ¼ãƒˆã•ã‚Œã¦ãŠã‚Šã€ Togetter ã«ã‚‚ã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã—ãŸã€‚\nJAWS-UG åˆå¿ƒè€…æ”¯éƒ¨#24 ã‚µãƒ¼ãƒãƒ¬ã‚¹ãƒãƒ³ã‚ºã‚ªãƒ³å‹‰å¼·ä¼š ã¾ã¨ã‚ - Togetter ãƒãƒ³ã‚ºã‚ªãƒ³ã®æ¦‚è¦ å½“æ™‚ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã¯ä»¥ä¸‹ã®å†…å®¹ã§ã—ãŸã€‚\nAWS Lambda ã§ æ—¥ -\u0026gt; è‹± ç¿»è¨³ã™ã‚‹ ç¿»è¨³ Web API ã‚’ä½œã‚‹ æ–‡å­—èµ·ã“ã— + ç¿»è¨³ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ä½œã‚‹ ç°¡å˜ã«æ¦‚è¦ã‚’æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nãªãŠã€ãƒãƒ³ã‚ºã‚ªãƒ³ã®é€²è¡Œã«ä½¿ç”¨ã•ã‚ŒãŸãƒ¡ã‚¤ãƒ³ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã€ãŠã‚ˆã³ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦ã¯å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚\n[JAWSâˆ’UG åˆå¿ƒè€…æ”¯éƒ¨ #24] ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆï¼š æ‰‹ã‚’å‹•ã‹ã—ãªãŒã‚‰å­¦ã¶ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã¯ã˜ã‚ã®ä¸€æ­© #jawsug #jawsug_bgnr / JAWSâˆ’UG-bgnr 24 - Serverless Quick Start hands-on - Speaker Deck ketancho/aws-serverless-quick-start-hands-on: \u0026amp;ldquo;ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆï¼š æ‰‹ã‚’å‹•ã‹ã—ãªãŒã‚‰å­¦ã¶ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã¯ã˜ã‚ã®ä¸€æ­©\u0026amp;rdquo; ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã™ 1. AWS Lambda ã§ æ—¥ -\u0026gt; è‹± ç¿»è¨³ã™ã‚‹ AWS ã®ç¿»è¨³ã‚µãƒ¼ãƒ“ã‚¹ Amazon Translate ã® API ã‚’å®Ÿè¡Œã™ã‚‹ Lambda é–¢æ•°ã‚’ä½œæˆã—ã¦ã€æ—¥æœ¬èªã‹ã‚‰è‹±èªã¸ã®ç¿»è¨³ã—ã¾ã™ã€‚\nå®Ÿè¡Œã¯ Lambda ã®ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã‹ã‚‰ãƒ†ã‚¹ãƒˆã™ã‚‹å½¢ã§ã€ãƒ†ã‚¹ãƒˆã«ä½¿ç”¨ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã«ã¯ Amazon API Gateway AWS Proxy ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¾ã—ãŸã€‚\nãŸã ã—ã€ç¿»è¨³ã™ã‚‹æœ¬æ–‡ã¯ã“ã®æ™‚ç‚¹ã§ã¯ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã§ã€ã¨ã‚Šã‚ãˆãš Amazon Translate ã§ç¿»è¨³ã§ãã‚‹ã‚ˆã­ã€ã¨ã†ã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚\nä¸‹è¨˜ã®ã‚ˆã†ãª Lambda é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦å®Ÿè¡Œã—ã¾ã—ãŸã€‚\nimport json import boto3 def lambda_handler(event, context): translate = boto3.client(\u0026#39;translate\u0026#39;) input_text = \u0026#39;é †èª¿ã§ã™ã‹ï¼Ÿ\u0026#39; response = translate.translate_text( Text=input_text, SourceLanguageCode=\u0026#39;ja\u0026#39;, TargetLanguageCode=\u0026#39;en\u0026#39; ) output_text = response.get(\u0026#39;TranslatedText\u0026#39;) return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;body\u0026#39;: json.dumps({ \u0026#39;output_text\u0026#39;: output_text }) } 2. ç¿»è¨³ Web API ã‚’ä½œã‚‹ å…ˆã»ã©ã® Lambda é–¢æ•°ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«å¤‰æ›´ã—ã€ API Gateway ã®ã‚¤ãƒ™ãƒ³ãƒˆã‹ã‚‰ç¿»è¨³å¯¾è±¡ã®æ–‡å­—åˆ—ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚\n- input_text = \u0026#39;é †èª¿ã§ã™ã‹ï¼Ÿ\u0026#39; + input_text = event[\u0026#39;queryStringParamaters][\u0026#39;input_text] ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ API Gateway ã¨ Lambda ã®ç¹‹ãè¾¼ã¿ã‚’ã—ã¦ã€å®Ÿéš›ã« URL ã« input_text ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä»˜ä¸ã—ã¦ç¿»è¨³çµæœãŒå¾—ã‚‰ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚\n3. æ–‡å­—èµ·ã“ã— + ç¿»è¨³ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ä½œã‚‹ éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ S3 ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã€ãã‚Œã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦ Lambda é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã„ã†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ä½œæˆã—ã¾ã—ãŸã€‚\nå®Ÿè¡Œã•ã‚Œã‚‹ Lambda é–¢æ•°å†…ã§ã¯ã€AWS ã®æ–‡å­—èµ·ã“ã—ã‚µãƒ¼ãƒ“ã‚¹ Amazon Transcribe ã‚’ä½¿ã£ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸéŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰æ–‡å­—èµ·ã“ã—ã‚’ã—ã¦ã€ãã®çµæœã‚’ S3 ã«å‡ºåŠ›ã™ã‚‹ã¨ã„ã†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®ä½œæˆã§ã™ã€‚ãƒãƒ³ã‚ºã‚ªãƒ³ã§å®Ÿæ–½ã—ãŸã®ã¯æ–‡å­—èµ·ã“ã—ã¾ã§ã§ã€ç¿»è¨³ã‚’å«ã‚ãŸãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«ã¤ã„ã¦ã¯å®¿é¡Œã¨ãªã£ã¦ã„ã¾ã—ãŸã€‚å¾Œã»ã©ã“ã®éƒ¨åˆ†ã¯ã‚„ã£ã¦ã¿ã¾ã™ã€‚\nå®¿é¡Œã®å†…å®¹ ã“ã“ã‹ã‚‰ã¯å®¿é¡Œã¨ãªã£ã¦ã„ãŸ æ–‡å­—èµ·ã“ã— + ç¿»è¨³ ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ä½œæˆã—ã¦ã¿ã¾ã™ã€‚\nä½œæˆã™ã‚‹ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¯æ¬¡ã®ã‚ˆã†ãªæ§‹æˆã§ã™ã€‚\nS3 ãƒã‚±ãƒƒãƒˆã®ä½œæˆ ãƒãƒ³ã‚ºã‚ªãƒ³ã®æ‰‹é †ã§ã¯ S3 ãƒã‚±ãƒƒãƒˆã‚’æ—¢ã«ä½œã£ã¦ã„ã¾ã—ãŸãŒã€ã‚ã‚‰ãŸã‚ã¦ãã®éƒ¨åˆ†ã‹ã‚‰ã‚„ã£ã¦ã¿ã¾ã™ã€‚\nä½œæˆã™ã‚‹ S3 ãƒã‚±ãƒƒãƒˆã¯ä¸‹è¨˜ã® 2 ç¨®é¡ã§ã™ã€‚\néŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”¨ jugbgnr24-transcribe-input-michimani æ–‡å­—èµ·ã“ã—çµæœã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆç”¨: jugbgnr24-transcribe-output-michimani ç¿»è¨³çµæœã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆç”¨: jugbgnr24-translate-output-michimani ä¸Šã®å›³ã§ã¯ æ–‡å­—èµ·ã“ã—çµæœã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆç”¨ ã¨ ç¿»è¨³çµæœã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆç”¨ ãŒåŒã˜ãƒã‚±ãƒƒãƒˆã‚’æŒ‡ã—ã¦ã„ã‚‹ã‚ˆã†ãªå½¢ã«ãªã£ã¦ã„ã¾ã™ãŒã€åˆ¥ã®ãƒã‚±ãƒƒãƒˆã¨ã—ã¦ä½œæˆã—ã¾ã™ã€‚\n$ aws s3 mb s3://jugbgnr24-transcribe-input-michimani make_bucket: jugbgnr24-transcribe-input-michimani $ aws s3 mb s3://jugbgnr24-transcribe-output-michimani make_bucket: jugbgnr24-transcribe-output-michimani $ aws s3 mb s3://jugbgnr24-translate-output-michimani make_bucket: jugbgnr24-translate-output-michimani $ aws s3 ls | grep jugbgnr24 2020-02-22 13:05:30 jugbgnr24-transcribe-input-michimani 2020-02-22 13:05:43 jugbgnr24-transcribe-output-michimani 2020-02-22 13:05:51 jugbgnr24-translate-output-michimani æ–‡å­—èµ·ã“ã—ç”¨ Lambda é–¢æ•°ã®ä½œæˆ ç¶šã„ã¦ã€æ–‡å­—èµ·ã“ã—ç”¨ã® Lambda é–¢æ•°ã‚’ä½œæˆã—ã¾ã™ã€‚ã¨ã„ã£ã¦ã‚‚ã“ã®éƒ¨åˆ†ã«é–¢ã—ã¦ã¯ãƒãƒ³ã‚ºã‚ªãƒ³å†…ã§ä½¿ç”¨ã—ãŸ Lambda é–¢æ•°ã‚’ã»ã¼ãã®ã¾ã¾ä½¿ãˆã¾ã™ã€‚\nimport json import urllib.parse import boto3 import datetime s3 = boto3.client(\u0026#39;s3\u0026#39;) transcribe = boto3.client(\u0026#39;transcribe\u0026#39;) def lambda_handler(event, context): bucket = event[\u0026#39;Records\u0026#39;][0][\u0026#39;s3\u0026#39;][\u0026#39;bucket\u0026#39;][\u0026#39;name\u0026#39;] key = urllib.parse.unquote_plus(event[\u0026#39;Records\u0026#39;][0][\u0026#39;s3\u0026#39;][\u0026#39;object\u0026#39;][\u0026#39;key\u0026#39;], encoding=\u0026#39;utf-8\u0026#39;) try: transcribe.start_transcription_job( TranscriptionJobName= datetime.datetime.now().strftime(\u0026#34;%Y%m%d%H%M%S\u0026#34;) + \u0026#39;_Transcription\u0026#39;, LanguageCode=\u0026#39;en-US\u0026#39;, Media={ \u0026#39;MediaFileUri\u0026#39;: \u0026#39;https://s3.ap-northeast-1.amazonaws.com/\u0026#39; + bucket + \u0026#39;/\u0026#39; + key }, OutputBucketName=\u0026#39;jugbgnr24-transcribe-output-michimani\u0026#39; ) except Exception as e: print(e) print(\u0026#39;Error getting object {} from bucket {}. Make sure they exist and your bucket is in the same region as this function.\u0026#39;.format(key, bucket)) raise e Lambda ã®å®Ÿè¡Œãƒ­ãƒ¼ãƒ«ã«ã¯ S3 ã¨ Transcribe ã‚’æ“ä½œã§ãã‚‹ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã—ã¦ãŠãã¾ã™ã€‚\nãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ Lambda é–¢æ•°ä½œæˆæ™‚ã«è¨­è¨ˆå›³ã‹ã‚‰ä½œæˆã™ã‚‹æ–¹æ³•ãŒç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã—ãŸã€ä»Šå›ã¯ ä¸€ã‹ã‚‰ä½œæˆ ã‚’é¸æŠã—ã¦ã—ã¾ã£ãŸã®ã§ã€ãƒˆãƒªã‚¬ãƒ¼ã®è¨­å®šã‚’ã—ã¦ãŠãã¾ã™ã€‚\nã“ã“ã¾ã§ã¯ãƒãƒ³ã‚ºã‚ªãƒ³ã®å†…å®¹ã§ã™ãŒã€ã„ã£ãŸã‚“å‡¦ç†ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚ éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã¯ Amazon Polly ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nAmazon Pollyï¼ˆæ·±å±¤å­¦ç¿’ã‚’ä½¿ç”¨ã—ãŸãƒ†ã‚­ã‚¹ãƒˆèª­ã¿ä¸Šã’ã‚µãƒ¼ãƒ“ã‚¹ï¼‰| AWS ä»Šå›ä½¿ç”¨ã™ã‚‹éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€è‹±èªã®éŸ³å£°ã§å¥³æ€§ãŒè©±ã—ã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã§ã€é•·ã•ã¯ 4 ç§’ã»ã©ã®éŸ³å£°ã§ã™ã€‚\n$ aws s3 cp HelloEnglish-Joanna.mp3 s3://jugbgnr24-transcribe-input-michimani upload: ./HelloEnglish-Joanna.mp3 to s3://jugbgnr24-transcribe-input-michimani/HelloEnglish-Joanna.mp3 ã—ã°ã‚‰ã (1 åˆ†ãã‚‰ã„) ã—ã¦ã‹ã‚‰æ–‡å­—èµ·ã“ã—çµæœã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆç”¨ã®ãƒã‚±ãƒƒãƒˆ jugbgnr24-transcribe-output-michimani ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3 ls s3://jugbgnr24-transcribe-output-michimani/ 2020-02-22 13:21:03 2 .write_access_check_file.temp 2020-02-22 13:21:55 1879 20200222042102_Transcription.json 20200222042102_Transcription.json ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã¦ã„ã¾ã™ã€‚ (.write_access_check_file.temp ã‚‚ä½œæˆã•ã‚Œã¦ã„ã¾ã™ãŒã€ã“ã“ã§ã¯ç„¡è¦–ã—ã¾ã™)\nå–å¾—ã—ã¦ä¸­èº«ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n{ \u0026#34;jobName\u0026#34;: \u0026#34;20200222042102_Transcription\u0026#34;, \u0026#34;accountId\u0026#34;: \u0026#34;123456789012\u0026#34;, \u0026#34;results\u0026#34;: { \u0026#34;transcripts\u0026#34;: [ { \u0026#34;transcript\u0026#34;: \u0026#34;Hello. Do you speak a foreign language? One language is never enough.\u0026#34; } ], \u0026#34;items\u0026#34;: [ { \u0026#34;start_time\u0026#34;: \u0026#34;0.04\u0026#34;, \u0026#34;end_time\u0026#34;: \u0026#34;0.65\u0026#34;, \u0026#34;alternatives\u0026#34;: [ { \u0026#34;confidence\u0026#34;: \u0026#34;0.9139\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;Hello\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;pronunciation\u0026#34; }, { \u0026#34;alternatives\u0026#34;: [ { \u0026#34;confidence\u0026#34;: \u0026#34;0.0\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;.\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;punctuation\u0026#34; }, { \u0026#34;start_time\u0026#34;: \u0026#34;1.04\u0026#34;, \u0026#34;end_time\u0026#34;: \u0026#34;1.14\u0026#34;, \u0026#34;alternatives\u0026#34;: [ { \u0026#34;confidence\u0026#34;: \u0026#34;1.0\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;Do\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;pronunciation\u0026#34; }, { \u0026#34;start_time\u0026#34;: \u0026#34;1.14\u0026#34;, \u0026#34;end_time\u0026#34;: \u0026#34;1.27\u0026#34;, \u0026#34;alternatives\u0026#34;: [ { \u0026#34;confidence\u0026#34;: \u0026#34;1.0\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;you\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;pronunciation\u0026#34; }, { \u0026#34;start_time\u0026#34;: \u0026#34;1.27\u0026#34;, \u0026#34;end_time\u0026#34;: \u0026#34;1.59\u0026#34;, \u0026#34;alternatives\u0026#34;: [ { \u0026#34;confidence\u0026#34;: \u0026#34;1.0\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;speak\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;pronunciation\u0026#34; }, { \u0026#34;start_time\u0026#34;: \u0026#34;1.59\u0026#34;, \u0026#34;end_time\u0026#34;: \u0026#34;1.65\u0026#34;, \u0026#34;alternatives\u0026#34;: [ { \u0026#34;confidence\u0026#34;: \u0026#34;0.9991\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;a\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;pronunciation\u0026#34; }, { \u0026#34;start_time\u0026#34;: \u0026#34;1.65\u0026#34;, \u0026#34;end_time\u0026#34;: \u0026#34;1.99\u0026#34;, \u0026#34;alternatives\u0026#34;: [ { \u0026#34;confidence\u0026#34;: \u0026#34;1.0\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;foreign\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;pronunciation\u0026#34; }, { \u0026#34;start_time\u0026#34;: \u0026#34;1.99\u0026#34;, \u0026#34;end_time\u0026#34;: \u0026#34;2.59\u0026#34;, \u0026#34;alternatives\u0026#34;: [ { \u0026#34;confidence\u0026#34;: \u0026#34;1.0\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;language\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;pronunciation\u0026#34; }, { \u0026#34;alternatives\u0026#34;: [ { \u0026#34;confidence\u0026#34;: \u0026#34;0.0\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;?\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;punctuation\u0026#34; }, { \u0026#34;start_time\u0026#34;: \u0026#34;2.88\u0026#34;, \u0026#34;end_time\u0026#34;: \u0026#34;3.19\u0026#34;, \u0026#34;alternatives\u0026#34;: [ { \u0026#34;confidence\u0026#34;: \u0026#34;0.9944\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;One\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;pronunciation\u0026#34; }, { \u0026#34;start_time\u0026#34;: \u0026#34;3.19\u0026#34;, \u0026#34;end_time\u0026#34;: \u0026#34;3.61\u0026#34;, \u0026#34;alternatives\u0026#34;: [ { \u0026#34;confidence\u0026#34;: \u0026#34;0.991\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;language\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;pronunciation\u0026#34; }, { \u0026#34;start_time\u0026#34;: \u0026#34;3.61\u0026#34;, \u0026#34;end_time\u0026#34;: \u0026#34;3.75\u0026#34;, \u0026#34;alternatives\u0026#34;: [ { \u0026#34;confidence\u0026#34;: \u0026#34;0.991\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;is\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;pronunciation\u0026#34; }, { \u0026#34;start_time\u0026#34;: \u0026#34;3.75\u0026#34;, \u0026#34;end_time\u0026#34;: \u0026#34;4.03\u0026#34;, \u0026#34;alternatives\u0026#34;: [ { \u0026#34;confidence\u0026#34;: \u0026#34;1.0\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;never\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;pronunciation\u0026#34; }, { \u0026#34;start_time\u0026#34;: \u0026#34;4.03\u0026#34;, \u0026#34;end_time\u0026#34;: \u0026#34;4.48\u0026#34;, \u0026#34;alternatives\u0026#34;: [ { \u0026#34;confidence\u0026#34;: \u0026#34;0.9079\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;enough\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;pronunciation\u0026#34; }, { \u0026#34;alternatives\u0026#34;: [ { \u0026#34;confidence\u0026#34;: \u0026#34;0.0\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;.\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;punctuation\u0026#34; } ] }, \u0026#34;status\u0026#34;: \u0026#34;COMPLETED\u0026#34; } è‰²ã€…ã¨ãƒ‡ãƒ¼ã‚¿ãŒå…¥ã£ã¦ã„ã¾ã™ãŒã€ ['results']['transcripts'][0]['transcript'] ã®å€¤ã¨ã—ã¦æ–‡å­—èµ·ã“ã—çµæœã®æ–‡å­—åˆ—ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\n{ \u0026#34;results\u0026#34;: { \u0026#34;transcripts\u0026#34;: [ { \u0026#34;transcript\u0026#34;: \u0026#34;Hello. Do you speak a foreign language? One language is never enough.\u0026#34; } ], } } å®Ÿéš›ã®éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚‚ã“ã®ã‚ˆã†ã«è©±ã—ã¦ã„ã‚‹ã®ã§ã€æ­£å¸¸ã«æ–‡å­—èµ·ã“ã—ã§ãã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚\nç¿»è¨³ç”¨ Lambda é–¢æ•°ã®ä½œæˆ ç¶šã„ã¦ã¯ã€æ–‡å­—èµ·ã“ã—ã—ãŸçµæœã‚’ç¿»è¨³ã™ã‚‹ Lambda é–¢æ•°ã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã®é–¢æ•°ã¯ã€æ–‡å­—èµ·ã“ã—çµæœã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆç”¨ãƒã‚±ãƒƒãƒˆ jugbgnr24-transcribe-output-michimani ã«ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚ŒãŸã“ã¨ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«å®Ÿè¡Œã•ã‚Œã€ä½œæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«å†…ã®æ–‡å­—èµ·ã“ã—çµæœã‚’ç¿»è¨³ã€ãã—ã¦ãã®çµæœã‚’ç¿»è¨³çµæœã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆç”¨ãƒã‚±ãƒƒãƒˆ jugbgnr24-translate-output-michimani ã«å‡ºåŠ›ã—ã¾ã™ã€‚\nãã‚Œã‚‰ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«æ¬¡ã®ã‚ˆã†ãª Lambda é–¢æ•°ã‚’ä½œæˆã—ã¾ã™ã€‚\nimport json import urllib.parse import boto3 import datetime s3 = boto3.client(\u0026#39;s3\u0026#39;) translate = boto3.client(\u0026#39;translate\u0026#39;) def lambda_handler(event, context): bucket = event[\u0026#39;Records\u0026#39;][0][\u0026#39;s3\u0026#39;][\u0026#39;bucket\u0026#39;][\u0026#39;name\u0026#39;] key = urllib.parse.unquote_plus(event[\u0026#39;Records\u0026#39;][0][\u0026#39;s3\u0026#39;][\u0026#39;object\u0026#39;][\u0026#39;key\u0026#39;], encoding=\u0026#39;utf-8\u0026#39;) try: # æ–‡å­—èµ·ã“ã—çµæœã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ (json ãƒ•ã‚¡ã‚¤ãƒ«) ã‚’å–å¾— transcribe_result_obj = s3.get_object(Bucket=bucket, Key=key) # json å†…ã‹ã‚‰æ–‡å­—èµ·ã“ã—çµæœã®æ–‡å­—åˆ—ã‚’å–å¾— transcribe_result_json = json.loads(transcribe_result_obj[\u0026#39;Body\u0026#39;].read().decode(\u0026#39;utf-8\u0026#39;)) input_text = transcribe_result_json[\u0026#39;results\u0026#39;][\u0026#39;transcripts\u0026#39;][0][\u0026#39;transcript\u0026#39;] # è‹±èªã‹ã‚‰æ—¥æœ¬èªã«ç¿»è¨³ response = translate.translate_text( Text=input_text, SourceLanguageCode=\u0026#39;en\u0026#39;, TargetLanguageCode=\u0026#39;ja\u0026#39; ) # ç¿»è¨³çµæœã‚’ S3 ãƒã‚±ãƒƒãƒˆã«å‡ºåŠ› out_bucket = \u0026#39;jugbgnr24-translate-output-michimani\u0026#39; out_key = datetime.datetime.now().strftime(\u0026#34;%Y%m%d%H%M%S\u0026#34;) + \u0026#39;_Translate.txt\u0026#39; out_body = response.get(\u0026#39;TranslatedText\u0026#39;) s3.put_object( Bucket=out_bucket, Key=out_key, Body=out_body ) except Exception as e: print(e) raise e Lambda ã®å®Ÿè¡Œãƒ­ãƒ¼ãƒ«ã«ã¯ S3 ã¨ Translate ã‚’æ“ä½œã§ãã‚‹ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã—ã¦ãŠãã¾ã™ã€‚\nã¾ãŸã€å…ˆã»ã©ã¨åŒæ§˜ã«ãƒˆãƒªã‚¬ãƒ¼ã®è¨­å®šã‚‚ã—ã¦ãŠãã¾ã™ã€‚\nä»Šå›ã¯ç°¡æ˜“çš„ã«ã€ç¿»è¨³çµæœã‚’ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ S3 ãƒã‚±ãƒƒãƒˆã«å‡ºåŠ›ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nã§ã¯ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ãƒ†ã‚¹ãƒˆã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆã—ã€ãƒ†ã‚¹ãƒˆã—ã¦ã¿ã¾ã™ã€‚ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ S3 ã® PUT ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\n{ \u0026#34;Records\u0026#34;: [ { \u0026#34;eventVersion\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;eventSource\u0026#34;: \u0026#34;aws:s3\u0026#34;, \u0026#34;awsRegion\u0026#34;: \u0026#34;ap-northeast-1\u0026#34;, \u0026#34;eventTime\u0026#34;: \u0026#34;1970-01-01T00:00:00.000Z\u0026#34;, \u0026#34;eventName\u0026#34;: \u0026#34;ObjectCreated:Put\u0026#34;, \u0026#34;userIdentity\u0026#34;: { \u0026#34;principalId\u0026#34;: \u0026#34;EXAMPLE\u0026#34; }, \u0026#34;requestParameters\u0026#34;: { \u0026#34;sourceIPAddress\u0026#34;: \u0026#34;127.0.0.1\u0026#34; }, \u0026#34;responseElements\u0026#34;: { \u0026#34;x-amz-request-id\u0026#34;: \u0026#34;EXAMPLE123456789\u0026#34;, \u0026#34;x-amz-id-2\u0026#34;: \u0026#34;EXAMPLE123/5678abcdefghijklambdaisawesome/mnopqrstuvwxyzABCDEFGH\u0026#34; }, \u0026#34;s3\u0026#34;: { \u0026#34;s3SchemaVersion\u0026#34;: \u0026#34;1.0\u0026#34;, \u0026#34;configurationId\u0026#34;: \u0026#34;testConfigRule\u0026#34;, \u0026#34;bucket\u0026#34;: { \u0026#34;name\u0026#34;: \u0026#34;jugbgnr24-transcribe-output-michimani\u0026#34;, \u0026#34;ownerIdentity\u0026#34;: { \u0026#34;principalId\u0026#34;: \u0026#34;EXAMPLE\u0026#34; }, \u0026#34;arn\u0026#34;: \u0026#34;arn:aws:s3:::example-bucket\u0026#34; }, \u0026#34;object\u0026#34;: { \u0026#34;key\u0026#34;: \u0026#34;20200222042102_Transcription.json\u0026#34;, \u0026#34;size\u0026#34;: 1024, \u0026#34;eTag\u0026#34;: \u0026#34;0123456789abcdef0123456789abcdef\u0026#34;, \u0026#34;sequencer\u0026#34;: \u0026#34;0A1B2C3D4E5F678901\u0026#34; } } } ] } å¯¾è±¡ã® S3 ãƒã‚±ãƒƒãƒˆã¨ã‚­ãƒ¼ã‚’ã€å…ˆã»ã©ä½œæˆã•ã‚ŒãŸæ–‡å­—èµ·ã“ã—çµæœã®ã‚‚ã®ã«å¤‰æ›´ã—ã¦ã€ãƒ†ã‚¹ãƒˆã—ã¦ã¿ã¾ã™ã€‚ã‚¨ãƒ©ãƒ¼ãªãæ­£å¸¸ã«å®Ÿè¡ŒãŒçµ‚ã‚ã£ãŸã‚‰ã€ç¿»è¨³çµæœã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆç”¨ãƒã‚±ãƒƒãƒˆ jugbgnr24-translate-output-michimani ã®ä¸­ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3 ls s3://jugbgnr24-translate-output-michimani 2020-02-22 13:55:35 101 20200222045534_Translate.txt ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã®ã§ã€å–å¾—ã—ã¦ä¸­èº«ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ cat 20200222045534_Translate.txt ã“ã‚“ã«ã¡ã¯ã€‚ å¤–å›½èªã‚’è©±ã›ã¾ã™ã‹ã€‚ ä¸€ã¤ã®è¨€èªã§ã¯ååˆ†ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ Hello. Do you speak a foreign language? One language is never enough. ã®ç¿»è¨³çµæœãŒå‡ºåŠ›ã•ã‚Œã¾ã—ãŸã€‚\næ–‡å­—èµ·ã“ã—ã‹ã‚‰é€šã—ã¦ç¢ºèªã—ã¦ã¿ã‚‹ ã“ã‚Œã§ãã‚Œãã‚Œã®ãƒ‘ãƒ¼ãƒˆã®å‡¦ç†ãŒç¢ºèªã§ããŸã®ã§ã€æœ€å¾Œã«éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‹ã‚‰ç¿»è¨³çµæœã®ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›ã¾ã§ã®æµã‚Œã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nãã®å‰ã«ã€å¯¾è±¡ã® 3 ã¤ã®ãƒã‚±ãƒƒãƒˆã¯ç©ºã«ã—ã¦ãŠãã¾ã™ã€‚ãƒ­ãƒ¼ã‚«ãƒ«ã§é©å½“ã«ç©ºã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦ã€ãã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã§ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã—ãŸã€‚\n$ aws s3 sync . s3://jugbgnr24-transcribe-input-michimani --delete delete: s3://jugbgnr24-transcribe-input-michimani/HelloEnglish-Joanna.mp3 $ aws s3 sync . s3://jugbgnr24-transcribe-output-michimani --delete delete: s3://jugbgnr24-transcribe-output-michimani/.write_access_check_file.temp delete: s3://jugbgnr24-transcribe-output-michimani/20200222042102_Transcription.json $ aws s3 sync . s3://jugbgnr24-translate-output-michimani --delete delete: s3://jugbgnr24-translate-output-michimani/20200222045534_Translate.txt ã“ã‚Œã§æº–å‚™ãŒã§ããŸã®ã§ã€éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ PUT ã—ã¦ã¿ã¾ã™ã€‚\n$ aws s3 cp HelloEnglish-Joanna.mp3 s3://jugbgnr24-transcribe-input-michimani upload: ./HelloEnglish-Joanna.mp3 to s3://jugbgnr24-transcribe-input-michimani/HelloEnglish-Joanna.mp3 ã—ã°ã‚‰ã (1 åˆ†ãã‚‰ã„) ã—ã¦ã‹ã‚‰ç¿»è¨³çµæœã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆç”¨ãƒã‚±ãƒƒãƒˆ jugbgnr24-translate-output-michimani ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\naws s3 ls s3://jugbgnr24-translate-output-michimani 2020-02-22 14:09:24 101 20200222050923_Translate.txt ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¦ã„ã¾ã™ã€‚å–å¾—ã—ã¦ä¸­èº«ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ cat 20200222050923_Translate.txt ã“ã‚“ã«ã¡ã¯ã€‚ å¤–å›½èªã‚’è©±ã›ã¾ã™ã‹ã€‚ ä¸€ã¤ã®è¨€èªã§ã¯ååˆ†ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ æˆåŠŸã—ã¦ã¾ã™ã­ã€‚\nå¿µã®ãŸã‚åˆ¥ã®éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚‚è©¦ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚ä»Šåº¦ã¯å°‘ã—é•·ã„ 33 ç§’ã®éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚åŒã˜ã Amazon Polly ã®ã‚µãƒ³ãƒ—ãƒ«ãƒšãƒ¼ã‚¸ã‹ã‚‰å–å¾—ã—ã¾ã™ã€‚\n$ aws s3 cp overview_joanna_news_2.mp3 s3://jugbgnr24-transcribe-input-michimani upload: ./overview_joanna_news_2.mp3 to s3://jugbgnr24-transcribe-input-michimani/overview_joanna_news_2.mp3 ä»Šå›ã¯ 2 åˆ†ã»ã©çµŒã£ã¦ã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºåŠ›ã•ã‚Œã¾ã—ãŸã€‚\n$ aws s3 ls s3://jugbgnr24-translate-output-michimani 2020-02-22 14:09:24 101 20200222050923_Translate.txt 2020-02-22 14:14:38 796 20200222051437_Translate.txt å–å¾—ã—ã¦ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ cat 20200222051437_Translate.txt ã‚¢ãƒã‚¾ãƒ³ Polly ã¯ã€ãƒ†ã‚­ã‚¹ãƒˆã‚’éŸ³å£°ã®ã‚ˆã†ãªç”Ÿæ´»ã«å¤‰ãˆã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚éŸ³å£°å¯¾å¿œè£½å“ã®å…¨ãæ–°ã—ã„ã‚«ãƒ†ã‚´ãƒªã‚’è©±ã—ã¦æ§‹ç¯‰ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã§ãã¾ã™ã€‚ Amazon Polly ã¯ã€æ¨™æº–çš„ãª TTS ãƒœã‚¤ã‚¹ã«åŠ ãˆã¦ã€ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ã‚¹ãƒ”ãƒ¼ãƒã¨ TTS ãƒœã‚¤ã‚¹ã‚’ä½¿ç”¨å¯èƒ½ã«ã—ã€æ–°ã—ã„æ©Ÿæ¢°å­¦ç¿’ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’é€šã˜ã¦ç”»æœŸçš„ãªã‚¹ãƒ”ãƒ¼ãƒå“è³ªã‚’å‘ä¸Šã•ã›ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æœ€ã‚‚è‡ªç„¶ã§äººé–“ã®ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ã‚¹ãƒ”ãƒ¼ãƒã‚’é¡§å®¢ã«æä¾›ã—ã¾ã™ã€‚VoiceãŒå¸‚å ´ã«å‡ºå›ã£ã¦ã„ã¾ã™ã€‚ ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«TTSæŠ€è¡“ã¯ã€ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«åˆã‚ã›ãŸãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚­ãƒ£ã‚¹ã‚¿ãƒ¼ã®èª­æ›¸ã‚¹ã‚¿ã‚¤ãƒ«ã‚‚ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ æ”¹è¡ŒãŒãªã„ã®ã§è¦‹è¾›ã„ã§ã™ãŒã€å†…å®¹ã¨ã—ã¯ä¸‹è¨˜ã®å†…å®¹ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚\nã‚¢ãƒã‚¾ãƒ³ Polly ã¯ã€ãƒ†ã‚­ã‚¹ãƒˆã‚’éŸ³å£°ã®ã‚ˆã†ãªç”Ÿæ´»ã«å¤‰ãˆã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚éŸ³å£°å¯¾å¿œè£½å“ã®å…¨ãæ–°ã—ã„ã‚«ãƒ†ã‚´ãƒªã‚’è©±ã—ã¦æ§‹ç¯‰ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã§ãã¾ã™ã€‚ Amazon Polly ã¯ã€æ¨™æº–çš„ãª TTS ãƒœã‚¤ã‚¹ã«åŠ ãˆã¦ã€ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ã‚¹ãƒ”ãƒ¼ãƒã¨ TTS ãƒœã‚¤ã‚¹ã‚’ä½¿ç”¨å¯èƒ½ã«ã—ã€æ–°ã—ã„æ©Ÿæ¢°å­¦ç¿’ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’é€šã˜ã¦ç”»æœŸçš„ãªã‚¹ãƒ”ãƒ¼ãƒå“è³ªã‚’å‘ä¸Šã•ã›ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æœ€ã‚‚è‡ªç„¶ã§äººé–“ã®ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ã‚¹ãƒ”ãƒ¼ãƒã‚’é¡§å®¢ã«æä¾›ã—ã¾ã™ã€‚VoiceãŒå¸‚å ´ã«å‡ºå›ã£ã¦ã„ã¾ã™ã€‚ ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«TTSæŠ€è¡“ã¯ã€ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«åˆã‚ã›ãŸãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚­ãƒ£ã‚¹ã‚¿ãƒ¼ã®èª­æ›¸ã‚¹ã‚¿ã‚¤ãƒ«ã‚‚ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚\nã¡ã‚ƒã‚“ã¨ç¿»è¨³ã•ã‚Œã¦ã„ã¾ã™ã­ã€‚\nã¾ã¨ã‚ JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨#24 ã‚µãƒ¼ãƒãƒ¬ã‚¹ãƒãƒ³ã‚ºã‚ªãƒ³å‹‰å¼·ä¼šã§å®¿é¡Œã«ãªã£ã¦ã„ãŸèª²é¡Œ æ–‡å­—èµ·ã“ã— \u0026amp; ç¿»è¨³ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å‡¦ç† ã‚’ä½œæˆã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã‚µãƒ¼ãƒãƒ¬ã‚¹ ã¨èãã¨ã©ã†ã—ã¦ã‚‚ API Gateway + Lambda ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå¼·ãã€ S3 ã‚’ã‚µãƒ¼ãƒãƒ¬ã‚¹ã®æ§‹æˆè¦ç´ ã¨ã—ã¦è€ƒãˆã‚‹ã“ã¨ã¯ã»ã¨ã‚“ã©ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ãŸã ã€ä»Šå›ã®ã‚ˆã†ã«ãƒã‚±ãƒƒãƒˆã¸ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä½œæˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ãŸå‡¦ç†ã‚’å®Ÿéš›ã«å®Ÿè£…ã—ã¦ã¿ã‚‹ã¨ã€ S3 ã‚‚ã‚µãƒ¼ãƒãƒ¬ã‚¹ã®å‡¦ç†ã®ä¸€éƒ¨ã¨ã—ã¦æ™®é€šã«ä½¿ãˆãã†ã¨ã„ã†ã‹ã€ãŸã ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¨ã—ã¦ã ã‘ä½¿ã†ã®ã¯å‹¿ä½“ãªã„ãªã¨ã„ã†å°è±¡ã‚’æŒã¡ã¾ã—ãŸã€‚\nåˆå¿ƒè€…æ”¯éƒ¨ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šã€å„ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã®åŸºæœ¬çš„ãªéƒ¨åˆ†ã‚’çµ„ã¿åˆã‚ã›ãŸå½¢ã§éå¸¸ã«ä½œæ¥­ã‚‚ã—ã‚„ã™ãã€ã¾ãŸæ–°ãŸã«ã§ãã‚‹ã“ã¨ãŒå¢—ãˆãŸãªã¨æ„Ÿã˜ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nå»å¹´ã‹ã‚‰ã„ã‚ã‚“ãªãƒãƒ³ã‚ºã‚ªãƒ³ã«å‚åŠ ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸãŒã€ã‚„ã¯ã‚Šå®Ÿéš›ã«æ‰‹ã‚’å‹•ã‹ã™ã®ã¯å¤§äº‹ã ãªã¨æ”¹ã‚ã¦æ„Ÿã˜ãŸã®ã§ã€ä»Šå¾Œã‚‚ç©æ¥µçš„ã«ç¾åœ°ã§ã‚‚ã€ãƒªãƒ¢ãƒ¼ãƒˆã§ã‚‚å‚åŠ ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-jaws-ug-bgnr-24-serverless-quikc-hands-on/",
    "title": "JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨#24 ã‚µãƒ¼ãƒãƒ¬ã‚¹ãƒãƒ³ã‚ºã‚ªãƒ³å‹‰å¼·ä¼šã®å®¿é¡Œã‚’ã‚„ã£ã¦ã¿ãŸ #jawsug_bgnr #jawsug"
  },
  {
    "contents": "CodeCommit ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã™ã‚‹æ‰¿èªã«ã¤ã„ã¦é€šçŸ¥ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚\nå¾Œã§æ°—ã¥ãã¾ã—ãŸãŒã€å®Ÿéš›ã«ã‚„ã£ã¦ã¿ãŸä¸­ã§ approve ã®ã‚¹ãƒšãƒ«ã‚’å®Œå…¨ã«é–“é•ã£ã¦ã„ã¾ã—ãŸã€‚æ¥ãšã‹ã—ã„ã€‚\nç›®æ¬¡ æ¦‚è¦ ã‚„ã£ã¦ã¿ã‚‹ é€šçŸ¥ã®è¨­å®š æ‰¿èªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä½œæˆ ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ä½œæˆ ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æ‰¿èª ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒãƒ¼ã‚¸ ã¾ã¨ã‚ æ¦‚è¦ ä»¥å‰ã« AWS ã® Code ã‚·ãƒªãƒ¼ã‚º (CodeCommit, CodeBuild, CodeDeploy, CodePipeline) ã®å„ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ Amazon SNS (ã¨ AWS Chatbot(beta) ) ã«å¯¾ã—ã¦é€šçŸ¥ã‚’é€ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸãŒã€ä»Šå›ã¯ CodeCommit ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã™ã‚‹æ‰¿èªã«é–¢ã™ã‚‹é€šçŸ¥ã«ã‚‚å¯¾å¿œã—ãŸã‚ˆã†ã§ã™ã€‚\nè©³ç´°ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®å…¬å¼ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nYou can now receive notifications about pull request approvals in AWS CodeCommit å‰å› CodeBuild ã§é€šçŸ¥ã‚’è©¦ã—ãŸã¨ãã®è©±ã¯ã“ã¡ã‚‰ã§ã™ã€‚\nè¿½è¨˜ 2020/04/23 AWS Chatbot ãŒä¸€èˆ¬åˆ©ç”¨å¯èƒ½ (GA) ã«ãªã‚Šã¾ã—ãŸã€‚CLoudWatch Aram ã‚’ Slack ã«é€šçŸ¥ã—ã¦ã¿ãŸè¨˜äº‹ã‚’æ›¸ã„ãŸã®ã§ã“ã¡ã‚‰ã‚‚å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nã‚„ã£ã¦ã¿ã‚‹ ã•ã£ããã‚„ã£ã¦ã¿ã¾ã™ã€‚\nãŒã€æ‰¿èªã®é€šçŸ¥ã®å‰ã«ã€ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ä½œæˆãã®ã‚‚ã®ã«å¯¾ã™ã‚‹é€šçŸ¥ã‚‚è¨­å®šã—ã¦ã¿ã¾ã™ã€‚\né€šçŸ¥ã®è¨­å®š é€šçŸ¥ã‚’è¨­å®šã—ãŸã„ãƒªãƒã‚¸ãƒˆãƒªã®ä¸Šéƒ¨ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ é€šçŸ¥ ã‹ã‚‰è¨­å®šã—ã¾ã™ã€‚\n(ã„ã¤ä½œæˆã—ãŸã‹ã‚‚å¿˜ã‚Œã¦ã„ã‚‹ãƒªãƒã‚¸ãƒˆãƒªãŒã‚ã£ãŸã®ã§ãã‚Œã‚’ä½¿ã„ã¾ã™)\nè¨­å®šé …ç›®ã‚‚ã“ã‚Œã¾ã§ã¨åŒæ§˜ã«ä¸‹è¨˜ã®é …ç›®ã§ã™ã€‚\né€šçŸ¥å è©³ç´°ã‚¿ã‚¤ãƒ— é€šçŸ¥ã‚’ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆ ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ã“ã®ã†ã¡ã€ é€šçŸ¥ã‚’ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆ ã« Pull request ã®é …ç›®ã§ã€ã¨ã‚Šã‚ãˆãšå…¨ã¦ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¦ãŠãã¾ã™ã€‚\nã¾ãŸã€ä»Šå›æ–°ãŸã«è¿½åŠ ã•ã‚ŒãŸ Approvals ã®é …ç›®ã«ã‚‚ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¦ãŠãã¾ã™ã€‚\nä»Šå›ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«ã¯ã€ CodeCommit ã‹ã‚‰ã®é€šçŸ¥ã‚¤ãƒ™ãƒ³ãƒˆã® json ã‚’ãã®ã¾ã¾ Slack ã«é€šçŸ¥ã™ã‚‹ SNS ãƒˆãƒ”ãƒƒã‚¯ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n( ãã®ã¾ã¾ ã¨ã„ã†ã‹ã€ é€šçŸ¥ã‚¤ãƒ™ãƒ³ãƒˆå†…ã® event['Records'][0]['Sns']['Message'] ã«ã‚ãŸã‚‹éƒ¨åˆ†ã‚’è¿”ã—ã¦ã„ã¾ã™ã€‚)\nã‚ã¨ã¯ Submit ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦é€šçŸ¥è¨­å®šã¯å®Œäº†ã§ã™ã€‚\næ‰¿èªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä½œæˆ ä»Šå›ã¯æ‰¿èªãƒ•ãƒ­ãƒ¼ã®é€šçŸ¥ã‚’è©¦ã™ã®ã§ã€ãƒªãƒã‚¸ãƒˆãƒªã«å¯¾ã—ã¦æ‰¿èªã®è¨­å®šã‚’ã—ã¦ãŠãã¾ã™ã€‚\nä¸‹è¨˜ã®ã‚ˆã†ãªæ‰¿èªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã—ã€ãƒ¦ãƒ¼ã‚¶ 1 äººã‹ã‚‰ã®æ‰¿èªã‚’å¿…è¦ã¨ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ä½œæˆ ã§ã¯ã€ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã«å¯¾ã—ã¦ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆã—ã¦ã¿ã¾ã™ã€‚\ndevelop ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ master ãƒ–ãƒ©ãƒ³ãƒã¸ã® PR ã‚’ä½œæˆã—ã¾ã™ã€‚\nãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ã€ã¾ã‚‚ãªãã—ã¦ Slack ã«é€šçŸ¥ãŒæ¥ã¾ã—ãŸã€‚é€šçŸ¥ã‚¤ãƒ™ãƒ³ãƒˆã® json ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªå†…å®¹ã§ã—ãŸã€‚\n{ \u0026#34;account\u0026#34;: \u0026#34;123456789012\u0026#34;, \u0026#34;detailType\u0026#34;: \u0026#34;CodeCommit Pull Request State Change\u0026#34;, \u0026#34;region\u0026#34;: \u0026#34;ap-northeast-1\u0026#34;, \u0026#34;source\u0026#34;: \u0026#34;aws.codecommit\u0026#34;, \u0026#34;time\u0026#34;: \u0026#34;2020-02-20T00:47:20Z\u0026#34;, \u0026#34;notificationRuleArn\u0026#34;: \u0026#34;arn:aws:codestar-notifications:ap-northeast-1:123456789012:notificationrule/4d66e120fe93497bccceXXXXXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;detail\u0026#34;: { \u0026#34;sourceReference\u0026#34;: \u0026#34;refs/heads/develop\u0026#34;, \u0026#34;lastModifiedDate\u0026#34;: \u0026#34;Thu Feb 20 00:47:08 UTC 2020\u0026#34;, \u0026#34;author\u0026#34;: \u0026#34;arn:aws:iam::123456789012:user/hoge\u0026#34;, \u0026#34;isMerged\u0026#34;: \u0026#34;False\u0026#34;, \u0026#34;pullRequestStatus\u0026#34;: \u0026#34;Open\u0026#34;, \u0026#34;notificationBody\u0026#34;: \u0026#34;A pull request event occurred in the following AWS CodeCommit repository: qiita_demo. User: arn:aws:iam::123456789012:user/hoge. Event: Created. Pull request name: 6. Additional information: A pull request was created with the following ID: 6. The title of the pull request is: PR for apploving test. For more information, go to the AWS CodeCommit console https://ap-northeast-1.console.aws.amazon.com/codesuite/codecommit/repositories/qiita_demo/pull-requests/6?region=ap-northeast-1.\u0026#34;, \u0026#34;destinationReference\u0026#34;: \u0026#34;refs/heads/master\u0026#34;, \u0026#34;callerUserArn\u0026#34;: \u0026#34;arn:aws:iam::123456789012:user/hoge\u0026#34;, \u0026#34;creationDate\u0026#34;: \u0026#34;Thu Feb 20 00:47:08 UTC 2020\u0026#34;, \u0026#34;pullRequestId\u0026#34;: \u0026#34;6\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;PR for apploving test\u0026#34;, \u0026#34;revisionId\u0026#34;: \u0026#34;5853753132e2cb33a83e7617af03c69e288d6bc9dddaXXXXXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;repositoryNames\u0026#34;: [ \u0026#34;qiita_demo\u0026#34; ], \u0026#34;destinationCommit\u0026#34;: \u0026#34;ebe4b9a5f6f53d00e74aXXXXXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;event\u0026#34;: \u0026#34;pullRequestCreated\u0026#34;, \u0026#34;sourceCommit\u0026#34;: \u0026#34;0a560861bae31d5d65a3XXXXXXXXXXXXXXXXXXXX\u0026#34; }, \u0026#34;resources\u0026#34;: [ \u0026#34;arn:aws:codecommit:ap-northeast-1:123456789012:qiita_demo\u0026#34; ], \u0026#34;additionalAttributes\u0026#34;: {} } ãƒ–ãƒ©ãƒ³ãƒã€ã‚³ãƒŸãƒƒãƒˆã®æƒ…å ±ãªã©ãŒå…¥ã£ã¦ã„ã¾ã™ã€‚\nãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æ‰¿èª ã“ã“ã§ã€åˆ¥ãƒ¦ãƒ¼ã‚¶ (cc-applove-user-1) ã«ã¦ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æ‰¿èªã‚’ã—ã¦ã¿ã¾ã™ã€‚\næ‰¿èªã™ã‚‹ã¨ã€ã¾ã‚‚ãªãæ¬¡ã®ã‚ˆã†ãªé€šçŸ¥ã‚¤ãƒ™ãƒ³ãƒˆãŒå±Šãã¾ã—ãŸã€‚\n{ \u0026#34;account\u0026#34;: \u0026#34;123456789012\u0026#34;, \u0026#34;detailType\u0026#34;: \u0026#34;CodeCommit Pull Request State Change\u0026#34;, \u0026#34;region\u0026#34;: \u0026#34;ap-northeast-1\u0026#34;, \u0026#34;source\u0026#34;: \u0026#34;aws.codecommit\u0026#34;, \u0026#34;time\u0026#34;: \u0026#34;2020-02-20T00:50:49Z\u0026#34;, \u0026#34;notificationRuleArn\u0026#34;: \u0026#34;arn:aws:codestar-notifications:ap-northeast-1:123456789012:notificationrule/4d66e120fe93497bccceXXXXXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;detail\u0026#34;: { \u0026#34;approvalStatus\u0026#34;: \u0026#34;APPROVE\u0026#34;, \u0026#34;sourceReference\u0026#34;: \u0026#34;refs/heads/develop\u0026#34;, \u0026#34;lastModifiedDate\u0026#34;: \u0026#34;Thu Feb 20 00:47:08 UTC 2020\u0026#34;, \u0026#34;author\u0026#34;: \u0026#34;arn:aws:iam::123456789012:user/hoge\u0026#34;, \u0026#34;isMerged\u0026#34;: \u0026#34;False\u0026#34;, \u0026#34;pullRequestStatus\u0026#34;: \u0026#34;Open\u0026#34;, \u0026#34;notificationBody\u0026#34;: \u0026#34;A pull request event occurred in the following AWS CodeCommit repository: qiita_demo. User: arn:aws:iam::123456789012:user/cc-applove-user-1. Event: Updated. Pull request name: 6. Additional information: A user has changed their approval state for the pull request. State change: APPROVE. For more information, go to the AWS CodeCommit console https://ap-northeast-1.console.aws.amazon.com/codesuite/codecommit/repositories/qiita_demo/pull-requests/6?region=ap-northeast-1.\u0026#34;, \u0026#34;destinationReference\u0026#34;: \u0026#34;refs/heads/master\u0026#34;, \u0026#34;callerUserArn\u0026#34;: \u0026#34;arn:aws:iam::123456789012:user/cc-applove-user-1\u0026#34;, \u0026#34;creationDate\u0026#34;: \u0026#34;Thu Feb 20 00:47:08 UTC 2020\u0026#34;, \u0026#34;pullRequestId\u0026#34;: \u0026#34;6\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;PR for apploving test\u0026#34;, \u0026#34;revisionId\u0026#34;: \u0026#34;5853753132e2cb33a83e7617af03c69e288d6bc9dddaXXXXXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;repositoryNames\u0026#34;: [ \u0026#34;qiita_demo\u0026#34; ], \u0026#34;destinationCommit\u0026#34;: \u0026#34;ebe4b9a5f6f53d00e74aXXXXXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;event\u0026#34;: \u0026#34;pullRequestApprovalStateChanged\u0026#34;, \u0026#34;sourceCommit\u0026#34;: \u0026#34;0a560861bae31d5d65a3XXXXXXXXXXXXXXXXXXXX\u0026#34; }, \u0026#34;resources\u0026#34;: [ \u0026#34;arn:aws:codecommit:ap-northeast-1:123456789012:qiita_demo\u0026#34; ], \u0026#34;additionalAttributes\u0026#34;: {} } detail.approvalStatus ãŒ APPROVE ã«ãªã£ã¦ã„ã¾ã™ã€‚\nç¶šã„ã¦ã€ä¸€æ—¦ã“ã®æ‰¿èªã‚’å–ã‚Šæ¶ˆã—ã¦ã¿ã¾ã™ã€‚\nä¸‹è¨˜ã®ã‚ˆã†ãªé€šçŸ¥ã‚¤ãƒ™ãƒ³ãƒˆãŒå±Šãã¾ã—ãŸã€‚\n{ \u0026#34;account\u0026#34;: \u0026#34;123456789012\u0026#34;, \u0026#34;detailType\u0026#34;: \u0026#34;CodeCommit Pull Request State Change\u0026#34;, \u0026#34;region\u0026#34;: \u0026#34;ap-northeast-1\u0026#34;, \u0026#34;source\u0026#34;: \u0026#34;aws.codecommit\u0026#34;, \u0026#34;time\u0026#34;: \u0026#34;2020-02-20T00:52:34Z\u0026#34;, \u0026#34;notificationRuleArn\u0026#34;: \u0026#34;arn:aws:codestar-notifications:ap-northeast-1:123456789012:notificationrule/4d66e120fe93497bccceXXXXXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;detail\u0026#34;: { \u0026#34;approvalStatus\u0026#34;: \u0026#34;REVOKE\u0026#34;, \u0026#34;sourceReference\u0026#34;: \u0026#34;refs/heads/develop\u0026#34;, \u0026#34;lastModifiedDate\u0026#34;: \u0026#34;Thu Feb 20 00:47:08 UTC 2020\u0026#34;, \u0026#34;author\u0026#34;: \u0026#34;arn:aws:iam::123456789012:user/hoge\u0026#34;, \u0026#34;isMerged\u0026#34;: \u0026#34;False\u0026#34;, \u0026#34;pullRequestStatus\u0026#34;: \u0026#34;Open\u0026#34;, \u0026#34;notificationBody\u0026#34;: \u0026#34;A pull request event occurred in the following AWS CodeCommit repository: qiita_demo. User: arn:aws:iam::123456789012:user/cc-applove-user-1. Event: Updated. Pull request name: 6. Additional information: A user has changed their approval state for the pull request. State change: REVOKE. For more information, go to the AWS CodeCommit console https://ap-northeast-1.console.aws.amazon.com/codesuite/codecommit/repositories/qiita_demo/pull-requests/6?region=ap-northeast-1.\u0026#34;, \u0026#34;destinationReference\u0026#34;: \u0026#34;refs/heads/master\u0026#34;, \u0026#34;callerUserArn\u0026#34;: \u0026#34;arn:aws:iam::123456789012:user/cc-applove-user-1\u0026#34;, \u0026#34;creationDate\u0026#34;: \u0026#34;Thu Feb 20 00:47:08 UTC 2020\u0026#34;, \u0026#34;pullRequestId\u0026#34;: \u0026#34;6\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;PR for apploving test\u0026#34;, \u0026#34;revisionId\u0026#34;: \u0026#34;5853753132e2cb33a83e7617af03c69e288d6bc9dddaXXXXXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;repositoryNames\u0026#34;: [ \u0026#34;qiita_demo\u0026#34; ], \u0026#34;destinationCommit\u0026#34;: \u0026#34;ebe4b9a5f6f53d00e74aXXXXXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;event\u0026#34;: \u0026#34;pullRequestApprovalStateChanged\u0026#34;, \u0026#34;sourceCommit\u0026#34;: \u0026#34;0a560861bae31d5d65a3XXXXXXXXXXXXXXXXXXXX\u0026#34; }, \u0026#34;resources\u0026#34;: [ \u0026#34;arn:aws:codecommit:ap-northeast-1:123456789012:qiita_demo\u0026#34; ], \u0026#34;additionalAttributes\u0026#34;: {} } detail.approvalStatus ãŒ REVOKE ã«ãªã‚Šã¾ã—ãŸã€‚\nå†åº¦æ‰¿èªã—ã¦ã€æœ€å¾Œã«ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ãƒãƒ¼ã‚¸ã—ã¾ã™ã€‚\nã¡ãªã¿ã«ã€æ‰¿èªãƒ«ãƒ¼ãƒ«ã‚’ä¸Šæ›¸ãã—ãŸå ´åˆã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªé€šçŸ¥ã‚¤ãƒ™ãƒ³ãƒˆãŒå±Šãã¾ã™ã€‚\n{ \u0026#34;account\u0026#34;: \u0026#34;123456789012\u0026#34;, \u0026#34;detailType\u0026#34;: \u0026#34;CodeCommit Pull Request State Change\u0026#34;, \u0026#34;region\u0026#34;: \u0026#34;ap-northeast-1\u0026#34;, \u0026#34;source\u0026#34;: \u0026#34;aws.codecommit\u0026#34;, \u0026#34;time\u0026#34;: \u0026#34;2020-02-20T00:43:48Z\u0026#34;, \u0026#34;notificationRuleArn\u0026#34;: \u0026#34;arn:aws:codestar-notifications:ap-northeast-1:123456789012:notificationrule/4d66e120fe93497bccceXXXXXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;detail\u0026#34;: { \u0026#34;sourceReference\u0026#34;: \u0026#34;refs/heads/develop\u0026#34;, \u0026#34;lastModifiedDate\u0026#34;: \u0026#34;Thu Feb 20 00:30:17 UTC 2020\u0026#34;, \u0026#34;author\u0026#34;: \u0026#34;arn:aws:iam::123456789012:user/hoge\u0026#34;, \u0026#34;isMerged\u0026#34;: \u0026#34;False\u0026#34;, \u0026#34;pullRequestStatus\u0026#34;: \u0026#34;Open\u0026#34;, \u0026#34;notificationBody\u0026#34;: \u0026#34;A pull request event occurred in the following AWS CodeCommit repository: qiita_demo. User: arn:aws:iam::123456789012:user/cc-applove-user-1. Event: Updated. Pull request name: 5. Additional information: An override event has occurred for the approval rules for this pull request. Override status: OVERRIDE. For more information, go to the AWS CodeCommit console https://ap-northeast-1.console.aws.amazon.com/codesuite/codecommit/repositories/qiita_demo/pull-requests/5?region=ap-northeast-1.\u0026#34;, \u0026#34;destinationReference\u0026#34;: \u0026#34;refs/heads/master\u0026#34;, \u0026#34;callerUserArn\u0026#34;: \u0026#34;arn:aws:iam::123456789012:user/cc-applove-user-1\u0026#34;, \u0026#34;creationDate\u0026#34;: \u0026#34;Thu Feb 20 00:30:17 UTC 2020\u0026#34;, \u0026#34;pullRequestId\u0026#34;: \u0026#34;5\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;PR for apploving test\u0026#34;, \u0026#34;revisionId\u0026#34;: \u0026#34;02a04395842c449148dc0f880d45ed75a04b637e4ae450e1810b5ec14bb7281e\u0026#34;, \u0026#34;repositoryNames\u0026#34;: [ \u0026#34;qiita_demo\u0026#34; ], \u0026#34;destinationCommit\u0026#34;: \u0026#34;ebe4b9a5f6f53d00e74aXXXXXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;event\u0026#34;: \u0026#34;pullRequestApprovalRuleOverridden\u0026#34;, \u0026#34;sourceCommit\u0026#34;: \u0026#34;0a560861bae31d5d65a3XXXXXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;overrideStatus\u0026#34;: \u0026#34;OVERRIDE\u0026#34; }, \u0026#34;resources\u0026#34;: [ \u0026#34;arn:aws:codecommit:ap-northeast-1:123456789012:qiita_demo\u0026#34; ], \u0026#34;additionalAttributes\u0026#34;: {} } detail.overrideStatus ãŒ OVERRIDE ã«ãªã£ã¦ã„ã¾ã™ã€‚\nãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒãƒ¼ã‚¸ ä»Šå›ã¯ 3way merge ã§ãƒãƒ¼ã‚¸ã—ã¦ã¿ã¾ã—ãŸã€‚\nãã®éš›ã®é€šçŸ¥ã‚¤ãƒ™ãƒ³ãƒˆã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\n{ \u0026#34;account\u0026#34;: \u0026#34;123456789012\u0026#34;, \u0026#34;detailType\u0026#34;: \u0026#34;CodeCommit Pull Request State Change\u0026#34;, \u0026#34;region\u0026#34;: \u0026#34;ap-northeast-1\u0026#34;, \u0026#34;source\u0026#34;: \u0026#34;aws.codecommit\u0026#34;, \u0026#34;time\u0026#34;: \u0026#34;2020-02-20T00:55:40Z\u0026#34;, \u0026#34;notificationRuleArn\u0026#34;: \u0026#34;arn:aws:codestar-notifications:ap-northeast-1:123456789012:notificationrule/4d66e120fe93497bccceXXXXXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;detail\u0026#34;: { \u0026#34;sourceReference\u0026#34;: \u0026#34;refs/heads/develop\u0026#34;, \u0026#34;lastModifiedDate\u0026#34;: \u0026#34;Thu Feb 20 00:55:36 UTC 2020\u0026#34;, \u0026#34;author\u0026#34;: \u0026#34;arn:aws:iam::123456789012:user/hoge\u0026#34;, \u0026#34;isMerged\u0026#34;: \u0026#34;True\u0026#34;, \u0026#34;pullRequestStatus\u0026#34;: \u0026#34;Closed\u0026#34;, \u0026#34;notificationBody\u0026#34;: \u0026#34;A pull request event occurred in the following AWS CodeCommit repository: qiita_demo. User: arn:aws:iam::123456789012:user/hoge. Event: Updated. Pull request name: 6. Additional information: The pull request merge status has been updated. The status is merged. For more information, go to the AWS CodeCommit console https://ap-northeast-1.console.aws.amazon.com/codesuite/codecommit/repositories/qiita_demo/pull-requests/6?region=ap-northeast-1.\u0026#34;, \u0026#34;destinationReference\u0026#34;: \u0026#34;refs/heads/master\u0026#34;, \u0026#34;callerUserArn\u0026#34;: \u0026#34;arn:aws:iam::123456789012:user/hoge\u0026#34;, \u0026#34;creationDate\u0026#34;: \u0026#34;Thu Feb 20 00:47:08 UTC 2020\u0026#34;, \u0026#34;pullRequestId\u0026#34;: \u0026#34;6\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;PR for apploving test\u0026#34;, \u0026#34;revisionId\u0026#34;: \u0026#34;5853753132e2cb33a83e7617af03c69e288d6bc9dddaXXXXXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;repositoryNames\u0026#34;: [ \u0026#34;qiita_demo\u0026#34; ], \u0026#34;destinationCommit\u0026#34;: \u0026#34;ebe4b9a5f6f53d00e74aXXXXXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;event\u0026#34;: \u0026#34;pullRequestMergeStatusUpdated\u0026#34;, \u0026#34;mergeOption\u0026#34;: \u0026#34;THREE_WAY_MERGE\u0026#34;, \u0026#34;sourceCommit\u0026#34;: \u0026#34;0a560861bae31d5d65a3XXXXXXXXXXXXXXXXXXXX\u0026#34; }, \u0026#34;resources\u0026#34;: [ \u0026#34;arn:aws:codecommit:ap-northeast-1:123456789012:qiita_demo\u0026#34; ], \u0026#34;additionalAttributes\u0026#34;: {} } detail.isMerged ãŒ True ã€ detail.pullRequestStatus ãŒ Closed ã€ detail.mergeOption ãŒ THREE_WAY_MERGE ã«ãªã£ã¦ã„ã¾ã™ã€‚\nã¾ã¨ã‚ CodeCommit ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã—ã¦é€šçŸ¥ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§è©¦ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã©ã®é€šçŸ¥ã‚¤ãƒ™ãƒ³ãƒˆã«ã¤ã„ã¦ã‚‚è¨€ãˆã‚‹ã®ã¯ detail.notificationBody ã«è©³ç´°ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå…¥ã£ã¦ã„ã‚‹ã®ã§ã€ Slack ã«é€šçŸ¥ã™ã‚‹éš›ã«ã¯ã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ¡ã‚¤ãƒ³ã«æµã›ã°è‰¯ã•ãã†ãªæ°—ãŒã—ã¾ã™ã€‚ã“ã‚Œã¾ã§ã¯ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã™ã‚‹æ‰¿èªã‚’äººé–“ã®æ‰‹ã§èª°ã‹ã—ã‚‰ã«é€šçŸ¥ã—ã¦ã„ã¾ã—ãŸãŒã€ä»Šå›ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§ã€é–‹ç™ºãŒã‚ˆã‚Šã‚¹ãƒ ãƒ¼ã‚ºã«é€²ã‚ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šãã†ã§ã™ã€‚(ãã‚‚ãã‚‚ä»Šã¾ã§ãªã‚“ã§ãªã‹ã£ãŸã‚“ã§ã—ã‚‡ã†ã­\u0026hellip;)\nå‰å›ã® CodeBuild ã®ã¨ãã«ã‚‚æ€ã„ã¾ã—ãŸãŒã€ã‚ã¡ã‚ƒãã¡ã‚ƒç°¡å˜ã«é€šçŸ¥ã®è¨­å®šãŒã§ãã‚‹ã®ã¯è‰¯ã„ã§ã™ã­ã€‚\n",
    "permalink": "https://michimani.net/post/aws-codecommit-pr-notification/",
    "title": "CodeCommit ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æ‰¿èªã‚’ SNS çµŒç”±ã§ Slack ã«é€šçŸ¥ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "DynamoDB ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ãƒªã‚¹ãƒˆã‚¢ã™ã‚‹éš›ã«ã€ä»–ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚‚ãƒªã‚¹ãƒˆã‚¢ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã¿ãŸã„ãªã®ã§ã€å®Ÿéš›ã«è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚\nç›®æ¬¡ æ¦‚è¦ ã‚„ã£ã¦ã¿ã‚‹ 1. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆã™ã‚‹ 2. ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ãƒªã‚¹ãƒˆã‚¢ã™ã‚‹ ãƒªã‚¹ãƒˆã‚¢å…ˆã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ç¢ºèªã™ã‚‹ CLI ã§ãƒªã‚¹ãƒˆã‚¢ã—ã¦ã¿ã‚‹ ã¾ã¨ã‚ å‚è€ƒ æ¦‚è¦ DynamoDB ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ãƒªã‚¹ãƒˆã‚¢ (å¾©å…ƒ) ã™ã‚‹éš›ã«ã€å…ƒã®ãƒ†ãƒ¼ãƒ–ãƒ«ã¨åˆ¥ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ãƒªã‚¹ãƒˆã‚¢ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã‚ˆã†ã§ã™ã€‚ä»Šå›ã¯ã€å®Ÿéš›ã« æ±äº¬ (ap-northeast-1) ã§å–å¾—ã—ãŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ (us-east-1) ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¸ãƒªã‚¹ãƒˆã‚¢ã—ã¦ã¿ã¾ã—ãŸã€‚\nAWS å…¬å¼ã®ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã¯ä¸‹è¨˜è¨˜äº‹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nYou can now restore Amazon DynamoDB table backups as new tables in other AWS Regions ã‚„ã£ã¦ã¿ã‚‹ æ‰‹é †ã¨ã—ã¦ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\nãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆã™ã‚‹ ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦å¾©å…ƒã™ã‚‹ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®ä½œæˆã«ã¤ã„ã¦ã¯ã€æ™®æ®µã‹ã‚‰ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å–å¾—ã—ã¦ã„ã‚‹å ´åˆã¯ä¸è¦ã§ã™ã€‚\n1. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆã™ã‚‹ ä»Šå›ã¯ æ±äº¬ (ap-northeast-1) ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚ã‚‹ Thread ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å¯¾è±¡ã«ã—ã¾ã™ã€‚ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒå­˜åœ¨ã—ãªã„ã®ã§ã€ã¾ãšã¯æ‰‹å‹•ã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆã—ã¾ã™ã€‚\nãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒä½œæˆã•ã‚Œã¾ã—ãŸã€‚\nä»Šå›ã¯ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ã®å¾©å…ƒã‚’è©¦ã—ã¾ã™ãŒã€ãƒã‚¤ãƒ³ãƒˆã‚¤ãƒ³ã‚¿ã‚¤ãƒ ãƒªã‚«ãƒãƒª (PITR) ã‹ã‚‰ã®å¾©å…ƒã«ã¤ã„ã¦ã¯ AWS ã®ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nRestore Amazon DynamoDB backups to different AWS Regions and with custom table settings | AWS Database Blog 2. ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ãƒªã‚¹ãƒˆã‚¢ã™ã‚‹ ç¶šã„ã¦ã€ä½œæˆã—ãŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ãƒªã‚¹ãƒˆã‚¢ã—ã¾ã™ã€‚\nå…ˆã»ã©ä½œæˆã—ãŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’é¸æŠã—ã¦ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®å¾©å…ƒ ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚\nã™ã‚‹ã¨ã€ ã‚¯ãƒ­ã‚¹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®å¾©å…ƒ ã¨ã„ã†é …ç›®ãŒã‚ã‚‹ã®ã§ã€ã“ã“ã§ãƒªã‚¹ãƒˆã‚¢å…ˆã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’é¸æŠã—ã¾ã™ã€‚\nå¾Œã®é …ç›®ã¯é©å®œå¤‰æ›´ã—ã¦ãã ã•ã„ã€‚\næœ€å¾Œã« ãƒ†ãƒ¼ãƒ–ãƒ«ã®å¾©å…ƒ ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€ãƒªã‚¹ãƒˆã‚¢ãŒé–‹å§‹ã•ã‚Œã¾ã™ã€‚\nãƒªã‚¹ãƒˆã‚¢å…ˆã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ç¢ºèªã™ã‚‹ å¾©å…ƒãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸç›´å¾Œã¯ã€ãƒªã‚¹ãƒˆã‚¢å…ˆã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ ãƒªã‚¹ãƒˆã‚¢ä¸­ ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nãƒªã‚¹ãƒˆã‚¢ã«ã¯æœ€å¤§ã§æ•°æ™‚é–“ã‹ã‹ã‚‹ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ 5 åˆ†ã»ã©ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ æœ‰åŠ¹ ã«ãªã‚Šã¾ã—ãŸã€‚\nCLI ã§ãƒªã‚¹ãƒˆã‚¢ã—ã¦ã¿ã‚‹ åŒã˜ã“ã¨ã‚’ AWS CLI ã§ã‚„ã£ã¦ã¿ã¾ã™ã€‚\nAWS CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€æœ€æ–°ã® v2.0.0 ã§ã™ã€‚\n$ aws --version aws-cli/2.0.0 Python/3.7.4 Darwin/18.7.0 botocore/2.0.0dev4 ã‚³ãƒãƒ³ãƒ‰ã¨ã—ã¦ã¯ DynamoDB ã® restore-table-from-backup ã§ã™ã€‚\n$ aws dynamodb restore-table-from-backup \\ --target-table-name ThreadFromBk \\ --backup-arn arn:aws:dynamodb:ap-northeast-1:123456789012:table/Thread/backup/01582064716226-XXXXXXXX \\ --region us-east-1 An error occurred (ValidationException) when calling the RestoreTableFromBackup operation: Invalid Request: sseSpecificationOverride must be provided for cross-region restores ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚\nã©ã†ã‚„ã‚‰ã‚¯ãƒ­ã‚¹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãƒªã‚¹ãƒˆã‚¢ã«ã¯ SSESpecificationOverride ãŒå¿…è¦ãªã‚ˆã†ã§ã™ã€‚\nãŸã ã€ v2.0.0 ã§ã¯ restore-table-from-backup ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦ SSESpecificationOverride ã‚’æ¸¡ã™ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ --generate-cli-skeleton ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ç¢ºèªã—ã¦ã¿ã¦ã‚‚é …ç›®ãŒè¦‹å½“ãŸã‚Šã¾ã›ã‚“ã€‚\n$ aws dynamodb restore-table-from-backup --generate-cli-skeleton { \u0026#34;TargetTableName\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;BackupArn\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;BillingModeOverride\u0026#34;: \u0026#34;PAY_PER_REQUEST\u0026#34;, \u0026#34;GlobalSecondaryIndexOverride\u0026#34;: [ { \u0026#34;IndexName\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;KeySchema\u0026#34;: [ { \u0026#34;AttributeName\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;KeyType\u0026#34;: \u0026#34;RANGE\u0026#34; } ], \u0026#34;Projection\u0026#34;: { \u0026#34;ProjectionType\u0026#34;: \u0026#34;INCLUDE\u0026#34;, \u0026#34;NonKeyAttributes\u0026#34;: [ \u0026#34;\u0026#34; ] }, \u0026#34;ProvisionedThroughput\u0026#34;: { \u0026#34;ReadCapacityUnits\u0026#34;: 0, \u0026#34;WriteCapacityUnits\u0026#34;: 0 } } ], \u0026#34;LocalSecondaryIndexOverride\u0026#34;: [ { \u0026#34;IndexName\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;KeySchema\u0026#34;: [ { \u0026#34;AttributeName\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;KeyType\u0026#34;: \u0026#34;RANGE\u0026#34; } ], \u0026#34;Projection\u0026#34;: { \u0026#34;ProjectionType\u0026#34;: \u0026#34;INCLUDE\u0026#34;, \u0026#34;NonKeyAttributes\u0026#34;: [ \u0026#34;\u0026#34; ] } } ], \u0026#34;ProvisionedThroughputOverride\u0026#34;: { \u0026#34;ReadCapacityUnits\u0026#34;: 0, \u0026#34;WriteCapacityUnits\u0026#34;: 0 } } ã¨ã„ã†ã“ã¨ã§ã€ v1 ã®æœ€æ–°ç‰ˆã§ã‚ã‚‹ v1.18.2 ã§è©¦ã—ã¦ã¿ã¾ã™ã€‚\nv1 ã¨ v2 ã®å…±ç”¨ã«ã¤ã„ã¦ã¯ã€ä¸‹è¨˜ã®è¨˜äº‹ã‚’å‚è€ƒã«ç’°å¢ƒã‚’ä½œã‚Šã¾ã—ãŸã€‚\nvenvã‚’ä½¿ã£ã¦AWS CLIï¼ˆv1ï¼‰ã¨AWS CLI v2ã‚’ä½¿ã„åˆ†ã‘ã‚‹ï¼ˆMac, Linuxç·¨ï¼‰ ï½œ Developers.IO (aws-cli-v1) $ aws --version aws-cli/1.18.2 Python/3.7.5 Darwin/18.7.0 botocore/1.15.2 ã“ã®ç’°å¢ƒã§ --generate-cli-skeleton ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ç¢ºèªã—ã¦ã¿ã‚‹ã¨ SSESpecificationOverride ã®é …ç›®ãŒå­˜åœ¨ã—ã¦ã„ã¾ã™ã€‚\n(aws-cli-v1) $ aws dynamodb restore-table-from-backup --generate-cli-skeleton { \u0026#34;TargetTableName\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;BackupArn\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;BillingModeOverride\u0026#34;: \u0026#34;PROVISIONED\u0026#34;, \u0026#34;GlobalSecondaryIndexOverride\u0026#34;: [ { \u0026#34;IndexName\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;KeySchema\u0026#34;: [ { \u0026#34;AttributeName\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;KeyType\u0026#34;: \u0026#34;RANGE\u0026#34; } ], \u0026#34;Projection\u0026#34;: { \u0026#34;ProjectionType\u0026#34;: \u0026#34;KEYS_ONLY\u0026#34;, \u0026#34;NonKeyAttributes\u0026#34;: [ \u0026#34;\u0026#34; ] }, \u0026#34;ProvisionedThroughput\u0026#34;: { \u0026#34;ReadCapacityUnits\u0026#34;: 0, \u0026#34;WriteCapacityUnits\u0026#34;: 0 } } ], \u0026#34;LocalSecondaryIndexOverride\u0026#34;: [ { \u0026#34;IndexName\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;KeySchema\u0026#34;: [ { \u0026#34;AttributeName\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;KeyType\u0026#34;: \u0026#34;HASH\u0026#34; } ], \u0026#34;Projection\u0026#34;: { \u0026#34;ProjectionType\u0026#34;: \u0026#34;INCLUDE\u0026#34;, \u0026#34;NonKeyAttributes\u0026#34;: [ \u0026#34;\u0026#34; ] } } ], \u0026#34;ProvisionedThroughputOverride\u0026#34;: { \u0026#34;ReadCapacityUnits\u0026#34;: 0, \u0026#34;WriteCapacityUnits\u0026#34;: 0 }, \u0026#34;SSESpecificationOverride\u0026#34;: { \u0026#34;Enabled\u0026#34;: true, \u0026#34;SSEType\u0026#34;: \u0026#34;KMS\u0026#34;, \u0026#34;KMSMasterKeyId\u0026#34;: \u0026#34;\u0026#34; } } help ã§ç¢ºèªã—ã¦ã¿ã¦ã‚‚ã€ --sse-specification-override ã®èª¬æ˜ãŒã‚ã‚Šã¾ã™ã€‚\n(aws-cli-v1) $ aws dynamodb restore-table-from-backup help ... OPTIONS ... --sse-specification-override (structure) The new server-side encryption settings for the restored table. Shorthand Syntax: Enabled=boolean,SSEType=string,KMSMasterKeyId=string JSON Syntax: { \u0026#34;Enabled\u0026#34;: true|false, \u0026#34;SSEType\u0026#34;: \u0026#34;AES256\u0026#34;|\u0026#34;KMS\u0026#34;, \u0026#34;KMSMasterKeyId\u0026#34;: \u0026#34;string\u0026#34; } ã§ã¯ã€å…ˆã»ã©ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n(aws-cli-v1) $ aws dynamodb restore-table-from-backup \\ --target-table-name ThreadFromBk \\ --backup-arn arn:aws:dynamodb:ap-northeast-1:123456789012:table/Thread/backup/01582064716226-XXXXXXXX \\ --sse-specification-override Enabled=false \\ --region us-east-1 { \u0026#34;TableDescription\u0026#34;: { \u0026#34;AttributeDefinitions\u0026#34;: [ { \u0026#34;AttributeName\u0026#34;: \u0026#34;ForumName\u0026#34;, \u0026#34;AttributeType\u0026#34;: \u0026#34;S\u0026#34; }, { \u0026#34;AttributeName\u0026#34;: \u0026#34;Subject\u0026#34;, \u0026#34;AttributeType\u0026#34;: \u0026#34;S\u0026#34; } ], \u0026#34;TableName\u0026#34;: \u0026#34;ThreadFromBk\u0026#34;, \u0026#34;KeySchema\u0026#34;: [ { \u0026#34;AttributeName\u0026#34;: \u0026#34;ForumName\u0026#34;, \u0026#34;KeyType\u0026#34;: \u0026#34;HASH\u0026#34; }, { \u0026#34;AttributeName\u0026#34;: \u0026#34;Subject\u0026#34;, \u0026#34;KeyType\u0026#34;: \u0026#34;RANGE\u0026#34; } ], \u0026#34;TableStatus\u0026#34;: \u0026#34;CREATING\u0026#34;, \u0026#34;CreationDateTime\u0026#34;: 1582071746.299, \u0026#34;ProvisionedThroughput\u0026#34;: { \u0026#34;NumberOfDecreasesToday\u0026#34;: 0, \u0026#34;ReadCapacityUnits\u0026#34;: 1, \u0026#34;WriteCapacityUnits\u0026#34;: 1 }, \u0026#34;TableSizeBytes\u0026#34;: 0, \u0026#34;ItemCount\u0026#34;: 0, \u0026#34;TableArn\u0026#34;: \u0026#34;arn:aws:dynamodb:us-east-1:123456789012:table/ThreadFromBk\u0026#34;, \u0026#34;TableId\u0026#34;: \u0026#34;bd27f2d1-61c3-41e4-b91a-XXXXXXXXXXXX\u0026#34;, \u0026#34;BillingModeSummary\u0026#34;: { \u0026#34;BillingMode\u0026#34;: \u0026#34;PROVISIONED\u0026#34; }, \u0026#34;RestoreSummary\u0026#34;: { \u0026#34;SourceBackupArn\u0026#34;: \u0026#34;arn:aws:dynamodb:ap-northeast-1:123456789012:table/Thread/backup/01582064716226-XXXXXXXX\u0026#34;, \u0026#34;SourceTableArn\u0026#34;: \u0026#34;arn:aws:dynamodb:ap-northeast-1:123456789012:table/Thread\u0026#34;, \u0026#34;RestoreDateTime\u0026#34;: 1582064716.226, \u0026#34;RestoreInProgress\u0026#34;: true } } } (aws-cli-v1) $ aws dynamodb list-tables --region us-east-1 { \u0026#34;TableNames\u0026#34;: [ \u0026#34;ThreadFromBk\u0026#34; ] } ãƒªã‚¹ãƒˆã‚¢ãŒæ­£å¸¸ã«å®Ÿè¡Œã•ã‚Œã€ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ (us-east-1) ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ãƒ†ãƒ¼ãƒ–ãƒ«ãŒä½œæˆã•ã‚Œã¾ã—ãŸã€‚\nCLI ã‹ã‚‰å®Ÿè¡Œã™ã‚‹å ´åˆã¯ã€ä»Š (2020/02/19) ã®ã¨ã“ã‚ v1 ã§ã®ã¿å¯èƒ½ãªã‚ˆã†ã§ã™ã€‚\nã¾ã¨ã‚ DynamoDB ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ãƒªã‚¹ãƒˆã‚¢ã™ã‚‹éš›ã«ã€ä»–ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚‚ãƒªã‚¹ãƒˆã‚¢ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã¿ãŸã„ãªã®ã§ã€å®Ÿéš›ã«è©¦ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è·¨ã„ã ãƒªã‚¹ãƒˆã‚¢ã¨èãã¨é¢å€’ãªå°è±¡ãŒã‚ã‚Šã¾ã—ãŒã€éå¸¸ã«ç°¡å˜ã«ãƒªã‚¹ãƒˆã‚¢ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nä»Šå›ã¯ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰å®Ÿè¡Œã—ã¾ã—ãŸãŒã€ CLI ã‹ã‚‰ã‚‚å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ãªã®ã§ã€ãã¡ã‚‰ã‚‚ã‚ã‚‰ãŸã‚ã¦è©¦ã—ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚ CLI ã§ã®ã‚¯ãƒ­ã‚¹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãƒªã‚¹ãƒˆã‚¢ã«ã¤ã„ã¦ã¯ã€ç¾æ™‚ç‚¹ (2020/02/19) ã§ã¯ v1 ã§ã®ã¿å®Ÿè¡Œå¯èƒ½ãªã‚ˆã†ã§ã™ãŒã€å•é¡Œãªãå®Ÿè¡Œã§ãã¾ã—ãŸã€‚\nå‚è€ƒ You can now restore Amazon DynamoDB table backups as new tables in other AWS Regions Restore Amazon DynamoDB backups to different AWS Regions and with custom table settings | AWS Database Blog ",
    "permalink": "https://michimani.net/post/aws-restore-dynamodb-table-to-other-region/",
    "title": "DynamoDB ã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰åˆ¥ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¸ã®ãƒªã‚¹ãƒˆã‚¢ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã¿ãŸã„ãªã®ã§è©¦ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "API Gateway ã§ä½œæˆã—ãŸ API ã®èªè¨¼æ–¹æ³•ã¨ã—ã¦ API ã‚­ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã«ã€ç°¡å˜ã« API ã‚­ãƒ¼ã‚’ç”Ÿæˆã§ãã‚‹ã‚ˆã†ãªã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚\nç›®æ¬¡ æ¦‚è¦ è©³ç´° ä½¿ç”¨æ–™ãƒ—ãƒ©ãƒ³ã®ä½œæˆ API ã‚­ãƒ¼ã®ç”Ÿæˆã¨ä½¿ç”¨é‡ãƒ—ãƒ©ãƒ³ã¸ã®é–¢é€£ä»˜ã‘ ã¾ã¨ã‚ æ¦‚è¦ æ—¢ã« API Gateway ã§ API ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¾ã™ã€‚ãã—ã¦ã€ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§å®Ÿç¾ã™ã‚‹ã®ã¯ã€ä¸‹è¨˜ã®å†…å®¹ã§ã™ã€‚\nä½¿ç”¨é‡ãƒ—ãƒ©ãƒ³ã®ä½œæˆ API ã‚­ãƒ¼ã®ç”Ÿæˆã¨ä½¿ç”¨é‡ãƒ—ãƒ©ãƒ³ã¸ã®é–¢é€£ä»˜ã‘ ä½¿ç”¨é‡ãƒ—ãƒ©ãƒ³ã®ä½œæˆ ã«ã¤ã„ã¦ã¯ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¦ä½œæˆã—ã¾ã™ã€‚\nAPI ã‚­ãƒ¼ã®ç”Ÿæˆã¨ä½¿ç”¨é‡ãƒ—ãƒ©ãƒ³ã¸ã®é–¢é€£ä»˜ã‘ ã¯ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ã£ã¦å®Ÿç¾ã—ã¾ã™ã€‚\nä»Šå›ç´¹ä»‹ã™ã‚‹ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã§ã¯ã€ AWS CLI ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹ã®ã§ã€ AWS CLI ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŠã‚ˆã³ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«ã®è¨­å®šã¯æ¸ˆã‚“ã§ã„ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¦ã„ã¾ã™ã€‚å‹•ä½œç¢ºèªã—ãŸ AWS CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€ 1.17.7 ãŠã‚ˆã³ 2.0.0 ã§ã™ã€‚\nã¾ãŸã€ä»Šå›ç´¹ä»‹ã™ã‚‹ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã§ã¯ jq ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¾ã™ã€‚\nè©³ç´° ã§ã¯ã€ãã‚Œãã‚Œã®ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã€ãŠã‚ˆã³ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã¿ã¦ã„ãã¾ã™ã€‚\nä½¿ç”¨æ–™ãƒ—ãƒ©ãƒ³ã®ä½œæˆ ä½¿ç”¨é‡ãƒ—ãƒ©ãƒ³ã®ä½œæˆã«ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãª CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«åã¯ api-usage-plan.yml ã¨ã—ã¦ãŠãã¾ã™ã€‚\nAWSTemplateFormatVersion: \u0026#34;2010-09-09\u0026#34; Description: \u0026#34;API Gateway - usage plan template.\u0026#34; Parameters: TargetApiId: Type: String Resources: UsagePlan: Type: \u0026#34;AWS::ApiGateway::UsagePlan\u0026#34; Properties: ApiStages: - ApiId: !Ref TargetApiId Stage: api Description: Usage plan for API UsagePlanName: ApiUsagePlan Outputs: UsagePlanID: Description: ID of created usage plan Value: !Ref UsagePlan ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒ‡ãƒ—ãƒ­ã‚¤ã«ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«åã¯ 01-api-usage-plan.sh ã¨ã—ã¦ã€ä¸Šè¨˜ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®ã—ã¾ã™ã€‚\n#!/bin/bash CHANGESET_OPTION=\u0026#34;--no-execute-changeset\u0026#34; if [ $# = 1 ] \u0026amp;\u0026amp; [ $1 = \u0026#34;deploy\u0026#34; ]; then echo \u0026#34;deploy mode\u0026#34; CHANGESET_OPTION=\u0026#34;\u0026#34; fi CFN_TEMPLATE=\u0026#34;$(dirname $0)/api-usage-plan.yml\u0026#34; CFN_STACK_NAME=ApiUsagePlan aws cloudformation deploy --stack-name ${CFN_STACK_NAME} --template-file ${CFN_TEMPLATE} --parameter-overrides ChaliceDeployedApi=${TARGET_API_ID} ${CHANGESET_OPTION} if [ $# = 1 ] \u0026amp;\u0026amp; [ $1 = \u0026#34;deploy\u0026#34; ]; then echo \u0026#34;\\n----------------------------------------------\\n\u0026#34; echo \u0026#34;Following string is ID of created usage plan. Use it for creating api key belongs to an usage plan.\\n\u0026#34; aws cloudformation describe-stacks --stack-name ${CFN_STACK_NAME} | jq \u0026#34;.Stacks[0].Outputs[0].OutputValue\u0026#34; | sed -E \u0026#34;s/\\\u0026#34;//g\u0026#34; fi TARGET_API_ID ã«ã¯äº‹å‰ã«å¯¾è±¡ã® API ID ã‚’ç’°å¢ƒå¤‰æ•°ã¨ã—ã¦è¨­å®šã—ã¦ãŠãã¾ã™ã€‚\n$ export TARGET_API_ID=\u0026lt;your-target-api-id\u0026gt; ãã—ã¦ã€ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚\n$ sh ./01-api-usage-plan.sh deploy deploy mode Waiting for changeset to be created.. Waiting for stack create/update to complete Successfully created/updated stack - ApiUsagePlan ---------------------------------------------- Following string is ID of created usage plan. Use it for creating api key belongs to an usage plan. abc123 ãƒ‡ãƒ—ãƒ­ã‚¤ã«æˆåŠŸã™ã‚‹ã¨ã€ä½œæˆã•ã‚ŒãŸä½¿ç”¨é‡ãƒ—ãƒ©ãƒ³ã® ID (abc123) ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nã¡ãªã¿ã«ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ãŸã‚ã®ã“ã®ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€ä»¥å‰ã«ä¸‹è¨˜ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ç´¹ä»‹ã•ã‚Œã¦ãŠã‚Šã€è‰¯ã•ãã†ã ãªã¨æ€ã£ãŸã®ã§ä»Šå›ä½¿ã£ã¦ã¿ã¾ã—ãŸã€‚\nCloudFormationã®å…¨ã¦ã‚’å‘³ã‚ã„ã¤ãã›ï¼ã€ŒAWSã®å…¨ã¦ã‚’ã‚³ãƒ¼ãƒ‰ã§ç®¡ç†ã™ã‚‹æ–¹æ³•ã€œãã®ç†æƒ³ã¨ç¾å®Ÿã€œã€ #cmdevio ï½œ Developers.IO ã‚³ãƒãƒ³ãƒ‰ã®å¼•æ•°ã« deploy ã®æ–‡å­—åˆ—ã‚’æ¸¡ã—ã¦ã„ã¾ã™ãŒã€ã“ã‚Œã‚’æ¸¡ã•ãªã‹ã£ãŸå ´åˆã¯ CloudFormation ã® change set ã®ã¿ãŒä½œæˆã•ã‚Œã€å®Ÿéš›ã«ãƒªã‚½ãƒ¼ã‚¹ã¯ä½œæˆã•ã‚Œã¾ã›ã‚“ã€‚\nA CloudFormation template for creating API Gateway usage plan. API ã‚­ãƒ¼ã®ç”Ÿæˆã¨ä½¿ç”¨é‡ãƒ—ãƒ©ãƒ³ã¸ã®é–¢é€£ä»˜ã‘ API ã‚­ãƒ¼ã®ç”Ÿæˆã¨ä½¿ç”¨é‡ãƒ—ãƒ©ãƒ³ã¸ã®é–¢é€£ä»˜ã‘ã¯ã€æ¬¡ã®ã‚ˆã†ãªæµã‚Œã«ãªã‚Šã¾ã™ã€‚\nAPI ã‚­ãƒ¼ã‚’ç”Ÿæˆã™ã‚‹ ç”Ÿæˆã—ãŸ API ã‚­ãƒ¼ã‚’ä½¿ç”¨é‡ãƒ—ãƒ©ãƒ³ã«é–¢é€£ã¥ã‘ã‚‹ ã‚¹ãƒ†ãƒƒãƒ—ãŒ 2 æ®µéšã‚ã‚‹ã®ã§ã€æ‰‹ä½œæ¥­ã ã¨é¢å€’ã§ã™ã€‚ã“ã‚Œã‚’ä¸‹è¨˜ã® 1 ã¤ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã‚„ã£ã¦ã—ã¾ã„ã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«åã¯ generate_api_key.sh ã¨ã—ã¾ã™ã€‚\n#!/bin/bash if [ $# != 2 ] || [ $1 = \u0026#34;\u0026#34; ] || [ $2 = \u0026#34;\u0026#34; ]; then echo \u0026#34;Two parameters are required\u0026#34; echo \u0026#34;\u0026#34; echo \u0026#34;1st : string for API Key name (ex. user1)\u0026#34; echo \u0026#34;2nd : string for Usage Plan ID (ex. abc123)\u0026#34; echo \u0026#34;\u0026#34; echo \u0026#34;example command\u0026#34; echo \u0026#34;\\t$ sh ./generate_api_key.sh user1 abc123\u0026#34; exit fi API_KEY_NAME=$1 USAGE_PLAN_ID=$2 # create api key CREATE_RES=$(aws apigateway create-api-key --name $API_KEY_NAME --enabled) CREATED_API_KEY_ID=$(echo $CREATE_RES | jq \u0026#34;.id\u0026#34; | sed -E \u0026#34;s/\\\u0026#34;//g\u0026#34;) CREATED_API_KEY_VALUE=$(echo $CREATE_RES | jq \u0026#34;.value\u0026#34; | sed -E \u0026#34;s/\\\u0026#34;//g\u0026#34;) # add api key to usage plan ADD_RES=$(aws apigateway create-usage-plan-key --usage-plan-id $USAGE_PLAN_ID --key-id $CREATED_API_KEY_ID --key-type API_KEY) ADDED_KEY_ID=$(echo $ADD_RES | jq \u0026#34;.id\u0026#34; | sed -E \u0026#34;s/\\\u0026#34;//g\u0026#34;) if [ $ADDED_KEY_ID != $CREATED_API_KEY_ID ]; then echo \u0026#34;Failed to generate a API Key\u0026#34; exit fi echo \u0026#34;API Key generated successfully.\u0026#34; echo $CREATE_RES | jq \u0026#34;.\u0026#34; ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã«ã‚‚èª¬æ˜ã‚’æ›¸ã„ã¦ã„ã¾ã™ãŒã€æ¬¡ã®ã‚ˆã†ã«ä½¿ç”¨ã—ã¾ã™ã€‚\n$ sh ./generate_api_key.sh api-user-1 abc123 API Key generated successfully. { \u0026#34;id\u0026#34;: \u0026#34;aa11bb2222\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;5pdADt75RU24blTbviyZq8o1XjmR9rwB9NlRggnx\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;api-user-1\u0026#34;, \u0026#34;enabled\u0026#34;: true, \u0026#34;createdDate\u0026#34;: \u0026#34;2020-02-17T20:45:03+09:00\u0026#34;, \u0026#34;lastUpdatedDate\u0026#34;: \u0026#34;2020-02-17T20:45:03+09:00\u0026#34;, \u0026#34;stageKeys\u0026#34;: [] } æˆåŠŸã™ã‚‹ã¨ã€ç”Ÿæˆã•ã‚ŒãŸ API ã‚­ãƒ¼ã®æƒ…å ±ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nShell script that generate API key of Amazon API Gateway ã¾ã¨ã‚ API Gateway ã§ä½œæˆã—ãŸ API ã®èªè¨¼æ–¹æ³•ã¨ã—ã¦ API ã‚­ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã«ã€ç°¡å˜ã« API ã‚­ãƒ¼ã‚’ç”Ÿæˆã§ãã‚‹ã‚ˆã†ãªã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œã£ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã§ã¯ AWS CLI ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹ã ã‘ã§ã™ãŒã€ã²ã¨ã¤ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ã—ã¦ãŠãã“ã¨ã§æ‰‹ä½œæ¥­ã®æ‰‹é–“ãŒçœã‘ã‚‹ã®ã¯å¤§ãã„ã§ã™ã­ã€‚ã¾ãŸã€è«¸ã€…ã®æ“ä½œã‚’ã‚³ãƒãƒ³ãƒ‰åŒ–ã—ã¦ãŠãã“ã¨ã§ã€ã‚‚ã—ãã®æ“ä½œã‚’ CI/CD ã«çµ„ã¿è¾¼ã‚€ã“ã¨ã«ãªã£ãŸéš›ã«ã‚‚ã€æ¯”è¼ƒçš„ç°¡å˜ã«å°å…¥ãŒã§ããã†ã§ã™ã€‚\nCloudFormation æ¥½ã—ã„ãŠã˜ã•ã‚“ã«ãªã‚Šã¤ã¤ã‚ã‚‹ã¨ã¨ã‚‚ã«ã€ AWS CLI æ¥½ã—ã„ãŠã˜ã•ã‚“ã«ã‚‚ãªã‚Šã¤ã¤ã‚ã‚Šã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-generate-apigateway-api-key/",
    "title": "AWS CLI ã§ API Gateway ã® API ã‚­ãƒ¼ã‚’ç”Ÿæˆã™ã‚‹ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œã£ã¦ã¿ãŸ"
  },
  {
    "contents": "ã“ã“ 2 é€±é–“ãã‚‰ã„ã§ CloudFormation ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã„ãã¤ã‹æ›¸ãæ©Ÿä¼šãŒã‚ã‚Šã€ã ã‚“ã ã‚“ã¨ CloudFormation æ¥½ã—ã„ãŠã˜ã•ã‚“ã«ãªã‚Šã¤ã¤ã‚ã‚Šã¾ã™ã€‚\nä»Šå›ã¯ã€ API Gateway ã®ã‚«ã‚¹ãƒ†ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ CloudFormation ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§è¨­å®šã—ã¦ã¿ãŸæ™‚ã®è©±ã§ã™ã€‚\nç›®æ¬¡ å‰æ API Gateway ã§ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š CloudFormation ã§ã•ãã£ã¨ã‚„ã‚‹ ãƒãƒã£ãŸãƒã‚¤ãƒ³ãƒˆ ã¾ã¨ã‚ å‰æ API Gateway ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ CloudFormation \u0008ã‚’ä½¿ã£ã¦è¨­å®šã—ã¾ã™ã€‚\nAPI è‡ªä½“ã¯æ—¢ã«å­˜åœ¨ã—ã¦ãŠã‚Šã€ãã® API ã«å¯¾ã—ã¦ã‚«ã‚¹ãƒ†ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¨­å®šã—ã¾ã™ã€‚\nã¾ãŸã€ä»Šå›ã¯ä¸‹è¨˜ã®çŠ¶æ…‹ã‚’å‰æã¨ã—ã¾ã™ã€‚\nã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒ Route 53 ã«ã¦ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã¨ã—ã¦ä½œæˆã•ã‚Œã¦ã„ã‚‹ ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ (ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³) ã«å¯¾ã™ã‚‹ SSL è¨¼æ˜æ›¸ãŒ ACM ã«ã¦ç™ºè¡Œã•ã‚Œã¦ã„ã‚‹ API Gateway ã§ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š ã¾ãšã¯æ‰‹ã§ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ã½ã¡ã½ã¡ã—ã¦ã‚„ã‚‹å ´åˆã‚’æƒ³å®šã—ã¦ã€ API Gateway ã§ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®šã®æ‰‹é †ã‚’ãŠã•ã‚‰ã„ã—ã¦ãŠãã¾ã™ã€‚\nã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åä½œæˆ API Gateway ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§å·¦ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«ã‚ã‚‹ ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³å (Custom domain names) ã‹ã‚‰ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’ä½œæˆã—ã¾ã™ã€‚\né …ç›®ã‚’åŸ‹ã‚ã¦ ä¿å­˜ ã‚’æŠ¼ã™ã¨ã€ SSL è¨¼æ˜æ›¸ã®åˆæœŸåŒ–ãŒå§‹ã¾ã‚Šã¾ã™ã€‚ã“ã®å‡¦ç†ã«ã¯æœ€å¤§ã§ 40 åˆ†ã»ã©ã‹ã‹ã‚Šã¾ã™ã€‚\nãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’è¿½åŠ  ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’ä¿å­˜ã—ãŸã‚‰ã€ç¶šã„ã¦ã¯ ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹ãƒãƒƒãƒ”ãƒ³ã‚° ã‚’è¿½åŠ ã—ã¾ã™ã€‚ã“ã‚Œã¯ä½•ã‹ã¨ã„ã†ã¨ã€ä½œæˆã—ãŸã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åã¨ã€ API Gateway ã® API ã‚’ç´ã¥ã‘ã‚‹è¨­å®šã®ã“ã¨ã§ã™ã€‚\né …ç›®ã¯ ãƒ‘ã‚¹ ã€ é€ä¿¡å…ˆ ã¨ ã‚¹ãƒ†ãƒ¼ã‚¸ ãŒã‚ã‚Šã¾ã™ã€‚\nä¾‹ãˆã°ã€ API Gateway ã®ç”Ÿã® URL ãŒ https://aabbcc123456.execute-api.us-east-1.amazonaws.com/prod ã ã¨ã—ã¦ã€ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’é©ç”¨å¾Œã« https://api.example.com/ ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã„å ´åˆã¯ã€ãã‚Œãã‚Œã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚\nãƒ‘ã‚¹ : / é€ä¿¡å…ˆ API : API ID ãŒ aabbcc123456 ã® API ã‚¹ãƒ†ãƒ¼ã‚¸ : prod Route 53 ã«ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚»ãƒƒãƒˆã‚’è¿½åŠ  API Gateway å´ã§ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åã®ä½œæˆã¨ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹ãƒãƒƒãƒ”ãƒ³ã‚°ã®è¿½åŠ ãŒçµ‚ã‚ã£ãŸã‚‰ã€æœ€å¾Œã« Route 53 ã«ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚»ãƒƒãƒˆã‚’è¿½åŠ ã—ã¾ã™ã€‚\nå…ˆã»ã©ã®ä¾‹ã®é€šã‚Š api.example.com ã‚’ä½¿ç”¨ã—ãŸã„å ´åˆã¯ã€ãƒ‰ãƒ¡ã‚¤ãƒ³å api.example.com ã® A ãƒ¬ã‚³ãƒ¼ãƒ‰ (ã‚¨ã‚¤ãƒªã‚¢ã‚¹) ã‚’ä½œæˆã—ã¾ã™ã€‚ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¯ã€å…ˆã»ã©ä½œæˆã—ãŸã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã® ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ‰ãƒ¡ã‚¤ãƒ³å ã«ã§ã™ã€‚ã“ã‚Œã¯ API Gateway ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã‚‚ç¢ºèªã§ãã¾ã™ãŒã€ Route 53 ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå€™è£œã«ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åã¨ã¨ã‚‚ã«å‡ºã¦ãã‚‹ã®ã§ã€ãã“ã‹ã‚‰é¸æŠã™ã‚Œã° OK ã§ã™ã€‚ãŸã ã—ã€ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’ä½œæˆã—ã¦ã™ãã«ã¯å‡ºã¦ã“ãªã„ã®ã§ã€å‡ºã¦ã“ãªã„å ´åˆã¯å‡ºã¦ãã‚‹ã¾ã§å¾…ã¡ã¾ã™ã€‚\nCloudFormation ã§ã•ãã£ã¨ã‚„ã‚‹ ä¸Šè¨˜ã§ã‚„ã£ãŸæ‰‹é †ã‚’ CloudFormtaion ã§ã•ãã£ã¨ã‚„ã£ã¦ã—ã¾ã„ã¾ã™ã€‚\næ—©é€Ÿã§ã™ãŒã€å®Ÿè¡Œã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\nAWSTemplateFormatVersion: \u0026#34;2010-09-09\u0026#34; Description: \u0026#34;Setup API Gateway custom domain name\u0026#34; Parameters: AcmArn: Type: String CustomDomainName: Type: String ApiID: Type: String DomainHostZoneId: Type: String Resources: ApiGatewayCustomDomainName: Type: \u0026#34;AWS::ApiGateway::DomainName\u0026#34; Properties: CertificateArn: !Ref AcmArn DomainName: !Ref CustomDomainName BasePathMapping: Type: \u0026#34;AWS::ApiGateway::BasePathMapping\u0026#34; DependsOn: ApiGatewayCustomDomainName Properties: DomainName: !Ref CustomDomainName RestApiId: !Ref ApiID Stage: api CustomDomainRecord: Type: \u0026#34;AWS::Route53::RecordSet\u0026#34; Properties: Name: !Ref CustomDomainName Type: A HostedZoneId: !Ref DomainHostZoneId AliasTarget: DNSName: !GetAtt ApiGatewayCustomDomainName.DistributionDomainName HostedZoneId: !GetAtt ApiGatewayCustomDomainName.DistributionHostedZoneId ãƒªã‚½ãƒ¼ã‚¹ã‚’ 3 ã¤å®šç¾©ã—ã¦ã„ã¾ã™ãŒã€ãã‚Œãã‚ŒãŒä¸Šã§èª¬æ˜ã—ãŸæ‰‹é †ã¨å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚ã¾ãŸã€ Parameters ã®å„å€¤ã«ã¤ã„ã¦ã¯ç’°å¢ƒå¤‰æ•°ãªã©ã€å¤–ã‹ã‚‰è¨­å®šã™ã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚\nå®Ÿéš›ã«ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å®Ÿè¡Œã—ã¦ãƒªã‚½ãƒ¼ã‚¹ãŒç”Ÿæˆã•ã‚Œã‚‹ã¾ã§ã«ã¯ 5 åˆ†ç¨‹åº¦ã®æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚\nã¨ã¯è¨€ã£ã¦ã‚‚æ‰‹ã§ã½ã¡ã½ã¡ã‚„ã‚‹ã‚ˆã‚Šåœ§å€’çš„ã«æ¥½ãªã®ã§ã€ã‚„ã£ã±ã‚Š CloudFormation è‰¯ã„ãªã£ã¦ã„ã†æ„Ÿã˜ã§ã™ã€‚\nãƒãƒã£ãŸãƒã‚¤ãƒ³ãƒˆ ä¸Šã§ç´¹ä»‹ã—ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ç„¡äº‹ã«ãƒªã‚½ãƒ¼ã‚¹ãŒä½œæˆã•ã‚ŒãŸæ™‚ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ãŒã€ã“ã‚Œã«è‡³ã‚‹ã¾ã§ã« AWS::Route53::RecordSet AliasTarget éƒ¨åˆ†ã®è¨˜è¿°ã§ãƒãƒã£ãŸãƒã‚¤ãƒ³ãƒˆãŒã‚ã£ãŸã®ã§ç´¹ä»‹ã—ã¦ãŠãã¾ã™ã€‚åŸºæœ¬çš„ã«ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’ã¡ã‚ƒã‚“ã¨èª­ã‚ã°è§£æ±ºã™ã‚‹å•é¡Œã§ã—ãŸã€‚\nã¾ãšã€ä¸€ç•ªæœ€åˆã«æ›¸ã„ã¦ã„ãŸã®ã¯ã“ã‚“ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã—ãŸã€‚\nCustomDomainRecord: Type: \u0026#34;AWS::Route53::RecordSet\u0026#34; Properties: Name: !Ref CustomDomainName Type: A HostedZoneId: !Ref DomainHostZoneId AliasTarget: DNSName: !Ref ApiGatewayCustomDomainName HostedZoneId: !Ref DomainHostZoneId AliasTarget.DNSName ã«ã¯ä¸Šã§ä½œæˆã—ãŸã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åã®ãƒªã‚½ãƒ¼ã‚¹ã‚’å‚ç…§ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ç„¡èŒ¶ã—ã¦ã¾ã™ã­ã€‚\nAliasTarget.HostedZoneId ã«ã¯ã€è¨­å®šã™ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ ID ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ãªã‚“ã‹è‰¯ã•ãã†ãªæ°—ã‚‚ã—ã¾ã™ã€‚\nã§ã¯ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å®Ÿè¡Œã—ã¦ã©ã†ãªã£ãŸã§ã—ã‚‡ã†ã‹ã€‚\n\u0026ldquo;creates a CNAME or alias loop in the zone.\u0026rdquo; ã¾ãšã€ AliasTarget.DNSName ã®è¨­å®šãƒŸã‚¹ã§ã‚¹ã‚¿ãƒƒã‚¯ã®ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚(é©å®œã€æ”¹è¡Œã—ã¦ã„ã¾ã™)\n[Tried to create an alias that targets api.example.net., type A in zone ZZ88889999AAAA, but that target was not found, RRSet of type A with DNS name api.example.net. is not permitted as it creates a CNAME or alias loop in the zone.] ç†ç”±ã¨ã—ã¦ã¯ã€ DNS ã®åå‰è§£æ±ºãŒãƒ«ãƒ¼ãƒ—ã—ã¦ã—ã¾ã£ã¦ã„ãŸã‹ã‚‰ã§ã™ã€‚å†·é™ã«è€ƒãˆã‚‹ã¨ã€ ApiGatewayCustomDomainName ã®ãƒªã‚½ãƒ¼ã‚¹ã¯ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åãªã®ã§ã€ãã‚Œã‚’ DNS ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¨ã—ã¦æŒ‡å®šã™ã‚‹ã¨ãƒ«ãƒ¼ãƒ—ã™ã‚‹ã®ã¯å®¹æ˜“ã«ã‚ã‹ã‚Šã¾ã™ã€‚\nã¨ã„ã†ã“å®Ÿè¡Œã—ã¾ã—ãŸã€‚\nCustomDomainRecord: Type: \u0026#34;AWS::Route53::RecordSet\u0026#34; Properties: Name: !Ref CustomDomainName Type: A HostedZoneId: !Ref DomainHostZoneId AliasTarget: DNSName: !GetAtt ApiGatewayCustomDomainName.DistributionDomainName HostedZoneId: !Ref DomainHostZoneId ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³å†…ã«ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒå­˜åœ¨ã—ãªã„ ä»Šåº¦ã¯åˆ¥ã®ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚(é©å®œã€æ”¹è¡Œã—ã¦ã„ã¾ã™)\n[Tried to create an alias that targets d11234efghabcd.cloudfront.net., type A in zone ZZ88889999AAAA, but the alias target name does not lie within the target zone, Tried to create an alias that targets d11234efghabcd.cloudfront.net., type A in zone ZZ88889999AAAA, but that target was not found] ç†ç”±ã¨ã—ã¦ã¯ã€ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ‰ãƒ¡ã‚¤ãƒ³åãŒæŒ‡å®šã•ã‚ŒãŸ Hosted Zone ã«å­˜åœ¨ã—ãªã„ã¨ã„ã†ã‚‚ã®ã§ã—ãŸã€‚\nç­”ãˆã¯ä¸‹è¨˜ã®ã‚ˆã†ã«å…¬å¼ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã«ã‚‚æ›¸ã‹ã‚Œã¦ã„ã¾ã—ãŸã€‚\nè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ AWS ãƒªã‚½ãƒ¼ã‚¹ã«ä½¿ç”¨ã—ã¦ã„ã‚‹ HostedZoneId ã®å€¤ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚HostedZoneId ã‚­ãƒ¼ã®å€¤ã¯ã€å„ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã® AWS ãƒªã‚½ãƒ¼ã‚¹ã®ä¸€æ„ãª ID ã§ã‚ã‚Šã€ãƒ‰ãƒ¡ã‚¤ãƒ³åã®ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ ID ã§ã¯ãªã„ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚\nAWS CLI ã‚’ä½¿ç”¨ã—ã¦ Amazon Route 53 ã®ãƒªã‚½ãƒ¼ã‚¹ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚»ãƒƒãƒˆã‚’ä½œæˆã™ã‚‹éš›ã«ç™ºç”Ÿã™ã‚‹ã‚¨ãƒ©ãƒ¼ã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° ä¸Šã®é–“é•ã£ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã¯ HostedZoneId ã« HostZoneId ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚ã‚ˆãè¦‹ã‚‹ã¨å…¨ç„¶é•ã„ã¾ã™ã‚ˆã­ã€‚ ãƒ›ã‚¹ãƒ†ãƒƒãƒ‰ ãªã®ã‹ ãƒ›ã‚¹ãƒˆ ãªã®ã‹ã€å…¨ç„¶é•ã„ã¾ã™ã€‚\nã“ã“ã§æŒ‡å®šã™ã¹ããªã®ã¯ã€ä½œæˆã•ã‚ŒãŸã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³åãŒæŒã£ã¦ã„ã‚‹ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ‰ãƒ¡ã‚¤ãƒ³åãŒãƒ›ã‚¹ãƒˆã•ã‚Œã¦ã„ã‚‹ ã‚¾ãƒ¼ãƒ³ã® ID ã§ã™ã€‚Route 53 ã§ç®¡ç†ã—ã¦ã„ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã® ã‚¾ãƒ¼ãƒ³ ID ã¨ã¯é•ã†ã‚ã‘ã§ã™ã€‚(ãã‚Œã¯ãã†)\nã¨ã„ã†ã“æ­£è§£ã§ã—ãŸã€‚\nCustomDomainRecord: Type: \u0026#34;AWS::Route53::RecordSet\u0026#34; Properties: Name: !Ref CustomDomainName Type: A HostedZoneId: !Ref DomainHostZoneId AliasTarget: DNSName: !GetAtt ApiGatewayCustomDomainName.DistributionDomainName HostedZoneId: !GetAtt ApiGatewayCustomDomainName.DistributionHostedZoneId ã¾ã¨ã‚ API Gateway ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ CloudFormation \u0008ã‚’ä½¿ã£ã¦è¨­å®šã—ãŸè©±ã§ã—ãŸã€‚\nCloudFormation åˆå¿ƒè€…ã§è¨­å®šå€¤ã®ã¨ã“ã‚ã§ã„ã‚ã„ã‚å¤±æ•—ã—ã¾ã—ãŸãŒã€ã‚„ã£ã±ã‚Šæœ€çµ‚çš„ã«è‡ªåˆ†ã®è€ƒãˆã¦ã„ã‚‹ãƒªã‚½ãƒ¼ã‚¹ãŒå‡ºæ¥ä¸ŠãŒã‚‹ã®ã¯æœ€é«˜ã«æ¥½ã—ã„ã§ã™ã­ã€‚ã“ã‚Œã¾ã§ã¯ CDK ã‚’ä½¿ã£ã¦ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å®Ÿè¡Œã—ã¦ãŸã®ã§ã™ãŒã€ã“ã‚Œã‚’æ©Ÿã«ç”Ÿã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ›¸ãã“ã¨ã‚‚ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\nãã®éš›ã€ VS Code ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å…¥ã‚Œã‚‹ã“ã¨ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®è¨˜è¿°ãŒã‚ã¡ã‚ƒãã¡ã‚ƒæ¥½ã«ãªã‚‹ã®ã§ã€ã‚‚ã—ã“ã‚Œã‹ã‚‰ CFn ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ›¸ã“ã†ã¨æ€ã£ã¦ã„ã‚‹æ–¹ã§ã¾ã ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã„ã‚Œã¦ã„ãªã„æ–¹ã¯ã€ä»Šã™ãã«å…¥ã‚Œã¾ã—ã‚‡ã†ï¼\nvscode-cfn-lint - Visual Studio Marketplace awslabs/aws-cfn-lint-visual-studio-code: Provides IDE specific integration to cfn-lint. https://github.com/awslabs/cfn-python-lint Linterã‚’ä½¿ã£ã¦CloudFormationã®é–“é•ã„ã«çˆ†é€Ÿã§æ°—ã¥ã ï½œ Developers.IO ",
    "permalink": "https://michimani.net/post/aws-setup-apigateway-custom-domain-using-cloudformation/",
    "title": "API Gateway ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ CloudFormation ã§è¨­å®šã—ã¦ã¿ãŸ"
  },
  {
    "contents": "Hugo ã§ä½œã£ãŸãƒ–ãƒ­ã‚°ã®è¨˜äº‹ä¸‹ã«ã€ãã®è¨˜äº‹ã¨åŒã˜ã‚«ãƒ†ã‚´ãƒªã®è¨˜äº‹ä¸€è¦§ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚WordPress ã¨ã‹ ã¯ã¦ãªãƒ–ãƒ­ã‚° ã¨ã‹ã ã¨ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã§ç°¡å˜ã«è¨­ç½®ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã¾ã™ãŒã€é™çš„ã‚µã‚¤ãƒˆã®å ´åˆã¯å°‘ã—ã ã‘å·¥å¤«ãŒå¿…è¦ã§ã™ã€‚\nç›®æ¬¡ å‰æ ã‚„ã‚‹ã“ã¨ ç¾åœ¨ã®è¨˜äº‹ã®ã‚«ãƒ†ã‚´ãƒªåã‚’å–å¾—ã™ã‚‹ å¯¾è±¡ã®ã‚«ãƒ†ã‚´ãƒªå†…ã®è¨˜äº‹ä¸€è¦§ã‚’å–å¾—ã™ã‚‹ è¨˜äº‹ä¸€è¦§ã‚’è¡¨ç¤ºã•ã›ã‚‹ æœ€çµ‚çš„ã«ã©ã†ãªã£ãŸã®ã‹ ã¾ã¨ã‚ å‰æ Hugo 0.62.0 Taxonomies ã‚’ä½¿ã£ã¦ã‚«ãƒ†ã‚´ãƒªç®¡ç†ã—ã¦ã„ã‚‹ ã‚„ã‚‹ã“ã¨ å„ãƒ†ãƒ¼ãƒãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ã‚ã‚‹ layouts/_default/single.html ã«ä¿®æ­£ã‚’åŠ ãˆã¾ã™ã€‚\nä»Šå›ã¯ indigo ã®ãƒ†ãƒ¼ãƒã§å®Ÿè£…ã™ã‚‹ã®ã§ã€å¯¾è±¡ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ themes/indigo/layouts/_default/single.html ã¨ãªã‚Šã¾ã™ã€‚\nç¾åœ¨ã®è¨˜äº‹ã®ã‚«ãƒ†ã‚´ãƒªåã‚’å–å¾—ã™ã‚‹ åŒä¸€ã‚«ãƒ†ã‚´ãƒªã®è¨˜äº‹ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ã€ç¾åœ¨ã®è¨˜äº‹ã®ã‚«ãƒ†ã‚´ãƒªåã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nHugo ã§ã¯ä¸‹è¨˜ã®è¨˜è¿°ã«ã‚ˆã‚Šã€ç¾åœ¨ã®è¨˜äº‹ã®ã‚«ãƒ†ã‚´ãƒªåã‚’å–å¾—ã§ãã¾ã™ã€‚\n{{ .Params.categories }} ãŸã ã—ã€ã“ã‚Œã§ã¯ã‚«ãƒ†ã‚´ãƒªåãŒé…åˆ—ã§å–å¾—ã•ã‚Œã‚‹ã®ã§ã€ä¸‹è¨˜ã®è¨˜è¿°ã‚’ç”¨ã„ã¦ä¸€ç•ªæœ€åˆã®ã‚«ãƒ†ã‚´ãƒªåã‚’å–å¾—ã—ã¾ã™ã€‚\n{{ index .Params.categories 0 }} ã¾ãŸã€ã‚«ãƒ†ã‚´ãƒªåã¯å¾Œã»ã©ä½¿ç”¨ã™ã‚‹ã®ã§ã€æ¬¡ã®ã‚ˆã†ã«ã—ã¦å¤‰æ•°ã¨ã—ã¦ä¿æŒã—ã¦ãŠãã¾ã™ã€‚\n{{ $c := index .Params.categories 0 }} å¯¾è±¡ã®ã‚«ãƒ†ã‚´ãƒªå†…ã®è¨˜äº‹ä¸€è¦§ã‚’å–å¾—ã™ã‚‹ ç¶šã„ã¦ã‚«ãƒ†ã‚´ãƒªå†…ã®è¨˜äº‹ä¸€è¦§ã‚’å–å¾—ã—ã¾ã™ã€‚\nã‚«ãƒ†ã‚´ãƒªåã¯å…ˆã»ã©å–å¾—ã—ã¦ $c ã¨ã„ã†å¤‰æ•°ã«ä¿æŒã—ã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚’åˆ©ç”¨ã—ã¦ä¸‹è¨˜ã®ã‚ˆã†ãªè¨˜è¿°ã§å–å¾—ã§ãã¾ã™ã€‚\n{{ index .Site.Taxonomies.categories (lower $c) }} .Site.Taxonomies.categories ã¯ dict å‹ã«ãªã£ã¦ã„ã¦ã€ã‚«ãƒ†ã‚´ãƒªåã‚’ã‚­ãƒ¼ã¨ã—ã¦å€¤ã«è¨˜äº‹ã®é…åˆ—ã‚’æŒã£ã¦ã„ã¾ã™ã€‚ä¾‹ãˆã° aws ã¨ã„ã†ã‚«ãƒ†ã‚´ãƒªã§ã‚ã‚Œã° .Site.Taxonomies.categories.aws ã¨ã™ã‚‹ã“ã¨ã§ aws ã‚«ãƒ†ã‚´ãƒªã®è¨˜äº‹ä¸€è¦§ã‚’å–å¾—ã§ãã¾ã™ã€‚\nlower $c ã¨ã—ã¦ã„ã‚‹ã®ã¯ã€ .Site.Taxonomies.categories ã®ã‚­ãƒ¼ãŒå°æ–‡å­—ã«ãªã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚å‰é …ã§å–å¾—ã—ãŸã‚«ãƒ†ã‚´ãƒªåã¯å¤§æ–‡å­—ã‚’å«ã‚“ã§ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€ã“ã®è¨˜è¿°ã§å°æ–‡å­—ã«å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚\nlower | Hugo è¨˜äº‹ä¸€è¦§ã«ã¤ã„ã¦ã‚‚å¾Œã»ã©è¤‡æ•°å›ä½¿ç”¨ã™ã‚‹ã“ã¨ã«ãªã‚‹ãŸã‚ã€å¤‰æ•°ã«ä¿æŒã—ã¦ãŠãã¾ã™ã€‚\n{{ $cposts := index .Site.Taxonomies.categories (lower $c) }} è¨˜äº‹ä¸€è¦§ã‚’è¡¨ç¤ºã•ã›ã‚‹ æœ€å¾Œã«ã€å–å¾—ã—ãŸåŒä¸€ã‚«ãƒ†ã‚´ãƒªã®è¨˜äº‹ä¸€è¦§ã‚’è¡¨ç¤ºã•ã›ã¾ã™ã€‚\nHugo ã§ã¯ range é–¢æ•°ã‚’ä½¿ã†ã“ã¨ã§é…åˆ—ã®ä¸­èº«ã‚’å–ã‚Šå‡ºã™ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¦è¨˜äº‹ä¸€è¦§ã‚’è¡¨ç¤ºã•ã›ã¾ã™ã€‚\n{{ range $cposts }} {{ .Render \u0026#34;li\u0026#34; }} {{ end }} {{ .Render \u0026quot;li\u0026quot; }} ã®éƒ¨åˆ†ã§å„è¨˜äº‹ã®æƒ…å ±ã‚’ themes/indigo/layouts/_default/li.html ã«æ¸¡ã—ã¦ã„ã¾ã™ã€‚ã“ã® li.html ã¨ã„ã†ã®ã¯ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã®è¨˜äº‹ä¸€è¦§ã«ã‚‚ä½¿ã‚ã‚Œã¦ã„ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãªã®ã§ã€ã“ã®ä¸€è¦§è¡¨ç¤ºã®ãŸã‚ã ã‘ã«æ–°ãŸã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã™ã‚Œã°ãƒˆãƒƒãƒ—ã®ä¸€è¦§ã¨ã¯åˆ¥ã®ãƒ‡ã‚¶ã‚¤ãƒ³ã§è¡¨ç¤ºã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚\nã¾ãŸã€ä¸Šè¨˜ã®è¡¨è¨˜ã§ã¯åŒä¸€ã‚«ãƒ†ã‚´ãƒªå†…ã®è¨˜äº‹ãŒå…¨ã¦ä¸€è¦§ã§è¡¨ç¤ºã•ã‚Œã¦ã—ã¾ã†ã®ã§ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¦è¡¨ç¤ºä»¶æ•°ã‚’åˆ¶é™ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚\n{{ range first 5 $cposts }} {{ .Render \u0026#34;li\u0026#34; }} {{ end }} ã“ã‚Œã§ 5 ä»¶ã ã‘è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\næœ€çµ‚çš„ã«ã©ã†ãªã£ãŸã®ã‹ ã“ã“ã¾ã§ã§åŒä¸€ã‚«ãƒ†ã‚´ãƒªå†…ã®è¨˜äº‹ä¸€è¦§è¡¨ç¤ºã¯ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚æœ€å¾Œã«ã€å®Ÿéš›ã«ã“ã®ãƒ–ãƒ­ã‚°ã§è¡¨ç¤ºã•ã›ã‚‹ãŸã‚ã«ã©ã†ã—ã¦ã„ã‚‹ã‹ã€ä¾‹ã¨ã—ã¦è¼‰ã›ã¦ãŠãã¾ã™ã€‚\n{{ if and (.Params.categories) }} {{ $c := index .Params.categories 0 }} \u0026lt;div class=\u0026#34;same-category-posts-area\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;Posts in \u0026#34;{{ $c }}\u0026#34; category\u0026lt;/h2\u0026gt; {{ $cposts := index .Site.Taxonomies.categories (lower $c) }} {{ range $cposts }} {{ .Render \u0026#34;li\u0026#34; }} {{ end }} {{ if gt (len $cposts) 5 }} \u0026lt;a class=\u0026#34;more-btn\u0026#34; href=\u0026#34;/categories/{{ lower $c }}/\u0026#34;\u0026gt;more ...\u0026lt;/a\u0026gt; {{ else }} \u0026lt;a class=\u0026#34;more-btn\u0026#34; href=\u0026#34;/categories/\u0026#34;\u0026gt;other categories\u0026lt;/a\u0026gt; {{ end }} \u0026lt;/div\u0026gt; {{ end }} ã¾ãšæœ€åˆã® if æ–‡ {{ if and (.Params.categories) }} ã§ã¯ã€ãã‚‚ãã‚‚ç¾åœ¨ã®è¨˜äº‹ã«ã‚«ãƒ†ã‚´ãƒªãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã—ã¦ã¾ã™ã€‚è¨­å®šã•ã‚Œã¦ã„ã‚Œã°è¡¨ç¤ºã™ã‚‹ã—ã€ãªã‘ã‚Œã°è¡¨ç¤ºã—ã¦ã¾ã›ã‚“ã€‚\nã‚ã¨ã¯ã€ åŒä¸€ã‚«ãƒ†ã‚´ãƒªå†…ã®è¨˜äº‹ãŒ 5 ä»¶ä»¥ä¸Šã‚ã‚Œã°ã‚«ãƒ†ã‚´ãƒªåˆ¥è¨˜äº‹ä¸€è¦§ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯ã‚’ã€ 5 ä»¶ã‚ˆã‚Šå°‘ãªã‘ã‚Œã°ã‚«ãƒ†ã‚´ãƒªä¸€è¦§ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯ã‚’ã€ãã‚Œãã‚Œè¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nã¾ã¨ã‚ Hugo ã§ä½œã£ãŸãƒ–ãƒ­ã‚°ã®è¨˜äº‹ä¸‹ã«ã€ãã®è¨˜äº‹ã¨åŒã˜ã‚«ãƒ†ã‚´ãƒªã®è¨˜äº‹ä¸€è¦§ã‚’è¡¨ç¤ºã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã“ã†ã„ã£ãŸã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ (ã®ã‚ˆã†ãªã‚‚ã®) ã¯å‹•çš„ã«ç”Ÿæˆã—ã¦ã„ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå¼·ãã€é™çš„ã‚µã‚¤ãƒˆã§å®Ÿç¾ã™ã‚‹ã®ã¯é›£ã—ã„ã‹ãªã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€å°‘ã—å·¥å¤«ã™ã‚‹ã“ã¨ã§å®Ÿç¾ã§ãã¾ã—ãŸã€‚ä»Šå›ç´¹ä»‹ã—ãŸã‚ˆã†ã« Hugo ã«ã¯æ§˜ã€…ãªé–¢æ•°ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚‰ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã•ã‚‰ã«ãƒªãƒƒãƒãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\n",
    "permalink": "https://michimani.net/post/development-show-other-posts-of-same-category-on-hugo/",
    "title": "[Hugo] è¨˜äº‹ä¸‹ã«åŒã˜ã‚«ãƒ†ã‚´ãƒªã®è¨˜äº‹ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹"
  },
  {
    "contents": "JAWS DAYS ä»¥å¤–ã® JAWS UG ã‚¤ãƒ™ãƒ³ãƒˆã«åˆã‚ã¦è¡Œã£ã¦ãã¾ã—ãŸã€‚ã„ã‚ã‚“ãªæ”¯éƒ¨ãŒã‚ã‚‹ã‚ˆã†ãªã®ã§ã™ãŒã€ã¾ãšã¯åˆå¿ƒè€…æ”¯éƒ¨ã‹ã‚‰ã¨ã„ã†ã“ã¨ã§è€ƒãˆã¦ã„ãŸã®ã§ã™ãŒã€æ¯å›ã™ãã«å®šå“¡ã„ã£ã±ã„ã«ãªã£ã¦ã—ã¾ã£ã¦ã„ãŸã®ã§ã€ä»Šå›ã‚„ã£ã¨å‚åŠ ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nä»Šå›ã¯ Fin-JAWS ã¨ã®ã‚³ãƒ©ãƒœã¨ã„ã†ã“ã¨ã§ã€é‡‘èç³»ã«ãŠã‘ã‚‹ AWS ã®äº‹æƒ…ã‚‚ãŠè©±ã‚’èãã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nJAWS-UG åˆå¿ƒè€…æ”¯éƒ¨#22 Fin-JAWSã‚³ãƒ©ãƒœï¼†ãƒŸãƒ‹ãƒãƒ³ã‚ºã‚ªãƒ³ä¼š[ãƒªãƒ¢ãƒ¼ãƒˆæ ã‚ã‚Š] - connpass ç›®æ¬¡ ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ« å„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®æ¦‚è¦ ä¼šå ´è«¸æ³¨æ„/åˆå¿ƒè€…æ”¯éƒ¨ã¨ã¯/ãƒ†ãƒ¼ãƒèª¬æ˜ | åˆå¿ƒè€…æ”¯éƒ¨é‹å–¶ æ¾¤ç”°ã•ã‚“/å¤ªç”°ã•ã‚“ ãƒŸãƒ‹ãƒãƒ³ã‚ºã‚ªãƒ³ï¼šAWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œã£ãŸã‚‰æœ€åˆã«ã‚„ã‚‹ã¹ãã“ã¨-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç·¨- åˆå¿ƒè€…æ”¯éƒ¨é‹å–¶ è¿«ã•ã‚“ ã‚»ãƒƒã‚·ãƒ§ãƒ³â‘ ï¼šFin-JAWSã®ç´¹ä»‹ã¨é‡‘èã®ç¾çŠ¶ Fin-JAWSæ”¯éƒ¨é‹å–¶ é‡œå±±ã•ã‚“ ã‚»ãƒƒã‚·ãƒ§ãƒ³â‘¡ï¼šãƒ‡ãƒ¼ã‚¿ã¯ã©ã“ã‹ã‚‰ãã‚‹ã®ï¼Ÿã€œAWSã¨ã‚ªãƒ³ãƒ—ãƒ¬ã¨ã®é•ã„ã§å­¦ã‚“ã ã‚ã‚Œã‚„ã“ã‚Œã€œ | å¤§ç†Šã•ã‚“ ã‚»ãƒƒã‚·ãƒ§ãƒ³â‘¢ï¼šFISCã‹ã‚‰å­¦ã¶AWSã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã“ã¨ã¯ã˜ã‚ | æ–°äº•ã•ã‚“ ã‚»ãƒƒã‚·ãƒ§ãƒ³â‘£ï¼šãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆé‹ç”¨ã®ã¯ã˜ã‚ã‹ãŸï¼ˆJapan Degital Designï¼‰ | å°é‡ã•ã‚“ ã¾ã¨ã‚ ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ« ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ«ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\næ™‚é–“ å†…å®¹ ç™»å£‡è€… 18:30- å—ä»˜é–‹å§‹ - 19:00-19:05 ä¼šå ´è«¸æ³¨æ„/åˆå¿ƒè€…æ”¯éƒ¨ã¨ã¯/ãƒ†ãƒ¼ãƒèª¬æ˜ åˆå¿ƒè€…æ”¯éƒ¨é‹å–¶ æ¾¤ç”°ã•ã‚“/å¤ªç”°ã•ã‚“ 19:05-19:35 ãƒŸãƒ‹ãƒãƒ³ã‚ºã‚ªãƒ³ï¼šAWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œã£ãŸã‚‰æœ€åˆã«ã‚„ã‚‹ã¹ãã“ã¨-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç·¨- åˆå¿ƒè€…æ”¯éƒ¨é‹å–¶ è¿«ã•ã‚“ 19:37-19:50 ã‚»ãƒƒã‚·ãƒ§ãƒ³â‘ ï¼šFin-JAWSã®ç´¹ä»‹ã¨é‡‘èã®ç¾çŠ¶ Fin-JAWSæ”¯éƒ¨é‹å–¶ é‡œå±±ã•ã‚“ 19:50-20:00 ä¼‘æ†© - 20:00-20:20 ã‚»ãƒƒã‚·ãƒ§ãƒ³â‘¡ï¼šãƒ‡ãƒ¼ã‚¿ã¯ã©ã“ã‹ã‚‰ãã‚‹ã®ï¼Ÿã€œAWSã¨ã‚ªãƒ³ãƒ—ãƒ¬ã¨ã®é•ã„ã§å­¦ã‚“ã ã‚ã‚Œã‚„ã“ã‚Œã€œ å¤§ç†Šã•ã‚“ 20:20-20:30 ã‚»ãƒƒã‚·ãƒ§ãƒ³â‘¢ï¼šFISCã‹ã‚‰å­¦ã¶AWSã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã“ã¨ã¯ã˜ã‚ æ–°äº•ã•ã‚“ 20:30-20:50 ã‚»ãƒƒã‚·ãƒ§ãƒ³â‘£ï¼šãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆé‹ç”¨ã®ã¯ã˜ã‚ã‹ãŸï¼ˆJapan Degital Designï¼‰ å°é‡ã•ã‚“ 20:50-20:55 ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆå›ç­” - å ´æ‰€ã¯ã€ç›®é»’ã‚»ãƒ³ãƒˆãƒ©ãƒ«ã‚¹ã‚¯ã‚¨ã‚¢ 21 éšã®ã‚¢ãƒã‚¾ãƒ³ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒ“ã‚¹ã‚¸ãƒ£ãƒ‘ãƒ³æ ªå¼ä¼šç¤¾ã§ã—ãŸã€‚\nå„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®æ¦‚è¦ ä¼šå ´è«¸æ³¨æ„/åˆå¿ƒè€…æ”¯éƒ¨ã¨ã¯/ãƒ†ãƒ¼ãƒèª¬æ˜ | åˆå¿ƒè€…æ”¯éƒ¨é‹å–¶ æ¾¤ç”°ã•ã‚“/å¤ªç”°ã•ã‚“ JAWS UG ã¨ã¯ Japan AWS User Group åˆå¿ƒè€…æ”¯éƒ¨ã¨ã¯ Fin-JAWS é‡‘èç³»ã«ç‰¹åŒ–ã—ãŸå†…å®¹ æ¾¤ç”°ã•ã‚“ã€å¤ªç”°ã•ã‚“ã€è¿«ã•ã‚“ã¯åˆå¿ƒè€…æ”¯éƒ¨ã®é‹å–¶åˆå¿ƒè€… ãƒŸãƒ‹ãƒãƒ³ã‚ºã‚ªãƒ³ï¼šAWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œã£ãŸã‚‰æœ€åˆã«ã‚„ã‚‹ã¹ãã“ã¨-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç·¨- åˆå¿ƒè€…æ”¯éƒ¨é‹å–¶ è¿«ã•ã‚“ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ãŸã‚‰ã¾ãšã‚„ã‚‹ã“ã¨ã¯ã„ã£ã±ã„ã‚ã‚‹ ä»Šæ—¥ã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«é–¢ã™ã‚‹ã¨ã“ã‚ ãƒ«ãƒ¼ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ã®å‰Šé™¤ ãƒ«ãƒ¼ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® MFA æœ‰åŠ¹åŒ– IAMãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆ IAMã‚°ãƒ«ãƒ¼ãƒ—ã®ä½œæˆ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒªã‚·ãƒ¼ã®è¨­å®š CloudTrail ã®æœ‰åŠ¹åŒ– GuardDuty ã®æœ‰åŠ¹åŒ– çµæœã®ã‚µãƒ³ãƒ—ãƒ«ã‚’å‡ºåŠ›ã§ãã‚‹ AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ãŸã‚‰æœ€åˆã«ã‚„ã‚‹ã¹ãã“ã¨ -ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç·¨- - Qiita AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œã£ãŸã‚‰æœ€åˆã«ã‚„ã‚‹ã¹ãã“ã¨ ï½ä»¤å’Œå…ƒå¹´ç‰ˆï½ ï½œ Developers.IO ã‚»ãƒƒã‚·ãƒ§ãƒ³â‘ ï¼šFin-JAWSã®ç´¹ä»‹ã¨é‡‘èã®ç¾çŠ¶ Fin-JAWSæ”¯éƒ¨é‹å–¶ é‡œå±±ã•ã‚“ é‡œå±±ã•ã‚“ æ—¥æœ¬é›»æ°— ã¯ ã«ã»ã‚“ã§ã‚“ã ã§ã¯ãªã ã«ã£ã½ã‚“ã§ã‚“ã Fin-JAWS ã¨ã¯ ç›®çš„æ¯ã®æ”¯éƒ¨ é‡‘èã¨ Fin Tech ã® JAWS-UG å‚åŠ æ¡ä»¶ã¯ã€é‡‘èã‚„ FinTech ã«èˆˆå‘³ãŒã‚ã‚Œã°ok é‡‘èäº‹æ¥­ã‚„ FinTech ä¼æ¥­ã«ãŠã‘ã‚‹ AWS ã®å‹‰å¼·ä¼š 2017 å¹´ã«ç¬¬ä¸€å›ã€ãã®å¾Œ 2019 å¹´ã«ç¬¬äºŒå› (ã„ã‚ã„ã‚ã‚ã£ã¦) re:Invent ç¾åœ°ã§ã‚‚æ´»å‹• Twitter @finjaws1 Fin-JAWS (é‡‘èã¨FinTechã«é–¢ã™ã‚‹JAWSæ”¯éƒ¨) | Doorkeeper é‡‘èã®ã‚¯ãƒ©ã‚¦ãƒ‰äº‹æƒ… MUFG ã‚·ãƒ§ãƒƒã‚¯ (2017 å¹´) ã“ã‚Œã¾ã§ã¯ç´°ã€…ã¨ã—ãŸã¨ã“ã‚ã§ä½¿ã‚ã‚Œã¦ã„ãŸ æœ€åˆã«å¤§ããªéƒ¨åˆ†ã‚’ã‚¯ãƒ©ã‚¦ãƒ‰ã«ç§»è¡Œã™ã‚‹ã“ã¨ã‚’å®£è¨€ã—ãŸã®ãŒ MUFG ã‚¯ãƒ©ã‚¦ãƒ‰å°å…¥çŠ¶æ³ (H 29 å¹´åº¦) éƒ½éŠ€ã€ä¿¡è¨—ã«ã¤ã„ã¦ã¯ 100% åŸºå¹¹ç³»ã«é–¢ã—ã¦ã¯å°å…¥ãªã—ãŒ 90 % ä»¥ä¸Š å…¨ä½“çš„ã«ç†è§£ãŒé€²ã‚“ã§ã„ãªã„ ã‚³ãƒ³ã‚µãƒ«ã™ã‚‹éš›ã«ã‚‚ã€ã‚¯ãƒ©ã‚¦ãƒ‰ã®åŸºæœ¬çš„ãªèª¬æ˜ã‹ã‚‰å…¥ã‚‹ã“ã¨ãŒå¤šã„ ã‚¯ãƒ©ã‚¦ãƒ‰ãƒã‚¤ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®åŸå‰‡ ã‚·ã‚¹ãƒ†ãƒ ã‚’å°å…¥ã™ã‚‹ã«å½“ãŸã£ã¦ã‚¯ãƒ©ã‚¦ãƒ‰ã‚’ç¬¬ä¸€ã«é¸æŠã—ã¾ã—ã‚‡ã†ã¨ã„ã†ã“ã¨ ã‚¯ãƒ©ã‚¦ãƒ‰åˆ©ç”¨ã®ä¿ƒé€² å¤§é˜ªãƒªãƒ¼ã‚¸ãƒ§ãƒ³é–‹è¨­ã«ä¼´ã£ã¦ã‚½ãƒ‹ãƒ¼éŠ€è¡ŒãŒåŸºå¹¹ç³»ã«å°å…¥ã¸ é…ã‚Œã¦ã„ã‚‹ã¨ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ã ãŒã€é€²ã‚“ã§ã„ã‚‹ã¨ã“ã‚ã¯é€²ã‚“ã§ã„ã‚‹ æœ€å¾Œã«å®£ä¼ JAWS DAYS è¡Œãã¾ã—ã‚‡ã†ï¼ JAWS DAYS 2020 | Your Next Cloud Journey ã‚»ãƒƒã‚·ãƒ§ãƒ³â‘¡ï¼šãƒ‡ãƒ¼ã‚¿ã¯ã©ã“ã‹ã‚‰ãã‚‹ã®ï¼Ÿã€œAWSã¨ã‚ªãƒ³ãƒ—ãƒ¬ã¨ã®é•ã„ã§å­¦ã‚“ã ã‚ã‚Œã‚„ã“ã‚Œã€œ | å¤§ç†Šã•ã‚“ 20200129 jawsug bgnr22 from Kahori Takeda å¤§ç†Šã•ã‚“ 2018 å¹´ã«æœ€åˆã®ä»•äº‹ã¯ Route 53 ã¨ SES ã®è¨­å®š 2019 å¹´ã¯ JWAS DAYS ã«å‚åŠ ã—ãŸã‚Š re:Invent ã«è¡Œã£ãŸã‚Šã—ã¦ AWS ç†±ãŒå‡„ã‹ã£ãŸ ä»Šå›ãŒåˆã‚ã¦ã®ç™»å£‡ ãƒ‡ãƒ¼ã‚¿ã¯ã©ã“ã‹ã‚‰æ¥ã‚‹ã® é‡‘èã®ãƒ‡ãƒ¼ã‚¿ã¨ã„ãˆã°æ ªä¾¡ æ ªä¾¡ã¯å°‚ç”¨ç·šï¼Ÿãã†ã§ã‚‚ãªã„ ã„ã‚ã‚“ãªæ–¹æ³•ã§ã€ã„ã‚ã‚“ãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾— ãƒ¡ãƒ¼ãƒ«ã€ PDF ã€ã‚¯ãƒ­ãƒ¼ãƒªãƒ³ã‚° \u0026hellip; ã“ã‚Œã¾ã§ã¯å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’äººå‡ºã§å…¥åŠ›ã—ã¦ã„ãŸ ãã®éƒ¨åˆ†ã‚’ AWS (Lambda) ã§è‡ªå‹•åŒ–ã—ãŸè©± å‰æ®µã® Lambda ã§å–å¾—ã¨åŠ å·¥ å–¶æ¥­æ—¥åˆ¤å®šã€è¨ˆç®—ã€ SFTP é€ä¿¡ç”¨ã® Lambda AWS (ç‰¹ã«ã‚µãƒ¼ãƒãƒ¬ã‚¹) ã®è‰¯ã•ã£ã¦ä½•ï¼Ÿ ã‚µãƒ¼ãƒã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®æ§‹ç¯‰ä½œæ¥­ä¸è¦ é«˜å¯ç”¨æ€§ å¤œä¸­ã€ä¼‘æ—¥ã«ãƒãƒ¼ãƒ‰ã®éšœå®³é€£çµ¡ãŒæ¥ãªã„ æ…£ã‚Œã¦ããŸé ƒã®å¤§å¤±æ•— S3 ãƒã‚±ãƒƒãƒˆã®æ•°ä¸‡ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç§»å‹• PUT ãƒˆãƒªã‚¬ãƒ¼ã§ Lambda ã‚’å®Ÿè¡Œ Lambda ã®åŒæ™‚å®Ÿè¡Œä¸Šé™ã«å¼•ã£ã‹ã‹ã£ãŸ ä»–ã® Lambda ãŒå‹•ã‹ãªããªã£ãŸ S3 ã® PUT ã‚¤ãƒ™ãƒ³ãƒˆã‚„ CloudWatch ã‹ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚­ãƒ¥ãƒ¼ã¯åˆ¶å¾¡ (å‰Šé™¤ã—ãŸã‚Š) ã§ããªã„ é–“ã« SQS ã‚’æŒŸã‚“ã§ã„ã‚Œã°ã©ã†ã«ã‹ãªã£ãŸã‹ã‚‚ (å…¨éƒ¨ã« SQS æŒŸã‚€ã®ãŒè‰¯ã„ã‚ã‘ã§ã¯ãªã„) ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå…¨ä½“ã§ã® Lambda ã®ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ãŒå¿…è¦ ã‚»ãƒƒã‚·ãƒ§ãƒ³â‘¢ï¼šFISCã‹ã‚‰å­¦ã¶AWSã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã“ã¨ã¯ã˜ã‚ | æ–°äº•ã•ã‚“ æ–°äº•ã•ã‚“ ã‚¤ãƒ³ãƒ•ãƒ© -\u0026gt; ã‚¹ãƒãƒ› UI/UX -\u0026gt; ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ é‡‘èç³»ã®ãŠå®¢æ§˜ã‚’æ‹…å½“ Fargate ã‚’ã‚ˆãä½¿ã† FISC ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ AWS x é‡‘è ã¨èã„ã¦ Google æ¤œç´¢ã™ã‚‹ã¨ äº‹ä¾‹ã€ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ \u0026hellip; FISC ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ å¯¾ç­–ã€ä½•ã‹ã‚ã£ãŸæ™‚ã®å¯¾å¿œæ–¹æ³•ãƒ»æ‰‹é † ç´„ 300 é …ç›® AWS ã¨ FISC ã®é–¢ä¿‚æ€§ AWS ã‹ã‚‰ FISC ã«é–¢ã™ã‚‹ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’æä¾›ã—ã¦ã„ã‚‹ FISC ã®é …ç›®ã«å¯¾ã™ã‚‹ AWS ã®è¦‹è§£ãŒæ•´å‚™ã•ã‚Œã¦ã„ã‚‹ è²¬ä»»å…±æœ‰ãƒ¢ãƒ‡ãƒ«ã«åŸºã¥ã„ã¦ã€è‡ªåˆ†ãŸã¡ã§ã‚‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ æŠ‘æ­¢ -\u0026gt; äºˆé˜² -\u0026gt; æ¤œå‡º -\u0026gt; å›å¾© FISC æº–æ‹ ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ ALB + EC2 + RDS ãƒ‡ãƒ¼ã‚¿ã®ä¿è­· ACM ã€ EBS ã®æš—å·åŒ–ã€ RDS ã®æš—å·åŒ–ã€ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«ã§ã®æš—å·åŒ–ã€ S3 ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯ VPC ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’åˆ©ç”¨ ãªã© æš—å·éµã®ç®¡ç† KMS ã€ CloudHSM ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ç®¡ç† SSM ãƒªã‚½ãƒ¼ã‚¹ç®¡ç† CloudWatch ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹å¯¾ç­– WAF ã€ Shield ã€ GuardDuty ã€ Config ã‚¦ã‚¤ãƒ«ã‚¹å¯¾ç­– ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã‚’åˆ©ç”¨ Inspectorã€ SSM ã§æ¤œçŸ¥ãƒ»ãƒ‘ãƒƒãƒé©ç”¨ æœ¬äººç¢ºèª IAM å¤§è¦æ¨¡ç½å®³å¯¾ç­– ãƒãƒ«ãƒ AZ ä»Šå¾Œã¯ãƒãƒ«ãƒãƒªãƒ¼ã‚¸ãƒ§ãƒ³åŒ–ã‚‚ ã¾ã¨ã‚ AWS ã¯ FISC ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’ãƒ™ãƒ¼ã‚¹ã«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆã‚’æä¾›ã—ã¦ã„ã‚‹ ãŸã ã— FISC ã®æœ€æ–°ç‰ˆ (ç¬¬9ç‰ˆ) ã«å¯¾ã™ã‚‹ AWS ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚¬ã‚¤ãƒ‰ãŒã¾ã ãªã„ ã‚»ãƒƒã‚·ãƒ§ãƒ³â‘£ï¼šãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆé‹ç”¨ã®ã¯ã˜ã‚ã‹ãŸï¼ˆJapan Degital Designï¼‰ | å°é‡ã•ã‚“ JAWS-UGåˆå¿ƒè€…æ”¯éƒ¨ - 2020-01-29 - ãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆé‹ç”¨ã®ã¯ã˜ã‚ã‹ãŸ from Yutaro Ono å°é‡ã•ã‚“ ã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç† MUFG ã‚°ãƒ«ãƒ¼ãƒ—ã®æ–°ä¼šç¤¾ éŠ€è¡Œæœ¬ä½“ã§ã¯ã§ããªã„ FinTech é–¢é€£ã®ã“ã¨ã‚’ã‚„ã£ã¦ã„ã ãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãŸã‚ã®æ©Ÿèƒ½ AWS Organizations ã²ã¨ã¤ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’çµ„ç¹”ã®ãƒ«ãƒ¼ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨ã™ã‚‹ ãã®ä¸‹ã«å­ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œã‚‹ è«‹æ±‚ã‚’ãƒ«ãƒ¼ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ä¸€æ‹¬ã—ã¦è«‹æ±‚ã§ãã‚‹ OU (Organization Unit) ã«ã‚ˆã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç† ãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆé‹ç”¨ã®åˆã‚ã‹ãŸ ãƒ«ãƒ¼ãƒˆã«ãªã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æ±ºã‚ã‚‹ éå¸¸ã«å¼·ã„æ¨©é™ã‚’æŒã¤ã“ã¨ã«ãªã‚‹ èª²é‡‘ å­ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¸ã®ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«æ¨©é™ è‡ªå‹•çš„ã« IAM ãƒ­ãƒ¼ãƒ«ãŒä½œæˆã•ã‚Œã‚‹ é€šå¸¸é‹ç”¨ã¯ã—ãªã„å‰æ æ–°ã—ã„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œã£ã¦ Organizations ã®ãƒ«ãƒ¼ãƒˆã¨ã™ã‚‹ æ—¢å­˜ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ æ‹›å¾… ã™ã‚‹ ä½œæˆæ™‚ã« å­ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ã¨ã—ã¦æ–°è¦ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œã‚‹ã“ã¨ã‚‚å¯èƒ½ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®åˆ†ã‘æ–¹ ãªãœã²ã¨ã¤ã‚’å…±æœ‰ã™ã‚‹ã®ã¯ãƒ€ãƒ¡ãªã®ã‹ æ¨©é™ã®åˆ¶é™ãŒé›£ã—ããªã‚‹ AWS ã®ä¸–ç•Œã§ä½¿ã„ã‚„ã™ã„åˆ†ã‘æ–¹ã‚’è€ƒãˆã‚‹ ä¼šç¤¾ã®éƒ¨ç½²å˜ä½ã§ã‚ã‘ã‚‹ã®ã¯ã‚ªã‚¹ã‚¹ãƒ¡ã§ããªã„ ä¼šç¤¾ã®çµ„ç¹”ã¯ã‚ˆãå¤‰ã‚ã‚‹ ã‚ã¨ã§å›°ã‚‰ãªã„ãŸã‚ã« 1 ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ 1 ç”¨é€” Organizations ã®ãƒ«ãƒ¼ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆ è«‹æ±‚ã‚„å­ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ç®¡ç†ã ã‘ èª²é‡‘ç®¡ç† CloudTrail çµ„ç¹”ã® CloudTrail ã¨ã„ã†æ©Ÿèƒ½ OrganizationAccountAccessRole å­ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã« Assume Role ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ AdministratorAccess ã®æ¨©é™ã‚’æŒã£ã¦ã„ã‚‹ IAM ãƒ¦ãƒ¼ã‚¶ç®¡ç†å°‚ç”¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã®å…ƒã«ãªã‚‹ã‚ˆã†ãªæ„Ÿã˜ çµ„ç¹”ã§ä½¿ã† IAM ãƒ¦ãƒ¼ã‚¶ã‚’ç®¡ç† ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é€šçŸ¥ç”¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ GuardDuty ãªã©ã®é€šçŸ¥ã‚’ã¾ã¨ã‚ã‚‹ çµ„ç¹”ã® CloudTrail ãƒ­ã‚°ã‚’ S3 ã«ä¿å­˜ã™ã‚‹ Config ãªã©ã®è¨­å®šã‚’é›†ç´„ æ¤œè¨¼ç’°å¢ƒ é–‹ç™ºè€…ã”ã¨ã«åˆ†ã‘ã‚‹ã‚±ãƒ¼ã‚¹ã¨ã€å…±ç”¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’åˆ©ç”¨ã™ã‚‹ã‚±ãƒ¼ã‚¹ é‹ç”¨ç’°å¢ƒ ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’åˆ†ã‘ã‚‹ ã¾ã¨ã‚ ã²ã¨ã¤ã²ã¨ã¤ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ã‚·ãƒ³ãƒ—ãƒ«ã« ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œã‚‹ã ã‘ãªã‚‰ç„¡æ–™ åˆ©ç”¨æ–™é‡‘ã‚’ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå˜ä½ã§ç®¡ç† AWS Control tower ãªã©ã€ãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†å‘ã‘ã®æ©Ÿèƒ½ã‚‚å¼·åŒ–ã•ã‚Œã¦ãã¦ã„ã‚‹ å¶ç™ºçš„ãªé–“é•ã„ã‚’é˜²æ­¢ japan-d2/secure-stack-template-aws: Financial-grade Secure Stack Template for AWS CloudFormation. AWS ã‚’ã‚»ã‚­ãƒ¥ã‚¢ã«å§‹ã‚ã‚‰ã‚Œã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ã¾ã¨ã‚ JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨#22 Fin-JAWSã‚³ãƒ©ãƒœï¼†ãƒŸãƒ‹ãƒãƒ³ã‚ºã‚ªãƒ³ä¼š ã«å‚åŠ ã—ã¦ããŸè©±ã§ã—ãŸã€‚\nåˆã® JAWS-UG ã‚¤ãƒ™ãƒ³ãƒˆã§ã—ãŸãŒã€ã‚‚ã¡ã‚ã‚“ã§ã™ãŒ AWS ã«é–¢ã™ã‚‹å†…å®¹ã°ã‹ã‚Šã§æ¥½ã—ã‹ã£ãŸã§ã™ã€‚åˆå¿ƒè€…æ”¯éƒ¨ã¨ã„ã†ã“ã¨ã§å†…å®¹çš„ã«ã¯æ—¢ã«çŸ¥ã£ã¦ã„ã‚‹ã“ã¨ãŒã»ã¨ã‚“ã©ã§ã—ãŸã€‚ãŸã ã€ FinTech é–¢ä¿‚ã®è©±ã‚„ãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«é–¢ã™ã‚‹è©±ã¯ã—ã£ã‹ã‚Šèã„ãŸã“ã¨ãŒãªã‹ã£ãŸã®ã§ã€ã¸ã‡ã€œãªã‚‹ã»ã©ã€œ ã£ã¦ã„ã†æ„Ÿã˜ã§èã„ã¦ã„ã¦é¢ç™½ã‹ã£ãŸã§ã™ã€‚\næ¬¡å›ã¯ 2/19 ã«ãƒãƒ³ã‚ºã‚ªãƒ³ã‚’ã‚„ã‚‹ãã†ãªã®ã§ã€æ°—ã«ãªã‚‹æ–¹ã¯ãœã²å‚åŠ ã—ã¦ã¿ã¦ã¯ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚\nJAWS-UG åˆå¿ƒè€…æ”¯éƒ¨#24 ã‚µãƒ¼ãƒãƒ¬ã‚¹ãƒãƒ³ã‚ºã‚ªãƒ³å‹‰å¼·ä¼š - connpass ",
    "permalink": "https://michimani.net/post/event-jaws-ug-beginner-22/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] JAWS-UG åˆå¿ƒè€…æ”¯éƒ¨#22 Fin-JAWSã‚³ãƒ©ãƒœï¼†ãƒŸãƒ‹ãƒãƒ³ã‚ºã‚ªãƒ³ä¼š ã«è¡Œã£ã¦ãã¾ã—ãŸ"
  },
  {
    "contents": "AWS CodePipeline ã§å®Ÿè¡Œä¸­ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’åœæ­¢ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€å®Ÿéš›ã«è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚\nç›®æ¬¡ æ¦‚è¦ ã‚„ã£ã¦ã¿ã‚‹ AWS CLI ã§åœæ­¢ã—ã¦ã¿ã‚‹ å®Ÿè¡Œä¸­ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã® ã‚’å–å¾—ã™ã‚‹ã«ã¯ ã¾ã¨ã‚ æ¦‚è¦ AWS CodePipeline Enables Stopping Pipeline Executions ä¸Šè¨˜ AWS å…¬å¼ã®ãŠçŸ¥ã‚‰ã›ã«ã‚‚ã‚ã‚‹ã‚ˆã†ã«ã€ AWS CodePipeline ã§å®Ÿè¡Œä¸­ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãŠã‚ˆã³ SDK ã‹ã‚‰åœæ­¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nãŠçŸ¥ã‚‰ã›ã®æ¦‚è¦ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\nCodePipile ã§å®Ÿè¡Œä¸­ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ç°¡å˜ã«åœæ­¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã“ã‚Œã¾ã§ã¯ä¸‹è¨˜ã®ã„ãšã‚Œã‹ã®æ–¹æ³•ã—ã‹ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚\nã‚¹ãƒ†ãƒ¼ã‚¸é–“ã®é·ç§»ã‚’ç„¡åŠ¹ã«ã—ã€å®Ÿè¡Œä¸­ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«å„ªå…ˆã™ã‚‹æ–°ã—ã„ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å®Ÿè¡Œã‚’å¾…ã¤ å®Ÿè¡Œä¸­ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã™ã‚‹ã®ã‚’å¾…ã¤ æœ¬æ—¥ã‚ˆã‚Šã€ CodePipeline ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãŠã‚ˆã³ AWS CodePipeline SDK ã‚’ä½¿ç”¨ã—ã¦ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å®Ÿè¡Œã‚’åœæ­¢ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nã¨ã„ã†ã“ã¨ã§ã€å®Ÿéš›ã«è©¦ã—ã¦ã¿ã¾ã™ã€‚\nã‚„ã£ã¦ã¿ã‚‹ CodePipeline ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¨ SDK ã«ã‚ˆã£ã¦åœæ­¢ã§ãã‚‹ã¨ã„ã†ã“ã¨ã§ã™ãŒã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ã®åœæ­¢ã«ã¤ã„ã¦ã¯æ—¢ã«ã‚¯ãƒ©ãƒ¡ã‚½ã•ã‚“ã®ãƒ–ãƒ­ã‚°ã§ç´¹ä»‹ã•ã‚Œã¦ã„ãŸã®ã§ã€ã“ã“ã§ã¯å‰²æ„›ã—ã¾ã™ã€‚\n[ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ]CodePipeline é€”ä¸­ã§å®Ÿè¡Œã‚’åœæ­¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ ï½œ Developers.IO ãªã®ã§ã€ä»Šå›ã¯ã‚‚ã†ä¸€æ–¹ã®æ–¹æ³•ã§ã‚ã‚‹ SDK ã§\u0026hellip;ã¨æ€ã£ãŸã®ã§ã™ãŒã€æœ€æ–°ã® AWS CLI ã§ã‚‚åœæ­¢ãŒå¯èƒ½ãªã®ã§ã€ãã¡ã‚‰ã§è©¦ã—ã¦ã¿ã¾ã™ã€‚\nAWS CLI ã§åœæ­¢ã—ã¦ã¿ã‚‹ ä½¿ç”¨ã¾ã§ã« AWS CLI ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸã¨ã“ã‚ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 1.17.7 ã§ã—ãŸã€‚\nâ¯ aws --version aws-cli/1.17.7 Python/3.7.5 Darwin/18.7.0 botocore/1.14.7 åœæ­¢ã«ä½¿ç”¨ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯ aws codepipeline stop-pipeline-execution ã§ã™ã€‚\nå¿…é ˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ --pipeline-name ã¨ --pipeline-execution-id ã§ã™ã€‚\nã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§åœæ­¢ã™ã‚‹éš›ã®é¸æŠè‚¢ã¨ã—ã¦ åœæ­¢ã—ã¦å¾…æ©Ÿ ã¨ åœæ­¢ã—ã¦ä¸­æ­¢ ãŒã‚ã‚Šã¾ã™ãŒã€ãã‚Œãã‚Œ --abandon ã¨ --no-abandon ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ --abandon ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã¾ã™ã€‚(ã¤ã¾ã‚Šã€ åœæ­¢ã—ã¦ä¸­æ­¢)\nä»Šå›ã¯ã€ã“ã®ãƒ–ãƒ­ã‚°ã® CI/CD ã«ä½¿ã£ã¦ã„ã‚‹ michimani.net-pipeline ã¨ã„ã†åå‰ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’å¯¾è±¡ã«ã—ã¾ã™ã€‚\nãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’é–‹å§‹ã™ã‚‹ â¯ aws codepipeline start-pipeline-execution --name michimani.net-pipeline { \u0026#34;pipelineExecutionId\u0026#34;: \u0026#34;e2d0a696-4151-49be-9b40-73a088619c1c\u0026#34; } ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’åœæ­¢ã™ã‚‹ â¯ aws codepipeline stop-pipeline-execution --pipeline-name michimani.net-pipeline \\ --pipeline-execution-id e2d0a696-4151-49be-9b40-73a088619c1c { \u0026#34;pipelineExecutionId\u0026#34;: \u0026#34;e2d0a696-4151-49be-9b40-73a088619c1c\u0026#34; } åœæ­¢å®Ÿè¡Œå¾Œã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª â¯ aws codepipeline list-pipeline-executions --pipeline-name michimani.net-pipeline --max-items 1 | jq .pipelineExecutionSummaries [ { \u0026#34;pipelineExecutionId\u0026#34;: \u0026#34;e2d0a696-4151-49be-9b40-73a088619c1c\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;Stopped\u0026#34;, \u0026#34;startTime\u0026#34;: 1579698780.514, \u0026#34;lastUpdateTime\u0026#34;: 1579698888.742, \u0026#34;sourceRevisions\u0026#34;: [ { \u0026#34;actionName\u0026#34;: \u0026#34;Source\u0026#34;, \u0026#34;revisionId\u0026#34;: \u0026#34;1234567890\u0026#34;, \u0026#34;revisionSummary\u0026#34;: \u0026#34;add enable inner adsense parameter\u0026#34;, \u0026#34;revisionUrl\u0026#34;: \u0026#34;https://github.com/michimani/michimani.net/commit/1234567890\u0026#34; } ], \u0026#34;trigger\u0026#34;: { \u0026#34;triggerType\u0026#34;: \u0026#34;StartPipelineExecution\u0026#34;, \u0026#34;triggerDetail\u0026#34;: \u0026#34;arn:aws:iam::12345678:user/hoge\u0026#34; } } ] ã¡ãªã¿ã« --no-abandon ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸå ´åˆã¯ã€ã—ã°ã‚‰ãã—ã¦ã‹ã‚‰ Stopped ã«ãªã‚Šã¾ã—ãŸã€‚\nåœæ­¢ã—ã¦å¾…æ©Ÿ ãªã®ã‹ åœæ­¢ã—ã¦ä¸­æ­¢ ãªã®ã‹ã¯ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã§ãã¾ã™ã€‚\naws codepipeline get-pipeline-state --name michimani.net-pipeline ç¾åœ¨ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å–å¾—ã§ãã‚‹ã®ã§ã€è©²å½“ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã® actionStates.latestExecution.status ã¨ latestExecution.status ã®å€¤ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n--no-abandon ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸå ´åˆ (åœæ­¢ã—ã¦å¾…æ©Ÿ ã®å ´åˆ) ã¯ã€é€²è¡Œä¸­ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã—ã¦ã‹ã‚‰ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’åœæ­¢ã™ã‚‹ã®ã§ actionStates.latestExecution.status ãŒ Succeeded (ã‚‚ã—ãã¯å¤±æ•—ã—ã¦ã„ã‚Œã° Failed) ã€ latestExecution.status ãŒ Stopped ã«ãªã£ã¦ã„ã¾ã™ã€‚\nä¸€æ–¹ã§ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãªã„ ã¾ãŸã¯ --abandon ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸå ´åˆ (åœæ­¢ã—ã¦ä¸­æ­¢ ã®å ´åˆ) ã¯ã€é€²è¡Œä¸­ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å¾…ãŸãšã«ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’åœæ­¢ã™ã‚‹ã®ã§ã€ actionStates.latestExecution.status ãŒ Abandonedã€ latestExecution.status ãŒ Stopped ã«ãªã£ã¦ã„ã¾ã™ã€‚\nã¾ãŸã€ åœæ­¢ã—ã¦ä¸­æ­¢ ã®å ´åˆã¯ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§èµ¤å­—ã§ Abandoned ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nå®Ÿè¡Œä¸­ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã® ã‚’å–å¾—ã™ã‚‹ã«ã¯ ä»Šå›ã¯ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®é–‹å§‹ã‚‚ CLI ã§å®Ÿè¡Œã—ãŸãŸã‚ã€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å®Ÿè¡Œ ID ã¯é–‹å§‹ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ™‚ã«ç¢ºèªã§ãã¾ã—ãŸãŒã€ã™ã§ã«å®Ÿè¡Œä¸­ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å®Ÿè¡Œ ID = pipelineExecutionId ã‚’å–å¾—ã™ã‚‹ã«ã¯ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\naws codepipeline list-pipeline-executions --pipeline-name michimani.net-pipeline \\ | jq .pipelineExecutionSummaries \\ | jq \u0026#39;map(select(.status == \u0026#34;InProgress\u0026#34;))\u0026#39; \\ | jq \u0026#39;.[].pipelineExecutionId\u0026#39; ã“ã‚Œã§å®Ÿè¡Œä¸­ (= ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ InProgress) ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã® pipelineExecutionId ã‚’å–å¾—ã§ãã¾ã™ã€‚\nã¾ã¨ã‚ AWS CodePipeline ã§å®Ÿè¡Œä¸­ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’åœæ­¢ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€å®Ÿéš›ã« AWS CLI ã§è©¦ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã“ã‚Œã¾ã§ CodePipeline ã§ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒé–‹å§‹ã•ã‚Œã‚‹ã¨ã€å®Ÿè¡Œä¸­ã«æ­¢ã‚ãŸããªã£ã¦ã‚‚æ–°ãŸã«å„ªå…ˆã•ã‚Œã‚‹ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’é–‹å§‹ã—ãŸã‚Šã€å®Ÿè¡Œä¸­ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã™ã‚‹ã¾ã§å¾…ã¤å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚\nä»Šå›ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§å³åº§ã«åœæ­¢ (ä¸­æ­¢) ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€ãã†ã„ã†çŠ¶æ…‹ã®æ™‚ã«å¾…ã¤å¿…è¦ãŒãªããªã‚Šã€æ™‚é–“ãŒç¯€ç´„ã§ãã¾ã™ã­ã€‚\n",
    "permalink": "https://michimani.net/post/aws-stop-codepipeline-execution/",
    "title": "AWS CodePipeline ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œã‚’åœæ­¢ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ CLI ã§è©¦ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "å»å¹´ã‹ã‚‰ Todoist ã§ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚’ã—ã¦ã„ã‚‹ã®ã§ã™ãŒã€èª¿ã¹ã¦ã¿ã‚‹ã¨ Todoist ã§ã‚¿ã‚¹ã‚¯ã‚„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ‰±ã†ãŸã‚ã® API ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚ä»Šå›ã¯ãã® API ã‚’åˆ©ç”¨ã—ã¦ Todoist ã«ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ Python ã§æ›¸ã„ã¦ã¿ãŸè©±ã§ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ ä½œã£ãŸã‚‚ã® Todosit ã® Python ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã† ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã™ã‚‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã‚’å–å¾—ã™ã‚‹ ã¾ã¨ã‚ æ¦‚è¦ Todoist ã®ã‚¿ã‚¹ã‚¯ã¯è‡ªåˆ†ã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§åˆ†é¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã©ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚‚å±ã•ãªã„ã‚¿ã‚¹ã‚¯ã¯ Inbox ã«å…¥ã‚Šã¾ã™ã€‚\nãªã®ã§ã€ä»Šå›ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã‚‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä»»æ„ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nä½œã£ãŸã‚‚ã® GitHub ã«ç½®ã„ã¦ã„ã¾ã™ã€‚\nmichimani/todoist-cli: This is simple command line tool for Todoist. ä»¥ä¸‹ã€ç°¡å˜ãªè§£èª¬ã§ã™ã€‚\nTodosit ã® Python ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã† Todoist API ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã„ã£ã¦ã‚‚ã€ Python ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ä½¿ã„ã¾ã™ã€‚\nã¡ãªã¿ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ Python 3.x (3.7.5) ã§å®Ÿè¡Œã™ã‚‹ã®ã§ã€ã‚ã‚‰ã‹ã˜ã‚ç’°å¢ƒã‚’ä½œã£ã¦ãŠãã¾ã™ã€‚\n$ python3 -m venv .venv \u0026amp;\u0026amp; source ./.venv/bin/activate pip ã§ Todoist ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ pip install todoist-python ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ä¸‹è¨˜ã§ã™ãŒã€è¦‹è¾›ã„ã§ã™ã€‚(ã¨ã„ã†ã‹ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã•ã‚Œã¦ãªã„ï¼Ÿï¼Ÿ)\nOverview â€” todoist-python 1.0 documentation Todoist API æœ¬ä½“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ä¸‹è¨˜ã§ã™ã€‚\nAPI Documentation | Todoist Developer ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã™ã‚‹ ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ä¸‹è¨˜ã®ã‚ˆã†ãªæ„Ÿã˜ã§ã™ã€‚\nimport argparse import configparser import os import todoist p = argparse.ArgumentParser() p.add_argument(\u0026#39;task_name\u0026#39;, help=\u0026#39;task name for new task\u0026#39;) p.add_argument(\u0026#39;-p\u0026#39;, \u0026#39;--project_id\u0026#39;, default=\u0026#39;\u0026#39;, help=\u0026#39;project ID for new task added\u0026#39;) args = p.parse_args() c = configparser.ConfigParser() c.read(os.path.dirname(os.path.abspath(__file__)) + \u0026#39;/../config.ini\u0026#39;, \u0026#39;UTF-8\u0026#39;) TODOIST_TOKEN = c.get(\u0026#39;todoist\u0026#39;, \u0026#39;token\u0026#39;) def add_task(task_name, project_id=\u0026#39;\u0026#39;): api = todoist.TodoistAPI(TODOIST_TOKEN) if project_id != \u0026#39;\u0026#39;: api.add_item(task_name, project_id=project_id) else: api.add_item(task_name) api.commit() if __name__ == \u0026#39;__main__\u0026#39;: add_task(args.task_name, args.project_id) ãƒã‚¤ãƒ©ã‚¤ãƒˆã—ã¦ã„ã‚‹éƒ¨åˆ†ãŒ todoist-python ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹éƒ¨åˆ†ã§ã™ã€‚\ntodoist.TodoistAPI() ã®å¼•æ•°ã«ã¯ Todoist App ã® access token ã‚’æ¸¡ã—ã¾ã™ã€‚\naccess token ã¯ã€å€‹äººã§ä½¿ã†ãƒ¬ãƒ™ãƒ«ã§ã‚ã‚Œã° Todoist App ã‚’ä½œæˆã—ãŸéš›ã«ç”Ÿæˆã•ã‚Œã‚‹ Test Token ã‚’ä½¿ãˆã° OK ã§ã™ã€‚\nOAuth èªè¨¼ã§å–å¾—ã™ã‚‹å ´åˆã¯ä¸‹è¨˜ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚ michimani/todoist-token-generator: This is a simple web site to generate access token of Todoist App. ã‚¿ã‚¹ã‚¯ã®è¿½åŠ ã¯ TodoistAPI ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã—ã¦ add_item() ã‚’å‘¼ã³ã¾ã™ã€‚\ntask_name ã¯å¿…é ˆã§ã€ project_id ã¯ä»»æ„ã§ã™ã€‚\nã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚\n$ python add-task.py \u0026#34;Task Name\u0026#34; -p 12345678XX -p ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã€æŒ‡å®šã—ãŸå ´åˆã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦ã‚¿ã‚¹ã‚¯ãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚çœç•¥ã—ãŸå ´åˆã¯ Inbox ã«ã‚¿ã‚¹ã‚¯ãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚\næœŸé™ã‚„ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ã¯è¿½åŠ ã›ãšã€ã¨ã‚Šã‚ãˆãšã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã™ã‚‹ã‚ˆã†ãªå½¢ã§ä½œã£ã¦ã¿ã¾ã—ãŸã€‚\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã‚’å–å¾—ã™ã‚‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã™ã‚‹éš›ã«ã¯ã€project_id ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚\nTodoist ã® Web app ã ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã®ãƒªãƒ³ã‚¯ã‹ã‚‰ project_id ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã¯ã§ãã¾ã™ãŒã€é¢å€’ã§ã™ã€‚\nãªã®ã§ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã‚‚ API ã§å–å¾—ã—ã¦ã¿ã¾ã™ã€‚\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã‚’å–å¾—ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\nimport argparse import configparser import json import os import shutil import todoist p = argparse.ArgumentParser() p.add_argument(\u0026#39;-f\u0026#39;, \u0026#39;--full_sync\u0026#39;, default=\u0026#39;0\u0026#39;, help=\u0026#39;\u0026#34;1\u0026#34; for full sync\u0026#39;) args = p.parse_args() c = configparser.ConfigParser() c.read(os.path.dirname(os.path.abspath(__file__)) + \u0026#39;/../config.ini\u0026#39;, \u0026#39;UTF-8\u0026#39;) TODOIST_TOKEN = c.get(\u0026#39;todoist\u0026#39;, \u0026#39;token\u0026#39;) CACHE_DIR = os.path.dirname(os.path.abspath( __file__)) + \u0026#39;/../caches/sync_cache/\u0026#39; SYNC_CACHE_FILE = CACHE_DIR + TODOIST_TOKEN + \u0026#39;.json\u0026#39; LIST_LINE_FORMAT = \u0026#39;{id: \u0026lt;15}: {name: \u0026lt;30}\u0026#39; def list_projects(): if args.full_sync == \u0026#39;1\u0026#39; and os.path.exists(CACHE_DIR): shutil.rmtree(CACHE_DIR) if os.path.exists(SYNC_CACHE_FILE): with open(SYNC_CACHE_FILE) as f: sync_data = json.load(f) else: api = todoist.TodoistAPI(TODOIST_TOKEN, cache=CACHE_DIR) sync_data = api.sync() projects = sync_data[\u0026#39;projects\u0026#39;] print(\u0026#39;\\n\u0026#39;) print(LIST_LINE_FORMAT.format(id=\u0026#39;PROJECT ID\u0026#39;, name=\u0026#39;PROJECT NAME\u0026#39;)) print(\u0026#39;{s:-\u0026lt;15}:{s:-\u0026lt;30}\u0026#39;.format(s=\u0026#39;\u0026#39;)) for project in projects: print(LIST_LINE_FORMAT.format(id=project[\u0026#39;id\u0026#39;], name=project[\u0026#39;name\u0026#39;])) print(\u0026#39;\\n\u0026#39;) if __name__ == \u0026#39;__main__\u0026#39;: list_projects() ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã«é™ã‚‰ãšã€ Todoist ã‹ã‚‰æƒ…å ±ã‚’å–å¾—ã™ã‚‹éš›ã«ã¯ sync() ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nä»Šå›ã¯ TodoistAPI ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã™ã‚‹éš›ã« access token ã®ä»–ã« cache ã¨ã„ã†ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ ~/.todoist-sync/ ã¨ãªã£ã¦ã„ã‚‹ã®ã§ã™ãŒã€ä»Šå›ã¯ã“ã®ãƒªãƒã‚¸ãƒˆãƒªå†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\nsync() ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€å®Ÿè¡Œçµæœ (JSON) ãŒ cache ã§æŒ‡å®šã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«åã¯ {access token}.json ã¨ãªã‚Šã¾ã™ã€‚\næ›´æ–°ã•ã‚ŒãŸæƒ…å ±ã‚’å–å¾—ã™ã‚‹ã«ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰ sync() ã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œæ™‚ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ full_sync ã™ã‚‹ã‹ã©ã†ã‹ã‚’æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nä¸Šè¨˜ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã® ID ã¨åå‰ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n$ python src/list-projects.py PROJECT ID : PROJECT NAME ---------------:------------------------------ 12345678XX : Inbox 12345678XX : ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ1 12345678XX : ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ2 12345678XX : ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ3 ã¾ã¨ã‚ Todoist API ã‚’åˆ©ç”¨ã—ã¦ Todoist ã«ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ Python ã§æ›¸ã„ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nãµã¨ã—ãŸã¨ãã«ã‚µã‚µã£ã¨ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã—ã‚ˆã†ã¨æ€ã†ã¨ã€ã‚„ã¯ã‚Šã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‹ã‚‰å®Ÿè¡Œã§ããŸã»ã†ãŒä¾¿åˆ©ãªã®ã§ã€ã¨ã‚Šã‚ãˆãšã‚¿ã‚¹ã‚¯è¿½åŠ ã™ã‚‹ã ã‘ã§ã‚ã‚Œã°ã“ã‚Œãã‚‰ã„æœ€ä½é™ã®æ©Ÿèƒ½ã§ã„ã„ã‹ãªãƒ¼ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚\nãŸã ã€æœ€è¿‘çŸ¥ã£ãŸã‚“ã§ã™ãŒ Slack ã« Todoist ã®ã‚¢ãƒ—ãƒªãŒã‚ã£ã¦ã€ãã‚Œã‚’ä½¿ãˆã° Slack ã‹ã‚‰åŒã˜ã‚ˆã†ãªã“ã¨ãŒã§ãã‚‹ã‚“ã§ã™ã‚ˆã­\u0026hellip;ã€‚ã¾ã‚ã€ãã‚Œã¯ãã‚Œã§ã€‚\ntodoist ã¨ Slack é€£æºã§ããŸã®ã‹...ã€‚https://t.co/GAqpFbSyIA\n\u0026mdash; ã‚ˆã£ã—ãƒ¼@CBR853RR (@michimani210) January 17, 2020 ",
    "permalink": "https://michimani.net/post/development-add-task-to-todoist-via-python/",
    "title": "Todoist ã«ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ Python ã§æ›¸ã„ã¦ã¿ãŸ"
  },
  {
    "contents": "æŠ€è¡“çš„ãªã“ã¨ã‚’æ¤œç´¢ã—ã¦å‡ºã¦ãã‚‹ã‚µã‚¤ãƒˆã‚„ãƒ–ãƒ­ã‚°è¨˜äº‹ã®ä¸­ã§å‚è€ƒ URL ãŒè¨˜ã•ã‚Œã¦ã„ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ãã® URL ãŒæœ¬å½“ã« URL ã ã‘ã®ã¨ãã£ã¦å…¨ç„¶å‚è€ƒã«ãªã‚‰ãªã„ã‚ˆãªãƒ¼ã€ãƒªãƒ³ã‚¯ã«ã¯ã‚¿ã‚¤ãƒˆãƒ«ä»˜ä¸ã—ã¦ã»ã—ã„ãªãƒ¼ ã£ã¦ã„ã†è©±ã§ã™ã€‚\nä½•ã‚’è¨€ã£ã¦ã„ã‚‹ã®ã‹ ã¡ã‚‡ã£ã¨ä½•è¨€ã£ã¦ã‚‹ã‹ã‚ã‹ã‚“ãªã„ã§ã™ by ã‚µãƒ³ãƒ‰ã‚¦ã‚£ãƒƒãƒãƒãƒ³ å¯Œæ¾¤\nã¨ã„ã†ã“ã¨ã§ã€ç°¡å˜ã«èª¬æ˜ã™ã‚‹ã¨ã€ãŸã¨ãˆã°ä¸‹è¨˜ã®ã‚ˆã†ãªå‚è€ƒ URL ã®è¡¨è¨˜ã¯ãƒ‘ãƒƒã¨è¦‹ã§ã©ã‚“ãªãƒšãƒ¼ã‚¸ã‚’å‚è€ƒã«ã—ã¦ã„ã‚‹ã‹ã‚ã‹ã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ\nå‚è€ƒ URL https://aws.amazon.com/jp/ec2/pricing/ https://www.michinoeki-mania.com/entry/michinoeki/2015/02/072276 https://qiita.com/michimani/items/bf347cd0c1575989ea6f 1 ã¤ç›®ã¯ã€ URL ã®ãƒ‘ã‚¹ã‹ã‚‰ãªã‚“ã¨ãªãæ¨æ¸¬ã§ããã†ãªæ°—ãŒã—ã¾ã™ã€‚\n2 ã¤ç›®ã¯ã€ 2015 å¹´ã® 2 æœˆã«æ›¸ã‹ã‚ŒãŸãƒ–ãƒ­ã‚°ã‹ãªã¨ã„ã†ãã‚‰ã„ã¯ã‚ã‹ã‚Šã¾ã™ãŒã€ä½•ã®ã‚µã‚¤ãƒˆã§ã©ã‚“ãªå†…å®¹ãªã®ã‹ã¾ã§ã¯ã‚ã‹ã‚Šã¾ã›ã‚“ã€‚\n3 ã¤ç›®ã¯ã€ Qiita ã®è¨˜äº‹ã§ã‚ã‚‹ã“ã¨ã¯ã‚ã‹ã‚Šã¾ã™ãŒã€å†…å®¹ã¯å…¨ãã‚ã‹ã‚Šã¾ã›ã‚“ã€‚\nã¤ã¾ã‚Šã€å®Ÿéš›ã«ãã®ãƒªãƒ³ã‚¯ã‚’è¸ã‚“ã§è¦‹ãªã„ã¨ã©ã‚“ãªå†…å®¹ã®ãƒšãƒ¼ã‚¸ã‚’å‚è€ƒã«ã—ãŸã®ã‹ãŒã‚ã‹ã‚Šã¾ã›ã‚“ã€‚\nä½•ã‹ã‚’èª¿ã¹ã¦ã€ã•ã‚‰ã«ãã“ã§å‚è€ƒã«ã—ã¦ã„ã‚‹ãƒšãƒ¼ã‚¸ã¾ã§ãƒã‚§ãƒƒã‚¯ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹äººã«ã¨ã£ã¦ã€ã“ã®è¡¨è¨˜ã ã¨ä¸è¦ªåˆ‡ã§ã™ã€‚\nã§ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªè¡¨è¨˜ã ã¨ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚\nå‚è€ƒ URL æ–™é‡‘ - Amazon EC2 | AWS é“ã®é§…ã§é‡å®¿ã™ã‚‹ã¨ãã«æ°—ã‚’ä»˜ã‘ã¦ã„ã‚‹5ã¤ã®äº‹ - ã¿ã¡ã®ãˆãã¾ã«ã‚ Qiita ã‹ã‚‰ Hugo ç”¨ã® markdown ã‚’ç”Ÿæˆã™ã‚‹ã‚„ã¤ - Qiita ãƒ‘ãƒƒã¨è¦‹ã§ã©ã‚“ãªãƒšãƒ¼ã‚¸ã‹ã‚ã‹ã‚Šã¾ã™ã€‚\nã‚ã–ã‚ã–ãƒªãƒ³ã‚¯ã‚’è¸ã‚“ã§å†…å®¹ã‚’ç¢ºèªã—ã«è¡Œãã¾ã§ã‚‚ãªãã€ã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰å‚è€ƒã«ãªã‚‹ã‹ã©ã†ã‹ã‚’ã‚ã‚‹ç¨‹åº¦åˆ¤æ–­ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€æ™‚é–“ã®ç¯€ç´„ã«ã‚‚ãªã‚Šè¦ªåˆ‡ã§ã™ã€‚\nãƒªãƒ³ã‚¯ã«ã‚¿ã‚¤ãƒˆãƒ«ã‚’ä»˜ã‘ã‚‹ ä½•ã‚’ä»Šæ›´ã£ã¦ã„ã†æ„Ÿã˜ã§ã™ãŒã€ãƒªãƒ³ã‚¯ã«ã‚¿ã‚¤ãƒˆãƒ«ã‚’ä»˜ã‘ã‚‹ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã€‚\nHTML ã®å ´åˆ\n\u0026lt;a href=\u0026#34;https://aws.amazon.com/jp/ec2/pricing/\u0026#34;\u0026gt;æ–™é‡‘ - Amazon EC2 | AWS\u0026lt;/a\u0026gt; Markdown ã®å ´åˆ\n[æ–™é‡‘ - Amazon EC2 | AWS](https://aws.amazon.com/jp/ec2/pricing/) ã§ã‚‚ã“ã‚Œã‚ã‚“ã©ãã•ã„ ãŸã ã€ãƒ–ãƒ­ã‚°ã‚’æ›¸ã„ã¦ã„ã‚‹ã¨ãã«ã“ã‚Œã‚‰ã®è¡¨è¨˜ã‚’æœ¬æ–‡ã«æ›¸ãã®ã£ã¦çµæ§‹ã‚ã‚“ã©ãã•ã„ã§ã™ã€‚\nWordPress ã¨ã‹ ã¯ã¦ãªãƒ–ãƒ­ã‚° ã¨ã‹ã® WYSIWYG ã§ãƒªãƒ³ã‚¯ä½œæˆã—ãŸã‚Šã€ç‹¬è‡ªã§ã‚¹ãƒ‹ãƒšãƒƒãƒˆä½œã£ã¦ãŸã‚Šã€æ¯å›æ‰‹ã§å…¥åŠ›ã—ã¦ã‚‹å ´åˆã‚‚ã‚ã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚\nURL ã¯ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚Œã°ã„ã„ã§ã™ãŒã€è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«ã«é–¢ã—ã¦ã¯ãã‚Œãã‚Œã®ãƒšãƒ¼ã‚¸ã®ã‚¿ã‚¤ãƒˆãƒ«éƒ¨åˆ†ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nãƒªãƒ³ã‚¯ã¨ã—ã¦ URL ã ã‘ã‚’æ›¸ã„ã¦ã„ã‚‹ã®ã¯ã€ãŠãã‚‰ããã†ã„ã£ãŸæ“ä½œãŒé¢å€’ã ã‹ã‚‰ã ã¨æ€ã„ã¾ã™ã€‚\nãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—ã™ã‚‹ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ ã¨ã„ã†ã“ã¨ã§ä½œã£ãŸã®ã§ã€ä¸‹è¨˜ã®ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã§ã™ã€‚\nmichimani/copy_link_of_current_page_as_md | GitHub Gist ã“ã‚Œã‚’ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã¨ã—ã¦é©å½“ãªåå‰ã§ä¿å­˜ã—ã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ãƒãƒ¼ã«ã§ã‚‚ç½®ã„ã¦ãŠã‘ã°ã€ã‚ã¨ã¯ãƒªãƒ³ã‚¯ã‚’ç”Ÿæˆã—ãŸã„ãƒšãƒ¼ã‚¸ã‚’é–‹ã„ã¦ãã“ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã ã‘ã§ã™ã€‚\nMarkdown ç”¨ã®ãƒªãƒ³ã‚¯ã‚³ãƒ¼ãƒ‰ãŒã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã™ã€‚\nå®Ÿæ…‹ã¨ã—ã¦ã¯ä¸‹è¨˜ã® JavaScript ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚\nconst titleTag = document.getElementsByTagName(\u0026#34;title\u0026#34;), pageUrl = location.href; let pageTitle = pageUrl; titleTag.length \u0026gt; 0 \u0026amp;\u0026amp; titleTag[0].innerHTML !== \u0026#34;\u0026#34; \u0026amp;\u0026amp; (pageTitle = titleTag[0].innerHTML); const md = `[${pageTitle}](${pageUrl})`; navigator.clipboard \u0026amp;\u0026amp; navigator.clipboard.writeText(md); ã‚¿ã‚¤ãƒˆãƒ«ã‚¿ã‚°ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã€ã¾ãŸã¯ç©ºæ–‡å­—ã®å ´åˆã¯ã€ä»•æ–¹ãªã URL ã®ãƒªãƒ³ã‚¯ã‚’ç”Ÿæˆã—ã¦ã„ã¾ã™ã€‚ãŒã€ã¾ã‚ã€ãã‚“ãªãƒšãƒ¼ã‚¸ã¯ã“ã®ã”æ™‚ä¸–ã»ã¼ç„¡ã„ã§ã—ã‚‡ã†ã€‚(ç„¡ã„ã¨ä¿¡ã˜ãŸã„)\nã¾ã¨ã‚ ãƒªãƒ³ã‚¯ã«ã¯ã‚¿ã‚¤ãƒˆãƒ«ä»˜ä¸ã—ã¦ã»ã—ã„ãªãƒ¼ ã£ã¦ã„ã†è©±ã§ã—ãŸã€‚\nQiita ã¨ã‹å€‹äººã®ãƒ–ãƒ­ã‚°ã¨ã‹ã‚’ Markdown ã§æ›¸ã„ã¦ã„ã‚‹æ–¹ã¯ã€ã“ã®ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ä½¿ã£ã¦è¨ªå•è€…ã«å„ªã—ã„ãƒªãƒ³ã‚¯ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚\n",
    "permalink": "https://michimani.net/post/development-copy-link-with-title-for-markdown/",
    "title": "å‚è€ƒ URL ã¨ã—ã¦ URL ã ã‘è²¼ã£ã¦ã‚ã‚‹ã®ã£ã¦å‚è€ƒã«ãªã‚‰ãªããªã„ï¼Ÿ"
  },
  {
    "contents": "ãµã¨ GitHub ã®ãƒªãƒã‚¸ãƒˆãƒªã«ä»˜ã„ãŸã‚¹ã‚¿ãƒ¼æ•°ã‚’æ•°ãˆã¦ã¿ãŸã„ã¨æ€ã£ãŸã®ã§ã€ GitHub ã® API ã‚’åˆ©ç”¨ã—ã¦ã‚«ã‚¦ãƒ³ãƒˆã—ã¦ã¿ã¾ã—ãŸã€‚\nç›®æ¬¡ ä½œã£ãŸã‚‚ã® ä½¿ã„æ–¹ è£œè¶³ GitHub ã® API Python ã® argparse ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« ã¾ã¨ã‚ ä½œã£ãŸã‚‚ã® ã‚«ã‚¦ãƒ³ãƒˆç”¨ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ Python ã§ä½œã‚Šã¾ã—ãŸã€‚ (3.7.5)\nä½¿ã„æ–¹ ä½¿ç”¨ã™ã‚‹å ´åˆã¯ python3 -m venv .venv \u0026amp;\u0026amp; source ./.venv/bin/activate ãªã©ã§ Python 3 ã®ç’°å¢ƒã‚’ä½œã£ã¦ \u0026amp;\u0026amp; å…¥ã£ã¦ã€ãã®ä¸­ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n$ python count-github-stargazers.py michimani Count stargazers of michimani\u0026#39;s GitHub repositries... auto-start-stop-ec2 : 1 qiita-to-hugo : 1 resize-s3-image : 1 start-stop-ec2-python : 1 TOTAL : 4 è£œè¶³ ä»Šå›ä½œã£ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ã¤ã„ã¦ç°¡å˜ã«è£œè¶³ã‚’æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nGitHub ã® API ä»Šå›ä½¿ç”¨ã—ãŸã®ã¯ã€ãƒ¦ãƒ¼ã‚¶ã®ãƒªãƒã‚¸ãƒˆãƒªä¸€è¦§ã‚’å–å¾—ã™ã‚‹ API ã§ã™ã€‚\nã‚¹ã‚¯ãƒªãƒ—ãƒˆä¸­ã«ã‚‚ã‚ã‚Šã¾ã™ãŒã€ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ä¸‹è¨˜ URL ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nGET https://api.github.com/users/:username/repos èªè¨¼ã¯ä¸è¦ã§ã€æŒ‡å®šã—ãŸãƒ¦ãƒ¼ã‚¶ã® Public ãª ãƒªãƒã‚¸ãƒˆãƒªä¸€è¦§ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nper_page ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ãƒšãƒ¼ã‚¸ãƒ³ã‚°ãŒå¯èƒ½ã§ã€ page ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ãƒšãƒ¼ã‚¸ã‚’æŒ‡å®šã§ãã¾ã™ã€‚\nãã®ä»–ã€ä¸‹è¨˜ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§å–å¾—ã§ãã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®ç¨®é¡ã€ã‚½ãƒ¼ãƒˆé †ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚(è©³ç´°ã«ã¤ã„ã¦ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„)\ntype : all / owner / member ã§æŒ‡å®šã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ owner ã§ã™ã€‚\nsort : ä¸‹è¨˜ã®å€¤ã§ã‚½ãƒ¼ãƒˆé †ã‚’æŒ‡å®šã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ full_name ã§ã™ã€‚\ncreated updated pushed full_name direction : asc / desc ã§ã‚½ãƒ¼ãƒˆé †ã®æ˜‡é †/é™é †ã‚’æŒ‡å®šã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ã€sort=full_name ã®å ´åˆã¯ asc ã€ãã®ä»–ã®å ´åˆã¯ desc ã§ã™ã€‚\nRepositories # List user repositories | GitHub Developer Guide Python ã® argparse ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« ä»Šã¾ã§ã‚‚ Python ã§ç°¡å˜ãª CLI ãƒ„ãƒ¼ãƒ«ã®ã‚ˆã†ãªã‚‚ã®ã‚’ä½œã£ã¦ã„ã¾ã—ãŸãŒã€ä»Šå›ã¯ argparse ã¨ã„ã† Python ã®æ¨™æº–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã¿ã¾ã—ãŸã€‚\nCLI ãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚‹ã¨ãªã‚‹ã¨ã€å¼•æ•°ã‚„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œã‚‰ã® å¿…é ˆ/ä»»æ„ ã®ç®¡ç†ãªã©ã¯é¢å€’ãªã®ã§ã™ãŒã€ argparse ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šå¼•æ•°ã‚„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ç®¡ç†ãŒéå¸¸ã«ç°¡å˜ã«ãªã‚Šã¾ã™ã€‚\nargparse \u0026amp;mdash; ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€å¼•æ•°ã€ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã®ãƒ‘ãƒ¼ã‚µãƒ¼ â€” Python 3.8.1 ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ä»Šå›ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã¯ GitHub ã®ãƒ¦ãƒ¼ã‚¶åã®ã¿ã‚’å¿…é ˆã®å¼•æ•°ã¨ã™ã‚‹ã‚·ãƒ³ãƒ—ãƒ«ãªã‚‚ã®ã§ã™ãŒã€å¼•æ•°ãŒæ¸¡ã•ã‚Œãªã‹ã£ãŸå ´åˆã«å®šå‹æ–‡ã‚’å‡ºåŠ›ã—ã¦ãã‚ŒãŸã‚Šã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ -h ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§å„å¼•æ•°ãƒ»ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ãƒ˜ãƒ«ãƒ—ã‚’å‡ºåŠ›ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\nå¼•æ•°ãªã—ã§å®Ÿè¡Œã—ãŸå ´åˆ\n$ python count-github-stargazers.py usage: count.py [-h] user_name count.py: error: the following arguments are required: user_name ãƒ˜ãƒ«ãƒ—\n$ python count-github-stargazers.py -h usage: count.py [-h] user_name positional arguments: user_name GitHub user name optional arguments: -h, --help show this help message and exit argparse ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®è¨˜äº‹ã‚’å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚\n[ãƒ†ãƒ³ãƒ—ãƒ¬ä»˜ã]Pythonã§CLIãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚‹ã¨ãã®Tips ï½œ Developers.IO ã¾ã¨ã‚ GitHub ã®ãƒªãƒã‚¸ãƒˆãƒªã«ä»˜ã„ãŸã‚¹ã‚¿ãƒ¼æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ Python ã§ä½œã£ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã‚¹ã‚¿ãƒ¼æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã—ãŸã„ã¨ã„ã†ã‹ argparse ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦ã¿ãŸã‹ã£ãŸæ„Ÿã˜ã«ãªã£ã¦ã¾ã™ãŒã€è‡ªåˆ†ã®ãƒªãƒã‚¸ãƒˆãƒªã«ä»˜ã„ã¦ã‚‹ã‚¹ã‚¿ãƒ¼æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã—ãŸããªã£ãŸã‚‰å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nã©ã†ã§ã‚‚ã„ã„ã§ã™ãŒã€ã‚¹ã‚¿ãƒ¼æ•°ã®åå‰ãŒå˜ç´”ã« stared_count ã˜ã‚ƒãªãã¦ stargazers_count ãªã®ãŒãªã‚“ã‹ã‹ã£ã“ã„ã„ã§ã™ã‚ˆã­ã€‚ã‚¹ã‚¿ãƒ¼ã‚²ã‚¤ã‚¶ãƒ¼ã£ã¦ã„ã†éŸ¿ããŒã€‚\n",
    "permalink": "https://michimani.net/post/development-count-github-stargazers/",
    "title": "GitHub ã®ãƒªãƒã‚¸ãƒˆãƒªã«ä»˜ã„ãŸã‚¹ã‚¿ãƒ¼æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã—ã¦ã¿ãŸ"
  },
  {
    "contents": "é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ Hugo ã‚’ AWS ç’°å¢ƒã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã€ã•ã‚‰ã«è‡ªå‹•ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œã§ãã‚‹ç’°å¢ƒã‚’ AWS CDK ã§ä½œã£ã¦ã¿ã¾ã—ãŸã€‚\nHugo ã‚’ AWS ç’°å¢ƒã§é‹ç”¨ã—ãŸã„ã¨ã„ã†æ–¹ã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ å‰æ ä½œã£ãŸã‚‚ã® ä½¿ã„æ–¹ æ–°ã—ã„å¹´ãŒå§‹ã¾ã£ãŸã®ã§ æ¦‚è¦ ã‚¿ã‚¤ãƒˆãƒ«ã®é€šã‚Šã€ AWS CDK ã‚’ä½¿ã£ã¦é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ Hugo ã§ç”Ÿæˆã—ãŸã‚µã‚¤ãƒˆã‚’ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã€ã•ã‚‰ã« CodeCommit ã¸ã® Push ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ãŸè‡ªå‹•ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚\nã§ãã‚ãŒã‚‹ç’°å¢ƒã¯ä¸‹å›³ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nå‰ã«å˜ç´”ãªé™çš„ã‚µã‚¤ãƒˆã‚’ S3 ã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ç’°å¢ƒã‚’ CDK ã§æ§‹ç¯‰ã—ã¾ã—ãŸãŒã€ãã®é™çš„ã‚µã‚¤ãƒˆéƒ¨åˆ†ã‚’ Hugo ã«ã—ãŸå½¢ã§ã™ã€‚\næœ¬å½“ã¯ Route 53 ã¨ S3 ã®é–“ã« CloudFront ã‚’ç½®ã„ã¦ HTTPS ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã»ã†ãŒã„ã„ã®ã§ã™ãŒã€ AWS CDK ã® CloudFront ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ç¾åœ¨ (v1.1.9.0) ã¯ public preview ãªã®ã§åˆ©ç”¨ã—ãªã„å½¢ã§å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚\nå‰æ AWS CDK ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ (åŸ·ç­†æ™‚ç‚¹ã§æœ€æ–°ã® 1.19.0 ã‚’ä½¿ç”¨ã—ã¾ã™) Route 53 ã§ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹\nä»Šå›ã¯æ—¢å­˜ã®ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã«å¯¾ã—ã¦ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã‚ˆã†ãªæ§‹æˆã‚’è€ƒãˆã¾ã™ã€‚ ä½œã£ãŸã‚‚ã® ä½œã£ãŸ CDK ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã“ã¡ã‚‰ã§ã™ã€‚\nmichimani/hugo-pipeline: This is a AWS CDK project that create building pipeline of HUGO site. GitHub ã«ç½®ã„ã¦ã„ã‚‹ã®ã§ã€ clone ã—ã¦ä½¿ã„ã¾ã™ã€‚\nä½¿ã„æ–¹ ã¾ãšã¯ clone ã—ã¦ãã¾ã™ã€‚\n$ git clone https://github.com/michimani/hugo-pipeline.git $ cd hugo-pipeline npm ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ã€ CDK ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–ã‚’ã—ã¾ã™ã€‚\n$ npm install $ cdk bootstrap config ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚µãƒ³ãƒ—ãƒ«ã‹ã‚‰ä½œã‚Šã¾ã™ã€‚\n$ cp stack-config.yml.sample stack-config.yml config ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¸‹è¨˜ã®ã‚ˆã†ãª YAML ãƒ•ã‚¡ã‚¤ãƒ«ã«ãªã£ã¦ã„ã¾ã™ã€‚\ncommon: hugo_version: 0.62.0 region: \u0026#34;\u0026lt;deploy-target-region\u0026gt;\u0026#34; route53: zone_name: \u0026#34;\u0026lt;existed-hosted-zone-name\u0026gt;\u0026#34; zone_id: \u0026#34;\u0026lt;existed-hosted-zone-id\u0026gt;\u0026#34; subdomain_host: \u0026#34;\u0026lt;hostname-of-sub-domain (optional)\u0026gt;\u0026#34; codepipeline: branch: master å„é …ç›®ã®è¨­å®šå€¤ã®è©³ç´°ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\ncommon hugo_version : åˆ©ç”¨ã™ã‚‹ Hugo ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã“ã®è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã‚‹æ™‚ç‚¹ (2020/1/1) ã§ã¯ 0.62.0 ãŒæœ€æ–°ã§ã™ã€‚ region : AWS ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚ route53 zone_name : ã‚ã‚‰ã‹ã˜ã‚ Route 53 ã«ç™»éŒ²ã—ã¦ã‚ã‚‹ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã®ã‚¾ãƒ¼ãƒ³åã‚’æŒ‡å®šã—ã¾ã™ã€‚ zone_id : ã‚¾ãƒ¼ãƒ³åã®ã‚¾ãƒ¼ãƒ³ ID ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã‚¾ãƒ¼ãƒ³ ID ã¯ Route 53 ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç­‰ã§ç¢ºèªã—ã¾ã™ã€‚ subdomain_host : ã‚¾ãƒ¼ãƒ³åã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ã—ã¦ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹å ´åˆã¯ã€ãƒ›ã‚¹ãƒˆåéƒ¨åˆ†ã‚’ã—ã¦ã„ã—ã¾ã™ã€‚ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ãªã„å ´åˆã¯çœç•¥ã—ã¾ã™ã€‚ codepipeline branch : ãƒ“ãƒ«ãƒ‰ã®ãƒˆãƒªã‚¬ãƒ¼ã¨ãªã‚‹ Push å…ˆã®ãƒ–ãƒ©ãƒ³ãƒåã‚’æŒ‡å®šã—ã¾ã™ã€‚ ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€ã‚¹ã‚¿ãƒƒã‚¯ãŒç”Ÿæˆã•ã‚Œã‚‹ã‹ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚\nâ€»ãŸã ã—ã€ãƒ†ã‚¹ãƒˆã«ã¤ã„ã¦ã¯æœªå®Œæˆã§ã€ãƒ†ã‚¹ãƒˆãŒé€šã£ã¦ã‚‚ cdk deploy ãŒå¤±æ•—ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚\n$ npm run test ãƒ†ã‚¹ãƒˆãŒé€šã£ãŸã‚‰ synth ã—ã¦å®Ÿéš›ã«ç”Ÿæˆã•ã‚Œã‚‹ CFn ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç¢ºèªã—ã¾ã™ã€‚\n$ cdk synth ... ç‰¹ã«å•é¡Œãªã‘ã‚Œã°ãƒ‡ãƒ—ãƒ­ã‚¤ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nãŸã ã—ã€ä¸‹è¨˜ã®ã‚ˆã†ã« 2 ã¤ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n$ cdk deploy \u0026amp;\u0026amp; cat ./cdk.out/codecommit_info.txt ã™ã‚‹ã¨ã€ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†å¾Œã«ä¸‹è¨˜ã®ã‚ˆã†ãªå‡ºåŠ›ãŒã•ã‚Œã¾ã™ã€‚\nPlease run following AWS CLI command to get generated CodeCommit repositry info. aws codecommit get-repository --repository-name repo-name --region region-code æŒ‡ç¤ºã®é€šã‚Š CLI ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ CDK ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚ŒãŸ CodeCommit ãƒªãƒã‚¸ãƒˆãƒªã® URL ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\naws codecommit get-repository --repository-name repo-name --region region-code { \u0026#34;repositoryMetadata\u0026#34;: { \u0026#34;accountId\u0026#34;: \u0026#34;123456789012\u0026#34;, \u0026#34;repositoryId\u0026#34;: \u0026#34;12345678-abcd-1234-efgh-d0f1ea0f43ab\u0026#34;, \u0026#34;repositoryName\u0026#34;: \u0026#34;repo-name\u0026#34;, \u0026#34;repositoryDescription\u0026#34;: \u0026#34;This is a repository of Hugo site.\u0026#34;, \u0026#34;defaultBranch\u0026#34;: \u0026#34;master\u0026#34;, \u0026#34;lastModifiedDate\u0026#34;: 1577774989.781, \u0026#34;creationDate\u0026#34;: 1577774643.78, \u0026#34;cloneUrlHttp\u0026#34;: \u0026#34;https://git-codecommit.region-code.amazonaws.com/v1/repos/repo-name\u0026#34;, \u0026#34;cloneUrlSsh\u0026#34;: \u0026#34;ssh://git-codecommit.region-code.amazonaws.com/v1/repos/repo-name\u0026#34;, \u0026#34;Arn\u0026#34;: \u0026#34;arn:aws:codecommit:region-code:123456789012:repo-name\u0026#34; } } ã“ã® URL ã‚’ ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã¨ã—ã¦ã€ Hugo ã®ãƒªãƒã‚¸ãƒˆãƒªã«ç™»éŒ²ã—ã€æŒ‡å®šã—ãŸãƒ–ãƒ©ãƒ³ãƒã« Push ã™ã‚Œã°ãƒ“ãƒ«ãƒ‰ãŒé–‹å§‹ã•ã‚Œã¾ã™ã€‚\n(æœ€å¾ŒãŒé›‘)\næ–°ã—ã„å¹´ãŒå§‹ã¾ã£ãŸã®ã§ é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ Hugo ã‚’ AWS ç’°å¢ƒã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã€ã•ã‚‰ã«è‡ªå‹•ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œã§ãã‚‹ç’°å¢ƒã‚’ AWS CDK ã§ä½œã£ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\n2020 å¹´ã«ãªã£ã¦æ–°ã—ã„å¹´ãŒå§‹ã¾ã£ãŸã®ã§ã€ã“ã‚Œã‚’æ©Ÿä¼šã«ãƒ–ãƒ­ã‚°ã‚’å§‹ã‚ã‚ˆã†ã¨æ€ã£ã¦ã„ã‚‹æ–¹ã‚‚ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nã¯ã¦ãªãƒ–ãƒ­ã‚°ã‚„ãƒ¯ãƒ¼ãƒ‰ãƒ—ãƒ¬ã‚¹ã‚‚ã„ã„ã§ã™ãŒã€ Hugo ã‚’ã¯ã˜ã‚ã¨ã—ãŸé™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã§ãƒ–ãƒ­ã‚°ã‚’é‹ç”¨ã—ã¦ã¿ã‚‹ã®ã‚‚é¢ç™½ã„ã¨æ€ã„ã¾ã™ã€‚\né™çš„ã‚µã‚¤ãƒˆè‡ªä½“ã¯æ§˜ã€…ãªæ–¹æ³•ã€ç’°å¢ƒã§é‹ç”¨ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã™ãŒã€ AWS ç’°å¢ƒã§é‹ç”¨ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-develop-hugo-pipeline-using-cdk/",
    "title": "AWS CDK ã§ Hugo ã®ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã¨ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ç’°å¢ƒã‚’ä½œã£ã¦ã¿ãŸ"
  },
  {
    "contents": "æ˜¨å¹´ã«å¼•ãç¶šãã€ä»Šå¹´ã‚‚è‡ªåˆ†ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆäº‹æƒ…ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã£ã¦ã¿ã¾ã™ã€‚ãŒã€ä»Šå¹´ã¯ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã«åŠ ãˆã¦ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã‚‚ãŸãã•ã‚“ã—ãŸã®ã§ã€ã‚¤ãƒ³ãƒ—ãƒƒãƒˆäº‹æƒ…ã«ã¤ã„ã¦ã‚‚åˆã‚ã›ã¦æŒ¯ã‚Šè¿”ã‚Šã¾ã™ã€‚\nç›®æ¬¡ 2019 å¹´ã®ç›®æ¨™ã«ã—ã¦ã„ãŸã“ã¨ ã‚¤ãƒ³ãƒ—ãƒƒãƒˆäº‹æƒ… ã»ã¼æ¯æœˆãªã«ã‹ã—ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚»ãƒŸãƒŠãƒ¼ã«å‚åŠ ã—ã¦ã„ãŸ ãƒãƒ³ã‚ºã‚ªãƒ³ã‚ã£ã¡ã‚ƒè‰¯ã„ ã‚»ãƒŸãƒŠãƒ¼ã¯åŒã˜ã‚ˆã†ãªãƒˆãƒ”ãƒƒã‚¯ã§ã‚‚å…¨ç„¶é•ã† ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆäº‹æƒ… å»å¹´ã‚ˆã‚Šè¨˜äº‹æ•°ãŒå¢—ãˆãŸ GitHub ã®ãƒªãƒã‚¸ãƒˆãƒªã«ã‚¹ã‚¿ãƒ¼ãŒã¤ã„ãŸ AWS èªå®šäº‹æƒ… 2020 å¹´ã¯ã©ã†ã™ã‚‹ã‹ 2019 å¹´ã®ç›®æ¨™ã«ã—ã¦ã„ãŸã“ã¨ 2018 å¹´ã® 12 æœˆã«ã¯ã“ã‚“ãªè¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã¾ã—ãŸã€‚\nãã®æœ€å¾Œã§\nã¨ã‚Šã‚ãˆãš å¤–ã«å‡ºã‚‹ ã“ã¨ã‚’ç›®æ¨™ã«ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nãƒ–ãƒ­ã‚°ã§ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã‚‚ãã†ã§ã™ãŒã€ã‚»ãƒŸãƒŠãƒ¼å‚åŠ ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¸ã®å‚åŠ ãªã©ã§è‰²ã‚“ãªäººã¨æƒ…å ±å…±æœ‰ã—ã¦ã„ããŸã„ã¨è€ƒãˆã¦ã¾ã™ã€‚\nãã‚Œã«åŠ ãˆã¦ã€ AWS é–¢é€£ã®èªå®šã‚‚å–å¾—ã«å‘ã‘ã¦ã‚‚é ‘å¼µã‚ŠãŸã„ã§ã™ã­ã€‚\nã¨æ›¸ã„ã¦ã„ã¾ã™ã€‚\nä»Šå›ã¯ã“ã‚Œã‚‰ã®ç›®æ¨™ãŒé”æˆã§ããŸã®ã‹ã€æŒ¯ã‚Šè¿”ã£ã¦ã¿ã¾ã™ã€‚\nã‚¤ãƒ³ãƒ—ãƒƒãƒˆäº‹æƒ… 2018 å¹´ã¯ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã®æ–¹æ³•ã¨ã—ã¦ã¯ä¸»ã«å„ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã ã£ãŸã‚Šã€æ¥­å‹™ã§ä½¿ã†è¨€èªã«ã¤ã„ã¦ (Pythonã€ JavaScript) èª¿ã¹ã¦ã¿ãŸã‚Šã€ã¨ã„ã†æ–¹æ³•ã§ã—ãŸã€‚\nã‚¤ãƒ™ãƒ³ãƒˆã¸ã®å‚åŠ ã‚‚å¾ŒåŠãã‚‰ã„ã‹ã‚‰æ„è­˜ã—å§‹ã‚ã¦ã€ Developers.IO 2018 ã¨ AWS Start-upã‚¼ãƒŸ::ãƒ‡ãƒ¢ç¥­ã‚Š ã«å‚åŠ ã—ã¾ã—ãŸã€‚\nAWS Loft Tokyo ã§é–‹å‚¬ã•ã‚ŒãŸ AWS Start-upã‚¼ãƒŸ ã«è¡Œã£ã¦ãã¾ã—ãŸ ã“ã‚Œã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆå‚åŠ ãŒè‡ªåˆ†ã«ã¨ã£ã¦ã¯ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã®å‘ä¸Šã«ç¹‹ãŒã‚‹ã¨æ„Ÿã˜ãŸã®ã§ã€ 2019 å¹´ã¯ã‚ˆã‚Šå¤šãã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚»ãƒŸãƒŠãƒ¼ã«å‚åŠ ã—ã‚ˆã†ã¨æ„æ°—è¾¼ã‚“ã§ã„ãŸã‚ã‘ã§ã™ã€‚\nã»ã¼æ¯æœˆãªã«ã‹ã—ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚»ãƒŸãƒŠãƒ¼ã«å‚åŠ ã—ã¦ã„ãŸ å®Ÿéš›ã« 2019 å¹´ã«å‚åŠ ã—ãŸã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚»ãƒŸãƒŠãƒ¼ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\n2 æœˆ JAWS DAYS 2019 çŸ¥ã£å¾—ãƒãƒ³ã‚ºã‚ªãƒ³ã‚·ãƒªãƒ¼ã‚º ã¯ã˜ã‚ã¦ã® Serverless 3 æœˆ PHPerKaigi 2019 4 æœˆ çŸ¥ã£å¾— AWSãƒãƒ³ã‚ºã‚ªãƒ³ for Developers ã¯ã˜ã‚ã¦ã® AI ã‚µãƒ¼ãƒ“ã‚¹ 6 æœˆ ç›®é»’JavaScriptã‚‚ãã‚‚ãä¼š #2 7 æœˆ AKIBA.AWS #14 ç•ªå¤–ç·¨ã€œAWS Update LTå¤§ä¼šã€œ AWS Cloud Development Kit (CDK) GA è¨˜å¿µ Meetup 8 æœˆ çŸ¥ã£å¾—ãƒãƒ³ã‚ºã‚ªãƒ³ ã¯ã˜ã‚ã¦ã®ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ - Amazon Personalize 10 æœˆ AWS Amplify \u0026amp; Chalice Hands-on Workshop 11 æœˆ Developers.IO 2019 Tokyo AWS Amplify \u0026amp; Chalice ãƒãƒ³ã‚ºã‚ªãƒ³ #03 ã€œæ€ æƒ°ãªãƒ—ãƒ­ã‚°ãƒ©ãƒå‘ã‘ ãŠæ‰‹è»½ã‚¢ãƒ—ãƒªé–‹ç™ºæ‰‹æ³•ã€œ 12 æœˆ AWS re:Invent ãµã‚Šã‹ãˆã‚Šå‹‰å¼·ä¼š re:Growth 2019 TOKYO ã¨ã„ã†ã“ã¨ã§ã€ã»ã¼æ¯æœˆãªã«ã‹ã—ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã«è¡Œã£ã¦ã¾ã—ãŸã€‚\nãƒãƒ³ã‚ºã‚ªãƒ³ã‚ã£ã¡ã‚ƒè‰¯ã„ ç‰¹ã«æ„è­˜ã—ã¦ã„ãŸã®ãŒã€å®Ÿéš›ã«æ‰‹ã‚’å‹•ã‹ã™ãƒãƒ³ã‚ºã‚ªãƒ³ã«ã¯ç©æ¥µçš„ã«å‚åŠ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã—ãŸã€‚\nã‚»ãƒŸãƒŠãƒ¼ã§è©±ã‚’èãã“ã¨ã§å†…å®¹ã¯å…¥ã£ã¦ãã‚‹ã®ã§ã™ãŒã€ã‚„ã¯ã‚Šå®Ÿéš›ã«æ‰‹ã‚’å‹•ã‹ã•ãªã„ã¨ã‚ã‹ã‚‰ãªã„ã“ã¨ã‚‚å¤šã„ã§ã™ã€‚è‡ªã‚‰èª¿ã¹ã¦æ‰‹ã‚’å‹•ã‹ã™ã¨ã„ã†æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™ãŒã€ã‚„ã¯ã‚Šã—ã£ã‹ã‚Šã¨æ•´å‚™ã•ã‚ŒãŸãƒãƒ³ã‚ºã‚ªãƒ³è³‡æ–™ã‚’åˆ©ç”¨ã—ã¦å­¦ã¶ã®ã¯åŠ¹ç‡çš„ã§ã€ã¨ã¦ã‚‚è‰¯ã„æ™‚é–“ã«ãªã£ãŸã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚\nãƒãƒ³ã‚ºã‚ªãƒ³ã¯ã»ã¨ã‚“ã©æ˜¨å¹´ã‚ªãƒ¼ãƒ—ãƒ³ã—ãŸ AWS Loft Tokyo ã§é–‹å‚¬ã•ã‚ŒãŸã‚‚ã®ã«å‚åŠ ã—ã¾ã—ãŸã€‚ AWS Loft Tokyo ã¯æ¯æœˆã•ã¾ã–ã¾ãªã‚¤ãƒ™ãƒ³ãƒˆã‚„ãƒãƒ³ã‚ºã‚ªãƒ³ãŒé–‹å‚¬ã•ã‚Œã¦ã„ã¦ã€æ™‚é–“ã‚‚ä»•äº‹çµ‚ã‚ã‚Šã«ã„ã‘ã‚‹æ™‚é–“ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šéå¸¸ã«åŠ©ã‹ã£ã¦ã„ã¾ã™ã€‚ã—ã‹ã‚‚ç„¡æ–™ãªã‚‚ã®ãŒã»ã¨ã‚“ã©ã§ã™ã€‚\nã‚¤ãƒ™ãƒ³ãƒˆã®å‚åŠ ã«ã¯ AWS Loft Tokyo ã®ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯ä¸è¦ã§ã€ã‚¤ãƒ™ãƒ³ãƒˆã”ã¨ã®ç™»éŒ²ã«ãªã‚‹ã®ã§ã€æ˜¯éã¿ãªã•ã‚“æ´»ç”¨ã—ã¾ã—ã‚‡ã†ã€‚\nã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚»ãƒŸãƒŠãƒ¼ä¸€è¦§ - AWS Loft Tokyo | AWS ã‚»ãƒŸãƒŠãƒ¼ã¯åŒã˜ã‚ˆã†ãªãƒˆãƒ”ãƒƒã‚¯ã§ã‚‚å…¨ç„¶é•ã† ã„ãã¤ã‹ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚»ãƒŸãƒŠãƒ¼ã«å‚åŠ ã—ã¦ã¿ã¦æ€ã£ãŸã®ã¯ã€åŒã˜ã‚ˆã†ãªãƒˆãƒ”ãƒƒã‚¯ã®ã‚‚ã®ã§ã‚‚ç™»å£‡ãƒ»ç™ºè¡¨ã™ã‚‹äººã«ã‚ˆã£ã¦è¦‹ã‚‹è§’åº¦ãŒå…¨ç„¶é•ã†ãªã¨ã„ã†ã“ã¨ã§ã™ã€‚\nã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’èããŸã³ã«æ–°ã—ã„æƒ…å ±ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã—ã€ãŸã¨ãˆé‡è¤‡ã™ã‚‹å†…å®¹ã§ã‚ã£ã¦ã‚‚å†ç¢ºèªã¨ã„ã†æ„å‘³åˆã„ã§ç†è§£ã‚’æ·±ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n1 å¹´ã‚’é€šã—ã¦æ§˜ã€…ãªã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚»ãƒŸãƒŠãƒ¼ã«å‚åŠ ã—ã¦ã„ã‚‹ã¨ãã®ç‚¹ã«ã¤ã„ã¦ã¯å¼·ãæ„Ÿã˜ã¦ã„ã¦ã€ã¶ã£ã¡ã‚ƒã‘ 2 æœˆã«è¡Œã£ãŸ JAWS DAYS ã§ã¯ ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å†…å®¹é›£ã—ã„ãªã€ã‚ã‘ã‚ã‹ã‚‰ã‚“ãªã€ãµãƒ¼ã‚“ ã£ã¦æ€ã£ã¦ãŸã®ãŒã€12 æœˆã«å‚åŠ ã—ãŸ re:Growth 2019 ã§ã¯ã€ã™ã£ã¨å…¥ã£ã¦ãã‚‹å†…å®¹ãŒå¤šã‹ã£ãŸã§ã™ã€‚\nç¶™ç¶šçš„ã«æƒ…å ±ã‚’åé›†ã—ã¦ã„ãã®ã¯å¤§äº‹ã ãªã¨ã€å¼·ãæ„Ÿã˜ãŸ 1 å¹´ã§ã—ãŸã€‚\nã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆäº‹æƒ… ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã®æ–¹æ³•ã¨ã—ã¦ã¯ã€ãƒ¡ã‚¤ãƒ³ã¯ã“ã®ãƒ–ãƒ­ã‚°ã§ã€ã‚ã¨ä»Šå¹´ã¯ç°¡å˜ãªã‚³ãƒ¼ãƒ‰ã§ã‚‚ GitHub ã€ Gist ã«ã‚³ãƒ¼ãƒ‰ã‚’å¾Œæ‚”ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\nãã‚Œãã‚Œã§ã©ã‚“ãªæˆæœãŒã‚ã£ãŸã‹æŒ¯ã‚Šè¿”ã‚Šã¾ã™ã€‚\nå»å¹´ã‚ˆã‚Šè¨˜äº‹æ•°ãŒå¢—ãˆãŸ ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã¯ã€ãƒ¡ã‚¤ãƒ³ã¯ã“ã®ãƒ–ãƒ­ã‚°ã§ã™ã­ã€‚\nå»å¹´ã¯ 1 å¹´é–“ã§ 48 æœ¬ã®è¨˜äº‹ã‚’æ›¸ãã¾ã—ãŸã€‚ä»Šå¹´ã‚‚å¼•ãç¶šãæ›´æ–°ã—ã‚ˆã†ã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€çµæœçš„ã«ã¯ 54 æœ¬ è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã¾ã—ãŸã€‚\nå¹³å‡ã™ã‚‹ã¨ã»ã¼é€± 1 æœ¬ãƒšãƒ¼ã‚¹ã§ã€ãªã‚“ã‚„ã‹ã‚“ã‚„ã§ç¶™ç¶šã—ã¦æ›¸ã‘ãŸãªãƒ¼ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\nå†…å®¹ã¯ AWS é–¢é€£ã§ã‚„ã£ã¦ã¿ãŸã“ã¨ãŒå¤§éƒ¨åˆ†ã‚’å ã‚ã¦ã„ã¦ã€ã‚ã¨ã¯ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚»ãƒŸãƒŠãƒ¼ã®å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã€é™çš„ã‚µã‚¤ãƒˆã®ã“ã¨ã€ã‚¬ã‚¸ã‚§ãƒƒãƒˆç³»ã¨ã„ã†åˆ†é¡ã§ã™ã€‚\nã‚ã‚ŠãŒãŸã„ã“ã¨ã«ã¯ã¦ãƒ–ã§ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã‚«ãƒ†ã‚´ãƒªã®ãƒ›ãƒƒãƒ†ãƒ³ãƒˆãƒªã«å…¥ã‚‹ã“ã¨ã‚‚æ•°å›ã‚ã‚Šã€ãƒ–ãƒ­ã‚°ã® PV æ•°ã‚‚ã˜ã‚ã˜ã‚ä¼¸ã³ã¦ã„ã¾ã™ã€‚\nä»Šå¹´ã®ä»Šæ—¥ã¾ã§ã® PV ã‚°ãƒ©ãƒ•ã€‚\nãƒ—ãƒã¯ã¦ãƒ–ç ²ãŒã‚ã£ãŸã‚Šã€ãã‚‚ãã‚‚ã®ãƒ™ãƒ¼ã‚¹ãŒä¼¸ã³ã¦ãã¦ãŸã‚Šã—ã¦ã€æ¥å¹´ã‚‚é ‘å¼µã‚ã†ã£ã¦ã„ã†æ„Ÿã˜ã§ã™ã€‚ pic.twitter.com/4nmy1O1nCc\n\u0026mdash; ã‚ˆã£ã—ãƒ¼@CBR853RR (@michimani210) December 27, 2019 PV æ•°ãŒå¢—ãˆã‚‹ã¨å˜ç´”ã«æ›¸ããƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ãŒä¸ŠãŒã£ã¦ãã¾ã™ãŒã€è‡ªåˆ†ã§è¦‹è¿”ã—ã¦å‚è€ƒã«ã™ã‚‹ã“ã¨ã‚‚å¤šã„ã§ã™ã€‚ãã®æ™‚ç‚¹ã§æœ€ä½ã§ã‚‚ä¸€äººã®å½¹ã«ã¯ç«‹ã£ã¦ã„ã‚‹ã®ã§ã€ã¡ã‚‡ã£ã¨ã—ãŸã“ã¨ã§ã‚‚æ›¸ã„ã¦ãŠãã®ã¯å¤§äº‹ã ãªã¨æ€ã„ã¾ã—ãŸã€‚\nGitHub ã®ãƒªãƒã‚¸ãƒˆãƒªã«ã‚¹ã‚¿ãƒ¼ãŒã¤ã„ãŸ å®Ÿéš›ã«è‡ªåˆ†ãŒè‰²ã€…ã‚„ã£ã¦ã¿ãŸã¨ãã«æ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ã‚’ GitHub ã‚„ Gist ã«ãŠãã‚ˆã†ã«ãªã£ãŸã‚“ã§ã™ãŒã€ã„ãã¤ã‹ã®ãƒªãƒã‚¸ãƒˆãƒªã«ã‚¹ã‚¿ãƒ¼ãŒã¤ãã¾ã—ãŸã€‚\nmichimani/auto-start-stop-ec2: This is a CDK application for automatically starting / stopping EC2 instances. This is a sample of AWS Lambda function that notifies CodeBuild Notification (only state changes) to Slack via Amazon SNS. GitHub ã§ã‚¹ã‚¿ãƒ¼ã‚’ã¤ã‘ã‚‹åŸºæº–ã¯äººãã‚Œãã‚Œã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã¤ã‘ã¦ã‚‚ã‚‰ã£ãŸå´ã¯ã¨ã¦ã‚‚å¬‰ã—ã„ã§ã™ã­ã€‚\nè‡ªåˆ†ã¯å®Ÿéš›ã«ä½¿ã£ã¦ã¿ã¦å½¹ã«ç«‹ã£ãŸãƒªãƒã‚¸ãƒˆãƒªã«ã‚¹ã‚¿ãƒ¼ã‚’ã¤ã‘ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã‚“ã§ã™ãŒã€è‡ªåˆ†ã«ã¤ã‘ã‚‰ã‚ŒãŸã‚¹ã‚¿ãƒ¼ã‚‚ãã‚“ãªç†ç”±ã ã£ãŸã‚‰å¬‰ã—ã„ãªã¨ã„ã†ã€ãƒã‚¸ãƒ†ã‚£ãƒ–ãªæ‰ãˆæ–¹ã‚’ã—ã¦ã„ã¾ã™ã€‚\nGitHub ã«ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãªãƒªãƒã‚¸ãƒˆãƒªã‚’ãŠãã¨ã„ã†ã“ã¨ã¯ä»–äººã«è‡ªåˆ†ã®ã‚½ãƒ¼ã‚¹ã‚’è¦‹ã‚‰ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã¯æŠ€è¡“åŠ›ã‚‚è¦‹é€ã‹ã•ã‚Œã‚‹ã¨æ€ã†ã®ã§ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼ã¯ã‚ã‚Šã¾ã™ãŒã€ãªã«ã‚‚è¨€ã‚ã‚Œãšã«ä¸€äººã ã‘ã§å®Œçµã™ã‚‹ã‚ˆã‚Šã¯ã„ã„ã‹ãªã¨æ€ã£ã¦ã„ã¾ã™ã€‚\nAWS èªå®šäº‹æƒ… ãã‚Œã«åŠ ãˆã¦ã€ AWS é–¢é€£ã®èªå®šã‚‚å–å¾—ã«å‘ã‘ã¦ã‚‚é ‘å¼µã‚ŠãŸã„ã§ã™ã­ã€‚\nã„ã‹ã«ã‚‚ã€è¨€ã†ã ã‘è¨€ã£ã¦ã‚„ã‚‰ãªã„äººã¿ãŸã„ãªæ›¸ãæ–¹ã‚’ã—ã¦ã¾ã™ã€‚\nãŒã€çµæœçš„ã«ã¯ AWS èªå®šã® Associate ãƒ¬ãƒ™ãƒ« 3 ç¨®é¡ã«åˆæ ¼ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nå…·ä½“çš„ãªå‹‰å¼·æ–¹æ³•ã«ã¤ã„ã¦ã¯ãã‚Œãã‚Œåˆ¥è¨˜äº‹ã§æ›¸ã„ã¦ã„ã¾ã™ãŒã€åˆæ ¼ã«å‘ã‘ãŸæ˜ç¤ºçš„ãªå‹‰å¼·ã«å‰²ã„ãŸæ™‚é–“ã¯å°‘ãªãã€ã‚„ã¯ã‚Š 1 å¹´ã‚’é€šã—ã¦ AWS é–¢ä¿‚ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚»ãƒŸãƒŠãƒ¼ã«å‚åŠ ã—ã¦ã„ãŸã“ã¨ã§ã€ãƒ™ãƒ¼ã‚¹ã®çŸ¥è­˜ãŒã¤ã„ã¦ã„ãŸã“ã¨ãŒå¤§ãã‹ã£ãŸã¨æ€ã„ã¾ã™ã€‚\nã‚‚ã¡ã‚ã‚“èªå®šåˆæ ¼ãŒã‚´ãƒ¼ãƒ«ã§ã¯ãªã„ã§ã™ãŒã€è‡ªåˆ†ã®åŠ›ã‚’å¯¾å¤–çš„ã«ã‚¢ãƒ”ãƒ¼ãƒ«ã™ã‚‹ãŸã‚ã®æ‰‹æ®µã¨ã—ã¦ã€åˆæ ¼ã§ããŸã“ã¨ã¯è‰¯ã‹ã£ãŸã§ã™ã€‚\n2020 å¹´ã¯ã©ã†ã™ã‚‹ã‹ 2019 å¹´ã®è‡ªåˆ†ã®ã‚¤ãƒ³ãƒ—ãƒƒãƒˆãƒ»ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆäº‹æƒ…ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã£ã¦ã¿ã¾ã—ãŸã€‚\nçµæœçš„ã«ã¯ 2018 å¹´ã®æœ€å¾Œã«è»½ãå®£è¨€ã—ãŸç›®æ¨™ã‚’ã»ã¼ã‚¯ãƒªã‚¢ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\n2020 å¹´ã¯ã€ä»Šå¹´ã®æµã‚Œã‚’å¼•ãç¶šãç¶šã‘ã¦ã„ãã¾ã™ã€‚\nãã—ã¦ã€ AWS èªå®šã«é–¢ã—ã¦ã¯ Professional ãƒ¬ãƒ™ãƒ« 2 ç¨®é¡ã«åˆæ ¼ã§ãã‚‹ã‚ˆã†é ‘å¼µã‚Šã¾ã™ã€‚\nã‚ã¨ã€å°‘ã—å‡ºé…ã‚ŒãŸæ„Ÿã˜ã¯ã‚ã‚Šã¾ã™ãŒã€æ©Ÿæ¢°å­¦ç¿’ã«é–¢ã™ã‚‹æŠ€è¡“ã«ã¤ã„ã¦ã‚‚å‹‰å¼·ã—ã¦ã„ããŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\nä»Šå¹´ã® re:Invent ã§ã¯æ©Ÿæ¢°å­¦ç¿’ã«é–¢ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒªãƒªãƒ¼ã‚¹ãƒ»ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒã¨ã¦ã‚‚å¤šã‹ã£ãŸã®ã§ã€å‹‰å¼·ã—ã‚ã‚ˆã¨è¨€ã‚ã‚Œã¦ã‚‹ã‚ˆã†ãªæ°—ãŒã—ãªãã‚‚ãªã„ã§ã™ã€‚(å˜ç´”)\nã‚‚ã¡ã‚ã‚“ AWS ã«é–¢ã™ã‚‹ã“ã¨ã ã‘ã‚’å‹‰å¼·ã™ã‚‹ã‚ã‘ã§ã¯ãªãã€é–¢é€£ã™ã‚‹æŠ€è¡“ã«ã¤ã„ã¦ã‚‚å‹‰å¼·ã—ã¦ã„ãã¾ã™ã€‚\nã‚‚ã£ã¨ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚„ã‚ŠãŸã„ã€‚\nå¤‰åŒ–ã®æ—©ã„ä¸–ç•Œã§æ¯æ—¥ã®ã‚ˆã†ã«æ–°ã—ã„æƒ…å ±ãŒå…¥ã£ã¦ãã‚‹ã®ã¯ã¨ã¦ã‚‚æ¥½ã—ã„ã®ã§ã€æ¥å¹´ã‚‚æ¥½ã—ã¿ãªãŒã‚‰é ‘å¼µã‚Šã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/other-retrospect-in-2019/",
    "title": "2019 å¹´ã®è‡ªåˆ†ã®ã‚¤ãƒ³ãƒ—ãƒƒãƒˆãƒ»ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆäº‹æƒ…ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã£ã¦ã¿ã‚‹"
  },
  {
    "contents": "å€‹äººçš„ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¼ãƒ–å…ƒå¹´ã® 2019 å¹´ãµã‚Šã‹ãˆã‚Šã€‚ä»Šå›ã¯ç«¶æŠ€ç·¨ã¨ã„ã†ã“ã¨ã§ã€ã‚¿ã‚¤ãƒ ã‚„è¦šãˆãŸæ‰‹é †ã€å‚åŠ ã—ãŸå¤§ä¼šãƒ»ã‚¤ãƒ™ãƒ³ãƒˆãªã©ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã£ã¦ã¿ã¾ã™ã€‚\nä»Šå¹´è²·ã£ãŸã‚­ãƒ¥ãƒ¼ãƒ–ç·¨ã¯ã“ã¡ã‚‰ã€‚\nã‚¿ã‚¤ãƒ ãƒ»æ‰‹é † ã¾ãšã€å»å¹´ã® 12æœˆæ™‚ç‚¹ã§ã®å˜ç™ºãƒ™ã‚¹ãƒˆ (éå…¬å¼) ã‚¿ã‚¤ãƒ ã¯ã€28 ç§’ãã‚‰ã„ã§ã—ãŸã€‚ (å‹•ç”»ã®ã¿ã§ã€æ­£ç¢ºãªè¨˜éŒ²ãŒæ®‹ã£ã¦ãªã‹ã£ãŸ)\nå¹³å‡ã¯ 35 ç§’ãã‚‰ã„ã§ã€ãã‚Œã§ã‚‚ã‚­ãƒ¥ãƒ¼ãƒ–ã‚’å†é–‹ã—ã¦ 1 ãƒ¶æœˆç¨‹åº¦ã§ 15 ç§’ãã‚‰ã„ã‚¿ã‚¤ãƒ ãŒç¸®ã¾ã£ã¦ã„ã¾ã—ãŸã€‚\nãã‚“ãªãªã‹ã§ 2019 å¹´ã¯ã€ 15 ç§’ã‚’åˆ‡ã‚‹ ã¨ã„ã†ã®ã‚’ç›®æ¨™ã«ã—ã¦ã„ã¾ã—ãŸã€‚\nãã®ãŸã‚ã«ã¯æ‰‹é †ã‚‚ã„ã£ã±ã„è¦šãˆãªã„ã¨ã‘ãªã„ãªãƒ¼ã¨ã„ã†çŠ¶æ…‹ã§ã—ãŸã€‚\nä»Šå¹´ã®1æœˆã€‚ã‚ã¡ã‚ƒãã¡ã‚ƒä¸Šæ‰‹ãã„ã£ãŸã¨ãã€‚ pic.twitter.com/xSBO8o9iuG\n\u0026mdash; ã‚ˆã£ã—ãƒ¼@CBR853RR (@michimani210) December 26, 2019 å˜ç™ºã‚¿ã‚¤ãƒ ã§ã¯ã»ã¼ç›®æ¨™é”æˆ ã¨ã„ã†ã“ã¨ã§çµè«–ã‹ã‚‰ã„ã†ã¨ã€å˜ç™ºã®ãƒ™ã‚¹ãƒˆã‚¿ã‚¤ãƒ ã¯ 15.15 ã‚’å‡ºã™ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nsingle: 15.15 ã‚¿ã‚¤ãƒ ä¸€è¦§: 1. 15.15 L\u0026#39; F2 R B2 L D\u0026#39; R\u0026#39; B\u0026#39; R F2 R2 L2 F\u0026#39; U2 D2 B D2 B L2 B\u0026#39; ãã‚Œä»¥å¤–ã§ã‚‚ã€ sub 20 ã‚’é »ç¹ã«å‡ºã™ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nã¡ã‚‡ã£ã¨ã€ã‚ã£ã¡ã‚ƒå¥½ã‚¿ã‚¤ãƒ å‡ºãŸï¼ pic.twitter.com/YP0llUlLRk\n\u0026mdash; ã‚ˆã£ã—ãƒ¼@CBR853RR (@michimani210) November 12, 2019 ä»Šå¹´ã® 5 æœˆãã‚‰ã„ã‹ã‚‰ã¯ csTimer ã¨ã„ã† Web ã‚¢ãƒ—ãƒªã§ã‚¿ã‚¤ãƒ ã‚’è¨ˆæ¸¬ã—ã¦ã„ã‚‹ã®ã§ã™ãŒã€ 3194 å›ã‚½ãƒ«ãƒ–ã—ã¦ ao5 ã€ ao 12 ãã‚Œãã‚Œã®ãƒ™ã‚¹ãƒˆã‚¿ã‚¤ãƒ ãŒ 23.71 ã€ 25.86 ã§ã—ãŸã€‚\nã¾ãŸã€ ao 100 ã¯ 27.92 ã§ã—ãŸã€‚\navg of 5: 23.71 ã‚¿ã‚¤ãƒ ä¸€è¦§: 1. 25.24 R D\u0026#39; L D L2 F\u0026#39; U D2 B\u0026#39; L2 U2 B L2 D2 F\u0026#39; L2 F\u0026#39; R2 B2 D R2 2. 23.25 L B2 D F2 D\u0026#39; L2 F2 D2 B2 U\u0026#39; R2 D2 R B\u0026#39; R\u0026#39; F\u0026#39; L R2 U R2 3. (25.79) B2 L2 R2 D2 F2 U\u0026#39; B2 L2 D\u0026#39; F2 L2 U\u0026#39; R\u0026#39; B\u0026#39; L2 D B\u0026#39; L\u0026#39; D\u0026#39; U\u0026#39; 4. (21.26) B\u0026#39; L\u0026#39; U2 R2 F\u0026#39; L2 R2 F\u0026#39; U2 R2 D2 F2 D2 F U F\u0026#39; U2 B D R F2 5. 22.65 R2 U\u0026#39; D2 R D2 F U\u0026#39; F\u0026#39; D\u0026#39; B\u0026#39; L2 F R2 F\u0026#39; U2 D2 F2 U2 R2 D2 avg of 12: 25.86 ã‚¿ã‚¤ãƒ ä¸€è¦§: 1. (23.33) R D2 L\u0026#39; U B\u0026#39; D2 L U\u0026#39; B D F2 D\u0026#39; L2 D B2 U\u0026#39; R2 U 2. 26.11 R\u0026#39; U L2 U2 R2 U\u0026#39; F2 U B2 U\u0026#39; L2 B2 U\u0026#39; L B F D\u0026#39; U\u0026#39; F\u0026#39; D2 U 3. 23.46 U B2 F2 U\u0026#39; F2 U B2 R2 D R2 D\u0026#39; B\u0026#39; R F2 R\u0026#39; D R\u0026#39; B F\u0026#39; L B\u0026#39; 4. 24.78 U D2 L\u0026#39; F\u0026#39; B U2 B2 L F U\u0026#39; R2 L2 F2 R2 D\u0026#39; F2 R2 U2 D L2 U\u0026#39; 5. 28.13 B\u0026#39; F\u0026#39; D2 F\u0026#39; L2 B R2 U2 R2 U2 F\u0026#39; L2 R F R U\u0026#39; L2 R B\u0026#39; R2 U2 6. (30.26) B2 R2 B2 F2 D F2 D2 R2 F2 U2 B L\u0026#39; F\u0026#39; D L2 R\u0026#39; B\u0026#39; D\u0026#39; L2 R 7. 26.76 B2 D2 F\u0026#39; L2 F L2 R2 U2 L2 U2 B2 L\u0026#39; F R2 D B\u0026#39; R\u0026#39; D F\u0026#39; U2 8. 23.60 D L2 B\u0026#39; L2 F D2 U2 B D\u0026#39; U\u0026#39; L F\u0026#39; L\u0026#39; B2 R\u0026#39; F\u0026#39; U 9. 27.56 U F L\u0026#39; U2 B2 F2 R B2 L D2 R\u0026#39; F2 R D U R\u0026#39; F L\u0026#39; F R 10. 24.97 R F2 L F\u0026#39; L2 U F D L F U2 B D2 B2 L2 F\u0026#39; R2 U2 F D2 B\u0026#39; 11. 25.03 B2 L B2 D F R\u0026#39; B2 D2 B\u0026#39; D2 L2 F\u0026#39; D2 B U2 B R2 12. 28.17 D L2 F U\u0026#39; B\u0026#39; R2 B D2 F2 D B2 L2 U\u0026#39; R2 U F2 R csTimer - Professional Rubik\u0026amp;rsquo;s Cube Speedsolving/Training Timer æœ€è¿‘ã¯å›ã—ã¦ã„ã¦ã‚‚ sub 30 ã¯ç¢ºå®Ÿã§ã€ã»ã¼ 20 ç§’å°å‰åŠã®ã‚¿ã‚¤ãƒ ã«è½ã¡ç€ã„ã¦ã„ã¾ã™ã€‚\næ‰‹é †ã¯ CFOP ã®é€”ä¸­ã¾ã§ æ‰‹é †ã¯ CFOP ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã‚ˆã†ã¨é ‘å¼µã£ã¦ã¾ã™ãŒã€ã¾ã ã¾ã é€”ä¸­ã§ã™ã€‚\næ‰‹é †è¡¨ã¯ tribox ã•ã‚“ã® CFOP æ‰‹é †è¡¨ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚\ntriboxã‚¹ãƒˆã‚¢ / tribox CFOP æ‰‹é †è¡¨ ã“ã®æ‰‹é †è¡¨ã«ãŠã‘ã‚‹ãã‚Œãã‚Œã®ãƒ•ã‚§ãƒ¼ã‚ºã®ãƒ‘ã‚¿ãƒ¼ãƒ³æ•°ã¨è¦šãˆãŸãƒ‘ã‚¿ãƒ¼ãƒ³æ•°ã®å‰²åˆã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\nF2L (4/41) OLL (8/57) PLL (14/21) æœ€è¿‘ã¯ F2L ã‚’ç·´ç¿’ã—ã¦ã„ã‚‹ã®ã§ã™ãŒã€ãƒšã‚¢ã‚’è¦‹ã¤ã‘ã‚‹ã®ã«æ™‚é–“ãŒã‚ã¡ã‚ƒãã¡ã‚ƒã‹ã‹ã£ã¦ã„ã‚‹çŠ¶æ…‹ã§ã™ã€‚\nOLL ã¯ã€ã¨ã‚Šã‚ãˆãšã‚¯ãƒ­ã‚¹ã‚’ä½œã£ã¦ã‹ã‚‰ã¨ã„ã†çŠ¶æ…‹ã§ã™ã€‚\nPLL ã¯ã€ã‚ã¨å°‘ã—ã§ã™ã€‚\nOLLã€PLL ã¯ã‚¹ãƒ ãƒ¼ã‚ºã«å›ã›ã¦ã„ã‚‹æ°—ãŒã—ã¦ã„ã‚‹ã®ã§ã€æ¥å¹´ã¯ F2L ã—ã£ã‹ã‚Šä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ã„ããŸã„ã§ã™ã€‚\nã¡ãªã¿ã«ã€tribox ã•ã‚“ã®æ‰‹é †æ›¸ã¯ä»Šå¹´ã®ç§‹ã« ç¬¬ 2 ç‰ˆã¨ã—ã¦æ–°ã—ã„æ‰‹é †è¡¨ã‚‚å‡ºã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚\ntriboxã‚¹ãƒˆã‚¢ / tribox CFOP æ‰‹é †è¡¨ ç¬¬2ç‰ˆ ã‚¤ãƒ™ãƒ³ãƒˆ ã‚¤ãƒ™ãƒ³ãƒˆã¨ã„ã†ã‹ã€å¹³æ—¥ã®å¤œã«ã‚„ã£ã¦ã„ã‚‹ å¤§äººã®ãŸã‚ã®ã‚­ãƒ¥ãƒ¼ãƒ–å‹‰å¼·ä¼š ã¨ã„ã†ã‚‚ã®ã«ä½•åº¦ã‹å‚åŠ ã—ã¾ã—ãŸã€‚\nå†…å®¹ã¨ã—ã¦ã¯ã€å¹³æ—¥ã®å¤œã«é›†ã¾ã£ã¦å„ã€…ã‚­ãƒ¥ãƒ¼ãƒ–ã‚’å›ã—ã¦ã€å®Ÿéš›ã«å¤§ä¼šã§ä½¿ç”¨ã™ã‚‹ã‚¿ã‚¤ãƒãƒ¼ã‚’ä½¿ã£ã¦ ao 5 ã‚’è¨ˆæ¸¬ã—ã¾ã™ã€‚ãã®éš›ã®ã‚¸ãƒ£ãƒƒã‚¸ã¯ 3x3x3 å…ƒä¸–ç•Œãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã®ä¸­å³¶æ‚  @naka_jima_yu ã•ã‚“ã§ã€è©¦æŠ€å¾Œã«ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚‚ã—ã¦ã„ãŸã ã‘ã¾ã™ã€‚\nå¤§äººã®ãŸã‚ã®ã‚­ãƒ¥ãƒ¼ãƒ–å‹‰å¼·ä¼š - connpass ã“ã“ã«å‚åŠ ã—ãŸã“ã¨ã§ã€å…ˆã»ã©ç´¹ä»‹ã—ãŸ csTimer ã®å­˜åœ¨ã‚’æ•™ãˆã¦ã‚‚ã‚‰ãˆãŸã‚Šã€è§£ãæ–¹ã«å¯¾ã™ã‚‹ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ã‚‚ã‚‰ãˆãŸã‚Šã€ãã‚‚ãã‚‚ã‚­ãƒ¥ãƒ¼ãƒ–ã«å¯¾ã™ã‚‹ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ãŒä¸ŠãŒã£ãŸã‚Šã¨ã€å¹´é–“é€šã—ã¦ã‚­ãƒ¥ãƒ¼ãƒ–ç”Ÿæ´»ã‚’é€ã£ã¦ã„ãä¸Šã§ã¨ã¦ã‚‚è‰¯ã„çµŒé¨“ã«ãªã‚Šã¾ã—ãŸã€‚\nä»Šå¹´ã®å¾ŒåŠã¯ãªã‹ãªã‹å‚åŠ ã§ããªã‹ã£ãŸ (é–‹å‚¬ã‚‚ãªã‹ã£ãŸ) ã®ã§ã€æ¥å¹´ã¯ã¾ãŸé–‹å‚¬ã•ã‚Œã‚Œã°å‚åŠ ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nå¤§ä¼š å¤§ä¼šã¨ã„ã†ã¨ãƒãƒ¼ãƒ‰ãƒ«ãŒé«˜ãæ„Ÿã˜ã¦ã„ã¾ã—ãŸãŒã€å®Ÿéš›ã«å‚åŠ ã—ã¦ã¿ã‚‹ã¨ãã†ã§ã‚‚ãªã‹ã£ãŸã§ã™ã€‚\nã²ã¨ã¤é©šã„ãŸã®ã¯ã€å¤§ä¼šå‚åŠ è€…ã®å¹´é½¢ã§ã™ã­ã€‚åƒ•ãŒå‚åŠ ã—ãŸã®ã¯å¤ä¼‘ã¿æœŸé–“ã«ã‚ã£ãŸå¤§ä¼š (è¨˜éŒ²ä¼š) ã ã£ãŸã®ã§ãã®å½±éŸ¿ã‚‚ã‚ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€å‚åŠ è€…ã®ã»ã¨ã‚“ã©ã¯å°ãƒ»ä¸­å­¦ç”Ÿã§ã—ãŸã€‚ã‚‚ã¡ã‚ã‚“å¤§äººã®æ–¹ã‚‚ã„ã‚‰ã£ã—ã‚ƒã„ã¾ã—ãŸãŒã€å¹³å‡å¹´é½¢ã¯ 20 ä»£å‰åŠã€ã‚‚ã—ãã¯ 10 ä»£ã ã£ãŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nå¤§ä¼šã«å‚åŠ ã™ã‚‹ã“ã¨ã§è‰¯ã„ã“ã¨ã¯ã€ä»–ã®äººã®ã‚½ãƒ«ãƒ–ã‚’é–“è¿‘ã§è¦‹ã‚‹ã“ã¨ãŒã§ãã‚‹ã“ã¨ã§ã™ã€‚\nè‡ªåˆ†ã‚ˆã‚Šã‚¿ã‚¤ãƒ ãŒæ—©ã„äººã‚‚ãŸãã•ã‚“ã„ã¾ã™ã—ã€å¤§ä¼šã«ã‚ˆã£ã¦ã¯æ—¥æœ¬è¨˜éŒ²ã‚’æŒã£ã¦ã„ã‚‹ã‚ˆã†ãªäººãŒå‚åŠ ã—ã¦ã„ãŸã‚Šã™ã‚‹ã®ã§ã€ãã†ã„ã†äººãŸã¡ã®ã‚½ãƒ«ãƒ–ã‚’è¦‹ã¦ã„ã‚‹ã¨å‚è€ƒã«ãªã‚‹éƒ¨åˆ†ã‚‚å¤šã„ã§ã™ã€‚\nã¾ãŸä¸€ç•ªå¬‰ã—ã„ã®ã¯ã€è‡ªåˆ†ã®ã‚½ãƒ«ãƒ–ãŒå…¬å¼ã®ã‚¿ã‚¤ãƒ ã¨ã—ã¦è¨˜éŒ²ã•ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚\nå¤§ä¼šã®å‚åŠ ã«ã¯ WCA ã«ç™»éŒ²ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚(ç™»éŒ²ã¯ç„¡æ–™) ãã—ã¦å¤§ä¼šã«å‚åŠ ã™ã‚‹ã¨ã€ãã®æƒ…å ±ã«ç´ã¥ã„ãŸå…¬å¼ã‚¿ã‚¤ãƒ ãŒè¨˜éŒ²ã•ã‚Œã€å¾Œã«éå»ã«å‚åŠ ã—ãŸå¤§ä¼šã‚„ã‚¿ã‚¤ãƒ ãªã©ã‚’å‚ç…§ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\nå¤ä»¥é™ã‚‚ãŸãã•ã‚“ã®å¤§ä¼šãŒã‚ã£ãŸã®ã§ã™ãŒã€æ®‹å¿µãªãŒã‚‰äºˆå®šãŒåˆã‚ãšå‚åŠ ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚\næ¥å¹´ã¯è¨˜éŒ²ä¼šã§ã¯ãªãã‚¹ãƒ†ãƒ¼ã‚¸åˆ¶ã®å¤§ä¼šã«å‚åŠ ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nã¾ã¨ã‚ å€‹äººçš„ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¼ãƒ–å…ƒå¹´ã® 2019 å¹´ãµã‚Šã‹ãˆã‚Šã€‚ä»Šå›ã¯ç«¶æŠ€ç·¨ã¨ã„ã†ã“ã¨ã§ã€ã‚¿ã‚¤ãƒ ã‚„è¦šãˆãŸæ‰‹é †ã€å‚åŠ ã—ãŸå¤§ä¼šãƒ»ã‚¤ãƒ™ãƒ³ãƒˆãªã©ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã£ã¦ã¿ã¾ã—ãŸã€‚\n1 å¹´é–“ã§ã®ä¼¸ã³ã¨ã—ã¦ã¯ç·©ã‚„ã‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ç¢ºå®Ÿã«ã‚¿ã‚¤ãƒ ã¯ç¸®ã¾ã£ã¦ãã¦ã„ã¾ã™ã€‚\n2020 å¹´ã¯ã•ã‚‰ãªã‚‹ã‚¿ã‚¤ãƒ çŸ­ç¸®ã¨ã€å¤§ä¼šã«ã‚‚ã©ã‚“ã©ã‚“å‚åŠ ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nå‰å› æ›¸ã„ãŸã‚ˆã†ã«å®‰ä¾¡ã§é«˜æ©Ÿèƒ½ãªã‚­ãƒ¥ãƒ¼ãƒ–ã‚‚ãŸãã•ã‚“ã‚ã‚‹ã®ã§ã€ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¼ãƒ–å§‹ã‚ã¦ã¿ã¾ã›ã‚“ã‹ã€‚\n",
    "permalink": "https://michimani.net/post/other-speedcube-summary-2019-solve/",
    "title": "2019 å¹´ã®ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¼ãƒ–æ´»å‹•ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã£ã¦ã¿ã‚‹ - ç«¶æŠ€ç·¨"
  },
  {
    "contents": "ä¸»ã«æŠ€è¡“ãƒ–ãƒ­ã‚°ã‚’æ›¸ãéš›ã«ã€ã‚³ãƒ¼ãƒ‰ã‚„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®å‡ºåŠ›çµæœã‚’ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã¨ã—ã¦è¡¨ç¤ºã—ãŸã„å ´é¢ãŒã‚ã‚Šã¾ã™ã€‚ ä»Šå›ã¯ã€ Hugo ã§ä½œæˆã—ãŸãƒ–ãƒ­ã‚°ã®è¨˜äº‹å†…ã§ã€ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã«è‰¯ã„æ„Ÿã˜ã« Syntax Highlight CSS ã‚’å½“ã¦ã‚‹æ–¹æ³•ã‚’æ•´ç†ã—ã¦ã¿ã¾ã™ã€‚\nå‰æ Hugo ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ : 0.60.0 ä»¥é™ Markdown parser : goldmark\nHugo ã® Markdown parser ã¯ã€ 0.60.0 ä»¥é™ã€ãã‚Œä»¥å‰ã® blackfriday ã‹ã‚‰ goldmark ã«å¤‰æ›´ã•ã‚Œã¦ãŠã‚Šã€ blackfriday ã‚’ä½¿ç”¨ã—ãŸã„å ´åˆã¯ config.toml ã«ã¦æ˜ç¤ºçš„ã«æŒ‡å®šã—ãªã‘ã‚Œã°ã„ã‘ãªããªã‚Šã¾ã—ãŸã€‚ Configure Markup | Hugo ä½¿ç”¨ã™ã‚‹ theme : indigo\nâ€»ã“ã“ã¯å®Ÿéš›ã«ä½¿ç”¨ã—ã¦ã„ã‚‹ theme ã«é©å®œç½®ãæ›ãˆã¦èª­ã‚“ã§ãã ã•ã„ Syntax Highlight ç”¨ã® CSS ã‚’ç”Ÿæˆã™ã‚‹ ã¾ãšã¯ Syntax Highlight ç”¨ã® CSS ã‚’ç”Ÿæˆã—ã¾ã™ã€‚\nã¨ã„ã£ã¦ã‚‚ã€ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã ã‘ã§ã™ã€‚\n$ hugo gen chromastyles --style=github \u0026gt; ./static/css/syntax.css ã‚ã¨ã¯ã€ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€ã‚ˆã†ã« ./themes/indigo/layouts/partials/head.html å†…ã«ä¸‹è¨˜ã‚’è¿½è¨˜ã—ã¾ã™ã€‚\n\u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;{{ .Site.BaseURL }}css/syntax.css\u0026#34; /\u0026gt; ä»¥ä¸Šã§ Syntax Highlight ã®æº–å‚™ãŒæ•´ã„ã¾ã—ãŸã€‚\nChroma Style Gallery CSS ç”Ÿæˆã‚³ãƒãƒ³ãƒ‰ã® --style=github ã®éƒ¨åˆ†ã§ã€ Syntax Highlight ã®ã‚¹ã‚¿ã‚¤ãƒ« (Chroma Style) ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚ã“ã®éƒ¨åˆ†ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§ã€ã•ã¾ã–ã¾ãªã‚¹ã‚¿ã‚¤ãƒ«ã® Syntax Highlight ã‚’è¡¨ç¾ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã‚¹ã‚¿ã‚¤ãƒ«ã®ä¸€è¦§ã¯ Chroma Style Gallery ã§ç¢ºèªã§ãã‚‹ã®ã§ã€å¥½ã¿ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æ¢ã—ã¦ --style ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã—ã¾ã™ã€‚\nMarkdown ã§è£…é£¾ã™ã‚‹ Markdown ã§ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’è¡¨ç¾ã™ã‚‹éš›ã«ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã€‚ (Python ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å ´åˆ)\n```python import json def lambda_handler(event, context): # TODO implement return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;body\u0026#39;: json.dumps(\u0026#39;Hello from Lambda!\u0026#39;) } ```ã€€ä¸Šã® Markdown ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nimport json def lambda_handler(event, context): # TODO implement return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;body\u0026#39;: json.dumps(\u0026#39;Hello from Lambda!\u0026#39;) } Hugo ã§ã¯ã€è¡Œç•ªå·ã‚’è¡¨ç¤ºã—ãŸã‚Šã€ç‰¹å®šã®è¡Œã«ç¶²æ›ã‘ã‚’ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nè¡Œç•ªå·ã‚’è¡¨ç¤ºã™ã‚‹ è¡Œç•ªå·ã‚’è¡¨ç¤ºã—ãŸã„å ´åˆã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªè¨˜è¿°ã‚’ã—ã¾ã™ã€‚\n```python {linenos=true} import json def lambda_handler(event, context): # TODO implement return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;body\u0026#39;: json.dumps(\u0026#39;Hello from Lambda!\u0026#39;) } ```ã€€ä¸Šã® Markdown ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n1import json 2 3def lambda_handler(event, context): 4 # TODO implement 5 return { 6 \u0026#39;statusCode\u0026#39;: 200, 7 \u0026#39;body\u0026#39;: json.dumps(\u0026#39;Hello from Lambda!\u0026#39;) 8 } ç‰¹å®šã®è¡Œã«ç¶²æ›ã‘ã‚’ã¤ã‘ã‚‹ ç‰¹å®šã®è¡Œã«ç¶²æ›ã‘ã‚’ã¤ã‘ãŸã„å ´åˆã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªè¨˜è¿°ã‚’ã—ã¾ã™ã€‚\n```python {hl_lines=[1, 3, \u0026#34;5-8\u0026#34;]} import json def lambda_handler(event, context): # TODO implement return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;body\u0026#39;: json.dumps(\u0026#39;Hello from Lambda!\u0026#39;) } ```ã€€ä¸Šã® Markdown ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nimport json def lambda_handler(event, context): # TODO implement return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;body\u0026#39;: json.dumps(\u0026#39;Hello from Lambda!\u0026#39;) } ã‚‚ã¡ã‚ã‚“ã€è¡Œç•ªå·è¡¨ç¤ºã¨ã®ä½µç”¨ã‚‚å¯èƒ½ã§ã™ã€‚\n```python {linenos=true, hl_lines=[1, 3, \u0026#34;5-8\u0026#34;]} import json def lambda_handler(event, context): # TODO implement return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;body\u0026#39;: json.dumps(\u0026#39;Hello from Lambda!\u0026#39;) } ```ã€€1import json 2 3def lambda_handler(event, context): 4 # TODO implement 5 return { 6 \u0026#39;statusCode\u0026#39;: 200, 7 \u0026#39;body\u0026#39;: json.dumps(\u0026#39;Hello from Lambda!\u0026#39;) 8 } â€»Syntax Highlight ã®ãƒ†ãƒ¼ãƒã«ã‚ˆã£ã¦ã¯ç¶²æ›ã‘ã§è¦‹è¾›ããªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™\nã¾ãŸã€ Syntax Highlight ã«å¯¾å¿œã—ãŸè¨€èªã¨ãã®æŒ‡å®šæ–¹æ³•ã«ã¤ã„ã¦ã¯ Hugo ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚\nSyntax Highlighting | Hugo ã¾ã¨ã‚ Hugo ã§ä½œæˆã—ãŸãƒ–ãƒ­ã‚°ã®è¨˜äº‹å†…ã§ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã«è‰¯ã„æ„Ÿã˜ã« Syntax Highlight CSS ã‚’å½“ã¦ã‚‹æ–¹æ³•ã«ã¤ã„ã¦æ•´ç†ã—ã¦ã¿ã¾ã—ãŸã€‚\né™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã¯ Markdown ã§ç°¡å˜ã«è¨˜äº‹ãŒä½œæˆã§ãã‚‹åˆ†ã€ã¡ã‚‡ã£ã¨ã—ãŸè£…é£¾ã‚„è¦‹ãŸç›®ã®ã‚«ã‚¹ã‚¿ãƒ ãŒåœ°å‘³ã«é¢å€’ã ã£ãŸã‚Šã—ã¾ã™ã€‚ Hugo ã®ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã«ã¤ã„ã¦ã‚‚ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 0.60.0 ã‚ˆã‚Šå‰ã§ã¯è‡ªåˆ†ã§ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œã£ã¦å¯¾å¿œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚\nãã‚ŒãŒ 0.60.0 ä»¥é™ã§ã¯ä»Šå›ã®ã‚ˆã†ã«ç°¡å˜ã«ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’è£…é£¾ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€ç‰¹ã«æŠ€è¡“ãƒ–ãƒ­ã‚°ã§ã¯æ©æµã‚’å—ã‘ã‚‰ã‚Œã‚‹ã¨æ€ã„ã¾ã™ã€‚\nMarkdown ã§ãƒ–ãƒ­ã‚°ã‹èããŸã„ã‘ã©ã€ã¯ã¦ãªã¨ã‹ WordPress ã¯ç·¨é›†ç”»é¢ãŒã‚‚ãŸã¤ãã—ã€ãã‚‚ãã‚‚ãƒšãƒ¼ã‚¸ã®è¡¨ç¤ºã‚‚é«˜é€Ÿã«ã—ãŸã„ï¼ã¨ã„ã†æ–¹ã¯ãœã² Hugo ã§ãƒ–ãƒ­ã‚°æ›¸ãã¾ã—ã‚‡ã†ã€‚\n",
    "permalink": "https://michimani.net/post/development-hugo-syntax-highlight/",
    "title": "Hugo ã§ä½œæˆã—ãŸè¨˜äº‹å†…ã®ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã« Syntax Highlight CSS ã‚’å½“ã¦ã‚‹"
  },
  {
    "contents": "å»å¹´ã® 11 æœˆé ƒã€é«˜æ ¡ 3 å¹´ã®ã¨ãä»¥é™ã»ã¼æ”¾ç½®ã—ã¦ã„ãŸãƒ«ãƒ¼ãƒ“ãƒƒã‚¯ã‚­ãƒ¥ãƒ¼ãƒ–ã‚’å†ã³å›ã—å§‹ã‚ã¾ã—ãŸã€‚ãã—ã¦ GAN354 M ã¨ã„ã†ã€å½“æ™‚ã®é«˜æ€§èƒ½ã‚­ãƒ¥ãƒ¼ãƒ–ã‚’è³¼å…¥ã—ã€ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¼ãƒ–ã®ä¸–ç•Œã«é£›ã³è¾¼ã¿ã¾ã—ãŸã€‚\n2019 å¹´ã¯ã‚ã‚‹æ„å‘³ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¼ãƒ–å…ƒå¹´ã¨è¨€ã£ã¦ã„ã„ãã‚‰ã„ã‚­ãƒ¥ãƒ¼ãƒ–ã«è§¦ã‚Œã¦ã„ãŸå¹´ã ã£ãŸã®ã§ã€å¹´ã®ç€¬ã®ã“ã®æ™‚æœŸã«è‰²ã€…ã¨æŒ¯ã‚Šè¿”ã£ã¦ã¿ã¾ã™ã€‚\né•·ããªã‚Šãã†ãªã®ã§ã€ã“ã®è¨˜äº‹ã§ã¯ä»Šå¹´è²·ã£ãŸã‚­ãƒ¥ãƒ¼ãƒ–ã®ç´¹ä»‹ã‚’ã—ã¾ã™ã€‚\nç›®æ¬¡ æ°—ä»˜ã„ãŸã‚‰ã„ã£ã±ã„è²·ã£ã¦ãŸ å„ã‚­ãƒ¥ãƒ¼ãƒ–ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ GAN356 X Numerical IPG Stickerless GAN249 M V2 Stickerless GAN354 M Stickerless GAN356 i Stickerless GAN356 XS Stickerless QiYi Thunderclap 3x3x3 V3 M Stickerless YuXin HuangLong 3x3x3 M DaYan GuHong V3 M Stickerless ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ã‚¿ã‚¤ãƒ—ã¨ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ãƒ¬ã‚¹ã‚¿ã‚¤ãƒ— ã¾ã¨ã‚ æ°—ä»˜ã„ãŸã‚‰ã„ã£ã±ã„è²·ã£ã¦ãŸ ä»Šå¹´ã¯ãŸãã•ã‚“ã®ã‚­ãƒ¥ãƒ¼ãƒ–ã‚’è²·ã„ã¾ã—ãŸã€‚\næ˜¨å¹´è²·ã£ãŸ GAN354 M ã‚‚ã‹ãªã‚Šé«˜æ€§èƒ½ãªã‚­ãƒ¥ãƒ¼ãƒ–ã§æ„Ÿå‹•ã—ã¦ã„ã¾ã—ãŸãŒã€ãã‚Œã‚’ä¸Šå›ã‚‹ã‚ˆã†ãªé«˜æ€§èƒ½ã‚­ãƒ¥ãƒ¼ãƒ–ã€ã‚¹ãƒãƒ›ã¨é€£å‹•ã™ã‚‹ã‚¹ãƒãƒ¼ãƒˆã‚­ãƒ¥ãƒ¼ãƒ–ãªã©ãªã©ãƒãƒ©ã‚¨ãƒ†ã‚£ã«å¯Œã‚“ã ã‚­ãƒ¥ãƒ¼ãƒ–ã‚’æ¬¡ã€…ã¨è²·ã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚ä¸‹è¨˜ã® 8 ç¨®é¡ã§ã™ã€‚\nGAN356 X Numerical IPG Stickerless GAN249 M V2 Stickerless GAN354 M Stickerless GAN356 i Stickerless GAN356 XS Stickerless QiYi Thunderclap 3x3x3 V3 M Stickerless YuXin HuangLong 3x3x3 M DaYan GuHong V3 M Stickerless (è³¼å…¥é †)\n3x3x3 ãŒ 7 ç¨®é¡ã€ 2x2x2 ãŒ 1 ç¨®é¡ã§ã™ã€‚\nGAN ã‚·ãƒªãƒ¼ã‚ºã«ã¤ã„ã¦ã¯ã€æ¬¡ã€…ã«é¢ç™½ãã†ãªã‚­ãƒ¥ãƒ¼ãƒ–ãŒç™»å ´ã—ãŸã®ã§ã¤ã„ã¤ã„ãƒãƒã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚\nãŸãã•ã‚“ã‚ã‚Šã¾ã™ãŒã€ãã‚Œãã‚Œã®ç‰¹å¾´ã¨å›ã—å¿ƒåœ°ã«ã¤ã„ã¦ç°¡å˜ã«ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã„ãã¾ã™ã€‚\nå„ã‚­ãƒ¥ãƒ¼ãƒ–ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ ä»Šå¹´è²·ã£ãŸã‚­ãƒ¥ãƒ¼ãƒ–ã«ã¤ã„ã¦ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã„ãã¾ã™ã€‚\nãªãŠã€å„ã‚­ãƒ¥ãƒ¼ãƒ–ã«ã¤ã„ã¦ã¯ triboxã‚¹ãƒˆã‚¢ ã¾ãŸã¯ smartship store - ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¼ãƒ–å‘ã‘ãƒ‘ã‚ºãƒ«ãƒ»ç«‹ä½“ãƒ‘ã‚ºãƒ«è²©å£²åº— ã§è³¼å…¥ã„ãŸã—ã¾ã—ãŸã€‚\nã©ã¡ã‚‰ã®ã‚·ãƒ§ãƒƒãƒ—ã‚‚æ³¨æ–‡ã‹ã‚‰ç™ºé€ã¾ã§ã®ã‚¹ãƒ”ãƒ¼ãƒ‰ãŒæ—©ãã€å–ã‚Šæ‰±ã£ã¦ã„ã‚‹ã‚­ãƒ¥ãƒ¼ãƒ– (ã«é™ã‚‰ãšç«‹ä½“ãƒ‘ã‚ºãƒ«å…¨èˆ¬) ã®ç¨®é¡ãŒè±Šå¯Œã§ã™ã€‚\nGAN356 X Numerical IPG Stickerless ä¸€ç•ªã®ç‰¹å¾´ã¯ã€ãƒãƒã®èª¿æ•´æ®µéšãŒ 3 æ®µéšã§è¨­å®šã§ãã‚‹ã“ã¨ã¨ã€ç£åŠ›ã®å¼·ã•ã‚’å¤‰æ›´ã§ãã‚‹ã“ã¨ã§ã™ã€‚\nã¾ãšãƒãƒã®èª¿æ•´ã«ã¤ã„ã¦ã€‚\nã“ã‚Œã¾ã§å„ã‚­ãƒ¥ãƒ¼ãƒ–ã«ã¯ãƒãƒã®èª¿æ•´æ©Ÿæ§‹ã¯ã‚ã£ãŸã‚‚ã®ã®ã€å˜ã«ãƒã‚¸ã‚’å›ã™ã ã‘ã®ã‚‚ã®ãŒå¤šãã€ãã®èª¿æ•´æ®µéšã¯ç„¡æ®µéšã§ã—ãŸã€‚ç„¡æ®µéšã¨ã„ã†ã“ã¨ã§å¾®èª¿æ•´ãŒã§ãã‚‹ã¨ã„ã†ãƒ¡ãƒªãƒƒãƒˆã¯ã‚ã‚Šã¾ã™ãŒã€ 6 é¢åˆ†ã™ã¹ã¦ã®ãƒãƒã®å¼·ã•ã‚’å‡ä¸€ã«èª¿æ•´ã™ã‚‹ã“ã¨ã¯éå¸¸ã«é›£ã—ã„ã§ã™ã€‚\nGAN356 X ã§ã¯ã€å›ºå®šã®æ®µéšæ•°ã«ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦å„é¢ã®ãƒãƒã®èª¿æ•´ãŒå‡ä¸€ã«ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\næ¬¡ã«ç£åŠ›ã®èª¿æ•´ã«ã¤ã„ã¦ã€‚\nã‚­ãƒ¥ãƒ¼ãƒ–ã®å›è»¢é¢ã«ãƒã‚°ãƒãƒƒãƒˆãŒæ­è¼‰ã•ã‚Œã¦ãŠã‚Šã€å›è»¢ã‚’ã‚¢ã‚·ã‚¹ãƒˆã—ã¦ãã‚Œã‚‹ã‚ˆã†ãªã‚­ãƒ¥ãƒ¼ãƒ–ã¯ãŸãã•ã‚“ã‚ã‚Šã¾ã™ã€‚ãŒã€ GAN356 X ã§ã¯ãã®ãƒã‚°ãƒãƒƒãƒˆã‚¢ã‚·ã‚¹ãƒˆã®ç£åŠ›ã‚’èª¿æ•´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nãƒãƒã¨ç£åŠ›ã€åŒæ–¹ãŒã‚ã‚‰ã‹ã˜ã‚ç”¨æ„ã•ã‚ŒãŸæ®µéšã§èª¿æ•´ãŒå¯èƒ½ãªã®ã§ã€ã‚ˆã‚Šå®‰å®šã—ãŸè¨­å®šã‚’å®Ÿç¾ã—ãŸã‚Šã€ä»–ã®äººã¨åŒã˜è¨­å®šã‚’å†ç¾ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒç°¡å˜ã«ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nå‚è€ƒä¾¡æ ¼ï¼š 6,900 å††\nGAN249 M V2 Stickerless åˆã‚ã¦ã® 2x2x2 ã‚­ãƒ¥ãƒ¼ãƒ–ãªã®ã§ä»–ã®ã‚­ãƒ¥ãƒ¼ãƒ–ã¨ã®æ¯”è¼ƒã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€ãƒã‚°ãƒãƒƒãƒˆã‚¢ã‚·ã‚¹ãƒˆ (èª¿æ•´ä¸å¯) ä»˜ãã€ãƒãƒã®èª¿æ•´ã‚‚å¯èƒ½ã§ã™ã€‚ ãƒãƒã¯ã€ä»˜å±ã™ã‚‹å°‚ç”¨ã®å·¥å…·ã‚’ä½¿ã£ã¦å…­è§’ã®ãƒ‘ãƒ¼ãƒ„ã‚’å›è»¢ã•ã›ã‚‹ã“ã¨ã§èª¿æ•´å¯èƒ½ã§ã™ã€‚\nå‚è€ƒä¾¡æ ¼ï¼š 2,200 å††\nGAN354 M Stickerless GAN354 M ã¯å»å¹´è²·ã£ãŸã‚“ã§ã™ãŒã€å½“æ™‚ä¸€ç•ªä½¿ã„ã‚„ã™ã„ã‚­ãƒ¥ãƒ¼ãƒ–ã ã£ãŸã®ã§ã€ã‚‚ã†ï¼‘ã¤è³¼å…¥ã—ã¾ã—ãŸã€‚\nè©³ç´°ãªãƒ¬ãƒ“ãƒ¥ãƒ¼ã«ã¤ã„ã¦ã¯éå»ã®è²·ã„ã¦ã„ã‚‹ã®ã§ã€ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n2 å€‹è²·ã†ãã‚‰ã„éå¸¸ã«è‰¯ã„ã‚­ãƒ¥ãƒ¼ãƒ–ã§ã™ã€‚\nåå‰ã®é€šã‚Šç´„ 54 mm ã¨å°‘ã—å°ã•ã‚ãªã®ã§ã€æ‰‹ã®å°ã•ã„è‡ªåˆ†ã«ã¯ãƒãƒƒãƒã—ã¦ã„ã¾ã™ã€‚\nãŸã ã—ã€ãƒãƒã®èª¿æ•´ã«é–¢ã—ã¦ã¯ç„¡æ®µéšã®ãŸã‚å„é¢ã§å‡ä¸€ã«èª¿æ•´ã™ã‚‹ã“ã¨ãŒé›£ã—ã„ã§ã™ãŒã€ãƒãƒƒãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ãã“ãã‚‰ã„ã§ã™ã€‚\nå‚è€ƒä¾¡æ ¼ï¼š 4,700 å††\nGAN356 i Stickerless ãƒ‘ãƒƒã¨è¦‹ã§ä»–ã®ã‚­ãƒ¥ãƒ¼ãƒ–ã¨é•ã†ã®ã¯ã€å……é›»ã‚¯ãƒ¬ãƒ¼ãƒ‰ãƒ«ã«ä¹—ã£ã¦ã„ã‚‹ã¨ã„ã†ã¨ã“ã‚ã§ã™ã€‚\nGAN356 i ã¯ã‚¹ãƒãƒ›ã‚¢ãƒ—ãƒªã¨é€£å‹•ã™ã‚‹ã‚¹ãƒãƒ¼ãƒˆã‚­ãƒ¥ãƒ¼ãƒ–ã§ã€ã‚¿ã‚¤ãƒ è¨ˆæ¸¬ã¯ã‚‚ã¡ã‚ã‚“ã€ã‚½ãƒ«ãƒ–æ™‚ã®å„ãƒ•ã‚§ãƒ¼ã‚ºã§ã‹ã‹ã£ãŸæ™‚é–“ã€æ‰‹æ•°ã€å›è»¢ã®ã‚¹ãƒ ãƒ¼ã‚ºã•ãªã©ã‚’æ•°å€¤ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã“ã‚ŒãŒã‚¹ãƒãƒ¼ãƒˆã‚­ãƒ¥ãƒ¼ãƒ–...å‡„ã„ï¼ pic.twitter.com/6y7yZACqz0\n\u0026mdash; ã‚ˆã£ã—ãƒ¼@CBR853RR (@michimani210) September 28, 2019 åŸºæœ¬çš„ãªæ§‹é€ ã¯ GAN356 X ã¨åŒã˜ã§ã™ãŒã€ä¸‹è¨˜ãŒç•°ãªã‚Šã¾ã™ã€‚\nãƒãƒã®èª¿æ•´ãŒ 2 æ®µéšã§ã‚ã‚‹ã“ã¨ ç£åŠ›ã®èª¿æ•´ã¯ã§ããªã„ã“ã¨ è¡¨é¢ãŒãƒãƒƒãƒˆåŠ å·¥ã•ã‚Œã¦ã„ã‚‹ã“ã¨ ã‚ãã¾ã§ã‚‚ã“ã‚Œã¯ã‚¹ãƒãƒ›ã¨é€£å‹•ã•ã›ã¦æ¥½ã—ã‚€ã‚­ãƒ¥ãƒ¼ãƒ–ã§ã™ã€‚\nå‚è€ƒä¾¡æ ¼ï¼š 8,800 å††\nGAN356 XS Stickerless GAN356 X ã®å¾Œç¶™ãƒ¢ãƒ‡ãƒ«ã«ã‚ãŸã‚‹ã‚­ãƒ¥ãƒ¼ãƒ–ã§ã€ãƒãƒã®èª¿æ•´ã€ç£åŠ›ã®èª¿æ•´ã€å†…éƒ¨æ§‹é€ ãŒãƒ‘ãƒ¯ãƒ¼ã‚¢ãƒƒãƒ—ã—ã¦ã„ã¾ã™ã€‚\nã¾ãšãƒãƒã®èª¿æ•´ã«ã¤ã„ã¦ã€‚\nGAN356 X ã¨åŒæ§˜ã«ã‚ã‚‰ã‹ã˜ã‚è¨­å®šã•ã‚ŒãŸæ®µéšã§è¨­å®šãŒå¯èƒ½ã«ãªã£ã¦ã„ã¾ã™ãŒã€èª¿æ•´æ–¹æ³•ãŒå¤‰ã‚ã£ã¦ã„ã¾ã™ã€‚\nGAN356 X ã§ã¯ GES ã¨ã„ã†ãƒ‘ãƒ¼ãƒ„ã‚’ç”¨ã„ã¦ã€ 12 æ®µéšã§èª¿æ•´ãŒå¯èƒ½ã§ã—ãŸã€‚ GAN356 SX ã§ã¯ æ–°ãŸã«æ¡ç”¨ã•ã‚ŒãŸ GES Pro ã¨ã„ã†ãƒ‘ãƒ¼ãƒ„ã‚’ç”¨ã„ã¦ã€ 24 æ®µéšã§èª¿æ•´ãŒå¯èƒ½ã«ãªã£ã¦ã„ã¾ã™ã€‚\næ¬¡ã«ç£åŠ›ã®èª¿æ•´ã«ã¤ã„ã¦ã€‚\nGAN356 X ã§ã¯ã€ãƒã‚°ãƒãƒƒãƒˆãƒ‘ãƒ¼ãƒ„ã‚’åˆ¥ã®å¼·ã•ã®é•ã†ã‚‚ã®ã¨å…¥ã‚Œæ›¿ãˆã¦èª¿æ•´ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã—ãŸã€‚GAN356 XS ã§ã¯åˆ¥ãƒ‘ãƒ¼ãƒ„ã¯ä¸è¦ã«ãªã‚Šã€ã‚­ãƒ¥ãƒ¼ãƒ–æœ¬ä½“ã«ã¤ã„ã¦ã„ã‚‹ãƒã‚°ãƒãƒƒãƒˆãƒ‘ãƒ¼ãƒ„éƒ¨åˆ†ã‚’ å†… ã¾ãŸã¯ å¤– ã«ç§»å‹•ã•ã›ã‚‹ã“ã¨ã§å¼·ã•ã‚’èª¿æ•´ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nä¸‹è¨˜ãŒ GAN356 X ã‹ã‚‰ã®é•ã„ã«ãªã‚Šã¾ã™ã€‚\nãƒãƒã®èª¿æ•´ãŒã‚ˆã‚Šç´°ã‚„ã‹ã« ç£åŠ›ã®èª¿æ•´ã«åˆ¥ãƒ‘ãƒ¼ãƒ„ãŒä¸è¦ã« å†…éƒ¨æ§‹é€ ã®å¤‰æ›´ è¡¨é¢ãŒãƒãƒƒãƒˆåŠ å·¥ã•ã‚Œã¦ã„ã‚‹ ã‹ãªã‚Šè»½ã„ å†¬ã«æ‰‹ãŒä¹¾ç‡¥ã™ã‚‹èº«ã¨ã—ã¦ã¯è¡¨é¢ã®ãƒãƒƒãƒˆåŠ å·¥ãŒè¾›ã„ã§ã™ãŒã€ç¾æ™‚ç‚¹ã§ã¯ä¸€ç•ªå›ã—ã‚„ã™ã„ã‚­ãƒ¥ãƒ¼ãƒ–ã§ã€å˜ç™ºã§å‡ºãŸã‚¿ã‚¤ãƒ  (éå…¬å¼) ã‚‚ä¸€ç•ªæ—©ã„ã§ã™ã€‚\nå‚è€ƒä¾¡æ ¼ï¼š 6,545 å††\nQiYi Thunderclap 3x3x3 V3 M Stickerless å®‰ä¾¡ã§ãƒã‚°ãƒãƒƒãƒˆã‚¢ã‚·ã‚¹ãƒˆãŒä»˜ã„ã¦ã„ã‚‹ã‚­ãƒ¥ãƒ¼ãƒ–ã§ã™ã€‚\nGAN ã‚·ãƒªãƒ¼ã‚ºã®ã‚ˆã†ã«ãƒãƒèª¿æ•´ãŒãƒãƒ¼ãƒ— (ãƒ—ãƒ©ã‚¹ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã§ã®èª¿æ•´) ã ã£ãŸã‚Šã€ç£åŠ›ã®èª¿æ•´ãŒãªã‹ã£ãŸã‚Šã—ã¾ã™ãŒã€å›ã—å¿ƒåœ°ã¯éå¸¸ã«è‰¯ã„ã§ã™ã€‚\nGAN ã‚·ãƒªãƒ¼ã‚ºã¯ã‚³ãƒ¼ãƒŠãƒ¼ã‚«ãƒƒãƒˆãŒå„ªç§€ã§ã€ã‚ã‚‹ç¨‹åº¦ç„¡ç†ãªä½ç½®ã§ã‚ã£ã¦ã‚‚å›è»¢ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ãŒã€Thunderclap ã¯ãã‚Œã‚‰ã«æ¯”ã¹ã‚‹ã¨ã—ã£ã‹ã‚Šã¨ã—ãŸä½ç½®ã«æŒã£ã¦ã„ã£ã¦ã‹ã‚‰ã§ãªã„ã¨å›è»¢ã•ã›ã‚‹ã“ã¨ãŒã§ããªã„ã¨ã„ã†å°è±¡ã§ã™ã€‚\nã“ã‚Œã¾ã§ GAN ã‚·ãƒªãƒ¼ã‚ºã°ã‹ã‚Šä½¿ã£ã¦ã„ãŸã®ã§æ„Ÿè¦šã¯ã‹ãªã‚Šé•ã„ã¾ã™ãŒã€ã ã‹ã‚‰ã¨è¨€ã£ã¦ã‚¿ã‚¤ãƒ ãŒå…¨ç„¶å‡ºãªã„è¨³ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\næ°—åˆ†è»¢æ›ã«å›ã—ã¦ã„ã¾ã™ã€‚\nå¤§ãã•ã¯ã€ GAN354 M ã‚ˆã‚Šã‚‚è‹¥å¹²å¤§ããã€ GAN356 X (XS) ã‚ˆã‚Šã¯å°ã•ã„ãã‚‰ã„ã§ã™ã€‚\nå‚è€ƒä¾¡æ ¼ï¼š 1,265 å††\nYuXin HuangLong 3x3x3 M è²·ã£ãŸã‚­ãƒ¥ãƒ¼ãƒ–ã®ä¸­ã§ã€å”¯ä¸€ã®ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ã‚¿ã‚¤ãƒ—ã®ã‚­ãƒ¥ãƒ¼ãƒ–ã§ã™ã€‚\nã“ã¡ã‚‰ã‚‚å®‰ä¾¡ã§ãƒã‚°ãƒãƒƒãƒˆã‚¢ã‚·ã‚¹ãƒˆãŒä»˜ã„ã¦ã„ã‚‹ã‚­ãƒ¥ãƒ¼ãƒ–ã§ã€ç£åŠ›ã®èª¿æ•´ã¯ä¸å¯ã€ãƒãƒã®èª¿æ•´ã¯ãƒ—ãƒ©ã‚¹ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã§è¡Œã„ã¾ã™ã€‚\nå›ã—å¿ƒåœ°ã¨ã—ã¦ã¯ã€ Thunderclap ã¨åŒæ§˜ã«ã—ã£ã‹ã‚Šã¨å›ã•ãªã„ã¨ã„ã‘ãªã„ã¨ã„ã†å°è±¡ã§ã™ãŒã€ã“ã®ä¾¡æ ¼ã§ãƒã‚°ãƒãƒƒãƒˆã‚¢ã‚·ã‚¹ãƒˆä»˜ãã¨è€ƒãˆã‚‹ã¨ã€è‰¯ã„ã‚­ãƒ¥ãƒ¼ãƒ–ã ã¨æ€ã„ã¾ã™ã€‚\nãŸã ã€ã‚„ã¯ã‚Šè‡ªåˆ†ã«ã¯ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ãƒ¬ã‚¹ã®ã‚­ãƒ¥ãƒ¼ãƒ–ãŒåˆã£ã¦ã„ã‚‹ãªã¨æ€ã„ã¾ã—ãŸã€‚\nå¤§ãã•ã¯ã€ GAN354 M ã‚ˆã‚Šã‚‚è‹¥å¹²å¤§ããã€ GAN356 X (XS) ã‚ˆã‚Šã¯å°ã•ã„ãã‚‰ã„ã§ã™ã€‚\nå‚è€ƒä¾¡æ ¼ï¼š 2,200 å††\nDaYan GuHong V3 M Stickerless ã“ã¡ã‚‰ã‚‚å®‰ä¾¡ã§ãƒã‚°ãƒãƒƒãƒˆã‚¢ã‚·ã‚¹ãƒˆãŒä»˜ã„ã¦ã„ã‚‹ã‚­ãƒ¥ãƒ¼ãƒ–ã§ã€ç£åŠ›ã®èª¿æ•´ã¯ä¸å¯ã€ãƒãƒã®èª¿æ•´ã¯ãƒ—ãƒ©ã‚¹ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã§è¡Œã„ã¾ã™ã€‚\nã„ã¾ä¸–ã«å‡ºã¦ã„ã‚‹ã‚­ãƒ¥ãƒ¼ãƒ–ã®ä¸­ã§ã€å›ã—ã¦ã„ã‚‹æ™‚ã®éŸ³ãŒæœ€ã‚‚é™ã‹ã ã¨è¨€ã‚ã‚Œã¦ã„ã‚‹ã‚­ãƒ¥ãƒ¼ãƒ– () ã®å»‰ä¾¡ç‰ˆã«ã‚ãŸã‚Šã¾ã™ã€‚\nå»‰ä¾¡ç‰ˆã¨ã¯ã„ãˆç¢ºã‹ã«éŸ³ã¯é™ã‹ã§ã€æŒã£ã¦ã„ã‚‹ã‚­ãƒ¥ãƒ¼ãƒ–ã®ä¸­ã§ã‚‚ä¸€ç•ªéŸ³ãŒé™ã‹ã§ã™ã€‚\nå¤§ãã•ã¯ GAN354 M ã¨åŒã˜ãã‚‰ã„ã®å¤§ãã•ã§ã™ã€‚\nå‚è€ƒä¾¡æ ¼ï¼š 1,375 å††\nã‚¹ãƒ†ãƒƒã‚«ãƒ¼ã‚¿ã‚¤ãƒ—ã¨ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ãƒ¬ã‚¹ã‚¿ã‚¤ãƒ— ä»Šå¹´è²·ã£ãŸã‚­ãƒ¥ãƒ¼ãƒ–ã®ã†ã¡ã€ YuXin HuangLong 3x3x3 M ã ã‘ãŒ ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ã‚¿ã‚¤ãƒ— ã§ã€æ®‹ã‚Šã¯å…¨ã¦ ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ãƒ¬ã‚¹ã‚¿ã‚¤ãƒ— ã§ã™ã€‚\né•ã„ã¨ã—ã¦ã¯å„é¢ã®è‰²ã®ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ãŒè²¼ã£ã¦ã‚ã‚‹ã®ã‹ã€ã‚­ãƒ¥ãƒ¼ãƒ–ãã®ã‚‚ã®ã«è‰²ãŒã¤ã„ã¦ã„ã‚‹ã®ã‹ã¨ã„ã†é•ã„ã§ã™ã€‚\nã“ã‚Œã«ã‚ˆã£ã¦ã€æ‰‹è§¦ã‚Šã¨è¦‹ãˆã‚‹è‰²ã«é•ã„ãŒå‡ºã¦ãã¾ã™ã€‚\nç‰¹ã« è¦‹ãˆã‚‹è‰² ã«ã¤ã„ã¦ã¯ã‚¿ã‚¤ãƒ ã«å¤§ããé–¢ã‚ã£ã¦ãã‚‹è¦ç´ ã ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\nã‚¹ãƒ†ãƒƒã‚«ãƒ¼ã‚¿ã‚¤ãƒ—ã¯ã€é»’ã®ã‚­ãƒ¥ãƒ¼ãƒ–ã«å„è‰²ã®ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ãŒè²¼ã£ã¦ã‚ã‚Šã¾ã™ã€‚ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ã¯å„é¢ã®ç¸ã¾ã§è¦†ã£ã¦ã„ã‚‹è¨³ã§ã¯ãªãã€ä¸‹åœ°ã®é»’ã®éƒ¨åˆ†ãŒæ®‹ã£ã¦ã„ã‚‹ã®ãŒæ™®é€šã§ã™ã€‚\nãã®ãŸã‚ã€è¦‹ãˆã¦ã„ã‚‹è‰²ã¯ 6 é¢ã® 6 è‰² ï¼‹ ä¸‹åœ°ã® 1 è‰² ã®å…¨éƒ¨ã§ 7 è‰²ã«ãªã‚Šã¾ã™ã€‚\nã‚¹ãƒ”ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¼ãƒ–ã§ã¯å„è‰²ã‚’ã¿ã¦å…ˆèª­ã¿ã‚’ã—ãŸã‚Šã™ã‚‹ã®ã§ã€ãã®éš›ã«ä¸è¦ãªè‰²ãŒç›®ã«å…¥ã£ã¦ãã‚‹ã¨ãƒã‚¤ã‚ºã«ãªã‚Šã¾ã™ã€‚\nä¸€æ–¹ã§ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ãƒ¬ã‚¹ã‚¿ã‚¤ãƒ—ã§ã¯ã€ã‚­ãƒ¥ãƒ¼ãƒ–æœ¬ä½“ã«è‰²ãŒã¤ã„ã¦ã„ã‚‹ãŸã‚å„é¢ã® 6 è‰²ä»¥å¤–ã®è‰²ã¯å­˜åœ¨ã—ã¾ã›ã‚“ã€‚\nã¾ãŸã€å„é¢ã‚’çœŸæ­£é¢ã‹ã‚‰è¦‹ãŸçŠ¶æ…‹ã§ã‚‚å´é¢ã®è‰²ãŒè‹¥å¹²ã‚ã‹ã‚Šã¾ã™ã€‚\nã‚¹ãƒ†ãƒƒã‚«ãƒ¼ã‚¿ã‚¤ãƒ—ã¨æ¯”ã¹ã‚‹ã¨å„è‰²ã®æ˜åº¦ãŒé«˜ãã€è›å…‰è‰²ã£ã½ããªã£ã¦ã„ã‚‹ã‚‚ã®ãŒã»ã¨ã‚“ã©ã§ã™ã€‚\nã‚¹ãƒ†ãƒƒã‚«ãƒ¼ã‚¿ã‚¤ãƒ—ã¨ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ãƒ¬ã‚¹ã‚¿ã‚¤ãƒ—ã®é•ã„ã¨ã—ã¦ã“ã® è¦‹ãˆã‚‹è‰² ã«ã¤ã„ã¦ã¯éå¸¸ã«å¤§ãã„é•ã„ã§ã™ã€‚ã‚‚ã¡ã‚ã‚“ã€è§¦ã‚Šå¿ƒåœ°ã‚„è‰²ã®æ„Ÿã˜æ–¹ã«ã‚ˆã£ã¦æœ€é©ãªã‚­ãƒ¥ãƒ¼ãƒ–ã¯å¤‰ã‚ã£ã¦ãã¾ã™ãŒã€ã©ã£ã¡ã‚’è²·ãˆã°è‰¯ã„ã‹è¿·ã£ã¦ã„ã‚‹æ–¹ã¯ã¨ã‚Šã‚ãˆãšã‚¹ãƒ†ãƒƒã‚«ãƒ¼ãƒ¬ã‚¹ã‚’è²·ã†ã“ã¨ã‚’ãŠã™ã™ã‚ã—ã¾ã™ã€‚\nã¾ã¨ã‚ 2019 å¹´ã®ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¼ãƒ–æ´»å‹•ã«ã¤ã„ã¦ã€ä»Šå›ã¯ä»Šå¹´è²·ã£ãŸã‚­ãƒ¥ãƒ¼ãƒ–ã®ç´¹ä»‹ã§ã—ãŸã€‚\nå®‰ä¾¡ãªã‚­ãƒ¥ãƒ¼ãƒ–ã‹ã‚‰é«˜æ€§èƒ½ãªã‚­ãƒ¥ãƒ¼ãƒ–ã¾ã§è‰²ã€…è²·ã„ã¾ã—ãŸãŒã€å€‹äººçš„ã«ä½¿ã„ã‚„ã™ã„ã‚­ãƒ¥ãƒ¼ãƒ–ãƒ™ã‚¹ãƒˆ 3 ã¯ã€ 1 ä½ã‹ã‚‰é †ã« GAN356 XS Stickerless ã€ GAN356 X Numerical IPG Stickerless ã€ GAN354 M Stickerless ã§ã™ã€‚\nã‚„ã¯ã‚Š GAN ã‚·ãƒªãƒ¼ã‚ºã®ã‚­ãƒ¥ãƒ¼ãƒ–ã¯ã¨ã¦ã‚‚å›ã—ã‚„ã™ãã€å®Ÿéš›ã«å¥½ã‚¿ã‚¤ãƒ ã‚‚å‡ºã¦ã„ã‚‹ã®ã§è‡ªç„¶ã¨å›ã™æ™‚é–“ã‚‚é•·ããªã£ã¦ã„ã¾ã™ã€‚\nãŸã ã€ã‚­ãƒ¥ãƒ¼ãƒ–ã²ã¨ã¤ã« 4,000 ã€œ 6,000 å††ã¨ã„ã†ã®ã¯ãªã‹ãªã‹ãƒ‘ãƒƒã¨å‡ºã›ã‚‹é‡‘é¡ã§ã¯ãªã„ã®ã§ã€ã¨ã‚Šã‚ãˆãšã‚¹ãƒ”ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¼ãƒ–å§‹ã‚ã¦ã¿ãŸã„ã¨ã„ã†æ–¹ã«ã¯ QiYi Thunderclap 3x3x3 V3 M Stickerless ãŒãŠã™ã™ã‚ã§ã™ã€‚å®Ÿéš›ã€ä»Šå›ç´¹ä»‹ã—ãŸä¸­ã§ 4 ç•ªç›®ã«é¸ã¶ã¨ã—ãŸã‚‰ã“ã®ã‚­ãƒ¥ãƒ¼ãƒ–ã§ã™ã€‚\nåƒå††å°ã§ãƒã‚°ãƒãƒƒãƒˆã‚¢ã‚·ã‚¹ãƒˆã‚‚ã¤ã„ã¦ã€å›ã—å¿ƒåœ°ã‚‚ãƒãƒã®èª¿æ•´æ¬¡ç¬¬ã§è‰¯ã„æ„Ÿã˜ã«ãªã‚‹ã®ã§ã€ã‚³ã‚¹ãƒ‘ã¯ã‹ãªã‚Šé«˜ã„ã§ã™ã€‚\nãŠãã‚‰ãæ¥å¹´ã‚‚ãŸãã•ã‚“ã®æ–°ã—ã„ã‚­ãƒ¥ãƒ¼ãƒ–ãŒç™»å ´ã™ã‚‹ã¨æ€ã†ã®ã§ã€ã‚­ãƒ¥ãƒ¼ãƒ–ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼ã¨ã—ã¦ (?) ã•ã‚‰ã«è‰²ã€…ãªã‚­ãƒ¥ãƒ¼ãƒ–ã‚’è©¦ã—ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/other-speedcube-summary-2019-cube/",
    "title": "2019 å¹´ã®ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¼ãƒ–æ´»å‹•ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã£ã¦ã¿ã‚‹ - è³¼å…¥ã—ãŸã‚­ãƒ¥ãƒ¼ãƒ–ç·¨"
  },
  {
    "contents": "AWS èªå®šè³‡æ ¼ã®ã†ã¡ã€ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆãƒ¬ãƒ™ãƒ«ã® 3 ç¨®é¡ (DVA, SAA, SOA) ã«åˆæ ¼ã—ãŸã®ã§ã€ãã®å‹‰å¼·æ³•ã¨ã‹ã«ã¤ã„ã¦æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nç›®æ¬¡ TL;DR å‰ç½®ã å—é¨“ã—ãŸè©¦é¨“ã«ã¤ã„ã¦ Developer Associate (DVA) SysOps Administrator Associate (SOA) è©¦é¨“å¯¾ç­– (æ˜ç¤ºçš„ãª) å¯¾ç­–æœŸé–“ (æ˜ç¤ºçš„ã§ãªã„) å¯¾ç­–æœŸé–“ ã¾ã¨ã‚ TL;DR Developer Associate (DVA) ã¨ SysOps Administrator Associate (SOA) ã« 1 ãƒ¶æœˆã®å¯¾ç­–ã§åˆæ ¼ã—ã¾ã—ãŸ æ˜ç¤ºçš„ãªè©¦é¨“å¯¾ç­–ä»¥å¤–ã«ã‚‚æ—¥é ƒã‹ã‚‰ã®æƒ…å ±åé›†ãŒå¤§äº‹ æ¥å¹´ã¯ Professional 2 ç¨®é¡ åˆæ ¼ã—ãŸã„ å‰ç½®ã ã‚¿ã‚¤ãƒˆãƒ«ã§ã¯ ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆãƒ¬ãƒ™ãƒ« 3 ç¨®é¡ ã¨æ›¸ã„ã¦ã„ã¾ã™ãŒã€ä»Šå›ã®è¨˜äº‹ã§ã¯ 12 æœˆã«å—é¨“ã—ã¦åˆæ ¼ã—ãŸ Developer Associate (DVA) ã¨ SysOps Administrator Associate (SOA) ã«ã¤ã„ã¦æ›¸ãã¾ã™ã€‚\nSolutions Architect Associate (SAA) ã«ã¤ã„ã¦ã¯ 6 æœˆã«å—é¨“ã—ã¦åˆæ ¼ã—ãŸéš›ã«è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã‚‹ã®ã§ã€ãã¡ã‚‰ã‚‚å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nã¾ãŸã€ AWS èªå®šè³‡æ ¼ãã®ã‚‚ã®ã«ã¤ã„ã¦ã‚‚ä¸Šã®è¨˜äº‹ã§æ›¸ã„ã¦ã¾ã™ã®ã§ã€ä»Šå›ã¯çœç•¥ã—ã¾ã™ã€‚\nå—é¨“ã—ãŸè©¦é¨“ã«ã¤ã„ã¦ ä»Šå›å—é¨“ã—ãŸã®ã¯ Developer Associate (DVA) ã¨ SysOps Administrator Associate (SOA) ã® 2 è©¦é¨“ã§ã™ã€‚\nDVA ã¯é–‹ç™ºè€…å‘ã‘ã€ SOA ã¯é‹ç”¨è€…å‘ã‘ã®è³‡æ ¼è©¦é¨“ã¨ã„ã†æ„Ÿã˜ã§ã™ãŒã€å†…å®¹çš„ã«ã¯ SAA ã¨é‡è¤‡ã™ã‚‹ã‚ˆã†ãªéƒ¨åˆ†ã‚‚å¤šãã‚ã‚Šã¾ã™ã€‚\nã˜ã‚ƒã‚ã€å®Ÿéš›ã«ã©ã®ã‚ãŸã‚ŠãŒé•ã†ã®ã‹ã€ SAA ã¨ã®é•ã„ã€è¿½åŠ ã§è©¦ã•ã‚Œã¦ã„ã‚‹ãªã¨æ€ã£ãŸéƒ¨åˆ†ãªã©ã‚’ã€å€‹äººã®æ„Ÿæƒ³ãƒ¬ãƒ™ãƒ«ã§ã™ãŒæ›¸ã„ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nDeveloper Associate (DVA) é–‹ç™ºè€…å‘ã‘ã®è³‡æ ¼è©¦é¨“ã¨ã„ã†ã“ã¨ã§ã€ AWS ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½¿ã£ãŸé–‹ç™ºã«ãŠã‘ã‚‹å•é¡ŒãŒå‡ºã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nä¾‹ãˆã°ã€\nCLI ã‹ã‚‰ãƒªã‚½ãƒ¼ã‚¹ã‚’æ“ä½œã™ã‚‹ã¨ãã®å…·ä½“çš„ãªã‚³ãƒãƒ³ãƒ‰ DynamoDB ã®ãƒ¦ãƒ‹ãƒƒãƒˆã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ã®è¨ˆç®— ã‚ã‚‹æ“ä½œã‚’ã™ã‚‹éš›ã«å®Ÿè¡Œã™ã¹ã API ãªã©ã€å®Ÿéš›ã«ã‚ã‚‹ç¨‹åº¦ AWS ç’°å¢ƒã§ã®é–‹ç™ºã‚’ã—ã¦ã„ãªã„ã¨ã‚ã‹ã‚‰ãªã„ã‚ˆã†ãªå•é¡ŒãŒå‡ºã¦ãã¾ã™ã€‚\nã¾ãŸå•é¡Œã«ã•ã‚Œã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚‚ã‚ˆã‚Šé–‹ç™ºã«è¿‘ã„ã‚µãƒ¼ãƒ“ã‚¹ã«ãªã£ã¦ã„ãŸã‚Šã€ãã‚Œãã‚Œã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹éš›ã®è©³ã—ã„æ‰‹é †ã‚„å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã®èª²é¡Œè§£æ±ºæ–¹æ³•ãªã©ã‚‚å‡ºã¦ãã¾ã™ã€‚\nä¸‹è¨˜ã¯ã‚µãƒ¼ãƒ“ã‚¹ã¨å•é¡Œã®ä¾‹ã§ã™ã€‚\nSQS åŠ¹ç‡çš„ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å–å¾—æ–¹æ³• Lambda ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œã‚‹æ¡ä»¶ã€åŒæ™‚å®Ÿè¡Œæ•°åˆ¶é™ CodeCommit, CodeBuild, CodeDeploy, CodePipeline å®Ÿè¡Œæ™‚ã®ã‚¨ãƒ©ãƒ¼ç†ç”± (æ¨©é™ä¸è¶³ãªã©) API Gateway è¤‡æ•°ç’°å¢ƒã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ ãªã©ãªã©ã€ã¨ã«ã‹ãè§¦ã£ã¦ãªã„ã¨ã‚ã‹ã‚‰ãªã„ãªã¨ã„ã†å°è±¡ã§ã—ãŸã€‚\nå®Ÿéš›ã«è‡ªåˆ†ãŒå—é¨“ã—ãŸã¨ãã¯ ECR, ECS ã¨ã„ã£ãŸã‚³ãƒ³ãƒ†ãƒŠé–¢é€£ã®å•é¡Œã‚‚å‡ºé¡Œã•ã‚Œã¦ãŠã‚Šã€ãã®ã¸ã‚“ã¯ã»ã¨ã‚“ã©è§¦ã£ãŸã“ã¨ãŒãªã‹ã£ãŸã®ã§è‹¦æˆ¦ã—ã¾ã—ãŸã€‚\nã“ã‚Œã‚‰ã¯ã‚ãã¾ã§ã‚‚ SAA ã‹ã‚‰ã®è¿½åŠ è¦ç´ ãªã®ã§ã€ SAA ã®ä¸­ã«ã‚ã£ãŸå¯ç”¨æ€§ã‚„ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«é–¢ã™ã‚‹å•é¡Œã‚‚å‡ºã¾ã™ã—ã€ãã‚Œã‚‰ã®å†…å®¹ã‚‚ã‚ˆã‚Šçªã£è¾¼ã‚“ã ã¨ã„ã†ã‹ã€å®Ÿéš›ã«è¨­å®šã™ã‚‹å€¤ã¨ã‹ã¾ã§è¸ã¿è¾¼ã‚“ã§ã„ã‚‹ã¨ã„ã†å°è±¡ã§ã™ã€‚\nAWS èªå®šãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ â€“ ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆèªå®š SysOps Administrator Associate (SOA) é‹ç”¨è€…å‘ã‘ã®è³‡æ ¼è©¦é¨“ã¨ã„ã†ã“ã¨ã§ã€ AWS ç’°å¢ƒã§ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®é‹ç”¨ã«é–¢ã™ã‚‹å•é¡ŒãŒå‡ºã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nä¾‹ãˆã°ã€\nã‚ªãƒ³ãƒ—ãƒ¬ç’°å¢ƒã‹ã‚‰ã® AWS ç’°å¢ƒã¸ã®ç§»è¡Œ ã‚ªãƒ³ãƒ—ãƒ¬ç’°å¢ƒã¨ AWS ç’°å¢ƒã®é€£æºæ™‚ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š é©åˆ‡ãª IAM ãƒ­ãƒ¼ãƒ«ã®è¨­å®š ãªã©ã§ã™ã€‚ã–ã£ãã‚Šã¨ã¾ã¨ã‚ã‚‹ã¨ã€æ§˜ã€…ãªã‚±ãƒ¼ã‚¹ã§ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’é©åˆ‡ã«å°ãå‡ºã›ã‚‹ã‹ã€ã¨ã„ã†ãƒã‚¤ãƒ³ãƒˆãŒå¤§ãã„ã¨æ€ã„ã¾ã™ã€‚\nãªã®ã§ã€ DVA ã¨åŒã˜ã SOA ã«é–¢ã—ã¦ã‚‚ã€ã‚ã‚‹ç¨‹åº¦ AWS ç’°å¢ƒã§ã„ã‚ã‚“ãªã‚µãƒ¼ãƒ“ã‚¹ã‚’è§¦ã£ã¦ã„ãŸã‚Šã€æ§˜ã€…ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã€äº‹ä¾‹ã‚’çŸ¥ã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nç‰¹ã«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«é–¢ã™ã‚‹å†…å®¹ã¯å‡ºé¡Œæ•°ã‚‚å¤šããªã£ã¦ã„ã¦ã€ã©ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ä½•ãŒã§ãã‚‹ã®ã‹ (ç•°å¸¸ã‚’æ¤œå‡ºã™ã‚‹ã ã‘ãªã®ã‹ã€ãã®å¾Œã®ä¿®æ­£ãƒ»ãƒ‘ãƒƒãƒé©ç”¨ã¾ã§ã§ãã‚‹ã®ã‹ ãªã©) ã‚’ç†è§£ã—ã¦ã„ãªã„ã¨ã„ã‘ã¾ã›ã‚“ã€‚\nSAA ã‹ã‚‰ã®è¿½åŠ ã§ã‚ˆãå•é¡Œã«å‡ºã¦ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã¨ã€ãã®ä¾‹ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªæ„Ÿã˜ã§ã™ã€‚\nAWS Systems Manager EC2 ã¸ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ‘ãƒƒãƒé©ç”¨ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ç®¡ç† CloudFormation æ—¢å­˜ãƒªã‚½ãƒ¼ã‚¹ã®é©åˆ‡ãªã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæ‰‹é † Route 53 å„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒãƒªã‚·ãƒ¼ã®ç‰¹å¾´ Direct Connect ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã€ãƒ¡ãƒªãƒƒãƒˆ DVA ã¨æ¯”è¼ƒã™ã‚‹ã¨ã€å®Ÿéš›ã«è§¦ã£ã¦ã¯ã„ãªãã¦ã‚‚æƒ…å ±ã•ãˆå…¥ã‚Œã¦ãŠã‘ã°ä¹—ã‚Šåˆ‡ã‚Œã‚‹ã¨ã“ã‚ã‚‚ã‚ã‚Šã¾ã™ãŒã€ã‚„ã¯ã‚Šè§¦ã£ã¦ã„ã‚‹ã“ã¨ã«è¶Šã—ãŸã“ã¨ã¯ãªã„ã§ã™ã€‚\nSOA ã«ã¤ã„ã¦ã‚‚ SAA ã«å‡ºã¦ã„ãŸå†…å®¹ãŒå¼•ãç¶šãå‡ºãŸã‚Šã€ã‚ˆã‚Šæ·±ãèã„ã¦ããŸã‚Šã—ã¾ã™ã€‚\nä¾‹ãˆã° IAM ã«é–¢ã—ã¦ã ã¨ã€å®Ÿéš›ã«å®Ÿè¡Œã—ãŸã„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«å¿…è¦ãªãƒãƒªã‚·ãƒ¼ã¯ä½•ã‹ã€ã¨ã„ã†ã¨ã“ã‚ã‚‚æŠ‘ãˆã¦ãŠãã¨ã‚¹ã‚³ã‚¢ãŒä¼¸ã³ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nAWS èªå®š SysOps ã‚¢ãƒ‰ãƒŸãƒ‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼ â€“ ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆèªå®š è©¦é¨“å¯¾ç­– ã§ã¯ã€å®Ÿéš›ã« DVA ã¨ SOA ã®å—é¨“ã«å¯¾ã™ã‚‹å¯¾ç­–ã¨ã—ã¦ä½•ã‚’ã‚„ã£ã¦ããŸã‹ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\n(æ˜ç¤ºçš„ãª) å¯¾ç­–æœŸé–“ SAA ã«å—é¨“ãƒ»åˆæ ¼ã—ãŸã®ãŒ 7 æœˆé ­ã§ã€ãã“ã‹ã‚‰ 12 æœˆä¸­æ—¬ã¾ã§ç´„åŠå¹´ã‚ã‚Šã¾ã™ãŒã€ä½•ã‹ç‰¹åˆ¥ãªã“ã¨ã‚’ã—å§‹ã‚ãŸã®ã¯è©¦é¨“ã® 1 ãƒ¶æœˆå‰ã‹ã‚‰ã§ã™ã€‚\n11 æœˆä¸­æ—¬ã«ãªã£ã¦ã€Œä»–ã®ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆè©¦é¨“ã€æ¥å¹´ã«æŒã¡è¶Šã™ã®ã¯ãªã‚“ã‹æ°—æŒã¡æ‚ªã„ãªãƒ¼ã€‚ãªã‚“ã¨ãªãè¡Œã‘ãã†ãªæ°—ãŒã™ã‚‹ã—å—ã‘ã‚‹ã‹ã€ã¨æ€ã£ã¦å—é¨“æ—¥ã‚’æ±ºã‚ã¾ã—ãŸã€‚\nä½•å›ã‚‚è©¦é¨“ä¼šå ´ã«è¡Œãã®ã¯é¢å€’ãªã®ã§ã€ 2 ã¤ã®è©¦é¨“ã‚’åŒæ—¥ã®åˆå‰ã¨åˆå¾Œã«å…¥ã‚Œã¾ã—ãŸã€‚\nãªã‹ãªã‹ãƒãƒ¼ãƒ‰ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã™ãŒã€è‡ªåˆ†ã¯ãã‚Œãã‚‰ã„ã—ãªã„ã¨ç«ãŒç€ã‹ãªã„ã®ã§ã€è¿½ã„è¾¼ã¾ã‚Œã¦ã‚„ã‚‹æ°—ãŒå‡ºã‚‹äººã«ã¯ãŠã™ã™ã‚ã§ã™ã€‚\n1 ãƒ¶æœˆé–“ã§ã‚„ã£ãŸã“ã¨ ã˜ã‚ƒã‚ãã® 1 ãƒ¶æœˆã§ä½•ã‚’ã‚„ã£ãŸã‹ã¨ã„ã†ã¨ã€è³‡æ ¼å¯¾ç­–æœ¬ã‚’èª­ã‚“ã§ã€æ¨¡æ“¬è©¦é¨“ã‚’å—ã‘ã¦ã€å„ã‚µãƒ¼ãƒ“ã‚¹ã®æ¦‚è¦ã‚’èª¿ã¹ã¦ã€ã‚‚ã†ä¸€åº¦åŒã˜è³‡æ ¼å¯¾ç­–æœ¬ã‚’èª­ã‚€\u0026hellip;ã¨ã„ã†ã®ã‚’ã‚„ã‚Šã¾ã—ãŸã€‚ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ„Ÿã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\næ™‚æœŸ ã‚„ã£ãŸã“ã¨ 11 / 13 è³‡æ ¼å¯¾ç­–æœ¬ã‚’èª­ã¿å§‹ã‚ã‚‹ 12 / 11 æ¨¡æ“¬è©¦é¨“ã‚’å—ã‘ã‚‹ 12 / 11 ã€œ å„ã‚µãƒ¼ãƒ“ã‚¹ã®æ¦‚è¦ã‚’èª¿ã¹ã‚‹ (AWS å…¬å¼ãƒšãƒ¼ã‚¸) 12 / 18 è³‡æ ¼å¯¾ç­–æœ¬ã‚’èª­ã¿çµ‚ãˆã‚‹ (1å›ç›®) 12 / 21 è³‡æ ¼å¯¾ç­–æœ¬ã‚’èª­ã¿çµ‚ãˆã‚‹ (2å›ç›®) 12 / 22 (è©¦é¨“å½“æ—¥) è³‡æ ¼å¯¾ç­–æœ¬ã®æ°—ã«ãªã‚‹ã¨ã“ã‚ã‚’èª­ã‚€ ã ã„ã¶è©°ã‚è¾¼ã¿ã™ãã¾ã—ãŸã€‚\nå¯¾ç­–æœ¬ã«ã¤ã„ã¦ ä»Šå›ä½¿ç”¨ã—ãŸå¯¾ç­–æœ¬ã¯ AWSèªå®šã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆ3è³‡æ ¼å¯¾ç­–~ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã€ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã€SysOpsã‚¢ãƒ‰ãƒŸãƒ‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼~ ã¨ã„ã†æœ¬ã§ã™ã€‚\nAWS èªå®šè³‡æ ¼ã®è©¦é¨“å¯¾ç­–ã¨ã—ã¦ç‰©ç†çš„ãªæœ¬ã‚’è²·ã†ã¨ã„ã†ã®ã¯ã€æ­£ç›´ä¹—ã‚Šæ°—ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ã¨ã„ã†ã®ã‚‚ã€æ—¥ã€…ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒã•ã‚Œã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã—ã¦ã€ã‚ã‚‹ä¸€æ™‚ç‚¹ã®æƒ…å ±ã‚’ã‚‚ã¨ã«ã—ã¦ä½œæˆã•ã‚ŒãŸã‚‚ã®ã§ã¯å¯¾ç­–ãŒååˆ†ã§ãªã„å ´åˆãŒã‚ã‚‹ã‹ã‚‰ã§ã™ã€‚\nã‚ã¨ã¯ã€å¯¾ç­–æœ¬ã‚’è²·ã£ã¦ã—ã¾ã†ã¨ã€è³‡æ ¼ã®å–å¾—ãŒæœ€çµ‚ç›®çš„ã«ãªã£ã¦ã—ã¾ã†ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã‚‚ã‚ã£ã¦ã€æ•¬é ã—ã¦ã„ã¾ã—ãŸã€‚\nãŸã ä»Šå›ã¯ã“ã®æœ¬ã‚’è²·ã£ã¦ã¿ã¦ã€ã¾ã‚ã¾ã‚æº€è¶³ã—ã¦ã„ã¾ã™ã€‚\nã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆ 3 ç¨®é¡ã®å¯¾ç­–æœ¬ã¨ãªã£ã¦ã„ã‚‹ã“ã¨ã‹ã‚‰ã€åˆ†é‡ã”ã¨ (ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ ãªã©) ã«ç« ç«‹ã¦ã•ã‚Œã¦å„ã‚µãƒ¼ãƒ“ã‚¹ã®è§£èª¬ãŒã•ã‚Œã¦ãŠã‚Šã€ãã‚Œãã‚Œã®ç« æœ«ã«ã¯å•é¡ŒãŒæ•°å•ã¤ã„ã¦ã„ã¾ã™ã€‚\nã¾ãŸã€å„åˆ†é‡ã«å¯¾ã—ã¦ã©ã®è©¦é¨“ã§ã‚ˆãèã‹ã‚Œã‚‹ã‹ã¨ã„ã†åˆ†é¡ã‚‚ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€å„è©¦é¨“ã®å¯¾ç­–ã¨ã—ã¦å¿…è¦ãªéƒ¨åˆ†ã‚’èª­ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚\nã•ã‚‰ã«ã€ DVA ã‚„ SOA ã®ç¯„å›²ã«å…¥ã£ã¦ãã‚‹ã§ã‚ã‚ã†ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢ã—ã¦ã¯ã€ AWS ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãƒšãƒ¼ã‚¸ã®ãƒªãƒ³ã‚¯ã‚‚è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚ãã“ã‚‚åˆã‚ã›ã¦ãƒã‚§ãƒƒã‚¯ã§ãã‚Œã°ã¨ã¦ã‚‚åŠ¹æœçš„ã§ã™ã€‚\nãŸã ã—ã€å„ç« ã®ç« æœ«å•é¡Œã«é–¢ã—ã¦ã¯æ­£ç›´é›£æ˜“åº¦ãŒä½ã™ãã‚‹ã®ã§ã€ç›´æ¥å®Ÿéš›ã®è©¦é¨“å•é¡Œã®å¯¾ç­–ã«ãªã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ã‚ãã¾ã§ã‚‚ãã®ç« ã«å‡ºã¦ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®æ¦‚è¦ç¢ºèªã¨ã„ã†ãƒ¬ãƒ™ãƒ«ã§æ‰ãˆãŸã»ã†ãŒã„ã„ã§ã™ã€‚\næ¨¡æ“¬è©¦é¨“ã«ã¤ã„ã¦ ä»Šå›ã¯æ¨¡æ“¬è©¦é¨“ã‚’è©¦é¨“å½“æ—¥ã® 10 æ—¥å‰ãã‚‰ã„ã«å—ã‘ãŸã‚“ã§ã™ãŒã€ã“ã®æ™‚ç‚¹ã§ã¯ DVA ã®æ­£ç­”ç‡ãŒ 75 % ã€ SOA ã®æ­£ç­”ç‡ãŒ 65 % ã§ã—ãŸã€‚ ã¡ãªã¿ã«æœ¬è©¦é¨“ã§ã¯ 72 % (720/1000) ãŒåˆæ ¼ãƒ©ã‚¤ãƒ³ã§ã™ã€‚\nãŸã ã€æ¨¡æ“¬è©¦é¨“ã«ã¤ã„ã¦ã¯ã‚ãã¾ã§ã‚‚æ¨¡æ“¬è©¦é¨“ãªã®ã§ã€ã“ã“ã§ã®æ­£ç­”ç‡ã«ä¸€å–œä¸€æ†‚ã™ã‚‹ã®ã¯è‰¯ããªã„ã§ã™ã€‚\nå‰å› ã¨åŒã˜ã‚ˆã†ã«ã€ã‚ã‹ã‚‰ãªã‹ã£ãŸå•é¡Œã«å‡ºã¦ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦ã¯å…¬å¼ãƒšãƒ¼ã‚¸ã§æ¦‚è¦ã¨ã€ã€Œã‚ˆãã‚ã‚‹è³ªå•ã€ãƒšãƒ¼ã‚¸ã‚’è¦‹ã¦ç†è§£ã‚’æ·±ã‚ã¾ã™ã€‚\næ¨¡æ“¬è©¦é¨“ã®å—é¨“ã«ã¯ 2,000 å†† + ç¨/å› ã‹ã‹ã‚‹ã®ã§ä½•åº¦ã‚‚å—é¨“ã™ã‚‹ã®ã¯ç¾å®Ÿçš„ã§ã¯ãªã„ã§ã™ãŒã€ 1 å›ã¯å—ã‘ã¦ãŠã„ãŸã»ã†ãŒã‚ˆã„ã¨æ€ã„ã¾ã™ã€‚\nã¾ãŸã€å€‹äººçš„ã«ã¯æ¨¡æ“¬è©¦é¨“ã‚’å—ã‘ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ã€è©¦é¨“å¯¾ç­–ã‚’å§‹ã‚ã¦ã‹ã‚‰ã‚ã¾ã‚Šæ—¥ãŒçµŒã£ã¦ã„ãªã„é ƒãŒè‰¯ã„ã¨æ€ã„ã¾ã™ã€‚\nç†ç”±ã¨ã—ã¦ã¯ã€æœ¬è©¦é¨“ç›´å‰ã«æ¨¡æ“¬è©¦é¨“ã‚’å—ã‘ã¦ã€ã‚¹ã‚³ã‚¢ãŒä½ã„ã¨ç²¾ç¥çš„ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’å—ã‘ã‚‹ã‹ã‚‰ã§ã™ã€‚\nå¯¾ç­–é–‹å§‹å½“åˆã§ã‚ã‚Œã°ã‚¹ã‚³ã‚¢ãŒä½ã„ã®ã¯å½“ãŸã‚Šå‰ãªã®ã§ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚‚å°ã•ãã€ã¾ãŸæ—©æœŸã«è‡ªåˆ†ã®è‹¦æ‰‹ãªã¨ã“ã‚ãŒç™ºè¦‹ã§ãã‚‹ã¨ã„ã†ãƒ¡ãƒªãƒƒãƒˆã‚‚ã‚ã‚Šã¾ã™ã€‚\nã“ã‚Œã«é–¢ã—ã¦ã¯äººãã‚Œãã‚Œ (ã¨è¨€ã£ã¦ã—ã¾ãˆã°ãŠã—ã¾ã„) ã§ã™ãŒã€å‹‰å¼·ã®ä»•æ–¹ã¨ã—ã¦ã¯è‰¯ã„ã‹ãªã¨æ€ã„ã¾ã™ã€‚\n(æ˜ç¤ºçš„ã§ãªã„) å¯¾ç­–æœŸé–“ ã¾ã‚ã“ã‚Œã¯æ—¥é ƒã‹ã‚‰ã©ã‚Œã ã‘ AWS å¯¾ã—ã¦è§¦ã‚Œã¦ã„ã‚‹ã‹ (ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨ã€æƒ…å ±åé›†) ã¨ã„ã†ã“ã¨ã§ã™ã€‚\nå®Ÿéš›ã«å¯¾ç­–æœ¬ã‚’èª­ã‚“ã§æ¨¡æ“¬è©¦é¨“ã‚’å—ã‘ã¦\u0026hellip;ã¨ã‚„ã£ãŸã®ã¯ 1 ãƒ¶æœˆç¨‹åº¦ã§ã—ãŸãŒã€ SAA åˆæ ¼ã‹ã‚‰ã®åŠå¹´ã€ã¨ã„ã†ã‹ã“ã® 1 å¹´ã¯ AWS ã«é–¢ã—ã¦è§¦ã‚Œã¦ã„ã‚‹æ™‚é–“ãŒçµæ§‹é•·ã‹ã£ãŸã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚\nä¾‹ãˆã°ã€ AWS é–¢é€£ã®ã‚»ãƒŸãƒŠãƒ¼ã¨ã‹ãƒãƒ³ã‚ºã‚ªãƒ³ã«å‚åŠ ã—ã¦ã¿ãŸã‚Šã€ä»¥ä¸‹ã®ãƒ–ãƒ­ã‚°ã‚„å…¬å¼ã®ãŠçŸ¥ã‚‰ã›ã§æ—¥ã€…ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’è¿½ã„ã‹ã‘ãŸã‚Šã—ã¦ã„ã¾ã—ãŸã€‚\nWhatâ€™s New at AWS â€“ Cloud Innovation \u0026amp;amp; News AWS Startup ãƒ–ãƒ­ã‚° ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ç™ºã€Œã‚„ã£ã¦ã¿ãŸã€ç³»æŠ€è¡“ãƒ¡ãƒ‡ã‚£ã‚¢ | Developers.IO ã‚‚ã¡ã‚ã‚“ã€ãã‚Œã‚‰ã‹ã‚‰å¾—ã‚‰ã‚ŒãŸæƒ…å ±ã™ã¹ã¦ã‚’ç†è§£ã—ã¦è‡ªåˆ†ã®ã‚‚ã®ã«ã§ãã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã„ã§ã™ãŒã€ã€Œã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã£ã¦ã“ã†ã„ã†ä½¿ã„æ–¹ã™ã‚‹ã‚“ã‚„ãƒ¼ã€ã¨ã‹ã€Œæ–°ã—ãã‚ã‚“ãªæ©Ÿèƒ½è¿½åŠ ã•ã‚ŒãŸã‚“ã‚„ãƒ¼ã€ã¨ã‹ã€ãªã‚“ã¨ãªãã§ã‚‚æƒ…å ±ã‚’å¾—ã‚‹ã“ã¨ã¯ã§ãã¾ã™ã€‚\nDVA ã‚„ SOA ã§ã¯ã€å®Ÿéš›ã®é–‹ç™ºã‚„é‹ç”¨ãªã©ã®ã‚ˆã‚Šå…·ä½“çš„ãªå†…å®¹ã«é–¢ã—ã¦å‡ºé¡Œã•ã‚Œã‚‹ã®ã§ã€ã‚»ãƒŸãƒŠãƒ¼ã‚„å„ç¨®ãƒ–ãƒ­ã‚°ã§æƒ…å ±ã‚’è¿½ã£ã¦ã„ãŸã®ã¯å¤§ãã‹ã£ãŸã¨æ€ã„ã¾ã™ã€‚\nã¾ã¨ã‚ AWS èªå®šè³‡æ ¼ ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆãƒ¬ãƒ™ãƒ«ã® 3 ç¨®é¡ (DVA, SAA, SOA) ã®ã†ã¡ã€ DVA ã¨ SOA ã®å‹‰å¼·æ³•ã¨ã‹ SAA ã¨ã®é•ã„ã«ã¤ã„ã¦æ›¸ãã¾ã—ãŸã€‚\nãªã‹ãªã‹ãƒãƒ¼ãƒ‰ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã—ãŸãŒã€ãªã‚“ã¨ã‹å¹´å†…ã«ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆ 3 ç¨®é¡åˆæ ¼ã™ã‚‹ã“ã¨ãŒã§ãã¦è‰¯ã‹ã£ãŸã§ã™ã€‚\nAWS ã«é–¢ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã«è¡Œãã¨ã€ç™»å£‡è€…ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã®äº‹é …ç´¹ä»‹ãƒšãƒ¼ã‚¸ã§èªå®šãƒãƒƒãƒãŒä¸¦ã‚“ã§ã„ã‚‹å ´é¢ã‚’ã‚ˆãè¦‹ã¾ã™ãŒã€è‡ªåˆ†ã‚‚ã¨ã‚Šã‚ãˆãš 3 ã¤ä¸¦ã¹ã‚‹äº‹ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã€ãƒ‹ãƒ¤ãƒ‹ãƒ¤ã—ã¦ã„ã¾ã™ã€‚\nãŸã ã€èªå®šè³‡æ ¼ã®å–å¾—ã§ãŠã‚ã‚Šã§ã¯ãªãã€å¼•ãç¶šãæ—¥ã€…ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’è¿½ã„ã‹ã‘ã¦ã€å®Ÿéš›ã«æ‰‹ã‚’å‹•ã‹ã—ã¦ã€ã•ã‚‰ã«ç†è§£ã‚’æ·±ã‚ã¦ã„ãå¿…è¦ãŒã‚ã‚‹ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\næ¥å¹´ã¯ Professional ãƒ¬ãƒ™ãƒ«ã® 2 ç¨®é¡ã®å–å¾—ã‚’ç›®æ¨™ã«ãŒã‚“ã°ã‚Šã¾ã™ã€‚\nSAA ã®åˆæ ¼ä½“é¨“è¨˜ã¯æ¤œç´¢ã§ã‚‚ãŸãã•ã‚“ãƒ’ãƒƒãƒˆã™ã‚‹ã®ã§ã™ãŒã€ DVA ã¨ SOA ã«é–¢ã—ã¦ã¯ã‚ã¾ã‚Šãã†ã„ã£ãŸè¨˜äº‹ãŒãªã„ã¨ã„ã†å°è±¡ã ã£ãŸã®ã§ã€å—é¨“ã‚’è€ƒãˆã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-dva-soa-associate-exam/",
    "title": "AWS èªå®šè³‡æ ¼ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆãƒ¬ãƒ™ãƒ« 3 ç¨®é¡ã™ã¹ã¦ã«åˆæ ¼ã—ã¾ã—ãŸ"
  },
  {
    "contents": "AWS CDK ã‚’ä½¿ã£ã¦ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ãŸé™çš„ã‚µã‚¤ãƒˆã‚’ S3 ã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ãŸã‚ã®ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã¿ãŸã®ã§ã€ä»Šå›ã¯ãã®è©±ã§ã™ã€‚\nå‰ç½®ã ã“ã‚Œã¯ AWSåˆå¿ƒè€… Advent Calendar 2019 18 æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚\n4 æ—¥ç›®ã«å¼•ãç¶šã 2 æ ç›®ã«ãªã‚Šã¾ã™ãŒã€ç©ºã„ã¦ã„ãŸã®ã§æ»‘ã‚Šè¾¼ã¿ã§å…¥ã‚Œã•ã›ã¦ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚\n4 æ—¥ç›®ã«æ›¸ã„ãŸè¨˜äº‹ã¯ã“ã¡ã‚‰ã€‚\næ¦‚è¦ ã‚¿ã‚¤ãƒˆãƒ«ã®é€šã‚Šã€ AWS CDK ã‚’ä½¿ã£ã¦ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ãŸé™çš„ã‚µã‚¤ãƒˆã‚’ S3 ã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ãŸã‚ã®ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚\næœ¬å½“ã¯ Hugo ã¨ã„ã†é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã® CI/CD ç’°å¢ƒã‚’ CDK ã‚’ä½¿ã£ã¦æ•´ãˆã‚ˆã†ã¨ã—ã¦ã„ãŸã®ã§ã™ãŒã€ä¸€æ—¦ãã®å‰æ®µéšã¨ã—ã¦ã€ã¨ã‚Šã‚ãˆãš S3 ã§ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã®é™çš„ã‚µã‚¤ãƒˆã‚’ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã¿ã¾ã™ã€‚\næœ€çµ‚çš„ã«ã§ãã‚ãŒã‚‹ç’°å¢ƒã¯ã€ä¸‹å›³ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nã‚ã¡ã‚ƒãã¡ã‚ƒã‚·ãƒ³ãƒ—ãƒ«ã§ã™ã€‚\nå‰æ AWS CDK ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ (åŸ·ç­†æ™‚ç‚¹ã§æœ€æ–°ã® 1.18.0 1.19.0 ã‚’ä½¿ç”¨ã—ã¾ã™)\nâ€»ã“ã®è¨˜äº‹å…¬é–‹å½“æ—¥ã« 1.19.0 ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸã€‚ Route 53 ã§ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹\nä»Šå›ã¯æ—¢å­˜ã®ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã«å¯¾ã—ã¦ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã‚ˆã†ãªæ§‹æˆã‚’è€ƒãˆã¾ã™ã€‚ ã‚„ã‚‹ã“ã¨ æµã‚Œã¨ã—ã¦ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\nCDK ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ å®Ÿè£… ãƒ‡ãƒ—ãƒ­ã‚¤ ã¨ã‚Šã‚ãˆãšåˆ†ã‘ã¾ã—ãŸãŒã€ä¸€ç•ªãƒœãƒªãƒ¥ãƒ¼ãƒ ãŒå¤§ãã„ã®ãŒ 2. å®Ÿè£… ã«ãªã‚Šã¾ã™ã€‚ (ãã‚Œã¯ãã†)\nã§ã¯ã€ä¸€ã¤ãšã¤é †ç•ªã«ã‚„ã£ã¦ã„ãã¾ã™ã€‚\nãªãŠã€ã“ã“ã‹ã‚‰ç´¹ä»‹ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦ã¯ GitHub ã«ç½®ã„ã¦ã„ã¾ã™ã®ã§ã€é©å½“ã«ã„ã˜ã£ã¦ã¿ã¦ãã ã•ã„ã€‚ (ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚‚ã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™)\nmichimani/static-website-sample: This is a sample project of static web site hosted on S3 for TypeScript development with CDK. 1. CDK ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ ã¾ãšã¯ CDK ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\n$ mkdir static-website-sample $ cd static-website-sample $ cdk init app --language=typescript $ tree . -L 1 . â”œâ”€â”€ README.md â”œâ”€â”€ bin â”‚ â””â”€â”€ static-website-sample.ts â”œâ”€â”€ cdk.context.json â”œâ”€â”€ cdk.json â”œâ”€â”€ cdk.out â”œâ”€â”€ jest.config.js â”œâ”€â”€ lib â”‚ â””â”€â”€ static-website-sample-stack.ts â”œâ”€â”€ node_modules â”œâ”€â”€ package-lock.json â”œâ”€â”€ package.json â”œâ”€â”€ test â””â”€â”€ tsconfig.json ã“ã‚“ãªæ„Ÿã˜ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆãŒä½œã‚‰ã‚Œã¾ã™ã€‚\nCDK ã®ãƒ­ã‚¸ãƒƒã‚¯ã¯ lib/static-website-sample-stack.ts ã«è¨˜è¿°ã—ã¦ã„ãã¾ã™ã€‚\n2. å®Ÿè£… ã§ã¯ã€ãƒ¡ã‚¤ãƒ³ã®å®Ÿè£…ã§ã™ã€‚\nå¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« å®Ÿè£…ã‚’å§‹ã‚ã‚‹å‰ã«ã€å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ä»Šå›ä½¿ç”¨ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ã€ @aws-cdk/aws-s3, @aws-cdk/aws-s3-deployment, @aws-cdk/aws-route53, @aws-cdk/aws-route53-targets, js-yaml, @types/js-yaml ã§ã™ã€‚\n$ npm install @aws-cdk/aws-s3 @aws-cdk/aws-s3-deployment @aws-cdk/aws-route53 @aws-cdk/aws-route53-targets js-yaml @types/js-yaml ç‹¬è‡ªã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ ä»Šå›ã®ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã€ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã¯å‹•çš„ã«å¤‰æ›´ã§ãã‚‹ã‚ˆã†ã«ç‹¬è‡ªã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†é›¢ã•ã›ã¾ã™ã€‚\nã¨ã„ã†ã“ã¨ã§ã€ã¾ãšã¯ãã®ç‹¬è‡ªã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚\nè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«è‡ªä½“ã¯ YAML å½¢å¼ã§ stack-config.yml ã¨ã—ã¦ä½œæˆã—ã¾ã™ã€‚\ncommon: region: ap-northeast-1 route53: zone: michimani.net zone_id: ABCD1234567890 sub_domain: static-website-sample ã“ã‚Œã‚‰ã®å€¤ã®å®šç¾©ã‚’ lib/Config.ts ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã§ä½œæˆã—ã¾ã™ã€‚å†…å®¹ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\nimport yaml = require(\u0026#39;js-yaml\u0026#39;); import fs = require(\u0026#39;fs\u0026#39;); export interface commonConfig { region: string; } export interface Route53Config { zone: string; zone_id: string; sub_domain?: string; } export interface StackConfig { common: commonConfig, route53: Route53Config } const stackConfig: StackConfig = yaml.safeLoad(fs.readFileSync(\u0026#39;stack-config.yml\u0026#39;, {encoding: \u0026#39;utf-8\u0026#39;})); export class StackConfig { constructor() { const stackConfig = yaml.safeLoad(fs.readFileSync(\u0026#39;stack-config.yml\u0026#39;, {encoding: \u0026#39;utf-8\u0026#39;})); return stackConfig; } } ã“ã®è¨­å®šã‚’èª­ã¿è¾¼ã¾ã›ã‚‹ãŸã‚ã«ã€ bin/static-website-sample.ts ã«ä¸‹è¨˜ã®ã‚ˆã†ã«å®Ÿè£…ã—ã¾ã™ã€‚\n#!/usr/bin/env node import \u0026#39;source-map-support/register\u0026#39;; import cdk = require(\u0026#39;@aws-cdk/core\u0026#39;); import { StaticWebsiteSampleStack } from \u0026#39;../lib/static-website-sample-stack\u0026#39;; import * as Config from \u0026#39;../lib/Config\u0026#39;; const app = new cdk.App(); const stackConfig = new Config.StackConfig(); new StaticWebsiteSampleStack(app, \u0026#39;StaticWebsiteSampleStack\u0026#39;, stackConfig, { env: { region: stackConfig.common.region }, }); ã¾ãŸã€ StaticWebsiteSampleStack ã§ stackConfig ã‚’å—ã‘å–ã‚Œã‚‹ã‚ˆã†ã«ã€ lib/static-website-sample-stack.ts ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«å¤‰æ›´ã‚’åŠ ãˆã¾ã™ã€‚\n+ import * as config from \u0026#39;./Config\u0026#39;; export class StaticWebsiteSampleStack extends cdk.Stack { - constructor(scope: cdk.Construct, id: string, props?: cdk.StackProps) { + constructor(scope: cdk.Construct, id: string, stackConfig: config.StackConfig, props?: cdk.StackProps) { super(scope, id, props); ã“ã‚Œã§ã€ stack-config.yml ã«è¨˜è¿°ã—ãŸå€¤ã‚’ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nå¯å¤‰ã®å€¤ã®è¨­å®šæ–¹æ³•ã«ã¤ã„ã¦ã¯è‰²ã€…ãªã‚„ã‚Šæ–¹ãŒã‚ã‚‹ã¨æ€ã†ã®ã§ã€ã‚‚ã£ã¨è‰¯ã„æ–¹æ³•ãŒã‚ã‚Œã°ãœã²æ•™ãˆã¦ã„ãŸã ããŸã„ã§ã™ã€‚\nå„ãƒªã‚½ãƒ¼ã‚¹ã‚’ç”Ÿæˆ è«¸ã€…ã®æº–å‚™ãŒæ•´ã£ãŸã®ã§ã€å„ãƒªã‚½ãƒ¼ã‚¹ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã®ã‚³ãƒ¼ãƒ‰ã‚’ lib/static-website-sample-stack.ts ã«æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nã¾ãšã€æœ€åˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚\nimport s3 = require(\u0026#39;@aws-cdk/aws-s3\u0026#39;); import s3deploy = require(\u0026#39;@aws-cdk/aws-s3-deployment\u0026#39;); import route53 = require(\u0026#39;@aws-cdk/aws-route53\u0026#39;); import route53targets = require(\u0026#39;@aws-cdk/aws-route53-targets\u0026#39;); ã¾ãŸã€ä»Šå›ã¯ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹éš›ã«ã€ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¨ä½¿ã‚ãªã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œã«ã‚ˆã£ã¦ä½œæˆã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã«è¨­å®šã™ã‚‹å€¤ã‚‚å¤‰ã‚ã£ã¦ãã‚‹ã®ã§ã€ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã©ã†ã‹ã‚’ãƒ•ãƒ©ã‚°ã§æŒã£ã¦ãŠãã¾ã™ã€‚\nconst useSubDomain: boolean = (typeof stackConfig.route53.sub_domain !== \u0026#39;undefined\u0026#39; \u0026amp;\u0026amp; stackConfig.route53.sub_domain !== \u0026#39;\u0026#39; \u0026amp;\u0026amp; stackConfig.route53.sub_domain !== null); ãƒªã‚½ãƒ¼ã‚¹ä½œæˆã®é †ç•ªã¨ã—ã¦ã¯ã€æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nS3 ãƒã‚±ãƒƒãƒˆã®ä½œæˆ ãƒã‚±ãƒƒãƒˆå†…ã«é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨­ç½® Route 53 ã§ S3 ãƒã‚±ãƒƒãƒˆã«å¯¾ã™ã‚‹ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ  ç¢ºèª ã§ã¯ã€é †ç•ªã«å®Ÿè£…éƒ¨åˆ†ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚\nã¾ãšã¯ S3 ãƒã‚±ãƒƒãƒˆã®ä½œæˆã§ã™ã€‚\nconst bucketName: string = (useSubDomain === true) ? `${stackConfig.route53.sub_domain}.${stackConfig.route53.zone}` : stackConfig.route53.zone; const bucket: s3.Bucket = new s3.Bucket(this, \u0026#39;StaticWebsiteSampleBucket\u0026#39;, { bucketName, publicReadAccess: true, websiteIndexDocument: \u0026#39;index.html\u0026#39;, websiteErrorDocument: \u0026#39;error.html\u0026#39;, removalPolicy: cdk.RemovalPolicy.DESTROY }); ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ã€ ãƒã‚±ãƒƒãƒˆåã‚’ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã¨åŒã˜å½¢å¼ã«ã™ã‚‹ ã¨ã„ã†ã¨ã“ã‚ã§ã™ã€‚ã“ã‚Œã¯ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ S3 ã§é™çš„ã‚µã‚¤ãƒˆã‚’ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹éš›ã®æ¡ä»¶ã«ãªã£ã¦ã„ã¾ã™ã€‚\nä¾‹: ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦é™çš„ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹ - Amazon Simple Storage Service ç¶šã„ã¦ã€ã“ã®ãƒã‚±ãƒƒãƒˆã« HTML ãªã©ã®é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨­ç½®ã—ã¾ã™ã€‚\nä»Šå›ã¯ ./public ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚Šã€ãã®ä¸­ã« index.html ã¨ error.html ã‚’ä½œæˆã—ã¦ãŠãã¾ã™ã€‚\n$ tree ./public ./public â”œâ”€â”€ error.html â””â”€â”€ index.html å®Ÿéš›ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¨­ç½®ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nconst sampleHtmlPut = new s3deploy.BucketDeployment(this, \u0026#39;SampleHtmlDeploy\u0026#39;, { destinationBucket: bucket, sources: [s3deploy.Source.asset(\u0026#39;./public\u0026#39;)] }); ã“ã“ã§ destinationBucket ã«ã¯å…ˆç¨‹ä½œæˆã—ãŸ bucket ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚ CDK ã§ã¯ã“ã®ã‚ˆã†ãªå½¢ã§å„ãƒªã‚½ãƒ¼ã‚¹ã®ä¾å­˜é–¢ä¿‚ã‚’ç°¡å˜ã«æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\næœ€å¾Œã«ã€ Route 53 ã§ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒ¬ã‚³ãƒ¼ãƒ‰è¨­å®šã‚’å®Ÿè£…ã—ã¾ã™ã€‚\nconst myZone: route53.IHostedZone = route53.HostedZone.fromHostedZoneAttributes(this, \u0026#39;MyZone\u0026#39;, { zoneName: stackConfig.route53.zone, hostedZoneId: stackConfig.route53.zone_id }); const record: route53.ARecordProps = { zone: myZone, target: route53.AddressRecordTarget.fromAlias(new route53targets.BucketWebsiteTarget(bucket)), recordName: (useSubDomain === true) ? stackConfig.route53.sub_domain : stackConfig.route53.zone } const hostRecord = new route53.ARecord(this, \u0026#39;StaticWebsiteSampleRecord\u0026#39;, record); å‰åŠéƒ¨åˆ†ã§ã¯ã€ã‚¾ãƒ¼ãƒ³åã¨ã‚¾ãƒ¼ãƒ³ ID ã‹ã‚‰æ—¢å­˜ã®ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚\nãã—ã¦ã€ãã®ã‚¾ãƒ¼ãƒ³ã«å¯¾ã—ã¦ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚\nå…ˆã»ã©ã¨åŒã˜ã‚ˆã†ã«ã€ãƒ¬ã‚³ãƒ¼ãƒ‰ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¨ãªã‚‹ S3 ãƒã‚±ãƒƒãƒˆã®æƒ…å ±ã¯ã€æœ€åˆã«ä½œæˆã—ãŸ bucket ã‚’æ¸¡ã™ã“ã¨ã§æˆç«‹ã—ã¦ã„ã¾ã™ã€‚\nrecordName ã®å€¤ã¯ã€ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ãã® ãƒ›ã‚¹ãƒˆéƒ¨åˆ†ã®ã¿ ã‚’è¨­å®šã—ã¾ã™ã€‚ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ãªã„å ´åˆã¯ã€ recordName ã‚’çœç•¥ã™ã‚‹ã‹ã€ã‚¾ãƒ¼ãƒ³åã‚’è¨­å®šã—ã¾ã™ã€‚\nå®Ÿè£…ã¯ä»¥ä¸Šã¨ãªã‚Šã¾ã™ã€‚\nã¡ãªã¿ã«ã€ bin/static-website-sample.ts å†…ã§æ˜ç¤ºçš„ã«ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ã‚‹ã®ã¯ã€ Route 53 ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¨ã—ã¦ S3 ãƒã‚±ãƒƒãƒˆã‚’æŒ‡å®šã™ã‚‹éš›ã®åˆ¶é™ã¨ãªã‚Šã¾ã™ã€‚\næŒ‡å®šã›ãšã«ãƒ“ãƒ«ãƒ‰ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚\nCannot use an S3 record alias in region-agnostic stacks. You must specify a specific region when you define the stack (see https://docs.aws.amazon.com/cdk/latest/guide/environments.html) Subprocess exited with error 1 Environments - AWS Cloud Development Kit (AWS CDK) 3. ãƒ‡ãƒ—ãƒ­ã‚¤ å®Ÿè£…ãŒå®Œäº†ã—ãŸã®ã§ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚\nãƒ‡ãƒ—ãƒ­ã‚¤ã‚³ãƒãƒ³ãƒ‰ã¯ cdk deploy ã§ã™ãŒã€ãã®å‰ã«ã€å®Ÿéš›ã«å‡ºåŠ›ã•ã‚Œã‚‹ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ cdk synth ã‚³ãƒãƒ³ãƒ‰ã§å‡ºåŠ›ã—ã¦ã¿ã¾ã™ã€‚\n$ cdk synth { sourceHash: \u0026#39;6416c21be320b522db64c705872c0a54d788e3df57b34a5f0d1e8602d7521430\u0026#39; } Resources: StaticWebsiteSampleBucketABCDEFGH: Type: AWS::S3::Bucket Properties: BucketName: static-site-sample.michimani.net WebsiteConfiguration: ErrorDocument: error.html IndexDocument: index.html UpdateReplacePolicy: Delete DeletionPolicy: Delete Metadata: aws:cdk:path: StaticWebsiteSampleStack/StaticWebsiteSampleBucket/Resource StaticWebsiteSampleBucketPolicyF002703A: Type: AWS::S3::BucketPolicy Properties: Bucket: Ref: StaticWebsiteSampleBucketABCDEFGH PolicyDocument: Statement: - Action: s3:GetObject Effect: Allow Principal: \u0026#34;*\u0026#34; Resource: Fn::Join: - \u0026#34;\u0026#34; - - Fn::GetAtt: - StaticWebsiteSampleBucketABCDEFGH - Arn - /* Version: \u0026#34;2012-10-17\u0026#34; Metadata: aws:cdk:path: StaticWebsiteSampleStack/StaticWebsiteSampleBucket/Policy/Resource ... ã¨ã„ã†æ„Ÿã˜ã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nCDK ã®ã‚³ãƒ¼ãƒ‰ã¨ã—ã¦ã¯ 40 è¡Œç¨‹åº¦ã§ã™ãŒã€ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ã™ã‚‹ã¨ 200 è¡Œè¿‘ãã«ãªã‚Šã¾ã™ã€‚\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å‡ºåŠ›ã—ã¦ã¿ã‚‹ã¨ã€ã‚ã‚‰ãŸã‚ã¦ CDK ã®æ©æµã‚’æ„Ÿã˜ã‚‰ã‚Œã¾ã™ã€‚\nã§ã¯ã€ cdk deploy ã‚³ãƒãƒ³ãƒ‰ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ã¾ã™ã€‚\n$ cdk deploy { sourceHash: \u0026#39;6416c21be320b522db64c705872c0a54d788e3df57b34a5f0d1e8602d7521430\u0026#39; } This deployment will make potentially sensitive changes according to your current security approval level (--require-approval broadening). Please confirm you intend to make the following modifications: IAM Statement Changes â”Œâ”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ Resource â”‚ Effect â”‚ Action â”‚ Principal â”‚ Condition â”‚ â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ + â”‚ ${Custom::CDKBucketDeploymentRANDOMSTRING99999999999999999999/ServiceRole.A â”‚ Allow â”‚ sts:AssumeRole â”‚ Service:lambda.amazonaws.com â”‚ â”‚ â”‚ â”‚ rn} â”‚ â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ + â”‚ ${StaticWebsiteSampleBucket.Arn} â”‚ Allow â”‚ s3:Abort* â”‚ AWS:${Custom::CDKBucketDeploymentRANDOMSTRING99999999999999999999/ServiceRol â”‚ â”‚ â”‚ â”‚ ${StaticWebsiteSampleBucket.Arn}/* â”‚ â”‚ s3:DeleteObject* â”‚ e} â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ s3:GetBucket* â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ s3:GetObject* â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ s3:List* â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ s3:PutObject* â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ + â”‚ ${StaticWebsiteSampleBucket.Arn}/* â”‚ Allow â”‚ s3:GetObject â”‚ * â”‚ â”‚ â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ + â”‚ arn:${AWS::Partition}:s3:::${AssetParameterscb52f748a3861e8690fd5f1fc2d76ed â”‚ Allow â”‚ s3:GetBucket* â”‚ AWS:${Custom::CDKBucketDeploymentRANDOMSTRING99999999999999999999/ServiceRol â”‚ â”‚ â”‚ â”‚ 9a8bfc149334ddca4e31d2ba441ff5634S3Bucket5A5BA922} â”‚ â”‚ s3:GetObject* â”‚ e} â”‚ â”‚ â”‚ â”‚ arn:${AWS::Partition}:s3:::${AssetParameterscb52f748a3861e8690fd5f1fc2d76ed â”‚ â”‚ s3:List* â”‚ â”‚ â”‚ â”‚ â”‚ 9a8bfc149334ddca4e31d2ba441ff5634S3Bucket5A5BA922}/* â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ IAM Policy Changes â”Œâ”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ Resource â”‚ Managed Policy ARN â”‚ â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ + â”‚ ${Custom::CDKBucketDeploymentRANDOMSTRING99999999999999999999/ServiceRole} â”‚ arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole â”‚ â””â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ (NOTE: There may be security-related changes not in this list. See https://github.com/aws/aws-cdk/issues/1299) Do you wish to deploy these changes (y/n)? y StaticWebsiteSampleStack: deploying... StaticWebsiteSampleStack: creating CloudFormation changeset... 0/9 | 9:22:15 PM | CREATE_IN_PROGRESS | AWS::CDK::Metadata | CDKMetadata 0/9 | 9:22:15 PM | CREATE_IN_PROGRESS | AWS::IAM::Role | Custom::CDKBucketDeploymentRANDOMSTRING99999999999999999999/ServiceRole (CustomCDKBucketDeploymentRANDOMSTRING99999999999999999999ServiceRole89A01265) 0/9 | 9:22:15 PM | CREATE_IN_PROGRESS | AWS::Route53::RecordSet | StaticWebsiteSampleRecord (StaticWebsiteSampleRecord0C67AEAA) 0/9 | 9:22:15 PM | CREATE_IN_PROGRESS | AWS::S3::Bucket | StaticWebsiteSampleBucket (StaticWebsiteSampleBucketED610F77) 0/9 | 9:22:16 PM | CREATE_IN_PROGRESS | AWS::IAM::Role | Custom::CDKBucketDeploymentRANDOMSTRING99999999999999999999/ServiceRole (CustomCDKBucketDeploymentRANDOMSTRING99999999999999999999ServiceRole89A01265) Resource creation Initiated 0/9 | 9:22:17 PM | CREATE_IN_PROGRESS | AWS::CDK::Metadata | CDKMetadata Resource creation Initiated 0/9 | 9:22:17 PM | CREATE_IN_PROGRESS | AWS::Route53::RecordSet | StaticWebsiteSampleRecord (StaticWebsiteSampleRecord0C67AEAA) Resource creation Initiated 1/9 | 9:22:17 PM | CREATE_COMPLETE | AWS::CDK::Metadata | CDKMetadata 1/9 | 9:22:17 PM | CREATE_IN_PROGRESS | AWS::S3::Bucket | StaticWebsiteSampleBucket (StaticWebsiteSampleBucketED610F77) Resource creation Initiated 2/9 | 9:22:32 PM | CREATE_COMPLETE | AWS::IAM::Role | Custom::CDKBucketDeploymentRANDOMSTRING99999999999999999999/ServiceRole (CustomCDKBucketDeploymentRANDOMSTRING99999999999999999999ServiceRole89A01265) 3/9 | 9:22:38 PM | CREATE_COMPLETE | AWS::S3::Bucket | StaticWebsiteSampleBucket (StaticWebsiteSampleBucketED610F77) 3/9 | 9:22:41 PM | CREATE_IN_PROGRESS | AWS::IAM::Policy | Custom::CDKBucketDeploymentRANDOMSTRING99999999999999999999/ServiceRole/DefaultPolicy (CustomCDKBucketDeploymentRANDOMSTRING99999999999999999999ServiceRoleDefaultPolicy88902FDF) 3/9 | 9:22:41 PM | CREATE_IN_PROGRESS | AWS::S3::BucketPolicy | StaticWebsiteSampleBucket/Policy (StaticWebsiteSampleBucketPolicyF002703A) 3/9 | 9:22:42 PM | CREATE_IN_PROGRESS | AWS::IAM::Policy | Custom::CDKBucketDeploymentRANDOMSTRING99999999999999999999/ServiceRole/DefaultPolicy (CustomCDKBucketDeploymentRANDOMSTRING99999999999999999999ServiceRoleDefaultPolicy88902FDF) Resource creation Initiated 3/9 | 9:22:43 PM | CREATE_IN_PROGRESS | AWS::S3::BucketPolicy | StaticWebsiteSampleBucket/Policy (StaticWebsiteSampleBucketPolicyF002703A) Resource creation Initiated 4/9 | 9:22:43 PM | CREATE_COMPLETE | AWS::S3::BucketPolicy | StaticWebsiteSampleBucket/Policy (StaticWebsiteSampleBucketPolicyF002703A) 5/9 | 9:22:58 PM | CREATE_COMPLETE | AWS::IAM::Policy | Custom::CDKBucketDeploymentRANDOMSTRING99999999999999999999/ServiceRole/DefaultPolicy (CustomCDKBucketDeploymentRANDOMSTRING99999999999999999999ServiceRoleDefaultPolicy88902FDF) 5/9 | 9:23:01 PM | CREATE_IN_PROGRESS | AWS::Lambda::Function | Custom::CDKBucketDeploymentRANDOMSTRING99999999999999999999 (CustomCDKBucketDeploymentRANDOMSTRING9999999999999999999981C01536) 5/9 | 9:23:03 PM | CREATE_IN_PROGRESS | AWS::Lambda::Function | Custom::CDKBucketDeploymentRANDOMSTRING99999999999999999999 (CustomCDKBucketDeploymentRANDOMSTRING9999999999999999999981C01536) Resource creation Initiated 6/9 | 9:23:04 PM | CREATE_COMPLETE | AWS::Lambda::Function | Custom::CDKBucketDeploymentRANDOMSTRING99999999999999999999 (CustomCDKBucketDeploymentRANDOMSTRING9999999999999999999981C01536) 6/9 | 9:23:06 PM | CREATE_IN_PROGRESS | Custom::CDKBucketDeployment | SampleHtmlDeploy/CustomResource/Default (SampleHtmlDeployCustomResource33CAFD7F) 7/9 | 9:23:21 PM | CREATE_COMPLETE | AWS::Route53::RecordSet | StaticWebsiteSampleRecord (StaticWebsiteSampleRecord0C67AEAA) 7/9 | 9:23:45 PM | CREATE_IN_PROGRESS | Custom::CDKBucketDeployment | SampleHtmlDeploy/CustomResource/Default (SampleHtmlDeployCustomResource33CAFD7F) Resource creation Initiated 8/9 | 9:23:46 PM | CREATE_COMPLETE | Custom::CDKBucketDeployment | SampleHtmlDeploy/CustomResource/Default (SampleHtmlDeployCustomResource33CAFD7F) 9/9 | 9:23:47 PM | CREATE_COMPLETE | AWS::CloudFormation::Stack | StaticWebsiteSampleStack âœ… StaticWebsiteSampleStack Stack ARN: arn:aws:cloudformation:ap-northeast-1:123412341234:stack/StaticWebsiteSampleStack/9857da30-1ffe-11ea-a5a2-000000000000 ã“ã‚“ãªæ„Ÿã˜ã§ã€ç”Ÿæˆã•ã‚Œã‚‹ãƒªã‚½ãƒ¼ã‚¹ãŒè¡¨ã§å‡ºåŠ›ã•ã‚Œã€ Do you wish to deploy these changes (y/n)? ã¨èã‹ã‚Œã¾ã™ã€‚ãã“ã§ y ã‚’ã‚¿ã‚¤ãƒ—ã™ã‚‹ã¨ã€ãƒ‡ãƒ—ãƒ­ã‚¤ãŒé–‹å§‹ã•ã‚Œã¾ã™ã€‚\nã“ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ã‚‚ã‚¹ã‚¿ãƒƒã‚¯ã®ã‚¤ãƒ™ãƒ³ãƒˆãŒé€²è¡Œã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n4. ç¢ºèª ã§ã¯ã€ã¡ã‚ƒã‚“ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã¦ã„ã‚‹ã®ã‹ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nä»Šå›ã¯ static-site-sample.michimani.net ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã§é™çš„ã‚µã‚¤ãƒˆã‚’ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã—ã¦ã¿ãŸã®ã§ã€ãã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\né€šå¸¸ãƒšãƒ¼ã‚¸\n$ http http://static-site-sample.michimani.net HTTP/1.1 200 OK Content-Length: 392 Content-Type: text/html Date: Mon, 16 Dec 2019 12:59:06 GMT ETag: \u0026#34;770c6c57182c470d8748793c36c8d070\u0026#34; Last-Modified: Mon, 16 Dec 2019 12:23:42 GMT Server: AmazonS3 x-amz-id-2: ZuSWrclJxk4uQ9XCaNurCnUZqfV/O48OrHUOHpkXdrfMsRYpJ/gCWF6MpMfdRynasbQHpKXUO/0= x-amz-request-id: 614F5DF6A50B13A8 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;meta http-equiv=\u0026#34;X-UA-Compatible\u0026#34; content=\u0026#34;ie=edge\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Static Web Site Sample\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;h1\u0026gt;Static Web Site Sample\u0026lt;/h1\u0026gt; \u0026lt;small\u0026gt; This is a sample of static web page that crated by AWS CDK project. \u0026lt;/small\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸\n$ http http://static-site-sample.michimani.net/not-exists-path/ HTTP/1.1 404 Not Found Content-Length: 405 Content-Type: text/html Date: Mon, 16 Dec 2019 13:00:00 GMT ETag: \u0026#34;88431d0e820cb2e640475abbae30e298\u0026#34; Last-Modified: Mon, 16 Dec 2019 12:23:42 GMT Server: AmazonS3 x-amz-error-code: NoSuchKey x-amz-error-detail-Key: not-exists-path/index.html x-amz-error-message: The specified key does not exist. x-amz-id-2: tysmHKDiqPdDuPRmQ2aKSjm1H5TfrB8GBJYKhZ9VZBVbUhQBlGKeXFPIvEWLi98rbwaZwA98YLM= x-amz-request-id: CB5A4EA6A195621A \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;meta http-equiv=\u0026#34;X-UA-Compatible\u0026#34; content=\u0026#34;ie=edge\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Static Web Site Sample\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;h1\u0026gt;Static Web Site Sample - Error Page\u0026lt;/h1\u0026gt; \u0026lt;small\u0026gt; This is a sample of static web page that crated by AWS CDK project. \u0026lt;/small\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ã¡ã‚ƒã‚“ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã¦ã¾ã™ã­ã€‚\nã¾ã¨ã‚ AWS CDK ã‚’ä½¿ã£ã¦ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ãŸé™çš„ã‚µã‚¤ãƒˆã‚’ S3 ã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ãŸã‚ã®ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹æˆã§ã¯ã‚ã‚Šã¾ã™ãŒã€ã‚³ãƒãƒ³ãƒ‰ã²ã¨ã¤ã§ãƒªã‚½ãƒ¼ã‚¹ãŒç«‹ã¡ä¸ŠãŒã‚Šã€å„ç¨®é€£æºãŒã•ã‚Œã‚‹ã®ã¯ã€ã‚„ã¯ã‚Š IaaS ã®è‰¯ã„ã¨ã“ã‚ã§ã™ã­ã€‚\nä»Šå›ã¯ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç›´æ¥æ›¸ãã®ã§ã¯ãªãã€ AWS CDK ã‚’åˆ©ç”¨ã—ã¾ã—ãŸã€‚\nCDK ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€ TypeScript ã‚„ Python, Java ã¨ã„ã£ãŸè¨€èªã§ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”¨ã® YAML ã‚’æ›¸ãã®ã¯ã¡ã‚‡ã£ã¨é›£ã—ã„\u0026hellip; ã¨æ„Ÿã˜ã¦ã„ã‚‹äºº (åƒ•ã§ã™ãŒ) ã«ã‚‚ã€ CDK ã§ã‚ã‚Œã° IaaS ãƒ‡ãƒ“ãƒ¥ãƒ¼ã—ã‚„ã™ã„ã‹ãªã¨æ€ã„ã¾ã™ã€‚\nãŸã ã€ CDK ã¯ã‚ãã¾ã§ã‚‚ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã«å¾Œã‹ã‚‰å‡ºã¦ããŸãƒ„ãƒ¼ãƒ«ã®ãŸã‚ã€ç”Ÿã® CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã¯å®Ÿç¾ã§ãã¦ã‚‚ CDK ã§ã¯å®Ÿç¾ã§ããªã„æ©Ÿèƒ½ãƒ»ãƒªã‚½ãƒ¼ã‚¹ã‚‚ã‚ã‚Šã¾ã™ã€‚\nä¾‹ãˆã°ã€ CDK ã® CloudFront ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ç¾åœ¨ (1.18.0 1.19.0) ã¯ developer preview (public beta) ã¨ãªã£ã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ CloudFront ã‚’ S3 ã®å‰æ®µã«ãŠã„ã¦ SSL åŒ–ã•ã‚ŒãŸé™çš„ã‚µã‚¤ãƒˆã‚’æ§‹ç¯‰ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ CDK ã§ã¯ (production ã§ã¯) å®Ÿç¾ã§ãã¾ã›ã‚“ã€‚(Public Preview ã®ãŸã‚)\nãã®ã»ã‹ã€ã‚ˆã‚Šè¤‡é›‘ãªæ§‹æˆã‚’å®Ÿç¾ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ CDK ã§ã¯é›£ã—ã„ã¨ã„ã†å ´åˆã‚‚ã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\nã“ã‚Œã«é–¢ã—ã¦ã¯ CDK ã® GA è¨˜å¿µãƒŸãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã®éš›ã«ã‚‚è©±ãŒå‡ºã¦ã„ã¾ã—ãŸã€‚\nã¨ã¯è¡Œã£ã¦ã‚‚ CDK ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚¹ãƒ”ãƒ¼ãƒ‰ã¯ã‹ãªã‚Šæ—©ã„ã®ã§ã€ä»Šå¾Œã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«ã¯æœŸå¾…ã—ãŸã„ã§ã™ã€‚\nå°‘ã—è„±ç·šã—ã¾ã—ãŸãŒã€ CDK ã¯ IaaS ãƒ‡ãƒ“ãƒ¥ãƒ¼ã«ã¯å‡„ãã„ã„ãƒ„ãƒ¼ãƒ«ã ã¨æ€ã†ã®ã§ã€ãœã²ç°¡å˜ãªãƒªã‚½ãƒ¼ã‚¹ä½œæˆã‹ã‚‰è©¦ã—ã¦ã¿ã¦ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ã€‚\n",
    "permalink": "https://michimani.net/post/aws-create-static-website-hotsted-on-s3-using-cdk/",
    "title": "AWS CDK ã‚’ä½¿ã£ã¦ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã®é™çš„ã‚µã‚¤ãƒˆã‚’ S3 ã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã•ã‚“ä¸»å‚¬ã®ã‚¤ãƒ™ãƒ³ãƒˆ re:Growth 2019 TOKYO @ã‚¢ãƒã‚¾ãƒ³ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒ“ã‚¹ã‚¸ãƒ£ãƒ‘ãƒ³ ã«è¡Œã£ã¦ããŸã®ã§ã€ãã®ãƒ¬ãƒãƒ¼ãƒˆã§ã™ã€‚\nå†…å®¹ã¯ AWS re:Invent 2019 ã®ãµã‚Šã‹ãˆã‚Šã§ã™ã€‚ãƒ©ã‚¹ãƒ™ã‚¬ã‚¹ã®ãŠåœŸç”£ã‚‚ã‚ã‚Šã¾ã—ãŸï¼\nç›®æ¬¡ æ¦‚è¦ ã‚¿ã‚¤ãƒ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« å„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®æ¦‚è¦ã¨æ„Ÿæƒ³ re:InInvent ç·æ‹¬ (AWS é‡‘æ£®ã•ã‚“) AWS Wavelength ã®ã“ã‚Œã‹ã‚‰ (æ ªå¼ä¼šç¤¾ã‚½ãƒ©ã‚³ãƒ  ç‰‡å±±ã•ã‚“) ã€ŒDeepComposerã€ã€œ Deep Learning ã‚’å­¦ã¶æœ€é«˜ã®ãƒ„ãƒ¼ãƒ« (ã‚­ãƒ ã•ã‚“) Nitro Infrastructure 2019 (æ¸¡é‚Šã•ã‚“) ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç³»ã¾ã¨ã‚ã¨ã€ã¿ã‚“ãªã§ä½¿ãŠã† Detective (è‡¼ç”°ã•ã‚“) EKS on Fargate (åŸå²¸ã•ã‚“) ECS ã®æ¬¡ä¸–ä»£ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æˆ¦ç•¥ã€ŒCapacity Providerã€ (æ¿±ç”°ã•ã‚“) 2019 å¹´ã® ElastiCache ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¨é‹ç”¨ã«ã¤ã„ã¦ (æ·±æ¾¤ã•ã‚“) IAM/S3 Access Analyzer (å‰äº•ã•ã‚“) Transit Gateway ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¾ã¨ã‚ (å³¶å·ã•ã‚“) ã¾ã¨ã‚ æ¦‚è¦ re:Growth ã¯ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã•ã‚“ãŒä¸»å‚¬ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã§ã€å‰ã®é€±ã«ãƒ©ã‚¹ãƒ™ã‚¬ã‚¹ã§é–‹å‚¬ã•ã‚Œã¦ã„ãŸ AWS re:Invent ã®ãµã‚Šã‹ãˆã‚Šå‹‰å¼·ä¼š ã¨ã„ã†ä½ç½®ä»˜ã‘ã§ã™ã€‚\nå‹‰å¼·ä¼š ã¨ãªã£ã¦ã„ã¾ã™ãŒã€å†…å®¹ã¨ã—ã¦ã¯ re:Invent ã«å‚åŠ ã—ãŸã‚¯ãƒ©ãƒ¡ã‚½ã®ç¤¾å“¡ã•ã‚“ãŸã¡ãŒæ–°ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦ã®è©±ã‚’ 5 ã€œ 10 åˆ†ã¨ã„ã†çŸ­ã„æ™‚é–“ã§æ¬¡ã€…ã«ç™ºè¡¨ã—ã¦ã„ãã¨ã„ã†ã‚‚ã®ã§ã—ãŸã€‚\nã‚¤ãƒ™ãƒ³ãƒˆæ™‚é–“ã¯ 2 æ™‚é–“ã§ã—ãŸãŒã€ã‚ã£ã¨ã„ã†ã¾ã«æ™‚é–“ãŒéãã¦ã„ã¾ã—ãŸã€‚\nãªãŠã€ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã¯ #cmregrowth ã§ã—ãŸã€‚\n21éšã¯åˆã‚ã¦æ¥ãŸ (@ ã‚¢ãƒã‚¾ãƒ³ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒ“ã‚¹ã‚¸ãƒ£ãƒ‘ãƒ³æ ªå¼ä¼šç¤¾ - @awscloud_jp in ç›®é»’åŒº, æ±äº¬éƒ½) https://t.co/KZI0ALbMCP\n\u0026mdash; ã‚ˆã£ã—ãƒ¼@CBR853RR (@michimani210) December 11, 2019 ã‚¿ã‚¤ãƒ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« ã‚¿ã‚¤ãƒ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯æ¬¡ã®ã‚ˆã†ãªæ„Ÿã˜ã§ã™ã€‚ 2 æ™‚é–“ã«æ¿ƒã„å†…å®¹ãŒã‚ã¡ã‚ƒãã¡ã‚ƒè©°ã¾ã£ã¦ã¾ã™ã€‚\n18:30 å—ä»˜ 19:00 ã‚¯ãƒ©ãƒ¡ã‚½èŠæ± ã•ã‚“ã‹ã‚‰ã®ã”æŒ¨æ‹¶ 10:05 re:InInvent ç·æ‹¬ (AWS é‡‘æ£®ã•ã‚“) 19:20 AWS Wavelength ã®ã“ã‚Œã‹ã‚‰ (æ ªå¼ä¼šç¤¾ã‚½ãƒ©ã‚³ãƒ  ç‰‡å±±ã•ã‚“) 19:35 ã€ŒDeepComposerã€ã€œ Deep Learning ã‚’å­¦ã¶æœ€é«˜ã®ãƒ„ãƒ¼ãƒ« (ã‚­ãƒ ã•ã‚“) 19:45 Nitro Infrastructure 2019 (æ¸¡é‚Šã•ã‚“) 19:55 ä¼‘æ†© 20:05 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç³»ã¾ã¨ã‚ã¨ã€ã¿ã‚“ãªã§ä½¿ãŠã† Detective (è‡¼ç”°ã•ã‚“) 20:15 EKS on Fargate (åŸå²¸ã•ã‚“) 20:20 ECS ã®æ¬¡ä¸–ä»£ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æˆ¦ç•¥ã€ŒCapacity Providerã€ (æ¿±ç”°ã•ã‚“) 20:25 2019 å¹´ã® ElastiCache ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¨é‹ç”¨ã«ã¤ã„ã¦ (æ·±æ¾¤ã•ã‚“) 20:30 IAM/S3 Access Analyzer (å‰äº•ã•ã‚“) 20:35 Transit Gateway ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¾ã¨ã‚ (å³¶å·ã•ã‚“) 20:40 ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ³ã‚° å„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®æ¦‚è¦ã¨æ„Ÿæƒ³ å„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®æ¦‚è¦ (ãƒ¡ãƒ¢) ã¨ç°¡å˜ãªæ„Ÿæƒ³ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nã™ã§ã«ç™»å£‡è³‡æ–™ã‚’å…¬é–‹ã—ã¦ã„ãŸã ã„ã¦ã„ã‚‹ã‚‚ã®ã‚‚ã‚ã‚Šã¾ã™ã®ã§ã€ãã®ãƒªãƒ³ã‚¯ã‚‚è¼‰ã›ã¦ã„ã¾ã™ã€‚\nre:InInvent ç·æ‹¬ (AWS é‡‘æ£®ã•ã‚“) re:Invent ã¯ å­¦ç¿’å‹ ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ æ¥å ´è€…æ•°ã¯ 65,000+ ã€æ—¥æœ¬ã‹ã‚‰ã¯ 1,700+ Game Day ã¯å¾Œæ—¥ AWS Loft Tokyo ã§ã‚‚é–‹å‚¬ æœŸé–“ä¸­ã¯ 74 ä»¶ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã€‚äº‹å‰ã« 116 ä»¶ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ SNS ã§æ³¨ç›®ã®æ–°ã‚µãƒ¼ãƒ“ã‚¹ TOP 3 Amazon Braket AWS OutPosts AWS Deep Composer ã¨ã«ã‹ãå›ã‚’å¢—ã™ã”ã¨ã«è¦æ¨¡ãŒå¤§ãããªã£ã¦ãã¦ã„ã¦ã€æ—¥æœ¬ã‹ã‚‰ã®æ¥å ´è€…ã‚‚ã©ã‚“ã©ã‚“å¢—ãˆã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚è‡ªåˆ†ã‚‚æ¥å¹´ã¯å‚åŠ ã—ãŸã„\u0026hellip;\nAWS Wavelength ã®ã“ã‚Œã‹ã‚‰ (æ ªå¼ä¼šç¤¾ã‚½ãƒ©ã‚³ãƒ  ç‰‡å±±ã•ã‚“) AWS Wavelengthã®ã“ã‚Œã‹ã‚‰ | re:Growth 2019 Tokyo Wavelength\n5G ã®å–ã‚Šçµ„ã¿ã«å‘ã‘ãŸã‚µãƒ¼ãƒ“ã‚¹ 5G ã®ç‰¹å¾´ã®ã†ã¡ã€ ä½é…å»¶ ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ãŸã‚µãƒ¼ãƒ“ã‚¹ åŸºåœ°å±€ã¨ MNO ã®é–“ã‚’ è¶™ä½é…å»¶ ã«ã™ã‚‹ MNO ã®ã‚µãƒ¼ãƒå†…ã« VPC ã‚’æ§‹ç¯‰ 5G ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã« AWS ã‚µãƒ¼ãƒ“ã‚¹ã‚’å¼µã‚Šå‡ºã™ã‚µãƒ¼ãƒ“ã‚¹ AWS/KDDI/ã‚½ãƒ©ã‚³ãƒ  ã§ä»•æ§˜ã‚’æ¤œè¨ä¸­ MEC : Mobile Edge Computing\nã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ Wavelength ã‚¾ãƒ¼ãƒ³ã«ãƒ‡ãƒ—ãƒ­ã‚¤ ã™ã‚‹æ„Ÿã˜\nãƒ­ãƒ¼ã‚«ãƒ« 5G\nã‚¯ãƒ©ãƒ¡ã‚½ 5G ãŒå®Ÿç¾ã™ã‚‹ã‹ã‚‚ Wavelength ã¨ã„ã†å˜èªã¯ã¡ã‚‰ã£ã¨èã„ãŸã“ã¨ãŒã‚ã‚Šã¾ã—ãŸãŒã€å†…å®¹ã«ã„ã¤ã„ã¦ã¯å…¨ãçŸ¥ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚\nç™»å£‡è³‡æ–™å†…ã§ã¯è©³ç´°ãªå›³ã‚’ç”¨ã„ã¦ã€ Wavelength ã«ã‚ˆã£ã¦ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆãŒã©ã†ãªã‚‹ã®ã‹è§¦ã‚Œã‚‰ã‚Œã¦ã„ã¾ã™ã€‚çŸ¥ã‚‰ãªã„éƒ¨åˆ†ãŒå¤šãã™ã”ãå£®å¤§ãªè©±ã®ã‚ˆã†ãªæ°—ãŒã—ã¦ã„ã¾ã™ãŒã€ãªã‚“ã‹ãƒ­ãƒ¼ã‚«ãƒ« 5G ã¯å‡„ãã†ã€‚ (å°ä¸¦)\nã€ŒDeepComposerã€ã€œ Deep Learning ã‚’å­¦ã¶æœ€é«˜ã®ãƒ„ãƒ¼ãƒ« (ã‚­ãƒ ã•ã‚“) [è³‡æ–™å…¬é–‹] re:Growth 2019 Tokyoã§ DeepComposer ã®ã“ã¨ã§ç™ºè¡¨ã—ã¦ãã¾ã—ãŸ #reinvent #cmregrowth ï½œ Developers.IO Deep Leaning\nè¨€è‘‰ã¯çŸ¥ã£ã¦ã‚‹ ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ™ãƒ«ã§ã¯å°‘ã— è©³ç´°ã¯ã»ã¼ã„ãªã„ cycleGAN\nè«–æ–‡ã®æ•°å¼ã¯è¤‡é›‘ã«è¦‹ãˆã‚‹ãŒç›´æ„Ÿçš„ã«ã¯ã‚ã‹ã‚Šã‚„ã™ã„(ï¼Ÿ)\nã‚ã‚‰ã‹ã˜ã‚ãƒ¢ãƒ‡ãƒ«ã¯ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ãŒã€è‡ªåˆ†ã§ä½œã‚‹ã“ã¨ã‚‚ã§ãã‚‹\nãã‚ŒãŒ SageMaker\nGANs : ãã£ã¨å½¹ã«ç«‹ã¤\nGANs ã®ã‚³ãƒ¼ãƒ‰\nå„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã”ã¨ã« 1 è¡Œ (ãã‚‰ã„) ã®ã‚³ãƒ¼ãƒ‰ã§æ›¸ã‘ã‚‹ Depp Learning ã®ä¸–ç•Œã§ãƒ›ãƒƒãƒˆãª GAN (Generative Adversarial Network) (GANs : Generative Adversarial Networks) ã«é–¢ã™ã‚‹å†…å®¹ã‹ã‚‰å…¥ã£ã¦ã€æœ€çµ‚çš„ã«ã¯ã€ŒDeep Leaning å§‹ã‚ã‚ˆã†ï¼ã€ã¨ã„ã†è©±ã§ã—ãŸã€‚(ã–ã£ãã‚Š)\nDepp Learning ã¨ã„ã†ã¨è¤‡é›‘ãªæ•°å¼ã‚„ã‚³ãƒ¼ãƒ‰ã«ç›´é¢ã—ã¦æŒ«æŠ˜ã™ã‚‹äººã‚‚ã„ã¾ã™ãŒã€ä»Šå›ç™ºè¡¨ã•ã‚ŒãŸ DeepComposer ã‚„ã€ SageMaker é–¢é€£ã®å„æ–°ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ãˆã°ã™ã”ãç°¡å˜ã«å§‹ã‚ã‚‰ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã§ã—ãŸã€‚ä»Šå¹´ã® re:Invent ã§ã¯æ©Ÿæ¢°å­¦ç¿’é–¢é€£ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒå¤šã‹ã£ãŸã®ã§ã€è‡ªåˆ†ã‚‚æ©Ÿæ¢°å­¦ç¿’ã«ã¤ã„ã¦å‹‰å¼·ã—ã¦ã„ã“ã†ã¨æ€ã„ã¾ã—ãŸã€‚\nNitro Infrastructure 2019 (æ¸¡é‚Šã•ã‚“) [è³‡æ–™å…¬é–‹] Nitro ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã®é€²åŒ–ã€ã‚ã‚‹ã„ã¯å¦‚ä½•ã« AWS ãŒ Nitro ã‚’å¤§åˆ‡ã«æ€ã£ã¦ã„ã‚‹ã‹ã¨ã„ã†è©±ã‚’ re:Growth 2019 TOKYO ã§è©±ã—ã¦ãã¾ã—ãŸ #reinvent #cmregrowth ï½œ Developers.IO Nitro ä»®æƒ³ãƒ›ã‚¹ãƒˆåŸºç›¤ã®ã“ã¨\nNitro Hypervisor, Nitro Card, Nitro Security Chip \u0026hellip;\n2017 å¹´ã«åˆã‚ã¦å…¬é–‹\nNitro ã®ãŠã‹ã’ã§ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚‚å‘ä¸Š\nNitro ã¯ã™ã”ã„\nAWS ã®å„ç¨®ã‚µãƒ¼ãƒ“ã‚¹ (EC2, Lambda\u0026hellip;) ã‚’æ”¯ãˆã‚‹åŸºç›¤ã®è©±ã€‚Nitro ã®ç™»å ´ã«ã‚ˆã£ã¦ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®æ€§èƒ½å‘ä¸Šã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®å‘ä¸Šã€ã‚³ã‚¹ãƒˆã®æœ€é©åŒ–ãªã©ãŒå®Ÿç¾ã—ã€ç‰¹ã«ã€æ©Ÿæ¢°å­¦ç¿’æ¥­ç•Œã‚„ãƒ¡ãƒ‡ã‚£ã‚¢æ¥­ç•Œã¯å¤§ããªæ©æµã‚’å—ã‘ã‚‰ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚\nAWS ã®æ ¹å¹¹ã‚’æ‹…ã† Nitroã€ã™ã”ã„ï¼\n2017å¹´ AWSã€ŒNitroä½œã£ãŸã‚ˆã€œã€#cmregrowth\n\u0026mdash; ã‚ˆã£ã—ãƒ¼@CBR853RR (@michimani210) December 11, 2019 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç³»ã¾ã¨ã‚ã¨ã€ã¿ã‚“ãªã§ä½¿ãŠã† Detective (è‡¼ç”°ã•ã‚“) ã€ŒAWSä¸Šã§ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆã®èª¿æŸ» Amazon Detectiveã€ã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ã§re:Growth 2019ã«ç™»å£‡ã—ã¾ã—ãŸ #reinvent #cmregrowth ï½œ Developers.IO AWS WAF v2 ä¸­ã®ä»•çµ„ã¿ã‚’å¤‰ãˆã¦åˆ¥æ©Ÿèƒ½ã¨ã—ã¦ãƒªãƒªãƒ¼ã‚¹ v1 ã¯ classic AWS WAF ã¨ã„ã†åç§°ã« JSON ã§ WebACL ã‚’å®šç¾© (ç°¡å˜ã«ãªã£ãŸ) ãƒ«ãƒ¼ãƒ« 10 å€‹åˆ¶é™å»ƒæ­¢ API ã‚‚ wafv2 ã«çµ±åˆ IMDSv2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ v2 ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—ã«ã¯ Token ãŒå¿…è¦ v1 ã‚’ç„¡åŠ¹åŒ–ã§ãã‚‹ Amazon Detective ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆèª¿æŸ»ãŒæ—ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ ã“ã‚Œã¾ã§ æ¤œçŸ¥ : Gard Duty èª¿æŸ» : Cloud Trail, VPC ãƒ•ãƒ­ãƒ¼ãƒ­ã‚°ãªã©ã‚’ Athena ã§è§£æ â† ã“ã‚ŒãŒå¤§å¤‰ã ã£ãŸ Detective ã ã¨ãã®å¤§å¤‰ãªèª¿æŸ»éƒ¨åˆ†ãŒã™ã”ãç°¡å˜ã«ãªã‚‹ Findings ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã”ã¨ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•° é€šå¸¸ã‚ˆã‚Šå¤šã„ã¨èµ¤ã§è¡¨ç¤ºã•ã‚ŒãŸã‚Šã™ã‚‹ ãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€ãƒãƒ«ãƒãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§é›†ç´„ãŒå¯èƒ½ ã¾ãšã¯ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«ç”³ã—è¾¼ã¿ã¾ã—ã‚‡ã† ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç³»ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®ã¾ã¨ã‚ã¨ã€ Amazon Detective ã®è©±ã§ã—ãŸã€‚\nAmazon Detective ã¯ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆã‚’æ¤œçŸ¥ã—ãŸã‚ã¨ã®èª¿æŸ»ã‚’ã¨ã¦ã‚‚æ¥½ã«ã—ã¦ãã‚Œã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã€æ¤œçŸ¥ã—ãŸã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆã‚’ã‚°ãƒ©ãƒ•ã§è¡¨ç¤ºã—ãŸã‚Šã€ãã“ã‹ã‚‰è©³ç´°ãªæƒ…å ±ã‚’è¿½ã†ã“ã¨ã‚‚ç°¡å˜ã«ã§ãã‚‹ã‚ˆã†ã§ã™ã€‚\næ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚‚ä½¿ãˆã‚‹ã®ã§ã€ã¾ãšã¯ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«ç”³ã—è¾¼ã¿ã¾ã—ã‚‡ã†ï¼ã¨ã®ã“ã¨ã§ã—ãŸã€‚\nEKS on Fargate (åŸå²¸ã•ã‚“) ã€ŒFargate for EKSã€ã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ã§re:Growth 2019ã«ç™»å£‡ã—ã¾ã—ãŸ #reinvent #cmregrowth ï½œ Developers.IO Kubernetes ãŠã•ã‚‰ã„ ã‚³ãƒ³ãƒ†ãƒŠã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ« k8s ã‚¯ãƒ©ã‚¹ã‚¿ Master : ã‚¯ãƒ©ã‚¹ã‚¿è‡ªä½“ã‚’ç®¡ç†ã™ã‚‹ Worker : ã‚³ãƒ³ãƒ†ãƒŠã®å®Ÿè¡Œç’°å¢ƒ Master ã‚’ãƒãƒãƒ¼ã‚¸ãƒ‰ã—ã¦ãã‚ŒãŸã®ãŒ EKS ã“ã‚Œã¾ã§ EC2 ã®ä¸Šã« Pod ã‚’ç«‹ã¦ã‚‹ ã“ã‚Œã‹ã‚‰ (EKS on Fargate) Fargate ã®ä¸Šã« Pod ãŒç«‹ã¤ åˆ¶ç´„ ELB ã¯ ALB ã®ã¿ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ IP ãŒä»˜ä¸ã§ããªã„ ãªã©ãªã©ã®åˆ¶ç´„ ã‚³ã‚¹ãƒˆçš„ã«å®‰ããªã‚‹ã‹ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ¬¡ç¬¬ æ­£ç›´ Kubernetes ã«é–¢ã—ã¦ã¯ã™ã”ãé›£ã—ã„ï¼ã¨ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ã ã£ãŸã‚“ã§ã™ãŒ (ä»Šã‚‚ã§ã™ãŒ) ã€å†’é ­ã®ãŠã•ã‚‰ã„ã®ã¨ã“ã‚ã§å°‘ã—ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒã§ããŸæ°—ãŒã—ã¾ã—ãŸã€‚\nä»Šå›ã® EKS on Fargate (Fargate for EKS ã¨ã‚‚è¨€ã£ã¦ã„ãŸã‚ˆã†ãª) ã¯ã€ EKS ã§ã®ã‚³ãƒ³ãƒ†ãƒŠå®Ÿè¡Œç’°å¢ƒã« EC2 ã§ã¯ãªã Fargate ã‚’ä½¿ã†ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã¨ã„ã†ã‚‚ã®ã§ã€ EC2 ã®ç®¡ç†ã«è²»ã‚„ã—ã¦ã„ãŸæ™‚é–“ã‚’å‰Šæ¸›ã§ãã‚‹ã¨ã„ã†ã‚‚ã®ã§ã—ãŸã€‚ (ã ã¨èªè­˜ã—ã¾ã—ãŸ)\nãŸã ã—åˆ©ç”¨ã«ã¯åˆ¶ç´„ãŒã„ãã¤ã‹ã‚ã‚‹ãŸã‚ã€å°å…¥ã§ãã‚‹ã‹ã©ã†ã‹ã€ã¾ãŸã€å°å…¥ã—ã¦ã‚³ã‚¹ãƒˆå‰Šæ¸›ã«ã¤ãªãŒã‚‹ã‹ã©ã†ã‹ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ¬¡ç¬¬ã‚‰ã—ã„ã§ã™ã€‚\nPod ãŒ ãƒãƒƒ ã¨ä¸ŠãŒã‚‹æ„Ÿã˜ #cmregrowth\n\u0026mdash; ã‚ˆã£ã—ãƒ¼@CBR853RR (@michimani210) December 11, 2019 ECS ã®æ¬¡ä¸–ä»£ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æˆ¦ç•¥ã€ŒCapacity Providerã€ (æ¿±ç”°ã•ã‚“) Capacity Providerã¨ã¯ï¼ŸECSã®æ¬¡ä¸–ä»£ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æˆ¦ç•¥ã‚’è§£èª¬ã™ã‚‹ #reinvent #cmregrowth ï½œ Developers.IO Capacity Provider æ—¢ã« ECS ã‚’ä½¿ã£ã¦ã„ã‚‹äººã«ã¯ãœã² Fargate ã‚’ä½¿ã£ã¦ã‚‹äººã¯ Fagate Spot ã‚’ãœã² ã‚¿ã‚¹ã‚¯å®Ÿè¡Œã®è¨­å®šã‚’æŸ”è»Ÿã« Capacity Provider (è¦ç´ ) ã¨ Capacity Provider Strategy (çµ„ã¿åˆã‚ã›) ã®é•ã„ è‰²ã€…è¦ç´ ãŒé›†ã¾ã£ã¦æœ€çµ‚çš„ã«ã‚¯ãƒ©ã‚¹ã‚¿ã«é©ç”¨ Capacity Provider Strategy ã®æˆ¦ç•¥ Base (æœ€å°ã‚¿ã‚¹ã‚¯æ•°) ã¨ Weight (ã‚¿ã‚¹ã‚¯æ•°æ¯”ç‡) ã‚’ã†ã¾ã„ã“ã¨ã‚„ã‚‹ ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ AutoScale ã§ ECS ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã¯ä»Šã™ãã«å°å…¥ã—ãŸã»ã†ãŒã„ã„ AZ ã®ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°ã‚’ Capacity Provider ã«ä»»ã›ã‚‹ FARGATE_SPOT è½ã¡ã‚‹ï¼Ÿ å…¨ç„¶è½ã¡ãªã„ (ä»Šãªã‚‰) ä½¿ã„æ”¾é¡Œï¼ (ã‹ã‚‚) ECS ã«ãŠã‘ã‚‹ã‚¤ãƒ³ãƒ•ãƒ©ã‚’ã€ã‚ˆã‚ŠæŸ”è»Ÿã«è¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã¨ã„ã† Capacity Provider ã®è©±ã§ã—ãŸã€‚ECS ä½¿ã£ãŸçµŒé¨“ãŒãªã„ã®ã§ã™ãŒã€ç™»å£‡ã‚¹ãƒ©ã‚¤ãƒ‰å†…ã«å‡ºã¦ãã‚‹å›³ãŒéå¸¸ã«ã‚ã‹ã‚Šã‚„ã™ãã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã‚„ã™ã‹ã£ãŸã§ã™ã€‚ (13, 20 ãƒšãƒ¼ã‚¸ç›®)\nã¾ãŸ Fargate ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆ (ECS on Fargate) ã€ FARGATE_SPOT ã‚’ä½¿ã†ã“ã¨ã§ã‚³ã‚¹ãƒˆãŒä¸€å¾‹ 70 % ã‚ªãƒ•ã«ãªã‚‹ã¨ã„ã†è©±ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚ FARGATE_SPOT ã„ã‚ã‚†ã‚‹ã‚¹ãƒãƒƒãƒˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã‚ˆã†ãªã‚‚ã®ãªã®ã§æ€¥ã«è½ã¡ãŸã‚Šã™ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚Šã¾ã™ãŒã€ä»Šã®ã¨ã“ã‚å…¨ç„¶è½ã¡ã‚‹æ°—é…ãŒãªã„ã¨ã®ã“ã¨ã§ã™ã€‚(ä½¿ã£ã¦ã„ã‚‹äººãŒå°‘ãªã„ã‹ã‚‰ï¼Ÿ)\nä»Šå¹´ã¯ã‚³ãƒ³ãƒ†ãƒŠé–¢é€£ã«å°‘ã—è¶³ã‚’è¸ã¿è¾¼ã‚“ã ç¨‹åº¦ã ã£ãŸã®ã§ã€æ¥å¹´ã¯ã‚‚ã†å°‘ã—è¸ã¿è¾¼ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nFargate Spotã€10ã‚¿ã‚¹ã‚¯ãƒã‚¸ã§å…¨ç„¶è½ã¡ãªã„ã€‚55æ™‚é–“çµŒéã€‚ãã‚ãã‚ãŠå€¤æ®µãŒæ°—ã«ãªã‚‹å¹´é ƒâ€¦\n\u0026mdash; æ¿±ç”°å­æ²»ï¼ˆãƒãƒã‚³ãƒ¼ï¼‰ (@hamako9999) December 11, 2019 2019 å¹´ã® ElastiCache ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¨é‹ç”¨ã«ã¤ã„ã¦ (æ·±æ¾¤ã•ã‚“) ElastiCacheã®æ¦‚å¿µãŒå¤‰ã‚ã‚‹ï¼ï¼Ÿre:Growth 2019ã§ç™»å£‡ã—ãŸè³‡æ–™ã‚’å…±æœ‰ï¼ï¼ ï½œ Developers.IO ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãªã—ã§ãƒ«ã‚±ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—/ãƒ€ã‚¦ãƒ³ ãŒå¯èƒ½ ãƒªãƒ¼ãƒ€ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ : ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰æ„è­˜ã›ãšã«ãƒãƒ¼ãƒ‰ã®è¿½åŠ /å‰Šé™¤ãŒè¡Œãˆã‚‹ åå‰å¤‰æ›´ã‚³ãƒãƒ³ãƒ‰ : ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã§ãã‚‹ (ä¼¼ã¦ã„ã‚‹ã‚ˆã†ã§å±é™ºãªã‚³ãƒãƒ³ãƒ‰ãªã©) ã‚»ãƒ«ãƒ•ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒåˆ©ç”¨å¯èƒ½ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’é€šçŸ¥ã§ãã‚‹ ElastiCache ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«é–¢ã™ã‚‹ãŠè©±ã§ã—ãŸã€‚\nãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãªã—ã«ã€ã¨ã‹ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã¯æ„è­˜ã›ãšã«ã€ã¨ã„ã†ã®ã¯é‹ç”¨é¢ã‹ã‚‰è€ƒãˆã¦ã‚‚å¬‰ã—ã„ãªã¨ã¨æ€ã„ã¾ã—ãŸã€‚\nä»Šå›ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«é–¢ã—ã¦ã¯ Redis ã®ã¿ ã¨ã‹ã€ Redis ã«ã‚ˆã£ã¦ã‚‚å¯¾å¿œã—ã¦ã„ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒé•ã£ãŸã‚Šã™ã‚‹ã‚ˆã†ãªã®ã§ã€ãã“ã¯æ³¨æ„ãŒå¿…è¦ã‹ãªã¨æ€ã„ã¾ã—ãŸã€‚\nIAM/S3 Access Analyzer (å‰äº•ã•ã‚“) S3 / IAM Access Analyzer ã«ã¤ã„ã¦re:Growth 2019ã«ç™»å£‡ã—ã¾ã—ãŸ #cmregrowth #reinvent ï½œ Developers.IO å¤–éƒ¨ãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ã‹ã‚‰è‡ªåˆ†ã®ãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’æ¤œå‡ºã™ã‚‹\nS3, KMS, IAM, Lambda, SQS\nå®Ÿéš›ã«ã‚¢ã‚¯ã‚»ã‚¹ãŒã‚ã£ãŸã‹ã§ã¯ãªãã€ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã‹ã©ã†ã‹ã‚’æ¤œå‡ºã™ã‚‹\nè¿½åŠ æ–™é‡‘ã¯ãªã—\nIAM ã§è¨­å®šã™ã‚‹ã‘ã©ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã®è¨­å®šãŒå¿…è¦\nã¨ã‚Šã‚ãˆãšæœ‰åŠ¹ã«ã—ã‚ˆã†ï¼\nè‡ªåˆ†ã®ãƒªã‚½ãƒ¼ã‚¹ãŒå¤–éƒ¨ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã‹ã‚’æ¤œå‡ºã™ã‚‹ Access Analyzer ã®ãŠè©±ã§ã—ãŸã€‚\nãƒã‚¤ãƒ³ãƒˆã¯ã€ ã‚¢ã‚¯ã‚»ã‚¹ ã•ã‚ŒãŸã“ã¨ ã‚’æ¤œå‡ºã™ã‚‹ã®ã§ã¯ãªãã€ ã‚¢ã‚¯ã‚»ã‚¹ ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã“ã¨ ã‚’æ¤œå‡ºã™ã‚‹ã¨ã„ã†ã¨ã“ã‚ã§ã™ã€‚\nç„¡æ–™ãªã®ã§ã€ã¨ã«ã‹ãå…¨ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ä»Šã™ãã«æœ‰åŠ¹ã«ã—ã¦ãã ã•ã„ï¼ã¨ã„ã†ç†±ãŒã™ã”ã‹ã£ãŸã§ã™ã€‚\næœ¬æ—¥ã¯ã”æ¥å ´ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚\nå¯ã‚‹å‰ã«Access Analyzerã‚’æœ‰åŠ¹ã«ã—ã¦ã‹ã‚‰ãŠä¼‘ã¿ãã ã•ã„ã€‚#cmregrowth\n\u0026mdash; YOSHII Ryo (@YoshiiRyo1) December 11, 2019 Transit Gateway ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¾ã¨ã‚ (å³¶å·ã•ã‚“) [è³‡æ–™å…¬é–‹]re:Growth 2019 Tokyoã§Transit Gatewayã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¾ã¨ã‚ã€ç™ºè¡¨ã—ã¦ãã¾ã—ãŸ #reinvent #cmregrowth ï½œ Developers.IO 4 ã¤ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ AWS Transit Gateway Multicast AWS Transit Gateway inter-Region Peering è¤‡æ•°ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã® Transit Gateway é‹ç”¨ãŒæ¥½ã«ãªã‚‹ AWS Transit Gateway Network Manager ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é‹ç”¨ã‚’ç°¡å˜ã« éšœå®³ç‚¹ã®æ—©æœŸç™ºè¦‹ AWS Accelerated Site to site VPN Connections (é•·ã„ï¼) ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š ã‚ªãƒ³ãƒ—ãƒ¬ã‹ã‚‰ä¸€ç•ªè¿‘ã„ã‚¨ãƒƒã‚¸ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° Transit Gateway ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«é–¢ã™ã‚‹ãŠè©±ã§ã—ãŸã€‚\nä»Šå¹´ã¯ Transit Gateway ã«ã¤ã„ã¦ã®è©±ã‚’èãæ©Ÿä¼šãŒå¤šã‹ã£ãŸãªã¨ã„ã†å°è±¡ã§ã€å®Ÿéš›ã«ä½¿ã£ã¦ã¯ã„ãªã„ã‚‚ã®ã®ã€ãã®æ©Ÿèƒ½ã¨ã‹ã§ãã‚‹ã“ã¨ã«ã¤ã„ã¦ã¯é›°å›²æ°—ã§ç†è§£ã—ã¦ã„ã‚‹ã¨ã„ã†çŠ¶æ…‹ã§ã—ãŸã€‚\nä»Šå›ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå†…å®¹ã«ã¤ã„ã¦ã‚‚ã€ã€Œãªã‚‹ã»ã©ã€ä¾¿åˆ©ã«ãªã‚Šãã†ã€ãã‚‰ã„ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã§ãã¾ã—ãŸã€‚\nã‚ã¨ã€å…¨ç„¶é–¢ä¿‚ãªã„ã§ã™ã‘ã©ã€ã¨ã¦ã‚‚è‰¯ã„å£°ã§ã—ãŸã€‚\nã¾ã¨ã‚ ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã•ã‚“ä¸»å‚¬ã®ã‚¤ãƒ™ãƒ³ãƒˆ re:Growth 2019 TOKYO @ã‚¢ãƒã‚¾ãƒ³ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒ“ã‚¹ã‚¸ãƒ£ãƒ‘ãƒ³ ã«è¡Œã£ã¦ããŸã¨ã„ã†è©±ã§ã—ãŸã€‚\nre:Invent æœŸé–“ä¸­ã€æ¬¡ã€…ã«æ›´æ–°ã•ã‚Œã‚‹ãƒ–ãƒ­ã‚°ã‚’è¿½ã£ã¦ã„ã¦ã€å„ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®å†…å®¹ã«ã¤ã„ã¦ã¯ã‚µãƒ©ãƒƒã¨ç›®ã‚’é€šã—ã¦ã„ã¾ã—ãŸãŒã€å®Ÿéš›ã«å‚åŠ ã•ã‚ŒãŸç¤¾å“¡ã•ã‚“ã®ç”Ÿã®å£°ã€ç†±é‡ã‚’æ„Ÿã˜ã‚‹ã“ã¨ãŒã§ããŸã®ã¯ã¨ã¦ã‚‚è‰¯ã‹ã£ãŸã§ã™ã€‚\nå†’é ­ã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€ 2 æ™‚é–“ãŒã‚ã£ã¨ã„ã†é–“ã«æ„Ÿã˜ã‚‰ã‚Œã‚‹ãã‚‰ã„æ¿ƒã„å†…å®¹ã§ã—ãŸã€‚ãã—ã¦ã‚„ã£ã±ã‚Šã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®äººãŸã¡ã¯ç™»å£‡è³‡æ–™ãŒã‚ã‹ã‚Šã‚„ã™ã„ã—ãƒˆãƒ¼ã‚¯ã‚‚ã‚¹ãƒ ãƒ¼ã‚ºã§ã€å‡„ã„ãªã¨æ€ã„ã¾ã—ãŸã€‚\nã‚ã¨ã€ä»Šå›ã¯ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã•ã‚“ã‹ã‚‰ãŠåœŸç”£ã‚‚ã„ãŸã ãã¾ã—ãŸï¼\nT ã‚·ãƒ£ãƒ„ã¯ã²ã¨ã‚Šä¸€æšã€ãã®ä»–ã®ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ã‚„ãƒœãƒˆãƒ« (ã¿ãŸã„ãªã‚„ã¤) ãªã©ãã®ä»–è«¸ã€…ã«ã¤ã„ã¦ã¯ã”è‡ªç”±ã« ã¨ã„ã†æ„Ÿã˜ã€‚ã“ã‚Œã¨ã¯åˆ¥ã«ã€å¸°ã‚Šã«ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ã‚’ 2 æšã»ã©è¿½åŠ ã§ã„ãŸã ãã¾ã—ãŸ\u0026hellip;\nãŠåœŸç”£ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼\nä»Šå¹´ã® 2 æœˆã« JAWS Days ã«è¡Œã£ãŸã¨ãã¯ã€æ­£ç›´ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å†…å®¹ã‚’ç†è§£ã§ããªã„ã“ã¨ã‚‚å¤šã‹ã£ãŸã‚“ã§ã™ãŒã€ç´„ 1 å¹´çµŒã£ã¦ã€å„ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæƒ…å ±ã‚’èã„ã¦ã€ã€Œã‚ã‚ã€ã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã‹ã€ãã‚‰ã„ã®æ„Ÿã˜ã«ã¯ãªã£ã¦ãã¾ã—ãŸã€‚\nå¼•ãç¶šã AWS ã®æƒ…å ±ã¯é ‘å¼µã£ã¦è¿½ã£ã¦ã„ã£ã¦ã€æ¥å¹´ã¯ã‚³ãƒ³ãƒ†ãƒŠã¨æ©Ÿæ¢°å­¦ç¿’é–¢é€£ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚‚ã£ã¨ä½¿ã£ã¦ã¿ãŸã„ãªã¨æ€ã„ã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/event-regrowth-2019/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] AWS re:Invent ãµã‚Šã‹ãˆã‚Šå‹‰å¼·ä¼š re:Growth 2019 TOKYO @ AWS ã‚¸ãƒ£ãƒ‘ãƒ³ ã«è¡Œã£ã¦ãã¾ã—ãŸ"
  },
  {
    "contents": "Hugo ã§ä½œæˆã—ãŸãƒ–ãƒ­ã‚°ã®å„è¨˜äº‹å†…ã«ã€ã¯ã¦ãªãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã®ãƒ–ã‚¯ãƒä»¶æ•°ã‚’è¡¨ç¤ºã•ã›ã¦ã¿ã¾ã—ãŸã€‚\nã¯ã¦ãªãƒ–ãƒ­ã‚° (ãã‚‚ãã‚‚åŒã˜ã¯ã¦ãªã®ã‚µãƒ¼ãƒ“ã‚¹ãªã®ã§) ã¨ã‹ WordPress ã¨ã‹ã ã¨ãƒ–ã‚¯ãƒä»¶æ•°ã‚’è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå¤šã„ã§ã™ãŒé™çš„ã‚µã‚¤ãƒˆã§ã¯ã‚ã¾ã‚Šè¦‹ãªã„ã®ã§ã€å¤šå°‘ç„¡ç†ãŒã‚ã‚Šã¾ã™ãŒã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚\nç›®æ¬¡ å‰ç½®ã å‰æ æ¦‚è¦ å®Ÿéš›ã®æµã‚Œ 1. ãƒ–ã‚¯ãƒä»¶æ•°ã‚’å–å¾—ã—ã¦å€¤ã‚’ä¿å­˜ã™ã‚‹ Lambda ã‚’å®šæœŸçš„ã«å®Ÿè¡Œã™ã‚‹ 2. å„è¨˜äº‹å†…ã§ä¿å­˜ã•ã‚ŒãŸãƒ–ã‚¯ãƒä»¶æ•°ã‚’å–å¾—ã™ã‚‹ (JavaScript) ã¾ã¨ã‚ å‰ç½®ã ã“ã‚Œã¯ é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ Advent Calendar 2019 - Qiita 11 æ—¥ç›®ã®ã‚¨ãƒ³ãƒˆãƒªã§ã™ã€‚\nç©ºã„ã¦ã„ãŸã®ã§æ»‘ã‚Šè¾¼ã¿ã§å…¥ã‚Œã•ã›ã¦ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚\næ™®æ®µã“ã®ãƒ–ãƒ­ã‚°ã§ã¯ AWS ã‚„ãã®ä»–æŠ€è¡“çš„ãªã“ã¨ã‚’æ›¸ã„ã¦ã„ã¾ã™ã€‚ãã®ã»ã‹ã€ã‚¬ã‚¸ã‚§ãƒƒãƒˆã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãªã©ã‚‚æ›¸ã„ã¦ã„ã¾ã™ã€‚ å‰æ ãƒ–ã‚¯ãƒä»¶æ•°ã®è¡¨ç¤ºã«ã¯ AWS ã®å„ç¨®ã‚µãƒ¼ãƒ“ã‚¹ (Lambda, S3, CloudWatch Events) ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚ãŒã€ãªã‚‹ã¹ãæ–™é‡‘ãŒç™ºç”Ÿã—ãªã„ã‚ˆã†ãªå½¢ã§åˆ©ç”¨ã—ã¾ã™ã€‚\nã¾ãŸã€å¯¾è±¡ã¨ãªã‚‹ Hugo ã®ã‚µã‚¤ãƒˆã‚‚ AWS ä¸Šã§é‹ç”¨ã—ã¦ã„ã‚‹å‰æã§æ›¸ãã¾ã™ã€‚\næ¦‚è¦ ã¯ã¦ãªãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã«ã¯ã€ç‰¹å®šã® URL ã«ä»˜ã„ã¦ã„ã‚‹ãƒ–ã‚¯ãƒä»¶æ•°ã‚’å–å¾—ã™ã‚‹ API ãŒæä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã¯ã¦ãªãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ä»¶æ•°å–å¾—API - Hatena Developer Center ã“ã® API ã‚’åˆ©ç”¨ã—ã¦å„è¨˜äº‹ã®ãƒ–ã‚¯ãƒä»¶æ•°ã‚’å–å¾—ã—ã€ãã®å€¤ã‚’è¨˜äº‹å†…ã«è¡¨ç¤ºã—ã¾ã™ã€‚å˜ç´”ã§ã™ã­ã€‚\nãªãŠã€ API ã®åˆ©ç”¨ã«é–¢ã—ã¦ã¯ã€ã¯ã¦ãªã®åˆ©ç”¨è¦ç´„ã‚’å‚ç…§ãã ã•ã„ã€‚\nAPIè¦ç´„ãƒ»ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ãƒ»å•†æ¨™ã«ã¤ã„ã¦ - Hatena Developer Center å®Ÿéš›ã®æµã‚Œ å®Ÿéš›ã«ãƒ–ã‚¯ãƒä»¶æ•°ã®å–å¾—ã‹ã‚‰è¡¨ç¤ºã¾ã§ã®æµã‚Œã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nãƒ–ã‚¯ãƒä»¶æ•°ã‚’å–å¾—ã—ã¦å€¤ã‚’ä¿å­˜ã™ã‚‹ Lambda ã‚’å®šæœŸçš„ã«å®Ÿè¡Œã™ã‚‹ å„è¨˜äº‹å†…ã§ä¿å­˜ã•ã‚ŒãŸãƒ–ã‚¯ãƒä»¶æ•°ã‚’å–å¾—ã™ã‚‹ (JavaScript) ã‚·ãƒ³ãƒ—ãƒ«ã§ã™ã­ã€‚\nãŸã ã€ Hugo ã¯é™çš„ã‚µã‚¤ãƒˆãªã®ã§ã€æ—¢ã«ç”Ÿæˆã•ã‚ŒãŸ html ã‚„ sitemap.xml ç­‰ã‚’ä½¿ã£ã¦ä¸Šè¨˜ã®ã“ã¨ã‚’å®Ÿç¾ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã€ãã‚ŒãŒä»Šå›ã®ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚\nã§ã¯ã€å„ãƒ•ã‚§ãƒ¼ã‚ºã«ã¤ã„ã¦è©³ã—ãè¦‹ã¦ã„ãã¾ã™ã€‚\n1. ãƒ–ã‚¯ãƒä»¶æ•°ã‚’å–å¾—ã—ã¦å€¤ã‚’ä¿å­˜ã™ã‚‹ Lambda ã‚’å®šæœŸçš„ã«å®Ÿè¡Œã™ã‚‹ ã¾ãšã¯å„è¨˜äº‹ã®ãƒ–ã‚¯ãƒä»¶æ•°ã‚’å–å¾—ã—ã¦ã€ãã®å€¤ã‚’ä¿å­˜ã™ã‚‹ Lambda ã‚’ä½œæˆã—ã¾ã™ã€‚\nå€¤ã¯ã€ json ãƒ•ã‚¡ã‚¤ãƒ«ã«ã—ã¦ S3 ã«ä¿å­˜ã—ã¾ã™ã€‚ Dynamo DB ã‚„ RDS ã¯ã‚³ã‚¹ãƒˆã‚„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®é¢ã‹ã‚‰è€ƒãˆã¦åˆ©ç”¨ã—ã¾ã›ã‚“ã€‚\nãƒ–ã‚¯ãƒä»¶æ•°ã‚’å–å¾—ã™ã‚‹å¯¾è±¡ã®è¨˜äº‹ URL ã¯ã€å½“ãŸã‚Šå‰ã§ã™ãŒæ–°ã—ãè¨˜äº‹ã‚’è¿½åŠ ã™ã‚‹ãŸã³ã«å¢—ãˆã¾ã™ã€‚ãã®åº¦ã«ãƒ–ã‚¯ãƒä»¶æ•°å–å¾—å¯¾è±¡ URL ã‚’å¢—ã‚„ã—ã¦ã„ã‚‹ã¨ã‚­ãƒªãŒãªã„ã®ã§ã€å–å¾—å¯¾è±¡ã®è¨˜äº‹ URL ã¯ sitemap.xml ã‹ã‚‰å–å¾—ã—ã¾ã™ã€‚\nsitemap.xml ã«ã¯å„è¨˜äº‹ã® URL ä»¥å¤–ã«ã€ã‚¿ã‚°åˆ¥ãƒšãƒ¼ã‚¸ã‚„ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸ã‚‚å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚\nä»Šå›å–å¾—ã—ãŸã„ã®ã¯å„è¨˜äº‹ã®ãƒ–ã‚¯ãƒä»¶æ•°ã®ã¿ãªã®ã§ã€å¯¾è±¡ã¯ /post/* ã® URL ã®ã¿ã«ãªã‚Šã¾ã™ã€‚\nã¡ãªã¿ã« Hugo ã§ç”Ÿæˆã•ã‚Œã‚‹ sitemap.xml ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34; standalone=\u0026#34;yes\u0026#34; ?\u0026gt; \u0026lt;urlset xmlns=\u0026#34;http://www.sitemaps.org/schemas/sitemap/0.9\u0026#34; xmlns:xhtml=\u0026#34;http://www.w3.org/1999/xhtml\u0026#34;\u0026gt; \u0026lt;url\u0026gt; \u0026lt;loc\u0026gt;https://michimani.net/post/aws-auto-start-stop-ec2-stack-using-cdk/\u0026lt;/loc\u0026gt; \u0026lt;lastmod\u0026gt;2019-08-07T12:58:46+09:00\u0026lt;/lastmod\u0026gt; \u0026lt;/url\u0026gt; \u0026lt;url\u0026gt; \u0026lt;loc\u0026gt;https://michimani.net/post/aws-service-terms-for-using-beta-services/\u0026lt;/loc\u0026gt; \u0026lt;lastmod\u0026gt;2019-08-05T11:07:58+09:00\u0026lt;/lastmod\u0026gt; \u0026lt;/url\u0026gt; ... \u0026lt;url\u0026gt; \u0026lt;loc\u0026gt;https://michimani.net/\u0026lt;/loc\u0026gt; \u0026lt;lastmod\u0026gt;2019-08-19T18:16:11+09:00\u0026lt;/lastmod\u0026gt; \u0026lt;priority\u0026gt;0\u0026lt;/priority\u0026gt; \u0026lt;/url\u0026gt; \u0026lt;url\u0026gt; \u0026lt;loc\u0026gt;https://michimani.net/about/\u0026lt;/loc\u0026gt; \u0026lt;/url\u0026gt; \u0026lt;url\u0026gt; \u0026lt;loc\u0026gt;https://michimani.net/contact/\u0026lt;/loc\u0026gt; \u0026lt;/url\u0026gt; \u0026lt;/urlset\u0026gt; ãƒ–ã‚¯ãƒä»¶æ•°ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ã¯ã€ä»¶æ•°å–å¾— API https://bookmark.hatenaapis.com/count/entry ã«ã€ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ url ã¨ã—ã¦ä»¶æ•°ã‚’å–å¾—ã—ãŸã„ URL ã‚’æŒ‡å®šã—ã€ GET ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹ã“ã¨ã§å–å¾—ã§ãã¾ã™ã€‚\nä¾‹ãˆã° https://michimani.net/post/aws-auto-start-stop-ec2-stack-using-cdk/ ã®ãƒ–ã‚¯ãƒæ•°ã‚’å–å¾—ã—ãŸã„å ´åˆã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n$ http \u0026#34;https://bookmark.hatenaapis.com/count/entry?url=https://michimani.net/post/aws-auto-start-stop-ec2-stack-using-cdk/\u0026#34; HTTP/1.1 200 OK Cache-Control: public, max-age=3600, s-maxage=3600 Connection: keep-alive Content-Length: 2 Content-Type: text/plain Date: Tue, 10 Dec 2019 12:50:26 GMT Server: nginx Via: 1.1 3c0190220d7b3ab896def13f86f295aa.cloudfront.net (CloudFront) X-Amz-Cf-Id: 7cPpfmH9vUlgPcZUeNZ-7mXmdxOWExJik_q5h8Dsq1FwdbgBXx7BOQ== X-Amz-Cf-Pop: NRT20-C1 X-Cache: Miss from cloudfront 31 ã‚·ãƒ³ãƒ—ãƒ«ã«ãƒ–ã‚¯ãƒä»¶æ•°ã®ã¿ãŒè¿”ã£ã¦ãã¾ã™ã€‚\nã¡ãªã¿ã«ä¸Šã®ã‚³ãƒãƒ³ãƒ‰ã§ä½¿ã£ã¦ã„ã‚‹ httpie ã¯ curl ã«ä»£ã‚ã‚‹ä¾¿åˆ©ãªã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚ãœã²ä½¿ã£ã¦ã¿ã¦ãã ã•ã„ã€‚\nHTTPie â€“ command line HTTP client ã“ã®ã‚ˆã†ã«ã—ã¦å–å¾—ã—ãŸãƒ–ã‚¯ãƒä»¶æ•°ã‚’ã€ä¸‹è¨˜ã®ã‚ˆã†ãª json ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ S3 ã«ä¿å­˜ã—ã¾ã™ã€‚\n{\u0026#34;cnt\u0026#34;: 31} ãƒ•ã‚¡ã‚¤ãƒ«åã¯ã€å„è¨˜äº‹ãŒç‰¹å®šã§ãã‚‹ã‚ˆã†ã« /post/ ä»¥é™ã®æ–‡å­—åˆ—ã¨ã—ã¾ã™ã€‚\nã“ã®ä¾‹ã ã¨ aws-auto-start-stop-ec2-stack-using-cdk.json ã¨ã—ã¾ã™ã€‚\nã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚­ãƒ¼åã¨ã—ã¦ã¯ /data/htbcnt/aws-auto-start-stop-ec2-stack-using-cdk.json ã¨ã—ã¦ã„ã¾ã™ã€‚ã“ã†ã™ã‚‹ã“ã¨ã§ã€ https://michimani.net/data/htbcnt/aws-auto-start-stop-ec2-stack-using-cdk.json ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nã“ã® å–å¾— -\u0026gt; S3 ã¸ä¿å­˜ ã‚’ã€ sitemap.xml ã‹ã‚‰å–å¾—ã—ãŸè¨˜äº‹ã®æ•°ã ã‘å®Ÿè¡Œã—ã¾ã™ã€‚\nãªãœå„è¨˜äº‹ã”ã¨ã« json ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ã‹ã¨ã„ã†ã¨ã€å¾Œã«å„è¨˜äº‹ã‹ã‚‰ã“ã® json ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã™ã‚‹ JavaScript ã‚’è¨˜è¿°ã™ã‚‹ã®ã§ã™ãŒã€ãã®æ™‚ã«ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’æ¸›ã‚‰ã™ãŸã‚ã§ã™ã€‚\n1 ã¤ã® json ãƒ•ã‚¡ã‚¤ãƒ«å†…ã«å„è¨˜äº‹ã®ãƒ–ã‚¯ãƒæ•°ã‚’ä¿æŒã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€è¨˜äº‹æ•°ãŒå¢—ãˆã¦ãã‚‹ã¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚‚å¢—ãˆã‚‹ã®ã§ã€ã“ã®ã‚ˆã†ãªå½¢ã«ã—ã¦ã„ã¾ã™ã€‚\nã¨ã„ã†ã“ã¨ã§ã€å®Ÿéš›ã«å®Ÿè¡Œã—ã¦ã„ã‚‹ Lamnda (Python 3.7) ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n(gist ã«ç½®ã„ã¦ã¾ã™ Get share count in Hatena Bookmark of each of posts in Hugo site, and save it as json files on S3. )\nfrom time import sleep import boto3 import json import logging import re import traceback import urllib.parse import urllib.request import xml.etree.ElementTree as ET HATEBU_CNT_API = \u0026#39;https://bookmark.hatenaapis.com/count/entry?url=\u0026#39; S3_BUCKET = \u0026#39;\u0026lt;your-s3-bucket-name\u0026gt;\u0026#39; SITE_MAP_KEY = \u0026#39;sitemap.xml\u0026#39; HUGO_HOST = \u0026#39;\u0026lt;your-hugo-site-host\u0026gt;\u0026#39; # eg) https://michimani.net s3 = boto3.resource(\u0026#39;s3\u0026#39;) logger = logging.getLogger() logger.setLevel(logging.INFO) def get_hatebu_count(post_url): count = 0 hatebu_url = HATEBU_CNT_API + urllib.parse.quote(post_url) try: with urllib.request.urlopen(hatebu_url) as res: count = int(res.read()) except Exception as e: logger.error(\u0026#39;Hatebu count request failed: %s\u0026#39;, traceback.format_exc()) return count def get_post_url_list(): post_url_list = [] try: s3_object = s3.Object(bucket_name=S3_BUCKET, key=SITE_MAP_KEY) sitemap = s3_object.get()[\u0026#39;Body\u0026#39;].read().decode(\u0026#39;utf-8\u0026#39;) xml_root = ET.fromstring(sitemap) ns = {\u0026#39;post\u0026#39;: \u0026#39;http://www.sitemaps.org/schemas/sitemap/0.9\u0026#39;} reg = re.compile(\u0026#39;^\u0026#39; + re.escape(HUGO_HOST + \u0026#39;/post/\u0026#39;) + \u0026#39;.+\u0026#39;) for url_part in xml_root.findall(\u0026#39;post:url/post:loc\u0026#39;, ns): if reg.match(url_part.text): post_url_list.append(url_part.text) except Exception as e: logger.error(\u0026#39;Get post url failed: %s\u0026#39;, traceback.format_exc()) return post_url_list def put_hatebu_count_file(post_url, hatebu_count): try: object_key = get_key_from_post_url(post_url) s3obj = s3.Object(S3_BUCKET, object_key) data = json.dumps({\u0026#39;cnt\u0026#39;: hatebu_count}, ensure_ascii=False) s3obj.put(Body=data) except Exception as e: logger.error(\u0026#39;Put count data failed: %s\u0026#39;, traceback.format_exc()) def get_key_from_post_url(post_url): return \u0026#39;data/htbcnt/{post_key}.json\u0026#39;.format( post_key=post_url.replace(HUGO_HOST + \u0026#39;/post/\u0026#39;, \u0026#39;\u0026#39;).replace(\u0026#39;/\u0026#39;, \u0026#39;\u0026#39;)) def count_needs_update(post_url, new_count): res = False try: object_key = get_key_from_post_url(post_url) cnt_data_obj = s3.Object(bucket_name=S3_BUCKET, key=object_key) cnt_data_raw = cnt_data_obj.get()[\u0026#34;Body\u0026#34;].read().decode(\u0026#34;utf-8\u0026#34;) cnt_data = json.loads(cnt_data_raw) if new_count \u0026gt; cnt_data[\u0026#39;cnt\u0026#39;]: res = True except Exception: print(\u0026#39;Hatebu count file does not exists.\u0026#39;) res = True return res def lambda_handler(event, context): post_list = get_post_url_list() for post_url in post_list: sleep(0.5) count = get_hatebu_count(post_url) if count_needs_update(post_url, count) is True: put_hatebu_count_file(post_url, count) logger.info(\u0026#39;Updated for \u0026#34;{}\u0026#34;, new Hatebu count is \u0026#34;{}\u0026#34;\u0026#39;.format(post_url, count)) else: logger.info(\u0026#39;No update requred for \u0026#34;{}\u0026#34;\u0026#39;.format(post_url)) ã“ã‚Œã‚’ã€ CloudWatch Events ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å®šæœŸå®Ÿè¡Œã—ã¾ã™ã€‚\nå®šæœŸå®Ÿè¡Œã®é–“éš”ã«ã¤ã„ã¦ã¯é©å½“ã§ã™ãŒã€ã“ã®ãƒ–ãƒ­ã‚°ã ã¨ã»ã¼ãƒ–ã‚¯ãƒã¯ä»˜ã‹ãªã„ã®ã§ã€æ—¥æœ¬æ™‚é–“ã® 6:00 ã€œ 24:00 ã®é–“ã« 15 åˆ†é–“éš”ã§å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã§ã‚‚å¤šã„æ°—ãŒã—ã¾ã™ãŒ\u0026hellip;ã€‚\nãã®ã¨ãã® cron å¼ã¯ 0/15 0-13,21-23 * * ? * ã¨ãªã‚Šã¾ã™ã€‚ CloudWatch Events ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ cron å¼ã‚’æŒ‡å®šã™ã‚‹å ´åˆã¯ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã¯ UTC ã«ãªã‚‹ã®ã§æ³¨æ„ã§ã™ã€‚\nã“ã‚Œã§ãƒ–ã‚¯ãƒä»¶æ•°ã®å–å¾—ã¨ä¿å­˜ãŒã§ãã¾ã—ãŸã€‚\n2. å„è¨˜äº‹å†…ã§ä¿å­˜ã•ã‚ŒãŸãƒ–ã‚¯ãƒä»¶æ•°ã‚’å–å¾—ã™ã‚‹ (JavaScript) ç¶šã„ã¦ã¯ã€ä¿å­˜ã—ãŸãƒ–ã‚¯ãƒæ•°ã‚’å„è¨˜äº‹å†…ã‹ã‚‰å–å¾—ã—ã¾ã™ã€‚\nJavaScript ã§å–å¾—ã™ã‚‹ã®ã§ã™ãŒã€è¨˜è¿°ã™ã‚‹ã®ã¯å„ãƒ†ãƒ¼ãƒã®ä¸‹ã«ã‚ã‚‹ single.html ã§ã™ã€‚ã“ã®ãƒ–ãƒ­ã‚°ã§ã¯ indigo ã®ãƒ†ãƒ¼ãƒã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã®ã§ã€ ./themes/indigo/layouts/_default/single.html ã«å‡¦ç†ã‚’è¿½åŠ ã—ã¾ã™ã€‚\nå®Ÿéš›ã«ã¯ä¸‹è¨˜ã®è¨˜è¿°ã‚’ã€ single.html ã®ä¸€ç•ªä¸‹ã«è¿½åŠ ã—ã¾ã™ã€‚\n\u0026lt;script\u0026gt; showHatebuCount(); function showHatebuCount() { const postKey = location.pathname.replace(\u0026#39;/post/\u0026#39;, \u0026#39;\u0026#39;).replace(\u0026#39;/\u0026#39;, \u0026#39;\u0026#39;); const htbCntData = `/data/htbcnt/${postKey}.json`; fetch (htbCntData).then(res =\u0026gt; { const hatebuBadgeElm = document.getElementById(\u0026#39;hatebu-count-badge\u0026#39;); if (res.ok) { res.json().then(cntData =\u0026gt; { hatebuBadgeElm.innerText = cntData.cnt; }); } }); } \u0026lt;/script\u0026gt; ã¡ãªã¿ã«ä¸Šã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã§æŒ‡å®šã—ã¦ã„ã‚‹ ID atebu-count-badge ã¯ã€ã“ã®ãƒ–ãƒ­ã‚°ã®å„è¨˜äº‹ä¸‹ã«ç½®ã„ã¦ã„ã‚‹ SNS ç”¨ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã®ã“ã®éƒ¨åˆ†ã«ãªã‚Šã¾ã™ã€‚\nè¡¨ç¤ºã™ã‚‹å ´æ‰€ã«ã¤ã„ã¦ã¯é©å®œå ´æ‰€ã‚’ä½œã£ã¦è¡¨ç¤ºã—ã¦ãã ã•ã„ã€‚\nã¾ã¨ã‚ Hugo ã§ä½œæˆã—ãŸãƒ–ãƒ­ã‚°ã®å„è¨˜äº‹å†…ã«ã€ã¯ã¦ãªãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã®ãƒ–ã‚¯ãƒä»¶æ•°ã‚’è¡¨ç¤ºã•ã›ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\né™çš„ã‚µã‚¤ãƒˆã®ãƒ¡ãƒªãƒƒãƒˆã¯ä½•ã¨è¨€ã£ã¦ã‚‚ãƒ­ãƒ¼ãƒ‰ã®é€Ÿã•ãªã®ã§ãªã®ã§ã€ãƒ–ã‚¯ãƒä»¶æ•°ã«ã¤ã„ã¦ã‚‚ã‚ã‚‰ã‹ã˜ã‚é™çš„ãªãƒ•ã‚¡ã‚¤ãƒ«ã§ç”Ÿæˆã—ã¦ãŠã“ã†ã¨ã„ã†ã®ãŒä»Šå›ã®ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚\nã‚‚ã—åŒã˜ã‚ˆã†ãªæ€ã„ã‚’æŒã£ã¦ã„ã‚‹æ–¹ãŒã„ã‚Œã°ã€å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚ã¾ãŸã€Hugo ã«é™ã‚‰ãšé™çš„ã‚µã‚¤ãƒˆã§æ—¢ã«ãƒ–ã‚¯ãƒæ•°ã®è¡¨ç¤ºã‚’ã•ã‚Œã¦ã„ã‚‹æ–¹ãŒã„ã‚Œã°ã€ãã®æ–¹æ³•ã«ã¤ã„ã¦ã‚‚çŸ¥ã‚ŠãŸã„ãªãƒ¼ã¨ã„ã†æ€ã„ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/development-show-hatebu-count-in-hugo-posts/",
    "title": "Hugo ã§ä½œæˆã—ãŸãƒ–ãƒ­ã‚°ã®å„è¨˜äº‹å†…ã« Lamnda ã¨ S3 ã‚’ä½¿ã£ã¦ ã¯ã¦ãªãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã®ãƒ–ã‚¯ãƒä»¶æ•°ã‚’è¡¨ç¤ºã•ã›ã¦ã¿ãŸ"
  },
  {
    "contents": "å›½å†…ã§ã¯ãƒ¡ã‚¸ãƒ£ãƒ¼ãªãƒ‰ãƒ¡ã‚¤ãƒ³ç™»éŒ²ã‚µãƒ¼ãƒ“ã‚¹ (ãƒ¬ã‚¸ã‚¹ãƒˆãƒ©) ã§ã‚ã‚‹ ãŠåå‰.comã€‚ã“ã“ã§ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å–å¾—ã—ã¦ã„ã‚‹æ–¹ã¯å¤šã„ã¨æ€ã„ã¾ã™ã€‚ä»Šå›ã¯ã€ãŠåå‰.com ã§å–å¾—ã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ AWS ã® DNS ã‚µãƒ¼ãƒ“ã‚¹ã§ã‚ã‚‹ Amazon Route 53 ã«ç§»ç®¡ã—ãŸæ™‚ã®è©±ã§ã™ã€‚\nç›®æ¬¡ å‰ç½®ã å‰æ ã‚„ã‚‹ã“ã¨ ã‚¹ãƒ†ãƒƒãƒ— 0: æœ€ä¸Šä½ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»ç®¡ã«é–¢ã™ã‚‹è¦ä»¶ ã‚¹ãƒ†ãƒƒãƒ— 1: Amazon Route 53 ã§æœ€ä¸Šä½ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ ã‚¹ãƒ†ãƒƒãƒ— 2: DNS ã‚µãƒ¼ãƒ“ã‚¹ã‚’ Amazon Route 53 ã¾ãŸã¯åˆ¥ã® DNS ã‚µãƒ¼ãƒ“ã‚¹ãƒ—ãƒ­ãƒã‚¤ãƒ€ã«ç§»ç®¡ã™ã‚‹ ã‚¹ãƒ†ãƒƒãƒ— 3: ç¾åœ¨ã®ãƒ¬ã‚¸ã‚¹ãƒˆãƒ©ã§è¨­å®šã‚’å¤‰æ›´ã™ã‚‹ ã‚¹ãƒ†ãƒƒãƒ— 4: ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼ã®åå‰ã‚’å–å¾—ã™ã‚‹ ã‚¹ãƒ†ãƒƒãƒ— 5: ç§»ç®¡ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ ã‚¹ãƒ†ãƒƒãƒ— 6: AISPL (ã‚¤ãƒ³ãƒ‰) ã®ãŠå®¢æ§˜ã®ã¿ : ç§»ç®¡æ–™é‡‘ã‚’æ”¯æ‰•ã† ã‚¹ãƒ†ãƒƒãƒ— 7: ç¢ºèªã¨æ‰¿èª E ãƒ¡ãƒ¼ãƒ«ã®ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ ã‚¹ãƒ†ãƒƒãƒ— 8: ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®šã‚’æ›´æ–°ã™ã‚‹ ä¸€å›å¤±æ•—ã—ã¾ã—ãŸ ã¾ã¨ã‚ å‰ç½®ã ã“ã‚Œã¯ AWSåˆå¿ƒè€… Advent Calendar 2019 4 æ—¥ç›®ã®ã‚¨ãƒ³ãƒˆãƒªã§ã™ã€‚\nç©ºã„ã¦ã„ãŸã®ã§æ»‘ã‚Šè¾¼ã¿ã§å…¥ã‚Œã•ã›ã¦ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚\næ™®æ®µã“ã®ãƒ–ãƒ­ã‚°ã§ã¯ AWS ã‚„ãã®ä»–æŠ€è¡“çš„ãªã“ã¨ã‚’è‡ªåˆ†ã®ãƒ¡ãƒ¢ãƒ¬ãƒ™ãƒ«ã§æ›¸ã„ã¦ã„ã¾ã™ã€‚ãã®ã»ã‹ã€ã‚¬ã‚¸ã‚§ãƒƒãƒˆã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãªã©ã‚‚æ›¸ã„ã¦ã„ã¾ã™ã€‚ å‰æ ä»Šå› ç§»ç®¡ã™ã‚‹ã®ã¯ã“ã®ãƒ–ãƒ­ã‚°ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã‚ã‚‹ michimani.net ã§ã™ã€‚\nã“ã®è¨˜äº‹ã‚’å…¬é–‹ã™ã‚‹ã¨ãã¯æ—¢ã«ç§»ç®¡ã¯å®Œäº†ã—ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ç§»ç®¡å‰ã‹ã‚‰ç¨¼åƒã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ (æœŸé™ãŒåˆ‡ã‚Œã¦ã„ãªã„æœ‰åŠ¹ãªãƒ‰ãƒ¡ã‚¤ãƒ³) ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nã¾ãŸã€ãƒ¬ã‚¸ã‚¹ãƒˆãƒ©ã¯ ãŠåå‰.com ã§ã™ãŒã€ DNS ã‚µãƒ¼ãƒ“ã‚¹ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³ç™»éŒ²ã®ç§»ç®¡å‰ã‹ã‚‰ Route 53 ã«ç§»è¡Œã—ã¦ã‚ã‚Šã¾ã™ã€‚\nã‚„ã‚‹ã“ã¨ åŸºæœ¬çš„ã«ã¯ä¸‹è¨˜ã® AWS å…¬å¼ãƒšãƒ¼ã‚¸ã«ã‚ã‚‹ã‚¹ãƒ†ãƒƒãƒ—ã«æ²¿ã£ã¦ä½œæ¥­ã‚’é€²ã‚ã¦ã„ãã¾ã™ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³ç™»éŒ²ã® Amazon RouteÂ 53 ã¸ã®ç§»ç®¡ - Amazon Route 53 ä¸Šè¨˜ãƒšãƒ¼ã‚¸ã‹ã‚‰æŠœç²‹ã™ã‚‹ã¨ã€ã‚„ã‚‹ã“ã¨ã¯ä»¥ä¸‹ã® 8 ã‚¹ãƒ†ãƒƒãƒ—ã«åˆ†ã‘ã‚‰ã‚Œã¾ã™ã€‚\nã‚¹ãƒ†ãƒƒãƒ— 0: æœ€ä¸Šä½ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»ç®¡ã«é–¢ã™ã‚‹è¦ä»¶ ã‚¹ãƒ†ãƒƒãƒ— 1: Amazon Route 53 ã§æœ€ä¸Šä½ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ ã‚¹ãƒ†ãƒƒãƒ— 2: DNS ã‚µãƒ¼ãƒ“ã‚¹ã‚’ Amazon Route 53 ã¾ãŸã¯åˆ¥ã® DNS ã‚µãƒ¼ãƒ“ã‚¹ãƒ—ãƒ­ãƒã‚¤ãƒ€ã«ç§»ç®¡ã™ã‚‹ ã‚¹ãƒ†ãƒƒãƒ— 3: ç¾åœ¨ã®ãƒ¬ã‚¸ã‚¹ãƒˆãƒ©ã§è¨­å®šã‚’å¤‰æ›´ã™ã‚‹ ã‚¹ãƒ†ãƒƒãƒ— 4: ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼ã®åå‰ã‚’å–å¾—ã™ã‚‹ ã‚¹ãƒ†ãƒƒãƒ— 5: ç§»ç®¡ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ ã‚¹ãƒ†ãƒƒãƒ— 6: AISPL (ã‚¤ãƒ³ãƒ‰) ã®ãŠå®¢æ§˜ã®ã¿ : ç§»ç®¡æ–™é‡‘ã‚’æ”¯æ‰•ã† ã‚¹ãƒ†ãƒƒãƒ— 7: ç¢ºèªã¨æ‰¿èª E ãƒ¡ãƒ¼ãƒ«ã®ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ ã‚¹ãƒ†ãƒƒãƒ— 8: ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®šã‚’æ›´æ–°ã™ã‚‹ ã¨ã„ã†ã“ã¨ã§ã€å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°ã«ã¤ã„ã¦æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nã‚¹ãƒ†ãƒƒãƒ— 0: æœ€ä¸Šä½ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»ç®¡ã«é–¢ã™ã‚‹è¦ä»¶ ã¾ãšã€ç§»ç®¡ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒä¸‹è¨˜ã®è¦ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nç§»ç®¡å‰ã®ãƒ¬ã‚¸ã‚¹ãƒˆãƒ©ã«ç™»éŒ²ã¾ãŸç§»ç®¡ã•ã‚Œã¦ã‹ã‚‰ 60 æ—¥ãŒçµŒéã—ã¦ã„ã‚‹ã“ã¨ æœ‰åŠ¹æœŸé™ãŒåˆ‡ã‚Œã¦ã„ã¦å¾©å…ƒãŒå¿…è¦ãªå ´åˆã¯ã€å¾©å…ƒã—ã¦ã‹ã‚‰ 60 æ—¥ãŒçµŒéã—ã¦ã„ã‚‹ã“ã¨ ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒä»¥ä¸‹ã® ã„ãšã‚Œã§ã‚‚ãªã„ ã“ã¨ clientTransferProhibited pendingDelete pendingTransfer redemptionPeriod serverTransferProhibited ç™»éŒ²ã‹ã‚‰ã®æ—¥æ•°ã«ã¤ã„ã¦ã§ã™ãŒã€ã“ã‚Œã¯ ãŠåå‰.com ãƒ‰ãƒ¡ã‚¤ãƒ³Navi ã® ãƒ‰ãƒ¡ã‚¤ãƒ³ä¸€è¦§ ã‹ã‚‰å¯¾è±¡ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’é¸æŠã™ã‚‹ã¨ã€è©³ç´°ç”»é¢ã§ç¢ºèªã§ãã¾ã™ã€‚\nmichimani.net ã«ã¤ã„ã¦ã¯ç™»éŒ²ã—ãŸã®ãŒ 2017å¹´ ã ã£ãŸã®ã§å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚\nç¶šã„ã¦æœ‰åŠ¹æœŸé™ã§ã™ãŒã€ã“ã¡ã‚‰ã‚‚ç™»éŒ²æ—¥ã¨åŒã˜ç”»é¢ã§ç¢ºèªã§ãã¾ã™ã€‚\nã¾ãŸã€ whois ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\n$ whois michimani.net | grep Expiry Registry Expiry Date: 2022-12-25T09:10:45Z ç¶šã„ã¦ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã§ã™ãŒã€ã“ã¡ã‚‰ã‚‚ whois ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã§ãã¾ã™ã€‚\n$ whois michimani.net | grep \u0026#34;^Domain Status\u0026#34; Domain Status: ok https://icann.org/epp#ok ã¾ãŸã€ã“ã‚Œã‚‰ã®è¦ä»¶ä»¥å¤–ã«ã‚‚ç§»ç®¡ã«éš›ã—ã¦æ³¨æ„ã—ã¦ãŠãå†…å®¹ãŒã‚ã‚Šã¾ã™ã€‚\nç§»ç®¡ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆ AWS ã‚µãƒãƒ¼ãƒˆã«å•ã„åˆã‚ã›ã¾ã™ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³ã®æœ‰åŠ¹æœŸé™ ç§»ç®¡ã«éš›ã—ã¦ã€ç§»ç®¡å¾Œã®æœ‰åŠ¹æœŸé™ãŒç§»ç®¡å‰ã®æœ‰åŠ¹æœŸé™ã¨å¤‰ã‚ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚\nTLD ã«ã‚ˆã£ã¦ã¯ã€ç§»ç®¡å‰ã®æœ‰åŠ¹æœŸé™ã‚’ä¿æŒã—ãŸã‚Šã€æœ‰åŠ¹æœŸé™ã‚’ 1 å¹´å»¶é•·ã—ãŸã‚Šã€ã¾ãŸã¯æœ‰åŠ¹æœŸé™ã‚’ç§»ç®¡æ—¥ã® 1 å¹´å¾Œã«å¤‰æ›´ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚\nä»Šå›ã¯æ±ç”¨ TLD ã§ã‚ã‚‹ .net ãªã®ã§ã€ Route 53 ã¸ã®ç§»ç®¡ã§ã¯ æ–°ã—ã„æœ‰åŠ¹æœŸé™ã¯å‰ã®ãƒ¬ã‚¸ã‚¹ãƒˆãƒ©ã®æœ‰åŠ¹æœŸé–“ã« 1 å¹´ã‚’åŠ ãˆãŸã‚‚ã® ã«ãªã‚Šã¾ã™ã€‚\nç§»ç®¡ã™ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã® TLD ã«ã‚ˆã£ã¦ã¯æœ‰åŠ¹æœŸé™ãŒçŸ­ããªã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚‹ã®ã§ã€æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚\nè©³ç´°ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ãƒšãƒ¼ã‚¸ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ Amazon RouteÂ 53 ã«ç§»ç®¡ã™ã‚‹ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³ç™»éŒ²ã®æœ‰åŠ¹æœŸé™ãŒå—ã‘ã‚‹å½±éŸ¿ - Amazon Route 53 ç§»ç®¡ã«ã‹ã‹ã‚‹æ–™é‡‘ Route 53 ã«ç§»ç®¡ã™ã‚‹å ´åˆã€ç™ºç”Ÿã™ã‚‹ç§»ç®¡æ–™é‡‘ã¯ TLD ã”ã¨ã«æ±ºã¾ã£ã¦ã„ã¾ã™ã€‚\n.net ã§ã‚ã‚Œã° 11.00 USD ã¨ãªã‚Šã¾ã™ã€‚\nãã®ä»–ã® TLD ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ãƒšãƒ¼ã‚¸å†…ã® TLD åˆ¥ã®æœ€æ–°æ–™é‡‘è¡¨ ã® Transfer Price ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚\næ–™é‡‘ - Amazon Route 53 | AWS ã‚¹ãƒ†ãƒƒãƒ— 1: Amazon Route 53 ã§æœ€ä¸Šä½ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ ç§»ç®¡ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã® TLD ãŒ Route 53 ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚\nã‚ˆã£ã½ã©ç‰¹æ®Šãª TLD ã§ãªã‘ã‚Œã°ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ãŒã€å¿µã®ãŸã‚ä¸‹è¨˜ãƒšãƒ¼ã‚¸ã«å¯¾è±¡ã® TLD ãŒå­˜åœ¨ã™ã‚‹ã‹ã‚’ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚\nAmazon RouteÂ 53 ã§ç™»éŒ²ã§ãã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ - Amazon Route 53 ã‚¹ãƒ†ãƒƒãƒ— 2: DNS ã‚µãƒ¼ãƒ“ã‚¹ã‚’ Amazon Route 53 ã¾ãŸã¯åˆ¥ã® DNS ã‚µãƒ¼ãƒ“ã‚¹ãƒ—ãƒ­ãƒã‚¤ãƒ€ã«ç§»ç®¡ã™ã‚‹ ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»ç®¡å‰ã«ã€ DNS ã‚µãƒ¼ãƒ“ã‚¹ã‚’ Route 53 ã«ç§»è¡Œã—ã¦ãŠãã¾ã™ã€‚\nä»Šå›ã“ã‚Œã¯æ—¢ã«å®Ÿæ–½æ¸ˆã¿ãªã®ã§è©³ç´°ãªèª¬æ˜ã¯å‰²æ„›ã—ã¾ã™ãŒã€æ‰‹é †ã¨ã—ã¦ã¯ä¸‹è¨˜ãƒšãƒ¼ã‚¸ã®é€šã‚Šã§ã™ã€‚\nRouteÂ 53 ã‚’ä½¿ç”¨ä¸­ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã® DNS ã‚µãƒ¼ãƒ“ã‚¹ã«ã™ã‚‹ - Amazon Route 53 DNS ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç§»ç®¡ã™ã‚‹éš›ã«ã¯å„ãƒ¬ã‚³ãƒ¼ãƒ‰ã® TTL ã‚’ä¸€æ™‚çš„ã«çŸ­ãã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚æ—¢å­˜ã® DNS è¨­å®šã§ TTL ãŒé•·ãè¨­å®šã—ã¦ã‚ã‚‹ãƒ¬ã‚³ãƒ¼ãƒ‰ã«é–¢ã—ã¦ã¯ã€ä½™è£•ã‚’ã‚‚ã£ã¦ DNS ã‚µãƒ¼ãƒ“ã‚¹ã®å¤‰æ›´ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚\nã‚¹ãƒ†ãƒƒãƒ— 3: ç¾åœ¨ã®ãƒ¬ã‚¸ã‚¹ãƒˆãƒ©ã§è¨­å®šã‚’å¤‰æ›´ã™ã‚‹ ç¾åœ¨ã®ãƒ¬ã‚¸ã‚¹ãƒˆãƒ©ã€ã¤ã¾ã‚Š ãŠåå‰.com ã§ä¸‹è¨˜ã®é …ç›®ã«ã¤ã„ã¦è¨­å®šã‚’å¤‰æ›´ (ãŠã‚ˆã³ç¢ºèª) ã—ã¾ã™ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³ç™»éŒ²è€…ã®é€£çµ¡å…ˆãŒæœ€æ–°ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª ãƒ‰ãƒ¡ã‚¤ãƒ³è©³ç´°ç”»é¢ã§ ç™»éŒ²è€…æƒ…å ± ã«ã‚ã‚‹é€£çµ¡å…ˆã€ç‰¹ã«ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒæ­£ã—ã„ã‹ã©ã†ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚\nç§»ç®¡ã«éš›ã—ã¦ã®æ‰¿èªãªã©ã¯ã“ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«å±Šãã®ã§ã€å—ä¿¡å¯èƒ½ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãªãŠã€ãŠåå‰.com ã§ç™»éŒ²è€…æƒ…å ±ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å¤‰æ›´ã™ã‚‹ã«ã¯å°‘ã—æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚ (1 ã€œ 2æ™‚é–“ãã‚‰ã„)\nãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒ­ãƒƒã‚¯ãŒè§£é™¤ã•ã‚Œã¦ã„ã‚‹ã“ã¨ç¢ºèª ãƒ‰ãƒ¡ã‚¤ãƒ³æ©Ÿèƒ½ä¸€è¦§ã® ãƒ‰ãƒ¡ã‚¤ãƒ³ç§»ç®¡ãƒ­ãƒƒã‚¯ ã‹ã‚‰è¨­å®šã‚’ç¢ºèªã—ã€è¨­å®šã•ã‚Œã¦ã„ã‚Œã° OFF ã«ã—ã¾ã™ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³ã® DNSSEC ã‚’ç„¡åŠ¹ã«ã™ã‚‹ ãŠåå‰.com ã§ã¯æœ‰æ–™ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ãªã£ã¦ã„ã¾ã™ã€‚è¨­å®šã—ã¦ã„ã‚‹å ´åˆã¯ç„¡åŠ¹ã«ã—ã¾ã™ã€‚\nWhois ä»£è¡Œã‚µãƒ¼ãƒ“ã‚¹ã‚’è§£é™¤ã™ã‚‹ ã“ã‚Œã¯ ãŠåå‰.com ã®ã¿ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ Whois ä»£è¡Œã‚µãƒ¼ãƒ“ã‚¹ã‚’è¨­å®šã—ã¦ã„ã‚‹å ´åˆã¯è§£é™¤ã—ã¾ã™ã€‚\nã“ã“ã‚’è¨­å®šã—ãŸã¾ã¾ã ã¨ã€ Route 53 ã‹ã‚‰ç§»ç®¡ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ãŸã‚ã¨ã« ãŠåå‰.com å´ã‹ã‚‰ä¸æ‰¿èªã«ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚(ä¸€åº¦ã‚„ã£ã¦ã—ã¾ã„ã¾ã—ãŸ)\nèªè¨¼ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—ã™ã‚‹ ã“ã“ã¾ã§ã®é …ç›®ã«ã¤ã„ã¦å…¨ã¦ç¢ºèªãŠã‚ˆã³å¤‰æ›´ãŒã§ããŸã‚‰ã€ ãŠåå‰.com ã®ãƒ‰ãƒ¡ã‚¤ãƒ³è©³ç´°ç”»é¢ã§ èªè¨¼ã‚³ãƒ¼ãƒ‰ ã‚’å–å¾—ã—ã¾ã™ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³è©³ç´°ç”»é¢ã§ AuthCode ã®æ¬„ã§ è¡¨ç¤º ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ èªè¨¼ã‚³ãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nã‚¹ãƒ†ãƒƒãƒ— 4: ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼ã®åå‰ã‚’å–å¾—ã™ã‚‹ ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã«é–¢ã—ã¦ã¯ã€ Route 53 ã‚’ DNS ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦åˆ©ç”¨ã™ã‚‹å ´åˆã«ã¯ä¸è¦ã¨ãªã‚Šã¾ã™ã€‚\nä»Šå›ã¯ã™ã§ã« DNS ã‚µãƒ¼ãƒ“ã‚¹ã¯ Route 53 ã«ç§»è¡Œæ¸ˆã¿ãªã®ã§ã€ç‰¹ã«ã‚„ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã‚¹ãƒ†ãƒƒãƒ— 5: ç§»ç®¡ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ Route 53 ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»ç®¡ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¾ã™ã€‚\nãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‹ã‚‰ æ—¢å­˜ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»ç®¡ ã®ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\nç§»ç®¡ã™ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å…¥åŠ›ã—ã¦ã€ã‚«ãƒ¼ãƒˆã«è¿½åŠ ã—ã¦ã€æ¬¡ã¸é€²ã¿ã¾ã™ã€‚\nèªè¨¼ã‚³ãƒ¼ãƒ‰ ã®å…¥åŠ›ã‚’æ±‚ã‚ã‚‰ã‚Œã‚‹ã®ã§ã€å…ˆã»ã© ãŠåå‰.com ã§å–å¾—ã—ãŸèªè¨¼ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\nãƒãƒ¼ãƒ ã‚µãƒ¼ãƒã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ã§ã¯ ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨åŒã˜åå‰ã® Route 53 ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã‹ã‚‰ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ ã‚’é¸æŠã—ã¾ã™ã€‚\nãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ ã¯ã€ ã‚¹ãƒ†ãƒƒãƒ— 2 ã§è¨­å®šæ¸ˆã¿ã§ã‚ã‚‹ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã‚’é¸æŠã—ã¾ã™ã€‚\næ¬¡ã®ç”»é¢ã§ã¯ç™»éŒ²è€…æƒ…å ±ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\næ¬¡ã®ç”»é¢ã§å…¥åŠ›å†…å®¹ã‚’ç¢ºèªã—ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å®Œäº†ã—ã¾ã™ã€‚\nãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå®Œäº†ã™ã‚‹ã¨ã€æ¬¡ã«ä½•ãŒèµ·ã“ã‚‹ã‹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ç›®ã‚’é€šã—ã¦ãŠãã¾ã™ã€‚\nã“ã®ã‚ã¨ã¯ä½•é€šã‹ãƒ¡ãƒ¼ãƒ«ãŒæ¥ãŸã‚Šã—ã¾ã™ãŒã€ãã‚Œã«ã¤ã„ã¦ã¯ ã‚¹ãƒ†ãƒƒãƒ— 7 ã§è§¦ã‚Œã¾ã™ã€‚\nã‚¹ãƒ†ãƒƒãƒ— 6: AISPL (ã‚¤ãƒ³ãƒ‰) ã®ãŠå®¢æ§˜ã®ã¿ : ç§»ç®¡æ–™é‡‘ã‚’æ”¯æ‰•ã† ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã¯è©²å½“ã—ãªã„ã®ã§ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã™ã€‚\nã‚¹ãƒ†ãƒƒãƒ— 7: ç¢ºèªã¨æ‰¿èª E ãƒ¡ãƒ¼ãƒ«ã®ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ ç§»ç®¡ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå®Œäº†ã™ã‚‹ã¨ã€ AWS ã€ ãŠåå‰.com åŒæ–¹ã‹ã‚‰ã„ã‚ã„ã‚ãªãƒ¡ãƒ¼ãƒ«ãŒé£›ã‚“ã§ãã¾ã™ã€‚å®Ÿéš›ã«é£›ã‚“ã§ããŸé †ç•ªã«ã€ãã®ç¨®é¡ (ä»¶å) ã¨å¯¾å¿œã«ã¤ã„ã¦æ›¸ã„ã¦ãŠãã¾ã™ã€‚\n1. Amazon Registrar Sign-Up Confirmation ã“ã‚Œã¯ Amazon Registrar ã«åˆã‚ã¦ç™»éŒ²ã™ã‚‹å ´åˆã®ã¿é€ä¿¡ã•ã‚Œã‚‹ã‚ˆã†ã§ã™ã€‚\nç‰¹ã«å¯¾å¿œã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\n2. Amazon Web Services Invoice Available [Account: ************] [Invoice ID: ********] ãƒ‰ãƒ¡ã‚¤ãƒ³ç§»ç®¡ã®æ–™é‡‘ã«å¯¾ã™ã‚‹è«‹æ±‚æ›¸ãŒç™ºè¡Œã•ã‚Œã¾ã—ãŸã¨ã„ã†ãƒ¡ãƒ¼ãƒ«ã§ã™ã€‚\nç‰¹ã«å¯¾å¿œã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\n3. ã€é‡è¦ã€‘ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚¡ãƒ¼ç”³è«‹ã«é–¢ã™ã‚‹ç¢ºèªã®ã”é€£çµ¡ michimani.net ãŠåå‰.com ã‹ã‚‰ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ç§»ç®¡ã‚’æ‰¿èªã—ã¦ãã ã•ã„ã¨ã„ã†å†…å®¹ã®ãƒ¡ãƒ¼ãƒ«ã§ã™ã€‚\næœ¬æ–‡å†…ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ãƒªãƒ³ã‚¯ã‹ã‚‰æ‰¿èªã‚’å®Ÿæ–½ã—ã¾ã™ã€‚\n4. ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚¡ãƒ¼ç”³è«‹æ‰¿èªã®ã”é€£çµ¡ michimani.net ãŠåå‰.com ã‹ã‚‰ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ç§»ç®¡ã®æ‰¿èªãŒå®Œäº†ã—ã¾ã—ãŸã¨ã„ã†å†…å®¹ã®ãƒ¡ãƒ¼ãƒ«ã§ã™ã€‚\nç‰¹ã«å¯¾å¿œã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\n5. Verify your email address or your domain michimani.net will be suspended AWS ã‹ã‚‰ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ç™»éŒ²è€…ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã¨ã„ã†å†…å®¹ã®ãƒ¡ãƒ¼ãƒ«ã§ã™ã€‚\næœ¬æ–‡å†…ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒæ­£ã—ã„ã“ã¨ã‚’è¨¼æ˜ã—ã¾ã™ã€‚\n6. Your email address has been successfully verified AWS ã‹ã‚‰ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ç™»éŒ²è€…ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒæ‰¿èªã•ã‚Œã¾ã—ãŸã¨ã„ã†å†…å®¹ã®ãƒ¡ãƒ¼ãƒ«ã§ã™ã€‚\nç‰¹ã«å¯¾å¿œã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\n7. Transferring the domain michimani.net to Route 53 succeeded AWS ã‹ã‚‰ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»ç®¡ãŒå®Œäº†ã—ã¾ã—ãŸã¨ã„ã†å†…å®¹ã®ãƒ¡ãƒ¼ãƒ«ã§ã™ã€‚\nç‰¹ã«å¯¾å¿œã™ã‚‹ã“ã¨ã¯ãªãã€ç§»ç®¡è‡ªä½“ã¯ã“ã‚Œã§å®Œäº†ã¨ãªã‚Šã¾ã™ã€‚\nã¾ãŸã€ç§»ç®¡ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‹ã‚‰ç§»ç®¡å®Œäº†ã¾ã§ã®é€²è¡ŒçŠ¶æ³ã«ã¤ã„ã¦ã¯ã€ Route 53 ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ç§»ç®¡ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå®Œäº†ã—ã¦ã‹ã‚‰å„ãƒ¡ãƒ¼ãƒ«ãŒå±Šãã¾ã§ã®ãŠãŠã‚ˆãã®æ™‚é–“ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã—ãŸã€‚\nã¾ãŸã€æ‰¿èªç­‰ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒå¿…è¦ãªãƒ¡ãƒ¼ãƒ«ã«ã¤ã„ã¦ã¯ã€ãƒ¡ãƒ¼ãƒ«å—ä¿¡å¾Œã™ãã«å¯¾å¿œã—ã¾ã—ãŸã€‚\n1 : 2 åˆ† 2 : 5 åˆ† 3 : 20 åˆ† 4 : 35 åˆ† 5 : 35 åˆ† 6 : 35 åˆ† 7 : 90 åˆ† ã“ã‚Œã«é–¢ã—ã¦ã¯ã‚ãã¾ã§ã‚‚ç›®å®‰ã§ã€å ´åˆã«ã‚ˆã£ã¦ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»ç®¡ãŒå®Œäº†ã™ã‚‹ã¾ã§ 10 æ—¥ã»ã©ã‹ã‹ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\nã‚¹ãƒ†ãƒƒãƒ— 8: ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®šã‚’æ›´æ–°ã™ã‚‹ Transferring the domain michimani.net to Route 53 succeeded ã®ãƒ¡ãƒ¼ãƒ«ã‚’å—ä¿¡ã—ãŸã¨ã„ã†ã“ã¨ã¯ã€ç„¡äº‹ã«ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»ç®¡ãŒå®Œäº†ã—ãŸã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nã¾ãšæ°—ã«ãªã‚‹ã®ãŒã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã®æœ‰åŠ¹æœŸé™ãŒã©ã†ãªã£ã¦ã„ã‚‹ã®ã‹ ã§ã™ã€‚\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚ˆã‚‹ã¨ .net ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å ´åˆã¯æ—¢å­˜ã®æœ‰åŠ¹æœŸé™ã«ãƒ—ãƒ©ã‚¹ 1 å¹´ã•ã‚Œã‚‹ã¨ãªã£ã¦ã„ã¾ã™ã€‚\n$ whois michimani.net | grep Expiry Registry Expiry Date: 2023-12-25T09:10:45Z 1 å¹´å»¶é•·ã•ã‚Œã¦ã¾ã™ã­ã€‚\nã¤ã„ã§ã«ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚‚ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ whois michimani.net | grep \u0026#34;^Domain Status\u0026#34; Domain Status: clientTransferProhibited https://icann.org/epp#clientTransferProhibited Domain Status: transferPeriod https://icann.org/epp#transferPeriod ç§»ç®¡ç›´å¾Œãªã®ã§ clientTransferProhibited ãŠã‚ˆã³ transferPeriod ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nç§»ç®¡ãŒå®Œäº†ã—ãŸå¾Œã¯ã€ãã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å¯¾ã—ã¦ Route 53 å´ã§ä»¥ä¸‹ã®è¨­å®šã‚’æ›´æ–°ã—ã¾ã™ã€‚(å¿…è¦ã§ã‚ã‚Œã°)\nãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒ­ãƒƒã‚¯ è‡ªå‹•æ›´æ–° å»¶é•·ç™»éŒ²æœŸé–“ DNSSEC ã“ã®ã†ã¡ã€ ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒ­ãƒƒã‚¯ã€è‡ªå‹•æ›´æ–°ã€å»¶é•·æœŸé–“ç™»éŒ² ã«ã¤ã„ã¦ã¯ã€ Route 53 ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã® ç™»éŒ²æ¸ˆã¿ãƒ‰ãƒ¡ã‚¤ãƒ³ ã‹ã‚‰å¤‰æ›´ã—ã¾ã™ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³ä¸€è¦§ã§ã‚‚ ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒ­ãƒƒã‚¯ã€è‡ªå‹•æ›´æ–° ãã‚Œãã‚Œã®è¨­å®šçŠ¶æ³ã€æœ‰åŠ¹æœŸé™ãŒç¢ºèªã§ãã¾ã™ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€è©³ç´°æƒ…å ±ã‚’ç¢ºèªã€ã¾ãŸå„ç¨®è¨­å®šã‚’å¤‰æ›´ã§ãã¾ã™ã€‚\nDNSSEC ã®è¨­å®šã‚’æœ‰åŠ¹ã«ã™ã‚‹ãŸã‚ã«ã¯ã€ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã® DNS ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚è©³ã—ãã¯ ãƒ‰ãƒ¡ã‚¤ãƒ³ã® DNSSEC ã®è¨­å®š - Amazon Route 53 ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nä»¥ä¸Šã§ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»ç®¡ã¯å®Œäº†ã¨ãªã‚Šã¾ã™ã€‚\nã²ã¨ã¤ã²ã¨ã¤ç¢ºèªã—ãªãŒã‚‰ã‚„ã‚‹ã¨æ•°æ™‚é–“ã‹ã‹ã‚‹ã®ã§ã€æ™‚é–“ã«ä½™è£•ã®ã‚ã‚‹ã¨ãã«ã‚„ã£ãŸã»ã†ãŒã„ã„ã§ã™ã­ã€‚\nä¸€å›å¤±æ•—ã—ã¾ã—ãŸ AWS ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«æ²¿ã£ã¦ç§»ç®¡ä½œæ¥­ã‚’é€²ã‚ã¦ã„ã¾ã—ãŸãŒã€ä½œæ¥­ã®ä¸­ã§ç§»ç®¡ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒä¸€åº¦ä¸æ‰¿èªã¨ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚\nç†ç”±ã¨ã—ã¦ã¯ã€ ãŠåå‰.com ã®è¨­å®šã§ Whois ä»£è¡ŒãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ãŸ ã‹ã‚‰ã§ã™ã€‚\nç§»ç®¡ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ã‚ã¨ã«ä¸æ‰¿èªã«ãªã‚‹ã¨ã„ã†è‰¯ã„å¤±æ•—ã‚’ã—ãŸã®ã§ã€ãã®æ™‚ã®çŠ¶æ³ã«ã¤ã„ã¦ã‚‚æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nç§»ç®¡ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å¾Œã¯å‰é …ã® ã‚¹ãƒ†ãƒƒãƒ— 7 ã®é€šã‚Šãƒ¡ãƒ¼ãƒ«ãŒã„ãã¤ã‹å±Šãã¾ã™ã€‚ãã®éš›ã€ 3 ã§å±Šãã¯ãšã® ãŠåå‰.com ã‹ã‚‰ã®ãƒ¡ãƒ¼ãƒ«ã®ã‚¿ã‚¤ãƒˆãƒ«ãŒ ã€Œãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚¡ãƒ¼ç”³è«‹ä¸æ‰¿èªã®ã”é€£çµ¡ michimani.netã€ ã¨ãªã£ã¦ãŠã‚Šã€æœ¬æ–‡ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªå†…å®¹ã§ã—ãŸã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³åï¼šmichimani.net\nä¸Šè¨˜ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚¡ãƒ¼ç”³è«‹ã«ã¤ãã¾ã—ã¦ã€ä¸‹è¨˜ã„ãšã‚Œã‹ã«è©²å½“ã™ã‚‹ãŸã‚ç”³è«‹ã‚’ä¸æ‰¿èªã¨ã„ãŸã—ã¾ã—ãŸã€‚\n1.è©²å½“URLã‚ˆã‚Šä¸æ‰¿èªå‡¦ç†ãŒè¡Œã‚ã‚ŒãŸ\n2.Whoisæƒ…å ±å…¬é–‹ä»£è¡Œã‚µãƒ¼ãƒ“ã‚¹ã®è¨­å®šãŒè¡Œã‚ã‚Œã¦ã„ã‚‹\n3.ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å¥‘ç´„çµ‚äº†æ—¥ã¾ã§7æ—¥ä»¥å†…ï¼ˆJPãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã¿ï¼‰\n4.æœŸé™å†…ã«æ‰¿èªå‡¦ç†ãŒè¡Œã‚ã‚Œãªã‹ã£ãŸ\nå†åº¦ç”³è«‹ã‚’è¡Œã†å ´åˆã¯ã€ä¸Šè¨˜äº‹é …ã«è©²å½“ã—ãªã„ã“ã¨ã‚’ç¢ºèªã—ãŸä¸Šã§ç”³è«‹ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚\nã“ã®æ™‚ç‚¹ã§ Whois ä»£è¡Œã ãªã¨æ°—ä»˜ã„ãŸã®ã§ã€ãŠåå‰.com ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ Whois ä»£è¡Œã‚µãƒ¼ãƒ“ã‚¹ã‚’è§£é™¤ã—ã¾ã—ãŸã€‚\nå†åº¦ç”³è«‹ã‚’è¡Œã† ã¨ã¯ã€ Route 53 ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰å†åº¦ ç§»ç®¡ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚( ã‚¹ãƒ†ãƒƒãƒ— 5 ã®ã‚„ã‚Šç›´ã—)\nç§»ç®¡ã®é€²è¡ŒçŠ¶æ³ã«ã¤ã„ã¦ã¯ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ç¢ºèªã§ãã‚‹ã®ã§ã€å†ç”³è«‹ã«ã¤ã„ã¦ã¯ã“ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ ã€Œãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»ç®¡ ãŒå¤±æ•—ã€ ã«ãªã£ã¦ã‹ã‚‰è¡Œã„ã¾ã—ãŸã€‚\nã¡ãªã¿ã«å†ç”³è«‹ã‚’è¡Œã†ã¨ã€ç§»ç®¡æ–™é‡‘ã®è«‹æ±‚ã«é–¢ã™ã‚‹ãƒ¡ãƒ¼ãƒ«ãŒå†åº¦é€ä¿¡ã•ã‚Œã¦ãã¾ã™ã€‚ã¤ã¾ã‚Šã€ 2 å›åˆ†ã®æ–™é‡‘ãŒ ä¸€æ™‚çš„ã« ç™ºç”Ÿã—ã¾ã™ã€‚ ä¸€æ™‚çš„ã« ã¨æ›¸ã„ãŸã®ã¯ã€ç§»ç®¡ãƒªã‚¯ã‚¨ã‚¹ãƒˆå¾Œã«ãªã‚“ã‚‰ã‹ã®ç†ç”±ã§ä¸æ‰¿èªã¨ãªã£ãŸå ´åˆã¯ã€ãã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ç™ºç”Ÿã—ãŸç§»ç®¡æ–™é‡‘ã¯ã¡ã‚ƒã‚“ã¨è¿”é‡‘ã•ã‚Œã‚‹ã‹ã‚‰ã§ã™ã€‚ã“ã®ã“ã¨ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚ä¸‹è¨˜ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nRoute 53 ã¯ã€ç§»ç®¡ãƒ—ãƒ­ã‚»ã‚¹ã‚’é–‹å§‹ã™ã‚‹å‰ã«ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»ç®¡ã«å¯¾ã—ã¦æ–™é‡‘ã‚’è«‹æ±‚ã—ã¾ã™ã€‚ä½•ã‚‰ã‹ã®ç†ç”±ã§ç§»ç®¡ãŒå¤±æ•—ã—ãŸå ´åˆã¯ã€ç›´ã¡ã«ãŠå®¢æ§˜ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ç§»ç®¡ã®è²»ç”¨ã‚’è¿”å´ã—ã¾ã™ã€‚\nãªã®ã§ã€å†ç”³è«‹ã«ãªã£ã¦ã‚‚ç§»ç®¡æ–™é‡‘ã¯é‡è¤‡ã—ã¦è«‹æ±‚ã•ã‚Œãªã„ã®ã§ã€å®‰å¿ƒã—ã¦ãã ã•ã„ã€‚\nå®Ÿéš› å†ç”³è«‹å¾Œã«ã¯ã€å†ç”³è«‹ã®ç§»ç®¡æ–™é‡‘ã«é–¢ã™ã‚‹è«‹æ±‚ãƒ¡ãƒ¼ãƒ«ã¨ã€å¤±æ•—ã—ãŸåˆ†ã®ç§»ç®¡æ–™é‡‘ã®è¿”é‡‘ã«é–¢ã™ã‚‹è«‹æ±‚ãƒ¡ãƒ¼ãƒ«ãŒå±Šãã¾ã™ã€‚è«‹æ±‚ã«é–¢ã—ã¦ã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã‚‚ç¢ºèªã§ãã€ä¸‹è¨˜ã®ã‚ˆã†ã« 2 å›åˆ†ã®ç§»ç®¡æ–™é‡‘ã¨ã€1 å›åˆ†ã®è¿”é‡‘ãŒç™ºç”Ÿã—ã¦ã„ã‚‹ã®ãŒã‚ã‹ã‚Šã¾ã™ã€‚\nã¾ã¨ã‚ ãƒ‰ãƒ¡ã‚¤ãƒ³ç™»éŒ²ã‚’ ãŠåå‰ .com ã‹ã‚‰ Route 53 ã«ç§»ç®¡ã—ãŸè©±ã§ã—ãŸã€‚\nãã‚‚ãã‚‚ãªãœç§»ç®¡ã—ã‚ˆã†ã¨æ€ã£ãŸã‹ã¨ã„ã†ã¨ã€ãŠåå‰.com ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãŒæ“ä½œã—ã¥ã‚‰ã„ (é·ç§»æ–¹æ³•ã«ã‚ˆã£ã¦ã¯ UI ãŒç•°ãªã‚‹ã€åºƒå‘ŠãŒå‡ºã¦ãã‚‹\u0026hellip;) ã®ã¨ã€è«¸ã€…ã®æ¡ˆå†…ãƒ¡ãƒ¼ãƒ«ãŒå¤šã™ãã‚‹ (è‡ªå‹•æ›´æ–°è¨­å®šã®å‚¬ä¿ƒã€æ›´æ–°æ™‚ã«åˆ©ç”¨ã§ãã‚‹ã‚¯ãƒ¼ãƒãƒ³ã®æ¡ˆå†…\u0026hellip;) ã‹ã‚‰ã§ã™ã€‚\nã¾ãŸã€æ—¢ã« DNS ã‚µãƒ¼ãƒ“ã‚¹ã¯ Route 53 ã«ç§»è¡Œæ¸ˆã¿ã ã£ãŸã®ã§ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç™»éŒ²ã‚‚ Route 53 ã«ç§»ç®¡ã—ã¦ã—ã¾ã£ãŸæ–¹ãŒã‚¹ãƒƒã‚­ãƒªã—ã¾ã™ã‚ˆã­ã€‚\nä»Šå›ã¯ ãŠåå‰.com ã‹ã‚‰ã®ç§»ç®¡ã«ã¤ã„ã¦æ›¸ãã¾ã—ãŸãŒã€ãŠãã‚‰ãä»–ã®ãƒ¬ã‚¸ã‚¹ãƒˆãƒ©ã‹ã‚‰ã®ç§»ç®¡ã‚‚ã»ã¼åŒæ§˜ã®æµã‚Œã ã¨æ€ã†ã®ã§ã€åŒã˜ã‚ˆã†ãªæ‚©ã¿ã‚’æŠ±ãˆã¦ã„ã‚‹æ–¹ã¯ Route 53 ã¸ã®ç§»ç®¡ã‚’æ¤œè¨ã—ã¦ã¿ã¦ã¯ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚\n",
    "permalink": "https://michimani.net/post/aws-domain-transfer-to-route53-from-onamae-com/",
    "title": "ãƒ‰ãƒ¡ã‚¤ãƒ³ç™»éŒ²ã‚’ ãŠåå‰.com ã‹ã‚‰ Route 53 ã«ç§»ç®¡ã—ãŸ"
  },
  {
    "contents": "ç™ºè¡¨ã‹ã‚‰ 3 ãƒ¶æœˆå¾…ã£ã¦æ‰‹ã«å…¥ã‚ŒãŸ Powerbeats Proã€‚ä½¿ã„å§‹ã‚ãŸå½“åˆã¯å¿«é©ã•ã—ã‹ãªã‹ã£ãŸã®ã§ã™ãŒã€ä½¿ã„ç¶šã‘ã¦ã„ã‚‹ã†ã¡ã«è‰¯ããªã„ã¨ã“ã‚ã‚‚æ˜ã‚‰ã‹ã«ãªã£ã¦ãã¾ã—ãŸã€‚ä»Šå›ã¯ Powerbeats Pro ã‚’ 4 ãƒ¶æœˆä½¿ã£ã¦ã¿ã¦æ„Ÿã˜ãŸè‰¯ããªã„ã¨ã“ã‚ã«ã¤ã„ã¦æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nPowerbeats Pro ã®ãŠã•ã‚‰ã„ Powerbeats Pro ã®è‰¯ããªã‹ã£ãŸã¨ã“ã‚ å……é›»ã§ãã¦ã„ãªã„ã¨ããŒã‚ã‚‹ iPhone ã¨ã®è‡ªå‹•æ¥ç¶šãŒã†ã¾ãã„ã‹ãªã„ã¨ããŒã‚ã‚‹ ãƒã‚¹ã‚¯ã€ãƒ¡ã‚¬ãƒã¨ã®åŒæ™‚ä½¿ç”¨ãŒè¾›ã„ ã‚±ãƒ¼ã‚¹ãŒå¤§ãã™ãã‚‹ ã¾ã¨ã‚ Powerbeats Pro ã®ãŠã•ã‚‰ã„ Powerbeats Pro ã«ã¤ã„ã¦ã¯ä»¥å‰ã«ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’æ›¸ãã¾ã—ãŸã€‚\nã“ã®è¨˜äº‹ã§ã‚‚æ›¸ã„ã¦ã„ã‚‹ã¨ãŠã‚Šã€ Powerbeats Pro ã¯ Apple ã® H1 ãƒãƒƒãƒ—ã‚’æ­è¼‰ã—ãŸå®Œå…¨ãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹ã‚¤ãƒ¤ãƒ›ãƒ³ã§ã€ AirPods ã¨åŒæ§˜ã« iOS ç«¯æœ«ã¨ã®è¦ªå’Œæ€§ (åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã€è‡ªå‹•æ¥ç¶š) ãŒé«˜ãã€ã•ã‚‰ã«ã‚«ãƒŠãƒ«å‹ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šã€ã¾ã•ã« AirPods ã®ä¸Šä½äº’æ› ã¨ã„ã†å°è±¡ã§ã—ãŸã€‚\nå½¢çŠ¶ã¯ AirPods ã¨ã¯å¤§ããç•°ãªã‚Šã€ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒƒã‚¯ãŒä»˜ã„ã¦ã„ã¦æœ¬ä½“ãŠã‚ˆã³ã‚±ãƒ¼ã‚¹ã®ã‚µã‚¤ã‚ºãƒ»é‡é‡ã¨ã‚‚ã« AirPods ã‚ˆã‚Šã‚‚å¤§ãããªã£ã¦ã„ã¾ã™ã€‚ã—ã‹ã—ãªãŒã‚‰è£…ç€ã—ãŸæ„Ÿã˜ã§ã¯ãã‚Œã«ã‚ˆã‚‹ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã¯ã»ã¨ã‚“ã©æ„Ÿã˜ã‚‰ã‚Œãšã€ã‚€ã—ã‚å®‰å®šæ„ŸãŒã‚ã£ã¦è‰¯ã„ãªã¨ã„ã†å°è±¡ã§ã—ãŸã€‚\nã‚«ãƒŠãƒ«å‹ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šå¤–éƒ¨ã®éŸ³ã‚‚ã‚ã‚‹ç¨‹åº¦é®æ–­ã•ã‚Œã‚‹ãŸã‚ã€é€šå‹¤ä¸­ã§ã‚‚å¿«é©ã«éŸ³æ¥½ã‚’è´ãã“ã¨ãŒã§ãã€ã‚‚ã†ã“ã‚Œã¯ 2019 å¹´ã®ãƒ™ã‚¹ãƒˆãƒã‚¤ã ãªã¨ç¢ºä¿¡ã—ã¦ã„ã¾ã—ãŸã€‚\nã§ã¯ãã‚“ãª Powerbeats Pro ã®ã©ã®è¾ºãŒè‰¯ããªã‹ã£ãŸã®ã§ã—ã‚‡ã†ã‹ã€‚\nPowerbeats Pro ã®è‰¯ããªã‹ã£ãŸã¨ã“ã‚ 2019 å¹´ã®ãƒ™ã‚¹ãƒˆãƒã‚¤ã‹ã¨æ€ã‚ã‚ŒãŸ Powerbeats Pro ã§ã™ãŒã€ä½¿ã£ã¦ã„ã‚‹ã†ã¡ã«è‰¯ããªã„ãªãƒ¼ã€ä¸ä¾¿ã ãªãƒ¼ã¨æ€ã†ã¨ã“ã‚ãŒã„ãã¤ã‹ã‚ã‚Šã¾ã—ãŸã€‚\nå……é›»ã§ãã¦ã„ãªã„ã¨ããŒã‚ã‚‹ Powerbeats Pro ã¯ AirPods ã¨åŒæ§˜ã«ã‚±ãƒ¼ã‚¹ã«å…¥ã‚Œã¦ãŠãã“ã¨ã§å……é›»ãŒå¯èƒ½ã§ã™ã€‚\nã‚±ãƒ¼ã‚¹å†…ã§ã¯ãƒã‚°ãƒãƒƒãƒˆã§å›ºå®šã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ãŠã‚Šã€ã‚±ãƒ¼ã‚¹å†…ã®å……é›»ç«¯å­ã¨ Powerbeats Pro æœ¬ä½“ã®å……é›»ç«¯å­ãŒæ¥ã™ã‚‹ã‚ˆã†ã«å›ºå®šã•ã‚Œã¾ã™ã€‚\nã—ã‹ã—ã“ã®å›ºå®šãŒç”˜ã„ã¨ã„ã†ã‹ã€éŠã³ãŒã‚ã‚‹ã¨ã„ã†ã‹ã€å……é›»ç«¯å­åŒå£«ãŒæ¥ã—ãªã„çŠ¶æ…‹ã§ã‚±ãƒ¼ã‚¹ã«åã¾ã£ã¦ã—ã¾ã† (ãƒã‚°ãƒãƒƒãƒˆã§å›ºå®šã•ã‚Œã¦ã—ã¾ã†) ã“ã¨ãŒã‚ã‚‹ã‚“ã§ã™ã€‚\nãã®çµæœã€å·¦å³ã©ã¡ã‚‰ã‹ã€ã‚‚ã—ãã¯ä¸¡æ–¹ãŒååˆ†ã«å……é›»ã§ãã¦ã„ãªã„ã¨ã„ã†çŠ¶æ³ãŒä½•åº¦ã‹ã‚ã‚Šã¾ã—ãŸã€‚\nå¯¾ç­–ã¨ã—ã¦ã¯ã€å……é›»ç«¯å­ãŒã—ã£ã‹ã‚Šã¨æ¥ã—ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã‚±ãƒ¼ã‚¹å¤–ã® LED ãƒ©ã‚¤ãƒˆãŒä¸€ç¬èµ¤ãå…‰ã‚‹ã®ã§ã€ã‚±ãƒ¼ã‚¹ã«åã‚ã‚‹ã¨ãã¯ãã®å…‰ã‚’ç¢ºèªã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã—ãŸã€‚\nAirPods ã®ã¨ãã¯ä½•ã‚‚è€ƒãˆãšã«ã‚±ãƒ¼ã‚¹ã«å…¥ã‚Œã‚Œã°è‰¯ã‹ã£ãŸã®ã§ã€ã“ã®ç‚¹ã¯ä¸ä¾¿ã§ã—ãŸã€‚\niPhone ã¨ã®è‡ªå‹•æ¥ç¶šãŒã†ã¾ãã„ã‹ãªã„ã¨ããŒã‚ã‚‹ AirPods ã¨åŒæ§˜ã«ã€ Powerbeats Pro ã¯è€³ã«è£…ç€ã™ã‚‹ã¨åŒæ™‚ã« iPhone ã¨æ¥ç¶šã•ã‚Œã€åŠ¹æœéŸ³ãŒé³´ã‚Šã¾ã™ã€‚\nã—ã‹ã—ã€ã“ã®è‡ªå‹•æ¥ç¶šãŒç‰‡æ–¹ã—ã‹æ¥ç¶šã•ã‚Œãªã„ã¨ã„ã†ã“ã¨ãŒå‰²ã¨é »ç¹ã«ã‚ã‚Šã¾ã—ãŸã€‚ãã®ã¨ãã¯åŠ¹æœéŸ³ã¯å·¦å³ã©ã¡ã‚‰ã‹ã‹ã‚‰ã®ã¿èã“ãˆã¦ãã¦ã€ãã®çŠ¶æ…‹ã§éŸ³æ¥½ã‚’å†ç”Ÿã—ã¦ã‚‚ç‰‡æ–¹ã‹ã‚‰ã—ã‹èã“ãˆã¾ã›ã‚“ã€‚\nã“ã†ãªã£ãŸå ´åˆã®å¯¾å¿œæ–¹æ³•ã¨ã—ã¦ã¯ã€ä¸€åº¦ Powerbeats Pro æœ¬ä½“ã‚’ä¸¡æ–¹ã¨ã‚‚ã‚±ãƒ¼ã‚¹ã®ä¸­ã«å…¥ã‚Œã€æ•°ç§’å¾…ã£ã¦ã‹ã‚‰ã‚ã‚‰ãŸã‚ã¦è€³ã«è£…ç€ã—ã¾ã™ã€‚ã™ã‚‹ã¨ã€å·¦å³ä¸¡æ–¹ãŒæ­£å¸¸ã«æ¥ç¶šã•ã‚Œã¾ã™ã€‚\nä¸€åº¦ã‚±ãƒ¼ã‚¹ã«åã‚ã‚‹ã¨ã„ã†ã®ãŒãƒã‚¤ãƒ³ãƒˆã§ã€ãŸã è€³ã‹ã‚‰å¤–ã—ã¦ä»˜ã‘ç›´ã™ã ã‘ã§ã¯ç‰‡æ–¹ã ã‘ãŒæ¥ç¶šã•ã‚Œã‚‹çŠ¶æ…‹ã‹ã‚‰æŠœã‘å‡ºã™ã“ã¨ã¯ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚\nã“ã®äº‹è±¡ãŒèµ·ã“ã‚‹é »åº¦ãŒæ„å¤–ã¨é«˜ãã€å¹³æ—¥ã®é€šå‹¤æ™‚é–“ã¨æ˜¼ä¼‘ã¿ã«è£…ç€ã™ã‚‹ã¨ãªã‚‹ã¨åˆè¨ˆã§ 15 å›ã®è£…ç€æ©Ÿä¼šãŒã‚ã‚‹ã‚ã‘ã§ã™ãŒã€ãã®ã†ã¡ 2 ã€œ 3 å›ã¯ç™ºç”Ÿã—ã¦ã„ã¾ã—ãŸã€‚\nã‚±ãƒ¼ã‚¹ã«æˆ»ã—ã•ãˆã™ã‚Œã°å¤§ä¸ˆå¤«ãªã‚“ã§ã™ãŒã€ã•ã™ãŒã«ã‚ã‚“ã©ãã•ã™ãã¾ã™ã‚ˆã­ã€‚\nãƒã‚¹ã‚¯ã€ãƒ¡ã‚¬ãƒã¨ã®åŒæ™‚ä½¿ç”¨ãŒè¾›ã„ Powerbeats Pro ã«ã¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒƒã‚¯ãŒä»˜ã„ã¦ãŠã‚Šã€ãã‚ŒãŒã‚ã‚‹ã“ã¨ã«ã‚ˆã£ã¦è£…ç€æ™‚ã®å®‰å®šæ„ŸãŒå¢—ã—ã¾ã™ã€‚\nå‰å›ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼è¨˜äº‹ã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€ã“ã®ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒƒã‚¯ã¯æ„å¤–ã¨ã‚¹ãƒˆãƒ¬ã‚¹ãŒç„¡ãã¦ã€é•·æ™‚é–“è£…ç€ã—ã¦ã„ã¦ã‚‚ã»ã¼ç—›ããªã‚Šã¾ã›ã‚“ã€‚ (ä½¿ã„å§‹ã‚ã¦æ•°æ—¥ã¯ç—›ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“)\nã—ã‹ã—ã€åŒã˜ãè€³ã«ã‹ã‘ã‚‹ã‚‚ã®ã¨ã—ã¦ã¯ãƒã‚¹ã‚¯ã‚„ãƒ¡ã‚¬ãƒãŒã‚ã‚Šã¾ã™ã€‚\nãã‚Œã‚‰ã¨ã®åŒæ™‚ä½¿ç”¨ã¯ã¡ã‚‡ã£ã¨è¾›ã„ã§ã™ã€‚ç§è‡ªèº«ã¯ PC ä½¿ç”¨æ™‚ã—ã‹ãƒ¡ã‚¬ãƒã‚’ã‹ã‘ãªã„ã®ã§ã€è¾›ã„ã®ã¯ä¸»ã«ãƒã‚¹ã‚¯ä½¿ç”¨æ™‚ã§ã™ã€‚\nè³¼å…¥ã—ãŸå½“æ™‚ã¯ãƒã‚¹ã‚¯ãŒå¿…è¦ãªå­£ç¯€ã§ã¯ãªã‹ã£ãŸã®ã§ã»ã¨ã‚“ã©æ„è­˜ã—ã¦ã„ãªã‹ã£ãŸã®ã§ã™ãŒã€å¯’ããªã£ã¦ãã¦ãƒã‚¹ã‚¯ãŒå¿…è¦ãªå­£ç¯€ã«ãªã‚Šã€ãã®è¾›ã•ã«æ°—ä»˜ã„ã¦ã—ã¾ã„ã¾ã—ãŸã€‚\nã¾ãšã‚¤ãƒ¤ãƒ¼ãƒ•ãƒƒã‚¯ã¨ãƒã‚¹ã‚¯ã®ç´ã¨ã„ã† 2 ç¨®é¡ã®ã‚‚ã®ã‚’è€³ã«ã‹ã‘ã‚‹ã¨ã„ã†ç‚¹ã§ã€è€³ã«ã‚¹ãƒˆãƒ¬ã‚¹ãŒã‹ã‹ã‚Šã¾ã™ã€‚ã©ã¡ã‚‰ã‹ä¸€æ–¹ãªã‚‰ã»ã¼æ°—ã«ãªã‚‰ãªã„ã‚“ã§ã™ãŒã€ä¸¡æ–¹ã¨ãªã‚‹ã¨ã€ç—›ããªã‚‹ã¾ã§ã®æ™‚é–“ãŒçŸ­ããªã£ã¦è¾›ã„ã§ã™ã€‚\nã•ã‚‰ã«ã€ãƒã‚¹ã‚¯ã®ç´ã¨ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒƒã‚¯ãŒçµ¡ã¾ã‚‹ã“ã¨ãŒå¤šã€…ã‚ã‚Šã¾ã™ã€‚ã©ã¡ã‚‰ã‹ã‚’å¤–ãã†ã¨ã—ãŸæ™‚ã«é«˜ç¢ºç‡ã§çµ¡ã¾ã£ã¦ã—ã¾ã„ã€çµå±€ã©ã¡ã‚‰ã‚‚ä¸€æ—¦å¤–ã•ãªã„ã¨ã„ã‘ãªã„ã€ã¿ãŸã„ãªã“ã¨ã«ã‚‚ãªã‚Šã¾ã—ãŸã€‚\nãƒ¡ã‚¬ãƒã®å ´åˆã¯çµ¡ã¾ã‚‹ã¨ã„ã†ã“ã¨ã¯ç„¡ã„ã§ã™ãŒã€ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒƒã‚¯ã¨ãƒ¡ã‚¬ãƒã®ãƒ¢ãƒ€ãƒ³éƒ¨åˆ†ã¨ã®å ´æ‰€ã®å–ã‚Šåˆã„ãŒç™ºç”Ÿã—ã¦ã€ Powerbeats Pro ã®è£…ç€æ™‚/è„±ç€æ™‚ã«ãƒ¡ã‚¬ãƒã‚‚ä»˜ã‘ç›´ã™å¿…è¦ãŒå‡ºã¦ãã¾ã™ã€‚\nç§ã®å ´åˆã¯ Powerbeats Pro ã‚’ä½¿ã†å ´é¢ã£ã¦ã»ã¨ã‚“ã©é›»è»Šã§ã®ç§»å‹•ä¸­ãªã®ã§ã€å¯’ã„å­£ç¯€ã‚„èŠ±ç²‰ã®å­£ç¯€ã«ã¯ã»ã¼ãƒã‚¹ã‚¯ã‚’ã‹ã‘ã¦ã„ã¾ã™ã€‚\nè³¼å…¥ã—ãŸæ™‚æœŸãŒã¡ã‚‡ã†ã©ãƒã‚¹ã‚¯ã‚’ã‹ã‘ãªã„å­£ç¯€ã ã£ãŸã®ã§è€ƒæ…®ã§ãã¦ã„ã¾ã›ã‚“ã§ã—ãŸãŒã€ã¡ã‚‡ã£ã¨è¾›ã„ãƒã‚¤ãƒ³ãƒˆã§ã™ã­ã€‚\nã‚±ãƒ¼ã‚¹ãŒå¤§ãã™ãã‚‹ ã“ã‚Œã¯ã‚‚ã†è³¼å…¥å‰ã‹ã‚‰ã‚ã‹ã£ã¦ã„ã¦ã€ã‚ã‚‹ç¨‹åº¦è¦šæ‚Ÿã‚‚ã—ã¦ã„ãŸã‚ã‘ã§ã™ãŒã€ã‚„ã¯ã‚Šã‚±ãƒ¼ã‚¹ãŒã‹ãªã‚Šå¤§ãã„ã§ã™ã€‚\nã‚ã‚‰ãŸã‚ã¦ AirPods ã¨æ¯”è¼ƒã—ãŸç”»åƒã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€ãã®å¤§ãã•ã¯ãƒãƒ³ãƒ‘ãªã„ã§ã™ã­ã€‚\nã‚±ãƒ¼ã‚¹ã®è³ªæ„Ÿã‚‚æ»‘ã‚Šã‚„ã™ã„ã‚‚ã®ã«ãªã£ã¦ã„ã¦ã€æ‰‹ãŒä¹¾ç‡¥ã—ã¦ã„ãŸã‚Šæ‰‹è¢‹ã‚’ã¯ã‚ã¦ã„ãŸã‚Šã™ã‚‹ã¨æ»‘ã£ã¦è½ã¨ã—ã¦ã—ã¾ã†ã“ã¨ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚\nã¾ãŸã€ã“ã†ã„ã£ãŸã‚¤ãƒ¤ãƒ›ãƒ³ã®ã‚±ãƒ¼ã‚¹ãªã©ã¯ã‚«ãƒãƒ³ã®å¤–å´ã«ã‚ã‚‹å°ã•ã‚ã®ãƒã‚±ãƒƒãƒˆã«å…¥ã‚ŒãŸã‚Šã™ã‚‹ã“ã¨ãŒå¤šã„ã¨æ€ã†ã®ã§ã™ãŒã€ãã®éš›ã«ã‚‚ã“ã®å¤§ãã•ãŒãƒãƒƒã‚¯ã«ãªã£ã¦ãã¾ã™ã€‚ã‚‚ã¡ã‚ã‚“ã‚«ãƒãƒ³ã®ç¨®é¡ã«ã‚‚ã‚ˆã‚Šã¾ã™ãŒã€‚\nã‚±ãƒ¼ã‚¹è‡ªä½“ã‚’ã‚¹ãƒˆãƒ©ãƒƒãƒ—ã‚„ã‚«ãƒ©ãƒ“ãƒŠä»˜ãã®ä¿è­·ã‚±ãƒ¼ã‚¹ç­‰ã«å…¥ã‚Œã¦ã¶ã‚‰ä¸‹ã’ã‚‹ã¨ã„ã†é¸æŠè‚¢ã‚‚ã‚ã‚Šã€å®Ÿéš›ã« Amazon ã§ã‚«ãƒ©ãƒ“ãƒŠä»˜ãã®ã‚±ãƒ¼ã‚¹ã‚’è²·ã£ã¦ã—ã°ã‚‰ãã‚«ãƒãƒ³ã«ã¶ã‚‰ä¸‹ã’ã¦ã„ã¾ã—ãŸã€‚ã—ã‹ã—ã€ã‚„ã¯ã‚Šãã®å ´åˆã§ã‚‚å¤§ãã•ãŒãƒãƒƒã‚¯ã¨ãªã‚Šã€ã¶ã‚‰ä¸‹ã’ã¦ã„ã‚‹æ„ŸãŒå¼·ããªã£ã¦æ°—ã«ãªã‚Šã¾ã™ã€‚ã¾ãŸã€å¤§ããæºã‚Œã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã‚«ãƒ©ãƒ“ãƒŠã®ä»˜ã‘æ ¹éƒ¨åˆ†ãŒç ´æã—ãªã„ã‹ã€ã¨ã„ã£ãŸå¿ƒé…ã‚‚ã—ã¦ã—ã¾ã„ã€çµå±€ã¶ã‚‰ä¸‹ã’ã‚‹ã®ã¯ã‚„ã‚ã¾ã—ãŸã€‚\nPowerbeats Proé©ç”¨ ã‚¤ãƒ¤ãƒ›ãƒ³ å……é›»ã‚±ãƒ¼ã‚¹ ã‚·ãƒªã‚³ãƒ³ä¿è­·ã‚±ãƒ¼ã‚¹ é˜²æ°´ é˜²å¡µ è€è¡æ’ƒ é˜²å‚· ãƒ•ãƒƒã‚¯å¼ã‚­ãƒ¼ãƒ›ãƒ«ãƒ€ãƒ¼ä»˜ã æºå¸¯ã«ä¾¿åˆ© Beats Powerbeats Proã«å¯¾å¿œï¼ˆèµ¤ï¼‰\nã‚ã¨ã€ã‚±ãƒ¼ã‚¹ã®é–‹ãæ–¹ãŒè±ªå¿«ã§ (ã¨ã„ã†è¡¨ç¾ãŒé©åˆ‡ã‹ã¯ã‚ã‹ã‚Šã¾ã›ã‚“ãŒ) ã€ãƒãƒã‚°ãƒªã¿ãŸã„ãªé–‹ãæ–¹ã«ãªã‚‹ã‚“ã§ã™ã‚ˆã€‚\nã“ã®å¤§ãã•ã§ãã®é–‹ãæ–¹ã¨ãªã‚‹ã¨ã€é–‹ã„ãŸçŠ¶æ…‹ã ã¨ã•ã‚‰ã«å¤§ãããªã‚Šã¾ã™ã€‚ã›ã£ã‹ãå®Œå…¨ãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹ã‚¤ãƒ¤ãƒ›ãƒ³ã§è£…ç€ã—ã¦ã„ã‚‹çŠ¶æ…‹ã‚‚ã‚¹ã‚¿ã‚¤ãƒªãƒƒã‚·ãƒ¥ãªã®ã«ã€ã‚±ãƒ¼ã‚¹ã‹ã‚‰ã®å‡ºã—å…¥ã‚ŒãŒã‚¹ãƒãƒ¼ãƒˆã˜ã‚ƒãªã„ã‚“ã§ã™ã‚ˆã­ã€‚\nã“ã®å¤§ãã•ã«é–¢ã—ã¦ã¯è³¼å…¥å‰ã‹ã‚‰ã‚ã‹ã£ã¦ã„ãŸã“ã¨ã§ã¯ã‚ã‚Šã¾ã™ãŒã€å®Ÿéš›ã«ä½¿ã£ã¦ã„ã‚‹ã†ã¡ã«ã‚„ã£ã±ã‚Šæ°—ã«ãªã£ã¦ãã‚‹éƒ¨åˆ†ã§ã—ãŸã€‚\nã¾ã¨ã‚ Powerbeats Pro ã‚’ 4 ãƒ¶æœˆä½¿ã£ã¦ã¿ã¦æ„Ÿã˜ãŸè‰¯ããªã„ã¨ã“ã‚ã«ã¤ã„ã¦ã®è©±ã§ã—ãŸã€‚\nä»Šå›ã¯è‰¯ããªã„éƒ¨åˆ†ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ã¦æ›¸ãã¾ã—ãŸãŒã€ Powerbeats Pro ã¯æœ¬å½“ã«è‰¯ã„ã‚¤ãƒ¤ãƒ›ãƒ³ã§ã™ï¼(èª¬å¾—åŠ›ãªã„ã§ã™ãŒ)\nè‰¯ããªã„éƒ¨åˆ†ã¯ç¢ºã‹ã«ã‚ã‚‹ã‚“ã§ã™ãŒã€ãã®ã»ã‹ã®éƒ¨åˆ†ã§ ãƒãƒƒãƒ†ãƒªãƒ¼ã®æŒã¡ã ã£ãŸã‚Šã€é«˜éŸ³è³ªã ã£ãŸã‚Šã§è£…ç€ã—ã¦ã„ã‚‹ã¨ãã®å®‰å®šæ„Ÿã ã£ãŸã‚Šã¯ AirPos ã«ã¯ç„¡ã„ã‚‚ã®ã§ã™ã€‚\nç™ºå£²å½“åˆã¯ãƒ–ãƒ©ãƒƒã‚¯ã®ã¿ãŒè³¼å…¥å¯èƒ½ã§ã—ãŸãŒã€ 8 æœˆã«ãã®ä»–ã® 3 è‰² (ã‚¢ã‚¤ãƒœãƒªãƒ¼ã€ãƒ¢ã‚¹ã€ãƒã‚¤ãƒ“ãƒ¼) ã®ç™ºå£²ãŒé–‹å§‹ã•ã‚Œã¦ã‹ã‚‰ã¯ã€é›»è»Šå†…ã§ã‚‚ä½¿ã£ã¦ã„ã‚‹äººã‚’ã‚ˆãè¦‹ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nç™ºå£²é–‹å§‹å½“æ™‚ã‚ˆã‚Šä¾¡æ ¼ã‚‚å®‰ããªã£ã¦ã„ã‚‹ã®ã§ã€ Powerbeats Pro æ¬²ã—ã‹ã£ãŸã‘ã©ä¾¡æ ¼é¢ã§æ•¬é ã—ã¦ã„ãŸæ–¹ã€ã‚«ãƒ©ãƒ¼ãƒ©ã‚¤ãƒ³ãƒŠãƒƒãƒ—ã§æˆ‘æ…¢ã—ã¦ã„ãŸæ–¹ã¯ã‚ã‚‰ãŸã‚ã¦ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¦ã¯ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚\n",
    "permalink": "https://michimani.net/post/gadget-review-weakpoint-of-powerbeats-pro/",
    "title": "[ãƒ¬ãƒ“ãƒ¥ãƒ¼] Powerbeats Pro ã‚’ 4 ãƒ¶æœˆä½¿ã£ã¦ã¿ã¦æ„Ÿã˜ãŸè‰¯ããªã„ã¨ã“ã‚"
  },
  {
    "contents": "Amazon SES ã‹ã‚‰ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã™ã‚‹ã«ã¯ã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ãŸã¯ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æ¤œè¨¼ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä»Šå›ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æ¤œè¨¼ã—ã¦ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã™ã‚‹ã¨ã“ã‚ã¾ã§ã‚„ã£ã¦ã¿ãŸã®ã§ãã®ãƒ¡ãƒ¢ã§ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ ã‚„ã£ã¦ã¿ã‚‹ 1. SES ã§ãƒ‰ãƒ¡ã‚¤ãƒ³æ¤œè¨¼ 2. ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ãƒ†ã‚¹ãƒˆ 3. SES ã‹ã‚‰ã®é€ä¿¡åˆ¶é™è§£é™¤ã‚’ã‚µãƒãƒ¼ãƒˆã«ç”³è«‹ 4. å¤–éƒ¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å¯¾ã—ã¦ãƒ¡ãƒ¼ãƒ«é€ä¿¡ ã¾ã¨ã‚ æ¦‚è¦ Amazon SES (ä»¥ä¸‹ã€SES) ã‹ã‚‰ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¦ã¿ã¾ã™ã€‚\nSES ã‹ã‚‰ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã™ã‚‹ãŸã‚ã«ã¯ã€é€ä¿¡å…ƒã¨ãªã‚‹ ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æ¤œè¨¼ ã™ã‚‹æ–¹æ³•ã¨ã€é€ä¿¡å…ƒã¨ãªã‚‹ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã® ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æ¤œè¨¼ ã™ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚\nãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®æ¤œè¨¼ã§ã¯ã€ test@michimani.net ã¨ã„ã†ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ã§ã“ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nä¸€æ–¹ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã®æ¤œè¨¼ã§ã¯ã€ miichimani.net ã¨ã„ã†ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ã§ã€ test-desu@michimani.net ã‚„ test-dayo@michimani.net ãªã©ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã•ãˆ michimani.net ã§ã‚ã‚Œã° @ ä»¥å‰ã¯ãªã‚“ã§ã‚‚ã‚ˆããªã‚Šã¾ã™ã€‚\nä»Šå›ã¯å¾Œè€…ã® ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æ¤œè¨¼ ã—ã¦ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¦ã¿ã¾ã™ã€‚\nã¡ãªã¿ã« Amazon SES ã¯ 2019å¹´11æœˆæ™‚ç‚¹ã§ã¯æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ (ap-northeast-1) ã§åˆ©ç”¨ã§ããªã„ãŸã‚ã€ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ (us-east-1) ã§åˆ©ç”¨ã—ã¾ã™ã€‚\nã‚„ã£ã¦ã¿ã‚‹ å…·ä½“çš„ãªæ‰‹é †ã¯ä¸‹è¨˜ã®æµã‚Œã«ãªã‚Šã¾ã™ã€‚\nSES ã§ãƒ‰ãƒ¡ã‚¤ãƒ³æ¤œè¨¼ ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ãƒ†ã‚¹ãƒˆå®Ÿæ–½ SES ã‹ã‚‰ã®é€ä¿¡åˆ¶é™è§£é™¤ã‚’ã‚µãƒãƒ¼ãƒˆã«ç”³è«‹ å¤–éƒ¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å¯¾ã—ã¦ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã—ã¦ã¿ã‚‹ 1. SES ã§ãƒ‰ãƒ¡ã‚¤ãƒ³æ¤œè¨¼ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ SES ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã€ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã® Domains ã‚’é¸æŠã—ã€ Verify a New Domain ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å…¥åŠ›ã™ã‚‹ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€æ¤œè¨¼ã—ãŸã„ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å…¥åŠ›ã—ã¦ Verify This Domain ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚\nGenerate DKIM Setting ã®ãƒã‚§ãƒƒã‚¯ã¯ã—ã¦ã‚‚ã—ãªãã¦ã‚‚ OK ã§ã™ã€‚DKIM ã¨ã¯ DomainKeys Identified Mail ã®ã“ã¨ã§ã€é€ä¿¡è€…ãŒæš—å·åŒ–ã‚­ãƒ¼ã§ãƒ¡ãƒ¼ãƒ«ã‚’ç½²åã§ãã‚‹è¦æ ¼ã®ã“ã¨ã§ã™ã€‚Amazon SES ã§ã¯ã“ã“ã§ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦å…¨ã¦ã®é€ä¿¡ãƒ¡ãƒ¼ãƒ«ã« DKIM ç½²åã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ãŸã€ã“ã“ã§ãƒã‚§ãƒƒã‚¯ã—ãªãã¦ã‚‚ã€ SES ã® SendRawEmail API ã‚’ä½¿ã£ã¦ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã™ã‚‹éš›ã«ã€å€‹åˆ¥ã« DKIM ç½²åã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nè©³ã—ãã¯ä¸‹è¨˜ã®ãƒšãƒ¼ã‚¸ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nAmazon SES ã«ãŠã‘ã‚‹ DKIM ã‚’ä½¿ã£ãŸ E ãƒ¡ãƒ¼ãƒ«ã®èªè¨¼ - Amazon Simple Email Service Verify This Domain ã‚’æŠ¼ã™ã¨ã€ãƒ‰ãƒ¡ã‚¤ãƒ³æ¤œè¨¼ã«å¿…è¦ãª DNS ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ç®¡ç†ã—ã¦ã„ã‚‹ DNS ã‚µãƒ¼ãƒ“ã‚¹ã«ã¦ã“ã‚Œã‚‰ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ç™»éŒ²ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€ Route 53 ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€ãƒ¢ãƒ¼ãƒ€ãƒ«å†…ã® Use Route 53 ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã“ã¨ã§è‡ªå‹•ã§è¨­å®šã—ã¦ãã‚Œã¾ã™ã€‚\nUse Route 53 ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ç™»éŒ²ã™ã‚‹ DNS ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ç”»é¢ã«æ˜ ã‚Šã¾ã™ã€‚ã“ã“ã§ã¯ MX ãƒ¬ã‚³ãƒ¼ãƒ‰ã«é–¢ã™ã‚‹ Warning ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nå†…å®¹ã¨ã—ã¦ã¯ã€ ã“ã®æ“ä½œã«ã‚ˆã£ã¦æ—¢å­˜ã® MX ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒä¸Šæ›¸ãã•ã‚Œã‚‹ãŸã‚ã€ã“ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ãƒ¡ãƒ¼ãƒ«ã®å—ä¿¡ã‚’ã™ã‚‹äºˆå®šãŒãªã‘ã‚Œã°ãƒã‚§ãƒƒã‚¯ã‚’ã—ãªã„ã‚ˆã†ã« ã¨ã„ã†å†…å®¹ã§ã™ã€‚\nç™»éŒ²ã™ã‚‹ãƒ¬ã‚³ãƒ¼ãƒ‰ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¦ Create Record Sets ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€ Route 53 ã«ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒè¿½åŠ ã•ã‚Œã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã®æ¤œè¨¼ãŒé–‹å§‹ã•ã‚Œã¾ã™ã€‚\næ¤œè¨¼çµæœã¯ SES ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ä¸€è¦§ç”»é¢ã§ç¢ºèªã§ãã‚‹ã®ã§ã€ã—ã°ã‚‰ãæ™‚é–“ã‚’ç½®ã„ã¦æ¬¡ã®ã‚­ãƒ£ãƒ—ãƒãƒ£ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚Œã°æ¤œè¨¼å®Œäº†ã§ã™ã€‚\n2. ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ãƒ†ã‚¹ãƒˆ ãƒ‰ãƒ¡ã‚¤ãƒ³æ¤œè¨¼ã¯å®Œäº†ã—ã¾ã—ãŸãŒã€ã“ã®æ™‚ç‚¹ã§ã¯å¤–éƒ¨ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å¯¾ã—ã¦ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚ (ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹çŠ¶æ…‹)\nãªã®ã§ã€ä¸€æ—¦ã„ã¾æ¤œè¨¼ãŒå®Œäº†ã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³å®›ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¦ã¿ã¾ã™ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³ä¸€è¦§ã‹ã‚‰ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ãƒã‚§ãƒƒã‚¯ã—ãŸçŠ¶æ…‹ã§ã€ä¸Šã«ã‚ã‚‹ Send a Test Email ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚\nã™ã‚‹ã¨ã€ãƒ†ã‚¹ãƒˆãƒ¡ãƒ¼ãƒ«é€ä¿¡ç”¨ã®ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ From , To, Subject, Body ã‚’ãã‚Œãã‚Œå…¥åŠ›ã—ã¾ã™ã€‚To æ¬„ã«ã¯ From ã¨åŒã˜ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nSend Test Email ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œãšã«ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒé–‰ã˜ã‚Œã°ã€é€ä¿¡å®Œäº†ã§ã™ã€‚\né€ä¿¡çŠ¶æ…‹ã«ã¤ã„ã¦ã¯ã€ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã® Sending Statistics ã«ã‚ã‚‹ Deliveries ã®ã‚°ãƒ©ãƒ•ã§ç¢ºèªã§ãã¾ã™ã€‚\n3. SES ã‹ã‚‰ã®é€ä¿¡åˆ¶é™è§£é™¤ã‚’ã‚µãƒãƒ¼ãƒˆã«ç”³è«‹ ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ã«ã¦é€ä¿¡ã§ãã‚‹ã“ã¨ãŒç¢ºèªã§ããŸã®ã§ã€å¤–éƒ¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å¯¾ã—ã¦é€ä¿¡ãŒã§ãã‚‹ã‚ˆã†ã«ã€AWS ã®ã‚µãƒãƒ¼ãƒˆã‚»ãƒ³ã‚¿ãƒ¼ã‹ã‚‰ SES é€ä¿¡åˆ¶é™ç·©å’Œã‚’ç”³è«‹ã—ã¾ã™ã€‚\nã‚µãƒãƒ¼ãƒˆã‚»ãƒ³ã‚¿ãƒ¼ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰ Create case ã‚’æŠ¼ã—ã¦, Service limit increase ã‚’é¸æŠã—ã¾ã™ã€‚\nLimit Type ã§ SES é€ä¿¡åˆ¶é™ ã‚’é¸æŠã—ã¾ã™ã€‚\nã™ã‚‹ã¨ã„ãã¤ã‹ã®å…¥åŠ›æ¬„ãŒå‡ºã¦ãã¾ã™ãŒã€å…¨ã¦ç©ºæ¬„ãƒ»æœªé¸æŠã§ã‚‚ã‹ã¾ã„ã¾ã›ã‚“ã€‚\nç¶šã„ã¦åˆ¶é™ç·©å’Œã‚’ç”³è«‹ã™ã‚‹å¯¾è±¡ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã€ç·©å’Œã™ã‚‹å¯¾è±¡ã¨ãã®å€¤ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¯ä»Šå›ã¯ ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ ã‚’é¸æŠã—ã¾ã™ã€‚\nç·©å’Œã®å¯¾è±¡ã¯ å¸Œæœ›ã™ã‚‹ä¸€æ—¥ã‚ãŸã‚Šã®é€ä¿¡ã‚¯ã‚©ãƒ¼ã‚¿ ã¨ å¸Œæœ›ã™ã‚‹æœ€å¤§é€ä¿¡ãƒ¬ãƒ¼ãƒˆ ã‹ã‚‰é¸ã¹ã¾ã™ãŒã€ Add another request ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã“ã¨ã§è¤‡æ•°ã®ç·©å’Œå¯¾è±¡ã‚’æŒ‡å®šã§ãã‚‹ã®ã§ã€ä¸¡æ–¹æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\nä»Šå›ã¯ã¨ã‚Šã‚ãˆãš å¸Œæœ›ã™ã‚‹ä¸€æ—¥ã‚ãŸã‚Šã®é€ä¿¡ã‚¯ã‚©ãƒ¼ã‚¿ ã‚’ 100 ã§ç”³è«‹ã—ã¦ã¿ã¾ã™ã€‚\nç¶šã„ã¦ç”³è«‹ã®ç†ç”±ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\næœ€å¾Œã«ã‚µãƒãƒ¼ãƒˆã‹ã‚‰ã®è¿”ç­”è¨€èªã€è¿”ç­”æ–¹æ³• (ã“ã®å ´åˆã¯ Web ã®ã¿é¸æŠå¯) ã‚’é¸æŠã—ã¦ã€ Submit ã™ã‚Œã°ç”³è«‹å®Œäº†ã§ã™ã€‚\nã‚ã¨ã¯ã‚µãƒãƒ¼ãƒˆã‹ã‚‰ã®è¿”ç­”ã‚’å¾…ã¤ã ã‘ã§ã™ã€‚\nã‚µãƒãƒ¼ãƒˆã®å¥‘ç´„ãƒ—ãƒ©ãƒ³ã«ã‚‚ã‚ˆã‚‹ã¨æ€ã„ã¾ã™ãŒã€ Basic ãƒ—ãƒ©ãƒ³ã ã¨åˆ¶é™ç·©å’Œã¾ã§ 13 æ™‚é–“ãã‚‰ã„ã‹ã‹ã‚Šã¾ã—ãŸã€‚ä½™è£•ã‚’æŒã£ã¦ç”³è«‹ã—ãŸã»ã†ãŒè‰¯ã•ãã†ã§ã™ã€‚\nã¡ãªã¿ã«ã‚µãƒãƒ¼ãƒˆã‹ã‚‰ã®è¿”ç­”ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªå†…å®¹ã§ã—ãŸã€‚\nå¸Œæœ›ã™ã‚‹ä¸€æ—¥ã‚ãŸã‚Šã®é€ä¿¡ã‚¯ã‚©ãƒ¼ã‚¿ ã‚’ 100 ã§ç”³è«‹ã—ã¾ã—ãŸãŒã€çµæœã¨ã—ã¦ 50,000 ã«ãªã‚Šã¾ã—ãŸã€‚ã‚‚ã—ã‹ã™ã‚‹ã¨ã“ã‚ŒãŒæœ€ä½ã‚¯ã‚©ãƒ¼ã‚¿ãªã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nå€¤ã‚’æŒ‡å®šã—ãªã‹ã£ãŸ å¸Œæœ›ã™ã‚‹æœ€å¤§é€ä¿¡ãƒ¬ãƒ¼ãƒˆ ã«ã¤ã„ã¦ã¯ æ¯ç§’ 14 ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ ã¨ãªã‚Šã¾ã—ãŸã€‚\nã¡ãªã¿ã« SES ã®åˆ¶é™ç·©å’Œç”³è«‹ã¯åˆã‚ã¦ã ã£ãŸã®ã§ã™ãŒã€å†…å®¹ã¨ã—ã¦ã¯ã‚¯ã‚©ãƒ¼ã‚¿ã®åˆ¶é™ç·©å’Œã§ã€ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ã‹ã‚‰ã®ç§»å‹•ã¯ãã®å‰¯ç”£ç‰©ã¿ãŸã„ãªæ„Ÿã˜ãªã‚“ã§ã§ã—ã‚‡ã†ã‹ã€‚\n4. å¤–éƒ¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å¯¾ã—ã¦ãƒ¡ãƒ¼ãƒ«é€ä¿¡ ç„¡äº‹ã«ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹çŠ¶æ…‹ã‚’æŠœã‘å‡ºã™ã“ã¨ãŒã§ããŸ (ã¯ãš) ãªã®ã§ã€å®Ÿéš›ã«å¤–éƒ¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¦ã¿ã¾ã™ã€‚\næ–¹æ³•ã¨ã—ã¦ã¯ã€ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹çŠ¶æ…‹ã§å®Ÿæ–½ã—ãŸæ–¹æ³•ã¨åŒã˜ã§ã™ã€‚\nä»Šå›ã¯ Gmail å®›ã«é€ä¿¡ã—ã¦ã¿ã¾ã™ã€‚\né€ä¿¡ã—ã¦ã™ãã«å—ä¿¡ãŒç¢ºèªã§ãã¾ã—ãŸã€‚\nã¾ãŸã€ AWS CLI ã‹ã‚‰ã‚‚é€ä¿¡ã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚\n$ aws ses send-email \\ --from ses-cli@michimani.net \\ --to \u0026lt;hogehoge\u0026gt;@gmail.com \\ --subject \u0026#34;Test mail from Amazon SES via CLI\u0026#34; \\ --text \u0026#34;This is a tes mail from Amazon SES via CLI.\u0026#34; \\ --region us-east-1 { \u0026#34;MessageId\u0026#34;: \u0026#34;0100016e7c582b54-90ffeb69-f983-4a2c-b471-12345abcdefg-000000\u0026#34; } ã“ã¡ã‚‰ã‚‚ç„¡äº‹ã«å—ä¿¡ã§ãã¾ã—ãŸã€‚\nã¾ã¨ã‚ Amazon SES ã§ãƒ‰ãƒ¡ã‚¤ãƒ³æ¤œè¨¼ã‚’ã—ã¦ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nEC2 ã‹ã‚‰ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¦ã„ã‚‹ã¨é€ä¿¡åˆ¶é™ã«å¼•ã£ã‹ã‹ã£ãŸã‚Šã€ã¾ãŸãã®åˆ¶é™è§£é™¤ã‚‚ Elastic IP ã”ã¨ã«ç”³è«‹ãŒå¿…è¦ã ã£ãŸã‚Šã—ã¦ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã«æ¬ ã‘ã¾ã™ã€‚\né€ä¿¡ã™ã‚‹ãƒ¡ãƒ¼ãƒ«ã®ä»¶æ•°ãŒå°‘ãªã‹ã£ãŸã¨ã—ã¦ã‚‚ã€é€ä¿¡ã«ã¯ Amazon SES ã‚’ä½¿ç”¨ã—ãŸæ–¹ãŒé•·æœŸçš„ã«ã¿ã‚‹ã¨è‰¯ã•ãã†ã§ã™ã€‚\nã¡ãªã¿ã« EC2 ã«ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã—ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ SES ã‚’åˆ©ç”¨ã—ã¦ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã™ã‚‹å ´åˆã€æ¯æœˆæœ€åˆã® 62,000 é€šã¯ç„¡æ–™ã§ã€ãã‚Œä»¥é™ 1,000 é€šã”ã¨ã« 0.10 USD ã®æ–™é‡‘ãŒç™ºç”Ÿã—ã¾ã™ã€‚\nãã®ä»–ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ·»ä»˜ã—ãŸå ´åˆã®è¿½åŠ æ–™é‡‘ã‚„ã€é€ä¿¡ã ã‘ã§ãªãå—ä¿¡ã‚‚ã—ãŸå ´åˆã€ã¾ãŸ EC2 ä¸Šã®ã‚¢ãƒ—ãƒªã§ã¯ãªã E ãƒ¡ãƒ¼ãƒ«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚„ãã®ä»–ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‹ã‚‰ SES ã‚’ä½¿ç”¨ã—ãŸå ´åˆã®æ–™é‡‘ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\næ–™é‡‘ - Amazon SES | AWS ",
    "permalink": "https://michimani.net/post/aws-send-mail-via-ses-using-domain/",
    "title": "Amazon SES ã§ãƒ‰ãƒ¡ã‚¤ãƒ³æ¤œè¨¼ã—ã¦ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "å…ˆæ—¥æ–°ãŸãªã‚µãƒ¼ãƒ“ã‚¹ãŒç™ºè¡¨ã•ã‚Œã€ AWS ã® Code ã‚·ãƒªãƒ¼ã‚º (CodeCommit, CodeBuild, CodeDeploy, CodePipeline) ã®ãã‚Œãã‚Œã‹ã‚‰ Amazon SNS ã¨ AWS Chatbot (beta) ã«å¯¾ã—ã¦é€šçŸ¥ã‚’é€ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ä»Šå›ã¯ã“ã‚Œã‚‰ã®ä¸­ã‹ã‚‰ã€å®Ÿéš›ã« CodeBuild ã‹ã‚‰ SNS çµŒç”±ã§ Slack ã«é€šçŸ¥ã‚’é€ã£ã¦ã¿ãŸã¨ã„ã†è©±ã§ã™ã€‚\nè¿½è¨˜ 2020/02/26 CodeCommit ã®é€šçŸ¥ã«ã¤ã„ã¦ã‚‚æ›¸ãã¾ã—ãŸã€‚\nè¿½è¨˜ 2020/04/23 AWS Chatbot ãŒä¸€èˆ¬åˆ©ç”¨å¯èƒ½ (GA) ã«ãªã‚Šã¾ã—ãŸã€‚CLoudWatch Aram ã‚’ Slack ã«é€šçŸ¥ã—ã¦ã¿ãŸè¨˜äº‹ã‚’æ›¸ã„ãŸã®ã§ã“ã¡ã‚‰ã‚‚å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nç›®æ¬¡ æ¦‚è¦ CodeBuild ã‹ã‚‰ Slack ã«é€šçŸ¥ã—ã¦ã¿ã‚‹ ãã‚‚ãã‚‚ä½•ãŒå¬‰ã—ã„ã®ã‹ CodeBuild ã§é€šçŸ¥ã®è¨­å®š å®Ÿéš›ã«ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹ ã¾ã¨ã‚ æ¦‚è¦ å†’é ­ã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€ AWS ã® Code ã‚·ãƒªãƒ¼ã‚º (CodeCommit, CodeBuild, CodeDeploy, CodePipeline) ã®å„ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ã€ Amazon SNS ãŠã‚ˆã³ç¾åœ¨ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ™ãƒ¼ã‚¿ç‰ˆã¨ã—ã¦å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ AWS Chatbot ã«å¯¾ã—ã¦é€šçŸ¥ã‚’é€ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nAWS CodeCommitã€AWS CodeBuildã€AWS CodeDeployã€AWS CodePipeline é€šçŸ¥ã®ã”ç´¹ä»‹ ã“ã‚Œã¾ã§ Code ã‚·ãƒªãƒ¼ã‚ºã‹ã‚‰ã®é€šçŸ¥ã¯ã€ CodePipeline å†…ã« Lambda ã‚’æŒŸã‚“ã ã‚Šã€å„ã‚µãƒ¼ãƒ“ã‚¹å†…ã§ç™ºç”Ÿã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã«å¯¾ã—ã¦ CloudWatch Events ã‚’è¨­å®šã—ãŸã‚Šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸãŒã€ã“ã®é€šçŸ¥ã‚µãƒ¼ãƒ“ã‚¹ã®èª•ç”Ÿã«ã‚ˆã£ã¦ãã®æ‰‹é–“ãŒãªããªã‚Šã€ã‚ˆã‚Šç°¡å˜ã« Code ã‚·ãƒªãƒ¼ã‚ºã‹ã‚‰ã®é€šçŸ¥ã‚’ç™ºä¿¡ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nã“ã®é€šçŸ¥ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢ã™ã‚‹è©³ã—ã„å†…å®¹ã¯ã€ä¸Šè¨˜ã® AWS å…¬å¼ãƒšãƒ¼ã‚¸ã®ã»ã‹ã€ä¸‹è¨˜ã®ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã•ã‚“ã®ãƒ–ãƒ­ã‚°ã‚’å‚ç…§ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nã€é–‹ç™ºè€…å¿…è¦‹ã€‘Codeã‚·ãƒªãƒ¼ã‚ºã«æœ€é©åŒ–ã•ã‚ŒãŸé€šçŸ¥ã‚µãƒ¼ãƒ“ã‚¹NotificationsãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸï¼ ï½œ Developers.IO CodeBuild ã‹ã‚‰ Slack ã«é€šçŸ¥ã—ã¦ã¿ã‚‹ ãã‚Œã§ã¯æ—©é€Ÿã“ã®é€šçŸ¥ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã£ã¦ CodeBuild ã‹ã‚‰ SNS çµŒç”±ã§ Slack ã«é€šçŸ¥ã‚’é£›ã°ã—ã¦ã¿ã¾ã™ã€‚\nãã‚‚ãã‚‚ä½•ãŒå¬‰ã—ã„ã®ã‹ ã‚„ã£ã¦ã¿ã‚‹å‰ã«ã€ CodeBuild ã‹ã‚‰é€šçŸ¥ãŒé£›ã°ã›ã‚‹ã‚ˆã†ã«ãªã£ãŸã“ã¨ã§ä½•ãŒå¬‰ã—ã„ã®ã§ã—ã‚‡ã†ã‹ã€‚\nã“ã®é€šçŸ¥ã‚µãƒ¼ãƒ“ã‚¹ã®å­˜åœ¨ã‚’çŸ¥ã£ã¦ã¾ãšæ€ã£ãŸã®ãŒã€ ã¾ã™ã¾ã™ CodeBuild ã ã‘ã§ã§ãã‚‹ã“ã¨ãŒå¢—ãˆãŸï¼ã‚„ã£ãŸãƒ¼ï¼ ã¨ã„ã†ã“ã¨ã§ã™ã€‚\nå®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ CodeBuild ã ã‘ã‚’ä½¿ã†ã¨ã„ã†ã“ã¨ã¯ãªã„ã¨æ€ã„ã¾ã™ãŒã€å€‹äººã§è»½ãå‹•ã‹ã—ã¦ã„ã‚‹ã‚ˆã†ãªè‡ªå‹•åŒ–ãƒ•ãƒ­ãƒ¼ã§ã¯ã€ AWS æ–™é‡‘ç¯€ç´„ã®ãŸã‚ã« CodeBuild ã ã‘ã§è«¸ã€…ã‚„ã£ã¦ã„ã‚‹å ´åˆã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚åƒ•ã ã‘ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€‚\nã“ã‚Œã«é–¢ã—ã¦ã¯ä»¥å‰ã«ãƒ–ãƒ­ã‚°ã§æ›¸ãã¾ã—ãŸã€‚\nã“ã®ãƒ–ãƒ­ã‚°å†…ã§ã¯ã€ GitHub ã¸ã® push ã‚’ãƒˆãƒªã‚¬ãƒ¼ã« CodeBuild ã§ Vue ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰ã‚’é–‹å§‹ã—ã€ S3 ã«é…ç½®ã€ CloudFront ã« invalidation ç™ºè¡Œã€ã•ã‚‰ã«ãƒ“ãƒ«ãƒ‰ãŒå®Œäº†ã—ãŸã“ã¨ã‚’ Slack ã«é€šçŸ¥ã™ã‚‹ãŸã‚ã« curl ã‚³ãƒãƒ³ãƒ‰ ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚\ncurl ã‚³ãƒãƒ³ãƒ‰ã¯ buildspec.yml ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ãŸã‚ã€å‹•çš„ãªå†…å®¹ã‚’å«ã¿ã¥ã‚‰ã„ã§ã™ã€‚ãã®ãŸã‚ã€ Slack ã«é€šçŸ¥ã•ã‚Œã‚‹å†…å®¹ã¯ã€ã‚ãã¾ã§ã‚‚ãƒ“ãƒ«ãƒ‰ãŒçµ‚ã‚ã£ãŸã“ã¨ã ã‘ã§ã€ãã‚ŒãŒæˆåŠŸã—ãŸã®ã‹å¤±æ•—ã—ãŸã®ã‹ã€ãã‚Œã™ã‚‰ã‚‚ã‚ã‹ã‚Šã¾ã›ã‚“ã€‚\nãŸã å€‹äººã§å‹•ã‹ã—ã¦ã„ã‚‹è‡ªå‹•åŒ–ãªã®ã§ã€ã¨ã‚Šã‚ãˆãšé€šçŸ¥ã ã‘æ¥ã‚Œã°ã„ã„ã‚„ã€ã¨ãƒ–ãƒ­ã‚°å†…ã§ã¯ç´å¾—ã•ã›ã¦ã„ã¾ã—ãŸã€‚\nã—ã‹ã—ã€ä»Šå›ã®é€šçŸ¥ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚ˆã£ã¦ CodeBuild è‡ªä½“ã‹ã‚‰é€šçŸ¥ã‚’é£›ã°ã™ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã“ã¨ã§ã€ãƒ“ãƒ«ãƒ‰ã«é–¢ã™ã‚‹è©³ç´°ãªæƒ…å ±ã‚’ SNS ãŠã‚ˆã³ Chatbot ã«å¤–å‡ºã—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ SNS ã®ãƒˆãƒ”ãƒƒã‚¯ã«æƒ…å ±ã‚’æ¸¡ã›ã‚‹ã¨ã„ã†ã“ã¨ã¯ Lambda ã«ã‚‚æƒ…å ±ã‚’æ¸¡ã›ã‚‹ã®ã§ã€ãã“ã§ã‚´ãƒ‹ãƒ§ã‚´ãƒ‹ãƒ§ã™ã‚Œã°ã‚ˆã‚Šãƒªãƒƒãƒãªé€šçŸ¥ã‚’ Slack ã«é€ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã¨ã„ã†ã‚ã‘ã§ã™ã€‚\nã“ã®é€šçŸ¥ã‚µãƒ¼ãƒ“ã‚¹è‡ªä½“ã«æ–™é‡‘ã¯ç™ºç”Ÿã—ã¾ã›ã‚“ã—ã€ Code ã‚·ãƒªãƒ¼ã‚ºã‹ã‚‰ã®é€šçŸ¥ã¨ã„ã†æ€§è³ªã‹ã‚‰ã‚‚ SNS ã‚„ Lambda ã§ç•°å¸¸ãªæ–™é‡‘ãŒç™ºç”Ÿã™ã‚‹ã¨ã„ã†ã“ã¨ã‚‚è€ƒãˆã«ãã„ã§ã™ã€‚\nã¨ã„ã†ã“ã¨ã§ã€ä»¥å‰ã®ãƒ–ãƒ­ã‚°ã§ç¯€ç´„ã®ãŸã‚ã«å‰Šã£ãŸãƒªãƒƒãƒã•ã‚’è£œå®Œã§ãã‚‹ã€ã¨ã„ã†ã‹ã•ã‚‰ã«è‰¯ã„ã‚‚ã®ã«ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã‚ã‘ã§ã™ã­ã€‚\nCodeBuild ã§é€šçŸ¥ã®è¨­å®š å‰ç½®ããŒé•·ããªã‚Šã¾ã—ãŸãŒã€ã“ã“ã‹ã‚‰ã¯å®Ÿéš›ã«é€šçŸ¥ã®è¨­å®šã‚’ã—ã¦ã„ãã¾ã™ã€‚ã¨ã„ã£ã¦ã‚‚éå¸¸ã«ç°¡å˜ã§ã™ã€‚\nSNS ãƒˆãƒ”ãƒƒã‚¯ã‚’ä½œæˆ ã¾ãšã¯ CodeBuild ã‹ã‚‰ã®é€šçŸ¥ã‚’å—ã‘å–ã‚‹ SNS ãƒˆãƒ”ãƒƒã‚¯ã‚’ä½œæˆã—ã¦ãŠãã¾ã™ã€‚ã‚‚ã¡ã‚ã‚“æ—¢å­˜ã® SNS ãƒˆãƒ”ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦ã‚‚ OK ã§ã™ã€‚\nä»Šå›ã¯ CodeBuildNotification ã¨ã„ã† SNS ãƒˆãƒ”ãƒƒã‚¯ã‚’ä½œæˆã—ã¾ã—ãŸã€‚\nä½œæˆã™ã‚‹éš›ã®æ³¨æ„ç‚¹ã¨ã—ã¦ã¯ã€ AWS ã®ä»–ã®ãƒªã‚½ãƒ¼ã‚¹ã‹ã‚‰ SNS ãƒˆãƒ”ãƒƒã‚¯ã«å¯¾ã™ã‚‹æ¨©é™ã‚’ã‚¢ã‚¯ã‚»ã‚¹ãƒãƒªã‚·ãƒ¼ã§è¨­å®šã™ã‚‹ç‚¹ã§ã™ã€‚å…·ä½“çš„ã«ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªè¨­å®šãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚\n{ \u0026#34;Sid\u0026#34;: \u0026#34;AWSCodeStarNotifications_publish\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;Service\u0026#34;: \u0026#34;codestar-notifications.amazonaws.com\u0026#34; }, \u0026#34;Action\u0026#34;: [ \u0026#34;SNS:Subscribe\u0026#34;, \u0026#34;SNS:Receive\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:sns:ap-northeast-1:999999999999:CodeBuildNotification\u0026#34; } è©³ã—ãã¯ä¸‹è¨˜ã®å…¬å¼ãƒšãƒ¼ã‚¸ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nTroubleshooting - Developer Tools Console CodeBuild ã§é€šçŸ¥ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆ ç¶šã„ã¦ CodeBuild ã§é€šçŸ¥ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\né€šçŸ¥ã¯ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå˜ä½ã§è¨­å®šå¯èƒ½ãªã®ã§ã€ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒˆãƒƒãƒ—ã«ã‚ã‚‹ é€šçŸ¥ ã®ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã‹ã‚‰ é€šçŸ¥ãƒ«ãƒ¼ãƒ«ã®ä½œæˆ ã¨é€²ã‚“ã§é€šçŸ¥ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nè¨­å®šé …ç›®ã¯\né€šçŸ¥ãƒ«ãƒ¼ãƒ«ã®åå‰ è©³ç´°ã‚¿ã‚¤ãƒ— é€šçŸ¥ã‚’ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆ ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ ã§ã™ã€‚å…¨ã¦æ—¢å­˜ã®é¸æŠè‚¢ã‹ã‚‰é¸ã¶æ„Ÿã˜ãªã®ã§ã€æ•°åˆ†ã§ä½œæˆã§ãã¾ã™ã€‚\né€šçŸ¥ãƒ«ãƒ¼ãƒ«ã®åå‰ã¨è©³ç´°ã‚¿ã‚¤ãƒ—ã®è¨­å®šã—ã¾ã™ã€‚\né€šçŸ¥ã‚’ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ´—æ¿¯ã—ã¾ã™ã€‚\nCodeBuild ã§ã¯ Build state ã¨ Build phase ã®ãã‚Œãã‚Œã«ãƒˆãƒªã‚¬ãƒ¼ã§ãã‚‹ã‚¤ãƒ™ãƒ³ãƒˆãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚ Build state ã¯ãƒ“ãƒ«ãƒ‰å˜ä½ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã€ Build phase ã¯ãƒ“ãƒ«ãƒ‰å†…ã® phase å˜ä½ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã¨ã—ã¾ã™ã€‚ phase å˜ä½ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ‹¾ã£ã¦ã„ã‚‹ã¨é€šçŸ¥æ¬„ãŒè’ã¶ã£ã¦ã—ã¾ã†ã®ã§ã€ã“ã“ã§ã¯ state ã®ã‚¤ãƒ™ãƒ³ãƒˆã®ã¿ã‚’ãƒˆãƒªã‚¬ãƒ¼ã¨ã™ã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã¾ã™ã€‚\nã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’é¸æŠã—ã¾ã™ã€‚\nã“ã“ã§ã¯ã€å…ˆã»ã©ä½œæˆã—ãŸ SNS ãƒˆãƒ”ãƒƒã‚¯ CodeBuildNotification ã‚’æŒ‡å®šã—ã¾ã™ã€‚è¤‡æ•°ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\nä»¥ä¸Šã§é€šçŸ¥ãƒ«ãƒ¼ãƒ«ã®ä½œæˆãŒå®Œäº†ã§ã™ã€‚\næ­£å¸¸ã«ä½œæˆã§ãã¦ã„ã‚Œã°ã€ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®šã«ã¦ä½œæˆã—ãŸé€šçŸ¥ãƒ«ãƒ¼ãƒ«ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nSlack é€šçŸ¥ç”¨ã® Lambda ã‚’ä½œæˆ ä¸Šè¨˜ã®è¨­å®šã§ã¨ã‚Šã‚ãˆãš CodeBuild ã‹ã‚‰ã®é€šçŸ¥ã‚’ SNS ã«æŠ•ã’ã‚‹ã¨ã“ã‚ã¾ã§ã¯ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€ãã®å…ˆã¯ SNS ã«é©å½“ãªã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã—ã¦é€šçŸ¥ã‚’å—ã‘å–ã‚Œã° OK ã¨ãªã‚Šã¾ã™ã€‚\nä»Šå›ã¯ CodeBuild ã‹ã‚‰ã®é€šçŸ¥å†…å®¹ã‚’ã„ã„æ„Ÿã˜ã«æ•´å½¢ã—ã¦ Slack ã«é€šçŸ¥ã™ã‚‹ãŸã‚ã«ã€ãã‚Œç”¨ã® Lambda ã‚’ä½œã£ã¦ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã«è¨­å®šã—ã¾ã™ã€‚\nå®Ÿéš›ã« CodeBuild ã‹ã‚‰ SNS çµŒç”±ã§ Lambda ã«æ¸¡ã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã¨ã€ãã‚Œã‚’è‰¯ã„æ„Ÿã˜ã«æ•´å½¢ã—ã¦ Slack ã«é€šçŸ¥ã™ã‚‹ Lambda ã¯ gist ã«ç½®ã„ã¦ã„ã¾ã™ã®ã§ã€ãã¡ã‚‰ã‚’å‚ç…§ãã ã•ã„ã€‚(é•·ããªã£ã¦ã—ã¾ã†ã®ã§)\nThis is a sample of AWS Lambda function that notifies CodeBuild Notification (only state changes) to Slack via Amazon SNS. ã‚µãƒ³ãƒ—ãƒ«ã§ç½®ã„ã¦ã„ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã®æƒ…å ±ã¯ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ SUCCEEDED ã§ãƒ“ãƒ«ãƒ‰ãŒå®Œäº†ã—ãŸã¨ãã®ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚\nBuild state ã®ã‚¤ãƒ™ãƒ³ãƒˆã¨ã—ã¦ã¯ Succeeded, Stopped, Failed, In-progress ãŒã‚ã‚Šã¾ã™ãŒã€ In-progress ä»¥å¤–ã¯ã“ã®æ§‹é€ ã‚’ã—ã¦ã„ã¾ã™ã€‚\nIn-progress ã¯ä½•ãŒé•ã†ã‹ã¨ã„ã†ã¨ã€ detail.additional-information.phases ã¨ detail.additionail-information.logs å†…ã® group-name ãŠã‚ˆã³ stream-name ãŒå­˜åœ¨ã—ã¾ã›ã‚“ã€‚ã¾ã‚ In-progress ã¯ãƒ“ãƒ«ãƒ‰é–‹å§‹æ™‚ã®ã‚¤ãƒ™ãƒ³ãƒˆãªã®ã§ç´å¾—ã§ã™ã­ã€‚\nå®Ÿéš›ã«ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹ æº–å‚™ãŒæ•´ã£ãŸã®ã§ã€å®Ÿéš›ã«ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\nã¡ãªã¿ã« curl ã‚³ãƒãƒ³ãƒ‰ã‚’å©ã„ã¦ã„ãŸæ™‚ã®é€šçŸ¥ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã—ãŸã€‚\nä¸€å¿œ attachment ã§ãã‚Œã£ã½ãã—ã¦ã¯ã„ã¾ã™ãŒã€å®Œå…¨ã«å›ºå®šã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§å‘³æ°—ãªã„ã§ã™ã—ã€‚å®Œå…¨ã«ãŸã ã® \u0026ldquo;é€šçŸ¥\u0026rdquo; ã§ã™ã€‚\nãã‚ŒãŒä»Šå›ã®ä¸€é€£ã®è¨­å®šã§ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™ã€‚\nè‰¯ã„æ„Ÿã˜ã§ã™ã­ã€‚\nã¡ãªã¿ã«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ FAILED ã®ã¨ãã¯èµ¤è‰²ã€ STOPPED ã®ã¨ãã¯é»„è‰²ã«ãªã£ãŸã‚Šã—ã¾ã™ã€‚\nã•ã‚‰ã« phase ãƒ¬ãƒ™ãƒ«ã§ SUCCEEDED ã«ãªã£ã¦ã„ãªã„ã‚‚ã®ãŒã‚ã‚Œã°ãã®å†…å®¹ã‚‚ä»˜ä¸ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nãã—ã¦ã€å…ˆæ—¥ã® Developers.IO ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³å†…ã§ã€é€šçŸ¥ã« CloudWatch Logs ã¸ã®ãƒªãƒ³ã‚¯ã‚’è²¼ã£ã¦ãŠãã¨è‰²ã€…æ—ã‚‹ã‚ˆã¨ã„ã†è©±ãŒã‚ã£ãŸã®ã§ã€ãã‚Œã‚‚ä»˜ä¸ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nã¾ã¨ã‚ AWS CodeBuild ã‹ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã‚’ SNS çµŒç”±ã§ Slack ã«é€šçŸ¥ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nä»Šå›ã¯ CodeBuild ã§å…¨éƒ¨ã‚„ã‚‹ã¨ã„ã† ç¯€ç´„ã®ãŸã‚ã«ã‚„ã£ã¦ã¿ãŸå†…å®¹ã«ãªã‚Šã¾ã—ãŸãŒã€ã“ã®é€šçŸ¥ã‚µãƒ¼ãƒ“ã‚¹ã¯å®Ÿéš›ã®é–‹ç™ºãƒ•ãƒ­ãƒ¼ã§ã‚‚éå¸¸ã«ä¾¿åˆ©ãªã‚µãƒ¼ãƒ“ã‚¹ã ã¨æ€ã„ã¾ã™ã€‚\nå„ Code ã‚·ãƒªãƒ¼ã‚ºã‹ã‚‰ã®è©³ç´°ãªæƒ…å ±ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ãŸã‚ã€å„ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã¨ã—ãŸå‹•ä½œã‚’ã‚ˆã‚Šè©³ç´°ã«çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ãŒã§ããã†ã§ã™ã€‚\nAWS ã® Code ã‚·ãƒªãƒ¼ã‚ºã§é–‹ç™ºãƒ•ãƒ­ãƒ¼ã‚’ãƒªãƒƒãƒã«ã—ãŸã„ã€é€šçŸ¥å‘¨ã‚Šã‚’ã‚ˆã‚Šç°¡å˜ã«è¨­å®šã—ãŸã„ã¨ã„ã†æ–¹ã¯è©¦ã—ã¦ã¿ã¦ã¯ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚\nThis is a sample of AWS Lambda function that notifies CodeBuild Notification (only state changes) to Slack via Amazon SNS. ",
    "permalink": "https://michimani.net/post/aws-codebuild-notification/",
    "title": "AWS CodeBuild ã‹ã‚‰é€ä¿¡ã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã‚’ SNS çµŒç”±ã§ Slack ã«é€šçŸ¥ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "ã‚„ã£ã¦ã¿ãŸç³»ãƒ–ãƒ­ã‚° Developers.IO ã§ãŠãªã˜ã¿ã®ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰æ ªå¼ä¼šç¤¾ãŒä¸»å‚¬ã™ã‚‹ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚¤ãƒ™ãƒ³ãƒˆ Developers.IO 2019 Tokyo ã«è¡Œã£ã¦ããŸã®ã§ã€è´è¬›ã—ãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ä¸­ã§ç‰¹ã«å°è±¡ã«æ®‹ã£ã¦ã„ã‚‹ã‚‚ã®ã€å‚è€ƒã«ãªã£ãŸã‚‚ã®ã®ãƒ¬ãƒãƒ¼ãƒˆã¨ã„ã†åã®æ„Ÿæƒ³ã‚’æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nã¡ãªã¿ã«æ˜¨å¹´ã‚‚å‚åŠ ã—ãŸã®ã§ã™ãŒã€ä»Šå¹´ã¯æ˜¨å¹´ä»¥ä¸Šã®ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°ã§ã€äº‹å‰ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã€å½“æ—¥ã®æ¥å ´è€…ã‚‚ã‹ãªã‚Šå¤šã‹ã£ãŸã‚ˆã†ã§ã™ã€‚\nhttps://t.co/8XSAiURBp3 2019æ±äº¬ã«ã”å‚åŠ é ‚ãã¾ã—ã¦ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚1200åã‚¨ãƒ³ãƒˆãƒªãƒ¼ã€æ™´å¤©ã«æµã¾ã‚Œã¦ç´„900åã”æ¥å ´ã€ã‚¹ã‚¿ãƒƒãƒ•ç´„100åã®å¤§ããªã‚¤ãƒ™ãƒ³ãƒˆã¨ãªã‚Šã¾ã—ãŸã€‚ã‚¹ãƒãƒ³ã‚µãƒ¼ã®çš†æ§˜ã€ç™»å£‡è€…ã®çš†ã•ã‚“ã‚‚ãŠç–²ã‚Œæ§˜ã§ã—ãŸã€‚\n\u0026mdash; ã•ã¨ã—ğŸ… (@sato_shi) November 1, 2019 ã‚¤ãƒ™ãƒ³ãƒˆå½“æ—¥ã¯ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚° #cmdevio ã§ãŸãã•ã‚“ã®æ–¹ãŒãƒ„ã‚¤ãƒ¼ãƒˆã—ã¦ã„ã‚‹ã®ã§ã€å½“æ—¥ã®é›°å›²æ°—ã‚’å‘³ã‚ã„ãŸã„æ–¹ã¯ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nç›®æ¬¡ ã‚»ãƒƒã‚·ãƒ§ãƒ³ã”ã¨ã®æ„Ÿæƒ³ Developers.IO CAFEã®ã“ã‚Œã¾ã§ã¨ã“ã‚Œã‹ã‚‰ ã€œé¡§å®¢ä½“é¨“ã¸ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‹ã‚‰è€ƒãˆã‚‹æŠ€è¡“é¸æŠã€œ AWSã®ã™ã¹ã¦ã‚’ã‚³ãƒ¼ãƒ‰ã§ç®¡ç†ã™ã‚‹æ–¹æ³•ã€œãã®ç†æƒ³ã¨ç¾å®Ÿã€œ ã‚µãƒ¼ãƒ“ã‚¹ã‚’çˆ†é€Ÿã§ç«‹ã¡ä¸Šã’ã‚‹ãŸã‚ã®SaaSã®æ´»ç”¨ éšœå®³ã«å‚™ãˆãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’è€ƒãˆã‚‹ã€Œã‚ã®ã¨ãä½•ãŒèµ·ã“ã£ãŸï¼ï¼Ÿã€ ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã®åŸºæœ¬ã¨CI/CDæ§‹ç¯‰ \u0026amp;amp; é‹ç”¨ ã€œã‚·ã‚¹ãƒ†ãƒ ã¯å‹•ã„ã¦ã‹ã‚‰ãŒæœ¬ç•ªã ã€œ å…¨ä½“ã®æ„Ÿæƒ³ ã‚»ãƒƒã‚·ãƒ§ãƒ³ã”ã¨ã®æ„Ÿæƒ³ è´è¬›ã—ãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã”ã¨ã®æ„Ÿæƒ³ã‚’ç°¡å˜ã«æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nãªãŠã€ Developers.IO ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ç‰¹å¾´ã¨ã—ã¦ã¯ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³å¾Œ (ã‚‚ã—ãã¯ã‚»ãƒƒã‚·ãƒ§ãƒ³å‰) ã«è³‡æ–™ãŒå…¬é–‹ã•ã‚Œã¾ã™ã€‚ã¾ãŸã€ç™»å£‡è€…ã«ã‚ˆã£ã¦ã¯è³‡æ–™ã ã‘ã§ãªãã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸­ã«è©±ã—ãŸå†…å®¹ã‚„è£œè¶³æƒ…å ±ã‚’ã¾ã¨ã‚ãŸãƒ–ãƒ­ã‚°ã‚’ã‚¢ãƒƒãƒ—ã•ã‚Œã¦ã„ã‚‹æ–¹ã‚‚ã„ã‚‹ã®ã§ã€å½“æ—¥ç¾åœ°ã«è¡Œã‘ãªã‹ã£ãŸäººãŸã¡ã«ã‚‚å„ªã—ã„ã‚¤ãƒ™ãƒ³ãƒˆã«ãªã£ã¦ã„ã¾ã™ã€‚\nã¡ãªã¿ã«ä¼šå ´ã¯æ—¥æœ¬æ©‹ã®ãƒ™ãƒ«ã‚µãƒ¼ãƒ«æ±äº¬æ—¥æœ¬æ©‹ã§ã—ãŸã€‚\nDevelopers.IO CAFEã®ã“ã‚Œã¾ã§ã¨ã“ã‚Œã‹ã‚‰ ã€œé¡§å®¢ä½“é¨“ã¸ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‹ã‚‰è€ƒãˆã‚‹æŠ€è¡“é¸æŠã€œ Developers.IO CAFEã®ã“ã‚Œã¾ã§ã¨ã“ã‚Œã‹ã‚‰ ã€œé¡§å®¢ä½“é¨“ã¸ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‹ã‚‰è€ƒãˆã‚‹æŠ€è¡“é¸æŠã€œ â€“ Developers.IO TOKYO 2019 #cmdevio ï½œ Developers.IO ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®ç¤¾é•· æ¨ªç”°è¡ã•ã‚“ã«ã‚ˆã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã—ãŸã€‚\nå†…å®¹ã¨ã—ã¦ã¯ã€ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ãŒé‹å–¶ã—ã¦ã„ã‚‹å®Œå…¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ¬ã‚¹ã‚«ãƒ•ã‚§ Developers.IO CAFE ã®é–‹ç™ºã«é–¢ã™ã‚‹å†…å®¹ã§ã—ãŸã€‚é–‹ç™ºã«é–¢ã™ã‚‹å†…å®¹ã¨ã„ã£ã¦ã‚‚å…·ä½“çš„ãªæŠ€è¡“ã®è©±ã¨ã„ã†ã‚ˆã‚Šã¯ã€ã‚µãƒ¼ãƒ“ã‚¹é–‹ç™ºã«ãŠã„ã¦å¤§äº‹ãªã“ã¨ã‚’ãŸãã•ã‚“çŸ¥ã‚ŒãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã—ãŸã€‚\nç‰¹ã«å°è±¡çš„ã ã£ãŸã®ãŒã€ ä½“é¨“ã‚’ãƒãƒƒã‚¯ã™ã‚‹ ã¨ã„ã†å†…å®¹ã§ã™ã€‚\nDevelopers.IO CAFE ã¯ Amazon Go ã‚’å‚è€ƒã«ã—ã¦ã„ã‚‹ã®ã§ã™ãŒã€ Amazon Go è‡ªä½“ã¯ãªã‚“ã®ä»•çµ„ã¿ã‚‚æŠ€è¡“ã‚‚å…¬é–‹ã•ã‚Œã¦ãŠã‚‰ãšã€ã‚ã‹ã£ã¦ã„ã‚‹ã®ã¯ã€Œå…¥åº—ã—ã¦å•†å“ã‚’å–ã£ã¦é€€åº—ã™ã‚‹ã¨æ±ºæ¸ˆãŒå®Œäº†ã—ã¦ã„ã‚‹ã€ã¨ã„ã† ä½“é¨“ ã®ã¿ã€‚ãã®ä½“é¨“ãŒè¦ä»¶å®šç¾©ã¨ãªã‚Šä»•æ§˜æ›¸ã¨ãªã‚Š\u0026hellip;ã§ã€å®Ÿç¾ã§ãã‚‹ãŸã‚ã®æŠ€è¡“ã€é–‹ç™ºã¯æœ‰å¿—ã®ç¤¾å“¡ã®æ–¹ã€…ã«ä¸¸æŠ•ã’ã ã£ãŸã‚ˆã†ã§ã™ã€‚\nä½“é¨“ã‚’å½¢ã«ã™ã‚‹ã¨ã„ã†ã®ã¯éå¸¸ã«é›£ã—ã„æ°—ã¯ã—ã¾ã™ãŒã€ãƒ¦ãƒ¼ã‚¶ã®ã“ã¨ã‚’ä¸€ç•ªã«è€ƒãˆã‚‹ã¨ã€æœ¬å½“ã«å¿…è¦ãªæ©Ÿèƒ½ã‚„ã‚µãƒ¼ãƒ“ã‚¹ã¯ãƒ¦ãƒ¼ã‚¶ã®ä½“é¨“ã‹ã‚‰ã‚ã‹ã‚‹ã‚‚ã®ãªã®ã‹ãªãƒ¼ã¨ã„ã†ç´å¾—æ„ŸãŒã‚ã‚Šã¾ã—ãŸã€‚\nã¾ãŸã€ é–‹ç™ºè€…ã‚„ç¤¾å†…ã®äººãªã©ã®é–¢ä¿‚è€…ã ã‘ã§ãªãã€å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ»ã‚«ã‚¹ã‚¿ãƒãƒ¼ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒå¤§åˆ‡ã  ã¨ã„ã†è©±ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚\nDevelopers.IO CAFE ã§ã¯ã‚«ã‚¹ã‚¿ãƒãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ãŸãã•ã‚“ã‚‚ã‚‰ã†ãŸã‚ã«ã€é–‹ç™º-ãƒªãƒªãƒ¼ã‚¹ã®ã‚µã‚¤ã‚¯ãƒ«ã‚’ä½•å›ã‚‚å›ã™ã“ã¨ã‚’æ„è­˜ã—ã¦ã„ã¦ã€çµå±€ 1 å¹´é–“ã§ 4 å‘¨ã‚‚ã‚µã‚¤ã‚¯ãƒ«ã‚’å›ã•ã‚ŒãŸã‚ˆã†ã§ã™ã€‚ã•ã‚‰ã«æœ€è¿‘ã§ã¯ä¼æ¥­ã‚„å¤§å­¦ã¨ã‚³ãƒ©ãƒœã—ã¦æœŸé–“é™å®šã®åº—èˆ—ã‚’ã‚ªãƒ¼ãƒ—ãƒ³ã™ã‚‹ãªã©ã—ã¦ã€ã„ã‚ã‚“ãªæ–¹é¢ã‹ã‚‰ã‚«ã‚¹ã‚¿ãƒãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å¾—ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã—ãŸã€‚\nã•ã‚‰ã«ã¯ CAFE ã§åƒãäººãŸã¡ã‹ã‚‰ã‚‚ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ã—ã¦ã‚‚ã‚‰ã£ã¦ã€ã‚ˆã‚Šå¿ƒåœ°ã‚ˆã„ãƒ¦ãƒ¼ã‚¶ä½“é¨“ã‚’è¿½ç©¶ã—ã¦ã„ãã¨ã®ã“ã¨ã§ã—ãŸã€‚\nã¡ã‚‡ã£ã¨é•·ããªã‚Šã¾ã—ãŸãŒã€ã¾ã¨ã‚ã‚‹ã¨ã€ã‚µãƒ¼ãƒ“ã‚¹é–‹ç™ºã«ãŠã„ã¦ã¯æŠ€è¡“ã®é¸å®šã‚„ä¸Šå¸ã¸ã®ææ¡ˆã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆã™ã‚‹ã®ã§ã¯ãªãã€ã¾ãšã¯ä½“é¨“ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆã™ã‚‹ã®ãŒè‰¯ã„ ã¨ã„ã†ã®ãŒå°è±¡çš„ã§ã—ãŸã€‚\nã¾ãŸã€æ¨ªç”°ã•ã‚“ã¯è‰¯ã„æ„å‘³ã§ç¤¾é•·æ„ŸãŒç„¡ãã¦ã€ã¨ã‚Šã‚ãˆãšã‚„ã£ã¦ã¿ã‚‹ç²¾ç¥ãŒéå¸¸ã«å¼·ã„äººã ãªã¨ã„ã†å°è±¡ã§ã—ãŸã€‚\nAWSã®ã™ã¹ã¦ã‚’ã‚³ãƒ¼ãƒ‰ã§ç®¡ç†ã™ã‚‹æ–¹æ³•ã€œãã®ç†æƒ³ã¨ç¾å®Ÿã€œ CloudFormationã®å…¨ã¦ã‚’å‘³ã‚ã„ã¤ãã›ï¼ã€ŒAWSã®å…¨ã¦ã‚’ã‚³ãƒ¼ãƒ‰ã§ç®¡ç†ã™ã‚‹æ–¹æ³•ã€œãã®ç†æƒ³ã¨ç¾å®Ÿã€œã€ #cmdevio ï½œ Developers.IO Infrastructure as Code ã«é–¢ã™ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã—ãŸã€‚\nå†…å®¹ã¨ã—ã¦ã¯ã€ CloudFormation å¤§å¥½ããª æ¿±ç”°å­æ²»ï¼ˆãƒãƒã‚³ãƒ¼ï¼‰@hamako9999 ã•ã‚“ãŒä¸»è¦³ãŸã£ã·ã‚Šã§ CloudFormation ã«ã¤ã„ã¦èªã‚‹å†…å®¹ã§ã—ãŸãŒã€ CloudFormation ã‚’æ—¢ã«ä½¿ã£ã¦ã„ã‚‹äººã«ã‚‚ã€ã“ã‚Œã‹ã‚‰ä½¿ãŠã†ã¨ã—ã¦ã„ã‚‹äººã«ã‚‚åˆºã•ã‚‹ã‚ˆã†ãªå†…å®¹ã§ã—ãŸã€‚\nã¡ãªã¿ã«è‡ªåˆ†ã¯ AWS CDK ã® GA ã«åˆã‚ã›ã¦é‡ã„è…°ã‚’ã‚ã’ã¦ IaC ãƒ‡ãƒ“ãƒ¥ãƒ¼ã—ãŸèº«ãªã®ã§ã»ã¼å¾Œè€…ã«ã‚ãŸã‚‹äººé–“ã ã£ãŸã®ã§ã™ãŒã€å‚è€ƒã«ãªã‚‹éƒ¨åˆ†ãŒãŸãã•ã‚“ã‚ã‚Šã¾ã—ãŸã€‚\nã¾ãšæœ€åˆã¯ã€ãã‚‚ãã‚‚ Infrastructure as Code ã¨ã¯ãªã«ã‹ï¼Ÿ ã¨ã„ã†ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã ã£ãŸã®ã§ã™ãŒã€ã“ã“ã§å‡ºã¦ããŸã€ŒAWS CLI ã¨ã®é•ã„ã€ã«ã‚ˆã‚‹ä¾‹ãŒã‚ã‹ã‚Šã‚„ã™ã‹ã£ãŸã§ã™ã€‚\nAWS CLI ã¯ å‡¦ç†ã‚’å®šç¾©ã™ã‚‹ ã®ã§ã€å®Ÿè¡Œã—ãŸå›æ•°ã ã‘ãƒªã‚½ãƒ¼ã‚¹ãŒå¢—ãˆã¦ã„ãã¾ã™ã€‚ä¸€æ–¹ã§ IaC ã¯ çŠ¶æ…‹ã‚’å®šç¾©ã™ã‚‹ ã®ã§ã€ (ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å¤‰æ›´ã—ã¦ã„ãªã‘ã‚Œã°) ä½•åº¦å®Ÿè¡Œã—ã¦ã‚‚ãƒªã‚½ãƒ¼ã‚¹ã¯å¤‰åŒ–ã›ãšã€æ•°ã‚‚å¢—æ¸›ã—ã¾ã›ã‚“ã€‚\nã“ã®æ¯”è¼ƒã¯ã€ã‚ãƒ¼ã€ãªã‚‹ã»ã©ã¨æ€ã„ã¾ã—ãŸã€‚\nã‚‚ã†ã²ã¨ã¤ã¯ã€ CloudFormation ãƒ¬ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆæ™‚ã«ã©ã®ã‚ˆã†ãªè¦³ç‚¹ã§ã‚¹ã‚¿ãƒƒã‚¯ã‚’åˆ†å‰²ã™ã‚‹ã‹ ã¨ã„ã†å†…å®¹ãŒå‚è€ƒã«ãªã‚Šã¾ã—ãŸã€‚\nCloudFormation ã§ã¯ãªã AWS CDK ã§ã®çµŒé¨“ãªã®ã§ã™ãŒã€è¤‡æ•°ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ãŠã†ã¨ã™ã‚‹ã¨ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ã‹ãªã‚Šã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ã«ãªã‚Šã¾ã™ã€‚ä¾‹ãˆã°å‰ã«ã‚„ã£ãŸä¾‹ã§ã¯ã€ CloudWatch Events ã¨ Lambda ã§ EC2 ã®è‡ªå‹•èµ·å‹•ãƒ»åœæ­¢ã‚’å®Ÿç¾ã™ã‚‹ç’°å¢ƒã‚’ CDK ã§ä½œã£ãŸã‚“ã§ã™ãŒã€ãã®ã¨ãã«ç”Ÿæˆã•ã‚ŒãŸ CloudFormation ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒ 170 è¡Œã«ã‚‚ãªã‚Šã¾ã—ãŸã€‚ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«å…ç–«ãŒãªã„è‡ªåˆ†ã«ã¯ã“ã®è¡Œæ•°ã§ã‚‚ ã‚¦ãƒƒ ã¨ãªã£ãŸã‚“ã§ã™ãŒã€ã‚‚ã£ã¨è¤‡é›‘ãªãƒªã‚½ãƒ¼ã‚¹ã®çµ„ã¿åˆã‚ã›ã«ãªã‚‹ã¨ 1000 è¡Œã‚’è¶…ãˆã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\nãã†ãªã£ã¦ãã‚‹ã¨ï¼‘ã¤ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§æ‰±ã†ã®ã¯éå¸¸ã«è¾›ã„ãŸã‚ã€ã„ãã¤ã‹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ»ã‚¹ã‚¿ãƒƒã‚¯ã«åˆ†å‰²ã—ã¦ç®¡ç†ã™ã‚‹ã®ãŒè‰¯ã„ã‚ˆã†ã§ã™ã€‚\nå…·ä½“çš„ã«ã¯ã€ãƒªã‚½ãƒ¼ã‚¹ã®ä¾å­˜é–¢ä¿‚ã‚„å¤‰æ›´ãŒç™ºç”Ÿã™ã‚‹é »åº¦ãªã©ãŒåˆ†å‰²ã®æ¡ä»¶ (ã¨ã„ã†ã‹è€ƒãˆæ–¹) ã«ãªã‚‹ã‚ˆã†ã§ã™ã€‚\nä¾‹ãˆã°ã€ VPCã€Subnetã€IGWã€RouteTableã€EIP ãªã©ã¯å¤‰æ›´ãŒã»ã¼ãªã„ãŸã‚ã€ï¼‘ã¤ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ã¾ã¨ã‚ã¦ã—ã¾ã£ã¦ã‚ˆãã¦ã€å¤‰æ›´ãŒé »ç¹ã«ç™ºç”Ÿã™ã‚‹ã§ã‚ã‚ã† SecurityGroup ã¯ãã‚Œã ã‘ã§ï¼‘ã¤ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ã—ã¦ã—ã¾ã†ã€ã¨ã„ã£ãŸå…·åˆã§ã™ã€‚\nç‰¹ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ»ã‚¹ã‚¿ãƒƒã‚¯åˆ†å‰²ã¯ãªã‚‹ã»ã©æ„ŸãŒå¼·ãã€å†…å®¹ã¨ã—ã¦ã¯ CloudFormation ã§ã®è©±ã§ã—ãŸãŒã€ CDK ã§ã®ã‚¹ã‚¿ãƒƒã‚¯åˆ†å‰²ã«ã‚‚é©ç”¨ã§ãã‚‹è€ƒãˆæ–¹ã‹ãªã¨æ€ã„ã¾ã—ãŸã€‚\nCDK ã¯ TypeScript ã§ã¾ã•ã«ã‚³ãƒ¼ãƒ‰ã£ã½ããƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ (ã«ãªã‚‹ã‚‚ã®) ã‚’æ›¸ãã“ã¨ãŒã§ãã‚‹ã®ã§éå¸¸ã«ä¾¿åˆ©ã§ã™ãŒã€ã‚„ã¯ã‚Šå¤§å…ƒã¨ãªã‚‹ CloudFormation ã«ã¤ã„ã¦ã‚‚å‹‰å¼·ãŒå¿…è¦ã ãªã¨æ€ã„ã¾ã—ãŸã€‚\nã‚µãƒ¼ãƒ“ã‚¹ã‚’çˆ†é€Ÿã§ç«‹ã¡ä¸Šã’ã‚‹ãŸã‚ã®SaaSã®æ´»ç”¨ ã‚µãƒ¼ãƒ“ã‚¹ã‚’çˆ†é€Ÿã§ç«‹ã¡ä¸Šã’ã‚‹ãŸã‚ã®SaaSã®æ´»ç”¨ â€“ Developers.IO TOKYO 2019 #cmdevio ï½œ Developers.IO ã‚¿ã‚¤ãƒˆãƒ«ã®é€šã‚Šã€ SaaS (Software as a Service) ã‚’ä½¿ã£ã¦çˆ†é€Ÿã§ã‚µãƒ¼ãƒ“ã‚¹ã€ç‰¹ã« SaaS ã‚’ç«‹ã¡ä¸Šã’ã‚ˆã†ã¨ã„ã†è©±ã§ã—ãŸã€‚ãã†ã§ã™ã€ SaaS ã‚’æ´»ç”¨ã—ã¦ SaaS ã‚’ä½œã‚ã†ã¨ã„ã†è©±ã§ã™ã€‚\nåˆ©ç”¨è€…ã¨ã—ã¦ã¿ã‚‹ SaaS ã¨ã€æä¾›è€…ã¨ã—ã¦ã¿ã‚‹ SaaS ã®ä¸¡æ–¹ã®è‰¯ã„ã¨ã“ã‚ãŒã‚ã‹ã‚Šã‚„ã™ãã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã—ãŸã€‚\nç‰¹ã«æä¾›è€…ã¨ã—ã¦ã® SaaS ã¯ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è£½å“ã®ã‚ˆã†ã«ãƒ¦ãƒ¼ã‚¶ã«å€‹åˆ¥ã§å¯¾å¿œã™ã‚‹å¿…è¦ãŒãªãã€ä»Šæµè¡Œã‚Šã®ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ¢ãƒ‡ãƒ«ã«ã‚‚ã—ã‚„ã™ã„ã€ãƒ“ã‚¸ãƒã‚¹ã¨ã—ã¦ã¯ç¾å‘³ã—ã„ã¨ã“ã‚ãŒãŸãã•ã‚“ã‚ã‚‹ã¨ã„ã†ã®ãŒå°è±¡çš„ã§ã—ãŸã€‚ãã‚“ãª SaaS ã¯ä¸»ã« èªè¨¼ã€ èª²é‡‘ãƒ»æ±ºæ¸ˆã€CI/CD ã® 3 ã¤ã®è¦ç´ ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ãŒã€ãã‚Œã‚‰ã‚’ã‚¹ã‚¯ãƒ©ãƒƒãƒã§é–‹ç™ºã™ã‚‹ã®ã§ã¯ãªã SaaS ã‚’æ´»ç”¨ã—ã¾ã—ã‚‡ã†ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚\nå…·ä½“çš„ã«ã¯ã€èªè¨¼ã¾ã‚ã‚Šã¯ Auth0ã€ èª²é‡‘ãƒ»æ±ºæ¸ˆã¾ã‚ã‚Šã¯ Stripeã€ CI/CD ã¯ CircleCI ãŒãã‚Œãã‚Œç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ã“ã®æ—¥ã®ä»–ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã¯ã€ã“ã‚Œã‚‰ã‚’ ä¸‰ç¨®ã®ç¥å™¨ ã¨ã—ã¦ã‚ˆã‚Šå…·ä½“çš„ã«ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚‚ã‚ã£ãŸã‚ˆã†ã§ã™ã€‚\nã€ãƒ¬ãƒãƒ¼ãƒˆã€‘ä¸‰ç¨®ã®ç¥å™¨ã€ã§å§‹ã‚ã‚‹SaaSç”Ÿæ´» â€“ Developers.IO TOKYO 2019 #cmdevio ï½œ Developers.IO SaaS ã¯æ´»ç”¨ã™ã‚‹ã‚‚ã® ã¨ã„ã†èªè­˜ã§ã—ãŸãŒã€ãã‚Œã‚‰ã‚’ä½¿ã£ã¦ SaaS ã‚’ä½œã‚‹ã¨ã„ã†å†…å®¹ãŒé¢ç™½ã‹ã£ãŸã§ã™ã€‚ã¾ãŸã€ SaaS ã¯ãƒ“ã‚¸ãƒã‚¹çš„ã«ã‚‚ã†ã¾ã¿ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã‹ã‚‰ã€ä»Šå¾Œã¯ SaaS ã®é–‹ç™ºã‚’ã—ã¦ã„ã‚‹ã‚ˆã†ãªã¨ã“ã‚ãŒä¼¸ã³ã¦ã„ãã®ã‹ãªãƒ¼ã¨æ€ã„ã¾ã—ãŸã€‚\néšœå®³ã«å‚™ãˆãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’è€ƒãˆã‚‹ã€Œã‚ã®ã¨ãä½•ãŒèµ·ã“ã£ãŸï¼ï¼Ÿã€ éšœå®³ã«å‚™ãˆãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’è€ƒãˆã‚‹ã€Œã‚ã®ã¨ãä½•ãŒèµ·ã“ã£ãŸï¼ï¼Ÿã€ â€“ Developers.IO TOKYO 2019 #cmdevio ï½œ Developers.IO ã€Œã‚ã®ã¨ãã€ã¨ã¯ã‚‚ã†çš†ã•ã‚“ã”å­˜çŸ¥ã® 8æœˆ 23æ—¥ ã® AWS æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®éšœå®³ç™ºç”Ÿæ™‚ã§ã™ã­ã€‚\nã“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã¯ã€ã‚ã®ã¨ãã«ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ–ãƒ­ã‚° Developers.IO ã§ä½•ãŒèµ·ã“ã£ãŸã®ã‹ã€ã©ã®ã‚ˆã†ãªå¯¾å¿œã‚’ã—ãŸã®ã‹ã€ã¾ãŸã€éšœå®³ã«å¯¾ã—ã¦ã©ã®ã‚ˆã†ãªæ§‹æˆãƒ»æº–å‚™ãŒè€ƒãˆã‚‰ã‚Œã‚‹ã‹ã«ã¤ã„ã¦è©±ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚\nDevelopers.IO ã¸ã®éšœå®³ã®å¯¾å¿œã¨ã—ã¦ã¯ã€ Slack ã¸ã®é€šçŸ¥ã€ ALB ã‚„ WAF ã®ãƒ­ã‚°ãªã©ã‹ã‚‰æƒ…å ±ã‚’å¾—ã¦çš„ç¢ºãªåˆ¤æ–­ã¨è¡Œå‹•ã‚’ã™ã‚‹ã¨ã„ã†ã€ãŠæ‰‹æœ¬ã®ã‚ˆã†ãªå†…å®¹ã§ã—ãŸã€‚\nãŸã ã“ã‚ŒãŒã§ããŸã®ã¯äº‹å‰ã«ã—ã£ã‹ã‚Šã¨æº–å‚™ã‚’ã•ã‚Œã¦ã„ãŸã‹ã‚‰ãªã®ã§ã€ Slackã¸ã®é€šçŸ¥ ã‚„ ä½•ãŒèµ·ãã¦ã„ã‚‹ã‹åˆ¤æ–­ã§ãã‚‹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®å–å¾— ã€ æƒ³å®šéšœå®³ã¨å¾©æ—§æ‰‹é †ã®æº–å‚™ ãŒå¤§äº‹ã ã¨ã„ã†ã“ã¨ã§ã—ãŸã€‚äº‹å‰ã®æº–å‚™ã§ã‚‚ã†ä¸€ã¤ã‚ã£ãŸã®ãŒ ãƒ­ã‚°ã‚’ S3/CWLogs ã«å‡ºåŠ›ã™ã‚‹ ã¨ã„ã†é …ç›®ã§ã™ã€‚éšœå®³æ™‚ã«ã¯è©²å½“ã®ã‚µãƒ¼ãƒãªã©ã«å…¥ã‚‹ã“ã¨ã™ã‚‰ã§ããªã„å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€å¤–å‡ºã—ã—ã¦ãŠãã¾ã—ã‚‡ã†ã¨ã„ã†è©±ã§ã™ã€‚ã“ã‚Œè‡ªä½“ã¯ã‚ã‹ã£ã¦ãŸã®ã§ã™ãŒã€ãã®å…ˆã® ãƒ­ã‚°ã®æ¤œç´¢æ‰‹é †ã®ç¢ºç«‹ ã¨ã„ã†ã¨ã“ã‚ã¾ã§ã‚„ã£ã¦ãŠãå¿…è¦ãŒã‚ã‚‹ã¨ã„ã†ã®ãŒã‚°ã‚µãƒƒã¨ãã¾ã—ãŸã€‚ãŸã—ã‹ã« S3 ã‚„ CWLogs ã«å¤–å‡ºã—ã—ã¦ãŠãã®ã¯ã„ã„ã®ã§ã™ãŒã€ãã‚Œã‚‰ã«å¯¾ã™ã‚‹æ¤œç´¢ã£ã¦çµæ§‹ã‚„ã‚Šã¥ã‚‰ã„ã§ã™ã—ã€ Athena ã‚’ä½¿ã†ã«ã—ã¦ã‚‚æ¤œç´¢ç”¨ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œã£ãŸã‚Šã™ã‚‹å¿…è¦ãŒã‚ã£ã¦çµæ§‹é¢å€’ã§ã™ã€‚ãªã®ã§ã€ãƒ­ã‚°ã¯å¤–å‡ºã—ã§ã¨ã©ã¾ã‚‰ãšã«ãã®å¾Œã®æ¤œç´¢æ–¹æ³•ã¾ã§ã—ã£ã‹ã‚Šç¢ºèªã—ã¦æº–å‚™æ•·ã„ã¦ãŠã‹ãªã„ã¨ã‘ãªã„ã¨æ„Ÿã˜ã¾ã—ãŸã€‚\nã‚ã¨å°è±¡çš„ã ã£ãŸã®ãŒã€ç¨¼åƒç‡ã¨ã‚³ã‚¹ãƒˆã®é–¢ä¿‚ã«ã¤ã„ã¦ã®è©±ã§ã™ã€‚\nã‚ã®ã¨ãã®éšœå®³ã«ã‚ˆã£ã¦å„æ‰€ã§ã¯ã€Œãƒãƒ«ãƒAZã§ã¯è¶³ã‚Šãªã„ã€3ã¤ã«ã—ã‚ˆã†ã€ã¨ã‹ã€Œæ±äº¬ãŒãƒ€ãƒ¡ãªæ™‚ã®ãŸã‚ã«ãƒãƒ«ãƒãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ã—ã‚ˆã†ã€ã¨ã„ã†è©±ãŒçµæ§‹å‡ºã¦ã„ãŸã¨æ€ã„ã¾ã™ã€‚ã—ã‹ã—ã€ãã‚Œã‚‰ã®å¯¾ç­–ã‚’ã™ã‚‹ã«ã¯ã‚³ã‚¹ãƒˆã‚‚å¤§ãããªã‚Šã¾ã™ã€‚ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã¯ã€ç¨¼åƒç‡ 99% ã®æ™‚ã®ã‚³ã‚¹ãƒˆã‚’ 1 ã¨ã—ã¦ã€99.9%ã€ 99.99%ã€ Mulch Region ã®ãã‚Œãã‚Œã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«å¿…è¦ãªã‚³ã‚¹ãƒˆã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã¤ã„ã¦èª¬æ˜ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ã–ã£ãã‚Šã¨ã§ã™ãŒã€ 99% ãŒ 1 ã«å¯¾ã—ã¦ã€ 99.9% ã¯ 25.65ã€ 99.99% ã¯ 36.81ã€ Multi Region ã¯ 47.72 ã¨ã„ã†æ¯”ç‡ã§ã®ã‚³ã‚¹ãƒˆå¢—ã¨ãªã‚‹ã‚ˆã†ã§ã™ã€‚3AZ åŒ–ã‚„ãƒãƒ«ãƒãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¨ã„ã†ç™ºæƒ³ã‚’å‡ºã™ã®ã¯ç°¡å˜ã§ã™ãŒã€å¤§ãããªã‚‹ã‚³ã‚¹ãƒˆã€è¤‡é›‘ã«ãªã‚‹é‹ç”¨ã¨ã®å„ªå…ˆåº¦ã‚’å†·é™ã«è€ƒãˆã‚‹å¿…è¦ãŒã‚ã‚‹ãªã¨æ€ã„ã¾ã—ãŸã€‚\nã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã®åŸºæœ¬ã¨CI/CDæ§‹ç¯‰ \u0026amp; é‹ç”¨ ã€œã‚·ã‚¹ãƒ†ãƒ ã¯å‹•ã„ã¦ã‹ã‚‰ãŒæœ¬ç•ªã ã€œ ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã®åŸºæœ¬ã¨CI/CDæ§‹ç¯‰ \u0026amp;amp; é‹ç”¨ ã€œã‚·ã‚¹ãƒ†ãƒ ã¯å‹•ã„ã¦ã‹ã‚‰ãŒæœ¬ç•ªã ã€œ â€“ Developers.IO TOKYO 2019 #cmdevio ï½œ Developers.IO ã‚µãƒ¼ãƒãƒ¬ã‚¹ã®åŸºæœ¬ã¯ã•ã‚‰ã£ã¨ã§ã€ã‚µãƒ¼ãƒãƒ¬ã‚¹é–‹ç™ºã«ãŠã‘ã‚‹é‹ç”¨ã®æ–¹æ³• (ãƒ†ã‚¹ãƒˆç’°å¢ƒã®æº–å‚™ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®æ›¸ãæ–¹ã€ã‚»ã‚­ãƒ¥ã‚¢ãªãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³• etc\u0026hellip;) ã«ã¤ã„ã¦ã€å®Ÿéš›ã«æ‹…å½“ã•ã‚Œã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¾‹ã«è©±ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ã§ã€ã“ã®å†…å®¹ãŒéå¸¸ã«è©³ç´°ã«ã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¦ã€ã‚µãƒ¼ãƒãƒ¬ã‚¹é–‹ç™ºã™ã‚‹ã«ã‚ãŸã£ã¦ã¯ã“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®è³‡æ–™ã¯ã‹ãªã‚Šå‚è€ƒã«ãªã‚‹ã®ã§ã¯ãªã„ã‹ã¨æ„Ÿã˜ã¾ã—ãŸã€‚\nGit ã®ãƒ–ãƒ©ãƒ³ãƒã®é‹ç”¨æ–¹æ³•ã‹ã‚‰å§‹ã¾ã‚Šã€ CircleCI ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ä¾‹ã€AWS ãƒªã‚½ãƒ¼ã‚¹ã«çµ¡ã‚€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®æ›¸ãæ–¹ã€ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã«ä½¿ç”¨ã™ã‚‹ IAM ãƒ­ãƒ¼ãƒ«ã¨ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ãƒãƒªã‚·ãƒ¼ã®åˆ†ã‘æ–¹ã€ã•ã‚‰ã«ã¯é‹ç”¨ãŒå§‹ã¾ã£ã¦ã‹ã‚‰ã®ç›£è¦–ã«ã¤ã„ã¦ã®å†…å®¹ã¾ã§ã€æœ¬å½“ã«ç››ã‚Šã ãã•ã‚“ã®å†…å®¹ã§ã—ãŸã€‚\nå®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¾‹ã«ã—ãŸå†…å®¹ã ã£ãŸã®ã§ã€ã“ã‚Œã‹ã‚‰ã‚µãƒ¼ãƒãƒ¬ã‚¹é–‹ç™ºã‚’å§‹ã‚ã‚ˆã†ã¨æ€ã£ã¦ã„ã‚‹äººã«ã‚‚ã€ã™ã§ã«ä½•ã‹ã—ã‚‰ã®é‹ç”¨ãƒ•ãƒ­ãƒ¼ã§é–‹ç™ºã‚’ã—ã¦ã„ã‚‹äººã«ã‚‚å‚è€ƒã«ãªã‚‹ã‚ˆã†ãªå†…å®¹ã§ã—ãŸã€‚\nã“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯ãƒ“ã‚¢ãƒãƒƒã‚·ãƒ¥å½¢å¼ã§ã®å†æ¼”ã‚‚å®Ÿæ–½ã•ã‚ŒãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã ã£ãŸã®ã§ãã®å½“æ™‚ã¯å†…å®¹ãŒã¯ã£ãã‚Šå…¥ã£ã¦ãã¦ã„ãªã‹ã£ãŸéƒ¨åˆ†ã‚‚ã‚ã£ãŸã‚“ã§ã™ãŒã€ã‚ã‚‰ãŸã‚ã¦è³‡æ–™ã‚’è¦‹ã¦ã¿ã‚‹ã¨ãã®ã¾ã¨ã¾ã‚Šå…·åˆã«ãŸã ãŸã ã³ã£ãã‚Šã—ã¦ã„ã¾ã™ã€‚ç†Ÿèª­ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nå…¨ä½“ã®æ„Ÿæƒ³ Developers.IO 2019 Tokyo ã«è¡Œã£ã¦ããŸè©±ã§ã—ãŸã€‚\næœ¬å½“ã«å„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«å¯¾ã™ã‚‹æ„Ÿæƒ³ã ã‘ã‚’æ›¸ã„ãŸã®ã§ã™ãŒã€ã©ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚‚å†…å®¹ãŒæ¿ƒãã¦å‚è€ƒã«ãªã‚‹ã‚‚ã®ã°ã‹ã‚Šã§ã€ 45 åˆ†ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚é–“ãŒã‚ã£ã¨ã„ã†é–“ã«éãã¦ã„ã¾ã—ãŸã€‚\nã‚ã¨ã“ã‚Œã¯å»å¹´ã‚‚æ„Ÿã˜ãŸã®ã§ã™ãŒã€ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®äººãŸã¡ã¯æœ¬å½“ã«æŠ€è¡“åŠ›ã¨ç™»å£‡åŠ›ãŒé«˜ã„ãªãƒ¼ã¨æ„Ÿã˜ã¾ã—ãŸã€‚è³‡æ–™ã‚‚è¦‹ã‚„ã™ãã¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®é‹ã³ã‚‚ã†ã¾ãã¦ã€ãŸã ãŸã ã™ã”ã„ãªã¨æ€ã„ã¾ã—ãŸã€‚\nã¾ãŸã€å¾Œã«è³‡æ–™ãŒã™ã¹ã¦å…¬é–‹ã•ã‚Œã‚‹ã¨ã„ã†ã®ã‚‚è‰¯ã„ã§ã™ã­ã€‚å½“æ—¥ã¯ä¼šå ´è¨­å‚™ã®é–¢ä¿‚ã§ä¸€éƒ¨ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã¯ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã®èª¿å­ãŒã‚ˆããªã‹ã£ãŸã‚Šã¨ã„ã†ã‚¢ã‚¯ã‚·ãƒ‡ãƒ³ãƒˆã¯ã‚ã‚Šã¾ã—ãŸãŒã€è³‡æ–™ã¯å¾Œã§å…¬é–‹ã•ã‚Œã‚‹ã¨äº‹å‰ã«å‘ŠçŸ¥ã•ã‚Œã¦ã„ãŸã®ã§ã€å®‰å¿ƒæ„ŸãŒã‚ã‚Šã¾ã—ãŸã€‚\nã‚ã¨ã¯ã€ãƒ©ãƒ³ãƒã‚»ãƒƒã‚·ãƒ§ãƒ³ã§é…ã‚‰ã‚ŒãŸãŠå¼å½“ãŒèƒƒã«å„ªã—ã„ãŠå¼å½“ã§ã€ã¨ã¦ã‚‚ç¾å‘³ã—ã‹ã£ãŸã§ã™ã€‚\nã•ã‚‰ã«ä¼šå ´ã§ã¯ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã€ã‚²ã‚¹ãƒˆä¼æ¥­ã®ãƒ–ãƒ¼ã‚¹ã€ã‚³ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚¹ãƒšãƒ¼ã‚¹ãªã©ã‚‚ã‚ã‚Šã€ç©ºãæ™‚é–“ã‚‚æ¥½ã—ã‚ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚\nä»Šå›æŠ€è¡“çš„ãªã‚¤ãƒ³ãƒ—ãƒƒãƒˆã‚’ãŸãã•ã‚“ã™ã‚‹ã“ã¨ãŒã§ããŸã®ã§ã€å¾—ãŸå†…å®¹ã€é–¢é€£ã™ã‚‹ã«å†…å®¹ã«å¯¾ã—ã¦å®Ÿéš›ã«æ‰‹ã‚’å‹•ã‹ã—ã¦è‡ªåˆ†ã®æŠ€è¡“ãƒ¬ãƒ™ãƒ«ã‚’ä¸Šã’ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/event-developersio-1029-tokyo/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] Developers.IO 2019 Tokyo ã«è¡Œã£ã¦ãã¾ã—ãŸ"
  },
  {
    "contents": "è‡ªåˆ†ã§é–‹ç™ºã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã‚’ AWS ä¸Šã§å‹•ã‹ã—ãŸã„ã¨ã‹ã€èªå®šè©¦é¨“ã®ãŸã‚ã«å®Ÿéš›ã«è§¦ã£ã¦ã¿ãŸã„ã¨ã‹ã€å€‹äººã§ AWS ã‚’åˆ©ç”¨ã—ãŸã„ã‚·ãƒ¼ãƒ³ã¯å¤šã€…ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚ãã‚“ãªã¨ãæ°—ã«ãªã‚‹ã®ã¯ã€æ¯æœˆã®ã‚³ã‚¹ãƒˆã§ã™ã€‚å‹‰å¼·ä»£ã ã¨æ€ã£ã¦ã‚‚ã€ã§ãã‚‹é™ã‚Šã‚³ã‚¹ãƒˆã¯æŠ‘ãˆãŸã„ã¨ã“ã‚ã§ã™ã€‚ä»Šå›ã¯ã€å®Ÿéš›ã«ç§ãŒå€‹äººã§ AWS ã‚’ä½¿ã†ä¸Šã§ã‚³ã‚¹ãƒˆå‰Šæ¸›ã®ãŸã‚ã«ã‚„ã£ã¦ã„ã‚‹ã“ã¨ãƒ»æ°—ã‚’ã¤ã‘ã¦ã„ã‚‹ã“ã¨ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nç›®æ¬¡ ã‚³ã‚¹ãƒˆã‚¢ãƒ©ãƒ¼ãƒˆã‚’è¨­å®šã™ã‚‹ AWS Cost Explorer ã‚’ä½¿ã£ã¦ã‚³ã‚¹ãƒˆã‚’ç®¡ç†ã™ã‚‹ ã‚µãƒ¼ãƒ“ã‚¹ã®ç„¡æ–™åˆ©ç”¨æ ã‚’æ´»ç”¨ã™ã‚‹ Amazon EC2 Amazon RDS Amazon DynamoDB AWS Lambda Amazon SNS AWS CodeCommit AWS CodePipeline ã¾ã¨ã‚ ã‚³ã‚¹ãƒˆã‚¢ãƒ©ãƒ¼ãƒˆã‚’è¨­å®šã™ã‚‹ ã¾ãšã¯ã€æ¯æœˆã®è«‹æ±‚ãŒæ¥ãŸã¨ãã«ã³ã£ãã‚Šã™ã‚‹ã“ã¨ãŒãªã„ã‚ˆã†ã«ã‚³ã‚¹ãƒˆã‚¢ãƒ©ãƒ¼ãƒˆã‚’è¨­å®šã—ã¾ã™ã€‚\næ¯æœˆã®ã‚³ã‚¹ãƒˆã®æ¨ç§»ã¯ CloudWatch ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã§ç›£è¦–ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãŸã ã—è«‹æ±‚ãƒ‡ãƒ¼ã‚¿ã¨ã‚¢ãƒ©ãƒ¼ãƒ ã«ã¤ã„ã¦ã¯ ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ (us-east) ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®ã¿ã§è¡¨ç¤ºãƒ»è¨­å®šãŒå¯èƒ½ã¨ãªã£ã¦ã„ã¾ã™ã€‚\næ‰‹é †ã¨ã—ã¦ã¯æ™®é€šã® CloudWatch ã‚¢ãƒ©ãƒ¼ãƒ ã®è¨­å®šæ–¹æ³•ã¨ãªã‚“ã‚‰å¤‰ã‚ã‚Šã‚ã‚Šã¾ã›ã‚“ã€‚\nå¯¾è±¡ã¨ã™ã‚‹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¯ è«‹æ±‚ \u0026gt; æ¦‚ç®—åˆè¨ˆè«‹æ±‚é¡ \u0026gt; EstimatedCharges (USD) ã§ã™ã€‚ã“ã‚Œã«å¯¾ã—ã¦é©å½“ãªé–¾å€¤ã‚’è¨­å®šã—ã¦ã€ SNS ã§å€‹äººã® Slack ãªã‚Šãƒ¡ãƒ¼ãƒ«ãªã‚Šã«é€šçŸ¥ã™ã‚Œã° OK ã§ã™ã€‚\nSNS ãƒˆãƒ”ãƒƒã‚¯ã®ä½œæˆã«ã¤ã„ã¦ã¯éå»ã«æ›¸ã„ã¦ã„ã‚‹ã®ã§å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nAWS Cost Explorer ã‚’ä½¿ã£ã¦ã‚³ã‚¹ãƒˆã‚’ç®¡ç†ã™ã‚‹ AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ç¾¤ã«ã¯ AWS Cost Explorer ã¨ã„ã†ã‚µãƒ¼ãƒ“ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ AWS ã®ä½¿ç”¨çŠ¶æ³ã¨ã‚³ã‚¹ãƒˆã‚’å¯è¦–åŒ–ã—ã¦ã€ ã©ã®ã‚µãƒ¼ãƒ“ã‚¹ ã€ ã©ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ ã€ ã©ã® API ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ ãªã©ã€éå¸¸ã«ç´°ã‹ã„ãƒ¬ãƒ™ãƒ«ã§ã‚³ã‚¹ãƒˆã®ç™ºç”ŸçŠ¶æ³ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nè‰²ã€…ã¨åˆ†æã®æ–¹æ³•ã¯ã‚ã‚‹ã‚“ã§ã™ãŒã€å€‹äººçš„ã«ãŠã™ã™ã‚ãªã®ã¯ ã‚¿ã‚° ã§ã®åˆ†æã§ã™ã€‚\nAWS ã®å„ç¨®ãƒªã‚½ãƒ¼ã‚¹ã«ã¯\u0008 ã‚¿ã‚° ã¨ã—ã¦ key/value å½¢å¼ã§æƒ…å ±ã‚’ä»˜ä¸ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ ãã®ã‚¿ã‚°ã® key ã‚’ ã‚³ã‚¹ãƒˆé…åˆ†ã‚¿ã‚° ã¨ã—ã¦æœ‰åŠ¹åŒ–ã—ã¦ãŠãã¨ã€AWS Cost Explorer ã«ã¦åŒä¸€ key ã«å¯¾ã—ã¦ value ã”ã¨ã®ã‚³ã‚¹ãƒˆãŒã‚ã‹ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nç§ã®å ´åˆã¯å„ãƒªã‚½ãƒ¼ã‚¹ã« Product ã¨ã„ã†ã‚¿ã‚°ã‚­ãƒ¼ã‚’è¨­å®šã—ã¦ã€ãã“ã«ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåã‚’ã¤ã‘ã¦ã„ã¾ã™ã€‚ãã—ã¦ Product ã‚¿ã‚° key ã‚’ã‚³ã‚¹ãƒˆé…åˆ†ã‚¿ã‚°ã¨ã—ã¦æœ‰åŠ¹åŒ–ã™ã‚‹ã“ã¨ã§ã€ä¸‹ã®ã‚­ãƒ£ãƒ—ãƒãƒ£ã®ã‚ˆã†ãªã‚°ãƒ©ãƒ•ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã‚¿ã‚° key ã‚’ã‚³ã‚¹ãƒˆé…åˆ†ã‚¿ã‚°ã¨ã—ã¦æœ‰åŠ¹åŒ–ã™ã‚‹ã®ã¯ã€è«‹æ±‚æƒ…å ±ãƒšãƒ¼ã‚¸ã‹ã‚‰å®Ÿæ–½ã—ã¾ã™ã€‚\nã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã® ã‚³ã‚¹ãƒˆé…åˆ†ã‚¿ã‚° ã‚’é¸æŠã—ã¾ã™ã€‚\næ—¢å­˜ã® AWS ãƒªã‚½ãƒ¼ã‚¹ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã‚¿ã‚° key ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã®ã§ã€å¿…è¦ãªã‚‚ã®ã‚’é¸æŠã—ã¦æœ‰åŠ¹åŒ–ã—ã¾ã™ã€‚\nAWS Cost Explorer ã§ã‚¿ã‚°åˆ¥åˆ†æãŒã§ãã‚‹ã®ã¯ã€ã‚³ã‚¹ãƒˆé…åˆ†ã‚¿ã‚°ã¨ã—ã¦æœ‰åŠ¹åŒ–ã—ãŸã‚ã¨ã‹ã‚‰ã«ãªã‚Šã¾ã™ã€‚ãŸã¨ãˆå¯¾è±¡ã®ã‚¿ã‚°ã‚’æœ‰åŠ¹åŒ–å‰ã‹ã‚‰è¨­å®šã—ã¦ã„ãŸã¨ã—ã¦ã‚‚ã€æœ‰åŠ¹åŒ–ã¾ã§ã«ç™ºç”Ÿã—ãŸã‚³ã‚¹ãƒˆã«é–¢ã—ã¦ã¯ No Tagkey ã¨ã—ã¦è¨ˆç®—ã•ã‚Œã¾ã™ã€‚\nãªã®ã§ã€ã§ãã‚‹ã ã‘æ—©ãã‚³ã‚¹ãƒˆé…åˆ†ç”¨ã®ã‚¿ã‚°ã‚’æ±ºã‚ã¦æœ‰åŠ¹åŒ–ã—ã¦ãŠãã“ã¨ã‚’ãŠã™ã™ã‚ã—ã¾ã™ã€‚\nã“ã‚Œã«ã‚ˆã£ã¦ã€\u0008ã©ã‚“ãªå†…å®¹ã§ä½œæˆã—ãŸãƒªã‚½ãƒ¼ã‚¹ã§ã©ã‚Œã ã‘ã®ã‚³ã‚¹ãƒˆãŒç™ºç”Ÿã—ã¦ã„ã‚‹ã‹ã‚’çŸ¥ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nå€‹äººã§é–‹ç™ºã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã‚’ã„ãã¤ã‹æŒã£ã¦ã„ã‚‹ã®ã§ã‚ã‚Œã°ã€ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã®ã‚³ã‚¹ãƒˆãŒã‚ã‹ã‚Šã¾ã™ã€‚\nå‚åŠ ã—ãŸãƒãƒ³ã‚ºã‚ªãƒ³ã”ã¨ã«ã‚¿ã‚°ã®å€¤ã‚’è¨­å®šã—ã¦ãŠã‘ã°ã€ã®ã¡ã«ãƒªã‚½ãƒ¼ã‚¹ã®å‰Šé™¤å¿˜ã‚Œãªã©ã«æ°—ä»˜ãã‚„ã™ããªã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nã¨ã«ã‹ãã€ã©ã“ã«ã‚³ã‚¹ãƒˆãŒã‹ã‹ã£ã¦ã„ã‚‹ã®ã‹ã‚’çŸ¥ã‚‹ãŸã‚ã« AWS Cost Explorer ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚\nã‚µãƒ¼ãƒ“ã‚¹ã®ç„¡æ–™åˆ©ç”¨æ ã‚’æ´»ç”¨ã™ã‚‹ AWS ã®å„ã‚µãƒ¼ãƒ“ã‚¹ã«ã¯ç„¡æ–™åˆ©ç”¨æ ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ãŒã‚ã‚Šã€ã‚ã‚‹ç¨‹åº¦ã®åˆ©ç”¨ã§ã‚ã‚Œã°æ–™é‡‘ãŒç™ºç”Ÿã—ã¾ã›ã‚“ã€‚ãªã®ã§ã€ã“ã‚Œã‚’æœ‰åŠ¹ã«æ´»ç”¨ã—ã¾ã—ã‚‡ã†ã€‚\nã‚ã‚‹ç¨‹åº¦ ã¨ã„ã†ã®ã¯ã€ åˆ©ç”¨é–‹å§‹ã‹ã‚‰ã®ä¸€å®šæœŸé–“ ã‚‚ã—ãã¯ ç‰¹å®šã®æ¡ä»¶ã§ç„¡æœŸé™ ã®ãã‚Œãã‚Œã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚\nå„ã‚µãƒ¼ãƒ“ã‚¹ã®ç„¡æ–™æ ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®å…¬å¼ãƒšãƒ¼ã‚¸ã«ã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\nAWS ã‚¯ãƒ©ã‚¦ãƒ‰ç„¡æ–™åˆ©ç”¨æ  | AWS ã“ã®ä¸­ã‹ã‚‰ã€ç‰¹ã«åˆ©ç”¨é »åº¦ãŒé«˜ãã†ãªã‚‚ã®ã€å®Ÿéš›ã«ãŠä¸–è©±ã«ãªã£ã¦ã„ã‚‹ã‚‚ã®ã‚’ã„ãã¤ã‹æŠœç²‹ã—ã¦ã¿ã¾ã™ã€‚\nAmazon EC2 750 æ™‚é–“/æœˆ ã®åˆ©ç”¨æ™‚é–“ Linuxã€RHELã€SLES ã¾ãŸã¯ Windows ã® t2.micro ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ åˆ©ç”¨é–‹å§‹ã‹ã‚‰ 12 ãƒ¶æœˆé–“ 750 æ™‚é–“ã¨ã„ã†ã®ã¯ 24 ã§å‰²ã‚‹ã¨ 31.25 ãªã®ã§ã€ 1 å°ã® t2.micro ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç„¡æ–™ã§ 1 ãƒ¶æœˆãƒ•ãƒ«ç¨¼åƒã•ã›ã‚‰ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\næ¯æ—¥åŠæ—¥ã ã‘èµ·å‹•ã™ã‚‹ã®ã§ã‚ã‚Œã°ã€ 2 å°åˆ†ä½¿ãˆã¾ã™ã€‚\nãŸã ã—ã“ã‚Œã¯èµ·å‹•æ™‚é–“ã«å¯¾ã™ã‚‹æ–™é‡‘ã®ç„¡æ–™æ ãªã®ã§ã€èµ·å‹•ä¸­ã«ç™ºç”Ÿã—ãŸãƒ‡ãƒ¼ã‚¿è»¢é€ã«ã‹ã‹ã‚‹ã‚³ã‚¹ãƒˆã¯åˆ¥é€”å¿…è¦ã«ãªã‚Šã¾ã™ã€‚\nã¾ãŸã€æœŸé–“ã¯åˆ©ç”¨é–‹å§‹ã‹ã‚‰ 12 ãƒ¶æœˆé–“ã¨ãªã£ã¦ã„ã‚‹ã®ã§ã€åˆã‚ã¦åˆ©ç”¨ã‚’é–‹å§‹ã—ãŸã‚‰ 1 å¹´é–“ã¯ãŒã£ã¤ã‚Šä½¿ã„ã¾ã—ã‚‡ã†ã€‚\nAmazon RDS 750 æ™‚é–“/æœˆ ã®åˆ©ç”¨æ™‚é–“ db.t2.micro ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒåˆ©ç”¨å¯èƒ½ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ³ã‚¸ãƒ³ 20 GB ã®æ±ç”¨ (SSD) ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ 20 GB ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŠã‚ˆã³ DB ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆç”¨ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ åˆ©ç”¨é–‹å§‹ã‹ã‚‰ 12 ãƒ¶æœˆé–“ RDS ã«é–¢ã—ã¦ã‚‚åˆ©ç”¨é–‹å§‹ã‹ã‚‰ 12 ãƒ¶æœˆé–“ã€æ¯æœˆ 750 æ™‚é–“ã®ç„¡æ–™æ ãŒåˆ©ç”¨ã§ãã¾ã™ã€‚ã¾ãŸã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ã¤ã„ã¦ã‚‚ 20 GB (æ±ç”¨ SSD) ã®ç„¡æ–™æ ãŒåˆ©ç”¨ã§ãã¾ã™ã€‚\nã²ã¨ã¤æ®‹å¿µãªã®ãŒã€ç„¡æ–™æ ã®å¯¾è±¡ã¨ãªã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ— db.t2.micro ãŒå…¨ã¦ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ³ã‚¸ãƒ³ã«å¯¾å¿œã—ã¦ã„ãªã„ã‚“ã§ã™ã‚ˆã­ã€‚ã¨ã„ã†ã‹ã€ Amazon Aurora ã®ã¿å¯¾å¿œã—ã¦ãŠã‚‰ãšã€ãã‚Œä»¥å¤–ã¯å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚\nAmazon DynamoDB èª­ã¿/æ›¸ã ãã‚Œãã‚Œ 25 å€‹ã®ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ 25 GB ã®ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ DynamoDB ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‹ã‚‰ã® 250 ä¸‡å›ã®ã‚¹ãƒˆãƒªãƒ¼ãƒ èª­ã¿è¾¼ã¿è¦æ±‚ æœŸé–“ç„¡åˆ¶é™ DynamoDB ã¯æ¯æœˆä¸Šè¨˜ã®ç„¡æ–™æ ãŒä»˜ä¸ã•ã‚Œã¦ã„ã¾ã™ã€‚ãªã®ã§ã€ã¡ã‚‡ã£ã¨è§¦ã‚‹ç¨‹åº¦ã ã£ãŸã‚Šã€æœ¬å½“ã«å°è¦æ¨¡ãªã‚µãƒ¼ãƒ“ã‚¹ã§ã‚ã‚Œã°ãšã£ã¨ç„¡æ–™ã§åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ (ã“ã‚Œã¯ DynamoDB ã«é™ã£ãŸè©±ã§ã¯ãªã„ã§ã™ãŒ)\nèª­ã¿/æ›¸ã ãã‚Œãã‚Œ 25 å€‹ã®ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ ã¨ 25 GB ã®ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ ã¨ã„ã†å€¤ã¯å€‹äººã§è§¦ã‚‹åˆ†ã«ã¯ååˆ†ã™ãã‚‹å€¤ã§ã€ç§ã®å ´åˆã¯æ¯æœˆå°‘ã—ãšã¤ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å®¹é‡ã¯é£Ÿã£ã¦ã¾ã™ãŒã€æ¯æœˆ DynamoDB ã«å¯¾ã™ã‚‹æ–™é‡‘ã¯ç™ºç”Ÿã—ã¦ã„ã¾ã›ã‚“ã€‚(ã‚‚ã¡ã‚ã‚“å€‹äººå·®ã¯ã‚ã‚Šã¾ã™)\nDynamoDB ä½¿ã£ã¦ã‚µãƒ¼ãƒãƒ¬ã‚¹é–‹ç™ºã¡ã‚‡ã£ã¨ã‚„ã£ã¦ã¿ãŸã„ã‘ã©ã‚³ã‚¹ãƒˆãŒ\u0026hellip;ã¨æ€ã£ã¦ã„ã‚‹æ–¹ã€ååˆ†ãªç„¡æ–™æ ãŒã‚ã‚‹ã®ã§å®‰å¿ƒã—ã¦ãã ã•ã„ã€‚\nAWS Lambda 1,000,000 ä»¶/æœˆã®ç„¡æ–™ãƒªã‚¯ã‚¨ã‚¹ãƒˆ 1 ã‹æœˆã‚ãŸã‚Šæœ€å¤§ 320 ä¸‡ç§’ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ™‚é–“ æœŸé–“ç„¡åˆ¶é™ Lambda ã¯ ãƒªã‚¯ã‚¨ã‚¹ãƒˆå›æ•° ã¨ ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ™‚é–“ (ç§’) ã«å¯¾ã—ã¦ã‚³ã‚¹ãƒˆãŒç™ºç”Ÿã—ã¾ã™ã€‚\nãƒªã‚¯ã‚¨ã‚¹ãƒˆå›æ•°ã¯ã€ãã®åã®é€šã‚Š Lambda é–¢æ•°ã‚’å®Ÿè¡Œã—ãŸå›æ•°ã«ãªã‚Šã¾ã™ã€‚æ¯æœˆ 1,000,000 å›ã£ã¦ã‹ãªã‚Šã®æ•°ã§ã™ã‚ˆã­ã€‚\næœ€å¤§ 320 ä¸‡ç§’ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒˆæ™‚é–“ã«ã¤ã„ã¦ã‚‚ã€ååˆ†ãªåˆ©ç”¨æ ã ã¨æ€ã„ã¾ã™ã€‚\nLamnda ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒˆæ™‚é–“ã«å¯¾ã™ã‚‹ã‚³ã‚¹ãƒˆã¯ã€ å‰²ã‚Šå½“ã¦ãŸãƒ¡ãƒ¢ãƒª ã¨ å®Ÿè¡Œæ™‚é–“ ã«ã‚ˆã£ã¦ç®—å‡ºã•ã‚Œã¾ã™ã€‚ãŸã ã—ã‚ã¡ã‚ƒãã¡ã‚ƒã‚„ã‚„ã“ã—è‰¯ã„ã®ã§ã€è©³ç´°ã¯ Lambda ã®æ–™é‡‘ãƒšãƒ¼ã‚¸ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ä¾‹ã‚’ã”å‚ç…§ãã ã•ã„ã€‚\næ–™é‡‘ - AWS Lambda ï½œAWS ã¨ã¯è¨€ã£ã¦ã‚‚ã€ Lambda ã«é–¢ã—ã¦ã‚‚å€‹äººã§ä½¿ã†åˆ†ã«ã¯ååˆ†ãªç„¡æ–™æ ãªã®ã§ã€ã‚ã¾ã‚Šç¥çµŒè³ªã«ãªã‚‹å¿…è¦ã¯ãªã„ã¨æ€ã„ã¾ã™ã€‚\nAmazon SNS 100 ä¸‡ä»¶ã®ç™ºè¡Œ 10 ä¸‡ä»¶ã® HTTP/S é…ä¿¡ 1,000 ä»¶ã®ãƒ¡ãƒ¼ãƒ«é…ä¿¡ æœŸé–“ç„¡åˆ¶é™ AWS ã§ã®å„ç¨®é€šçŸ¥ã¯ Amazon SNS ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒå¤šã„ã¨æ€ã„ã¾ã™ã€‚ã—ã‹ã—ã€ä¸Šè¨˜ã®ã‚ˆã†ã«ååˆ†ãªç„¡æ–™æ ãŒæœŸé–“ç„¡åˆ¶é™ã§æ¯æœˆåˆ©ç”¨å¯èƒ½ãªã®ã§ã€ä¸Šã§è¨­å®šã—ãŸã‚³ã‚¹ãƒˆã‚¢ãƒ©ãƒ¼ãƒˆå«ã‚ã€ã•ã¾ã–ã¾ãªé€šçŸ¥ã«å¯¾ã—ã¦åˆ©ç”¨ã—ã¦ã‚‚ã»ã¼ç„¡æ–™æ ã§åã¾ã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚\nAWS CodeCommit 1 ã‹æœˆã‚ãŸã‚Š 5 äººã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼ 1 ã‹æœˆã‚ãŸã‚Š 50 GB/æœˆã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ 1 ã‹æœˆã‚ãŸã‚Š 10,000 Git ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ æœŸé–“ç„¡åˆ¶é™ CodeCommit ã«é–¢ã—ã¦ã¯ã ã„ã¶å‰ã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€å€‹äººã§ä½¿ã†ã®ã§ã‚ã‚Œã°ã»ã¼ç„¡æ–™ã§åˆ©ç”¨ã§ãã‚‹ã§ã—ã‚‡ã†ã€‚ç„¡æ–™æ ã‹ã‚‰ã¯ã¿å‡ºã‚‹ã¨ã™ã‚Œã°ã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãã‚‰ã„ãªæ°—ãŒã—ã¾ã™ã€‚\nAWS CodePipeline 1 ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³/æœˆ æœŸé–“ç„¡åˆ¶é™ ãŸã£ãŸ 1 ã¤ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã ã‘ã‹ã‚ˆã¨æ€ã‚ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã® ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ ã¨ã„ã†ã®ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚\nã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¨ã¯ã€30 æ—¥ä»¥ä¸Šå­˜åœ¨ã—ã¦ã„ã¦ã€ãã®æœˆã«å°‘ãªãã¨ã‚‚ 1 ã¤ã®ã‚³ãƒ¼ãƒ‰å¤‰æ›´ãŒç™ºç”Ÿã—ãŸãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ã™ã€‚ãã®æœˆã«æ–°ã—ã„ã‚³ãƒ¼ãƒ‰å¤‰æ›´ãŒãªã„ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«å¯¾ã—ã¦ã¯ã€æ–™é‡‘ã¯ç™ºç”Ÿã—ã¾ã›ã‚“ã€‚ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¯ã€1 ã‹æœˆã«æº€ãŸãªã„åˆ†ã«å¯¾ã—ã¦æŒ‰åˆ†è¨ˆç®—ã•ã‚Œã¾ã›ã‚“\næ–™é‡‘ - AWS CodePipeline | AWS ã¤ã¾ã‚Šã€ä½œæˆã‹ã‚‰ 30 æ—¥ä»¥å†…ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ã‚ã‚Œã°å¹¾ã¤å­˜åœ¨ã—ã¦ã„ã¦ã‚‚ã€ã‹ã¤ä½•å›ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´ãŒã‚ã£ã¦ã‚‚ç„¡æ–™ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nã‚ã‚ŠãŒã¡ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã—ã¦ã¯ã€ä½œæˆã‹ã‚‰ 30 æ—¥ä»¥ä¸ŠçµŒéã—ã¦ã„ã‚‹ã‚‚ã®ã®ã»ã¨ã‚“ã©ã‚³ãƒ¼ãƒ‰å¤‰æ›´ã®ãªã„ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒè¤‡æ•°ã‚ã£ã¦ã‚‚ã‚³ã‚¹ãƒˆã¯ç™ºç”Ÿã—ã¾ã›ã‚“ã€‚ã—ã‹ã—ã€ã‚ã‚‹æœˆã«ãã‚Œã‚‰ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®ã†ã¡ 2 ã¤ã«ã‚³ãƒ¼ãƒ‰å¤‰æ›´ãŒç™ºç”Ÿã—ãŸå ´åˆã€ 1 ã¤ã¯ç„¡æ–™æ ã®å¯¾è±¡ã§ã™ãŒã€ã‚‚ã† 1 ã¤ã«ã¯ã‚³ã‚¹ãƒˆãŒç™ºç”Ÿã—ã¦ã—ã¾ã„ã¾ã™ã€‚\nCodePiplie ã®æ–™é‡‘ã¯ 1.00 USD/ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ ãªã®ã§ã€ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã ã¨ CodePipeline ã ã‘ã§ 1 USD ã®ã‚³ã‚¹ãƒˆãŒç™ºç”Ÿã—ã¦ã—ã¾ã„ã¾ã™ã€‚\nè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã¯ã—ãŸã„ã‘ã©ç¯€ç´„ã‚‚ã—ãŸã„\u0026hellip; ã¨ã„ã†å ´åˆã¯ã€ã§ãã‚‹ã“ã¨ã¯åˆ¶é™ã•ã‚Œã¾ã™ãŒ CodeBuild ã ã‘ã§ã‚„ã‚‹ã¨ã„ã†æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™ã€‚\nã¾ã¨ã‚ AWS ã‚’å€‹äººã§ä½¿ã†éš›ã«ã‚³ã‚¹ãƒˆã‚’å‰Šæ¸›ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦æ›¸ãã¾ã—ãŸã€‚\nå®Œå…¨ã«ç„¡æ–™ã§ï¼ã¨ã„ã†ã®ã¯æµçŸ³ã«é›£ã—ã„ã§ã™ãŒã€ç„¡æ–™æ ã®æ´»ç”¨ã‚„ Cost Explorer ã§ã®è¦‹ç›´ã—ãªã©ã§ã‚³ã‚¹ãƒˆã®å‰Šæ¸›ãŒã§ãã‚‹ã®ã§ã¯ï¼Ÿã¨ã„ã†å†…å®¹ã§ã—ãŸã€‚ã‚³ã‚¹ãƒˆã®å‰Šæ¸›ã¯å€‹äººãƒ¬ãƒ™ãƒ«ã ã‘ã®è©±ã§ã¯ãªãå®Ÿéš›ã®æ¥­å‹™ã«ãŠã„ã¦ã‚‚é‡è¦ãªå†…å®¹ã ã¨æ€ã†ã®ã§ã€ã‚‚ã—ã‹ã—ãŸã‚‰å€‹äººãƒ¬ãƒ™ãƒ«ã§å®Ÿæ–½ã—ã¦ã„ã‚‹ã‚³ã‚¹ãƒˆå¯¾ç­–ãŒå®Ÿå‹™ã§ç”Ÿãã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚Šã¾ã™ã€‚\nAWS ã¯å€‹äººã§ä½¿ã†ã«ã—ã¦ã¯é«˜ã„ï¼ ã¨ã„ã†æ€ã„ã‚’æŒã£ã¦ã„ã‚‹æ–¹ã«ã¯ã€ãã‚“ãªã“ã¨ãªã„ã‚ˆã¨ä¼ãˆãŸã„ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-way-to-save-cost-personal-account/",
    "title": "AWS ã‚’å€‹äººã§ä½¿ã†ã¨ãã«ã‚³ã‚¹ãƒˆã‚’å‰Šæ¸›ã™ã‚‹ãŸã‚ã«ã‚„ã£ã¦ã„ã‚‹ã“ã¨"
  },
  {
    "contents": "DynamoDB ã®é …ç›®è¿½åŠ  put_item() ã«ã¤ã„ã¦ã¯éå»ã«æ›¸ã„ãŸã®ã§ã™ãŒã€ãã®æ™‚ã¯å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ã¿ã‚’æŒ‡å®šã—ã¦å‹•ä½œã‚’ç¢ºèªã—ã¾ã—ãŸã€‚ä»Šå›ã¯ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¦é …ç›®ã®è¿½åŠ ã¨æ›´æ–°ã‚’ã‚„ã£ã¦ã¿ã¾ã™ã€‚\néå»ã«æ›¸ã„ãŸè¨˜äº‹ã¯ã“ã¡ã‚‰ã€‚\nç›®æ¬¡ æº–å‚™ ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã®ãƒ­ãƒ¼ãƒ‰ é …ç›®ã®æ¡ä»¶ä»˜ãè¿½åŠ ãƒ»æ›´æ–° æ—¢ã«å­˜åœ¨ã™ã‚‹é …ç›®ã¨åŒã˜ã‚­ãƒ¼ã‚’æŒã¤é …ç›®ã‚’è¿½åŠ ã—ã‚ˆã†ã¨ã—ãŸã¨ãã«ä¸Šæ›¸ãã•ã‚Œã‚‹ã®ã‚’é˜²ã ç‰¹å®šã®æ¡ä»¶ã‚’æº€ãŸã™å ´åˆã®ã¿æ›´æ–°ã™ã‚‹ ã¾ã¨ã‚ æº–å‚™ ä»Šå›ã¯ AWS ã®å…¬å¼ãƒšãƒ¼ã‚¸ã«ã‚ã‚‹ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã„ã¾ã™ã€‚\nã‚¹ãƒ†ãƒƒãƒ— 1: ã‚µãƒ³ãƒ—ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ - Amazon DynamoDB ã„ãã¤ã‹ã‚µãƒ³ãƒ—ãƒ«ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ãƒ‡ãƒ¼ã‚¿ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ãŒã€ãã®ä¸­ã® Thread ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã„ã¾ã™ã€‚\nãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ ä¸Šã®ãƒªãƒ³ã‚¯ã§ã¯ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã®ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆæ‰‹é †ãŒè¼‰ã£ã¦ã„ã¾ã™ãŒã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆã‚‚ boto3 ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ã‚„ã£ã¦ã¿ã¾ã™ã€‚\nimport boto3 dynamodb_clinet = boto3.client(\u0026#39;dynamodb\u0026#39;) if __name__ == \u0026#39;__main__\u0026#39;: response = dynamodb_clinet.create_table( AttributeDefinitions=[ { \u0026#39;AttributeName\u0026#39;: \u0026#39;ForumName\u0026#39;, \u0026#39;AttributeType\u0026#39;: \u0026#39;S\u0026#39; }, { \u0026#39;AttributeName\u0026#39;: \u0026#39;Subject\u0026#39;, \u0026#39;AttributeType\u0026#39;: \u0026#39;S\u0026#39; } ], TableName=\u0026#39;Thread\u0026#39;, KeySchema=[ { \u0026#39;AttributeName\u0026#39;: \u0026#39;ForumName\u0026#39;, \u0026#39;KeyType\u0026#39;: \u0026#39;HASH\u0026#39; }, { \u0026#39;AttributeName\u0026#39;: \u0026#39;Subject\u0026#39;, \u0026#39;KeyType\u0026#39;: \u0026#39;RANGE\u0026#39; } ], BillingMode=\u0026#39;PROVISIONED\u0026#39;, ProvisionedThroughput={ \u0026#39;ReadCapacityUnits\u0026#39;: 1, \u0026#39;WriteCapacityUnits\u0026#39;: 1 }, StreamSpecification={ \u0026#39;StreamEnabled\u0026#39;: False }, SSESpecification={ \u0026#39;Enabled\u0026#39;: False }, Tags=[ { \u0026#39;Key\u0026#39;: \u0026#39;Product\u0026#39;, \u0026#39;Value\u0026#39;: \u0026#39;Sample\u0026#39; }, ] ) è‰²ã€…ã¨å€¤ã‚’æ¸¡ã—ã¦ã„ã¾ã™ãŒã€å¿…é ˆãªã®ã¯ä¸‹è¨˜ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ã™ã€‚\nAttributeDefinitions\nãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ã€ã‚½ãƒ¼ãƒˆã‚­ãƒ¼ã§æŒ‡å®šã™ã‚‹å±æ€§ã‚’å®šç¾©ã—ã¾ã™ TableName\nãƒ†ãƒ¼ãƒ–ãƒ«åã§ã™ KeySchema\nãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ã€ã‚½ãƒ¼ãƒˆã‚­ãƒ¼ã®è¨­å®šã§ã™ ãã®ä»– create_table() ã®è©³ç´°ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ãƒšãƒ¼ã‚¸ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nDynamoDB â€” Boto 3 Docs 1.9.250 documentation | DynamoDB.Client.create_table ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã®ãƒ­ãƒ¼ãƒ‰ ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ (JSON) ã¯ä¸‹è¨˜ãƒšãƒ¼ã‚¸ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™ã€‚\nã‚¹ãƒ†ãƒƒãƒ— 2: ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ†ãƒ¼ãƒ–ãƒ«ã«ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ - Amazon DynamoDB ä»Šå›ã¯ Thread ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½¿ã†ã®ã§ã€ Thread.json ã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚\nä¸Šè¨˜ãƒšãƒ¼ã‚¸ã§ã¯ AWS CLI ã§ã®ãƒ­ãƒ¼ãƒ‰æ–¹æ³•ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã‚Œã«å¾“ã£ã¦ã‚µã‚¯ãƒƒã¨ãƒ­ãƒ¼ãƒ‰ã—ã¦ã—ã¾ã„ã¾ã™ã€‚\n$ aws dynamodb batch-write-item --request-items file://data/Thread.json é …ç›®ã®æ¡ä»¶ä»˜ãè¿½åŠ ãƒ»æ›´æ–° é …ç›®ã®æ¡ä»¶ä»˜ãè¿½åŠ ã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚\næ¡ä»¶ä»˜ã ã¨ã¯ã€ put_item() é–¢æ•°ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ConditionExpression ã§æŒ‡å®šã™ã‚‹æ¡ä»¶ã®ã“ã¨ã§ã™ã€‚åŒã˜ãæ¡ä»¶ã‚’æŒ‡å®šã™ã‚‹ Expected ã¨ã„ã†ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚‚ã‚ã‚Šã¾ã™ãŒã€ã“ã¡ã‚‰ã¯ ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ã¨ã•ã‚Œã¦ã„ã¦ã€ä»£ã‚ã‚Šã« ConditionExpression ã‚’ä½¿ã†ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nThis is a legacy parameter. Use ConditionExpression instead. For more information, see Expected in the Amazon DynamoDB Developer Guide .\nDynamoDB â€” Boto 3 Docs 1.9.250 documentation | DynamoDB.Table.put_item æ—¢ã«å­˜åœ¨ã™ã‚‹é …ç›®ã¨åŒã˜ã‚­ãƒ¼ã‚’æŒã¤é …ç›®ã‚’è¿½åŠ ã—ã‚ˆã†ã¨ã—ãŸã¨ãã«ä¸Šæ›¸ãã•ã‚Œã‚‹ã®ã‚’é˜²ã æ¡ä»¶ä»˜ãã®è¿½åŠ ã§ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã‚„ã™ã„ã®ã¯ã€åŒã˜ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ã€ã‚½ãƒ¼ãƒˆã‚­ãƒ¼ã‚’æŒã¤é …ç›®ã®è¿½åŠ ã‹ã¨æ€ã„ã¾ã™ã€‚\nThread ãƒ†ãƒ¼ãƒ–ãƒ«ã§ã¯ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ãŒ ForumName ã€ã‚½ãƒ¼ãƒˆã‚­ãƒ¼ãŒ Subject ãªã®ã§ã€è¿½åŠ ã™ã‚‹é …ç›®ã¯æœ€ä½ã§ã‚‚ã“ã®äºŒã¤ã®å±æ€§ã‚’æŒã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€ ConditionExpression ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§æ¡ä»¶ã‚’æŒ‡å®šã—ãªãã¦ã‚‚ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã™ã€‚\nã¨ã„ã†ã“ã¨ã§ã€ä¸‹è¨˜ã®ã‚ˆã†ãªé …ç›®ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã™ã€‚\nadditional_item = { \u0026#39;ForumName\u0026#39;: \u0026#39;Amazon DynamoDB\u0026#39;, \u0026#39;Subject\u0026#39;: \u0026#39;DynamoDB Thread 2\u0026#39; } ã“ã®ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ã¨ã‚½ãƒ¼ãƒˆã‚­ãƒ¼ã‚’æŒã¤é …ç›®ã¯ã€ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã«å«ã¾ã‚Œã¦ã„ã¾ã—ãŸã€‚\n$ aws dynamodb get-item --table-name Thread --key \u0026#39;{\u0026#34;ForumName\u0026#34;: {\u0026#34;S\u0026#34;: \u0026#34;Amazon DynamoDB\u0026#34;}, \u0026#34;Subject\u0026#34;: {\u0026#34;S\u0026#34;: \u0026#34;DynamoDB Thread 2\u0026#34;}}\u0026#39; { \u0026#34;Item\u0026#34;: { \u0026#34;LastPostedDateTime\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;2015-09-15T19:58:22.514Z\u0026#34; }, \u0026#34;Replies\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;0\u0026#34; }, \u0026#34;Message\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;DynamoDB thread 2 message\u0026#34; }, \u0026#34;LastPostedBy\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;User A\u0026#34; }, \u0026#34;Answered\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;0\u0026#34; }, \u0026#34;ForumName\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Amazon DynamoDB\u0026#34; }, \u0026#34;Views\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;0\u0026#34; }, \u0026#34;Tags\u0026#34;: { \u0026#34;L\u0026#34;: [ { \u0026#34;S\u0026#34;: \u0026#34;items\u0026#34; }, { \u0026#34;S\u0026#34;: \u0026#34;attributes\u0026#34; }, { \u0026#34;S\u0026#34;: \u0026#34;throughput\u0026#34; } ] }, \u0026#34;Subject\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;DynamoDB Thread 2\u0026#34; } } } ãªã®ã§ã€ã“ã®ã¾ã¾æ¡ä»¶ã‚’æŒ‡å®šã›ãšã«è¿½åŠ ã™ã‚‹ã¨ã€æ—¢å­˜ã®é …ç›®ãŒæ›´æ–°ã•ã‚Œã¾ã™ã€‚\nä¸€åº¦ã‚„ã£ã¦ã¿ã¾ã™ã€‚\nimport boto3 dynamo = boto3.resource(\u0026#39;dynamodb\u0026#39;) dynamo_table = dynamo.Table(\u0026#39;Thread\u0026#39;) if __name__ == \u0026#39;__main__\u0026#39;: additional_item = { \u0026#39;ForumName\u0026#39;: \u0026#39;Amazon DynamoDB\u0026#39;, \u0026#39;Subject\u0026#39;: \u0026#39;DynamoDB Thread 2\u0026#39; } response = dynamo_table.put_item(Item=additional_item) ä¸Šã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¦ã‹ã‚‰ã€ã‚ã‚‰ãŸã‚ã¦é …ç›®ã‚’å–å¾—ã—ã¦ã¿ã¾ã™ã€‚\n$ aws dynamodb get-item --table-name Thread --key \u0026#39;{\u0026#34;ForumName\u0026#34;: {\u0026#34;S\u0026#34;: \u0026#34;Amazon DynamoDB\u0026#34;}, \u0026#34;Subject\u0026#34;: {\u0026#34;S\u0026#34;: \u0026#34;DynamoDB Thread 2\u0026#34;}}\u0026#39; { \u0026#34;Item\u0026#34;: { \u0026#34;ForumName\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Amazon DynamoDB\u0026#34; }, \u0026#34;Subject\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;DynamoDB Thread 2\u0026#34; } } } ã“ã®ã‚ˆã†ã«ã€åŒä¸€ã‚­ãƒ¼ã‚’ã‚‚ã¤é …ç›®ã‚’è¿½åŠ ã—ãŸå ´åˆã€æ—¢å­˜ã®é …ç›®ã¯å®Œå…¨ã«ä¸Šæ›¸ãã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã£ã¦å±æ€§ã®æ„å›³ã—ãªã„æ¶ˆå¤±ãŒç™ºç”Ÿã—ã¾ã™ã€‚\nã“ã‚Œã‚’é˜²ããŸã‚ã«ã¯ã€ ConditionExpression ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§è©²å½“ã®ã‚­ãƒ¼ãŒå­˜åœ¨ã—ãªã„å ´åˆã®ã¿è¿½åŠ ã™ã‚‹ã‚ˆã†ã«æ¡ä»¶ã‚’è¨­å®šã—ã¾ã™ã€‚\nimport traceback import boto3 dynamo = boto3.resource(\u0026#39;dynamodb\u0026#39;) dynamo_table = dynamo.Table(\u0026#39;Thread\u0026#39;) if __name__ == \u0026#39;__main__\u0026#39;: try: additional_item = { \u0026#39;ForumName\u0026#39;: \u0026#39;Amazon DynamoDB\u0026#39;, \u0026#39;Subject\u0026#39;: \u0026#39;DynamoDB Thread 2\u0026#39; } response = dynamo_table.put_item( Item=additional_item, ConditionExpression=\u0026#39;attribute_not_exists(ForumName) AND attribute_not_exists(Subject)\u0026#39; ) except Exception: print(traceback.format_exc()) è¿½åŠ ã—ãŸã®ã¯ ConditionExpression='attribute_not_exists(ForumName) AND attribute_not_exists(Subject)' ã®éƒ¨åˆ†ã§ã™ã€‚ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãª ConditionalCheckFailedException ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã€é …ç›®ãŒä¸Šæ›¸ãã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nbotocore.errorfactory.ConditionalCheckFailedException: An error occurred (ConditionalCheckFailedException) when calling the PutItem operation: The conditional request failed ConditionExpression ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å†…ã§ä½¿ç”¨ã—ã¦ã„ã‚‹ attribute_not_exists() ã®ã‚ˆã†ãªé–¢æ•°ã«ã¤ã„ã¦ã¯ã€ä¸‹è¨˜ã®å…¬å¼ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\næ¯”è¼ƒæ¼”ç®—å­ãŠã‚ˆã³é–¢æ•°ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ - Amazon DynamoDB ç‰¹å®šã®æ¡ä»¶ã‚’æº€ãŸã™å ´åˆã®ã¿æ›´æ–°ã™ã‚‹ ä¸‹è¨˜ã®ã‚ˆã†ãªé …ç›®ãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚\n{ \u0026#39;Answered\u0026#39;: 0, \u0026#39;ForumName\u0026#39;: \u0026#39;Amazon CloudFront\u0026#39;, \u0026#39;LastPostedBy\u0026#39;: \u0026#39;User A\u0026#39;, \u0026#39;LastPostedDateTime\u0026#39;: \u0026#39;2015-09-22T19:58:22.514Z\u0026#39;, \u0026#39;Message\u0026#39;: \u0026#39;CloudFront thread 1 message\u0026#39;, \u0026#39;Replies\u0026#39;: 0, \u0026#39;Subject\u0026#39;: \u0026#39;CloudFront Thread 1\u0026#39;, \u0026#39;Tags\u0026#39;: [ \u0026#39;index\u0026#39;, \u0026#39;primarykey\u0026#39;, \u0026#39;table\u0026#39; ], \u0026#39;Views\u0026#39;: 5 } ä¸Šè¨˜ã®é …ç›®ã«ã¦ã€é–²è¦§æ•°ã‚’è¡¨ã™ Views ã®å€¤ã‚’æ›´æ–°ã—ãŸã„å ´åˆã€ãã®å€¤ã¯å¿…ãšå¢—ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚(é–²è¦§æ•°ãŒæ¸›ã‚‹ã“ã¨ã¯ã»ã¼è€ƒãˆãªã„ã®ã§)\nä»®ã«æ›´æ–°å¾Œã®æ–°ã—ã„å€¤ã‚’ 10 ã¨ã™ã‚‹ã¨ã€æ›´æ–°å¯¾è±¡é …ç›®ã® Views ã®å€¤ã¯ 10 æœªæº€ ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®æ¡ä»¶ã‚’ ConditionExpression ã§æŒ‡å®šã—ã¾ã™ã€‚\nã“ã‚Œã¾ã§ã®æµã‚Œã‹ã‚‰è€ƒãˆã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªè¨˜è¿°ã«ãªã‚Šãã†ã§ã™ã€‚\nimport traceback import boto3 dynamo = boto3.resource(\u0026#39;dynamodb\u0026#39;) dynamo_table = dynamo.Table(\u0026#39;Thread\u0026#39;) if __name__ == \u0026#39;__main__\u0026#39;: try: update_key = { \u0026#39;ForumName\u0026#39;: \u0026#39;Amazon CloudFront\u0026#39;, \u0026#39;Subject\u0026#39;: \u0026#39;CloudFront Thread 1\u0026#39;, } update_attr = { \u0026#39;Views\u0026#39;: { \u0026#39;Value\u0026#39;: 10 } } response = dynamo_table.update_item( Key=update_key, AttributeUpdates=update_attr, ConditionExpression=\u0026#39;Views \u0026gt; 10\u0026#39; ) except Exception: print(traceback.format_exc()) ã—ã‹ã—ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã™ã€‚ (é©å®œæ”¹è¡Œã—ã¦ã„ã¾ã™)\nbotocore.exceptions.ClientError: An error occurred (ValidationException) when calling the UpdateItem operation: Can not use both expression and non-expression parameters in the same request: Non-expression parameters: {AttributeUpdates} Expression parameters: {ConditionExpression} ä»Šå›ã®ã‚ˆã†ã«æ¯”è¼ƒæ¼”ç®—å­ã‚’ä½¿ã£ã¦æ¡ä»¶ã‚’æŒ‡å®šã™ã‚‹å ´åˆã€æ¯”è¼ƒå¯¾è±¡ã®å€¤ (ä»Šå›ã§ã‚ã‚Œã° 10) ã‚’ å±æ€§å€¤ ã¨ã—ã¦æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nå…·ä½“çš„ã«ã¯ã€ update_item() ã« ExpressionAttributeValues ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¿½åŠ ã—ã¦ã€ãã“ã§æ¯”è¼ƒç”¨ã®å€¤ã®å±æ€§å€¤ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nã•ã‚‰ã«ä¸Šè¨˜ã®ã‚¨ãƒ©ãƒ¼ã‹ã‚‰ã‚ã‹ã‚‹ã‚ˆã†ã«ã€ AttributeUpdates ã¨ ConditionExpression ã¯åŒæ™‚ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚ã¨ã„ã†ã‹ã€ boto3 ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã§ã¯ AttributeUpdates ã¯ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã•ã‚Œã¦ãŠã‚Šã€ä»£ã‚ã‚Šã« UpdateExpression ã‚’ä½¿ã†ã‚ˆã†æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nThis is a legacy parameter. Use UpdateExpression instead. For more information, see AttributeUpdates in the Amazon DynamoDB Developer Guide\nDynamoDB â€” Boto 3 Docs 1.9.250 documentation | DynamoDB.Table.update_item ã•ã‚‰ã«ä»Šå›å„ä»‹ãªã®ãŒã€æ›´æ–°å¯¾è±¡ã®å±æ€§ Views ãŒ DynamoDB ã«ãŠã‘ã‚‹äºˆç´„å¾Œã«ãªã£ã¦ã„ã‚‹ã¨ã„ã†ç‚¹ã§ã™ã€‚\nå¼ã®å±æ€§å - Amazon DynamoDB | äºˆç´„å¾Œ UpdateExpression ãªã©ã§æŒ‡å®šã™ã‚‹æ¡ä»¶å¼ã«ã¯äºˆç´„å¾Œã®ä½¿ç”¨ãŒã§ããšã€ä½¿ç”¨ã—ãŸå ´åˆã¯ã‚¨ãƒ©ãƒ¼ã¨ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚\nãã®ã‚ˆã†ãªå ´åˆã«ã¯ ExpressionAttributeNames ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦å±æ€§ã«åˆ¥åã‚’ã¤ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã¨ã„ã†ã“ã¨ã§ã€ update_item() ã®å¼•æ•°ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã¾ã™ã€‚\nimport traceback import boto3 dynamo = boto3.resource(\u0026#39;dynamodb\u0026#39;) dynamo_table = dynamo.Table(\u0026#39;Thread\u0026#39;) if __name__ == \u0026#39;__main__\u0026#39;: try: update_key = { \u0026#39;ForumName\u0026#39;: \u0026#39;Amazon CloudFront\u0026#39;, \u0026#39;Subject\u0026#39;: \u0026#39;CloudFront Thread 1\u0026#39;, } new_views = 10 response = dynamo_table.update_item( Key=update_key, UpdateExpression=\u0026#39;set #attr_views = :new_views\u0026#39;, ConditionExpression=\u0026#39;#attr_views \u0026lt; :new_views\u0026#39;, ExpressionAttributeNames={ \u0026#39;#attr_views\u0026#39;: \u0026#39;Views\u0026#39;, }, ExpressionAttributeValues={ \u0026#39;:new_views\u0026#39;: new_views } ) except Exception: print(traceback.format_exc()) ã“ã‚Œã§ Views ã®å€¤ã‚’ 10 ã«æ›´æ–°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç·¨é›†ã›ãšã«ã‚‚ã†ä¸€åº¦å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨ã€æ¡ä»¶å¼ã«ãƒãƒƒãƒã—ãªã„ãŸã‚ ConditionalCheckFailedException ãŒç™ºç”Ÿã—ã€ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã™ã€‚\nbotocore.errorfactory.ConditionalCheckFailedException: An error occurred (ConditionalCheckFailedException) when calling the UpdateItem operation: The conditional request failed ã¾ã¨ã‚ Python (boto3) ã§ DynamoDB ã®æ¡ä»¶ä»˜ãé …ç›®è¿½åŠ ãƒ»æ›´æ–°ã‚’ã‚„ã£ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã“ã‚Œã‚’æ›¸ã„ã¦ã„ã‚‹æ™‚ç‚¹ã§ã¯ã€ boto3 ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã§ã¯ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ä»£ã‚ã‚Šã«ãªã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«é–¢ã™ã‚‹æƒ…å ±ãŒè©³ã—ãæ›¸ã‹ã‚Œã¦ãŠã‚‰ãšã€å…¬å¼ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã¸ã®ãƒªãƒ³ã‚¯ãŒè²¼ã‚‰ã‚Œã¦ã„ã‚‹çŠ¶æ…‹ã§ã™ã€‚\nãã®ãŸã‚ã‚ã¡ã“ã¡è¦‹ã‚‹ã¨ã“ã‚ãŒå¤šãã¦è‹¦æˆ¦ã—ã¾ã—ãŸã€‚\nè¨˜äº‹ä¸­ã«ã‚‚ãƒªãƒ³ã‚¯ã¯è²¼ã£ã¦ã„ã¾ã™ãŒã€å‚è€ƒã«ã—ãŸãƒšãƒ¼ã‚¸ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã«è¨˜è¼‰ã—ã¦ãŠãã¾ã™ã€‚\né …ç›®å±æ€§ã®æŒ‡å®š - Amazon DynamoDB å¼ã®å±æ€§å - Amazon DynamoDB æ¯”è¼ƒæ¼”ç®—å­ãŠã‚ˆã³é–¢æ•°ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ - Amazon DynamoDB ã‚¹ãƒ†ãƒƒãƒ— 3: é …ç›®ã‚’ä½œæˆã€èª­ã¿è¾¼ã¿ã€æ›´æ–°ã€å‰Šé™¤ã™ã‚‹ - Amazon DynamoDB DynamoDB ã®äºˆç´„èª - Amazon DynamoDB ä»Šå›ã¯æ¡ä»¶ä»˜ãã®è¿½åŠ ã¨æ›´æ–°ãã‚Œãã‚Œ 1 ãƒ‘ã‚¿ãƒ¼ãƒ³ãšã¤è©¦ã—ãŸã ã‘ã§ã™ãŒã€ã‚ã¨ã¯æ¡ä»¶å¼ã®æ›¸ãæ–¹ã®å·¥å¤«ã«ãªã£ã¦ãã‚‹ã¨æ€ã„ã¾ã™ã€‚\nã¾ãŸã€ä»Šå›å‡ºã¦ããŸæ¡ä»¶ã‚’æŒ‡å®šã™ã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ä»–ã«ã‚‚ã€æˆ»ã‚Šå€¤ã‚’ã©ã®ã‚ˆã†ãªå½¢å¼ã«ã™ã‚‹ã‹æŒ‡å®šã™ã‚‹ã‚ˆã†ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚‚ã‚ã‚‹ã®ã§ã€ã¾ãŸãã‚Œã«é–¢ã—ã¦ã‚‚èª¿ã¹ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\nDynamoDB å…¨ç„¶ã‚ã‹ã‚‰ã‚“\n\u0026mdash; ã‚ˆã£ã—ãƒ¼CBR852RR (@michimani210) October 16, 2019 ",
    "permalink": "https://michimani.net/post/aws-operate-dynamodb-by-python/",
    "title": "Python (boto3) ã§ DynamoDB ã®æ¡ä»¶ä»˜ãé …ç›®è¿½åŠ ãƒ»æ›´æ–°ã‚’ã‚„ã£ã¦ã¿ã‚‹"
  },
  {
    "contents": "AKRacing ã®ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒã‚§ã‚¢ Pro-X ã‚·ãƒªãƒ¼ã‚ºã® gray - ç° ã‚’ä½¿ã„å§‹ã‚ã¦ç´„ 1ãƒ¶æœˆãŒãŸã¡ã¾ã—ãŸã€‚ä»–ã®äººã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã¯ç‹åº§ã ã¨ã‹æœ€é«˜ã®ã‚¤ã‚¹ã ã¨ã‹è¨€ã‚ã‚Œã¦ã¾ã™ãŒã€å®Ÿéš›ã¯ã©ã†ãªã®ã‹ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã¿ã¾ã™ã€‚\nç›®æ¬¡ AKRacing ã®ãƒ©ã‚¤ãƒ³ãƒŠãƒƒãƒ— Pro-X ã‚·ãƒªãƒ¼ã‚º é¸ã‚“ã ç†ç”± çµ„ã¿ç«‹ã¦ å„éƒ¨è©³ç´°ã¨æ„Ÿæƒ³ å…¨ä½“çš„ãªæ„Ÿæƒ³ ã¾ã¨ã‚ AKRacing ã®ãƒ©ã‚¤ãƒ³ãƒŠãƒƒãƒ— AKRacing ã§ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«æ§˜ã€…ãªã‚·ãƒªãƒ¼ã‚ºã®ãƒã‚§ã‚¢ãŒè²©å£²ã•ã‚Œã¦ã„ã¾ã™ã€‚\nPremium Pro-X OVERTURE Nitro Wolf æ¥µå ã“ã®ã†ã¡ æ¥µå ã¯åº§æ¤…å­ã®ã‚ˆã†ãªå½¢ã§ã™ãŒã€ãã‚Œä»¥å¤–ã¯ã‚­ãƒ£ã‚¹ã‚¿ãƒ¼ãŒã¤ã„ãŸã€ã„ã‚ã‚†ã‚‹ã‚ªãƒ•ã‚£ã‚¹ãƒã‚§ã‚¢ã®ã‚ˆã†ãªå½¢ã§ã™ã€‚\nä¾¡æ ¼ã‚‚ä¸Šã®ãƒªã‚¹ãƒˆã®é †ç•ªé€šã‚Šä¸Šã‹ã‚‰é«˜ããªã£ã¦ãŠã‚Šã€ Premium ã‚·ãƒªãƒ¼ã‚ºã¯ãŠã‚ˆã 60,000 å††ã€ Wolf ã‚·ãƒªãƒ¼ã‚ºã¯ãŠã‚ˆã 40,000 å††ã¨ãªã£ã¦ã„ã¾ã™ã€‚æ¥µåã‚·ãƒªãƒ¼ã‚ºã¯ãŠã‚ˆã 44,000 å††ã§ã™ã€‚\næ¥µåä»¥å¤–ã® 5 ã‚·ãƒªãƒ¼ã‚ºã¯ã€å½¢çŠ¶ã¯ã‚ˆãä¼¼ã¦ã„ã¾ã™ãŒåº§é¢ã®åšã•ã‚„æè³ªã€å¯å‹•éƒ¨åˆ†ã«é•ã„ãŒã‚ã‚Šã¾ã™ã€‚ç‰¹ã«æ°—ã«ãªã‚‹ã®ã¯æè³ªã¨å¯å‹•éƒ¨åˆ†ãªã®ã§ã€ã–ã£ã¨æ¯”è¼ƒè¡¨ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚\nPremium Pro-X OVERTURE Nitro Wolf æè³ª PUãƒ¬ã‚¶ãƒ¼ PUãƒ¬ã‚¶ãƒ¼ PUãƒ¬ã‚¶ãƒ¼ PUãƒ¬ã‚¶ãƒ¼ ãƒ•ã‚¡ãƒ–ãƒªãƒƒã‚¯ç”Ÿåœ° ç‰¹å¾´ äººé–“å·¥å­¦ã«åŸºã¥ã„ãŸè¨­è¨ˆ å¹…åºƒã®èƒŒã‚‚ãŸã‚Œã€æ·±ã‚ã®åº§é¢ã«ã‚ˆã‚‹ã‚†ã£ãŸã‚Šã¨ã—ãŸåº§ã‚Šå¿ƒåœ° è±Šå¯Œãªã‚«ãƒ©ãƒ¼ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ AKRacing ã‚·ãƒªãƒ¼ã‚ºã®ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãƒ¢ãƒ‡ãƒ« åŸºæœ¬è¨­è¨ˆãƒ»æ©Ÿèƒ½ã‚’è¸è¥²ã—ãŸã‚³ã‚¹ãƒ‘é‡è¦–ãƒ¢ãƒ‡ãƒ« ã‚¢ãƒ¼ãƒ ãƒ¬ã‚¹ãƒˆ ä¸Šä¸‹/å‰å¾Œ/å›è»¢ ä¸Šä¸‹/å‰å¾Œ/å›è»¢ ä¸Šä¸‹ ä¸Šä¸‹ ä¸Šä¸‹ ã‚«ãƒ©ãƒ¼ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ 3è‰² 4è‰² 6è‰² 5è‰² 3è‰² ä¾¡æ ¼ ç´„ 62,000 å†† ç´„ 55,000 å†† ç´„ 46,000 å†† ç´„ 44,000 å†† ç´„ 41,000 å†† â€»ä¾¡æ ¼ã«ã¤ã„ã¦ã¯ã€ã“ã®è¨˜äº‹å…¬é–‹æ™‚ç‚¹ã§ã® Amazon ã§ã®ãŠãŠã‚ˆãã®ä¾¡æ ¼ã§ã™ã€‚\nå„ã‚·ãƒªãƒ¼ã‚ºå…±é€šã®æ©Ÿèƒ½ã¨ã—ã¦ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚\næœ€å¤§ 180Â° ã®ãƒªã‚¯ãƒ©ã‚¤ãƒ‹ãƒ³ãƒ³ã‚° ãƒ­ãƒƒã‚­ãƒ³ã‚° ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒˆ ãƒ©ãƒ³ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆ ãƒ­ãƒƒã‚­ãƒ³ã‚°æ©Ÿèƒ½ã¨ã„ã†ã®ã¯ã€åº§é¢ã¨èƒŒã‚‚ãŸã‚Œã®è§’åº¦ã‚’å›ºå®šã—ãŸã¾ã¾ã€å…¨ä½“ã‚’å‚¾ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚è§’åº¦ã¯æœ€å¤§ 12Â° ã§ã€é€”ä¸­ã§å›ºå®šã™ã‚‹ã“ã¨ã¯å‡ºæ¥ã¾ã›ã‚“ã€‚ã¾ãŸã€ãƒ­ãƒƒã‚­ãƒ³ã‚°æ©Ÿèƒ½è‡ªä½“ã® ON/OFF ã¯æ˜‡é™èª¿æ•´ãƒ¬ãƒãƒ¼ã®æ“ä½œã§åˆ‡ã‚Šæ›¿ãˆå¯èƒ½ã§ã™ã€‚\nPremium ã‚·ãƒªãƒ¼ã‚ºã§ã¯ã“ã‚Œã«åŠ ãˆã¦ãƒãƒ«ãƒˆæ©Ÿèƒ½ã¨ã„ã†ã‚‚ã®ãŒæ­è¼‰ã•ã‚Œã¦ãŠã‚Šã€åº§é¢ã®è§’åº¦ã‚’å¤‰ãˆãŸçŠ¶æ…‹ã§å›ºå®šã§ãã‚‹ã‚ˆã†ã§ã™ã€‚\nPro-X ã‚·ãƒªãƒ¼ã‚º ã„ã‚ã‚“ãªã‚·ãƒªãƒ¼ã‚ºãŒã‚ã‚‹ä¸­ã§ã‚‚ Pro-X ã‚·ãƒªãƒ¼ã‚º ã‚’é¸ã‚“ã ã®ã§ã€ç´°ã‹ãã¿ã¦ã„ãã¾ã™ã€‚\né¸ã‚“ã ç†ç”± ã¾ãšã¯ Pro-X ã‚·ãƒªãƒ¼ã‚º ã‚’é¸ã‚“ã ç†ç”±ã§ã™ã€‚\nã“ã‚Œã¾ã§ä½¿ã£ã¦ã„ãŸã®ã¯ã€ãƒ‹ãƒˆãƒªã®ãƒ¯ãƒ¼ã‚¯ãƒã‚§ã‚¢ (N ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ) ã¨ã„ã†ã‚¤ã‚¹ã§ã™ã€‚ã‚¢ãƒ¼ãƒ ãƒ¬ã‚¹ãƒˆã‚‚ãªãã€åº§é¢ã®æ˜‡é™æ©Ÿèƒ½ã¨ã‚­ãƒ£ã‚¹ã‚¿ãƒ¼ãŒä»˜ã„ã¦ã„ã‚‹ã ã‘ã®ã‚·ãƒ³ãƒ—ãƒ«ãªã‚ªãƒ•ã‚£ã‚¹ãƒã‚§ã‚¢ã§ã™ã€‚ä¾¡æ ¼ã‚‚ 4,000 å††ç¨‹åº¦ã§ã™ã€‚\né•·ã„æ™‚é–“åº§ã‚‰ãªã‘ã‚Œã°ç‰¹ã«ä¸æº€ã¯ãªã„ã®ã§ã™ãŒã€æœ€è¿‘ã¯é•·æ™‚é–“åº§ã£ã¦ã„ã‚‹ã“ã¨ã‚‚å¤šããªã£ãŸãŸã‚ã€è‰¯ã„ã‚¤ã‚¹ã¯ãªã„ã‹ã¨æ¢ã—ã¦ã„ã¾ã—ãŸã€‚\nå½“åˆã¯ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒã‚§ã‚¢ã®é¸æŠè‚¢ã¯ç„¡ãã€ã‚¢ãƒ¼ãƒ­ãƒ³ãƒã‚§ã‚¢ã®ã‚ˆã†ãª THE ã‚ªãƒ•ã‚£ã‚¹ãƒã‚§ã‚¢ ã®ã‚ˆã†ãªç‰©ã‚’æ¢ã—ã¦ã„ã¾ã—ãŸã€‚ã§ã‚‚ã€ã‚ã¡ã‚ƒãã¡ã‚ƒé«˜ã„ã‚“ã§ã™ã‚ˆã­ã€‚(100,000 ~ 200,000 å††ãã‚‰ã„ã™ã‚‹)\nãƒãƒ¼ãƒãƒ³ãƒŸãƒ©ãƒ¼ ã‚¢ãƒ¼ãƒ­ãƒ³ãƒã‚§ã‚¢ ãƒªãƒã‚¹ã‚¿ãƒ¼ãƒ‰ ã‚°ãƒ©ãƒ•ã‚¡ã‚¤ãƒˆ ãƒã‚¹ãƒãƒ£ãƒ¼ãƒ•ã‚£ãƒƒãƒˆ Bã‚µã‚¤ã‚º ã‚¢ãƒ¼ãƒ ä»˜ã AER1B23DW ALP G1 G1 BB BK 23103 ã§ã€ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒã‚§ã‚¢ãŒé¸æŠè‚¢ã«å…¥ã£ã¦ãã¾ã—ãŸã€‚ã¾ã‚ã€é•·æ™‚é–“åº§ã£ã¦ã‚‹ä¸»ãªç†ç”±ã¯ã‚¹ãƒãƒ–ãƒ©ã‚’ã™ã‚‹ãŸã‚ãªã®ã§ã€ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒã‚§ã‚¢ã§ã‚‚ã„ã„ã‹ãªã¨ã€‚ãŸã ã€èª¿ã¹ã¦ã¿ã‚‹ã¨ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒã‚§ã‚¢ã§ãƒ‡ã‚¹ã‚¯ãƒ¯ãƒ¼ã‚¯ã™ã‚‹ã®ã‚‚å…¨ç„¶ã‚ã‚Šã¿ãŸã„ãªæ„Ÿã˜ã§ã€ã—ã‹ã‚‚å‰è¿°ã—ãŸ THE ã‚ªãƒ•ã‚£ã‚¹ãƒã‚§ã‚¢ã‚ˆã‚Šã‚‚å®‰ã„ã‚“ã§ã™ã‚ˆã­ã€‚æ„å¤–ã§ã—ãŸã€‚\nã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒã‚§ã‚¢ã¨ã„ã£ã¦ã‚‚è‰²ã€…ã‚ã‚‹ã¨æ€ã†ã®ã§ã™ãŒã€æœ€åˆã«ãƒ’ãƒƒãƒˆã—ãŸã®ãŒ AKRacing ã®ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒã‚§ã‚¢ã§ã—ãŸã€‚\nä»Šå›ã€æ–°ã—ã„ã‚¤ã‚¹ã‚’å°å…¥ã™ã‚‹ã«ã‚ãŸã£ã¦çµ¶å¯¾ã«è­²ã‚Œãªã„æ¡ä»¶ã¯ã€ ã‚¢ãƒ¼ãƒ ãƒ¬ã‚¹ãƒˆãŒã‚ã‚‹ã“ã¨ ã§ã—ãŸã€‚ã¾ãŸã€ãŸã ã®ã‚¢ãƒ¼ãƒ ãƒ¬ã‚¹ãƒˆã§ã¯ãªãã€ æ˜‡é™ ã€ å‰å¾Œç§»å‹• ã€ å›è»¢ ãŒã§ãã‚‹ã‚‚ã®ãŒæ¬²ã—ã‹ã£ãŸã‚“ã§ã™ã€‚ã¨ãªã‚‹ã¨ã€ AKRacing ã®ã‚·ãƒªãƒ¼ã‚ºå†…ã§ã¯ Pro-X ã‚·ãƒªãƒ¼ã‚º ãŒè©²å½“ã—ã¾ã™ã€‚\nçµ„ã¿ç«‹ã¦ Amazon ã§æ³¨æ–‡ã™ã‚‹ã¨ã€çµ„ã¿ç«‹ã¦å‰ã®çŠ¶æ…‹ã§å±Šãã¾ã™ã€‚\nç®±ã®å¤§ãã•ã¯ 88 x 70 x 41 (cm) ã€ é‡ã•ã¯ 28 kg ã‚ã‚Šã¾ã™ã€‚\nã¡ãªã¿ã«ä»Šå›ã®é…é€ã§åˆã‚ã¦ãƒ‡ãƒªãƒãƒªãƒ¼ãƒ—ãƒ­ãƒã‚¤ãƒ€ãŒä½¿ã‚ã‚Œã¾ã—ãŸã€‚è¶£æ—¨ã¨ã¯ãšã‚Œã‚‹ã®ã§å‰²æ„›ã—ã¾ã™ãŒã€ã¾ã‚ä¸ä¾¿ã§ã—ãŸã€‚ çµ„ã¿ç«‹ã¦å‰ã¨è¨€ã£ã¦ã‚‚ãƒ‘ãƒ¼ãƒ„ã¯ä¸‹è¨˜ã® 4 ã¤ã®ã¿ã§ã™ã€‚\nåº§é¢ èƒŒã‚‚ãŸã‚Œ ã‚­ãƒ£ã‚¹ã‚¿ãƒ¼ ã‚·ãƒªãƒ³ãƒ€ãƒ¼ ã‚«ãƒ©ãƒ¼ã®çµ„ã¿ç«‹ã¦èª¬æ˜æ›¸ãŒä»˜å±ã—ã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚’è¦‹ãªãŒã‚‰çµ„ã¿ç«‹ã¦ã¾ã™ã€‚èª¬æ˜æ›¸ã«ã¯ 2 äººã§ä½œæ¥­ã—ã¦ãã ã•ã„ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€ 1 äººã§ã‚‚ã§ãã¾ã—ãŸã€‚æ‰€è¦æ™‚é–“ã¯ 30 åˆ†ã»ã©ã§ã—ãŸã€‚\nãªãŠã€çµ„ã¿ç«‹ã¦ã«å¿…è¦ãªå·¥å…· (å…­è§’ãƒ¬ãƒ³ãƒ) ã‚‚ä»˜å±ã—ã¦ãŠã‚Šã€ã•ã‚‰ã«ã¯ä½œæ¥­ç”¨ã®è»æ‰‹ã¾ã§ä»˜ã„ã¦ã„ã‚‹ã®ã§ã€å±Šã„ãŸã‚‰å³çµ„ã¿ç«‹ã¦ä½œæ¥­ã‚’é–‹å§‹ã§ãã¾ã™ã€‚\nçµ„ã¿ä¸ŠãŒã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚è‰²ã¯ ã‚°ãƒ¬ã‚¤ã€ãƒ›ãƒ¯ã‚¤ãƒˆã€ãƒ¬ãƒƒãƒ‰ã€ãƒ–ãƒ«ãƒ¼ãŒã‚ã‚Šã¾ã™ãŒã€ã‚°ãƒ¬ã‚¤ã«ã—ã¾ã—ãŸã€‚\nå„éƒ¨è©³ç´°ã¨æ„Ÿæƒ³ ã§ã¯å„éƒ¨è©³ç´°ã‚’å†™çœŸã¨ä¸€ç·’ã«è¦‹ã¦ã„ãã¾ã™ã€‚\næè³ª PU ãƒ¬ã‚¶ãƒ¼ã¨è¨€ã‚ã‚Œã¦ã‚‚\u0026hellip;ã£ã¦ã„ã†æ„Ÿã˜ã§ã™ãŒã€è¡¨é¢ãŒã“ã‚“ãªãµã†ã«ãªã£ã¦ã„ã‚‹é©ã§ã™ã­ã€‚\né«˜ç´šãªæ„Ÿã˜ã§ã€æ±šã‚Œã‚‚ä»˜ãã«ãã„ã§ã™ã€‚æ¶²ä½“ã‚’ã“ã¼ã—ã¦ã‚‚ã™ãã«ã¯æŸ“ã¿è¾¼ã¾ãªã„ã®ã§ã€ã™ãã«æ‹­ãå–ã‚Œã°å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚\nã¾ãŸã€åº§ã£ã¦ã„ã¦ã‚‚æ»‘ã‚‹ã¨ã„ã†æ„Ÿè¦šãŒãªã„ã®ã§ã€åº§ã‚Šå¿ƒåœ°ã‚‚è‰¯ã„ã§ã™ã€‚\nãƒ©ãƒ³ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆ ã‚†ã£ãŸã‚Šã¨ã—ãŸåº§ã‚Šå¿ƒåœ°ãŒå£²ã‚Šã® Pro-X ã‚·ãƒªãƒ¼ã‚ºã§ã¯ã€ã“ã‚ŒãŒãªã„ã¨ãŠå°»ã®ä½ç½®ãŒæ·±ã™ãã¦è¾›ã„ã§ã™ã€‚ãƒ©ãƒ³ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆè‡ªä½“ã¯ã‹ã¾ã¼ã“å‹ã«ãªã£ã¦ã„ã‚‹ã®ã§ã©ã†ãªã‚“ã ã‚ã†ã¨æ€ã„ã¾ã—ãŸãŒã€ã—ã£ã‹ã‚Šæ”¯ãˆã¦ãã‚Œã¦ã‚‹æ„ŸãŒã‚ã£ã¦ã¨ã¦ã‚‚è‰¯ã„ã§ã™ã€‚\nå–ã‚Šä»˜ã‘ä½ç½®ã«é–¢ã—ã¦ã‚‚ã€ãã£ã¡ã‚Šã¨å ´æ‰€ã‚’å›ºå®šã™ã‚‹ã‚‚ã®ã§ã¯ãªã„ã®ã§è‡ªåˆ†ã®å¥½ã¿ã®ä½ç½®ã«å¾®èª¿æ•´ã—ãªãŒã‚‰ä½¿ã£ã¦ã„ã¾ã™ã€‚\nãƒ•ãƒ«ãƒ•ãƒ©ãƒƒãƒˆã«ã—ã¦å¯ã‚ˆã†ã¨ã™ã‚‹ã¨ãã«ã¯é‚ªé­”ã«ãªã‚‹ã®ã§ã€ãã®æ™‚ã¯å¤–ã—ãŸã»ã†ãŒã„ã„ã§ã™ã€‚ãŸã ã—ã€å–ã‚Šä»˜ã‘ã‚‹ãŸã‚ã®ãƒ™ãƒ«ãƒˆã‚’åº§é¢ã¨èƒŒã‚‚ãŸã‚Œã®éš™é–“ã«é€šã™å¿…è¦ãŒã‚ã‚‹ã®ã§ã€ã‚ã¾ã‚Šç°¡å˜ã«ã¤ã‘ãŸã‚Šå¤–ã—ãŸã‚Šã§ããªã„ã®ãŒé›£ç‚¹ã§ã™ã€‚\nãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒˆ åç™ºåŠ›ã¯ãƒ©ãƒ³ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆã¨åŒã˜ãã‚‰ã„ã§ã€å°‘ã—ç¡¬ã‚ã§ã™ã€‚ã“ã¡ã‚‰ã‚‚å–ã‚Šä»˜ã‘ä½ç½®ã¯ãã£ã¡ã‚Šå›ºå®šã™ã‚‹ã‚‚ã®ã§ã¯ãªã„ã®ã§ã™ãŒã€é ­ã‚’ä¹—ã›ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã¡ã‚‡ã†ã©è‰¯ã„ä½ç½®ã«æŒã£ã¦æ¥ã‚‹æ„Ÿã˜ã§ã™ã€‚é ­ã‚’ä¸Šã’ã‚‹ã¨ã€å†™çœŸã®ä½ç½®ã«æˆ»ã£ã¦ã—ã¾ã„ã¾ã™ã€‚\nãã—ã¦ã“ã“ã§ã‚‚ Pro-X ã‚·ãƒªãƒ¼ã‚ºã®ã‚†ã£ãŸã‚Šã•ãŒæ„Ÿã˜ã‚‰ã‚Œã‚‹ã®ãŒã€åŸºæœ¬ã®ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒˆã®ä½ç½®ãŒçµæ§‹é«˜ã„ã‚“ã§ã™ã‚ˆã­ã€‚ãªã®ã§ã€ã‚ã¾ã‚Šèº«é•·ãŒé«˜ããªã„äººã ã¨è‰¯ã„ä½ç½®ã«æŒã£ã¦ãã‚‹ã“ã¨ãŒã§ããªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ç§ã®èº«é•·ã¯ 170cm ã§ã™ãŒã€ã“ã‚Œä»¥ä¸Šå°ã•ã„äººã ã¨å³ã—ã„ã‹ãªã¨ã„ã†å°è±¡ã§ã™ã€‚\nã˜ã‚ƒã‚å¤–ã—ã¦ã—ã¾ãˆã°ã„ã„ã®ã‹ã¨ã„ã†ã¨ã€ãã‚Œã¯ãã‚Œã§é¦–ãŒç—›ããªã‚‹ã®ã§ã€é›£ã—ã„ã¨ã“ã‚ã§ã™ã€‚\nã‚¢ãƒ¼ãƒ ãƒã‚¦ãƒ³ãƒˆ ä¸€è¦‹ã™ã‚‹ã¨ç¡¬ãã†ã«è¦‹ãˆã¾ã™ãŒã€ã¡ã‚‡ã†ã©ã„ã„æŸ”ã‚‰ã‹ã•ã§è‚˜ã®ä¸€ç•ªç¡¬ã„éƒ¨åˆ†ãŒå½“ãŸã£ã¦ã„ã¦ã‚‚ç—›ãã¯ãªã‚Šã¾ã›ã‚“ã€‚\nã‚¢ãƒ¼ãƒ ãƒã‚¦ãƒ³ãƒˆã¯ Pro-X ã‚·ãƒªãƒ¼ã‚ºã‚’é¸æŠã™ã‚‹ç†ç”±ã«ã‚‚ãªã£ã¦ã„ã‚‹é‡è¦ãªéƒ¨åˆ†ã§ã™ã€‚\nã¾ãšã¯å‰å¾Œã®èª¿æ•´ã€‚\nå¯å‹•åŸŸã¯ã€ä¸Šã®å†™çœŸã‹ã‚‰ä¸‹ã®å†™çœŸã¾ã§ã®ä½ç½®ã§ã™ã€‚é•·ã•ã«ã™ã‚‹ã¨ã€ç´„ 5 cm ãã‚‰ã„ã§ã™ã€‚å€‹äººçš„ã«ã¯ã“ã‚Œãã‚‰ã„å‹•ã„ã¦ãã‚ŒãŸã‚‰ååˆ†ã§ã™ã­ã€‚\nç¶šã„ã¦ã¯å›è»¢ã€‚\nå·¦ãƒ»çœŸã‚“ä¸­ãƒ»å³ ã® 3 æ®µéšã§èª¿æ•´ã§ãã¾ã™ã€‚å›è»¢ã•ã›ãŸçŠ¶æ…‹ã§å‰å¾Œã«ç§»å‹•ã•ã›ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚\nå›è»¢ã«é–¢ã—ã¦ã¯ã€æ­£ç›´å¯å‹•åŸŸãŒç‹­ã„ãªã¨ã„ã†å°è±¡ã§ã™ã€‚90Â° ã¨ã¯è¨€ã‚ãªã„ã‚‚ã®ã®ã€åŒã˜è§’åº¦ã§ã‚‚ã†ä¸€æ®µéšå·¦å³ã«å›è»¢ã§ãã‚Œã°æœ€é«˜ã§ã—ãŸã€‚ãŒã€ã“ã®å°‘ã—ã®å›è»¢ã§ã‚‚è‚˜ã®ç½®ãå ´æ‰€ã«èé€šãŒåˆ©ãã®ã§ã€å›è»¢ã™ã‚‹ã“ã¨è‡ªä½“ã«ã¯æº€è¶³ã§ã™ã€‚å¯å‹•åŸŸã«ã¯å°‘ã—ä¸æº€ã§ã™ã€‚\nã¡ãªã¿ã«ä¸Šä¸‹ã®æ˜‡é™å¯å‹•åŸŸã¯ 7cm ã‚ã‚Šã€ã“ã‚Œã¯ååˆ†ãªå¯å‹•åŸŸã§ã™ã€‚\nåº§é¢ã®æ˜‡é™ Pro-X ã‚·ãƒªãƒ¼ã‚ºã«é™ã‚‰ãšã€ AKRacing ã®ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒã‚§ã‚¢ã«ã¯ ã‚¯ãƒ©ã‚¹4 ã‚¬ã‚¹ã‚·ãƒªãƒ³ãƒ€ãƒ¼ ã¨ã„ã†ã‚‚ã®ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚\nå›½éš›çš„ç¬¬ä¸‰è€…èªè¨¼æ©Ÿé–¢ã§ã‚ã‚‹LGAã‚ˆã‚ŠDIN 4550ã®åŸºæº–ã‚’ã‚¯ãƒªã‚¢ã—ã¦ã„ã‚‹ã¨ã®æ‰¿èªã‚’å—ã‘ãŸã€è€ä¹…æ€§ãŒé«˜ãã€å®‰å¿ƒãƒ»å®‰å…¨ãªè£½å“ã§ã™ã€‚ï¼ˆæœ€å¤§è·é‡150kgï¼‰\nãã®ãŠã‹ã’ã‚‚ã‚ã£ã¦ã‹ã€æ˜‡é™ã¯éå¸¸ã«æ»‘ã‚‰ã‹ã§ã€ä¸Šã’ã‚‹ã¨ãã‚‚æ€¥ã«ãƒ‰ãƒ³ã£ã¨ä¸ŠãŒã£ã¦ãã‚‹ã‚ˆã†ãªã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã—ã€ä¸‹ã’ã‚‹ã¨ãã‚‚å‹•ããŒéå¸¸ã«æ»‘ã‚‰ã‹ã§ã™ã€‚ ãŸã ã—ã€æ˜‡é™ãƒ¬ãƒãƒ¼ãŒã¡ã‚‡ã£ã¨æ“ä½œã—ã¥ã‚‰ã„ä½ç½®ã«ã‚ã‚‹ã®ãŒæ®‹å¿µãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚\nè¦‹ã¦ã®é€šã‚Šã€æ˜‡é™ãƒ¬ãƒãƒ¼ã¯å³å¾Œã‚ã®ä½ç½®ã«ã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚’æ“ä½œã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¢ãƒ¼ãƒ ãƒ¬ã‚¹ãƒˆã®ä½ç½®ã«ã‚ˆã£ã¦ã¯è…•ãŒå½“ãŸã£ã¦ã—ã¾ã„ã¾ã™ã€‚\nä¸‹ã’ã‚‹æ™‚ã¯ãŸã ä½“é‡ã‚’ã‹ã‘ã¦ãƒ¬ãƒãƒ¼ã‚’å¼•ãã ã‘ã§ã‚ˆã„ã®ã§ã™ãŒã€ä¸Šã’ã‚‹æ™‚ã¯åœ°é¢ã«è¶³ã‚’ã¤ã„ã¦ä½“ã‚’å°‘ã—æµ®ã‹ã›ãŸçŠ¶æ…‹ã§ãƒ¬ãƒãƒ¼ã‚’å¼•ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚åº§é¢ã®å¤§ãã• (åšã•ãƒ»å‰å¾Œ/å·¦å³ã®å¹…) ãŒçµæ§‹å¤§ãã„ã®ã§ã€åº§ã‚‹å§¿å‹¢ã®ã¾ã¾åº§é¢ã‚’ä¸Šã’ã‚ˆã†ã¨ã™ã‚‹ã®ã¯çµæ§‹é›£ã—ã„ã§ã™ã€‚\nã“ã‚Œã¯ä½“ã®å¤§ãã•ã€ãƒãƒ©ãƒ³ã‚¹æ„Ÿè¦šã«ã‚ˆã£ã¦ã•ã¯ã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã§ãã‚Œã°å³å‰ã®ä½ç½®ã«ã‚ã‚Œã°ã‚ˆã‹ã£ãŸãªã¨ã„ã†æ€ã„ã§ã™ã€‚\nã¾ã¨ã‚ AKRacing ã®ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒã‚§ã‚¢ Pro-X ã‚·ãƒªãƒ¼ã‚ºã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã—ãŸã€‚\nå„æ©Ÿèƒ½ã«é–¢ã™ã‚‹éƒ¨åˆ†ã§æ„Ÿæƒ³ã‚’æ›¸ãã¾ã—ãŸãŒã€ãƒˆãƒ¼ã‚¿ãƒ«ã§ã‚¤ã‚¹ã¨ã—ã¦ã¯æœ€é«˜ã§ã™ã€‚\nã‚†ã£ãŸã‚Šã—ãŸæ§‹é€ ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€åº§ã£ãŸçŠ¶æ…‹ã§ã‹ãªã‚Šãƒªãƒ©ãƒƒã‚¯ã‚¹ã§ãã¾ã™ã€‚åº§é¢ã®ä¸Šã§ã‚ãã‚‰ã‚‚ã‹ã‘ã¾ã™ã€‚\né•·æ™‚é–“åº§ã£ã¦ã„ã¦ã‚‚è‹¦ã«ãªã‚‰ãªã„ã®ã§ã€æ°—ä»˜ã„ãŸã‚‰ã»ã¼ä¸€æ—¥ä¸­ã‚¹ãƒãƒ–ãƒ©ã‚„ã£ã¦ã„ãŸ ãªã‚“ã¦ã„ã†ã“ã¨ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚\nã¾ãŸã€180Â° ãƒªã‚¯ãƒ©ã‚¤ãƒ‹ãƒ³ã‚°ã‚‚å¬‰ã—ã„ãƒã‚¤ãƒ³ãƒˆã§ã€ãƒ•ãƒ«ãƒ•ãƒ©ãƒƒãƒˆã«ã™ã‚Œã°ã‚¤ã‚¹ã®ä¸Šã§å¯ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚\nãã®å ´åˆã‚ªãƒƒãƒˆãƒãƒ³ãŒã‚ã‚Œã°ãªãŠè‰¯ã„ã§ã™ãŒã€è¶³ã‚’æŠ˜ã‚ŠãŸãŸã‚“ã§æ¨ªã«ãªã£ã¦å¯ã‚‰ã‚Œã‚‹ãã‚‰ã„ã®åºƒã•ã¨å®‰å®šæ„ŸãŒã‚ã‚‹ã®ã§ã€èº«é•·ãŒå°ã•ã‚ã®å‹é”ãŒæ³Šã¾ã‚Šã«æ¥ãŸã¨ããªã‚“ã‹ã¯å¯åºŠã¨ã—ã¦æä¾›ã§ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nãŸã ã—æ–‡ä¸­ã§ã‚‚è§¦ã‚ŒãŸã‚ˆã†ã«ã€èº«é•·ãŒ 170cm ã‚ˆã‚Šå°ã•ã„äººã®é€šå¸¸ä½¿ç”¨ã«ã¯å‘ã„ã¦ã„ãªã„ã¨æ€ã„ã¾ã™ã€‚\nPro-X ã®ã‚³ãƒ³ã‚»ãƒ—ãƒˆã‹ã‚‰ã‚‚ã‚†ã£ãŸã‚Šã¨ã—ãŸæ§‹é€ ã«ãªã£ã¦ã„ã‚‹ãŸã‚ã€ã©ã†ã—ã¦ã‚‚å¤§ãã™ãã‚‹ã¨ã„ã†æ„Ÿè¦šã«ãªã£ã¦ã—ã¾ã†ã‹ã‚‰ã§ã™ã€‚170cm ã®è‡ªåˆ†ã§ã‚‚å¤šå°‘å¤§ãã„ã‹ãªã¨ã„ã†å°è±¡ã¯ã‚ã‚Šã¾ã™ã€‚\nç‰¹ã«ã‚¢ãƒ¼ãƒ ãƒ¬ã‚¹ãƒˆãªã‚“ã‹ã¯ä½“ã®å°ã•ã„äººã«ã¯å¹…ãŒåºƒã™ãã¦è‚˜ã‚’ç½®ããŸã‚ã«è…•ã‚’å¤–ã«åºƒã’ãªã„ã¨ã„ã‘ãªã„å¯èƒ½æ€§ã‚‚ã‚ã‚Šã¾ã™ã€‚\nä»Šå›ã¯å®Ÿç‰©ã‚’è¦‹ãšã« Amazon ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚„ä»–ã®äººã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ã¿ã‚’å‚è€ƒã«ã—ã¾ã—ãŸãŒã€ã‚„ã¯ã‚Šã‚¤ã‚¹ã«é–¢ã—ã¦ã¯å®Ÿç‰©ã«å®Ÿéš›ã«åº§ã£ã¦ã¿ã¦ã€ãã®æ„Ÿè§¦ã‚’ç¢ºã‹ã‚ã¦ã‹ã‚‰å°å…¥ã™ã‚‹æ–¹ãŒã„ã„ã§ã™ã­ã€‚(ãã‚Œã¯ãã†)\nã‚‚ã—è³¼å…¥ã‚’æ¤œè¨ã•ã‚Œã¦ã„ã‚‹æ–¹ã¯ã€ãƒ¨ãƒ‰ãƒã‚·ã‚«ãƒ¡ãƒ©ã‚„ãƒ“ãƒƒã‚¯ã‚«ãƒ¡ãƒ©ãªã©ã®å®¶é›»é‡è²©åº—ã§ã‚‚ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒã‚§ã‚¢ã‚’æ‰±ã£ã¦ã„ã‚‹ã¨ã“ã‚ã¯ã‚ã‚Šã¾ã™ã®ã§ã€ãœã²åº—èˆ—ã§å®Ÿéš›ã«åº§ã£ã¦ã¿ã¦ã‹ã‚‰è€ƒãˆã¦ãã ã•ã„ã€‚\n",
    "permalink": "https://michimani.net/post/gadget-review-akracing-pro-x/",
    "title": "[ãƒ¬ãƒ“ãƒ¥ãƒ¼] AKRacing ã®ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒã‚§ã‚¢ Pro-X ã‚’ä½¿ã„å§‹ã‚ãŸã‚‰åº§ã£ã¦ã‚‹æ™‚é–“ãŒå¢—ãˆãŸ"
  },
  {
    "contents": "AWS ã‚’æ“ä½œã™ã‚‹ãŸã‚ã® Python ãƒ©ã‚¤ãƒ–ãƒ©ãƒª boto3 ã‚’ä½¿ã£ã¦ DynamoDB ã¸ãƒ‡ãƒ¼ã‚¿ã‚’æ›¸ãè¾¼ã‚€æ–¹æ³•ã«ã¤ã„ã¦èª¿ã¹ã¦ã„ãŸã¨ã“ã‚ã€ã©ã†ã‚„ã‚‰ãã®æ–¹æ³•ãŒ 3 ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚ã‚‹ã‚ˆã†ã§ã™ã€‚ä»Šå›ã¯ã€ãã‚Œã‚‰ã«ã¤ã„ã¦ã®ãƒ¡ãƒ¢ã§ã™ã€‚\nç›®æ¬¡ æ¦‚è¦ boto3 ã‚’ä½¿ã£ãŸ DynamoDB ã¸ã®æ›¸ãè¾¼ã¿æ–¹æ³• DynamoDB.Client.put_item() DynamoDB.Table.put_item() DynamoDB.Table.batch_writer() DynamoDB.Client ã¨ DynamoDB.Table ã®é•ã„ ã¾ã¨ã‚ æ¦‚è¦ boto3 ã‚’ä½¿ã£ã¦ DynamoDB ã®ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿æ›¸ãã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã¯å‰ã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€ä»Šå›ã¯æ›¸ãè¾¼ã¿ã«çµã£ã¦èª¿ã¹ã¦ã¿ãŸå†…å®¹ã§ã™ã€‚\nã¡ãªã¿ã«ã“ã‚Œã‚’æ›¸ã„ã¦ã„ã‚‹æ™‚ç‚¹ (2019/09) æ™‚ç‚¹ã§ã® boto3 ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 1.9.236 ã§ã™ã€‚\nboto3 ã‚’ä½¿ã£ãŸ DynamoDB ã¸ã®æ›¸ãè¾¼ã¿æ–¹æ³• å‰ã®è¨˜äº‹ ã§ã¯ã–ã£ãã‚Šã¨ put_item() ã¨æ›¸ã„ã¦ã¾ã—ãŸãŒã€ãã® put_item() ã«ã‚‚ 2 ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚ã‚Šã¾ã™ã€‚ã•ã‚‰ã«ãã® put_item() ã‚’ãƒãƒƒãƒå‡¦ç†çš„ã«å®Ÿè¡Œã§ãã‚‹ batch_writer() ã¨ã„ã†ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚‹ã®ã§ã€å…¨éƒ¨ã§ 3 ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚ã‚‹ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nå…·ä½“çš„ã«ã¯ä»¥ä¸‹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚\nDynamoDB.Client.put_item() DynamoDB.Table.put_item() DynamoDB.Table.batch_writer() ãã‚Œãã‚Œã©ã†ã„ã†ä½¿ã„æ–¹ã‚’ã™ã‚‹ã®ã‹è¦‹ã¦ã„ãã¾ã™ã€‚ â€‹ DynamoDB.Client.put_item() DynamoDB â€” Boto 3 Docs 1.9.236 documentation #DynamoDB.Client.put_item ã“ã‚Œã¯ å‰ã®è¨˜äº‹ ã§ã‚„ã£ãŸæ–¹æ³•ã§ã€å®Ÿè£…ã¨ã—ã¦ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\ntable_name = \u0026#39;hinatazaka-blog\u0026#39; item = { \u0026#34;Author\u0026#34;: {\u0026#34;S\u0026#34;: \u0026#34;å¯Œç”°éˆ´èŠ±\u0026#34;}, \u0026#34;Authorcode\u0026#34;: {\u0026#34;S\u0026#34;: \u0026#34;15\u0026#34;}, \u0026#34;Blogkey\u0026#34;: {\u0026#34;N\u0026#34;: \u0026#34;30775\u0026#34;}, \u0026#34;Entrydate\u0026#34;: {\u0026#34;N\u0026#34;: \u0026#34;201909062231\u0026#34;}, \u0026#34;Images\u0026#34;: {\u0026#34;L\u0026#34;: [ {\u0026#34;S\u0026#34;:\u0026#34;https://cdn.hinatazaka46.com/files/14/diary/official/member/moblog/201909/mobzVcYf5.jpg\u0026#34;}, {\u0026#34;S\u0026#34;: \u0026#34;https://cdn.hinatazaka46.com/files/14/diary/official/member/moblog/201909/mobbmdhGD.jpg\u0026#34;}, {\u0026#34;S\u0026#34;: \u0026#34;https://cdn.hinatazaka46.com/files/14/diary/official/member/moblog/201909/mobNBUyrd.jpg\u0026#34;} ] }, \u0026#34;Title\u0026#34;: {\u0026#34;S\u0026#34;: \u0026#34;æ±åŒ—è‡ªå‹•è»Šé“\u0026#34;}, \u0026#34;Url\u0026#34;: {\u0026#34;S\u0026#34;: \u0026#34;https://www.hinatazaka46.com/s/official/diary/detail/30775?ima=0000\u0026amp;cd=member\u0026#34;} } dynamo = boto3.client(\u0026#39;dynamodb\u0026#39;) dynamo.put_item(TableName=table_name, Item=item) TableName : string ã¨ Item : dict ãŒå¿…é ˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ãªã‚Šã¾ã™ã€‚ã¡ã‚‡ã£ã¨ã‚„ã‚„ã“ã—ã„ã®ãŒã€ Item ã§æŒ‡å®šã™ã‚‹ dict ã® value ã¯æ›´ã« dict ã«ãªã£ã¦ã„ã¦ã€ãã“ã§ãƒ‡ãƒ¼ã‚¿ã®å‹ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ S ã¨ã‹ L ã¨ã‹ãŒãã‚Œã§ã™ã€‚\nã“ã®æ–¹æ³•ã ã¨ Item ã¨ã—ã¦æŒ‡å®šã™ã‚‹ dict ã®æ§‹æˆãŒã¡ã‚‡ã£ã¨ç¹é›‘ã«è¦‹ãˆã¾ã™ã€‚\nã¾ãŸã€ä»»æ„ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ã‚ã‚‹ ConditionExpression ã«è‰²ã€…ã¨æ¡ä»¶ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€åŒä¸€ã‚­ãƒ¼é …ç›®ã®ä¸Šæ›¸ãã‚’é˜²æ­¢ã—ãŸã‚Šã€æ¡ä»¶ã‚’æº€ãŸã™å ´åˆã®ã¿æ›´æ–°ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã¯ã¡ã‚‡ã£ã¨å¥¥ãŒæ·±ãã†ãªã®ã§ã€åˆ¥ã§æ›¸ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nDynamoDB.Table.put_item() DynamoDB â€” Boto 3 Docs 1.9.236 documentation #DynamoDB.Table.put_item ã“ã‚Œã¯ DynamoDB.Client.put_item() ã‚ˆã‚Šã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã¨ã„ã†ã‹ã€ç›´æ„Ÿçš„ãªä½¿ã„æ–¹ã«ãªã‚Šã¾ã™ã€‚\ntable_name = \u0026#39;hinatazaka-blog\u0026#39; item = { \u0026#34;Author\u0026#34;: \u0026#34;å¯Œç”°éˆ´èŠ±\u0026#34;, \u0026#34;Authorcode\u0026#34;: \u0026#34;15\u0026#34;, \u0026#34;Blogkey\u0026#34;: 30775, \u0026#34;Entrydate\u0026#34;: 201909062231, \u0026#34;Images\u0026#34;: [ \u0026#34;https://cdn.hinatazaka46.com/files/14/diary/official/member/moblog/201909/mobzVcYf5.jpg\u0026#34;, \u0026#34;https://cdn.hinatazaka46.com/files/14/diary/official/member/moblog/201909/mobbmdhGD.jpg\u0026#34;, \u0026#34;https://cdn.hinatazaka46.com/files/14/diary/official/member/moblog/201909/mobNBUyrd.jpg\u0026#34; ], \u0026#34;Title\u0026#34;: \u0026#34;æ±åŒ—è‡ªå‹•è»Šé“\u0026#34;, \u0026#34;Url\u0026#34;: \u0026#34;https://www.hinatazaka46.com/s/official/diary/detail/30775?ima=0000\u0026amp;cd=member\u0026#34; } dynamo = boto3.resource(\u0026#39;dynamodb\u0026#39;) dynamo_table = dynamo.Table(table_name) dynamo_table.put_item(Item=item) å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ Item: dict ã®ã¿ã§ã€æŒ‡å®šã™ã‚‹ dict ã‚‚å†…éƒ¨ã§å‹ã®æŒ‡å®šã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚\nã¾ãŸã€DynamoDB.Client.put_item() ã¨åŒæ§˜ã«ä»»æ„ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ã‚ã‚‹ ConditionExpression ã«è‰²ã€…ã¨æ¡ä»¶ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€åŒä¸€ã‚­ãƒ¼é …ç›®ã®ä¸Šæ›¸ãã‚’é˜²æ­¢ã—ãŸã‚Šã€æ¡ä»¶ã‚’æº€ãŸã™å ´åˆã®ã¿æ›´æ–°ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nDynamoDB.Table.batch_writer() DynamoDB â€” Boto 3 Docs 1.9.236 documentation #DynamoDB.Table.batch_writer ã¾ãšã¯ä½¿ã„æ–¹ã‚’è¦‹ã¦ã¿ã¾ã™ã€‚\ntable_name = \u0026#39;hinatazaka-blog\u0026#39; items = [ { \u0026#34;Author\u0026#34;: \u0026#34;å¯Œç”°éˆ´èŠ±\u0026#34;, \u0026#34;Authorcode\u0026#34;: \u0026#34;15\u0026#34;, \u0026#34;Blogkey\u0026#34;: 30775, \u0026#34;Entrydate\u0026#34;: 201909062231, \u0026#34;Images\u0026#34;: [ \u0026#34;https://cdn.hinatazaka46.com/files/14/diary/official/member/moblog/201909/mobzVcYf5.jpg\u0026#34;, \u0026#34;https://cdn.hinatazaka46.com/files/14/diary/official/member/moblog/201909/mobbmdhGD.jpg\u0026#34;, \u0026#34;https://cdn.hinatazaka46.com/files/14/diary/official/member/moblog/201909/mobNBUyrd.jpg\u0026#34; ], \u0026#34;Title\u0026#34;: \u0026#34;æ±åŒ—è‡ªå‹•è»Šé“\u0026#34;, \u0026#34;Url\u0026#34;: \u0026#34;https://www.hinatazaka46.com/s/official/diary/detail/30775?ima=0000\u0026amp;cd=member\u0026#34; }, { \u0026#34;Author\u0026#34;: \u0026#34;å¯Œç”°éˆ´èŠ±\u0026#34;, \u0026#34;Authorcode\u0026#34;: \u0026#34;15\u0026#34;, \u0026#34;Blogkey\u0026#34;: 30820, \u0026#34;Entrydate\u0026#34;: 201909100044, \u0026#34;Images\u0026#34;: [ \u0026#34;https://cdn.hinatazaka46.com/files/14/diary/official/member/moblog/201909/mob12dNLt.jpg\u0026#34;, \u0026#34;https://cdn.hinatazaka46.com/files/14/diary/official/member/moblog/201909/mobLZTiXa.jpg\u0026#34; ], \u0026#34;Title\u0026#34;: \u0026#34;ç”˜å£ã¨ä¸­è¾›ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒˆã€ç”˜ä¸­è¾›\u0026#34;, \u0026#34;Url\u0026#34;: \u0026#34;https://www.hinatazaka46.com/s/official/diary/detail/30820?ima=0000\u0026amp;cd=member\u0026#34; }, { \u0026#34;Author\u0026#34;: \u0026#34;å¯Œç”°éˆ´èŠ±\u0026#34;, \u0026#34;Authorcode\u0026#34;: \u0026#34;15\u0026#34;, \u0026#34;Blogkey\u0026#34;: 30855, \u0026#34;Entrydate\u0026#34;: 201909130035, \u0026#34;Images\u0026#34;: [ \u0026#34;https://cdn.hinatazaka46.com/files/14/diary/official/member/moblog/201909/mobSSIX7d.jpg\u0026#34; ], \u0026#34;Title\u0026#34;: \u0026#34;ç¾å›½ã‚ˆã‚Šã‚‚æ•°å­¦ãŒ\u0026#34;, \u0026#34;Url\u0026#34;: \u0026#34;https://www.hinatazaka46.com/s/official/diary/detail/30855?ima=0000\u0026amp;cd=member\u0026#34; } ] dynamo = boto3.resource(\u0026#39;dynamodb\u0026#39;) dynamo_table = dynamo.Table(table_name) with dynamo_table.batch_writer() as batch: for item in items: batch.put_item(Item=item) ã“ã‚“ãªæ„Ÿã˜ã§ batch_writer() ã®ä¸­ã§ put_item() ã‚’å‘¼ã¶ã“ã¨ã§ã€ä¸€åº¦ã«è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ›¸ãè¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚\næ™®é€šã« DynamoDB.Table.put_item() ã‚’è¤‡æ•°å›å®Ÿè¡Œã™ã‚‹ã®ã¨ä½•ãŒé•ã†ã®ã‹ã¨ã„ã†ã¨ã€ batch_writer() ã‚’ä½¿ã£ãŸå ´åˆã¯ã‚ˆã—ãªã«å†é€ã¨ã‹ã‚’ã‚„ã£ã¦ãã‚Œã‚‹ã‚“ã§ã™ã€‚\nThe batch writer will automatically handle buffering and sending items in batches. In addition, the batch writer will also automatically handle any unprocessed items and resend them as needed. All you need to do is call put_item for any items you want to add, and delete_item for any items you want to delete.\nã¾ãŸã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚ã‚ã‚‹ã‚ˆã†ã«ã€ delete_item() ã‚‚åŒæ™‚ã« batch writer ã«ç™»éŒ²ã§ãã‚‹ã®ã§ã€ç™»éŒ²ã¨å‰Šé™¤ã‚’ä¸€æ‹¬ã§å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nDynamoDB.Client ã¨ DynamoDB.Table ã®é•ã„ ã“ã“ã¾ã§ã§ 3 ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã¿ã¦ãã¾ã—ãŸãŒã€å®Ÿè³ªçš„ã«ã¯ DynamoDB.Client.put_item() ã¨ DynamoDB.Table.put_item() ã® 2 ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã„ã†å‘³æ–¹ãŒã§ãã¾ã™ã€‚\nã©ã¡ã‚‰ã‚‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§è©³ç´°ãªæ›¸ãè¾¼ã¿æ¡ä»¶ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ç‰¹å¾´ãŒã‚ã‚Šã¾ã™ãŒã€å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒé•ã£ãŸã‚Š Item ã§æŒ‡å®šã™ã‚‹ dict ã®æ§‹æˆãŒé•ã£ãŸã‚Šã—ã¾ã™ã€‚ã˜ã‚ƒã‚ã“ã‚Œã©ã£ã¡ã‚’ä½¿ãˆã°ã„ã„ã®ã‹ã£ã¦ã„ã†ç–‘å•ãŒå‡ºã¦ãã¾ã™ã€‚\nã‚ã‚‰ãŸã‚ã¦ãã‚Œãã‚Œã® put_item() ã‚’ä½¿ã†å®Ÿè£…æ–¹æ³•ã‚’ã¿ã¦ã¿ã‚‹ã¨ã€ DynamoDB.Client.put_item() ã§ã¯ã¾ãš DynamoDB ã® Client ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã—ã¦ã„ã¾ã™ã€‚\ndynamo = boto3.client(\u0026#39;dynamodb\u0026#39;) DynamoDB.Table.put_item() ã§ã¯ã€ DynamoDB ã® ServiceResource ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã—ã¦ã€ãã“ã‹ã‚‰ Table ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã—ã¦ã„ã¾ã™ã€‚\ndynamo = boto3.resource(\u0026#39;dynamodb\u0026#39;) dynamo_table = dynamo.Table(table_name) ã¤ã¾ã‚Š DynamoDB.Client.put_item() ã®ã»ã†ãŒã€ã‚ˆã‚Šä½ãƒ¬ãƒ™ãƒ«ãªå±¤ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã®æ›¸ãè¾¼ã¿ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚å®Ÿéš›ã€ DynamoDB.Client ã«ã¯ create_table() ã‚„ describe_endpoints() ã¨ã„ã£ãŸã€ DynamoDB å…¨ä½“ã«ã‹ã‹ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚ ä¸€æ–¹ã§ DynamoDB.Table ã«ã¯ã€ delete() ã‚„ scan() ã¨ã„ã£ãŸã€ç‰¹å®šã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾ã™ã‚‹æ“ä½œã‚’è¡Œã†ãƒ¡ã‚½ãƒƒãƒ‰ã—ã‹ã‚ã‚Šã¾ã›ã‚“ã€‚\nãªã®ã§ä½¿ã„åˆ†ã‘ã¨ã—ã¦ã¯ã€åŸºæœ¬çš„ã«ã¯ DynamoDB.Table.put_item() ã®ã»ã†ã‚’ä½¿ãˆã°ã„ã„ã®ã‹ãªã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚ put_item() ã®ãŸã³ã«ãƒ†ãƒ¼ãƒ–ãƒ«åã‚’æŒ‡å®šã™ã‚‹å¿…è¦ã‚‚ãªã„ã§ã™ã—ã€æ›¸ãè¾¼ã‚€ãƒ‡ãƒ¼ã‚¿ã® dict ã‚‚è‡ªç„¶ãªã®ã§æ‰±ã„ã‚„ã™ã„ã§ã™ã€‚\nä¸€æ–¹ã§ã€ä¸€ã¤ã®ãƒ—ãƒ­ã‚»ã‚¹å†…ã§è¤‡æ•°ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾ã—ã¦å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ãªå ´åˆã«ã¯ DynamoDB.Client.put_item() ã‚’ä½¿ã†ã“ã¨ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç”Ÿæˆå›æ•°ã‚’æ¸›ã‚‰ã™ã“ã¨ãŒã§ãã¾ã™ã€‚çµæœçš„ã«ã“ã‚ŒãŒãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å‘ä¸Šã«ç¹‹ãŒã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ãã“ã¾ã§ã‚·ãƒ“ã‚¢ãªå®Ÿè£…ã‚’ã™ã‚‹ã“ã¨ã£ã¦ã‚ã‚‹ã®ã‹ãªï¼Ÿã¨ã„ã†æ°—ã‚‚ã—ã¾ã™ã€‚\nã¾ã¨ã‚ Python (boto3) ã‚’ä½¿ã£ã¦ DynamoDB ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ›¸ãè¾¼ã‚€æ–¹æ³•ã«ã¤ã„ã¦èª¿ã¹ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nåŒã˜åå‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚‚å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒé•ã£ãŸã‚ŠæŒ‡å®šã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã®æ§‹æˆãŒé•ã£ãŸã‚Šã™ã‚‹ã®ã§ã€åˆã‚ã¦ boto3 ã§ãƒ‡ãƒ¼ã‚¿æ›¸ãè¾¼ã¿ã—ã‚ˆã†ã¨æ€ã£ãŸã¨ãã¯æˆ¸æƒ‘ã„ã¾ã—ãŸã€‚ä»Šå›æ›¸ã„ãŸ 3 ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã¤ã„ã¦ã¯ã€ãã®é•ã„ãŒã‚ã‹ã£ãŸã‹ã¨æ€ã„ã¾ã™ã€‚\né€”ä¸­ã§ã‚‚æ›¸ã„ã¦ã„ã¾ã™ãŒã€ put_item() ã«æŒ‡å®šã§ãã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã¤ã„ã¦ã¯ ã¾ãŸã‚ã‚‰ãŸã‚ã¦èª¿ã¹ã¦è©¦ã—ã¦ã¿ã¾ã™ ä¸‹è¨˜ã®è¨˜äº‹ã§æ›¸ã„ãŸã®ã§ã€ã‚ˆã‹ã£ãŸã‚‰å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\n",
    "permalink": "https://michimani.net/post/aws-put-item-to-dynamodb-by-boto3/",
    "title": "boto3 ã® put_item() ã§ DynamoDB ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ›¸ãè¾¼ã‚€æ–¹æ³• 3 ãƒ‘ã‚¿ãƒ¼ãƒ³"
  },
  {
    "contents": "å…ˆæ—¥ã€ã“ã®ãƒ–ãƒ­ã‚°ãŒ Google Adsense ã®å¯©æŸ»ã«é€šéã—ã¾ã—ãŸã€‚å¯©æŸ»é€šéã®ãŸã‚ã«è‰²ã€…ã¨ã‚„ã£ã¦ã¿ãŸã®ã§ã€ãã®è©¦è¡ŒéŒ¯èª¤ã«ã¤ã„ã¦æ›¸ãã¾ã™ã€‚åŒã˜ã‚ˆã†ã« Hugo ã§ãƒ–ãƒ­ã‚°ã‚„ã‚µã‚¤ãƒˆã‚’é‹å–¶ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚\nç›®æ¬¡ éæ‰¿èªã¨ãªã£ãŸç†ç”± ã‚„ã£ãŸã“ã¨ è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ  ç„¡æ–­ã§è¤‡è£½ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ èª˜å°ãƒšãƒ¼ã‚¸ ã¾ã¨ã‚ éæ‰¿èªã¨ãªã£ãŸç†ç”± åˆã‚ã¦ç”³è«‹ã‚’å‡ºã—ãŸã®ãŒ 2018å¹´12æœˆ ã§ã€ãã“ã‹ã‚‰æ‰¿èªã¾ã§ç´„ 8 ãƒ¶æœˆã‹ã‹ã‚Šã¾ã—ãŸã€‚ãã®é–“ã€ã„ã‚ã„ã‚è©¦è¡ŒéŒ¯èª¤ã—ãŸã‚‚ã®ã®ã€éæ‰¿èªã¨ãªã£ãŸç†ç”±ã¯ä¸€è²«ã—ã¦ ä¾¡å€¤ã®ä½ã„åºƒå‘Šæ ï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒè¤‡è£½ã•ã‚Œã¦ã„ã‚‹ã‚µã‚¤ãƒˆï¼‰ ã¨ã„ã†ã‚‚ã®ã§ã—ãŸã€‚\nã“ã‚ŒãŒã©ã†ã„ã£ãŸå†…å®¹ã‹ã¨ã„ã†ã®ã¯ Google Search Console ã®ãƒ˜ãƒ«ãƒ—å†…ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€æŠœç²‹ã™ã‚‹ã¨ã€ç”³è«‹ã—ãŸã‚µã‚¤ãƒˆãŒä¸‹è¨˜ã®ã‚ˆã†ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã—ã¦è©•ä¾¡ã•ã‚ŒãŸã¨ã„ã†å†…å®¹ã§ã™ã€‚\nè‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ  ç„¡æ–­ã§è¤‡è£½ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ èª˜å°ãƒšãƒ¼ã‚¸ ãã‚Œãã‚Œã€ã‚‚ã†å°‘ã—è©³ç´°ã«å†…å®¹ã‚’ã¿ã¦ã¿ã¾ã™ã€‚\nè‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ ãªã‚“ã‚‰ã‹ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ã‚ˆã£ã¦è‡ªå‹•çš„ã«ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§ã€æ¤œç´¢ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’æ“ä½œã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã‚‹ã‚ˆã†ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã“ã¨ã§ã™ã€‚Google ã§ã¯ã€ãã†ã„ã£ãŸãƒ¦ãƒ¼ã‚¶ã®å½¹ã«ç«‹ãŸãªã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«å¯¾ã—ã¦ã¯è©•ä¾¡ãŒå³ã—ã„ã‚ˆã†ã§ã™ã€‚\nã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ  æ—¢ã«ä»–ã®ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«å‚åŠ ã—ã¦ã„ã‚‹ã‚µã‚¤ãƒˆã®å ´åˆã¯ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«è²¼ã‚‰ã‚Œã¦ã„ã‚‹ãƒãƒŠãƒ¼ãªã©ãŒå®Ÿéš›ã®æ–‡ç« ã¨é–¢ä¿‚ãŒãªã‹ã£ãŸã‚Šã€ãã®å•†å“ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãªã©ã‚’ä»–ã®ã‚µã‚¤ãƒˆã‹ã‚‰å¼•ç”¨ã—ã¦ããŸã ã‘ã§ç‹¬è‡ªã®æ–‡ç« ãŒãªã‹ã£ãŸã‚Šã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã“ã¨ã§ã™ã€‚ã“ã†ã„ã£ãŸå†…å®¹ã ã¨ã€ä»–ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚µã‚¤ãƒˆã¨åŒã˜ã‚ˆã†ãªå†…å®¹ã«ãªã£ã¦ã—ã¾ã„ã€æœ€çµ‚çš„ã«ã¯ãƒ¦ãƒ¼ã‚¶ã®åˆ©ä¾¿æ€§ã‚’å¦¨ã’ã‚‹ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚\nç„¡æ–­ã§è¤‡è£½ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ç‹¬è‡ªæ€§ãŒãªãã€ä»–ã®è©•åˆ¤ã®è‰¯ã„ã‚µã‚¤ãƒˆãªã©ã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æµç”¨ã—ãŸã‚ˆã†ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã“ã¨ã§ã™ã€‚å˜ç´”ãªã‚³ãƒ”ãƒ¼ã ã‘ã§ãªãã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å†…ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ç”¨èªã‚’é¡ä¼¼èªã«å¤‰æ›ã—ãŸã‚ˆã†ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚‚ã€ç„¡æ–­ã§è¤‡è£½ã•ã‚ŒãŸã‚‚ã®ã¨ã—ã¦åˆ¤æ–­ã•ã‚Œã¾ã™ã€‚\nèª˜å°ãƒšãƒ¼ã‚¸ æœ€çµ‚çš„ã«ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚Œã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§ã¯ãªãã€ãã‚Œã‚‰ã¸ã®èª˜å°ã‚’ç›®çš„ã¨ã—ãŸãƒšãƒ¼ã‚¸ã®ã“ã¨ã§ã™ã€‚ä¾‹ãˆã°ã€ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ»ã‚¿ã‚°åˆ¥ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¸€è¦§ãƒšãƒ¼ã‚¸ãªã©ãŒã“ã‚Œã«ã‚ãŸã‚Šã¾ã™ã€‚\nã‚ˆã‚Šè©³ç´°ãªå†…å®¹ã«ã¤ã„ã„ã¦ã¯ã€ä¸‹è¨˜ãƒªãƒ³ã‚¯ã‹ã‚‰ ä¾¡å€¤ã®ãªã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ ã®æ¬„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n[æ‰‹å‹•ã«ã‚ˆã‚‹å¯¾ç­–] ãƒ¬ãƒãƒ¼ãƒˆ - Search Console ãƒ˜ãƒ«ãƒ— ã‚„ã£ãŸã“ã¨ Google ã‹ã‚‰ã¯å…·ä½“çš„ãªæ”¹å–„æ–¹æ³•ã¯æ•™ãˆã¦ã‚‚ã‚‰ãˆãªã„ã®ã§ã€ä¸Šè¨˜ã®å†…å®¹ã‚’ãƒ’ãƒ³ãƒˆã«ã—ã¦æ€ªã—ã„ã¨ã“ã‚ã‚’ç›´ã—ã¦ã¯ç”³è«‹ã€ãƒ€ãƒ¡ãªã‚‰ã¾ãŸç›´ã—ã¦ç”³è«‹\u0026hellip;ã¨ã„ã†ã“ã¨ã‚’ç¹°ã‚Šè¿”ã—ã¾ã™ã€‚\nä¸Šã§æŒ™ã’ãŸ 4 ã¤ã®å†…å®¹ã«é–¢ã—ã¦ã‚„ã£ã¦ã„ã£ãŸã“ã¨ã‚’æ›¸ãã¾ã™ã€‚\nè‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ Hugo ã¯ markdown ã§æ›¸ã„ãŸè¨˜äº‹ã‹ã‚‰è‡ªå‹•çš„ã«é™çš„ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ (html) ã‚’ç”Ÿæˆã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ãªã®ã§ã€ã‚ã‚‹æ„å‘³ã§ã¯è‡ªå‹•ç”Ÿæˆã§ã™ãŒã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«é–¢ã—ã¦ã¯å…¨ã¦è‡ªåˆ†ã§æ‰‹ã§æ›¸ã„ã¦ã„ã‚‹å†…å®¹ãªã®ã§ã€ãŠãã‚‰ãã“ã®ä»¶ã«ã¯æŠµè§¦ã—ãªã„ã ã‚ã†ã¨ã„ã†åˆ¤æ–­ã‚’ã—ã¾ã—ãŸã€‚ãªã®ã§ã€ã“ã‚Œã«é–¢ã—ã¦ã¯ç‰¹ã«å¯¾ç­–ã‚’ã—ã¦ã„ã¾ã›ã‚“ã€‚\nã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ  ç”³è«‹æ™‚ç‚¹ã§æ—¢ã« Amazon ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆãƒ»ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«å‚åŠ ã—ã¦ãŠã‚Šã€å•†å“ãƒãƒŠãƒ¼ã‚’è²¼ã£ã¦ã„ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚ãªã®ã§ã€ä¸€æ—¦ãã‚Œã‚‰ã‚’å…¨ã¦å‰Šé™¤ã—ã¦ç”³è«‹ã‚’è¡Œã„ã¾ã—ãŸã€‚\nãŸã ã—ã€çµæœã¯å¤‰ã‚ã‚‰ãšéæ‰¿èªã§ã€ç†ç”±ã‚‚ ä¾¡å€¤ã®ãªã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ ã§ã—ãŸã€‚\nç„¡æ–­ã§è¤‡è£½ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ ã“ã®ãƒ–ãƒ­ã‚°ã‚’å§‹ã‚ã‚‹ã¾ã§ã¯ Qiita ã§ã„ãã¤ã‹è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã¾ã—ãŸãŒã€ãã‚Œã‚‰ã®è¨˜äº‹ã‚’å…¨ã¦ã“ã®ãƒ–ãƒ­ã‚°ã«å¼•ã£è¶Šã—ã¦ãã¾ã—ãŸã€‚ã‚‚ã¡ã‚ã‚“ Qiita ã®ã»ã†ã§ã¯è¨˜äº‹ã‚’å‰Šé™¤ã—ã¦ã„ã¾ã—ãŸãŒã€ã‚‚ã—ã‹ã—ãŸã‚‰ãã‚ŒãŒç„¡æ–­è»¢è¼‰ã¨ã„ã†åˆ¤æ–­ã‚’ã•ã‚ŒãŸã®ã‹ã‚‚ã—ã‚Œãªã„ã¨æ€ã„ã€ Qiita ã‹ã‚‰ç§»è¡Œã—ã¦ããŸè¨˜äº‹ã‚’å…¨ã¦å‰Šé™¤ã—ã¦ç”³è«‹ã‚’è¡Œã„ã¾ã—ãŸã€‚\nãŸã ã—ã€çµæœã¯å¤‰ã‚ã‚‰ãšéæ‰¿èªã§ã€ç†ç”±ã‚‚ ä¾¡å€¤ã®ãªã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ ã§ã—ãŸã€‚\nã¡ãªã¿ã«ã€ Qiita ã‹ã‚‰ Hugo ã¸è¨˜äº‹ã‚’ç§»è¡Œã—ãŸã„ã¨è€ƒãˆã¦ã„ã‚‹æ–¹ã¯ã€ç°¡å˜ãªãƒ„ãƒ¼ãƒ« (ã¨ã„ã†ã‹ãŸã ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ) ã‚’å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§ä½¿ã£ã¦ã¿ã¦ãã ã•ã„ã€‚\nmichimani/qiita-to-hugo: Generate markdown files for Hugo contents from Qiita. èª˜å°ãƒšãƒ¼ã‚¸ Hugo ã§ã¯ã€ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ»ã‚¿ã‚°åˆ¥ã®è¨˜äº‹ä¸€è¦§ãƒšãƒ¼ã‚¸ã‚‚è‡ªå‹•ã§ç”Ÿæˆã—ã¦ãã‚Œã¾ã™ãŒã€ãã‚Œã‚‰ã¯æœ€çµ‚çš„ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§ã¯ãªãèª˜å°ãƒšãƒ¼ã‚¸ã¨ãªã‚Šã¾ã™ã€‚ã§ã€ã“ã‚ŒãŒé™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã®è‰¯ã„ã¨ã“ã‚ã§ã‚ã‚Šæ‚ªã„ã¨ã“ã‚ã§ã‚‚ã‚ã‚‹ã‚“ã§ã™ãŒã€ã‚«ãƒ†ã‚´ãƒªæ•°ã‚„ã‚¿ã‚°æ•°ãŒå¤šããªã‚‹ã¨ã€å¿…ç„¶çš„ã«èª˜å°ãƒšãƒ¼ã‚¸ã®æ•°ãŒå¢—ãˆã¾ã™ã€‚ã¾ãŸã€å„ã‚«ãƒ†ã‚´ãƒªãƒ»å„ã‚¿ã‚°ã«å±ã™ã‚‹è¨˜äº‹æ•°ãŒå¤šã„ã¨ã€ãã‚Œã‚‰ã®èª˜å°ãƒšãƒ¼ã‚¸å†…ã§ãƒšãƒ¼ã‚¸ãƒ³ã‚°ãŒç™ºç”Ÿã—ã€ã•ã‚‰ã«èª˜å°ãƒšãƒ¼ã‚¸ã®æ•°ãŒå¢—ãˆã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nã“ã®ãƒ–ãƒ­ã‚°ã§ã¯ã‚«ãƒ†ã‚´ãƒªã¨ã‚¿ã‚°ä¸¡æ–¹ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã—ãŸã€‚ã‚«ãƒ†ã‚´ãƒªæ•°ã¯ 7 ã¨çµã£ã¦ã„ã¾ã—ãŸãŒã€ã‚¿ã‚°æ•°ã¯ã‹ãªã‚Šã®æ•°ãŒã‚ã‚Šã¾ã—ãŸã€‚ (AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«ã¤ã‘ãŸã‚Šã—ã¦ãŸã®ã§\u0026hellip;)\nã¨ã„ã†ã“ã¨ã§ã€ã‚¿ã‚°ã§ã®æ¤œç´¢ãŒã§ããªããªã‚‹ã¨ã„ã†ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã¯ã‚ã‚Šã¾ã™ãŒã€ä¸€æ—¦ã‚¿ã‚°ä¸€è¦§ã®å‡ºåŠ›ã‚’ã‚„ã‚ã¦ã€ç”³è«‹ã‚’è¡Œã„ã¾ã—ãŸã€‚\nçµæœçš„ã«ã¯ã“ã®å¯¾å¿œã«ã‚ˆã£ã¦å¯©æŸ»ã‚’é€šéã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸï¼\nWordPress ã‚„ãã®ä»–ã®å‹•çš„ã‚µã‚¤ãƒˆã§ã¯ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ»ã‚¿ã‚°åˆ¥ãƒšãƒ¼ã‚¸ãŒã‚«ãƒ†ã‚´ãƒªæ•°ãƒ»ã‚¿ã‚°æ•°ã«ä¾å­˜ã—ã¦å¢—ãˆã‚‹ã¨ã„ã†ã“ã¨ã¯ç„¡ã„ã®ã§ã€ã“ã‚Œã¯ Hugo ã®ã¨ã„ã†ã‹ã€é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ç‰¹æœ‰ã®äº‹è±¡ã‹ã¨æ€ã„ã¾ã™ã€‚\nHugo ã§ã‚¿ã‚°ä¸€è¦§ã‚’å‡ºåŠ›ã—ãªã„æ–¹æ³• Hugo ã§ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã‚«ãƒ†ã‚´ãƒªä¸€è¦§ã€ã‚¿ã‚°ä¸€è¦§ã¯å‡ºåŠ›ã•ã‚Œã¾ã›ã‚“ã€‚\nã“ã®ãƒ–ãƒ­ã‚°ã§ã¯éå»ã«ãã‚Œãã‚Œã®ä¸€è¦§ãƒšãƒ¼ã‚¸ã‚’å‡ºåŠ›ã™ã‚‹ã‚ˆã†ãªå¯¾å¿œã‚’ã—ã¦ã„ãŸã®ã§ã€ãã‚Œã‚’ã‚‚ã¨ã«æˆ»ã—ãŸå½¢ã«ãªã‚Šã¾ã™ã€‚\nãªã®ã§ã€å¯¾å¿œã¯ã„ãŸã£ã¦ç°¡å˜ã§ã™ã€‚\nconfig.toml ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚\n[taxonomies] - tag = \u0026#34;tags\u0026#34; category = \u0026#34;categories\u0026#34; ã“ã‚Œã§ã‚¿ã‚°ä¸€è¦§ã‚’å‡ºåŠ›ã—ãªã„ã‚ˆã†ã«ãªã‚‹ã®ã§ã€æœ€çµ‚çš„ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§ã¯ç„¡ã„èª˜å°ãƒšãƒ¼ã‚¸ã®æ•°ã‚’æ¸›ã‚‰ã™ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nã¾ã¨ã‚ Hugo ã§ä½œã£ãŸã‚µã‚¤ãƒˆã§ Google Adsense ã®å¯©æŸ»ã«é€šéã™ã‚‹ã¨ãã«ã‚„ã£ãŸã“ã¨ã‚’æ›¸ãã¾ã—ãŸã€‚\nAdsense ã®å¯©æŸ»ã¯å¹´ã€…å³ã—ããªã£ã¦ã„ã‚‹ã¨ã„ã†è©±ã‚‚ã‚ã‚Šã¾ã™ãŒã€ Google ã®ãƒãƒªã‚·ãƒ¼ã«å‰‡ã£ãŸã‚µã‚¤ãƒˆã§ã‚ã‚Œã°ã¡ã‚ƒã‚“ã¨å¯©æŸ»ã¯é€šã‚‹ã‚ˆã†ã§ã™ã€‚ä»Šå›ã¯ã‚¿ã‚°ä¸€è¦§ã‚’å‡ºåŠ›ã—ãªã„ã¨ã„ã†æ–¹æ³•ã§è§£æ±ºã—ãŸã®ã§ã€èª˜å°ãƒšãƒ¼ã‚¸ã®å¤šã•ãŒå•é¡Œã ã£ãŸã¨æ€ã‚ã‚Œã¾ã™ã€‚\nã‚‚ã— Hugo ã‚„ãã®ä»–ã®é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã§ä½œã£ãŸã‚µã‚¤ãƒˆã§ Adsense ã®å¯©æŸ»é€šéã«è‹¦åŠ´ã•ã‚Œã¦ã„ã‚‹æ–¹ã¯ã€ä¸€åº¦è©¦ã—ã¦ã¿ã‚‹ã¨è‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\n",
    "permalink": "https://michimani.net/post/pass-google-adsense-review-with-hugo-site/",
    "title": "Hugo ã§ä½œã£ãŸã‚µã‚¤ãƒˆã§ Google Adsense ã®å¯©æŸ»ã‚’é€šéã—ãŸã¨ãã«ã‚„ã£ãŸã“ã¨"
  },
  {
    "contents": "CloudWatch Logs ã«ã¯ AWS ã®å„ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ã‚ã‚‰ã‚†ã‚‹ãƒ­ã‚°ãŒé€ä¿¡ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ãŒã€SDK ã‚„ CLI ã‚’ä½¿ãˆã°å¤–éƒ¨ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ã‚‚ãƒ­ã‚°ã‚’é€ä¿¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä»Šå›ã¯ AWS CLI ã‚’ä½¿ã£ã¦ãƒ­ã‚°ã‚’é€ä¿¡ã—ã¦ã¿ã¾ã—ãŸã€‚\nCloudWatch Logs ã¨ã¯ CloudWatch Logs ã®æ§‹æˆè¦ç´  AWS CLI ã§ã®æ“ä½œ ãƒ­ã‚°ã®é€ä¿¡ (æº–å‚™) ãƒ­ã‚°ã®é€ä¿¡ ãƒ­ã‚°ã®ç¢ºèª ãƒ­ã‚°ã®æ¤œç´¢ ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã®å½¢å¼ ã¾ã¨ã‚ CloudWatch Logs ã¨ã¯ Amazon CloudWatch Logs ã‚’ä½¿ç”¨ã—ã¦ã€Amazon Elastic Compute Cloud (Amazon EC2) ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã€AWS CloudTrailã€Route 53ã€ãŠã‚ˆã³ãã®ä»–ã®ã‚½ãƒ¼ã‚¹ã®ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®ç›£è¦–ã€ä¿å­˜ã€ã‚¢ã‚¯ã‚»ã‚¹ãŒã§ãã¾ã™ã€‚\nAmazon CloudWatch Logs ã¨ã¯ - Amazon CloudWatch Logs AWS ã®ãƒªã‚½ãƒ¼ã‚¹ã«é™ã‚‰ãšã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ­ã‚°ã‚‚æºœã‚ã¦ãŠãã“ã¨ãŒã§ãã¾ã™ã€‚ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã ã£ãŸã‚Šã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã‚’æ„è­˜ã—ãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã ã¨ã€ãƒ­ã‚°ã®ç½®ãå ´æ‰€ã«å›°ã‚Šã¾ã™ãŒã€ãã†ã„ã†æ§‹æˆã§ã¯ã¨ã‚Šã‚ãˆãš CloudWatch Logs ã«æŠ•ã’ã‚‹ã¿ãŸã„ãªæ§‹æˆã«ãªã£ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nCloudWatch Logs ã®æ§‹æˆè¦ç´  CloudWatch Logs ã§ã¯ ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ— ã¨ ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ  ã¨ã„ã†è¦ç´ ãŒã‚ã‚‹ã®ã§ã€ãã‚Œãã‚Œã«ã¤ã„ã¦ã–ã£ã¨ç¢ºèªã—ã¾ã™ã€‚\nãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ— ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã¯ã€ä¿æŒã€ç›£è¦–ã€ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã«ã¤ã„ã¦åŒã˜è¨­å®šã‚’å…±æœ‰ã™ã‚‹ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ã‚°ãƒ«ãƒ¼ãƒ—ã§ã™ã€‚ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã‚’å®šç¾©ã—ã¦ã€å„ã‚°ãƒ«ãƒ¼ãƒ—ã«å…¥ã‚Œã‚‹ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚1 ã¤ã®ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã«å±ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®æ•°ã«åˆ¶é™ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã¤ã¾ã‚Šã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å˜ä½ã‚„ç”»é¢å˜ä½ã¨ã„ã£ãŸããã‚Šã§ãƒ­ã‚°ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åˆ†ã‘ã—ã¦ã„ã‚‹è¦ç´ ã§ã™ã€‚ä¾‹ãˆã° Lambda ã®å®Ÿè¡Œãƒ­ã‚°ã«é–¢ã—ã¦ã¯ã€é–¢æ•°å˜ä½ã§ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ãŒä½œæˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ  ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã¯ã€åŒã˜ã‚½ãƒ¼ã‚¹ã‚’å…±æœ‰ã™ã‚‹ä¸€é€£ã®ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚CloudWatch Logs ã¸ã®ãƒ­ã‚°ã®å„ã‚½ãƒ¼ã‚¹ã«ã‚ˆã£ã¦ã€å€‹åˆ¥ã®ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒæ§‹æˆã•ã‚Œã¾ã™ã€‚\nãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—å†…ã§ã•ã‚‰ã«ãƒ­ã‚°ã‚’åˆ†å‰²ã—ã¦ã„ã‚‹è¦ç´ ãŒãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã§ã™ã€‚åŒã˜ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚ã£ã¦ã‚‚ã€åˆ¥ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚„åˆ¥æ—¥ä»˜ãªã©ã§ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’åˆ†ã‘ã‚‹ã“ã¨ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚Lambda ã®å®Ÿè¡Œãƒ­ã‚°ã‚’ä¾‹ã«ã™ã‚‹ã¨ã€é–¢æ•°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å˜ä½ã€ä¸€å®šæ™‚é–“å˜ä½ã§ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒåˆ†å‰²ã•ã‚Œã¦ã„ã¾ã™ã€‚\nãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—å†…ã«ã¯æ•°ã®åˆ¶é™ãªããƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¸€ã¤ã ã‘ã§ã‚‚ã„ã„ã§ã™ã€‚ãŸã ã—ã€æœ€ä½ã§ã‚‚æ—¥ä»˜ã”ã¨ã¨ã‹ã§åˆ†å‰²ã—ã¦ã‚ã‚‹ã¨ã€ã‚ã¨ã§ãƒ­ã‚°ã‚’é–²è¦§ã™ã‚‹ã¨ãã«è¦‹ã¤ã‘ã‚„ã™ã„ã§ã™ã€‚\nã¾ãŸã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’åˆ†ã‘ãŸã¨ã—ã¦ã‚‚ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ã¯ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’æ¨ªæ–­ã—ãŸãƒ­ã‚°ã®æ¤œç´¢ãŒå¯èƒ½ãªã®ã§ã€å¿ƒé…ã‚ã‚Šã¾ã›ã‚“ã€‚\nãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆ ã„ã‚ã‚†ã‚‹ãƒ­ã‚°ã®ã“ã¨ã§ã™ã€‚ã‚ã¨ã§æ›¸ãã¾ã™ãŒã€ AWS CLI ã§ã¯ put-log-events ã¨ã„ã†ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ãƒ­ã‚°ã‚’é€ä¿¡ã—ã¾ã™ã€‚\nAWS CLI ã§ã®æ“ä½œ ã§ã¯ã€å®Ÿéš›ã« AWS CLI ã§ CloudWatch Logs ã‚’æ“ä½œã—ã¦ã¿ã¾ã™ã€‚\nCloudWatch Logs ã®ã‚³ãƒãƒ³ãƒ‰ã¯ aws logs ã§ã™ã€‚ã“ã‚Œã«ç¶šã‘ã¦ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã‚’è¶³ã—ã¦ã„ãæ„Ÿã˜ã§ã™ã€‚\nã‚³ãƒãƒ³ãƒ‰ã®è©³ç´°ã«ã¤ã„ã¦ã¯å…¬å¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nlogs â€” AWS CLI 1.16.230 Command Reference ãƒ­ã‚°ã®é€ä¿¡ (æº–å‚™) ãƒ­ã‚°ã®é€ä¿¡ã«ã¯ put-log-events ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã¨æ›¸ãã¾ã—ãŸãŒã€å®Ÿè¡Œæ™‚ã«ã¯ä¸‹è¨˜ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚\n--log-group-name : å¯¾è±¡ã®ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—å --log-stream-name : å¯¾è±¡ã®ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ å --log-events : é€ä¿¡ã™ã‚‹ãƒ­ã‚° ã¤ã¾ã‚Šã€ãƒ­ã‚°ã®é€ä¿¡ã™ã‚‹ã«ã¯ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã¨ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒæ—¢ã«å­˜åœ¨ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãªã®ã§ã€ä»Šå›ã¯ãã‚Œã‚‰ã‚‚ AWS CLI ã§ä½œæˆã—ã¦ã¿ã¾ã™ã€‚\nãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã€ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ä½œæˆ ã¾ãšã¯ ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã§ã™ã€‚\n$ aws logs create-log-group --log-group-name michimani-test-group å‡ºåŠ›ã¯ç‰¹ã«ã‚ã‚Šã¾ã›ã‚“ã€‚æœ¬å½“ã«ä½œæˆã•ã‚ŒãŸã®ã‹ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws logs describe-log-groups --log-group-name-prefix michimani { \u0026#34;logGroups\u0026#34;: [ { \u0026#34;logGroupName\u0026#34;: \u0026#34;michimani-test-group\u0026#34;, \u0026#34;creationTime\u0026#34;: 1567477587999, \u0026#34;metricFilterCount\u0026#34;: 0, \u0026#34;arn\u0026#34;: \u0026#34;arn:aws:logs:ap-northeast-1:XXXXXXXXXXXX:log-group:michimani-test-group:*\u0026#34;, \u0026#34;storedBytes\u0026#34;: 0 } ] } ã‚‚ã¡ã‚ã‚“ã§ã™ãŒã€æ—¢ã«ã‚°ãƒ«ãƒ¼ãƒ—ãŒå­˜åœ¨ã—ã¦ã„ã‚‹å ´åˆã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n$ aws logs create-log-group --log-group-name michimani-test-group An error occurred (ResourceAlreadyExistsException) when calling the CreateLogGroup operation: The specified log group already exists ç¶šã„ã¦ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’ä½œæˆã—ã¾ã™ã€‚\n$ aws logs create-log-stream \\ --log-group-name michimani-test-group \\ --log-stream-name test-stream-001 ã“ã‚Œã‚‚å‡ºåŠ›ã¯ç‰¹ã«ä½•ã‚‚ãªã„ã®ã§ã€ä½œæˆã•ã‚Œã¦ã„ã‚‹ã®ã‹ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws logs describe-log-streams \\ --log-group-name michimani-test-group \\ --log-stream-name-prefix test-stream-001 { \u0026#34;logStreams\u0026#34;: [ { \u0026#34;logStreamName\u0026#34;: \u0026#34;test-stream-001\u0026#34;, \u0026#34;creationTime\u0026#34;: 1567478248995, \u0026#34;arn\u0026#34;: \u0026#34;arn:aws:logs:ap-northeast-1:XXXXXXXXXXXX:log-group:michimani-test-group:log-stream:test-stream-001\u0026#34;, \u0026#34;storedBytes\u0026#34;: 0 } ] } ã“ã‚Œã§ãƒ­ã‚°ã‚’å…¥ã‚Œã‚‹ç®±ãŒã§ããŸã®ã§ã€ãƒ­ã‚°ã‚’é€ä¿¡ã—ã¦ã„ãã¾ã™ã€‚\nãƒ­ã‚°ã®é€ä¿¡ ãƒ­ã‚°ã®é€ä¿¡ (æº–å‚™) ã§æ›¸ã„ãŸé€šã‚Šã€ãƒ­ã‚°ã®é€ä¿¡ã«ã¯ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ã¨ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã€ãã—ã¦ãƒ­ã‚°ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã¯ --log-events ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã—ã¾ã™ãŒã€æ–¹æ³•ãŒ Shorthand Syntax ã¨ JSON Syntax ã® 2 é€šã‚Šã‚ã‚‹ã®ã§ãã‚Œãã‚Œè¦‹ã¦ã„ãã¾ã™ã€‚\nä¾‹ã¨ã—ã¦ã€Hello CloudWatch Logs ã¨ã„ã†ãƒ­ã‚°ã‚’é€ä¿¡ã™ã‚‹ã¨ã—ã¾ã™ã€‚\nShorthand Syntax ãƒ¯ãƒ³ãƒ©ã‚¤ãƒ³ã§ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æŒ‡å®šã™ã‚‹æ–¹æ³•ã§ã™ã€‚\n$ aws logs put-log-events \\ --log-group-name michimani-test-group \\ --log-stream-name test-stream-001 \\ --log-events timestamp=1567478448995,message=\u0026#34;Hello CloudWatch Logs\u0026#34; JSON Syntax JSON å½¢å¼ã§æŒ‡å®šã™ã‚‹æ–¹æ³•ã§ã™ã€‚ã“ã®æ–¹æ³•ã ã¨ã€è¤‡æ•°ã®ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä¸€åº¦ã«é€ä¿¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n[ { \u0026#34;timestamp\u0026#34;: 1567478448995, \u0026#34;message\u0026#34; : \u0026#34;Hello CloudWatch Logs\u0026#34; } ] ã“ã®æ–¹æ³•ã®å ´åˆã¯ã€ JSON ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜ã—ã¦ãŠã„ã¦ã€ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ --log-events ã§æŒ‡å®šã™ã‚‹å½¢ã«ãªã‚Šã¾ã™ã€‚\n$ aws logs put-log-events \\ --log-group-name michimani-test-group \\ --log-stream-name test-stream-001 \\ --log-events file://events.json ã©ã¡ã‚‰ã®æ–¹å¼ã§ã‚‚ timestamp ã¨ message ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚ã¾ãŸã€ timestamp ã¯ 13 æ¡ ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ ã§ã¯å®Ÿéš›ã« JSON Syntax ã®æ–¹å¼ã§ãƒ­ã‚°ã‚’é€ä¿¡ã—ã¦ã¿ã¾ã™ã€‚\né€ä¿¡ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦ã€ä¸‹è¨˜ã®ã‚ˆã†ãª JSON ã‚’æº–å‚™ã—ã¾ã™ã€‚\n[ { \u0026#34;timestamp\u0026#34;: 1567478448995, \u0026#34;message\u0026#34; : \u0026#34;Good morning CloudWatch Logs\u0026#34; }, { \u0026#34;timestamp\u0026#34;: 1567478548995, \u0026#34;message\u0026#34; : \u0026#34;Good afternoon CloudWatch Logs\u0026#34; }, { \u0026#34;timestamp\u0026#34;: 1567478648995, \u0026#34;message\u0026#34; : \u0026#34;God night CloudWatch Logs\u0026#34; } ] aws logs put-log-events \\ --log-group-name michimani-test-group \\ --log-stream-name test-stream-001 \\ --log-events file://events.json { \u0026#34;nextSequenceToken\u0026#34;: \u0026#34;49596402802751870934231393163316499531521111741320675602\u0026#34; } çµæœã¨ã—ã¦ã€ nextSequenceToken ã¨ã„ã†å€¤ãŒå‡ºåŠ›ã•ã‚Œã¾ã—ãŸã€‚ã“ã®å€¤ã¯ã€ å¼•ãç¶šãåŒã˜ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«ãƒ­ã‚°ã‚’é€ä¿¡ã™ã‚‹éš›ã«å¿…è¦ ã«ãªã‚Šã¾ã™ã€‚ä»®ã«åŒã˜ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚‚ã†ä¸€åº¦å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨\n$ aws logs put-log-events \\ --log-group-name michimani-test-group \\ --log-stream-name test-stream-001 \\ --log-events file://events.json An error occurred (DataAlreadyAcceptedException) when calling the PutLogEvents operation: The given batch of log events has already been accepted. The next batch can be sent with sequenceToken: 49596402802751870934231393163316499531521111741320675602 ã‚¨ãƒ©ãƒ¼ã¨ã¨ã‚‚ã«ã€å…ˆã»ã©ã¨åŒã˜ sequenceToken ã®å€¤ãŒè¨˜ã•ã‚Œã¦ã„ã¾ã™ã€‚ã¨ã„ã†ã“ã¨ã§ã€ sequenceToken ã‚’æŒ‡å®šã—ã¦é€ä¿¡ã—ã¦ã¿ã¾ã™ã€‚\naws logs put-log-events \\ --log-group-name michimani-test-group \\ --log-stream-name test-stream-001 \\ --log-events file://events.json \\ --sequence-token 49596402802751870934231393163316499531521111741320675602 { \u0026#34;nextSequenceToken\u0026#34;: \u0026#34;49596402802751870934231393650155762793610763307610816786\u0026#34; } åˆ¥ã® sequenceToken ãŒè¿”ã£ã¦ãã¾ã—ãŸã€‚ã¤ã¾ã‚Šã€åŒä¸€ã®ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã‚’é€ä¿¡ã™ã‚‹å ´åˆã¯ã€ 2 å›ç›®ä»¥é™ã¯ãã®ä¸€ã¤å‰ã«é€ä¿¡ã—ãŸéš›ã«è¿”ã£ã¦ããŸ sequenceToken ã‚’ --sequence-token ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nãƒ­ã‚°ã®ç¢ºèª ã§ã¯ã€ä¸Šã§é€ä¿¡ã—ãŸãƒ­ã‚°ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n$ aws logs get-log-events \\ --log-group-name michimani-test-group \\ --log-stream-name test-stream-001 \\ { \u0026#34;events\u0026#34;: [ { \u0026#34;timestamp\u0026#34;: 1567478448995, \u0026#34;message\u0026#34;: \u0026#34;Good morning CloudWatch Logs\u0026#34;, \u0026#34;ingestionTime\u0026#34;: 1567483678013 }, { \u0026#34;timestamp\u0026#34;: 1567478448995, \u0026#34;message\u0026#34;: \u0026#34;Good morning CloudWatch Logs\u0026#34;, \u0026#34;ingestionTime\u0026#34;: 1567484033671 }, { \u0026#34;timestamp\u0026#34;: 1567478548995, \u0026#34;message\u0026#34;: \u0026#34;Good afternoon CloudWatch Logs\u0026#34;, \u0026#34;ingestionTime\u0026#34;: 1567483678013 }, { \u0026#34;timestamp\u0026#34;: 1567478548995, \u0026#34;message\u0026#34;: \u0026#34;Good afternoon CloudWatch Logs\u0026#34;, \u0026#34;ingestionTime\u0026#34;: 1567484033671 }, { \u0026#34;timestamp\u0026#34;: 1567478648995, \u0026#34;message\u0026#34;: \u0026#34;God night CloudWatch Logs\u0026#34;, \u0026#34;ingestionTime\u0026#34;: 1567483678013 }, { \u0026#34;timestamp\u0026#34;: 1567478648995, \u0026#34;message\u0026#34;: \u0026#34;God night CloudWatch Logs\u0026#34;, \u0026#34;ingestionTime\u0026#34;: 1567484033671 } ], \u0026#34;nextForwardToken\u0026#34;: \u0026#34;f/34955941955374514222924862267686763373673893786318209026\u0026#34;, \u0026#34;nextBackwardToken\u0026#34;: \u0026#34;b/34955937495225474516800233530579142916825806445936443392\u0026#34; } åŒã˜ JSON ã‚’ 2 å›é€ä¿¡ã—ãŸã®ã§ã€ãã‚Œãã‚Œ 2 ã¤ãšã¤åŒã˜ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆãŒå–å¾—ã§ãã¾ã—ãŸã€‚\nä¸€ç·’ã«å¸°ã£ã¦ãã¦ã„ã‚‹ nextForwardToken ã¨ nextBackwardToken ã¯ä½•ã§ã—ã‚‡ã†ã‹ã€‚\nAWS CLI ã§å–å¾—ã§ãã‚‹ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºã¯ 1 MB ã¾ãŸã¯ ã‚¤ãƒ™ãƒ³ãƒˆæ•°ãŒ 10,000 ä»¶ ãŒä¸Šé™ã¨ãªã£ã¦ã„ã¾ã™ã€‚ãªã®ã§ã€ãã‚Œä»¥é™ (Forward) ã‚‚ã—ãã¯ ãã‚Œä»¥å‰ (Backward) ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—ã™ã‚‹éš›ã«ã¯ --next-token ã§å€¤ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nã¾ãŸã€å–å¾—ã™ã‚‹ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆæ•°ã®ä¸Šé™ã¯ --limit ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã‚‚æŒ‡å®šã§ãã¾ã™ã€‚ --limit ã¨ --next-token ã®æŒ™å‹•ã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚\n$ aws logs get-log-events \\ --log-group-name michimani-test-group \\ --log-stream-name test-stream-001 \\ --limit 2 { \u0026#34;events\u0026#34;: [ { \u0026#34;timestamp\u0026#34;: 1567478648995, \u0026#34;message\u0026#34;: \u0026#34;God night CloudWatch Logs\u0026#34;, \u0026#34;ingestionTime\u0026#34;: 1567483678013 }, { \u0026#34;timestamp\u0026#34;: 1567478648995, \u0026#34;message\u0026#34;: \u0026#34;God night CloudWatch Logs\u0026#34;, \u0026#34;ingestionTime\u0026#34;: 1567484033671 } ], \u0026#34;nextForwardToken\u0026#34;: \u0026#34;f/34955941955374514222924862267686763373673893786318209026\u0026#34;, \u0026#34;nextBackwardToken\u0026#34;: \u0026#34;b/34955941955374514222924861837722797446498107642019643394\u0026#34; } ç›´è¿‘ã® 2 ä»¶ãŒå–å¾—ã§ãã¾ã—ãŸã€‚ãã‚Œä»¥å‰ã® 2 ä»¶ã‚’å–å¾—ã™ã‚‹ãŸã‚ã« --next-token ã« nextBackwardToken ã®å€¤ã‚’æŒ‡å®šã—ã¦ã¿ã¾ã™ã€‚\n$ aws logs get-log-events \\ --log-group-name michimani-test-group \\ --log-stream-name test-stream-001 \\ --limit 2 \\ --next-token b/34955941955374514222924861837722797446498107642019643394 { \u0026#34;events\u0026#34;: [ { \u0026#34;timestamp\u0026#34;: 1567478548995, \u0026#34;message\u0026#34;: \u0026#34;Good afternoon CloudWatch Logs\u0026#34;, \u0026#34;ingestionTime\u0026#34;: 1567483678013 }, { \u0026#34;timestamp\u0026#34;: 1567478548995, \u0026#34;message\u0026#34;: \u0026#34;Good afternoon CloudWatch Logs\u0026#34;, \u0026#34;ingestionTime\u0026#34;: 1567484033671 } ], \u0026#34;nextForwardToken\u0026#34;: \u0026#34;f/34955939725299994369862548114114936108837743188276609025\u0026#34;, \u0026#34;nextBackwardToken\u0026#34;: \u0026#34;b/34955939725299994369862547684150970181661957043978043393\u0026#34; } æ¬¡ã® 2 ä»¶ãŒå–å¾—ã§ãã¾ã—ãŸã€‚\nã“ã‚“ãªæ„Ÿã˜ã§ã€å‰å¾Œã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—ã§ãã¾ã™ã€‚\nãƒ­ã‚°ã®æ¤œç´¢ filter-log-events ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§ã€ä»»æ„ã®æ–‡å­—åˆ—ã§ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ¤œç´¢ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nfilter-log-events ã§å¿…é ˆã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ --log-group-name ã®ã¿ã§ã€ --log-stream-name ã¯ä»»æ„ã§ã™ã€‚ã¤ã¾ã‚Šã€å†’é ­ã«ã‚‚æ›¸ãã¾ã—ãŸãŒãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’æ¨ªæ–­ã—ã¦ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—å…¨ä½“ã§æ¤œç´¢ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚ã“ã‚Œã¯ AWS CLI ã ã‘ã§ãªãã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ã‚‚å¯èƒ½ã§ã™ã€‚\nã§ã¯å®Ÿéš›ã«è©¦ã—ã¦ã¿ã¾ã™ã€‚\n$ aws logs filter-log-events \\ --log-group-name michimani-test-group \\ --filter-pattern \u0026#34;Good morning\u0026#34; { \u0026#34;events\u0026#34;: [ { \u0026#34;logStreamName\u0026#34;: \u0026#34;test-stream-001\u0026#34;, \u0026#34;timestamp\u0026#34;: 1567478448995, \u0026#34;message\u0026#34;: \u0026#34;Good morning CloudWatch Logs\u0026#34;, \u0026#34;ingestionTime\u0026#34;: 1567483678013, \u0026#34;eventId\u0026#34;: \u0026#34;34955937495225474516800233530579142916825806445936443392\u0026#34; }, { \u0026#34;logStreamName\u0026#34;: \u0026#34;test-stream-001\u0026#34;, \u0026#34;timestamp\u0026#34;: 1567478448995, \u0026#34;message\u0026#34;: \u0026#34;Good morning CloudWatch Logs\u0026#34;, \u0026#34;ingestionTime\u0026#34;: 1567484033671, \u0026#34;eventId\u0026#34;: \u0026#34;34955937495225474516800233960543108844001592590235009024\u0026#34; } ], \u0026#34;searchedLogStreams\u0026#34;: [ { \u0026#34;logStreamName\u0026#34;: \u0026#34;test-stream-001\u0026#34;, \u0026#34;searchedCompletely\u0026#34;: true } ] } ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã®å½¢å¼ ä¸Šã®ä¾‹ã§é€ã£ãŸãƒ­ã‚°ã‚’ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nã¾ã‚ã€æ™®é€šã§ã™ã€‚\nãƒ­ã‚°ã®å†…å®¹ãŒã‚·ãƒ³ãƒ—ãƒ«ãªã®ã§ã“ã‚Œã§ã‚‚ã„ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€å®Ÿéš›ã®ãƒ­ã‚°ã«ã¯ã„ã‚ã‚“ãªæƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ãªã®ã§ã€ãã‚Œã‚‰ã®æƒ…å ±ã‚’ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§è¦‹ã‚„ã™ããªã‚‹ã‚ˆã†ãªå½¢ã§ãƒ­ã‚°ã‚’é€ä¿¡ã—ã¦ã¿ã¾ã™ã€‚\næ–¹æ³•ã¨ã—ã¦ã¯ã€ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã® message ã‚’ JSON æ–‡å­—åˆ—ã«ã™ã‚‹ ã§ã™ã€‚å…·ä½“çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ãª JSON ã‚’æº–å‚™ã—ã¦ã€é€ä¿¡ã—ã¾ã™ã€‚\n[ { \u0026#34;timestamp\u0026#34;: 1567478748995, \u0026#34;message\u0026#34;: \u0026#34;{\\\u0026#34;name\\\u0026#34;:\\\u0026#34;Ken\\\u0026#34;,\\\u0026#34;message\\\u0026#34;:\\\u0026#34;Good morning\\\u0026#34;}\u0026#34; }, { \u0026#34;timestamp\u0026#34;: 1567478848995, \u0026#34;message\u0026#34;: \u0026#34;{\\\u0026#34;name\\\u0026#34;:\\\u0026#34;Kumi\\\u0026#34;,\\\u0026#34;message\\\u0026#34;:\\\u0026#34;Good afternoon\\\u0026#34;}\u0026#34; } ] ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ç¢ºèªã—ã¦ã¿ã‚‹ã¨ã€ä¸‹ã®ã‚­ãƒ£ãƒ—ãƒãƒ£ã®ã‚ˆã†ã«ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã‚’å±•é–‹ã—ãŸã¨ãã« JSON ãŒæ•´å½¢ã•ã‚Œã¦è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nã“ã® JSON å½¢å¼ã«ã—ã¦ãŠãã¨è¦–èªæ€§ãŒè‰¯ããªã‚‹ã¨ã„ã†ãƒ¡ãƒªãƒƒãƒˆã‚‚ã‚ã‚Šã¾ã™ãŒã€ãƒ­ã‚°ã®æ¤œç´¢æ™‚ã« JSON ã®ã‚­ãƒ¼ã¨å€¤ã‚’æŒ‡å®šã—ã¦æ¤œç´¢ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ä¾‹ãˆã° name ãŒ Ken ã®ãƒ­ã‚°ã§ã‚ã‚Œã°ã€ {$.name = \u0026quot;Ken\u0026quot;} ã¨ã„ã†ãƒ•ã‚£ãƒ«ã‚¿ã§æ¤œç´¢ã§ãã¾ã™ã€‚\nã‚‚ã¡ã‚ã‚“ã“ã‚Œã¯ AWS CLI ã§æ“ä½œã™ã‚‹ã¨ãã«ã‚‚ä½¿ãˆã¾ã™ã€‚\n$ aws logs filter-log-events \\ --log-group-name michimani-test-group \\ --filter-pattern \u0026#39;{$.name = \u0026#34;Ken\u0026#34;}\u0026#39; { \u0026#34;events\u0026#34;: [ { \u0026#34;logStreamName\u0026#34;: \u0026#34;test-stream-001\u0026#34;, \u0026#34;timestamp\u0026#34;: 1567478748995, \u0026#34;message\u0026#34;: \u0026#34;{\\\u0026#34;name\\\u0026#34;:\\\u0026#34;Ken\\\u0026#34;,\\\u0026#34;message\\\u0026#34;:\\\u0026#34;Good morning\\\u0026#34;}\u0026#34;, \u0026#34;ingestionTime\u0026#34;: 1567486685224, \u0026#34;eventId\u0026#34;: \u0026#34;34955944185449034075987179626789594095612148516425498624\u0026#34; } ], \u0026#34;searchedLogStreams\u0026#34;: [ { \u0026#34;logStreamName\u0026#34;: \u0026#34;test-stream-001\u0026#34;, \u0026#34;searchedCompletely\u0026#34;: true } ] } ã¨ã„ã†ã“ã¨ãªã®ã§ã€é€ä¿¡ã—ãŸå¾Œã®ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã®ãã®å¾Œã®æ‰±ã„æ–¹ã‚’è€ƒãˆã‚‹ã¨ã€ JSON å½¢å¼ã§é€ä¿¡ã—ã¦ãŠã„ãŸæ–¹ãŒä¾¿åˆ©ãªã‚ˆã†ãªæ°—ãŒã—ã¾ã™ã€‚\nã¾ã¨ã‚ AWS CLI ã§ã® CloudWatch Logs ã®æ“ä½œã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nå®Ÿéš›ã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ãƒ­ã‚°ã‚’é€ä¿¡ã™ã‚‹éš›ã«ã¯ã€é©åº¦ãªç²’åº¦ã§ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’ä½œæˆã—ãŸã‚Šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä»Šå›ã¯ CLI ã§è©¦ã—ã¾ã—ãŸãŒã€å„è¨€èªã® SDK ã§å®Ÿè£…ã™ã‚‹å ´åˆã«ã‚‚ã€åŸºæœ¬çš„ã«ã¯ã“ã‚“ãªæ„Ÿã˜ã®æ“ä½œã«ãªã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚\nã‚„ã£ã±ã‚Š CLI ã§æ“ä½œã™ã‚‹æ¥½ã—ã•ã£ã¦ä½•ã‹ç‰¹åˆ¥ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã‚ˆã­ã€‚\n",
    "permalink": "https://michimani.net/post/use-cloudwatch-via-aws-cli/",
    "title": "AWS CLI ã§ CloudWatch Logs ã«ãƒ­ã‚°ã‚’é€ä¿¡ã™ã‚‹"
  },
  {
    "contents": "Visual Studio Code ã§ markdown ã‚’æ›¸ãéš›ã«ã€ã„ã„æ„Ÿã˜ã«ç›®æ¬¡ã‚’ä½œæˆã—ã¦ãã‚Œã‚‹ã®ãŒ Markdown TOC ã¨ã„ã†æ‹¡å¼µæ©Ÿèƒ½ã§ã™ã€‚ãã® Markdown TOC ãŒä¸Šæ‰‹ãå‹•ä½œã—ãªã‹ã£ãŸã®ã§ã€ãã®å¯¾å‡¦æ–¹æ³•ã«ã¤ã„ã¦æ›¸ãã¾ã™ã€‚\nMarkdown TOC å†’é ­ã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€ Visual Studio Code ã§ markdown ã‚’æ›¸ãã¨ãã«ç›®æ¬¡ã‚’è‡ªå‹•ç”Ÿæˆã—ã¦ãã‚Œã‚‹æ‹¡å¼µæ©Ÿèƒ½ã§ã™ã€‚\næœ€è¿‘ã§ã¯ãƒ–ãƒ­ã‚°ã‚’ markdown ã§æ›¸ãã“ã¨ã‚‚å¤šã„ã¨æ€ã„ã¾ã™ã€‚ã“ã®ãƒ–ãƒ­ã‚°ã‚‚ Hugo ã‚’ä½¿ã£ã¦ã„ã¾ã™ãŒã€ãƒ–ãƒ­ã‚°è¨˜äº‹ã¯ markdown ã§æ›¸ã„ã¦ã„ã¾ã™ã€‚æ™®é€šã® markdown æ–‡æ›¸ã§ã‚ã‚Œã°ç›®æ¬¡ã¯ä¸è¦ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ãƒ–ãƒ­ã‚°ã¨ãªã‚‹ã¨ç›®æ¬¡ã‚’ã¤ã‘ãŸãã‚‚ãªã‚Šã¾ã™ã€‚\nãã‚“ãªæ™‚ã«ä¾¿åˆ©ãªã®ãŒã€ Markdown TOC ã¨ã„ã†ã‚ã‘ã§ã™ã€‚\nmarkdown å†…ã«ã‚ã‚‹è¦‹å‡ºã— (#) ã‚’ã‚‚ã¨ã«ã€ä»»æ„ã®å ´æ‰€ã«ç›®æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—ã¦ãã‚Œã¾ã™ã€‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã€æŒ¿å…¥ã•ã‚ŒãŸç›®æ¬¡ã‹ã‚‰å„è¦‹å‡ºã—ã¸ã®ãƒªãƒ³ã‚¯ã‚‚ä»˜ä¸ã§ãã¾ã™ã€‚\nã¡ãªã¿ã« Visual Studio Code ã®æ‹¡å¼µæ©Ÿèƒ½æ¤œç´¢ã§ ã€ŒMarkdown TOCã€ã‚’æ¤œç´¢ã™ã‚‹ã¨è¤‡æ•°ã§ã¦ãã¾ã™ãŒã€ä»Šå›è§¦ã‚Œã¦ã„ã‚‹ã®ã¯ AlanWalk ã•ã‚“ã® Markdown TOC ã§ã™ã€‚\nAlanWalk/markdown-toc: MarkdownTOC(Table Of Contents) Plugin for Visual Studio Code. èµ·ã“ã£ãŸã“ã¨ ã“ã‚“ãª markdown ãŒã‚ã£ãŸã¨ã—ã¦ã€ã“ã‚Œã«ç›®æ¬¡ã‚’æŒ¿å…¥ã—ã¾ã™ã€‚\nMarkdown TOC ã¯ã€ç›®æ¬¡ã‚’æŒ¿å…¥ã—ãŸã„ä½ç½®ã«ã‚«ãƒ¼ã‚½ãƒ«ã‚’ç§»å‹•ã•ã›ã¦ã€ãã“ã§ ^ + M, T ã‚’æŠ¼ã™ã¨ç›®æ¬¡ã®ã‚³ãƒ¼ãƒ‰ãŒæŒ¿å…¥ã•ã‚Œã¾ã™ã€‚ä¸Šã® markdown ã§ã‚ã‚Œã°æ¬¡ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãŒæŒ¿å…¥ã•ã‚Œã¾ã™ã€‚\n\u0026lt;!-- TOC --\u0026gt; - [Markdown TOC](#markdown-toc) - [èµ·ã“ã£ãŸã“ã¨](#èµ·ã“ã£ãŸã“ã¨) - [å¯¾å‡¦æ–¹æ³•](#å¯¾å‡¦æ–¹æ³•) - [ã¾ã¨ã‚](#ã¾ã¨ã‚) \u0026lt;!-- /TOC --\u0026gt; ã—ã‹ã—ã€å®Ÿéš›ã«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸã¨ã“ã‚ã€æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\n\u0026lt;!-- TOC --\u0026gt;autoauto- [header 1](#header-1)auto - [header 1 - 1](#header-1---1)auto - [header 1 - 2](#header-1---2)auto- [header 2](#header-2)auto - [header 2 - 1](#header-2---1)auto - [header 2 - 1 - 1](#header-2---1---1)autoauto\u0026lt;!-- /TOC --\u0026gt; # ã¯èªè­˜ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ãŒã€æŒ¿å…¥ã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ãŒæ®‹å¿µãªã“ã¨ã«ãªã£ã¦ã¾ã™ã€‚\nå¯¾å‡¦æ–¹æ³• AlanWalk/Markdown-TOC ã® issue ã«è§£æ±ºæ–¹æ³•ãŒã‚ã‚Šã¾ã—ãŸã€‚\n\u0026amp;ldquo;auto\u0026amp;rdquo; inserted instead of line breaks in TOC Â· Issue #65 Â· AlanWalk/markdown-toc ã©ã†ã‚„ã‚‰ Visual Studio Code ã®è¨­å®šã§ãƒ•ã‚¡ã‚¤ãƒ«ã® EOL ãŒ auto ã«ãªã£ã¦ã„ã‚‹ã¨ç™ºç”Ÿã™ã‚‹ã‚ˆã†ã§ã™ã€‚\nç¢ºèªã—ãŸã¨ã“ã‚ã€ç¢ºã‹ã« auto ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚\nã“ã‚Œã‚’ \\n ã«å¤‰æ›´ã—ã¾ã™ã€‚\nãã—ã¦ã‚‚ã†ä¸€åº¦å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨ã€æ­£ã—ãç›®æ¬¡ã‚³ãƒ¼ãƒ‰ãŒæŒ¿å…¥ã•ã‚Œã¾ã—ãŸã€‚\nã¾ã¨ã‚ Visual Studio Code ã®æ‹¡å¼µæ©Ÿèƒ½ Markdown TOC ãŒä¸Šæ‰‹ãå‹•ä½œã—ãªã‹ã£ãŸã¨ãã®å¯¾å‡¦æ–¹æ³•ã«ã¤ã„ã¦ã®è©±ã§ã—ãŸã€‚\nã“ã® Markdown TOC ã¯ã€å…ˆã«ç›®æ¬¡ã‚³ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—ã¦ãŠã‘ã°ã€ã‚ã¨ã‹ã‚‰è¿½åŠ ã—ãŸè¦‹å‡ºã—ã®åˆ†ã‚‚è‡ªå‹•ã§ã‚³ãƒ¼ãƒ‰ã‚’è¿½è¨˜ã—ã¦ãã‚Œã¾ã™ã€‚ã¾ãŸã€ç›®æ¬¡ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã™ã‚‹è¦‹å‡ºã—ã®æ·±ã•ã‚„ã€ãƒªã‚¹ãƒˆã«ã™ã‚‹æ™‚ã«ãƒãƒ¼ã‚«ãƒ¼ã«ã™ã‚‹ã®ã‹é€£ç•ªã«ã™ã‚‹ã®ã‹ã‚‚è¨­å®šã§ãã¾ã™ã€‚\nHugo ã‚‚ã—ãã¯ãã®ä»–ã®é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã§ãƒ–ãƒ­ã‚°ã‚’æ›¸ã„ã¦ã„ã‚‹æ–¹ã¯ã»ã¨ã‚“ã© markdown ã§è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã‚‹ã¨æ€ã†ã®ã§ã€ã‚‚ã—ã‚¨ãƒ‡ã‚£ã‚¿ã« Visual Studio Code ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ã‚ã‚Œã° Markdown TOC ã¯ãŠã™ã™ã‚ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/vscode-markdown-toc-problem/",
    "title": "Visual Studio Code ã®æ‹¡å¼µæ©Ÿèƒ½ã€ŒMarkdown TOCã€ãŒä¸Šæ‰‹ãå‹•ä½œã—ãªã‹ã£ãŸæ™‚ã®å¯¾å‡¦æ–¹æ³•"
  },
  {
    "contents": "AWS Loft Tokyo ã§é–‹å‚¬ã•ã‚ŒãŸ çŸ¥ã£å¾—ãƒãƒ³ã‚ºã‚ªãƒ³ ã¯ã˜ã‚ã¦ã®ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ - Amazon Personalize ã«å‚åŠ ã—ã¦ããŸã®ã§ã€ãã®ãƒ¬ãƒãƒ¼ãƒˆãƒ»ãƒ¡ãƒ¢ã§ã™ã€‚\néå»ã«å‚åŠ ã—ãŸçŸ¥ã£å¾—ãƒãƒ³ã‚ºã‚ªãƒ³ãƒ¬ãƒã¯ã“ã¡ã‚‰ã€‚\nç›®æ¬¡ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« åº§å­¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ ãƒãƒ³ã‚ºã‚ªãƒ³ ã¾ã¨ã‚ ãŠã¾ã‘ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« 18:00 - 18:30 å—ä»˜ 18:30 - 19:00 åº§å­¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ 19:00 - 20:30 ãƒãƒ³ã‚ºã‚ªãƒ³ (å„è‡ªé»™ã€…ã¨ã‚„ã‚‹æ„Ÿã˜) 20:30 - 21:00 è³ªå•ãªã© åº§å­¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ æœ€åˆã¯åº§å­¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¨ã„ã†ã“ã¨ã§ã€ä»Šå›ã‚„ã‚‹ãƒãƒ³ã‚ºã‚ªãƒ³ã®èª¬æ˜ã¨ã€\nä»¥ä¸‹ã€åº§å­¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒ¡ãƒ¢ã§ã™ã€‚\næ©Ÿæ¢°å­¦ç¿’ ã¨ AI ã®è¨€è‘‰ã®é•ã„ æ©Ÿæ¢°å­¦ç¿’ ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®è‚²æˆ æŠ•è³‡ãƒ•ã‚§ãƒ¼ã‚º ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ãƒ†ã‚£ã‚¹ãƒˆ SageMaker AI ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ã‚‚ã¨ã«ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ä½œæˆ å›åãƒ•ã‚§ãƒ¼ã‚º ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ Recognition, Polly ãªã© Amazon Personalize å€‹äººåŒ–æ¨è–¦ (\u0026lt;\u0026gt; éå€‹äººåŒ–æ¨è–¦) å”èª¿ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã§å®Ÿè£… é ‘å¼µã‚Œã¯ Excel, SQL ã§ã‚‚å®Ÿè£…ã§ãã‚‹ ãƒ‡ãƒ¼ã‚¿ãŒå¢—ãˆã‚‹ã¨å†è¨ˆç®—ã«æ™‚é–“ãŒã‹ã‹ã‚‹ æƒ…å ±ãŒå°‘ãªã„ã¨ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ã®ç²¾åº¦ãŒä½ã„ (ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆ) Personalize ã¯ Deep Learning ãƒ™ãƒ¼ã‚¹ (Amazon.com ã¨åŒæ§˜) å±æ€§æƒ…å ±ã€ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¹ãƒˆãƒªãƒ¼ãƒ  ã¨ã„ã† 3 ã¤ã®æƒ…å ±ã‹ã‚‰ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚º å•†å“çŠ¶æ…‹ãŒé »ç¹ã«å¤‰ã‚ã‚‹å ´åˆã¯ ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¹ãƒˆãƒªãƒ¼ãƒ  ã‚’ã‚ªãƒ³ã«ã™ã‚‹ ã“ã‚Œã‚‰ã‚’å…ƒã«å­¦ç¿’ã•ã›ã‚‹ã¨ã€ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ç”¨ã® API ãŒå®Œæˆã™ã‚‹ inreractions, items, users å±æ€§ã®ã†ã¡ã€ interaction ã® CSV ã ã‘å­¦ç¿’å¯èƒ½ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ å†å­¦ç¿’ã®é »åº¦ã«ã¤ã„ã¦ã¯å…¬é–‹ã•ã‚Œã¦ã„ãªã„ ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ãŒ 1,000 ä»¶ã‚’è¶…ãˆãŸã‚‰å†å­¦ç¿’ã•ã‚Œã‚‹ ãƒ‡ãƒ¼ã‚¿ãŒå¢—ãˆãªã„å ´åˆã¯ã„ã¤ã¾ã§ãŸã£ã¦ã‚‚å†å­¦ç¿’ã•ã‚Œãªã„ (æ‰‹å‹•ã§ã‚„ã‚‹) ã‚³ãƒ³ã‚½ãƒ¼ãƒ« (English only) ã¾ãŸã¯ API ã§ãƒ¢ãƒ‡ãƒ«ã‚’å­¦ç¿’ ãƒ‡ãƒ¼ã‚¿ã®æŠ•å…¥ ãƒ‘ãƒ¼ã‚¹ å­¦ç¿’ æ¨è«–ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ç”Ÿæˆ (ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ ã¨å‘¼ã¶ã€‚ä¸€èˆ¬çš„ãªæ©Ÿæ¢°å­¦ç¿’ç”¨èªã§ã¯ã€ æ¨è«–ãƒ¢ãƒ‡ãƒ«ã®ãƒ‡ãƒ—ãƒ­ã‚¤ ) å†…è”µã•ã‚Œã¦ã„ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯å¤§ãã 4 ã¤ Search Personalization Related Items User Personalization HRNN é¡ä¼¼ã‚µãƒ¼ãƒ“ã‚¹ Amazon Forecast : ç²¾åº¦ã®é«˜ã„æ™‚ç³»åˆ—äºˆå ±ã‚µãƒ¼ãƒ“ã‚¹ (ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼) ãƒãƒ³ã‚ºã‚ªãƒ³ ãƒ¦ãƒ¼ã‚µã‚™ãƒ¼ 610 äººã«ã‚ˆã‚‹ 9,700 æœ¬ã®æ˜ ç”»è¦–è´å±¥æ­´ã¨ãã®è©•ä¾¡ã®ãƒ‡ãƒ¼ã‚¿ (ç´„ 10 ä¸‡ä»¶) ã‚’ã‚‚ã¨ã«ã€ã‚ªã‚¹ã‚¹ãƒ¡ã®æ˜ ç”»ã‚’ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ã—ã¦ãã‚Œã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½œã‚‹ã¨ã„ã†ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã—ãŸã€‚\nãƒ‡ãƒ¼ã‚¿ã¯ CSV å½¢å¼ã§é…å¸ƒã•ã‚ŒãŸã®ã§ã€ãã‚Œã‚’åˆ©ç”¨ã—ã¾ã—ãŸã€‚\nå¤§ã¾ã‹ãªæµã‚Œã¨ã—ã¦ã¯æ¬¡ã®ã‚ˆã†ãªæ„Ÿã˜ã§ã™ã€‚\nS3 ã«å­¦ç¿’ç”¨ãƒ‡ãƒ¼ã‚¿ (é…å¸ƒã•ã‚ŒãŸ CSV) ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ Amazon Personalize ã«ã¦ S3 ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ (ç´„ 20 åˆ†) èª­ã¿è¾¼ã‚“ã ãƒ‡ãƒ¼ã‚¿ã‚’ã‚‚ã¨ã«å­¦ç¿’ (ç´„ 50 åˆ†) å­¦ç¿’çµæœã‚’å…ƒã« ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã‚’ä½œæˆ (æ¨è«–ãƒ¢ãƒ‡ãƒ«ã®ãƒ‡ãƒ—ãƒ­ã‚¤) ä½œæˆã—ãŸã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã‚’ä½¿ã£ã¦æ¨è«–ç’°å¢ƒã‚’æ§‹ç¯‰ (ç´„ 15 åˆ†) æ¨è«–ç’°å¢ƒã‹ã‚‰ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰çµæœã‚’å–å¾— ã“ã‚“ãªã«ç°¡å˜ã«æ¨è«–ç’°å¢ƒãŒã§ãã¦ã—ã¾ã†ã®ã‹ï¼Ÿã£ã¦ã„ã†ãã‚‰ã„ã‚·ãƒ³ãƒ—ãƒ«ãªæ‰‹é †ã§ã—ãŸã€‚\nçµ‚å§‹ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ã®æ“ä½œã§ã—ãŸãŒã€ãƒ•ãƒ­ãƒ¼ã¨ã—ã¦ã¯ä¸‹å›³ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ã‚ã‚‹ 4 ãƒ•ãƒ­ãƒ¼ã§ã™ã€‚\næ§‹ç¯‰ã—ãŸæ¨è«–ç’°å¢ƒã¯ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ã‚‚ãƒ†ã‚¹ãƒˆã§ãã¾ã™ã€‚\nã‚‚ã¡ã‚ã‚“ CLI ã‹ã‚‰ã‚‚å®Ÿè¡Œå¯èƒ½ã§ã™ã€‚\n$ aws personalize-runtime get-recommendations \\ --campaign-arn arn:aws:personalize:us-east-1:12345678XXXX:campaign/20190819-handson-campaign \\ --user-id 123 \\ --region us-east-1 { \u0026#34;itemList\u0026#34;: [ { \u0026#34;itemId\u0026#34;: \u0026#34;63992\u0026#34; }, { \u0026#34;itemId\u0026#34;: \u0026#34;166528\u0026#34; }, ... ç•¥ ... { \u0026#34;itemId\u0026#34;: \u0026#34;109374\u0026#34; }, { \u0026#34;itemId\u0026#34;: \u0026#34;47610\u0026#34; } ] } ã¾ã¨ã‚ AWS ã®ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ Amazon Personalize ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã«å‚åŠ ã—ã¦ããŸè©±ã§ã—ãŸã€‚\nAmazon Personalize ã«é–¢ã—ã¦ã¯æ™®æ®µã®æ¥­å‹™ã§ã¯ä½¿ã†æ©Ÿä¼šãŒãªã„ã®ã§ã€ã“ã®ã‚ˆã†ãªãƒãƒ³ã‚ºã‚ªãƒ³ã‚’é–‹å‚¬ã—ã¦ã„ãŸã ã‘ã‚‹ã®ã¯ã¨ã¦ã‚‚å¬‰ã—ã„é™ã‚Šã§ã™ã€‚\nä»Šå›ã¯å­¦ç¿’ç”¨ã®ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚‰ã‹ã˜ã‚ç”¨æ„ã•ã‚Œã¦ã„ãŸã®ã§ã€ãã‚Œã‚’å…ƒã«ã—ã¦ç°¡å˜ã«æ¨è«–ç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒã§ãã€ã•ã‚‰ã«ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰çµæœã‚‚ç°¡å˜ã«å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚åº§å­¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ä¸­ã§ã‚‚ã‚ã£ãŸã‚ˆã†ã«ã€ æ©Ÿæ¢°å­¦ç¿’ ã¨ AI ã¨ã„ã†è¨€è‘‰ã®é•ã„ã¯è‡ªåˆ†ã®ä¸­ã§ã‚‚ã—ã£ã‹ã‚Šã¨æ„è­˜ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã—ãŸã€‚Amazon Personalize ã«é–¢ã—ã¦ã¯ AI ã®ç¯„å›²ã«ã‚ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ãªã®ã§ã€å­¦ç¿’ã®éƒ¨åˆ†ã‚’æ„è­˜ã›ãšã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å†…ã§ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ãŒç°¡å˜ã«ä½¿ãˆã‚‹ã¨ã„ã†ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚ä¸€æ–¹ã§å­¦ç¿’ç”¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’æº–å‚™ã™ã‚‹ã®ãŒå¤§å¤‰ã‹ãªã¨ã„ã†å°è±¡ã§ã—ãŸã€‚\næ¥­å‹™ã§ã¯ä½¿ã†ã“ã¨ãŒãªã•ãã†ã§ã™ãŒã€é¢ç™½ã„ã‚µãƒ¼ãƒ“ã‚¹ã ãªã¨æ€ã„ã¾ã—ãŸã€‚\nãŠã¾ã‘ ä»Šå›ã¯ã¡ã‚‡ã£ã¨å¾…ã¡æ™‚é–“ãŒå¤šã‹ã£ãŸã®ãŒå°‘ã—æ®‹å¿µã§ã—ãŸã€‚ãƒãƒ³ã‚ºã‚ªãƒ³ã®æµã‚Œã§ã‚‚æ›¸ãã¾ã—ãŸãŒã€ 2 ã€ 3 ã€ 5 ã§å¾…ã¡æ™‚é–“ãŒç™ºç”Ÿã—ã¾ã™ã€‚\nãŸã ã€ãã®é–“ã¯ AWS ã®ä»–ã®ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ Amazon Rekognition ã§éŠã‚“ã ã‚Šã—ã¦ã„ã¾ã—ãŸã€‚Amazon Rekognition ã¯ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã ã‘ã§æ©Ÿèƒ½ã‚’è©¦ã™ã“ã¨ãŒã§ãã‚‹ã®ã§ã€æ°—ã«ãªã‚‹æ–¹ã¯ä½¿ã£ã¦ã¿ã¦ãã ã•ã„ã€‚\nå®Ÿéš›ã«å¾—ã‚‰ã‚Œã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (JSON) ã‚‚ç¢ºèªã§ãã¾ã™ã€‚\n{ \u0026#34;Labels\u0026#34;: [ { \u0026#34;Name\u0026#34;: \u0026#34;Meal\u0026#34;, \u0026#34;Confidence\u0026#34;: 94.69331359863281, \u0026#34;Instances\u0026#34;: [], \u0026#34;Parents\u0026#34;: [ { \u0026#34;Name\u0026#34;: \u0026#34;Food\u0026#34; } ] }, { \u0026#34;Name\u0026#34;: \u0026#34;Dish\u0026#34;, \u0026#34;Confidence\u0026#34;: 94.69331359863281, \u0026#34;Instances\u0026#34;: [], \u0026#34;Parents\u0026#34;: [ { \u0026#34;Name\u0026#34;: \u0026#34;Meal\u0026#34; }, { \u0026#34;Name\u0026#34;: \u0026#34;Food\u0026#34; } ] }, { \u0026#34;Name\u0026#34;: \u0026#34;Food\u0026#34;, \u0026#34;Confidence\u0026#34;: 94.69331359863281, \u0026#34;Instances\u0026#34;: [], \u0026#34;Parents\u0026#34;: [] }, { \u0026#34;Name\u0026#34;: \u0026#34;Curry\u0026#34;, \u0026#34;Confidence\u0026#34;: 66.77191162109375, \u0026#34;Instances\u0026#34;: [], \u0026#34;Parents\u0026#34;: [ { \u0026#34;Name\u0026#34;: \u0026#34;Food\u0026#34; } ] }, { \u0026#34;Name\u0026#34;: \u0026#34;Gravy\u0026#34;, \u0026#34;Confidence\u0026#34;: 57.303733825683594, \u0026#34;Instances\u0026#34;: [], \u0026#34;Parents\u0026#34;: [ { \u0026#34;Name\u0026#34;: \u0026#34;Food\u0026#34; } ] }, { \u0026#34;Name\u0026#34;: \u0026#34;Bowl\u0026#34;, \u0026#34;Confidence\u0026#34;: 56.948299407958984, \u0026#34;Instances\u0026#34;: [], \u0026#34;Parents\u0026#34;: [] } ], \u0026#34;LabelModelVersion\u0026#34;: \u0026#34;2.0\u0026#34; } ",
    "permalink": "https://michimani.net/post/aws-handson-hajimete-personalize/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] çŸ¥ã£å¾—ãƒãƒ³ã‚ºã‚ªãƒ³ ã¯ã˜ã‚ã¦ã®ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ - Amazon Personalize @ AWS Loft Tokyo ã«è¡Œã£ã¦ãã¾ã—ãŸ"
  },
  {
    "contents": "GA ã«ãªã£ã¦ã‹ã‚‰é–“ã‚‚ãªã„ AWS CDK ã§ã™ãŒã€æ—¢ã«ãã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 1.3.0 ã«ãªã£ã¦ã„ã¾ã™ã€‚ãã‚“ãª AWS CDK ã‚’ä½¿ã£ã¦ã€ç‰¹å®šã®ã‚¿ã‚°ã‚’æŒã¤ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®è‡ªå‹•èµ·å‹•ãƒ»åœæ­¢ã‚’ã™ã‚‹ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã¿ã¾ã—ãŸã€‚\næ¦‚è¦ CDK ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« Lambda CloudWatch Events CloudFormation ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å‡ºåŠ›ã—ã¦ã¿ã‚‹ ãƒ‡ãƒ—ãƒ­ã‚¤ ã¾ã¨ã‚ ä»Šå›ä½œã£ãŸã‚‚ã® æ¦‚è¦ ç‰¹å®šã®ã‚¿ã‚°åã¨å€¤ã‚’æŒã¤ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è‡ªå‹•ã§åœæ­¢ãƒ»èµ·å‹•ã•ã›ã‚‹ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚\nè‡ªå‹•åœæ­¢ãƒ»èµ·å‹•ã®å‡¦ç†ã¯ Lambda ã§å®Ÿè£…ã—ã€ãã‚Œã‚’ CloudWatch Events ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å®šæœŸçš„ã«å®Ÿè¡Œã—ã¾ã™ã€‚ã“ã®æ–¹æ³•è‡ªä½“ã¯ä»¥å‰ã«ã‚‚æ›¸ã„ãŸé€šã‚Šã§ã™ãŒã€ä»Šå›ã¯ Lambda é–¢æ•°ã®ä½œæˆã‚„ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®è¨­å®šãªã©ã®ç’°å¢ƒæ§‹ç¯‰ã‚’ AWS CDK ã§ã‚„ã£ã¦ã—ã¾ãŠã† ã¨ã„ã†è©±ã§ã™ã€‚\nCDK ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ ãã‚Œã§ã¯æ—©é€Ÿ AWS CDK ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚\nAWS CDK ã«ã¤ã„ã¦ã¯å…¬å¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€ãŠã‚ˆã³ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’ã”å‚ç…§ãã ã•ã„ã€‚\nWhat Is the AWS CDK? - AWS Cloud Development Kit (AWS CDK) API Reference Â· AWS CDK CDK ã¯ã“ã®è¨˜äº‹ä½œæˆæ™‚ç‚¹ã§æœ€æ–°ã® 1.3.0 ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\n$ cdk --version 1.3.0 (build bba9914) TypeScript ã§å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚\n$ mkdir auto-start-stop-ec2 $ cd auto-start-stop-ec2 $ cdk init app --language=typescript Applying project template app for typescript Initializing a new git repository... Executing npm install... ... # Useful commands * `npm run build` compile typescript to js * `npm run watch` watch for changes and compile * `cdk deploy` deploy this stack to your default AWS account/region * `cdk diff` compare deployed stack with current state * `cdk synth` emits the synthesized CloudFormation template æ¬¡ã®ã‚ˆã†ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆãŒã§ãã‚ãŒã‚Šã¾ã™ã€‚\n. â”œâ”€â”€ README.md â”œâ”€â”€ bin â”‚Â â””â”€â”€ auto-start-stop-ec2.ts â”œâ”€â”€ cdk.json â”œâ”€â”€ lib â”‚Â â””â”€â”€ auto-start-stop-ec2-stack.ts â”œâ”€â”€ node_modules â”‚Â â”œâ”€â”€ @aws-cdk ... â”œâ”€â”€ package-lock.json â”œâ”€â”€ package.json â””â”€â”€ tsconfig.json ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã¾ãšã¯å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\nCDK ã§ã¯ã€ã‚³ã‚¢ã¨ãªã‚‹ @aws-cdk/core ã®ä»–ã«ã€å¿…è¦ã¨ãªã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\n$ npm install @aws-cdk/aws-events @aws-cdk/aws-events-targets @aws-cdk/aws-lambda @aws-cdk/aws-iam æº–å‚™ãŒæ•´ã£ãŸã®ã§ã€ lib/auto-start-stop-ec2-stack.ts ã‚’ç·¨é›†ã—ã¦å¿…è¦ãªãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nLambda ã¾ãšã¯ Lambda é–¢æ•°ã§ã™ã€‚\nä»Šå›ã¯äºˆã‚ Python ã§æ›¸ã‹ã‚ŒãŸ Lambda é–¢æ•°ç”¨ã® auto-start-stop-ec2.py ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€æ–°ãŸã«ä½œæˆã—ãŸ lambda/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç”¨æ„ã—ã¦ãŠãã€ãã‚Œã‚’ä½¿ã†ã‚ˆã†ã«å®Ÿè£…ã—ã¾ã™ã€‚\nã¾ãŸã€ Lambda ã§ã¯ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®èµ·å‹•ã¨åœæ­¢ã‚’å®Ÿè¡Œã™ã‚‹ã®ã§ã€å¿…è¦ãª IAM ãƒãƒªã‚·ãƒ¼ã‚‚ä»˜ä¸ã—ã¾ã™ã€‚\nconst lambdaFn = new lambda.Function(this, \u0026#39;singleton\u0026#39;, { code: new lambda.InlineCode(fs.readFileSync(\u0026#39;lambda/auto-start-stop-ec2.py\u0026#39;, {encoding: \u0026#39;utf-8\u0026#39;})), handler: \u0026#39;index.main\u0026#39;, timeout: cdk.Duration.seconds(300), runtime: lambda.Runtime.PYTHON_3_7, }); lambdaFn.addToRolePolicy(new iam.PolicyStatement({ actions: [ \u0026#39;ec2:DescribeInstances\u0026#39;, \u0026#39;ec2:StartInstances\u0026#39;, \u0026#39;ec2:StopInstances\u0026#39; ], resources: [\u0026#39;*\u0026#39;] })); ã¡ãªã¿ã«å¤–éƒ¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€éš›ã®ãƒ‘ã‚¹ã¯ã€ CDK ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ã®ç›¸å¯¾ãƒ‘ã‚¹ã«ãªã‚Šã¾ã™ã€‚ã“ã® lib/*.ts ã‹ã‚‰ã®ç›¸å¯¾ãƒ‘ã‚¹ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nCloudWatch Events ç¶šã„ã¦ã€ Lammda é–¢æ•°ã‚’å®šæœŸå®Ÿè¡Œã™ã‚‹ãŸã‚ã® CloudWatch Events ã‚’å®Ÿè£…ã—ã¾ã™ã€‚\nconst stackConfig = JSON.parse(fs.readFileSync(\u0026#39;stack.config.json\u0026#39;, {encoding: \u0026#39;utf-8\u0026#39;})); // STOP EC2 instances rule const stopRule = new events.Rule(this, \u0026#39;StopRule\u0026#39;, { schedule: events.Schedule.expression(`cron(${stackConfig.events.cron.stop})`) }); stopRule.addTarget(new targets.LambdaFunction(lambdaFn, { event: events.RuleTargetInput.fromObject({Region: stackConfig.targets.ec2region, Action: \u0026#39;stop\u0026#39;}) })); // START EC2 instances rule const startRule = new events.Rule(this, \u0026#39;StartRule\u0026#39;, { schedule: events.Schedule.expression(`cron(${stackConfig.events.cron.start})`) }); startRule.addTarget(new targets.LambdaFunction(lambdaFn, { event: events.RuleTargetInput.fromObject({Region: stackConfig.targets.ec2region, Action: \u0026#39;start\u0026#39;}) })); CloudWatch Events ã®å®šç¾©ã¨ã—ã¦ã¯ã€ã¾ãš events.Rule ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã€ addTarget() ãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ (ä»Šå›ã®å ´åˆã¯ Lambda é–¢æ•°) ã‚’è¿½åŠ ã™ã‚‹ã¨ã„ã†å½¢ã«ãªã‚Šã¾ã™ã€‚\ntargets.LambdaFunction ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®ç¬¬ 2 å¼•æ•°ã¯ä»»æ„ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ã€ CloudWatch Events ã§ Lambda é–¢æ•°ã‚’å‘¼ã¶æ™‚ã®å¼•æ•°ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nä»Šå›ã¯ èµ·å‹•ã¨åœæ­¢ã®æ™‚é–“ã€å¯¾è±¡ã¨ãªã‚‹ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒã‚ã‚‹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ stack.config.json ã¨ã„ã† JSON ãƒ•ã‚¡ã‚¤ãƒ«å†…ã§å®šç¾©ã—ã¦ãŠã„ã¦ã€ãã®å€¤ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nã¡ãªã¿ã«ã“ã“ã§ã‚‚æŒ‡å®šã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã¯ã€ CDK ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ã®ç›¸å¯¾ãƒ‘ã‚¹ã«ãªã‚Šã¾ã™ã€‚\n{ \u0026#34;events\u0026#34;: { \u0026#34;cron\u0026#34;: { \u0026#34;start\u0026#34;: \u0026#34;55 23 ? * SUN-THU *\u0026#34;, \u0026#34;stop\u0026#34;: \u0026#34;0 12 ? * * *\u0026#34; } }, \u0026#34;targets\u0026#34;: { \u0026#34;ec2region\u0026#34;: \u0026#34;ap-northeast-1\u0026#34; } } ã“ã‚Œã§ CDK ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£…ã¯å®Œäº†ã§ã™ã€‚ auto-start-stop-ec2-stack.ts ã®å…¨ä½“ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªæ„Ÿã˜ã§ã™ã€‚\nimport events = require(\u0026#39;@aws-cdk/aws-events\u0026#39;); import iam = require(\u0026#39;@aws-cdk/aws-iam\u0026#39;); import lambda = require(\u0026#39;@aws-cdk/aws-lambda\u0026#39;); import targets = require(\u0026#39;@aws-cdk/aws-events-targets\u0026#39;); import cdk = require(\u0026#39;@aws-cdk/core\u0026#39;); import fs = require(\u0026#39;fs\u0026#39;); export class AutoStartStopEc2Stack extends cdk.Stack { constructor (app: cdk.App, id: string) { super(app, id); const stackConfig = JSON.parse(fs.readFileSync(\u0026#39;stack.config.json\u0026#39;, {encoding: \u0026#39;utf-8\u0026#39;})); const lambdaFn = new lambda.Function(this, \u0026#39;singleton\u0026#39;, { code: new lambda.InlineCode(fs.readFileSync(\u0026#39;lambda/auto-start-stop-ec2.py\u0026#39;, {encoding: \u0026#39;utf-8\u0026#39;})), handler: \u0026#39;index.main\u0026#39;, timeout: cdk.Duration.seconds(300), runtime: lambda.Runtime.PYTHON_3_7, }); lambdaFn.addToRolePolicy(new iam.PolicyStatement({ actions: [ \u0026#39;ec2:DescribeInstances\u0026#39;, \u0026#39;ec2:StartInstances\u0026#39;, \u0026#39;ec2:StopInstances\u0026#39; ], resources: [\u0026#39;*\u0026#39;] })); // STOP EC2 instances rule const stopRule = new events.Rule(this, \u0026#39;StopRule\u0026#39;, { schedule: events.Schedule.expression(`cron(${stackConfig.events.cron.stop})`) }); stopRule.addTarget(new targets.LambdaFunction(lambdaFn, { event: events.RuleTargetInput.fromObject({Region: stackConfig.targets.ec2region, Action: \u0026#39;stop\u0026#39;}) })); // START EC2 instances rule const startRule = new events.Rule(this, \u0026#39;StartRule\u0026#39;, { schedule: events.Schedule.expression(`cron(${stackConfig.events.cron.start})`) }); startRule.addTarget(new targets.LambdaFunction(lambdaFn, { event: events.RuleTargetInput.fromObject({Region: stackConfig.targets.ec2region, Action: \u0026#39;start\u0026#39;}) })); } } ã‚ã¨ã¯ npm run build ã‚’å®Ÿè¡Œã—ã¦å®Œäº†ã§ã™ã€‚\nCloudFormation ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å‡ºåŠ›ã—ã¦ã¿ã‚‹ CDK ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦å®Ÿè£…ã—ãŸ auto-start-stop-ec2-stack.ts ã¯ã€æœ€çµ‚è¡Œã®ç©ºè¡Œã‚‚å«ã‚ã¦ã¡ã‚‡ã†ã© 50 è¡Œã§ã—ãŸã€‚\nã“ã‚Œã‚’ CloudFormation ã® template (yaml) ã¨ã—ã¦å‡ºåŠ›ã—ã¦ã¿ã¾ã™ã€‚\n$ cdk synth Resources: singletonServiceRole9C9ECF4A: Type: AWS::IAM::Role Properties: AssumeRolePolicyDocument: Statement: - Action: sts:AssumeRole Effect: Allow Principal: Service: Fn::Join: - \u0026#34;\u0026#34; - - lambda. - Ref: AWS::URLSuffix Version: \u0026#34;2012-10-17\u0026#34; ManagedPolicyArns: - Fn::Join: - \u0026#34;\u0026#34; - - \u0026#34;arn:\u0026#34; - Ref: AWS::Partition - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole Metadata: aws:cdk:path: AutoStartStopEc2Stack/singleton/ServiceRole/Resource singletonServiceRoleDefaultPolicyFDD8CA90: Type: AWS::IAM::Policy Properties: PolicyDocument: Statement: - Action: - ec2:DescribeInstances - ec2:StartInstances - ec2:StopInstances Effect: Allow Resource: \u0026#34;*\u0026#34; Version: \u0026#34;2012-10-17\u0026#34; PolicyName: singletonServiceRoleDefaultPolicyFDD8CA90 Roles: - Ref: singletonServiceRole9C9ECF4A Metadata: aws:cdk:path: AutoStartStopEc2Stack/singleton/ServiceRole/DefaultPolicy/Resource singleton69FEA30F: Type: AWS::Lambda::Function Properties: Code: ZipFile: \u0026gt; import boto3 import json import traceback def main(event, context): try: region = event[\u0026#39;Region\u0026#39;] action = event[\u0026#39;Action\u0026#39;] client = boto3.client(\u0026#39;ec2\u0026#39;, region) responce = client.describe_instances( Filters=[{\u0026#39;Name\u0026#39;: \u0026#39;tag:AutoStartStop\u0026#39;, \u0026#34;Values\u0026#34;: [\u0026#39;TRUE\u0026#39;]}]) target_instans_ids = [] for reservation in responce[\u0026#39;Reservations\u0026#39;]: for instance in reservation[\u0026#39;Instances\u0026#39;]: tag_name = \u0026#39;\u0026#39; for tag in instance[\u0026#39;Tags\u0026#39;]: if tag[\u0026#39;Key\u0026#39;] == \u0026#39;Name\u0026#39;: tag_name = tag[\u0026#39;Value\u0026#39;] break target_instans_ids.append(instance[\u0026#39;InstanceId\u0026#39;]) print(target_instans_ids) if not target_instans_ids: print(\u0026#39;There are no instances subject to automatic {}.\u0026#39;.format(action)) else: if action == \u0026#39;start\u0026#39;: client.start_instances(InstanceIds=target_instans_ids) print(\u0026#39;started instances.\u0026#39;) elif action == \u0026#39;stop\u0026#39;: client.stop_instances(InstanceIds=target_instans_ids) print(\u0026#39;stopped instances.\u0026#39;) else: print(\u0026#39;Invalid action.\u0026#39;) return { \u0026#34;statusCode\u0026#34;: 200, \u0026#34;message\u0026#34;: \u0026#39;Finished automatic {action} EC2 instances process. [Region: {region}, Action: {action}]\u0026#39;.format(region=event[\u0026#39;Region\u0026#39;], action=event[\u0026#39;Action\u0026#39;]) } except: print(traceback.format_exc()) return { \u0026#34;statusCode\u0026#34;: 500, \u0026#34;message\u0026#34;: \u0026#39;An error occured at automatic start / stop EC2 instances process.\u0026#39; } Handler: index.main Role: Fn::GetAtt: - singletonServiceRole9C9ECF4A - Arn Runtime: python3.7 Timeout: 300 DependsOn: - singletonServiceRoleDefaultPolicyFDD8CA90 - singletonServiceRole9C9ECF4A Metadata: aws:cdk:path: AutoStartStopEc2Stack/singleton/Resource singletonAllowEventRuleAutoStartStopEc2StackStopRule6999EBDE48367C0B: Type: AWS::Lambda::Permission Properties: Action: lambda:InvokeFunction FunctionName: Fn::GetAtt: - singleton69FEA30F - Arn Principal: events.amazonaws.com SourceArn: Fn::GetAtt: - StopRule00306666 - Arn Metadata: aws:cdk:path: AutoStartStopEc2Stack/singleton/AllowEventRuleAutoStartStopEc2StackStopRule6999EBDE singletonAllowEventRuleAutoStartStopEc2StackStartRule682FBE6A53E17D5B: Type: AWS::Lambda::Permission Properties: Action: lambda:InvokeFunction FunctionName: Fn::GetAtt: - singleton69FEA30F - Arn Principal: events.amazonaws.com SourceArn: Fn::GetAtt: - StartRule40F02F2E - Arn Metadata: aws:cdk:path: AutoStartStopEc2Stack/singleton/AllowEventRuleAutoStartStopEc2StackStartRule682FBE6A StopRule00306666: Type: AWS::Events::Rule Properties: ScheduleExpression: cron(0 12 ? * * *) State: ENABLED Targets: - Arn: Fn::GetAtt: - singleton69FEA30F - Arn Id: Target0 Input: \u0026#39;{\u0026#34;Region\u0026#34;:\u0026#34;ap-northeast-1\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;stop\u0026#34;}\u0026#39; Metadata: aws:cdk:path: AutoStartStopEc2Stack/StopRule/Resource StartRule40F02F2E: Type: AWS::Events::Rule Properties: ScheduleExpression: cron(55 23 ? * SUN-THU *) State: ENABLED Targets: - Arn: Fn::GetAtt: - singleton69FEA30F - Arn Id: Target0 Input: \u0026#39;{\u0026#34;Region\u0026#34;:\u0026#34;ap-northeast-1\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;start\u0026#34;}\u0026#39; Metadata: aws:cdk:path: AutoStartStopEc2Stack/StartRule/Resource CDKMetadata: Type: AWS::CDK::Metadata Properties: Modules: aws-cdk=1.3.0,@aws-cdk/assets=1.3.0,@aws-cdk/aws-applicationautoscaling=1.3.0,@aws-cdk/aws-autoscaling=1.3.0,@aws-cdk/aws-autoscaling-common=1.3.0,@aws-cdk/aws-autoscaling-hooktargets=1.3.0,@aws-cdk/aws-cloudformation=1.3.0,@aws-cdk/aws-cloudwatch=1.3.0,@aws-cdk/aws-ec2=1.3.0,@aws-cdk/aws-ecr=1.3.0,@aws-cdk/aws-ecr-assets=1.3.0,@aws-cdk/aws-ecs=1.3.0,@aws-cdk/aws-elasticloadbalancingv2=1.3.0,@aws-cdk/aws-events=1.3.0,@aws-cdk/aws-events-targets=1.3.0,@aws-cdk/aws-iam=1.3.0,@aws-cdk/aws-kms=1.3.0,@aws-cdk/aws-lambda=1.3.0,@aws-cdk/aws-logs=1.3.0,@aws-cdk/aws-s3=1.3.0,@aws-cdk/aws-s3-assets=1.3.0,@aws-cdk/aws-servicediscovery=1.3.0,@aws-cdk/aws-sns=1.3.0,@aws-cdk/aws-sns-subscriptions=1.3.0,@aws-cdk/aws-sqs=1.3.0,@aws-cdk/aws-ssm=1.3.0,@aws-cdk/core=1.3.0,@aws-cdk/custom-resources=1.3.0,@aws-cdk/cx-api=1.3.0,@aws-cdk/region-info=1.3.0,jsii-runtime=node.js/v10.15.1 CDK ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚‚å«ã¾ã‚Œã¦ã„ã¾ã™ãŒã€ç´„ 170 è¡Œã® YAML ãƒ•ã‚¡ã‚¤ãƒ«ã«ãªã‚Šã¾ã—ãŸã€‚\nYAML ã§ CloudFormation ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã—ã£ã‹ã‚Šæ›¸ã„ãŸã“ã¨ã¯ãªã„ã§ã€ã“ã‚Œã‚’ã‚¼ãƒ­ã‹ã‚‰æ›¸ã‘ã¨è¨€ã‚ã‚Œã‚‹ã¨è¾›ã„ã§ã™ã€‚ä»Šå›ã®ã‚ˆã†ãªã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹æˆã§ã‚ã‚Œã°è‰¯ã„ã§ã™ãŒã€ã‚‚ã£ã¨è¤‡é›‘ãªæ§‹æˆã«ãªã‚‹ã¨ã•ã‚‰ã«è¾›ãã†ã§ã™ã€‚\nå‰ã«å‚åŠ ã—ãŸ CDK Meetup ã§ã¯ã€ 1,000 è¡Œã‚’è¶…ãˆã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ›¸ã„ãŸ ã¿ãŸã„ãªè©±ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚\nãƒ‡ãƒ—ãƒ­ã‚¤ CDK ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Œæˆã—ãŸã®ã§ã€ã‚ã¨ã¯ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã ã‘ã§ã™ã€‚\nãƒ‡ãƒ—ãƒ­ã‚¤ã‚‚ã„ãŸã£ã¦ç°¡å˜ã§ã€ cdk deploy ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã ã‘ã§ã™ã€‚\ncdk deploy This deployment will make potentially sensitive changes according to your current security approval level (--require-approval broadening). Please confirm you intend to make the following modifications: \u0026lt;diff ãŒè‰¯ã„æ„Ÿã˜ã«å‡ºåŠ›ã•ã‚Œã¾ã™\u0026gt; Do you wish to deploy these changes (y/n)? y AutoStartStopEc2Stack: deploying... AutoStartStopEc2Stack: creating CloudFormation changeset... 0/9 | 15:41:41 | CREATE_IN_PROGRESS | AWS::CDK::Metadata | CDKMetadata 0/9 | 15:41:41 | CREATE_IN_PROGRESS | AWS::IAM::Role | singleton/ServiceRole (singletonServiceRole9C9ECF4A) 0/9 | 15:41:41 | CREATE_IN_PROGRESS | AWS::IAM::Role | singleton/ServiceRole (singletonServiceRole9C9ECF4A) Resource creation Initiated 0/9 | 15:41:43 | CREATE_IN_PROGRESS | AWS::CDK::Metadata | CDKMetadata Resource creation Initiated 1/9 | 15:41:43 | CREATE_COMPLETE | AWS::CDK::Metadata | CDKMetadata ... 9/9 | 15:43:38 | CREATE_COMPLETE | AWS::CloudFormation::Stack | AutoStartStopEc2Stack âœ… AutoStartStopEc2Stack Stack ARN: arn:aws:cloudformation:ap-northeast-1:123456789876:stack/AutoStartStopEc2Stack/51a4b4f0-b8de-11e9-ad2d-0ea27dfbb62e ä½œæˆã•ã‚Œã‚‹ãƒªã‚½ãƒ¼ã‚¹ã®å†…å®¹ãŒå‡ºåŠ›ã•ã‚Œã€ Do you wish to deploy these changes (y/n)? ã§ y ã‚’å…¥åŠ›ã™ã‚Œã°ãƒªã‚½ãƒ¼ã‚¹ã®ä½œæˆãŒå§‹ã¾ã‚‹ã®ã§ã€ã‚ã¨ã¯å¾…ã¤ã ã‘ã§ã™ã€‚é€”ä¸­ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚Œã°ã€ãã®æ—¨ å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nã¡ãªã¿ã« cdk deploy ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã‚‹å…ˆã¯ã€ AWS CLI ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« .aws/config ãŠã‚ˆã³ .aws/credentials ã«ä¾å­˜ã—ã¦ã„ã¾ã™ã€‚ãªã®ã§ã€ --profile ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ãˆã°ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆä»¥å¤–ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚‚å¯èƒ½ã§ã™ã€‚\nã¾ã¨ã‚ AWS CDK ã‚’ä½¿ã£ã¦ CloudWatch Event + Lambda ã§ EC2 ã‚’è‡ªå‹•èµ·å‹•ãƒ»åœæ­¢ã•ã›ã‚‹ç’°å¢ƒã‚’ä½œã£ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nä»Šã¾ã§ CloudFormation ã¯ã»ã¨ã‚“ã©è§¦ã£ãŸã“ã¨ãŒãªãã€ YAML ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ›¸ãã¨ã„ã†ä½œæ¥­ã«ã‚‚é£Ÿã‚ãšå«Œã„ã§ã—ãŸã€‚ãã‚“ãªã¨ã“ã‚ã« AWS CDK ãŒç¾ã‚Œã¦ã€ TypeScript, Python ã¨ã„ã£ãŸæ™®æ®µã®é–‹ç™ºã«ä½¿ã£ã¦ã„ã‚‹è¨€èªã§ã‚¤ãƒ³ãƒ•ãƒ©ã‚³ãƒ¼ãƒ‰ãŒæ›¸ã‘ã‚‹ã¨ã„ã†ã®ã¯ã€ã‹ãªã‚Šç”»æœŸçš„ãªã“ã¨ã ã¨æ€ã„ã¾ã—ãŸã€‚\nCDK Meetup ã®ã¨ãã« AWS ã®ç¦äº•ã•ã‚“ãŒä»°ã£ã¦ã„ãŸ ã€ŒInfrastructure as Code ã§ã¯ãªãã¦ Infrastructure is Code ã ã€ ã¨ã„ã†è¨€è‘‰ãŒéå¸¸ã«ã—ã£ãã‚Šãã¾ã—ãŸã€‚\nCDK è‡ªä½“ã«é–¢ã—ã¦ã¯ GA ã«ãªã£ã¦ 1 ãƒ¶æœˆã‚‚çµŒã£ã¦ã„ã¾ã›ã‚“ãŒã€æ—¢ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ 1.3.0 ã«ãªã£ã¦ãŠã‚Šã€å¼•ãç¶šãçµæ§‹ãªã‚¹ãƒ”ãƒ¼ãƒ‰ã§ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã•ã‚Œã¦ã„ãã®ã‹ãªãƒ¼ã¨ã„ã†å°è±¡ã§ã™ã€‚\nCDK ãã£ã‹ã‘ã§ã‚¤ãƒ³ãƒ•ãƒ©ã®ã‚³ãƒ¼ãƒ‰åŒ–ã«è¶³ã‚’è¸ã¿å…¥ã‚ŒãŸã®ã§ã€ç½®ã„ã¦è¡Œã‹ã‚Œãªã„ã‚ˆã†ã«ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nä»Šå›ä½œã£ãŸã‚‚ã® ä»Šå›ä½œã£ãŸ CDK ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ GitHub ã«ç½®ã„ã¦ã„ã¾ã™ã®ã§ã€ã‚ˆã‹ã£ãŸã‚‰ä½¿ã£ã¦ã¿ã¦ãã ã•ã„ã€‚æ›¸ãæ–¹ãŠã‹ã—ã„ã¨ã‹ã‚ã‚Œã°æŒ‡æ‘˜ã‚‚å¤§æ­“è¿ã§ã™ã€‚\nmichimani/auto-start-stop-ec2: This is a CDK application for automatically starting / stopping EC2 instances. ",
    "permalink": "https://michimani.net/post/aws-auto-start-stop-ec2-stack-using-cdk/",
    "title": "AWS CDK ã‚’ä½¿ã£ã¦ CloudWatch Event + Lambda ã§ EC2 ã‚’è‡ªå‹•èµ·å‹•ãƒ»åœæ­¢ã•ã›ã‚‹ç’°å¢ƒã‚’ä½œã£ã¦ã¿ãŸ"
  },
  {
    "contents": "å…ˆæ—¥ AWS ã® Beta ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹æ™‚ã®æ³¨æ„ç‚¹ã«ã¤ã„ã¦æ›¸ãã¾ã—ãŸãŒã€ãã®å†…å®¹ã«ã¤ã„ã¦å¿µã®ãŸã‚ AWS ã‚µãƒãƒ¼ãƒˆã«å•ã„åˆã‚ã›ã¦ã¿ã¾ã—ãŸã€‚ãã®å›ç­”ãŒè¿”ã£ã¦ããŸã®ã§ãã®å›ç­”ãŒè¿”ã£ã¦ããŸã®ã§ãã®å›ç­”å†…å®¹ã¨ã€ã‚ã‚‰ãŸã‚ã¦æ³¨æ„ç‚¹ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã£ã¦ã¿ã¾ã™ã€‚\nå‰å›ã¾ã§ã®ãŠã•ã‚‰ã„ AWS ã® Beta ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹ã«ã‚ãŸã£ã¦ã¯ã€åˆ©ç”¨ã«éš›ã—ã¦ AWS Service Terms ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ 1.10 é …ã«åŒæ„ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã“ã® 1.10 é …ã«ã¯ 1.10.1 ã‹ã‚‰ 1.10.10 ã¾ã§æ¡æ–‡ãŒã‚ã‚Šã¾ã™ãŒã€ã–ã£ãã‚Šæ»ã„æ‘˜ã¾ã‚€ã¨ã€\nã‚µãƒ¼ãƒ“ã‚¹ã®å†…å®¹å¤‰æ›´ã€æä¾›çµ‚äº†ã¯ AWS ãŒã„ã¤ã§ã‚‚å®Ÿè¡Œã§ãã‚‹ äº‹å‰ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã«ã¤ã„ã¦é€šçŸ¥ã¯ã•ã‚Œãªã„ ãƒã‚°ã€ç‘•ç–µãŒå«ã¾ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ AWS ãŠã‚ˆã³é–¢é€£ä¼šç¤¾ã¯å…¨ã¦ã®ä¿éšœã‚’ã—ãªã„ Beta ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã£ã¦å¾—ã‚‰ã‚ŒãŸæƒ…å ±ã¯é–‹ç¤ºã—ãªã„ ã¨ã„ã†å†…å®¹ã§ã—ãŸã€‚ã“ã“ã¾ã§ã¯å‰å›æ›¸ã„ãŸå†…å®¹ã§ã™ã€‚\nAWS Service Terms ã®åŸæ–‡ã¯ä»¥ä¸‹ã€‚\nAWS Service Terms ä¸Šã«æŒ™ã’ãŸå†…å®¹ã®ã†ã¡ã€æœ€å¾Œã«æ›¸ã„ãŸ Beta ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã£ã¦å¾—ã‚‰ã‚ŒãŸæƒ…å ±ã¯é–‹ç¤ºã—ãªã„ ã«ã¤ã„ã¦ã€ AWS ã‚µãƒãƒ¼ãƒˆã«å•ã„åˆã‚ã›ã¦ã¿ã¾ã—ãŸã€‚\nAWS ã‚µãƒãƒ¼ãƒˆã¸ã®å•ã„åˆã‚ã› çµŒç·¯ ãã‚‚ãã‚‚å•ã„åˆã‚ã›ã‚ˆã†ã¨æ€ã£ãŸã®ã¯ã€å…ˆæ—¥æŸã‚µãƒ¼ãƒ“ã‚¹ãŒ public beta ã¨ã—ã¦åˆ©ç”¨å¯èƒ½ã«ãªã‚Šã€ãã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’å®Ÿéš›ã«ä½¿ã£ã¦ã¿ãŸã¨ã„ã†ãƒ–ãƒ­ã‚°ã‚’æ›¸ã„ãŸã®ãŒç™ºç«¯ã§ã™ã€‚\nã“ã®è¨˜äº‹ãŒå…¬é–‹å¾Œã«æƒ³åƒä»¥ä¸Šã«åå¿œãŒã‚ã‚Šã€ PV æ•°ã‚‚ãƒ–ã‚¯ãƒæ•°ã‚‚éå»æœ€é«˜å€¤ã‚’è¨˜éŒ²ã—ã¾ã—ãŸã€‚(æ™®æ®µãŒä½ã™ãã‚‹ã®ã§ã™ãŒ)\nãã‚“ãªãªã‹ã§ã€ ã€Œã“ã®è¨˜äº‹ã£ã¦ AWS Service Terms ã® 1.10.8 ã«å¼•ã£ã‹ã‹ã‚Šã¾ã›ã‚“ã‹ï¼Ÿã€ ã¨ã„ã†æŒ‡æ‘˜ã‚’ã„ãŸã ãã¾ã—ãŸã€‚\nãŠæ¥ãšã‹ã—ãªãŒã‚‰ AWS Service Terms ã® beta ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢ã™ã‚‹è¨˜è¿°ã«é–¢ã—ã¦ã¯æŠŠæ¡ã—ã¦ã„ãªã‹ã£ãŸã®ã§èª¿ã¹ã¦ã¿ã‚‹ã¨ã€ç¢ºã‹ã«å¼•ã£ã‹ã‹ã‚Šãã†ãªå†…å®¹ã§ã—ãŸã€‚ã¨ã„ã†ã‹å¼•ã£ã‹ã‹ã‚‹å¯èƒ½æ€§ã—ã‹ç„¡ã„ãªã¨æ€ã„ã¾ã—ãŸã€‚\nã“ã†ã„ã†æ¡æ–‡ã‚’èª­ã‚€ã®ã¯æ…£ã‚Œã¦ã„ãªã„ã®ã§ã€ä»Šå¾Œã®ãŸã‚ã«ã‚‚ AWS ã‚µãƒãƒ¼ãƒˆã«å•ã„åˆã‚ã›ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚\nã¨ã„ã†ã®ãŒçµŒç·¯ã§ã™ã€‚\nå•ã„åˆã‚ã›æ–¹æ³• AWS ã®ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ã‚µãƒãƒ¼ãƒˆãƒšãƒ¼ã‚¸ã‚’é–‹ã„ã¦ã€æ–°ãŸãªã‚±ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚\nã‚µãƒãƒ¼ãƒˆãƒ—ãƒ©ãƒ³ã¯ Basic ãªã®ã§ã€æ°—é•·ã«è¿”ç­”ãŒæ¥ã‚‹ã®ã‚’å¾…ã¡ã¾ã™ã€‚\nå•ã„åˆã‚ã›å†…å®¹ã¨ã—ã¦ã¯ã€ã“ã‚“ãªæ„Ÿã˜ã§æ›¸ãã¾ã—ãŸã€‚\nã¡ãªã¿ã«ã€ ã‚µãƒãƒ¼ãƒˆã‚±ãƒ¼ã‚¹ã®é©åˆ‡ãªä½œæˆæ–¹æ³•ã«ã¤ã„ã¦ã¯å…¬å¼ãƒšãƒ¼ã‚¸ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã®ã§ã€å‚è€ƒã«ã—ã¾ã—ã‚‡ã†ã€‚\næŠ€è¡“çš„ãªãŠå•ã„åˆã‚ã›ã«é–¢ã™ã‚‹ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ - AWS ã‚µãƒãƒ¼ãƒˆ | AWS ã‚µãƒãƒ¼ãƒˆã‹ã‚‰ã®å›ç­” å•ã„åˆã‚ã›ãŸã®ã¯é‡‘æ›œæ—¥ã®åˆå¾Œã ã£ãŸã®ã§ã€åœŸæ—¥ã‚’æŒŸã‚“ã§æ¬¡ã®é€±ã®ç«æ›œæ—¥ã«ä¸€æ—¦è¿”ç­”ãŒã‚ã‚Šã¾ã—ãŸã€‚ãã“ã§ã¯ æ‹…å½“éƒ¨ç½²ã«ç¢ºèªã—ã¦ãŠã‚Šã¾ã™ã®ã§ã€ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„ ã¨ã„ã†å†…å®¹ã§ã—ãŸã€‚\nãã—ã¦ã€ãã®æ¬¡ã®é€±ã®æœˆæ›œæ—¥ã«ä¸‹è¨˜ã®é€šã‚Šå›ç­”ãŒã‚ã‚Šã¾ã—ãŸã€‚\nã‚„ã¯ã‚Šã€ 1.10.8 ã‹ã‚‰èª­ã¿å–ã£ãŸå†…å®¹ã«é½Ÿé½¬ã¯ãªã‹ã£ãŸã‚ˆã†ã§ã€ SNS ã‚„ãƒ–ãƒ­ã‚°ç­‰ã¸ã®é–‹ç¤ºã¯ä¸å¯ ã®ã‚ˆã†ã§ã™ã€‚\næ›¸ã‹ã‚Œã¦ã„ã‚‹é€šã‚Šã¨ã„ãˆã°ãã‚Œã¾ã§ãªã‚“ã§ã™ãŒã€ç¢ºèªã§ããŸã®ã§ã‚ˆã‹ã£ãŸã§ã™ã€‚\nã¾ãŸã€å›ç­”ã®ä¸­ã«ã‚‚ã‚ã‚‹ã‚ˆã†ã« AWS ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚¢ã‚°ãƒªãƒ¼ãƒ¡ãƒ³ãƒˆ (PDF) ã®ä»¥ä¸‹ã®æ–‡é¢ã‚‚ç¢ºèªã—ã¦ãŠã„ãŸæ–¹ãŒã‚ˆã•ãã†ã§ã™ã€‚\n13.9 ç§˜å¯†ä¿æŒãŠã‚ˆã³å…¬è¡¨\nã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨è€…ã¯ã€AWS ç§˜å¯†æƒ…å ±ã‚’æœ¬å¥‘ç´„ä¸Šèªã‚ã‚‰ã‚Œã‚‹ã€æä¾›ã•ã‚Œã‚‹æœ¬ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹ã®åˆ©ç”¨ã«é–¢é€£ã—ã¦ã®ã¿ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚‚ã®ã¨ã™ã‚‹ã€‚ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨è€…ã¯ã€æœ¬å¥‘ç´„æœŸé–“ä¸­ãŠã‚ˆã³ãã®çµ‚äº†å¾Œ 5 å¹´é–“ã€ã„ã‹ãªã‚‹æ™‚ã‚‚ã€AWS ç§˜å¯†æƒ…å ±ã‚’é–‹ç¤ºã—ã¦ã¯ãªã‚‰ãªã„ã‚‚ã®ã¨ã™ã‚‹ã€‚ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨è€…ã¯ã€AWS ç§˜å¯†æƒ…å ±ã®é–‹ç¤ºã€æµå¸ƒã€ã¾ãŸã¯ä¸æ­£ä½¿ç”¨ã‚’é˜²æ­¢ã™ã‚‹ãŸã‚ã«ã€åŒæ§˜ã®æ€§è³ªã‚’æŒã¤è‡ªå·±ã®ç§˜å¯†æƒ…å ±ã‚’ä¿æŒã™ã‚‹ãŸã‚ã«æ¡ç”¨ã™ã‚‹æ‰‹æ®µã‚’æœ€ä½é™å«ã‚€ã€ã™ã¹ã¦ã®åˆç†çš„ãªæ–¹æ³•ã‚’ã¨ã‚‹ã‚‚ã®ã¨ã™ã‚‹ã€‚ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨è€…ã¯ã€æœ¬å¥‘ç´„ã¾ãŸã¯ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨è€…ã«ã‚ˆã‚‹æä¾›ã•ã‚Œã‚‹æœ¬ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹ã®åˆ©ç”¨ã«é–¢ã—ã¦ã€ã„ã‹ãªã‚‹ãƒ—ãƒ¬ã‚¹ãƒªãƒªãƒ¼ã‚¹ã‚‚ã€ãã®ä»–ã®ç™ºè¡¨ã‚„åºƒå‘Šã‚‚ã—ãªã„ã‚‚ã®ã¨ã™ã‚‹ã€‚\nã¤ã¾ã‚Šã€ beta ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨ä¸­ã«å–å¾—ã—ãŸæƒ…å ± (= ç§˜å¯†æƒ…å ±) ã¯ã€ãŸã¨ãˆãã®ã‚µãƒ¼ãƒ“ã‚¹ãŒæ­£å¼ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸã¨ã—ã¦ã‚‚ã€ AWS ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹æœŸé–“ä¸­ãŠã‚ˆã³ãã®çµ‚äº†å¾Œã® 5 å¹´é–“ã¯é–‹ç¤ºã—ã¦ã¯ã„ã‘ãªã„ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nãªã®ã§ã€æ­£å¼ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã‚ã‚ã¨ã« ã€Œbeta ã®ã¨ãã¯ã“ã†ã§ã—ãŸã€ ã¿ãŸã„ãªã®ã‚‚ãƒ€ãƒ¡ãªã‚“ã§ã™ã­\u0026hellip;ã€‚\nå®Ÿéš›ã«ã‚µãƒãƒ¼ãƒˆã«ç¢ºèªã—ã¦ã¿ã¦ã‚ˆã‹ã£ãŸã§ã™ã€‚\nã”å¯¾å¿œã„ãŸã ã„ãŸã‚µãƒãƒ¼ãƒˆã®æ–¹ã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚\nã¾ã¨ã‚ AWS ã® Beta ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹æ™‚ã®æ¡ä»¶ã«ã¤ã„ã¦ã‚µãƒãƒ¼ãƒˆã«å•ã„åˆã‚ã›ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nBeta ã‚µãƒ¼ãƒ“ã‚¹ã¨ã¯ã„ãˆæ–°ã—ã„ã‚µãƒ¼ãƒ“ã‚¹ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ã¨ã™ãã«ä½¿ã„ãŸããªã£ã¦ã—ã¾ã„ã¾ã™ãŒã€ AWS Service Terms ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹æ¡ä»¶ã«åˆæ„ã—ãŸã†ãˆã§ã®åˆ©ç”¨ã¨ã„ã†ã®ã‚’èªè­˜ã—ãªã„ã¨ãƒ€ãƒ¡ã ãªã¨æ€ã„ã¾ã—ãŸã€‚\nãªã‚“ã‹å½“ãŸã‚Šå‰ã®ã“ã¨ã‚’å†ç¢ºèªã—ãŸã‚ˆã†ãªå†…å®¹ã§ã—ãŸãŒã€å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚æ°—ã«ãªã‚‹æ–¹ã¯ãœã²ä¸€åº¦ AWS Service Terms ã‚’èª­ã‚“ã§ã¿ã¦ãã ã•ã„ã€‚\n",
    "permalink": "https://michimani.net/post/aws-service-terms-for-using-beta-services/",
    "title": "AWS ã® Beta ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã†ã¨ãã®æ¡ä»¶ã«ã¤ã„ã¦ AWS ã‚µãƒãƒ¼ãƒˆã«å•ã„åˆã‚ã›ã¦ã¿ãŸ"
  },
  {
    "contents": "CodePipeline ã‚’ä½¿ã†ã¨ãƒ“ãƒ«ãƒ‰ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã€çµæœã®é€šçŸ¥ã¾ã§ã‚’ç°¡å˜ã«æ§‹ç¯‰ã§ãã¾ã™ãŒã€ä½œæˆå¾Œ 30 æ—¥ä»¥é™ã¯æ–™é‡‘ãŒç™ºç”Ÿã—ã¦ã—ã¾ã„ã¾ã™ã€‚ãªã®ã§ã€ç¯€ç´„ã®ãŸã‚ã« CodeBuild ã§å…¨éƒ¨ã‚„ã£ã¦ã—ã¾ãŠã†ã¨ã„ã†è©±ã§ã™ã€‚\nç›®æ¬¡ å‰æ CodePipeline ã¨ CodeBuild ã®æ–™é‡‘ CodePipeline CodeBuild ã‚„ã£ã¦ã„ãŸã“ã¨/ã‚„ã‚‹ã“ã¨ CodeBuild ã®è¨­å®šå¤‰æ›´ å¤±ã£ãŸã‚‚ã® â€»è¿½è¨˜ã‚ã‚Š (2019/11/12) ã¾ã¨ã‚ å‰æ Vue.js ã§æ›¸ã‹ã‚ŒãŸé™çš„ Web ã‚µã‚¤ãƒˆã® CI/CD ã‚’ CodePipeline ã‚’ä½¿ã£ã¦å®Ÿç¾ã—ã¦ã„ã‚‹ ã‚½ãƒ¼ã‚¹ã®å¤‰æ›´ã¯é »ç¹ã«ã¯è¡Œã‚ã‚Œãªã„ãŒã€æœ€ä½ã§ã‚‚æœˆã« 1 å›ã¯ã‚ã‚‹ GitHub ã¸ã® Push ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ã€ Slack ã¸ã®é€šçŸ¥ãŒã§ãã‚Œã° OK ã‚ãã¾ã§ã‚‚å€‹äººã§é‹ç”¨ã—ã¦ã„ã‚‹ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ–™é‡‘ç¯€ç´„ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚ã¾ãŸã€ä»Šå›ã‚„ã£ã¦ã¿ã‚‹å†…å®¹ã§ã¯ã€ CodePipeline ã§å®Ÿç¾ã§ãã¦ã„ã‚‹ã“ã¨ã‚’å…¨ã¦å†ç¾ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚è«¦ã‚ãªã‘ã‚Œã°ã„ã‘ãªã„æŒ™å‹•ã‚‚ã‚ã‚‹ã®ã§ã€ãã®ç‚¹ã¯ã”ç†è§£ãã ã•ã„ã€‚\nCodePipeline ã¨ CodeBuild ã®æ–™é‡‘ ã‚¿ã‚¤ãƒˆãƒ«ã§ ç¯€ç´„ã®ãŸã‚ã« ã¨æ›¸ã„ã¦ã„ã‚‹é€šã‚Šã€ä»Šå›ã®å†…å®¹ã§æ¯æœˆã®æ–™é‡‘ã‚’ç¯€ç´„ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ CodePipeline ã¨ CodeBuild ã«ã¤ã„ã¦ã‚ã‚‰ãŸã‚ã¦ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nCodePipeline CodePipeline ã¯ã€åˆ©ç”¨ã™ã‚‹ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®æ•°ã«å¯¾ã—ã¦æ–™é‡‘ãŒç™ºç”Ÿã—ã¾ã™ã€‚\nã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ 1 ã¤ã«ã¤ãã€ 1 USD (ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã¨ã¯ã€30 æ—¥ä»¥ä¸Šå­˜åœ¨ã—ã¦ã„ã‚‹ ä¸”ã¤ ãã®æœˆã«å°‘ãªãã¨ã‚‚ 1 ã¤ã®ã‚³ãƒ¼ãƒ‰å¤‰æ›´ãŒç™ºç”Ÿ) ä½œæˆå¾Œ 30 æ—¥é–“ã¯ç„¡æ–™ ç„¡æ–™åˆ©ç”¨æ ã¨ã—ã¦ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ 1 ã¤åˆ©ç”¨å¯èƒ½ CodeBuild CodeBuild ã¯ã€ãƒ“ãƒ«ãƒ‰ã«ã‹ã‹ã£ãŸæ™‚é–“ (åˆ†) ã«å¯¾ã—ã¦æ–™é‡‘ãŒç™ºç”Ÿã—ã¾ã™ã€‚(1 åˆ†æœªæº€ã¯åˆ‡ã‚Šä¸Šã’)\nã¾ãŸãã®å˜ä¾¡ã¯ã€åˆ©ç”¨ã™ã‚‹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¿ã‚¤ãƒ—ã«ã‚ˆã£ã¦å¤‰ã‚ã‚Šã¾ã™ã€‚\nã‚¿ã‚¤ãƒ— ãƒ¡ãƒ¢ãƒª (GB) vCPU Linux (USD/åˆ†) Windows (USD/åˆ†) build.general1.small 3 2 0.005 è©²å½“ãªã— build.general1.medium 7 4 0.010 0.018 build.general1.large 15 8 0.020 0.036 ç„¡æ–™åˆ©ç”¨æ ã¨ã—ã¦ã€ 1 ãƒ¶æœˆã‚ãŸã‚Šãƒ“ãƒ«ãƒ‰ã‚’ 100 åˆ†ä½¿ç”¨ã§ãã¾ã™ã€‚\nCodeBuild ã‚’ä½¿ã£ã¦è©²å½“ã® Vue.js ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã®ã«ã‹ã‹ã‚‹æ™‚é–“ã¯ 1 - 2 åˆ†ç¨‹åº¦ãªã®ã§ã€ build.general1.small ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ 1 å›ã«ã¤ã 0.02 USD ç¨‹åº¦ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nCodePipeline ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã ã¨ã€ãƒ—ãƒ©ã‚¹ 1 USD (1 å›ãã‚Šã§ã™ãŒ) ãŒç™ºç”Ÿã—ã¾ã™ã€‚\nã‚„ã£ã¦ã„ãŸã“ã¨/ã‚„ã‚‹ã“ã¨ ã¾ãšã¯ CodePipeline ã‚’ä½¿ã£ã¦ã„ãŸã¨ãã®æ§‹æˆã«ã¤ã„ã¦ã§ã™ã€‚\nã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚\nGitHub ã® master ãƒ–ãƒ©ãƒ³ãƒã¸ã® Push ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒé–‹å§‹ CodeBuild ã§ãƒ“ãƒ«ãƒ‰ã€ç”Ÿæˆã•ã‚ŒãŸã‚½ãƒ¼ã‚¹ã‚’ S3 ã¸é…ç½® ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å®Ÿè¡Œçµæœã‚’ Slack ã¸é€šçŸ¥ã™ã‚‹ãŸã‚ã® Lambda ã‚’å®Ÿè¡Œ ã“ã‚Œã‚’ã€æ¬¡ã®ã‚ˆã†ãªæ§‹æˆã«ã—ã¾ã™ã€‚\nã‚·ãƒ³ãƒ—ãƒ«ã«ãªã‚Šã¾ã—ãŸã€‚\næ§‹æˆã¯ã“ã‚Œã§ã„ã„ã¨ã—ã¦ã€ CodeBuild ã®è¨­å®šã€ buildspec.yml ã‚‚å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚å…·ä½“çš„ã«ã¯ä¸‹è¨˜ã®ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚\né€ä¿¡å…ƒã‚’ GitHub ã«å¤‰æ›´ ãƒ—ãƒ©ã‚¤ãƒãƒªã‚½ãƒ¼ã‚¹ã®ã‚¦ã‚§ãƒ–ãƒ•ãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¨­å®š\nmaster ãƒ–ãƒ©ãƒ³ãƒã¸ã® Push ã§ãƒ“ãƒ«ãƒ‰ãŒé–‹å§‹ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ buildspec.yml å†…ã§ Slack ã¸ã®é€šçŸ¥ã‚’è¿½åŠ  ã§ã¯ã€è¨­å®šã®å¤‰æ›´æ–¹æ³•ã«ã¤ã„ã¦ã¿ã¦ã„ãã¾ã™ã€‚\nCodeBuild ã®è¨­å®šå¤‰æ›´ é€ä¿¡å…ƒã‚’ GitHub ã«å¤‰æ›´ ã¾ãšã¯é€ä¿¡å…ƒã‚’ GitHub ã«å¤‰æ›´ã—ã¾ã™ã€‚ãŒã€æ—¢ã« CodePipeline ã«ç´ã¥ã„ã¦ã„ã‚‹ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å¤‰æ›´ã™ã‚‹å ´åˆã€é€ä¿¡å…ƒã¯ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚ãªã®ã§ CLI ã§å¤‰æ›´ã—ã¾ã™ã€‚\nä¸€æ—¦ã€æ—¢å­˜ã®è¨­å®šã‚’ JSON å½¢å¼ã§å–å¾—ã—ã¾ã™ã€‚\n$ aws codebuild batch-get-projects --names \u0026#34;BuildProjectName\u0026#34; \u0026gt; ./current.json { \u0026#34;projects\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;BuildProjectName\u0026#34;, \u0026#34;arn\u0026#34;: \u0026#34;arn:aws:codebuild:ap-northeast-1:123456789012:project/BuildProjectName\u0026#34;, \u0026#34;source\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;CODEPIPELINE\u0026#34;, }, \u0026#34;artifacts\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;CODEPIPELINE\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;BuildProjectName\u0026#34;, \u0026#34;packaging\u0026#34;: \u0026#34;NONE\u0026#34; }, \u0026#34;cache\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;NO_CACHE\u0026#34; }, \u0026#34;environment\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;LINUX_CONTAINER\u0026#34;, \u0026#34;image\u0026#34;: \u0026#34;aws/codebuild/nodejs:10.14.1\u0026#34;, \u0026#34;computeType\u0026#34;: \u0026#34;BUILD_GENERAL1_SMALL\u0026#34;, \u0026#34;environmentVariables\u0026#34;: [], \u0026#34;privilegedMode\u0026#34;: false }, \u0026#34;serviceRole\u0026#34;: \u0026#34;arn:aws:iam::123456789012:role/service-role/codebuild-BuildProjectName-service-role\u0026#34;, \u0026#34;timeoutInMinutes\u0026#34;: 60, \u0026#34;encryptionKey\u0026#34;: \u0026#34;arn:aws:kms:ap-northeast-1:123456789012:alias/aws/s3\u0026#34;, \u0026#34;tags\u0026#34;: [], \u0026#34;created\u0026#34;: 1557990804.228, \u0026#34;lastModified\u0026#34;: 1562114621.841, \u0026#34;badge\u0026#34;: { \u0026#34;badgeEnabled\u0026#34;: false } } ], \u0026#34;projectsNotFound\u0026#34;: [] } ã“ã‚“ãªæ„Ÿã˜ã® JSON ãŒå–å¾—ã§ãã‚‹ã®ã§ã€ã“ã‚Œã‚’å…ƒã«ã—ã¦æ¬¡ã®ã‚ˆã†ãª JSON ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ–°ãŸã«ä½œæˆã—ã¾ã™ã€‚(ä»®ã« update.json ã¨ã—ã¾ã™)\nå¤‰æ›´ç‚¹ã¨ã—ã¦ã¯ã€ source ã¨ artifacts ã§ã™ã€‚\nenvironment.environmentVariables ã«ã¤ã„ã¦ã¯ã€å¾Œã® Slack é€šçŸ¥ã§ä½¿ç”¨ã™ã‚‹ç’°å¢ƒå¤‰æ•°ã«ãªã‚Šã¾ã™ã€‚å¤šåˆ† Slack ã® Webhook URL ã¯ Systems Manager ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã‹ã‚‰ã€ KMS ã§æš—å·åŒ–ã—ãŸä¸Šã§å–å¾—ã—ãŸã»ã†ãŒã‚ˆã•ãã†ã§ã™ã€‚ã“ã®ã¸ã‚“ã¯ã¾ã ã¡ã‚‡ã£ã¨ã‚ã‹ã£ã¦ãªã„ã®ã§ã€ä¸€æ—¦ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§å…¥ã‚Œã¦ã¾ã™ã€‚\n{ \u0026#34;name\u0026#34;: \u0026#34;BuildProjectName\u0026#34;, \u0026#34;source\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;GITHUB\u0026#34;, \u0026#34;location\u0026#34;: \u0026#34;https://github.com/michimani/repo.git\u0026#34; }, \u0026#34;artifacts\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;NO_ARTIFACTS\u0026#34; }, \u0026#34;environment\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;LINUX_CONTAINER\u0026#34;, \u0026#34;image\u0026#34;: \u0026#34;aws/codebuild/standard:2.0\u0026#34;, \u0026#34;computeType\u0026#34;: \u0026#34;BUILD_GENERAL1_SMALL\u0026#34;, \u0026#34;environmentVariables\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;notifyTitle\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;BuildProjectName build\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;PLAINTEXT\u0026#34; }, { \u0026#34;name\u0026#34;: \u0026#34;slackHookUrl\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;https://hooks.slack.com/services/123456789/ABCDEFGHI/abcdefghij1234567890abcd\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;PLAINTEXT\u0026#34; } ], \u0026#34;privilegedMode\u0026#34;: false } } ã“ã® JSON ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã£ã¦ CodeBuild ã®è¨­å®šã‚’å¤‰æ›´ã—ã¾ã™ã€‚\n$ aws codebuild update-project --cli-input-json file://update.json æ­£ã—ãå¤‰æ›´ã§ãã‚Œã°ã€å¤‰æ›´å¾Œã®è¨­å®šãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nãƒ—ãƒ©ã‚¤ãƒãƒªã‚½ãƒ¼ã‚¹ã®ã‚¦ã‚§ãƒ–ãƒ•ãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¨­å®š ç¶šã„ã¦ã¯ãƒ“ãƒ«ãƒ‰é–‹å§‹ã®è¨­å®šã§ã™ã€‚ã“ã‚Œã«ã¤ã„ã¦ã¯ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§æ“ä½œã—ã¾ã—ãŸã€‚\nCodeBuild ã®ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å¯¾è±¡ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠã—ã¦ã€é€ä¿¡å…ƒã®ç·¨é›†ç”»é¢ã‚’é–‹ãã¾ã™ã€‚\nã¡ãªã¿ã«ã€ã“ã®æ™‚ç‚¹ã§ã‚½ãƒ¼ã‚¹ãƒ—ãƒ­ãƒã‚¤ãƒ€ãŒ GitHub ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã¾ã™ã€‚\nç”»é¢ã®ä¸‹ã®æ–¹ã«ã‚ã‚‹ ãƒ—ãƒ©ã‚¤ãƒãƒªã‚½ãƒ¼ã‚¹ã®ã‚¦ã‚§ãƒ–ãƒ•ãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ ã§ã€ãƒ“ãƒ«ãƒ‰é–‹å§‹æ¡ä»¶ã‚’è¨­å®šã—ã¾ã™ã€‚\nã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ— ã§ ãƒ—ãƒƒã‚·ãƒ¥ ã‚’é¸æŠã—ã€ ã“ã‚Œã‚‰ã®æ¡ä»¶ã§ãƒ“ãƒ«ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ ã® HEAD_REF ã« ^refs/heads/master$ ã¨å…¥åŠ›ã—ã¦æ›´æ–°ã—ã¾ã™ã€‚\nã“ã® master éƒ¨åˆ†ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§ã€ç‰¹å®šã®ãƒ–ãƒ©ãƒ³ãƒã¸ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ¤œçŸ¥ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nbuildspec.yml å†…ã§ Slack ã¸ã®é€šçŸ¥ã‚’è¿½åŠ  æœ€å¾Œã«ã€ Slack ã¸ã®é€šçŸ¥å‡¦ç†ã‚’ buildspec.yml å†…ã«è¿½åŠ ã—ã¾ã™ã€‚å‡¦ç†ã¨ã„ã£ã¦ã‚‚ã€ä¸‹è¨˜ã® curl ã‚³ãƒãƒ³ãƒ‰ã‚’ post_build ãƒ•ã‚§ãƒ¼ã‚ºã® commands ã«è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚\ncurl -H \u0026#39;Content-Type:application/json\u0026#39; -d \u0026#34;{\u0026#39;channel\u0026#39;:\u0026#39;dev\u0026#39;,\u0026#39;icon_emoji\u0026#39;:\u0026#39;:codebuild:\u0026#39;,\u0026#39;attachments\u0026#39;:[{\u0026#39;author_name\u0026#39;:\u0026#39;CodeBuild\u0026#39;,\u0026#39;title\u0026#39;:\u0026#39;$notifyTitle\u0026#39;,\u0026#39;color\u0026#39;:\u0026#39;#00FF00\u0026#39;,\u0026#39;fields\u0026#39;:[{\u0026#39;value\u0026#39;:\u0026#39;Build and deploy were successed.\u0026#39;}]}]}\u0026#34; $slackHookUrl POST ã—ã¦ã„ã‚‹ JSON ã¯æ¬¡ã®ã‚ˆã†ãªæ§‹é€ ã«ãªã£ã¦ã„ã¾ã™ã€‚\n{ \u0026#34;channel\u0026#34;: \u0026#34;dev\u0026#34;, \u0026#34;icon_emoji\u0026#34;: \u0026#34;:codebuild:\u0026#34;, \u0026#34;attachments\u0026#34;: [ { \u0026#34;author_name\u0026#34;: \u0026#34;CodeBuild\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;$notifyTitle\u0026#34;, \u0026#34;color\u0026#34;: \u0026#34;#00FF00\u0026#34;, \u0026#34;fields\u0026#34;: [ { \u0026#34;value\u0026#34;: \u0026#34;Build and deploy were successed.\u0026#34; } ] } ] } å®Ÿéš›ã«é€šçŸ¥ã•ã‚Œã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™ã€‚\nä»¥ä¸Šã§ã€ CodeBuild ã®ã¿ã§ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»é€šçŸ¥ã¾ã§ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nå¤±ã£ãŸã‚‚ã® â€»è¿½è¨˜ã‚ã‚Š (2019/11/12) CodePipeline ã‚’ä½¿ç”¨ã—ãªããªã£ãŸã“ã¨ã§æ–™é‡‘ã®ç¯€ç´„ã«ã¯æˆåŠŸã—ã¾ã—ãŸãŒã€ CI/CD ã®ã‚¯ã‚ªãƒªãƒ†ã‚£ã¨ã—ã¦ã¯ä¸‹ãŒã£ã¦ã„ã¾ã™ã€‚\nç‰¹ã«å•é¡Œãªã®ãŒã€ ãƒ“ãƒ«ãƒ‰ã«å¤±æ•—ã—ãŸã“ã¨ãŒã‚ã‹ã‚‰ãªã„ ã¨ã„ã†ç‚¹ã§ã™ã€‚\nCodePipeline ã‚’ä½¿ã£ã¦ã„ãŸæ™‚ã¯ã€ä»®ã« CodeBuild ã®å‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã‚ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å¤±æ•—ã¨ãªã‚Šã¾ã™ã€‚å¤±æ•—ã—ãŸã¨ã„ã†ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¯ Slack é€šçŸ¥ç”¨ã® Lambda å†…ã§å–å¾—ã§ãã‚‹ã®ã§ã€æˆåŠŸã—ã¦ã‚‚å¤±æ•—ã—ã¦ã‚‚ã€ã©ã¡ã‚‰ã®å ´åˆã‚‚é€šçŸ¥ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nä¸€æ–¹ã€ä»Šå›ã®ã‚ˆã†ã« CodeBuild ã ã‘ã§ã‚„ã‚ã†ã¨ã™ã‚‹ã¨ã€ CodeBuild å†…ã§ã®ã‚¨ãƒ©ãƒ¼ãƒ»å¤±æ•—ã‚’ã‚­ãƒ£ãƒƒãƒã—ã¦é€šçŸ¥ã™ã‚‹è¡“ãŒã‚ã‚Šã¾ã›ã‚“ã€‚\næœ¬å½“ã«ç„¡ç†ã‚„ã‚Šã‚„ã‚ã†ã¨ã™ã‚‹ãªã‚‰ã€ buildspec.yml å†…ã®å„ãƒ•ã‚§ãƒ¼ã‚ºã®æœ€åˆã«é€šçŸ¥ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€æœ€å¾Œã®ãƒ•ã‚§ãƒ¼ã‚ºã®é€šçŸ¥ãŒæ¥ãªã‹ã£ãŸã‚‰ãã®å‰æ®µéšã§å¤±æ•—ã—ãŸã¨ã„ã†ã“ã¨ã¯ã‚ã‹ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nâ€»è¿½è¨˜ 2019/11/12\nAWS ã® Code ã‚·ãƒªãƒ¼ã‚ºå‘ã‘ã«æ–°ãŸãªé€šçŸ¥ã‚µãƒ¼ãƒ“ã‚¹ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã€å„ Code ã‚·ãƒªãƒ¼ã‚ºã‹ã‚‰å€‹åˆ¥ã« SNS ãŠã‚ˆã³ AWS Chatbot (beta) ã«ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã‚’é€ä¿¡ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nãã®çµæœã€å¤±ã£ãŸã¨æ€ã‚ã‚ŒãŸã‚‚ã®ã¯ã‚¯ã‚ªãƒªãƒ†ã‚£ãŒä¸ŠãŒã£ã¦æˆ»ã£ã¦ãã¾ã—ãŸï¼è©³ç´°ã¯ä¸‹è¨˜ã®ãƒ–ãƒ­ã‚°ã§æ›¸ã„ã¦ã¾ã™ã€‚\nã¾ã¨ã‚ ç¯€ç´„ã®ãŸã‚ã« CodePipeline ã‚’ã‚„ã‚ã¦ CodeBuild ã«å…¨éƒ¨ä»»ã›ã¦ã¿ãŸã¨ã„ã†å†…å®¹ã§ã—ãŸã€‚\nå¤±ã£ãŸã‚‚ã® ã§æ›¸ã„ãŸã‚ˆã†ã«ã€ CI/CD ã®ã‚¯ã‚ªãƒªãƒ†ã‚£ã¨ã—ã¦ã¯ã ã„ã¶ä½ããªã‚Šã¾ã™ã€‚GitHub ã¸ã® Push ã§ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã„ï¼é€šçŸ¥ã¯ã¨ã‚Šã‚ãˆãšä½•ã‹ãã‚Œã° OKï¼ ãã‚‰ã„ã®ã‚†ã‚‹ãƒ¼ã„æ„Ÿã˜ã§ã‚ã‚Œã°ã€ CodeBuild ã ã‘ã§ã‚‚ãªã‚“ã¨ã‹ãªã‚Šãã†ã§ã™ã€‚\nãã‚‚ãã‚‚ä»–ã® CI/CD ã‚µãƒ¼ãƒ“ã‚¹ä½¿ãˆã°ã„ã„ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒ\u0026hellip;ã€‚\n",
    "permalink": "https://michimani.net/post/aws-use-only-codebuild/",
    "title": "ç¯€ç´„ã®ãŸã‚ã« CodePipeline ã‚’ã‚„ã‚ã¦ CodeBuild ã«å…¨éƒ¨ä»»ã›ã¦ã¿ãŸ"
  },
  {
    "contents": "2019 å¹´ 4 æœˆã«ç™ºè¡¨ã•ã‚ŒãŸ Beats ã®å®Œå…¨ãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹ã‚¤ãƒ¤ãƒ›ãƒ³ Powerbeats Pro ãŒã€ã‚„ã£ã¨æ—¥æœ¬ã§ã‚‚ç™ºå£²é–‹å§‹ã¨ãªã‚Šã¾ã—ãŸã€‚ã‚«ãƒŠãƒ€ã¨ã‚¢ãƒ¡ãƒªã‚«ã§ã¯ 5 æœˆã«ç™ºå£²ãŒé–‹å§‹ã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€ãã“ã‹ã‚‰ç´„ 2 ãƒ¶æœˆã€å¾…ã¡ããŸã³ã‚Œã¾ã—ãŸã€‚\nãã‚“ãª Powerbeats Pro ã‚’ä½¿ã„å§‹ã‚ã¦ 1 é€±é–“çµŒã£ãŸã®ã§ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã„ãã¾ã™ã€‚åŸºæœ¬çš„ã«ã¯ AirPods ã¨ã®æ¯”è¼ƒã¨ãªã‚Šã¾ã™ã€‚\nç›®æ¬¡ Powerbeats Pro ã¨ã¯ å¤–è¦³ åŒæ¢±ç‰© ä½¿ç”¨æ„Ÿ iOS ãƒ‡ãƒã‚¤ã‚¹ã¨ã®æ¥ç¶š è£…ç€æ„Ÿ éŸ³è³ª æ“ä½œæ€§ ãƒãƒƒãƒ†ãƒªãƒ¼ ã¾ã¨ã‚ Powerbeats Pro ã¨ã¯ ã¾ãšã¯ Powerbeats Pro ã«ã¤ã„ã¦ã®ãŠã•ã‚‰ã„ã§ã™ã€‚\nPowerbeats Pro ã¯ Apple H1 ãƒãƒƒãƒ—ã‚’æ­è¼‰ã—ãŸ å®Œå…¨ãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹ã‚¤ãƒ¤ãƒ›ãƒ³ã§ã™ã€‚Apple H1 ãƒãƒƒãƒ—ã¨ã¯ã€ç¬¬ 2 ä¸–ä»£ AirPods ã«æ­è¼‰ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¨åŒã˜ãƒãƒƒãƒ—ã§ã™ã€‚åˆä»£ AirPods ãŠã‚ˆã³ Beat X ã«æ­è¼‰ã•ã‚Œã¦ã„ãŸã‚‚ã®ã¯ W1 ãƒãƒƒãƒ—ã§ã€ãã‚Œã®æ”¹è‰¯ç‰ˆã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚å…·ä½“çš„ã«ã¯ã€ã‚ˆã‚Šåºƒç¯„å›²ãªé€šä¿¡ç¯„å›²ã§å®‰å®šã—ãŸæ¥ç¶šã‚’å®Ÿç¾ã™ã‚‹ã€ã¾ãŸã€ãƒ‡ãƒã‚¤ã‚¹ã¨ã®æ¥ç¶šæ™‚é–“ãŒçŸ­ç¸®ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã¾ãŸã€ beat ã¨ã„ãˆã°ã‚„ã¯ã‚ŠéŸ³è³ªãŒã„ã„ã¨è¨€ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ãŒã€ã“ã® Powerbeats Pro ã§ã‚‚ ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãªéŸ³åŸŸã¨ãƒã‚¤ã‚ºã‚¢ã‚¤ã‚½ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚Šãƒãƒ©ãƒ³ã‚¹ã®ã¨ã‚ŒãŸè¿«åŠ›ã‚µã‚¦ãƒ³ãƒ‰ã‚’å®Ÿç¾ ã—ã¦ã„ã¾ã™ã€‚\nã¾ã‚ã€ç°¡å˜ã«è¨€ã†ã¨ã€ AirPods ãŒé«˜éŸ³è³ªã«ãªã£ã¦ã‚«ãƒŠãƒ«å‹ã«ãªã£ãŸã‚‚ã® ã£ã¦ã„ã†æ„Ÿã˜ã§ã™ã€‚(ã‚ãã¾ã§å€‹äººçš„ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™)\nPowerbeats Pro - Beats by Dre AirPods - Appleï¼ˆæ—¥æœ¬ï¼‰ å¤–è¦³ ã§ã¯ Powerbeats Pro ã®å¤–è¦³ã‚’ã€ AirPods ã¨æ¯”è¼ƒã—ã¦ã¿ã¦ã¿ã¾ã™ã€‚ã“ã“ã§æ¯”è¼ƒã—ã¦ã„ã‚‹ã®ã¯åˆä»£ AirPods ã§ã™ãŒã€ç¬¬ 2 ä¸–ä»£ã® AirPods ã‚‚ã»ã¼åŒã˜å½¢ãªã®ã§ç‰¹ã«é•å’Œæ„Ÿã¯ãªã„ã¨æ€ã„ã¾ã™ã€‚\nã¾ãšã¯å¤–ç®±ã€‚\nã™ã§ã«ã‚«ãƒƒã‚³è‰¯ã•ãŒæº¢ã‚Œã¦ã¾ã™ã€‚\nç¶šã„ã¦ã‚±ãƒ¼ã‚¹ã®å¤–è¦³ã§ã™ã€‚\nã‹ãªã‚Šå¤§ãã„ã§ã™ã€‚\nã‚¤ãƒ¤ãƒ›ãƒ³æœ¬ä½“ã®å½¢çŠ¶ãŒå¤§ããç•°ãªã‚‹ã®ã§ä»•æ–¹ãªã„ã§ã™ãŒã€ã“ã‚Œã«é–¢ã—ã¦ã¯ AirPods ã®ã»ã†ãŒå‹ã‚‹ç‚¹ã§ã™ã­ã€‚\nç¶šã„ã¦ã‚¤ãƒ¤ãƒ›ãƒ³æœ¬ä½“ã®å¤–è¦³ã§ã™ã€‚\nAirPods ãŒã‚¤ãƒ³ãƒŠãƒ¼ã‚¤ãƒ¤ãƒ¼å‹ã ã£ãŸã®ã«å¯¾ã—ã¦ã€Powerbeats Pro ã¯ã‚«ãƒŠãƒ«å‹ã§ã€ã‚ˆã‚Šå®‰å®šã—ãŸè£…ç€æ„Ÿã‚’å¾—ã‚‹ãŸã‚ã«ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒƒã‚¯ãŒã¤ã„ã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ã‚¤ãƒ¤ãƒ›ãƒ³æœ¬ä½“ã‚‚å¤§ãã„ã§ã™ã€‚\nè©³ç´°ãªæ•°å€¤ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚(å·¦å³å„)\né‡é‡ ã‚µã‚¤ã‚º AirPods 4 g 16.5 Ã— 18.0 Ã— 40.5 mm Powerbeats Pro 20.3 g 56 mm (é«˜ã•) AirPods (ç¬¬2ä¸–ä»£) with Charging Case - æŠ€è¡“ä»•æ§˜ åŒæ¢±ç‰© åŒæ¢±ç‰©ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\nå®Œå…¨ãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹ã®Powerbeats Proã‚¤ãƒ¤ãƒ•ã‚©ãƒ³ å……é›»ã‚±ãƒ¼ã‚¹ 4 ç¨®é¡ã®ã‚µã‚¤ã‚ºã®ã‚¤ãƒ¤ãƒ¼ãƒãƒƒãƒ— Lightning - USB-A å……é›»ã‚±ãƒ¼ãƒ–ãƒ« ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰ å……é›»ã¯ç›¸å¤‰ã‚ã‚‰ãš Lightning ã§ã™ã€‚ã“ã“ã¯ USB Type-C ã§ã‚‚ã‚ˆã‹ã£ãŸã‚“ã˜ã‚ƒãªã„ã‹ãªã¨ã¯æ€ã„ã¾ã™ã€‚ã¡ãªã¿ã«ä»˜å±ã—ã¦ã„ã‚‹ Lightning ã‚±ãƒ¼ãƒ–ãƒ«ã¯é»’ãªã®ã§ã€ã¡ã‚‡ã£ã¨çã—ã„ã‚¢ã‚¤ãƒ†ãƒ ã§ã™ã€‚\nä½¿ç”¨æ„Ÿ ã§ã¯ã€è‚å¿ƒã®ä½¿ç”¨æ„Ÿã«ã¤ã„ã¦ã€æ¬¡ã® 5 é …ç›®ã«åˆ†ã‘ã¦ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã„ãã¾ã™ã€‚\niOS ãƒ‡ãƒã‚¤ã‚¹ã¨ã®æ¥ç¶š éŸ³è³ª æ“ä½œæ€§ è£…ç€æ„Ÿ ãƒãƒƒãƒ†ãƒªãƒ¼ iOS ãƒ‡ãƒã‚¤ã‚¹ã¨ã®æ¥ç¶š å†’é ­ã«ã‚‚æ›¸ãã¾ã—ãŸãŒ Powerbeats Pro ã«ã¯ AirPods ã¨åŒã˜ Apple H1 ãƒãƒƒãƒ—ãŒæ­è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ iOS ãƒ‡ãƒã‚¤ã‚¹ã¨ã®æ¥ç¶šã‚‚éå¸¸ã«ç°¡å˜ã§ã™ã€‚\niOS ãƒ‡ãƒã‚¤ã‚¹ã®è¿‘ãã§ Powerbeats Pro ã®ã‚±ãƒ¼ã‚¹ã‚’é–‹ã‘ã‚‹ã¨ã€ iOS ãƒ‡ãƒã‚¤ã‚¹å´ã§ã™ãã«æ¤œå‡ºã•ã‚Œã¾ã™ã€‚\nã“ã“ã§ æ¥ç¶š ã‚’æŠ¼ã›ã°æ¥ç¶šå®Œäº†ã§ã™ã€‚ä»¥é™ã¯ã€è€³ã« Powerbeats Pro ã‚’ã¤ã‘ã‚‹ã¨åŒæ™‚ã«è‡ªå‹•ã§æ¥ç¶šã•ã‚Œã€ã™ãã«éŸ³æ¥½ã‚’è´ãã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®ã‚ãŸã‚Šã¯æœ¬å½“ã« AirPods ã¨åŒã˜ã§ã™ã€‚\nã¡ãªã¿ã«ã€è€³ã«è£…ç€ã—ãŸæ™‚ã«ãªã‚‹åŠ¹æœéŸ³ã¯ AirPods ã¨ã¯ç•°ãªã‚Šã¾ã™ã€‚\nè£…ç€æ„Ÿ å¤–è¦³ã®é …ç›®ã§ã‚¤ãƒ¤ãƒ›ãƒ³æœ¬ä½“ã®é‡é‡ã«ã¤ã„ã¦æ›¸ãã¾ã—ãŸãŒã€å·¦å³ãã‚Œãã‚Œæ•°å€¤çš„ã«ã¯ AirPods ã® 5 å€ ã®é‡é‡ã§ã™ã€‚ãŒã€è£…ç€ã—ãŸæ„Ÿã˜ã¯å…¨ãæ°—ã«ãªã‚Šã¾ã›ã‚“ã€‚\nã•ã™ãŒã«ä½¿ã„å§‹ã‚ã¦ 3 æ—¥é–“ãã‚‰ã„ã¯ã€ 1 æ™‚é–“ãã‚‰ã„è£…ç€ã—ãŸæ™‚ç‚¹ã§è€³ã®è£ (ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒƒã‚¯ãŒå½“ãŸã‚‹éƒ¨åˆ†) ãŒç—›ããªã‚Šã¾ã—ãŸãŒã€ä»Šã§ã¯ã‚‚ã†å…¨ç„¶ç—›ããªã„ã§ã™ã€‚\nPowerbeats Pro ã¯ã‚«ãƒŠãƒ«å‹ãªã®ã§ã€é‡é‡ãŒã™ã¹ã¦ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒƒã‚¯ã«æ›ã‹ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚è€³ã®ç©´ã«å…¥ã‚Œã¦ã‚‹æ™‚ç‚¹ã§ã»ã¼å›ºå®šã•ã‚Œã¦ãŠã‚Šã€ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒƒã‚¯ã¯ã‚ãã¾ã§ã‚‚è£œåŠ©çš„ãªå½¹å‰²ã§ã™ã€‚ãã®ãŸã‚ã€æ•°å€¤ä¸Šã¯ 5 å€ã®é‡é‡ã§ã™ãŒã€è£…ç€ã—ãŸæ„Ÿã˜ã¯å…¨ãé•å’Œæ„Ÿã‚ã‚Šã¾ã›ã‚“ã€‚\nã¾ã‚ã€ AirPods ã¯æœ¬å½“ã«è£…ç€æ„ŸãŒç„¡ã„ã®ã§ã€ãã‚Œã¨æ¯”ã¹ã‚‹ã¨ã¤ã‘ã¦ã‚‹æ„Ÿã¯ã‚ã‚Šã¾ã™ãŒã€‚\nè£…ç€æ„Ÿã¨ã¯å°‘ã—é•ã„ã¾ã™ãŒã€ã“ã®å½¢çŠ¶ã‚†ãˆã«æƒé™¤ãŒã—ã«ãã„ã§ã™ã€‚AirPods ã¨æ¯”ã¹ã¦çš®è†šã¨æ¥ã—ã¦ã„ã‚‹é¢ç©ã‚‚å¤šããªã‚‹ãŸã‚ã€ã©ã†ã—ã¦ã‚‚çš®è„‚ãªã©ã®æ±šã‚ŒãŒã¤ãã‚„ã™ããªã£ã¦ã„ã¾ã™ã€‚å¤å ´ãªã©ã¯ç‰¹ã«ã€‚\næœ¬ä½“ã¯é˜²æ°´ä»•æ§˜ãªã®ã§æ±—ã«ã‚ˆã‚‹æ•…éšœã¯ãã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ãŒã€æƒé™¤ã¯å°‘ã—ã‚„ã‚Šã«ãã„ã§ã™ã­ã€‚\néŸ³è³ª ã“ã‚Œã¯ã‚‚ã†ã€ä¸€è¨€ã€è‰¯ã„ã§ã™ã€‚\nã‚«ãƒŠãƒ«å‹ã¨ã„ã†ã“ã¨ã§éŸ³æ¼ã‚Œã®å¿ƒé…ãŒã»ã¼ãªãã€ã¾ãŸå¤–ã‹ã‚‰ã®ãƒã‚¤ã‚ºã‚‚é˜²ãã“ã¨ãŒã§ãã‚‹ã®ã§ã€ AirPods ã¨æ¯”è¼ƒã—ãŸå ´åˆ ã‚ˆã‚Šé«˜éŸ³è³ªã«æ„Ÿã˜ã¾ã™ã€‚\nãŸã ã€ã‚«ãƒŠãƒ«å‹ã¨è¨€ã£ã¦ã‚‚å¤–ã®éŸ³ã‚’å®Œå…¨ã«ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã™ã‚‹ã‚ã‘ã§ã¯ãªãã€éŸ³é‡ã‚’å°ã•ãã™ã‚Œã°æ™®é€šã«ä¼šè©±ã§ãã‚‹ç¨‹åº¦ã®éŸ³ã¯èã“ãˆã¾ã™ã€‚\nAirPods ã§ã¯ã©ã†ã—ã¦ã‚‚å¤–ã®éŸ³ãŒã‹ãªã‚Šå…¥ã£ã¦ãã¦ã—ã¾ã†ã®ã§ã€é€šå‹¤ã§ã¯æ­£ç›´ä½¿ã„ã¥ã‚‰ã‹ã£ãŸã§ã™ã€‚ã—ã‹ã—ã€ Powerbeats Pro ã¯ã‚‚ã†æœ€é«˜ã§ã™ã­ã€‚é›»è»Šå†…ã€é§…ã®ãƒ›ãƒ¼ãƒ ã§ã‚‚å¿«é©ã«éŸ³æ¥½ã‚’è´ãã“ã¨ãŒã§ãã¾ã™ã€‚\næ“ä½œæ€§ Powerbeats Pro ã«ã¯å·¦å³ä¸¡æ–¹ã«ç‰©ç†çš„ãªãƒœã‚¿ãƒ³ãŒ 2 ã¤ (3 ã¤) ä»˜ã„ã¦ã„ã¾ã™ã€‚\nã¾ãš 1 ã¤ç›®ã¯éŸ³é‡èª¿æ•´ãƒœã‚¿ãƒ³ã€‚\næœ¬ä½“ã®ä¸Šéƒ¨ã«ã¤ã„ã¦ã„ã‚‹æ¨ªé•·ã®ãƒœã‚¿ãƒ³ã§ã™ã€‚è£…ç€ã—ãŸæ™‚ã«ã¯ã€æœ¬ä½“ã‚’è¦ªæŒ‡ã¨äººå·®ã—æŒ‡ã§ä¸Šä¸‹ã‹ã‚‰æŒŸã‚“ã§ã€äººå·®ã—æŒ‡ã§æŠ¼ã›ã‚‹å ´æ‰€ã«ã‚ã‚Šã¾ã™ã€‚ä¸¡ç«¯ã‚’æŠ¼ã™ã“ã¨ã§ã€éŸ³é‡ã® UP/DOWN ãŒã§ãã¾ã™ã€‚å·¦å³ä¸¡æ–¹ã«ã¤ã„ã¦ã„ã¾ã™ãŒã€éŸ³é‡ã¯å…±é€šã«ãªã£ã¦ã„ã¾ã™ã€‚\n2 ã¤ç›®ã¯ã€æœ¬ä½“ã®å´é¢ã«ã‚ã‚‹ b ã¨æ›¸ã‹ã‚Œã¦ã„ã‚‹ãƒœã‚¿ãƒ³ã§ã™ã€‚\nã“ã“ã¯ AirPods ã§ã„ã†ã¨ã‚¿ãƒƒãƒ—ã§æ“ä½œã—ã¦ã„ãŸéƒ¨åˆ†ã«ã‚ãŸã‚Šã¾ã™ã€‚Powerbeats Pro ã§ã¯ç‰©ç†çš„ãªãƒœã‚¿ãƒ³ã«ãªã£ã¦ã„ã¾ã™ãŒã€æŠ¼ã—å¿ƒåœ°ã¯ã‹ãªã‚Šè»½ã„ã§ã™ã€‚\nã“ã® b ãƒœã‚¿ãƒ³ã¯ã€æŠ¼ã™å›æ•°ã«ã‚ˆã£ã¦å‹•ä½œãŒå¤‰ã‚ã‚Šã¾ã™ã€‚\nã‚·ãƒ³ã‚°ãƒ« : éŸ³æ¥½ã®å†ç”Ÿ/åœæ­¢ ãƒ€ãƒ–ãƒ« : æ›²é€ã‚Š ãƒˆãƒªãƒ—ãƒ« : æ›²æˆ»ã— é•·æŠ¼ã— : Siri èµ·å‹• AirPods ã§ã¯ã‚¿ãƒƒãƒ—å›æ•°ã«å¿œã˜ã¦æ©Ÿèƒ½ã‚’ (ã»ã¼) è‡ªç”±ã«å‰²ã‚ŠæŒ¯ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸãŒã€ Powerbeats Pro ã§ã¯ä¸Šè¨˜ã§å›ºå®šã«ãªã£ã¦ã„ã¾ã™ã€‚ã¾ã‚ã€ååˆ†ãªæ“ä½œæ€§èƒ½ã§ã™ã­ã€‚\nãƒãƒƒãƒ†ãƒªãƒ¼ ãƒãƒƒãƒ†ãƒªãƒ¼ã«é–¢ã—ã¦ã¯ã€ç¬¬ 2 ä¸–ä»£ AirPods ã‚ˆã‚Šã‚‚æŒã¡ãŒè‰¯ã„ã§ã™ã€‚\nAirPods ã®ãƒãƒƒãƒ†ãƒªãƒ¼ã«é–¢ã—ã¦ã¯æ¬¡ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\n24 æ™‚é–“ä»¥ä¸Šã®ãƒãƒƒãƒ†ãƒªãƒ¼é§†å‹•æ™‚é–“ (å……é›»ã‚±ãƒ¼ã‚¹ã‚’ä½¿ç”¨ã—ãŸå ´åˆ) æœ€å¤§ 5 æ™‚é–“ã®å†ç”Ÿæ™‚é–“ (1 å›ã®å……é›»ã§) ã‚ãšã‹ 15 åˆ†ã®å……é›»ã§æœ€å¤§ 3 æ™‚é–“ã®å†ç”Ÿæ™‚é–“ ä¸€æ–¹ã€ Powerbeats Pro ã®ãƒãƒƒãƒ†ãƒªãƒ¼ã«é–¢ã—ã¦ã¯æ¬¡ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nå……é›»ã‚±ãƒ¼ã‚¹ã‚’ä½¿ç”¨ã™ã‚Œã°ã€ 24 æ™‚é–“ä»¥ä¸Šã®å†ç”ŸãŒå¯èƒ½ æœ€é•· 9 æ™‚é–“ã®å†ç”Ÿ 5 åˆ†ã®å……é›»ã§ç´„ 90 åˆ†å†ç”Ÿ ã¤ã¾ã‚Šã€ 1 å›ã®å……é›»ã§éŸ³æ¥½å†ç”Ÿã§ãã‚‹æ™‚é–“ã‚‚ã€æ€¥é€Ÿå……é›»ã«ã‚ˆã£ã¦ç¢ºä¿ã§ãã‚‹å†ç”Ÿæ™‚é–“ã‚‚ã€ Powerbeats Pro ã®ã»ã†ãŒé•·ã„ã‚“ã§ã™ã€‚\næœ¬ä½“ã‚µã‚¤ã‚ºã®ãŠã‹ã’ã§ãƒãƒƒãƒ†ãƒªãƒ¼å®¹é‡ã‚’ç¢ºä¿ã§ãã¦ã„ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€é•·æ™‚é–“ä½¿ç”¨ã§ãã‚‹ã¨ã„ã†ã¯ã‚ã‚ŠãŒãŸã„ã§ã™ã­ã€‚\nã¾ã¨ã‚ Apple H1 ãƒãƒƒãƒ—ã‚’æ­è¼‰ã—ãŸ Beats ã®å®Œå…¨ãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹ã‚¤ãƒ¤ãƒ›ãƒ³ Powerbeats Pro ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã—ãŸã€‚\nç™ºè¡¨ã‹ã‚‰ç™ºå£²ã¾ã§ã‹ãªã‚Šå¾…ãŸã•ã‚Œã¾ã—ãŸãŒã€ã“ã‚Œã¯è²·ã£ã¦ã‚ˆã‹ã£ãŸã§ã™ã€‚å€‹äººçš„ 2019 å¹´ãƒ™ã‚¹ãƒˆãƒã‚¤ã«å ‚ã€…ã®ãƒ©ãƒ³ã‚¯ã‚¤ãƒ³ã§ã™ã€‚\nAirPods ã‚‚éå¸¸ã«è‰¯ã„ã‚¤ãƒ¤ãƒ›ãƒ³ã§ã—ãŸã€‚ç‰¹ã« iOS ãƒ‡ãƒã‚¤ã‚¹ã¨ã®è¦ªå’Œæ€§ã¯æœ€é«˜ã§ã™ã€‚ãŒã€ã‚„ã¯ã‚Šã‚¤ãƒ³ãƒŠãƒ¼ã‚¤ãƒ¤ãƒ¼å‹ã§ã¯å¿«é©ã«éŸ³æ¥½ã‚’è´ãã“ã¨ãŒã§ããšã€ä¸ä¾¿ã•ã‚’æ„Ÿã˜ã¦ã„ã¾ã—ãŸã€‚\nã—ã‹ã—ã€æ€§èƒ½ã¯ã»ã¼ãã®ã¾ã¾ã§ã‚«ãƒŠãƒ«å‹ã«ãªã£ãŸ Powerbeats Pro ã€ã“ã‚Œã¯ã‚‚ã†æœ€é«˜ã®ã‚¤ãƒ¤ãƒ›ãƒ³ã§ã™ã€‚\nã—ã„ã¦æ¬ ç‚¹ã‚’æŒ™ã’ã‚‹ã¨ã™ã‚Œã°ã€å……é›»ã‚±ãƒ¼ã‚¹ãŒã‹ãªã‚Šå¤§ãã„ã¨ã„ã†ã“ã¨ã§ã™ã‹ã­ã€‚ã§ã‚‚ãã‚Œä»¥å¤–ã¯å®Œç’§ã§ã™ã€‚ä¸æº€ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã¡ãªã¿ã«ç¾æ™‚ç‚¹ (7/31) ã§è³¼å…¥ã§ãã‚‹ã®ã¯ ãƒ–ãƒ©ãƒƒã‚¯ ã®ã¿ã§ã€ã‚¢ã‚¤ãƒœãƒªãƒ¼ã€ãƒ¢ã‚¹ã€ãƒã‚¤ãƒ“ãƒ¼ ã«ã¤ã„ã¦ã¯ã¾ã è³¼å…¥ã§ãã¾ã›ã‚“ã€‚(ç™ºå£²é–‹å§‹æ™‚æœŸã‚‚æœªå®šã§ã™) 8/23ã€ã¤ã„ã«ä»–ã® 3 è‰² (ã‚¢ã‚¤ãƒœãƒªãƒ¼ã€ãƒ¢ã‚¹ã€ãƒã‚¤ãƒ“ãƒ¼) ã®ç™ºå£²ã‚‚é–‹å§‹ã•ã‚Œã¾ã—ãŸï¼å€‹äººçš„ã«ã¯ãƒã‚¤ãƒ“ãƒ¼ãŒã™ã”ãè‰¯ã„é›°å›²æ°—å‡ºã—ã¦ã‚‹ãªãƒ¼ã£ã¦ã„ã†æ„Ÿã˜ã§ã™ã€‚ Apple Store ãŠã‚ˆã³ Amazon ã§è³¼å…¥ã§ãã‚‹ã®ã§ã€ AirPods ã®æ€§èƒ½ã¯ã„ã„ã‘ã©é®éŸ³æ€§ãŒ\u0026hellip;ã¨æ€ã£ã¦ã„ã‚‹æ–¹ã¯ãœã² Powerbeats Pro ã‚’ä½¿ã£ã¦ã¿ã¦ãã ã•ã„ã€‚è€³ãŒå¹¸ã›ã«ãªã‚Œã¾ã™ã€‚\nâ€»è¿½è¨˜ 2019/11/28\nPowerbeats Pro ã®è‰¯ããªã„ãªã¨æ„Ÿã˜ã‚‹ã¨ã“ã‚ã«ã¤ã„ã¦ã‚‚æ›¸ãã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/gadget-review-powerbeats-pro/",
    "title": "[ãƒ¬ãƒ“ãƒ¥ãƒ¼] Powerbeats Pro ã‚’ä½¿ã„å§‹ã‚ãŸã‚‰ãã“ã«ã¯å¿«é©ã•ã—ã‹ãªã‹ã£ãŸ ãƒ¼ ã•ã‚‰ã° AirPods ãƒ¼"
  },
  {
    "contents": "AWS ã§ã¯ Beta ã‚„ Preview ã¨ã—ã¦ã‚µãƒ¼ãƒ“ã‚¹ãŒåˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œã‚‰ã®ã€ã¾ã æ­£å¼ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã„ãªã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹éš›ã«æ³¨æ„ã™ã¹ãã“ã¨ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚\nAWS Service Terms AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹éš›ã®è¦ç´„ãŒã‚ã‚Šã¾ã™ã€‚ãã‚ŒãŒ AWS Service Terms ã§ã™ã€‚\nå„ç¨®è¨€èªã«ç¿»è¨³ã•ã‚ŒãŸã‚‚ã®ã‚‚ã‚ã‚Šã¾ã™ãŒã€ã‚ãã¾ã§ãã‚Œã‚‰ã¯ä¾¿å®œä¸Šæä¾›ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ãªã®ã§ã€è‹±èªç‰ˆã‚’æ­£ã¨ã—ã¾ã™ã€‚\nAWS Service Terms å†…å®¹ã¨ã—ã¦ã¯ã€ AWS ã§åˆ©ç”¨ã§ãã‚‹å„ã‚µãƒ¼ãƒ“ã‚¹ã¨ã€èªå®šè©¦é¨“ãŠã‚ˆã³ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã«é–¢ã™ã‚‹è¦ç´„ã§ã™ã€‚ãã®ä¸€éƒ¨ã¨ã—ã¦ã€ Beta Service Participation ã¨ã„ã†ãƒ‘ãƒ¼ãƒˆãŒã‚ã‚Šã€ Beta ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ©ç”¨ã«é–¢ã™ã‚‹è¦ç´„ãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nã“ã‚Œã‚’æ›¸ã„ã¦ã„ã‚‹æ™‚ç‚¹ (2019/07/28) ã§ã¯ã€æœ€çµ‚æ›´æ–°æ—¥ãŒ 2019/07/22 ã¨ãªã£ã¦ã„ã¾ã™ã€‚AWS Service Terms ã¯é »ç¹ã«æ›´æ–°ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ãªã®ã§ã€ã“ã®è¨˜äº‹ã‚’ã”è¦§ã«ãªã‚‹é ƒã«ã¯æƒ…å ±ãŒå¤ããªã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚\nBeta Service Participation AWS Service Terms ã®ä¸­ã® 1.10 ãŒ Beta Service Participation ã¨ãªã£ã¦ã„ã¦ã€ Beta ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ©ç”¨ã«é–¢ã™ã‚‹è¦ç´„ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nã“ã“ã§ã„ã† Beta ã‚µãƒ¼ãƒ“ã‚¹ã¨ã¯ã€â€œbetaâ€, â€œpreviewâ€, â€œpre-releaseâ€, ã¾ãŸã¯ â€œexperimentalâ€ ãªã©ã¨æ›¸ã‹ã‚Œã¦ã„ã‚‹è©¦é¨“çš„ãªã‚µãƒ¼ãƒ“ã‚¹ãŠã‚ˆã³ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®ã“ã¨ã‚’æŒ‡ã—ã¾ã™ã€‚\né …ç›®ã¨ã—ã¦ã¯ 1.10.1 ã‹ã‚‰ 1.10.10 ã¾ã§ã® 10 é …ç›®ã§æ§‹æˆã•ã‚Œã¦ãŠã‚Šã€ã‚ã‹ã‚Šã‚„ã™ã„ã¨ã“ã‚ã ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªå†…å®¹ãŒã‚ã‚Šã¾ã™ã€‚\nã‚µãƒ¼ãƒ“ã‚¹ã®å†…å®¹å¤‰æ›´ã€æä¾›çµ‚äº†ã¯ AWS ãŒã„ã¤ã§ã‚‚å®Ÿè¡Œã§ãã‚‹ äº‹å‰ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã«ã¤ã„ã¦é€šçŸ¥ã¯ã•ã‚Œãªã„ ãƒã‚°ã€ç‘•ç–µãŒå«ã¾ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ AWS ãŠã‚ˆã³é–¢é€£ä¼šç¤¾ã¯å…¨ã¦ã®ä¿éšœã‚’ã—ãªã„ ã¾ã‚ã€ Beta ãªã®ã§è‡ªå·±è²¬ä»»ã§ä½¿ã£ã¦ã­ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚ãã‚Œã¯ãã†ã§ã—ã‚‡ã†ã€‚ç´å¾—ã§ã™ã€‚\nã²ã¨ã¤æ°—ã«ãªã£ãŸã®ãŒã€ 1.10.8 ã®å†…å®¹ã§ã™ã€‚\n1.10.8 Beta Materials, Test Observations, Suggestions concerning a Beta Service or Beta Region, or any other information about or involving (including the existence of) any Beta Service or Beta Region are considered AWS Confidential Information. You will not disclose (including, but not limited to, in a press release or public statement) any Beta Materials, Test Observations, Suggestions concerning a Beta Service, or any other information about or involving (including the existence of) any Beta Service, except as agreed by AWS in writing.\nç¿»è¨³ã™ã‚‹ã¨ã€ Beta ã‚µãƒ¼ãƒ“ã‚¹ã®ç´ æã€ãƒ†ã‚¹ãƒˆçµæœã€ãã®ä»– Beta ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢ã™ã‚‹æƒ…å ± (Beta ã‚µãƒ¼ãƒ“ã‚¹ã®å­˜åœ¨è‡ªä½“ã‚’å«ã‚€) ã«ã¤ã„ã¦ã¯å…¨ã¦ AWS ã®ç§˜å¯†æƒ…å ±ã¨ã•ã‚Œã€ãã‚Œã‚‰ã‚’ä¸€åˆ‡é–‹ç¤ºã—ãªã„ ã¨ã„ã†å†…å®¹ã§ã™ã€‚\nã¤ã¾ã‚Šã€ Beta ã¨ã—ã¦æä¾›ã•ã‚ŒãŸã‚µãƒ¼ãƒ“ã‚¹ã‚’ã¡ã‚‡ã£ã¨è§¦ã£ã¦ã¿ã¦ã€ãã‚Œã§å¾—ã‚‰ã‚ŒãŸæƒ…å ± (ãƒ­ã‚°ã‚„ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã®è¡¨ç¤ºãªã©) ã‚’ãƒ–ãƒ­ã‚°ãªã©ã§å…¬é–‹ã™ã‚‹ã“ã¨ã¯ã€ã“ã® 1.10.8 ã«æŠµè§¦ã—ã¾ã™ã€‚\nBeta ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚ˆã£ã¦ã¯ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã® Get Started çš„ãªç”»é¢ã§ By using this service you agree to Section 1.10 \u0026ldquo;Beta Service Participation\u0026rdquo; in AWS Service Terms ã¨ã„ã£ãŸå†…å®¹ã®æ–‡ç« ãŒæ›¸ã‹ã‚Œã¦ãŠã‚Šã€åˆ©ç”¨ã™ã‚‹ã«ã‚ãŸã£ã¦ã¯ AWS Service Terms ã® 1.10 ã«åŒæ„ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nãªã®ã§ã€ ä¸€åˆ‡é–‹ç¤ºã—ãªã„ ã«ã‚‚åŒæ„ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ãŸã¨ãˆãã®ã‚µãƒ¼ãƒ“ã‚¹ãŒ Public beta ã§ã‚ã£ã¦ã‚‚ã§ã™ã€‚\nã›ã£ã‹ãè©¦ã—ã¦ã¿ã‚‹ãªã‚‰ã€ãã®çµæœã‚’å…±æœ‰ã—ãŸããªã‚‹ã‚‚ã®ã ã¨æ€ã†ã‚“ã§ã™ãŒã€ä»•æ–¹ãªã„ã§ã™ã­ã€‚\nã¾ã¨ã‚ AWS ã® Beta ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã†ã¨ãã«æ³¨æ„ã™ã‚‹ã“ã¨ã«ã¤ã„ã¦æ›¸ãã¾ã—ãŸã€‚\nå®Ÿã¯æœ€è¿‘ public beta ã¨ã—ã¦å…¬é–‹ã•ã‚ŒãŸã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦å®Ÿéš›ã«è§¦ã£ã¦ã¿ãŸãƒ–ãƒ­ã‚°ã‚’æ›¸ã„ãŸã‚“ã§ã™ãŒã€ã©ã†ã‚„ã‚‰ãã®è¨˜äº‹ã‚‚æ€ªã—ã„ã¨è¨€ã†ã“ã¨ã§å‰Šé™¤ã„ãŸã—ã¾ã—ãŸã€‚\nã“ã®ãƒ–ãƒ­ã‚°å§‹ã¾ã£ã¦ä»¥æ¥ã®ãƒ—ãƒãƒã‚ºã‚Šã€ãƒ–ã‚¯ãƒã‚‚ 50 ä»¥ä¸Šã¤ã‘ã¦ã„ãŸã ã„ã¦ã„ãŸã®ã§ã™ãŒã€ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ã€‚\nã¾ã‚ã€ã‚„ã£ã¦ã‚‹å†…å®¹ã¯ AWS å…¬å¼ã®ãƒ–ãƒ­ã‚°ã§ã‚„ã£ã¦ã„ã‚‹ã“ã¨ã¨åŒã˜ãªã®ã§ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nä¸€å¿œã€æœ¬å½“ã«ãƒ€ãƒ¡ãªã®ã‹ AWS ã®ã‚µãƒãƒ¼ãƒˆã«ã¯å•ã„åˆã‚ã›ã¦ã„ã‚‹ã®ã§ã€ä½•ã‹é€²å±•ã‚ã‚Œã°è¿½è¨˜ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-use-beta-service/",
    "title": "AWS ã® Beta ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã†ã¨ãã«æ³¨æ„ã™ã‚‹ã“ã¨"
  },
  {
    "contents": "å…ˆæ—¥ GA ã¨ãªã£ãŸ AWS CDK ã®ãƒŸãƒ¼ãƒˆã‚¢ãƒƒãƒ— AWS Cloud Development Kit (CDK) GA è¨˜å¿µ Meetup ãŒ AWS Loft Tokyo ã§é–‹å‚¬ã•ã‚Œã¾ã—ãŸã€‚\nCDK ã«ã¤ã„ã¦ã¯ã»ã¼ä½¿ç”¨çµŒé¨“ãŒãªã„ã®ã§ã™ãŒã€ä»Šå¾Œä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚ŠãŸã„ã¨æ€ã„å‚åŠ ã—ã¦ãã¾ã—ãŸã€‚ãã®ãƒ¬ãƒãƒ¼ãƒˆã§ã™ã€‚\nã¡ãªã¿ã«ã€äº‹å‰ã®ç”³è¾¼ã¿æ™‚ç‚¹ã§ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã¯ AWS Cloud Development Kit (CDK) Meetup ã§ã—ãŸãŒã€å½“æ—¥ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã§ã¯ GA è¨˜å¿µ ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚\nã‚¤ãƒ™ãƒ³ãƒˆã®æ¦‚è¦ å„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒ¬ãƒãƒ¼ãƒˆ (ã¨ã„ã†åã®ãƒ¡ãƒ¢) AWSã®ã‚¤ãƒ³ãƒ•ãƒ©ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚³ãƒ¼ãƒ‰ã§æ§‹ç¯‰ï¼AWS Cloud Development Kitå…¥é–€ CDKã‚’ç”¨ã„ãŸãƒ¢ãƒ€ãƒ³ãªECSã‚¯ãƒ©ã‚¹ã‚¿ã®æ§‹ç¯‰ã¨é‹ç”¨ ã¯ã¦ãªãƒ–ãƒ­ã‚°ã‚¿ã‚°ã¨CDK Ansible \u0026#43; CloudFormation ã‚’ã€AWS CDK ã«ç§»è¡Œã™ã‚‹æ–¹æ³• ã¾ã¨ã‚ãƒ»æ„Ÿæƒ³ ã‚¤ãƒ™ãƒ³ãƒˆã®æ¦‚è¦ 2018å¹´8æœˆã« Developer Preview ã¨ã—ã¦ç™ºè¡¨ã•ã‚ŒãŸ AWS Cloud Development Kit (AWS CDK) ã¯ AWSã®ç’°å¢ƒã‚’ç®¡ç†ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’TypeScript ã‚„ Python ãªã©ä¸€èˆ¬ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã‚’ä½¿ã£ã¦è¨˜è¿°ã§ãã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚ CDKã¯AWSãƒªã‚½ãƒ¼ã‚¹ã«å¯¾ã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ã®æŠ½è±¡ãƒ¬ã‚¤ãƒ¤ã‚’æä¾›ã™ã‚‹ã»ã‹ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¨ã—ã¦AWSã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’çµ„ã¿è¾¼ã¿ã€å°‘ãªã„ã‚³ãƒ¼ãƒ‰é‡ã§è¨˜è¿°ã§ãã‚‹ã‚ˆã†è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚ ã“ã®CDKã«ã¤ã„ã¦è§£èª¬ã—ã€ãŠå®¢æ§˜äº‹ä¾‹ã‚’å…±æœ‰ã„ãŸã ãMeetupã‚’é–‹å‚¬ã—ã¾ã™ã€‚ã™ã§ã«CDKã‚’æ´»ç”¨ã•ã‚Œã¦ã„ã‚‹ã¯ã¦ãªæ§˜ã€DeNAæ§˜ã«ã”ç™»å£‡ã„ãŸã ãã¾ã™ã€‚ ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ ã‹ã‚‰å¼•ç”¨ å‚åŠ å¯¾è±¡è€…ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã—ãŸã€‚\nã‚³ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦AWSã®ç’°å¢ƒã‚’æ§‹ç¯‰ãƒ»é‹ç”¨ã—ãŸã„ã¨æ€ã£ã¦ã„ã‚‹æ–¹ ã™ã§ã« AWS CloudFormation ã‚’åˆ©ç”¨ã—ã¦ã„ã¦ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®è¨˜è¿°æ–¹æ³•ã‚’æ”¹å–„ã—ãŸã„ã¨æ€ã£ã¦ã„ã‚‹æ–¹ CDKã‚’ä½¿ã£ãŸAWSç’°å¢ƒç®¡ç†ã®äº‹ä¾‹ã‚’çŸ¥ã‚ŠãŸã„ã¨æ€ã£ã¦ã„ã‚‹æ–¹ ç§ã¯ã“ã®æ¡ä»¶ã§è¨€ã†ã¨ ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦AWSã®ç’°å¢ƒã‚’æ§‹ç¯‰ãƒ»é‹ç”¨ã—ãŸã„ã¨æ€ã£ã¦ã„ã‚‹æ–¹ ã¨ CDKã‚’ä½¿ã£ãŸAWSç’°å¢ƒç®¡ç†ã®äº‹ä¾‹ã‚’çŸ¥ã‚ŠãŸã„ã¨æ€ã£ã¦ã„ã‚‹æ–¹ ã«è©²å½“ã™ã‚‹çŠ¶æ…‹ã§ã—ãŸã€‚\nãŸã ã€ã‚¤ãƒ™ãƒ³ãƒˆå‚åŠ æ™‚ç‚¹ã§ã¯ã‚¤ãƒ³ãƒ•ãƒ©ã®ã‚³ãƒ¼ãƒ‰åŒ–ã«ã¤ã„ã¦ã¯æœªçµŒé¨“ (CFn ã¨ CDK ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãƒ¬ãƒ™ãƒ«) ã§ã€ã“ã‚Œã‚’æ©Ÿã« IaC ã«å¯¾ã™ã‚‹ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é«˜ã‚ã¦å‹‰å¼·ã—ã¦ã„ã“ã†ã¨ã„ã†æ°—æŒã¡ã§å‚åŠ ã—ã¾ã—ãŸã€‚\nã‚¿ã‚¤ãƒ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã—ãŸã€‚\n6:30PMâ€“7:00PM å—ä»˜ 7:00PMâ€“7:05PM ã“ã‚™ã‚ã„ã•ã¤ãƒ»äº‹å‰èª¬æ˜ 7:05PMâ€“7:50PM AWSã®ã‚¤ãƒ³ãƒ•ãƒ©ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚³ãƒ¼ãƒ‰ã§æ§‹ç¯‰ï¼AWS Cloud Development Kitå…¥é–€ï¼ˆä»®ï¼‰\nã‚¢ãƒã‚¾ãƒ³ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒ“ã‚¹ã‚¸ãƒ£ãƒ‘ãƒ³æ ªå¼ä¼šç¤¾\nSolutions Architect ç¦äº•åš 7:50PMâ€“8:10PM CDKã‚’ç”¨ã„ãŸãƒ¢ãƒ€ãƒ³ãªECSã‚¯ãƒ©ã‚¹ã‚¿ã®æ§‹ç¯‰ã¨é‹ç”¨\næ ªå¼ä¼šç¤¾ã¯ã¦ãª ã‚µãƒ¼ãƒ“ã‚¹ãƒ»ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºæœ¬éƒ¨ ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ éƒ¨ SRE\nby id:cohalz åŸç”°é™½å¤ª (ãƒãƒ©ãƒ€ãƒ¨ã‚¦ã‚¿) æ° 8:10PMâ€“8:30PM ã¯ã¦ãªãƒ–ãƒ­ã‚°ã‚¿ã‚°ã¨CDK\næ ªå¼ä¼šç¤¾ã¯ã¦ãª ã‚µãƒ¼ãƒ“ã‚¹ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºæœ¬éƒ¨ ç¬¬1ã‚°ãƒ«ãƒ¼ãƒ— ãƒ–ãƒ­ã‚°çµ±åˆãƒãƒ¼ãƒ  ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢\nby id:aereal ä¸­æ¾¤äº®å¤ª (ãƒŠã‚«ã‚¶ãƒ¯ãƒªãƒ§ã‚¦ã‚¿) æ° 8:30PMâ€“9:00PM Ansible + CloudFormation ã‚’ã€AWS CDK ã«ç§»è¡Œã™ã‚‹æ–¹æ³•\næ ªå¼ä¼šç¤¾ãƒ‡ã‚£ãƒ¼ãƒ»ã‚¨ãƒŒãƒ»ã‚¨ãƒ¼\nby ä½è—¤å­¦ æ° 9:00PMâ€“9:05PM ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ³ã‚° å„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒ¬ãƒãƒ¼ãƒˆ (ã¨ã„ã†åã®ãƒ¡ãƒ¢) å„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒ¬ãƒãƒ¼ãƒˆ ã¨ã„ã†åã®ãƒ¡ãƒ¢ã§ã™ã€‚ãƒ¡ãƒ¢ãƒ¬ãƒ™ãƒ«ãªã®ã§è¡¨è¨˜ã‚†ã‚Œãƒ»èª¤å­—è„±å­—å¤šã„ã¨æ€ã„ã¾ã™ã€‚\nAWSã®ã‚¤ãƒ³ãƒ•ãƒ©ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚³ãƒ¼ãƒ‰ã§æ§‹ç¯‰ï¼AWS Cloud Development Kitå…¥é–€ ã‚¢ãƒã‚¾ãƒ³ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒ“ã‚¹ã‚¸ãƒ£ãƒ‘ãƒ³æ ªå¼ä¼šç¤¾\nSolutions Architect ç¦äº•åš\nãã‚‚ãã‚‚ CDK ãŒç”Ÿã¾ã‚ŒãŸèƒŒæ™¯ã¨ã¯ æ‰‹ä½œæ¥­ã¯å§‹ã‚ã‚‹ã®ã¯ç°¡å˜ã ãŒç¹°ã‚Šè¿”ã—ã®ä½œæ¥­ã§ã¯ãƒŸã‚¹ãŒèµ·ãã‚„ã™ã„ API ã‚³ãƒ¼ãƒ«ãŒå¤±æ•—ã—ãŸã‚‰ï¼Ÿã©ã†ãªã£ãŸã‚‰ãƒªã‚½ãƒ¼ã‚¹ãŒåˆ©ç”¨å¯èƒ½ãªçŠ¶æ…‹ï¼Ÿãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯ï¼Ÿ CFn ã‚’ä½¿ã†ã¨ãã®ã‚ãŸã‚ŠãŒå®¹æ˜“ã€å†ä½œæˆã‚‚å¯èƒ½ã«ã€‚ãŸã ã—æ–‡æ³•ãŒè¾›ã„ ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã§ã‚‚è¾›ã•ãŒã‚ã‚‹ CDK ã¨ã¯ CDK Apprication \u0026gt; Stack (s) \u0026gt; Construct (s) \u0026gt; Construct (s) \u0026hellip; Construct ã¯ AWS CDK App ã®åŸºæœ¬ãƒ“ãƒ«ãƒ‡ã‚£ãƒ³ã‚°ãƒ–ãƒ­ãƒƒã‚¯ å˜ä¸€ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’è¡¨ç¾ã—ãŸã‚Šã€è¤‡æ•°ã® AWS CDK App ã‚’é€£æºã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ AWS Construct Library (æŠ½è±¡åŒ–ãƒ¬ãƒ™ãƒ«) low-level : æ§˜ã€…ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ high-level : ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦ã‚ˆã‚Šç°¡å˜ã«è¨˜è¿°ã§ãã‚‹ Patterns : ã‚ã‚‰ã‹ã˜ã‚ç”¨æ„ã•ã‚ŒãŸè¤‡æ•°ãƒªã‚½ãƒ¼ã‚¹ã®é–¢ä¿‚ã‚’åˆ©ç”¨ã§ãã‚‹\nComposition ã¨å‘¼ã°ã‚Œã‚‹ CFn ã«ã¯ã‚ã‚‹ãŒ CDK ã«ã¯ãªã„å ´åˆã®å›é¿ç­– CFn constructs ã‚’ç›´æ¥åˆ©ç”¨ã™ã‚‹ CFN ãƒªã‚½ãƒ¼ã‚¹ãŒãªã„å ´åˆã¯ cd.CfnResource ã‚’ä½¿ã† (æ±ç”¨ã® CFN ãƒªã‚½ãƒ¼ã‚¹) addOverRideã€addDeleteOverride ã§ä¸Šæ›¸ãã™ã‚‹ CFn ã®ã‚«ã‚¹ã‚¿ãƒ ãƒªã‚½ãƒ¼ã‚¹ã‚’è¨­å®šã™ã‚‹ Stack ã¯ CFn ã® Stack ã¨ (ã»ã¼) åŒæ„ 1é€±é–“å‰ãã‚‰ã„ã« GA Release v1.0.0 Â· aws/aws-cdk Â· GitHub GA ç‰ˆã®å¯¾å¿œè¨€èªã¯ Python, TypeScriptã€‚Java, C# ã¯ Developer Preview AWS::CDK::METADATA ã¨ã„ã†ãƒªã‚½ãƒ¼ã‚¹ã¯å…¨ã¦ã®ã‚¹ã‚¿ãƒƒã‚¯ã«è‡ªå‹•çš„ã«ä»˜ä¸ã•ã‚Œã‚‹ cdk bootstrap ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®è¨­å®š æŒ‡å®šã—ãªã„å ´åˆã¯ AWS CLI ã§æŒ‡å®šã—ã¦ã„ã‚‹ credential ãŒä½¿ç”¨ã•ã‚Œã‚‹ cdk diff ãƒ‡ãƒ—ãƒ­ã‚¤æ¸ˆã¿ã¨å¤‰æ›´ã”ã¨ã®å·®åˆ†ã‚’ç¢ºèªã§ãã‚‹ ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° demo 1 init app ã¨ init sample-app ãŒã‚ã‚‹ã€‚å¾Œè€…ã§ã¯ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒè‡ªå‹•ã§ç”Ÿæˆã•ã‚Œã‚‹ bin é…ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒãƒ¡ã‚¤ãƒ³ã€‚lib é…ä¸‹ã« Stack ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ åŸºæœ¬çš„ã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã€‚å¿…è¦ãªå€¤ã®ã¿æŒ‡å®šã™ã‚‹ cdk synth ã§ CFn ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ cdk deploy ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã‚‹ demo 2 VPC: AZ æ•°ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯æŒ‡å®šã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³å†…ã™ã¹ã¦ã€‚æœ€å¤§æ•°ã‚’æŒ‡å®šã—ã¦æ•°ã‚’åˆ¶é™ã§ãã‚‹ã€‚ ECS: fromAsset() ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè¡Œã®ã¿ã§ ãƒ“ãƒ«ãƒ‰ã€ ECR ã¸ã® push ã¾ã§ã‚„ã£ã¦ãã‚Œã‚‹ã€‚ ã¾ã¨ã‚ Infrastructure IS Code (not AS) AWS CDK Intro Workshop :: AWS Cloud Development Kit (AWS CDK) Workshop SAM ã¨ CDK ã®ä½ã¿åˆ†ã‘ ãã‚Œãã‚ŒãŒé€²åŒ–ã—ã¦ã„ã å¤šå°‘ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ã¯å«ã¾ã‚Œã¦ã„ã‚‹ CDKã‚’ç”¨ã„ãŸãƒ¢ãƒ€ãƒ³ãªECSã‚¯ãƒ©ã‚¹ã‚¿ã®æ§‹ç¯‰ã¨é‹ç”¨ æ ªå¼ä¼šç¤¾ã¯ã¦ãª ã‚µãƒ¼ãƒ“ã‚¹ãƒ»ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºæœ¬éƒ¨ ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ éƒ¨ SRE\nby id:cohalz åŸç”°é™½å¤ª (ãƒãƒ©ãƒ€ãƒ¨ã‚¦ã‚¿) æ°\nã©ã†ã—ã¦ CDK ã‚’æ¡ç”¨ã—ãŸã‹ ã‚¯ãƒ©ã‚¦ãƒ‰ç’°å¢ƒã¯ AWS ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚³ãƒ³ãƒ†ãƒŠåŒ–ã—ã¦ã„ã‚‹ CFn ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯æ¨ªå±•é–‹ãŒå¤§å¤‰ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§æ›¸ã‘ã‚‹ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã—ã‚„ã™ã„ã€å¼·åŠ›ãª CLI ãƒ„ãƒ¼ãƒ« ECS ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œã‚‹ å…¬å¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã‚ã£ãŸãŒæ˜¨æ—¥ãŒè¶³ã‚Šãªã„ ecs.config ã‚’ä½¿ã„ã‚„ã™ãã€SSM ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å°å…¥ã€ã‚¹ãƒãƒƒãƒˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¯¾å¿œ æ—¢å­˜ã®ãƒ„ãƒ¼ãƒ«ã€ä»•çµ„ã¿ã§ã¯ãƒ‡ãƒ—ãƒ­ã‚¤ã‚„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ›´æ–°ãŒé›£ã—ã„ CDK ãªã‚‰ç°¡å˜ã«è¨­å®šã§ãã‚‹ cohalz GitOps GitHub -\u0026gt; CodeBuild -\u0026gt; ECR stg -\u0026gt; prd ã® PR ã‚’è‡ªå‹•ç”Ÿæˆã€stg ç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ ã‚¤ãƒ³ãƒ•ãƒ©ã¨ã‚¢ãƒ—ãƒªã®ã‚³ãƒ¼ãƒ‰ã‚’åˆ†é›¢ã§ããŸ ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆãŒ GitHub ã®ãƒã‚¹ã‚¿ãƒ¼ ä»Šå¾Œã®èª²é¡Œ: cdk diff ã©ã†ã™ã‚‹ï¼Ÿã¾ã ã¾ã æ‰‹ä½œã‚Šã ãŒ\u0026hellip; é–‹ç™ºæ™‚ã«ã‚„ã£ãŸã“ã¨ Jest ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ å®Ÿè¡Œçµæœã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã‚“ã§å‰å›ã®å®Ÿè¡Œæ™‚ã¨ã®å·®åˆ†ã‚’ç¢ºèªã§ãã‚‹ CDK ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæ™‚ Renovate ã¨çµ„ã¿åˆã‚ã›ã¦ãƒ†ã‚¹ãƒˆã‚’é€šã‚Œã°ãƒãƒ¼ã‚¸ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚„ãƒã‚°ã¸ã®å¯¾å¿œ ç¤¾å†… Slack ç©æ¥µçš„ã«ãƒã‚°å ±å‘Šã€PR ã¾ã¨ã‚ æ…£ã‚ŒãŸè¨€èªã§ã‹ã‘ã‚‹ ä»¥ä¸Šã®ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ IaC ã¨ãã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦åˆ©ç”¨ã§ãã‚‹ ã¾ã ã¾ã å‡ºãŸã¨ã“ãªã®ã§çŸ¥è¦‹å…±æœ‰ãŒå¤§äº‹ ã¯ã¦ãªãƒ–ãƒ­ã‚°ã‚¿ã‚°ã¨CDK æ ªå¼ä¼šç¤¾ã¯ã¦ãª ã‚µãƒ¼ãƒ“ã‚¹ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºæœ¬éƒ¨ ç¬¬1ã‚°ãƒ«ãƒ¼ãƒ— ãƒ–ãƒ­ã‚°çµ±åˆãƒãƒ¼ãƒ  ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢\nby id:aereal ä¸­æ¾¤äº®å¤ª (ãƒŠã‚«ã‚¶ãƒ¯ãƒªãƒ§ã‚¦ã‚¿) æ°\nCDK ã¨ã‚ãŸã— ãƒ—ãƒƒãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ãƒ„ãƒ¼ãƒ«ãŒå¥½ã TS å¤§å¥½ã CDK ã¨ã¯ã¦ãªãƒ–ãƒ­ã‚° ã‚¿ã‚° ã‚¤ãƒ³ãƒ•ãƒ©ã¯å…¨ã¦ AWS ECS ã§ãƒ›ã‚¹ãƒˆ è¤‡æ•°ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰ãªã‚‹ (API, GraphQL, SSR ã‚µãƒ¼ãƒ) CFn ã‚’æ¤œè¨ã—ãŸãŒ SG ä½œæˆã§åŒã˜ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãŒå¤šã„ ã‚¯ãƒ­ã‚¹ã‚¹ã‚¿ãƒƒã‚¯å‚ç…§ã®é †åºã«æ°—ã‚’é£ã† å·®åˆ†ãƒã‚§ãƒƒã‚¯\u0026hellip; CDK DP ã ã£ãŸãŒä¹—ã£ã¦ã„ãã“ã¨ã‚’æ±ºã‚ãŸ æœ€æ‚ªè„±å‡ºã§ãã‚‹ (cdk synth ã§ CFn ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‡ºåŠ›ã§ãã‚‹) ECS ãƒ‡ãƒ—ãƒ­ã‚¤ã¨ CDK CDK ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®é¢å€’ã¾ã§ã¿ã‚‹ã®ã‹ (CDK app å†…ã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚°ã‚’è¨˜è¼‰) ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ—ãƒ­ã‚¤ ãƒ„ãƒ¼ãƒ«ã®ãƒ¬ã‚¤ãƒ¤ã‹ã‚‰ã¿ã‚‹ã¨ Orchestration ãƒ¬ã‚¤ãƒ¤ãƒªãƒ³ã‚°ã®è©± (é›£ã—ã„\u0026hellip;) ECS ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¦³ç‚¹ã§ã¯ã€æ§˜ã€…ã‚“ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’éš è”½ã—ã¦ãã‚Œã¦ã„ã‚‹ æ§‹æˆç®¡ç†ã®è¦³ç‚¹ã§ã¯ã€ã¤ãªãŒã‚Šã‚’æ„è­˜ã—ãªã„ã¨ã„ã‘ãªã„ æ‡¸å¿µ ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒé…ããªã‚‰ãªã„ã‹ï¼Ÿ Stack ã‚’ç´°ã‹ãåˆ†ã‘ã¦å¯¾å¿œ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‹ã‚‰è¦‹ãŸ CDK ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®æŠ½è±¡åŒ–ã«å¯¾ã™ã‚‹ã‚¢ãƒ³ãƒ†ãƒŠ CDK ã¯ Clean Architecture ã‚’å®Ÿç¾ã§ãã¦ã„ã‚‹ ç§©åºç«‹ã£ãŸãƒ¬ã‚¤ãƒ¤ãƒªãƒ³ã‚°ã¨ãã®æ©æµ CDK ã¸ã®æœŸå¾… Higher-order construct Ansible + CloudFormation ã‚’ã€AWS CDK ã«ç§»è¡Œã™ã‚‹æ–¹æ³• æ ªå¼ä¼šç¤¾ãƒ‡ã‚£ãƒ¼ãƒ»ã‚¨ãƒŒãƒ»ã‚¨ãƒ¼\nby ä½è—¤å­¦ æ°\nç¾è¡Œ (Ansible + CloudFormation) Jinja2 ã¨ã„ã†ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ CFn ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆ CFn ã«ãƒ‡ãƒ—ãƒ­ã‚¤ CDK ã‚’çŸ¥ã‚‹ ç¾è¡Œã®æ§‹æˆã‚’ AWS ç¤¾å“¡å‘ã‘ã«èª¬æ˜ã—ãŸã¨ã“ã‚ã€è¢‹å©ãã«ã•ã‚ŒãŸ CDK ã¸ã®ç§»è¡Œ Step1: CFn ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä½œæˆã‚’ CDK ã«ç§»è¡Œ (synth ã§å‡ºåŠ›ã€ç¾è¡Œã¨å·®åˆ†ãŒãªã„ã‹) Ansble ã§å‡ºåŠ›ã—ãŸã‚‚ã®ã¨ CDK ã§å‡ºåŠ›ã—ãŸã‚‚ã®ã® (ç‰©ç†çš„ãª) å·®åˆ†ã‚’ã‚¼ãƒ­ã«ã™ã‚‹ TypeScript ã®ã»ã†ãŒã‚µãƒ³ãƒ—ãƒ«ãŒå¤šã„ (å¤šã‹ã£ãŸ) Metadata ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã¨ diff ãŒè¾›ã„ã®ã§ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§å‡ºåŠ›ã—ãªã„ã‚ˆã†ã«ã™ã‚‹ Step2: CDK ã‚’ä½¿ã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ ã¾ã¨ã‚ ç§»è¡Œã¯ 2 ã‚¹ãƒ†ãƒƒãƒ— CFn ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å‡ºåŠ› ã¨ ãƒ‡ãƒ—ãƒ­ã‚¤ è³ªå• CDK ã§å‡ºåŠ›ã•ã‚Œã‚‹ Stack ã®é †åºã¯ï¼Ÿ -\u0026gt; åå‰é † ã¾ã¨ã‚ãƒ»æ„Ÿæƒ³ AWS CDK GA è¨˜å¿µ Meetup ã®å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆ (ãƒ¡ãƒ¢) ã§ã—ãŸã€‚\næ„Ÿæƒ³ã¨ã—ã¦ã¯ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³å†…å®¹ã®ãƒ¬ãƒ™ãƒ«ãŸã‘ãƒ¼\u0026hellip; ã§ã™ã€‚ç§ãŒç†è§£ã§ããŸã®ã¯æœ€åˆã®ç¦äº•ã•ã¾ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ (ã®ä¸€éƒ¨) ãã‚‰ã„ã§ã€ã‚ã¨ã¯ã‚‚ã†ã€Œã¸ã‡ã€œ\u0026hellip;ã€ã¨ã„ã†æ„Ÿã˜ã§èã„ã¦ã„ã¾ã—ãŸã€‚ã‚¤ãƒ³ãƒ•ãƒ©ã®ã‚³ãƒ¼ãƒ‰åŒ–ã«ã¤ã„ã¦ã¯ã¾ã è‡ªåˆ†ã®æœªä½“é¨“ã‚¾ãƒ¼ãƒ³ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ãŒã€æ§‹æˆç®¡ç†ã«å¯¾ã™ã‚‹è€ƒãˆæ–¹ã¨ã‹ã€ãã‚‚ãã‚‚å‡ºã¦ãã‚‹ãƒ¯ãƒ¼ãƒ‰ã®æ„å‘³ã¨ã‹ã€ã‚ã‹ã‚‰ã‚“éƒ¨åˆ†ãŒå¤šã‹ã£ãŸã§ã™ã€‚ã¾ã‚ã“ã‚Œã¯ä»•æ–¹ãªã„ã‹ãªã¨ã„ã†ã“ã¨ã§ã€ä»Šå¾ŒãŒã‚“ã°ã‚ã†ã¨ã„ã†è‰¯ã„åˆºæ¿€ã‚’å—ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nCDK ã®ãƒŸãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã¨ã„ã†ã“ã¨ã§ã—ãŸãŒã€æ ¸ã¨ãªã‚‹ã¯ CloudFormation ã®è©±ã ãªã¨ã„ã†æ„Ÿã˜ã§ã—ãŸã€‚CDK ã«ã¤ã„ã¦ã¯ã€ã¨ã«ã‹ã\nä¸»è¦ãªè¨€èª (TypeScript, Python \u0026hellip;) ã§æ›¸ã‘ã‚‹ å°‘é‡ã€ç›´æ„Ÿçš„ãªè¨˜è¿°ã§ CFn ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”Ÿæˆã§ãã‚‹ ã¨ã„ã†ã¨ã“ã‚ãŒãƒ¡ãƒªãƒƒãƒˆã ã¨ã„ã†è©±ã§ã—ãŸã€‚\nãŸã ãã®ãƒ¡ãƒªãƒƒãƒˆã‚’ã‚ˆã‚Šæ„Ÿã˜ã‚‰ã‚Œã‚‹ã®ã¯ã€ã“ã‚Œã¾ã§ã«æ‰‹ã§ CFn ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ›¸ã„ã¦ã„ãŸäººã‚„ã€ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦ç”Ÿæˆã—ãŸäººãªã®ã‹ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚\nãªã®ã§ã€ã“ã®ã‚¤ãƒ™ãƒ³ãƒˆãã£ã‹ã‘ã§ CDK ã‚’è§¦ã‚Šå§‹ã‚ãŸãƒ»ã‚¤ãƒ³ãƒ•ãƒ©ã®ã‚³ãƒ¼ãƒ‰åŒ–ã—ã¦ã¿ã‚ˆã†ã¨æ€ã£ãŸè‡ªåˆ†ã«ã¨ã£ã¦ã¯ã€ CDK ã‚’ä½¿ã£ã¦æ§‹æˆç®¡ç†ã‚’ã—ã¦ã„ãå‰ã«ã€ CloudFormation ã«ã¤ã„ã¦ã‚‚å‹‰å¼·ã—ã¦ã„ã‹ãªã„ã¨ã„ã‘ãªã„ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚ã¨ã„ã£ã¦ã‚‚ã€ã©ã†ã‚„ã£ã¦å‹‰å¼·ã—ã¦ã„ã‘ã°ã„ã„ã®ã‹ã‚ã‹ã‚‰ãªã„ã®ã§ã€ã“ã‚Œã¾ã§ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã½ã¡ã½ã¡æ§‹ç¯‰ã—ã¦ããŸè«¸ã€…ã‚’å†ç¾ã§ãã‚‹ã‚ˆã†ãª CDK ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã£ã¦ã¿ã‚ˆã†ã‹ãªã¨è€ƒãˆã¦ã¾ã™ã€‚\nã‚ã¨ã€ã‚„ã£ã±ã‚Šã¯ã¦ãªã®æ–¹ã€…ã£ã¦ã‹ãªã‚Šãƒ¬ãƒ™ãƒ«é«˜ã„ã“ã¨ã‚„ã£ã¦ã‚‹ã‚“ã‚„ãªãƒ¼ã¨ã„ã†å°è±¡ã‚’å—ã‘ã¾ã—ãŸã€‚\n3 å¹´å‰ãã‚‰ã„ã«è»¢è·æ´»å‹•ã—ã¦ã‚‹æ™‚ã€å®Ÿã¯ã¯ã¦ãªã•ã‚“ã«ã‚‚æ›¸é¡é€ã£ãŸã‚“ã§ã™ãŒã€ã‚ã®æ™‚ã®è‡ªåˆ†ã§ã¯å…¨ããƒ¬ãƒ™ãƒ«ãŒé”ã—ã¦ãªã‹ã£ãŸã§ã™ã­ã€‚(ã˜ã‚ƒã‚ä»Šã¯é”ã—ã¦ã‚‹ã®ã‹ã¨ã„ã†ã¨ãã†ã§ã¯ãªã„)\nè¿‘ã€…æ–°æ©Ÿèƒ½ (ã‚µãƒ¼ãƒ“ã‚¹) ã¨ãªã‚‹ãƒ–ãƒ­ã‚°ã‚¿ã‚°ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã‚‹ã¨ã„ã†ã“ã¨ãªã®ã§ã€æ¥½ã—ã¿ã«ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\né•·ããªã‚Šã¾ã—ãŸãŒã€AWS CDK ã€IaC ã‚„ã‚Šã¯ã˜ã‚ãŸã°ã£ã‹ã‚Šã®è‡ªåˆ†ã§ã‚‚ã€ã¨ã«ã‹ãç°¡å˜ã«æ§‹æˆç®¡ç†ã§ãã‚‹ã¨ã„ã†å°è±¡ã§ã™ã€‚\nã“ã‚Œã‚’æ©Ÿã«ã‚¤ãƒ³ãƒ•ãƒ©ã®ã‚³ãƒ¼ãƒ‰åŒ–ã¯ã˜ã‚ã¦ã¿ã‚‹ã®ã‚‚è‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nã‚ã¨ã€ã©ã†ã§ã‚‚ã„ã„ã‚“ã§ã™ãŒã€ãƒŸãƒ¼ãƒˆã‚¢ãƒƒãƒ—çµ‚ã‚ã£ãŸã‚ã¨ (21:30ãã‚‰ã„) ã«ç›®é»’ä¸‰å¤§ã¨ã‚“ã‹ã¤å±‹ã® ã¨ã‚“ã ã«è¡Œã“ã†ã¨ã—ãŸã‚“ã§ã™ã‘ã©ã€ãã®æ™‚é–“ã§ã‚‚å¾…ã¡ãŒã‚ã£ãŸã‚“ã§ã™ã€‚ã•ã™ãŒäººæ°—åº—ã€‚é›¨ã‚‚é™ã£ã¦ãŸã®ã§è«¦ã‚ã¦å¸°ã‚Šã¾ã—ãŸã€‚ã€‚\næ¥é€±ã‚‚ Loft Tokyo è¡Œãã®ã§ä»Šåº¦ã¯å¾…ã£ã¦ã¿ã¦ã‚‚ã„ã„ã‹ãª\u0026hellip;\nAwswakaran.tokyo.powered By Aws ",
    "permalink": "https://michimani.net/post/event-aws-cdk-meetup/",
    "title": "[ãƒ¬ãƒãƒ¼ãƒˆ] AWS Cloud Development Kit (CDK) GA è¨˜å¿µ Meetup @ Loft Tokyo ã«è¡Œã£ã¦ãã¾ã—ãŸ"
  },
  {
    "contents": "ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã•ã‚“ãŒä¸»å‚¬ã™ã‚‹ AWS ã®å‹‰å¼·ä¼š AKIBA.AWS ã«åˆã‚ã¦å‚åŠ ã—ã¦ãã¾ã—ãŸã®ã§ã€ãã®å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã§ã™ã€‚\nä»Šå›ã¯ 14 å›ç›®ã¨ã„ã†ã“ã¨ã§ã—ãŸãŒã€æ™®æ®µã®é–‹å‚¬æ–¹å¼ã¨ã¯é•ã£ã¦ AKIBA.AWS #14 ç•ªå¤–ç·¨ã€œAWS Update LTå¤§ä¼šã€œ ã¨ã—ã¦é–‹å‚¬ã•ã‚Œã¾ã—ãŸã€‚2 æ™‚é–“ (ã»ã¼) ä¼‘æ†©ãªã—ã§ LT 10 æœ¬ã¨ã„ã†æ¿ƒå¯†ãªæ™‚é–“ã§ã—ãŸã€‚\nAWS.AKIBA ã¨ã¯ LT ã®å†…å®¹ 1ï¼šVPCã¨ã‚ªãƒ³ãƒ—ãƒ¬ã‚’ã¤ãªãç’°å¢ƒã®Update 2ï¼šre:Invent2018ä»¥é™ã®ECSã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ã–ã£ã¨ç¢ºèªã—ã‚ˆã†ï¼ 3ï¼šCode Seriesã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«ã¤ã„ã¦ 4ï¼šS3ç•Œã®é©å‘½å…ï¼S3 Batchã®ã”ç´¹ä»‹ 5ï¼šçŸ¥ã£ã¦ã„ã‚‹ã‹X-rayã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ï¼ï¼ 6ï¼šAWS Batchã®ä½¿ã„æ‰€ã®ã”ç´¹ä»‹ 7ï¼šAmazon WorkSpaces ç›´è¿‘ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã”ç´¹ä»‹ 8ï¼šTerraform v0.12 9ï¼šSSMã®ã‚¢ãƒ¬ 10ï¼šAWS Configã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ã”ç´¹ä»‹ ã¾ã¨ã‚ AWS.AKIBA ã¨ã¯ Developers.IO ã§ AWS ã«é–¢ã™ã‚‹ã“ã¨ã‚„ãã®ä»–æŠ€è¡“çš„ãªã“ã¨ã‚’ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã—ç¶šã‘ã¦ã„ã‚‹ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã•ã‚“ãŒä¸»å‚¬ã™ã‚‹ AWS ã®å‹‰å¼·ä¼šã§ã™ã€‚\næ¯å›ã‚ã‚‹ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦ åŸºç¤ãƒ»å¿œç”¨ãƒ»ã‚¬ãƒ ã¨ã„ã†ãƒ¬ãƒ™ãƒ«ã‚’ä»˜ã‘ã¦é–‹å‚¬ã•ã‚Œã¦ã„ã¾ã™ã€‚\nä»Šå›ã¯ ç•ªå¤–ç·¨ ã¨ã„ã†ã“ã¨ã§ã€æ˜¨å¹´ã® re:Invent 2018 ä»¥é™ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒã‚ã£ãŸå†…å®¹ã‚’ä¸­å¿ƒã«ã€ AWS ã®ã•ã¾ã–ã¾ãªã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦åˆè¨ˆ 10 æœ¬ã® LT ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã„ã†å›ã§ã—ãŸã€‚\nä»Šå›ã®é–‹å‚¬æ¦‚è¦ã«ã¤ã„ã¦ã¯ connpass ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ ã‚’ã”è¦§ãã ã•ã„ã€‚\nLT ã®å†…å®¹ å„ 10 åˆ†ã® LT ãŒ 10 æœ¬ã‚ã‚Šã¾ã—ãŸã®ã§ã€ãã‚Œãã‚Œã®é …ç›®ã‚¿ã‚¤ãƒˆãƒ«ã¨ã–ã£ãã‚Šã¨ã—ãŸå†…å®¹ã€ã¾ãŸã€å„ç™»å£‡è€…æ§˜ãŒãã‚Œãã‚Œã®ãƒ–ãƒ­ã‚°è¨˜äº‹ã«ã¦ã‚¹ãƒ©ã‚¤ãƒ‰ã‚„è©³ç´°ãªã‚³ãƒ¡ãƒ³ãƒˆã‚’æ›¸ã„ã¦ãŠã‚‰ã‚Œã‚‹ã®ã§ã€ãã®ãƒªãƒ³ã‚¯ã‚’è¼‰ã›ã¦ãŠãã¾ã™ã€‚(å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã«é™ã‚Šã€‚è¦‹ã¤ã‘ãŸã‚‰è¿½è¨˜ã—ã¦ã„ãã¾ã™ã€‚)\n1ï¼šVPCã¨ã‚ªãƒ³ãƒ—ãƒ¬ã‚’ã¤ãªãç’°å¢ƒã®Update ç™»å£‡è€… : åŒ—é‡ä½‘ä¸€ã•ã‚“\nã‚ªãƒ³ãƒ—ãƒ¬ã¨ AWS ã‚’ç¹‹ãè©± (Transit Gateway)\nSite to Site VPN / Direct Connect (DX)\nã‚ªãƒ³ãƒ—ãƒ¬ã¨è¤‡æ•°ã® VPC ã‚’ç¹‹ãæ–¹æ³•\nã²ã¨ã¤ãšã¤æ¥ç¶šã‚’æ§‹ç¯‰ã™ã‚‹ â†’ æ•°ãŒå¢—ãˆã‚‹ã¨ã—ã‚“ã©ã„ Direct COnnect Gateway VPC ã®ç›¸äº’æ¥ç¶šã¯ã§ããªã„ ã‚ªãƒ³ãƒ—ãƒ¬ã¨ VPC ã¨ VPC ã‚’ç¹‹ã\nVPC åŒå£«ã¯ VPC ãƒ”ã‚¢ãƒªãƒ³ã‚° â†’ æ•°ãŒå¢—ãˆã‚‹ã¨ã—ã‚“ã©ã„ Transit Gateway (ä»Šã¾ã§ã¯ã€EC2 ã«ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãƒãƒ–ã«ã—ã¦ã„ãŸ) æ—¢å­˜ã® VPN è¨­å®šã‚’ã€ã‚ªãƒ³ãƒ—ãƒ¬å´ã®è¨­å®šå¤‰æ›´ãªã—ã« Transit Gateway ã«ç§»è¡Œå¯èƒ½ã«ãªã£ãŸ Direct Connect Gateway ã¨ã®æ¥ç¶šã‚’ã‚µãƒãƒ¼ãƒˆ (æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã¾ã ) æ–™é‡‘ã¯é«˜ã„ AKIBA.AWS #14 ç•ªå¤–ç·¨ ã§ã€ã‚ªãƒ³ãƒ—ãƒ¬ã¨VPCã‚’ã¤ãªãç’°å¢ƒã®Updateã«ã¤ã„ã¦è©±ã—ã¾ã—ãŸ #akibaaws 2ï¼šre:Invent2018ä»¥é™ã®ECSã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ã–ã£ã¨ç¢ºèªã—ã‚ˆã†ï¼ ç™»å£‡è€… : å²©åŸåŒ æœ—ã•ã‚“\nContainer Roadmap (GitHub ã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹) ECS ã® Blue/Green ãƒ‡ãƒ—ãƒ­ã‚¤ ã“ã‚Œã¾ã§ã¯ Green ã®ç’°å¢ƒã®ä½œã‚Šè¾¼ã¿ãŒå¿…è¦ã ã£ãŸ CodeDeploy ãŒã‚ˆã—ãªã«ã‚„ã£ã¦ãã‚Œã‚‹ CFn ã§å¯¾å¿œäºˆå®š (é€²è¡Œä¸­) ECS Secrets Management ã“ã‚Œã¾ã§ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å´ã§è¤‡åˆãŒå¿…è¦ã ã£ãŸãŒã€ä¸è¦ã«ãªã£ãŸ run ECS task definitions locally ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã®ãƒ†ã‚¹ãƒˆã«ã¯åˆ¥é€” ãƒ­ãƒ¼ã‚«ãƒ«ç”¨ã® docker-compose ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¿…è¦ã ã£ãŸ ã‚¿ã‚¹ã‚¯å®šç¾©ã‚’å…ƒã«ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ãƒ†ã‚¹ãƒˆãŒå¯èƒ½ã«ãªã£ãŸ ECS ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¯æ¿€ã—ã„ã€‚Road Map ã§å‹•ãã‚’ç¢ºèªã—ã‚ˆã† ä»¥ä¸‹ã€ã‚¹ãƒ©ã‚¤ãƒ‰å†…ã§å‚è€ƒè¨˜äº‹ã¨ã—ã¦æŒ™ã’ã‚‰ã‚Œã¦ã„ãŸãƒ–ãƒ­ã‚°ã§ã™ã€‚\nã€ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã€‘ECSã‚¿ã‚¹ã‚¯å®šç¾©ã‚’åˆ©ç”¨ã—ãŸãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡ŒãŒå¯èƒ½ã«ï¼ ã€ç¥ï¼ã€‘ECSã¸ã®æ©Ÿå¯†æƒ…å ±å—ã‘æ¸¡ã—ãŒCloudFormationã«å¯¾å¿œã—ã¾ã—ãŸï¼ 3ï¼šCode Seriesã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«ã¤ã„ã¦ ç™»å£‡è€…ï¼šå¥¥æ‹“å“‰ã•ã‚“\nCodeCommit\nCLI, SDK ã§ã® commit ã‚’ã‚µãƒãƒ¼ãƒˆ (ãŸã ã—è¾›ã„) 2 ã¤ã®ãƒãƒ¼ã‚¸æˆ¦ç•¥ (PR æ™‚ã®ãƒãƒ¼ã‚¸æ–¹æ³•) ã‚¿ã‚°ä»˜ã‘ CodeBuild\nãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã®ã‚¿ã‚°ä»˜ã‘ API ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã‚µãƒãƒ¼ãƒˆ (ã“ã‚Œã¾ã§ã¯ S3 ã«ã—ã‹ç½®ã‘ãªã‹ã£ãŸ) è¤‡æ•°ã®è¨€èªã®ãƒ“ãƒ«ãƒ‰ã‚’ã‚µãƒãƒ¼ãƒˆ CodeDeploy\nCodePipeline\nå¤§ããªã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¯ãªã„ CodeDeploy ä»¥å¤–ã§ VPN ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ã‚µãƒãƒ¼ãƒˆ\nãƒ¢ãƒ€ãƒ³ã«ã¯ãªã£ã¦ã„ã‚‹ãŒã€circle CI ã‚„ GitHub ã¨æ¯”ã¹ã‚‹ã¨ã¾ã ã¾ã æ„Ÿã¯å¦ã‚ãªã„\nã€ç™»å£‡ã€‘AKIBA.AWS #14 AWS Update LTå¤§ä¼š Code Seriesã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«ã¤ã„ã¦ #akibaaws 4ï¼šS3ç•Œã®é©å‘½å…ï¼S3 Batchã®ã”ç´¹ä»‹ ç™»å£‡è€…ï¼šå¤§å‰è«’ç¥ã•ã‚“\nS3 Batch Operations\nCLI, SDK, API ã‹ã‚‰ã‚¸ãƒ§ãƒ–ã‚’ä½œæˆã—ãŸå ´åˆã¯ã€ç¢ºèªå¾…ã¡ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ã“ã¨ãŒã§ãã‚‹\nAKIBA.AWS ç¬¬14å› ç‰¹åˆ¥ç·¨ã§ã€ŒAmazon WorkSpaces ç›´è¿‘ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã”ç´¹ä»‹ã€ã‚’ç™ºè¡¨ã—ã¾ã—ãŸ #akibaaws ï½œ DevelopersIO 5ï¼šçŸ¥ã£ã¦ã„ã‚‹ã‹X-rayã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ï¼ï¼ ç™»å£‡è€…ï¼šé‡‘æ³°é›¨ã•ã‚“\nAWS X-Ray ã¨ã¯\nãƒˆãƒ¬ãƒ¼ã‚¹ (å…¨ä½“) ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ (ãƒ‘ã‚±ãƒƒãƒˆã®æµã‚Œ) ã‚µãƒ–ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ (ãƒªã‚½ãƒ¼ã‚¹é–“ã®ãƒ‡ãƒ¼ã‚¿é€šä¿¡) Analytics (æ–°æ©Ÿèƒ½)\nFilter Expresion å„ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã€ã‚µãƒ–ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®æƒ…å ±ã‚’è©³ç´°ã«ç¢ºèªã§ãã‚‹ URL ã§ãƒ•ã‚£ãƒ«ã‚¿ã®é©ç”¨ãŒå¯èƒ½ ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ«ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§è¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸ\nAKIBA.AWS #14 ç•ªå¤–ç·¨ã€œAWS Update LTå¤§ä¼šã€œ ã§ã€ŒçŸ¥ã£ã¦ã„ã‚‹ã‹X-Rayã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ï¼ï¼ã€ã¨ã„ã†å†…å®¹ã§ç™»å£‡ã—ã¾ã—ãŸ #akibaaws 6ï¼šAWS Batchã®ä½¿ã„æ‰€ã®ã”ç´¹ä»‹ ç™»å£‡è€…ï¼šè¥¿å±±ç¥å¸ã•ã‚“\nSQS, ECS, AutoScaling ãªã©ã®ã‚¯ãƒ©ã‚¹ã‚¿ç®¡ç†ãŒä¸è¦\nBlack Belt ã®è³‡æ–™ãŒå¤ã„\né…åˆ—ã‚¸ãƒ§ãƒ–ã®å¯¾å¿œ\n1 ã¤ã®ã‚¸ãƒ§ãƒ–ç™»éŒ²ã§è¤‡æ•°ã®ã‚¸ãƒ§ãƒ–ã®å®Ÿè¡ŒãŒå¯èƒ½ã«ãªã£ãŸ (å¤§é‡ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®å¯¾å¿œ) CloudWatch ã‚¤ãƒ™ãƒ³ãƒˆã«å¯¾å¿œ\nJob ã‚­ãƒ¥ãƒ¼ã«ç™»éŒ²ã•ã‚Œã¦ã‹ã‚‰å®Ÿè¡Œ -\u0026gt; CloudWatch ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦å®Ÿè¡Œå¯èƒ½ã« ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã«ã‚ˆã‚‹è‡ªå‹•åœæ­¢\njob ãŒæ®‹ã‚Šç¶šã‘ã‚‹ -\u0026gt; ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã® job ã¯å¼·åˆ¶çµ‚äº†ã§ãã‚‹ã‚ˆã†ã« AWS Batch ã®ä½¿ã„æ‰€\nä¾å­˜é–¢ä¿‚ã®ã‚ã‚‹ Job ã®å®Ÿè¡Œ S3 -\u0026gt; AWS Batch (1) -\u0026gt; S3 -\u0026gt; AWS Batch (2) æ·±å±¤å­¦ç¿’ãªã© AKIBA.AWS #14 ç•ªå¤–ç·¨ã€œAWS Update LTå¤§ä¼šã€œ ã§ã€ŒS3ç•Œã®é©å‘½å…ï¼S3 Batchã®ã”ç´¹ä»‹ã€ã¨ã„ã†å†…å®¹ã§ç™»å£‡ã—ã¾ã—ãŸ #akibaaws 7ï¼šAmazon WorkSpaces ç›´è¿‘ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã”ç´¹ä»‹ ç™»å£‡è€…ï¼šå°é‡å¡šæ­£å¿ ã•ã‚“\nä»®è£…ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚µãƒ¼ãƒ“ã‚¹\nWeb ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚‚åˆ©ç”¨ã§ãã‚‹\nURI ã”ã¨ã«ä»®è£…ç’°å¢ƒã‚’ç”¨æ„ã§ãã‚‹ã®ã¯ä¾¿åˆ©ãã† AKIBA.AWS ç¬¬14å› ç‰¹åˆ¥ç·¨ã§ã€ŒAmazon WorkSpaces ç›´è¿‘ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã”ç´¹ä»‹ã€ã‚’ç™ºè¡¨ã—ã¾ã—ãŸ #akibaaws ï½œ DevelopersIO 8ï¼šTerraform v0.12 ç™»å£‡è€…ï¼šæ•°ææ­£æ¨¹ã•ã‚“\nInfrastructures as Code (AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã¯ãªã„)\nHCL ã¨ã„ã†è¨€èª\n0.12\nå·®åˆ†è¡¨ç¤º å¤‰æ•°ã®ä½¿ç”¨ãŒç°¡æ½”ã« For, For-Each module (é–¢æ•°ã¿ãŸã„ãªã‚‚ã®) ã®å…¥å‡ºåŠ›ã«ä½¿ãˆã‚‹å‹ãŒæŸ”è»Ÿã«æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸ Pragmatic Terraform on AWS (é›»å­æ›¸ç±) ã‚’èª­ã‚‚ã†\n#akibaaws ã§Terraform v0.12ã«ã¤ã„ã¦è©±ã—ã¾ã—ãŸ 9ï¼šSSMã®ã‚¢ãƒ¬ ç™»å£‡è€…ï¼šæŸ´ç”°å“å“‰ã•ã‚“\nEC2 ã‚’ã¯ã˜ã‚ã¨ã™ã‚‹ AWS ã®ãƒªã‚½ãƒ¼ã‚¹ã®æ§‹æˆç®¡ç†ã‚’é›†ã‚ãŸã‚‚ã®\nå½¹å‰²ãŒå¤‰ã‚ã‚‹ã”ã¨ã«ã‚µãƒ¼ãƒ“ã‚¹åãŒå¤‰ã‚ã£ã¦ã„ã‚‹\nã‚‚ã¨ã‚‚ã¨ã¯ Windows ã®æ§‹æˆç®¡ç†\nã€ç™»å£‡ã€‘AKIBA.AWS ç¬¬14å› ç‰¹åˆ¥ç·¨ã§ã€ŒSSMã®ã‚¢ãƒ¬ï¼ˆä»®é¡Œï¼‰ã€ã¨ã„ã†ç™ºè¡¨ã‚’ã—ã¾ã—ãŸ #akibaaws 10ï¼šAWS Configã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ã”ç´¹ä»‹ ç™»å£‡è€…ï¼šä¸­å·ç¿”å¤ªã•ã‚“\nAWS ã®ãƒªã‚½ãƒ¼ã‚¹æ§‹æˆç®¡ç†\næ§‹æˆå¤‰æ›´ãªã©ã®å±¥æ­´ã‚’ç®¡ç†ã€è©•ä¾¡\nè©•ä¾¡ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ã€å®šæœŸçš„/å¤‰æ›´æ™‚ ãƒªã‚½ãƒ¼ã‚¹ã®ä¿®å¾©\nSSM ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¨˜è¼‰ ã‚¯ã‚¨ãƒªæ©Ÿèƒ½\nãƒªã‚½ãƒ¼ã‚¹æƒ…å ±ã«å¯¾ã—ã¦ SQL ã‚’å®Ÿè¡Œã—ã¦é›†è¨ˆå¯èƒ½ ex) ç‰¹å®šã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã«é–¢é€£ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚’å–å¾—ã™ã‚‹ ã‚¯ã‚¨ãƒªçµæœã®å‡ºåŠ›ãŒã§ãã‚‹ã¨ã„ã„ãªãƒ¼ æ–™é‡‘ä½“ç³»ã®å¤‰æ›´\nèª²é‡‘ãŒãƒ«ãƒ¼ãƒ«æ•°ãƒ™ãƒ¼ã‚¹ã‹ã‚‰è©•ä¾¡å›æ•°ãƒ™ãƒ¼ã‚¹ã«å¤‰æ›´ ã¨ã«ã‹ãå®‰ããªã‚‹ ç™»å£‡ã€‘AKIBA.AWS ç¬¬14å› ç‰¹åˆ¥ç·¨ã§ã€ŒAWS Configã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ã”ç´¹ä»‹ã€ã¨ã„ã†ç™ºè¡¨ã‚’ã—ã¾ã—ãŸ #akibaaws ã¾ã¨ã‚ LT ãŒ 10 åˆ† x 10 æœ¬ã§ã€ã‚ã£ã¨ã„ã†é–“ã® 2 æ™‚é–“ã§ã—ãŸã€‚\nã„ãã¤ã‹ã®å†…å®¹ã«ã¤ã„ã¦ã¯æ—¢ã« Developers.IO çµŒç”±ã§ç›®ã«ã—ã¦ã„ãŸã‚‚ã®ã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€ä»Šå›åˆã‚ã¦èãå†…å®¹ã‚„ã€ã¾ã è§¦ã£ãŸã“ã¨ã®ãªã„ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢ã™ã‚‹è©±ã‚‚èãã“ã¨ãŒã§ããŸã®ã§ã€è‡ªåˆ†ã®ä¸­ã«ä¸€æ°—ã«æƒ…å ±ãŒå…¥ã£ã¦ããŸãªãƒ¼ã¨æ„Ÿã˜ã¾ã—ãŸã€‚(ç†è§£ã§ãã¦ã„ã‚‹ã‹ã¯ãŠã„ã¨ã„ã¦)\nç‰¹ã«é¢ç™½ãã†ã ãªã¨ã‚‚ã£ãŸã®ã¯ AWS X-Ray ã§ã™ã€‚\nAWS X-Ray ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§å‡¦ç†ã™ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã¤ã„ã¦ã€å„ãƒªã‚½ãƒ¼ã‚¹é–“ã§ã®ãƒ‡ãƒ¼ã‚¿ã‚„ãƒ‘ã‚±ãƒƒãƒˆæƒ…å ±ã‚’åé›†ãƒ»é–²è¦§ã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚ä½¿ã„ã©ã“ã‚äº‘ã€…ã¨ã„ã†ã‚ˆã‚Šã‹ã¯ã€ãªã‚“ã‹å¯è¦–åŒ–ã§ãã‚‹ã£ã¦è‰¯ã„ã§ã™ã‚ˆã­ ã¨ã„ã†ãƒ¬ãƒ™ãƒ«ã§ã®é¢ç™½ã•ã§ã™ã€‚\næœŸé™ãªã—ã®æ¯æœˆã®ç„¡æ–™æ ã‚‚è¨­å®šã•ã‚Œã¦ã„ã‚‹ã®ã§ã€æ°—è»½ã«è§¦ã‚Œã¾ã™ã­ã€‚\nã‚ã¨æ€ã£ãŸã®ãŒã€ä»Šå›ç™»å£‡ã•ã‚Œã¦ã„ãŸæ–¹ã€…ãŒå…¨ã¦å…¥ç¤¾ã‹ã‚‰ 1 å¹´æœªæº€ã®æ–¹ (5æœˆå…¥ç¤¾ã®äººã‚‚ã„ãŸ) ã°ã£ã‹ã‚Šã§ã€ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã•ã‚“ã®æ€¥æˆé•·ã¶ã‚Šã‚’æ„Ÿã˜ã¾ã—ãŸã€‚ä½•ç›®ç·šã ã£ã¦ã„ã†è©±ã§ã™ãŒã€‚ã€‚\næ™®æ®µãƒ–ãƒ­ã‚°ã§å¤§å¤‰ãŠä¸–è©±ã«ãªã£ã¦ã„ã¾ã™ãŒã€ã‚„ã¯ã‚Šå®Ÿéš›ã«è€³ã§èãã¨æƒ…å ±ã®å…¥ã£ã¦ãæ–¹ã‚‚é•ã†ãªã¨æ„Ÿã˜ãŸã®ã§ã€ã¾ãŸæ©Ÿä¼šãŒã‚ã‚Œã°å‚åŠ ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/event-aws-akiba-updating-lt/",
    "title": "AKIBA.AWS #14 ç•ªå¤–ç·¨ã€œAWS Update LTå¤§ä¼šã€œ ã«è¡Œã£ã¦ãã¾ã—ãŸ"
  },
  {
    "contents": "å…ˆæ—¥ãŠé‚ªé­”ã—ãŸ ç›®é»’JavaScriptã‚‚ãã‚‚ãä¼š ã§ AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã¨ã„ã†ãƒ‡ãƒã‚¤ã‚¹ã®è©±ãŒå‡ºã¦ã„ã¾ã—ãŸã€‚ã©ã†ã‚„ã‚‰ AWS Lambda ã‚’ã¯ã˜ã‚ã¨ã—ãŸ AWS ã®å„ã‚µãƒ¼ãƒ“ã‚¹ (SNS ã¨ã‹ DynamoDB ã¨ã‹) ã¨éå¸¸ã«ç°¡å˜ã«é€£æºã§ãã‚‹ IoT ãƒ‡ãƒã‚¤ã‚¹ã‚‰ã—ã„ã¨ã„ã†ã“ã¨ãªã®ã§ã€ã¨ã‚Šã‚ãˆãšè²·ã£ã¦è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚\nç›®æ¬¡ AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã¨ã¯ ä»Šå›ã‚„ã‚‹ã“ã¨ å®Ÿéš›ã®æ‰‹é † 1. Slack ã® Webhook URL ã‚’å–å¾— 2. Slack ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹ Lambda é–¢æ•°ã‚’ä½œæˆ 3. AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã‚’ AWS IoT 1-Click ã«ç™»éŒ² 4. AWS IoT 1-Click ã§ Lambda é–¢æ•°ã®å‘¼ã³å‡ºã—ã‚’è¨­å®š 5. AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã‚’æŠ¼ã™ ã¾ã¨ã‚ AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã¨ã¯ AWS IoT ãƒœã‚¿ãƒ³ã¯ã€Amazon Dash Button ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å¯èƒ½ãªãƒœã‚¿ãƒ³ã§ã™ã€‚ã“ã®ã‚·ãƒ³ãƒ—ãƒ«ãª Wi-Fi ãƒ‡ãƒã‚¤ã‚¹ã¯è¨­å®šãŒç°¡å˜ã§ã€ç‰¹å®šã®ãƒ‡ãƒã‚¤ã‚¹å‘ã‘ã®ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ãªãã€AWS IoT Coreã€AWS Lambdaã€Amazon DynamoDBã€Amazon SNSã€ãŠã‚ˆã³ãã®ä»–å¤šãã®ã‚¢ãƒã‚¾ãƒ³ ã‚¦ã‚§ãƒ– ã‚µãƒ¼ãƒ“ã‚¹ã®ä½¿ç”¨ã‚’é–‹å§‹ã™ã‚‹é–‹ç™ºè€…å‘ã‘ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nAWS IoT ãƒœã‚¿ãƒ³ï¼ˆãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å¯èƒ½ãªãƒ€ãƒƒã‚·ãƒ¥ãƒœã‚¿ãƒ³ï¼‰| AWS Amazon Dash Button ã¯æ—¢ã«ã«è²©å£²ãŒçµ‚äº†ã—ã¦ã„ã¾ã™ãŒã€ãƒ™ãƒ¼ã‚¹ã¯ Amazon Dash Button ã§ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸæ™‚ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒãƒƒã‚¯ã§ãã‚‹ã®ãŒ AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã§ã™ã€‚å…¬å¼ã®èª¬æ˜æ–‡ã«ã‚‚ã‚ã‚‹ã‚ˆã†ã«ã€ Wi-Fi ã§ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«æ¥ç¶šã—ã€AWS ã®å„ç¨®ã‚µãƒ¼ãƒ“ã‚¹ã¨é€£æºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚é€£æºã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã«ã¯ AWS Lambda ã‚‚å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚Lambda ã§é–¢æ•°ã‚’å®Ÿè¡Œã§ãã‚‹ã¨ã„ã†ã“ã¨ã¯ã€ã»ã¼ä½•ã§ã‚‚ã§ãã‚‹ã¨ã„ã†ã“ã¨ãªã®ã§ã€ã‚¢ã‚¤ãƒ‡ã‚¢æ¬¡ç¬¬ã§ã¯è‰²ã‚“ãªã“ã¨ã«ä½¿ãˆãã†ã§ã™ã€‚\nAWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã¯æ™®é€šã« Amazon ã§å£²ã£ã¦ã„ã‚‹ã®ã§ã€èª°ã§ã‚‚è³¼å…¥ã§ãã¾ã™ã€‚\nä»Šå›ã‚„ã‚‹ã“ã¨ AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦ã€ Slack ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹ Lambda é–¢æ•°ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\næ‰‹é †ã¨ã—ã¦ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ãŒã€ Slack ã® Webhook URL ã®å–å¾—ã«ã¤ã„ã¦ã¯å‰²æ„›ã—ã¾ã™ã€‚\nSlack ã® Webhook URL ã‚’å–å¾— Slack ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹ Lambda é–¢æ•°ã‚’ä½œæˆ AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã‚’ AWS IoT 1-Click ã«ç™»éŒ² AWS IoT 1-Click ã§ Lambda é–¢æ•°ã®å‘¼ã³å‡ºã—ã‚’è¨­å®š AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã‚’æŠ¼ã™ å®Ÿéš›ã®æ‰‹é † ã§ã¯ã€æ‰‹é †ã‚’ã²ã¨ã¤ãšã¤ã¿ã¦ã„ãã¾ã™ã€‚\nã¡ãªã¿ã«ä»Šå›ã¯ æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ ã‚’ä½¿ã„ã¾ã™ã€‚ 1. Slack ã® Webhook URL ã‚’å–å¾— å‰²æ„›ã—ã¾ã™ã€‚\n2. Slack ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹ Lambda é–¢æ•°ã‚’ä½œæˆ ã¾ãšã¯ Slack ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹ Lambda é–¢æ•°ã‚’ä½œæˆã—ã¾ã™ã€‚\nPython 3.7 ã§å®Ÿè£…ã—ã¾ã™ã€‚\nimport json import logging from base64 import b64decode from urllib.request import Request, urlopen from urllib.error import URLError, HTTPError SLACK_CHANNEL = \u0026#39;iot-test\u0026#39; HOOK_URL = \u0026#39;https://hooks.slack.com/services/ABCDEFGHI/JKLMNOPQR/stuvwxyz1234567890abcdef\u0026#39; logger = logging.getLogger() logger.setLevel(logging.INFO) def lambda_handler(event, context): logger.info(\u0026#34;Event: \u0026#34; + str(event)) message = str(json.dumps(event, indent=2)) slack_message = { \u0026#39;channel\u0026#39;: SLACK_CHANNEL, \u0026#39;icon_emoji\u0026#39;: \u0026#39;:robot_face:\u0026#39;, \u0026#39;attachments\u0026#39;: [ { \u0026#39;color\u0026#39;: \u0026#39;#6293ca\u0026#39;, \u0026#39;fields\u0026#39;: [ { \u0026#39;value\u0026#39;: \u0026#34;```\\n%s\\n```\u0026#34; % (message) } ] } ] } req = Request(HOOK_URL, json.dumps(slack_message).encode(\u0026#39;utf-8\u0026#39;)) try: response = urlopen(req) response.read() logger.info(\u0026#34;Message posted to %s\u0026#34;, slack_message[\u0026#39;channel\u0026#39;]) except HTTPError as e: logger.error(\u0026#34;Request failed: %d %s\u0026#34;, e.code, e.reason) except URLError as e: logger.error(\u0026#34;Server connection failed: %s\u0026#34;, e.reason) event ã§æ¸¡ã•ã‚Œã‚‹è¾æ›¸ãƒ‡ãƒ¼ã‚¿ã‚’æˆå½¢ã•ã‚ŒãŸ json æ–‡å­—åˆ—ã‚’ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã—ã¦é€ä¿¡ã™ã‚‹ã ã‘ã®é–¢æ•°ã§ã™ã€‚\n3. AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã‚’ AWS IoT 1-Click ã«ç™»éŒ² æ¬¡ã« AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã‚’ IoT ãƒ‡ãƒã‚¤ã‚¹ã¨ã—ã¦ç™»éŒ²ã—ã¾ã™ã€‚\nç™»éŒ²ã«ã¯ AWS ã® IoT 1-CLick ã¨ã„ã†ã‚µãƒ¼ãƒ“ã‚¹ã¨ã€ iOS/Android å‘ã‘ã«æä¾›ã•ã‚Œã¦ã„ã‚‹ AWS IoT 1-Click ã‚¢ãƒ—ãƒª (ä»¥ä¸‹ã€ã‚¢ãƒ—ãƒª) ã‚’ä½¿ã„ã¾ã™ã€‚\nAWS IoT 1-Click ã‚¢ãƒ—ãƒªã¯ã€ App Store ãŠã‚ˆã³ Google Store ã‹ã‚‰ãƒ€ã‚¦ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚ä»Šå›ã¯ iOS ç‰ˆã‚’ä½¿ã„ã¾ã™ãŒã€ Android ç‰ˆã§ã‚‚ã»ã¼åŒã˜ã ã¨æ€ã„ã¾ã™ã€‚\nå¤§ã¾ã‹ãªæ‰‹é †ã¨ã—ã¦ã¯æ¬¡ã®é€šã‚Šã§ã™ã€‚\nIoT 1-CLick ã§ãƒ‡ãƒã‚¤ã‚¹ ID ã‚’å…¥åŠ›ã™ã‚‹ ã‚¢ãƒ—ãƒªã‚’ä½¿ã£ã¦ãƒ‡ãƒã‚¤ã‚¹ã‚’ç™»éŒ²ã™ã‚‹ ã§ã¯ã“ã‚Œã‚‚ã²ã¨ã¤ãšã¤è¦‹ã¦ã„ãã¾ã™ã€‚\n1. IoT 1-CLick ã§ãƒ‡ãƒã‚¤ã‚¹ ID ã‚’å…¥åŠ›ã™ã‚‹ AWS ã®ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ IoT 1-Click ã‚’æ¢ã—ã¦ IoT 1-Click ã®ã‚ªãƒ³ãƒœãƒ¼ãƒ‰ãƒœãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚\nè¡¨ç¤ºã—ãŸã‚‰ã€ ãƒ‡ãƒã‚¤ã‚¹ã®ç™»éŒ² ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ ãƒ‡ãƒã‚¤ã‚¹ID ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\nç™»éŒ²ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ãƒ‡ãƒã‚¤ã‚¹ã®åå¿œå¾…ã¡ã«ãªã‚‹ã®ã§ã€ä¸€æ—¦ãã®ã¾ã¾ã«ã—ã¦ãŠãã¾ã™ã€‚\n2. ã‚¢ãƒ—ãƒªã‚’ä½¿ã£ã¦ãƒ‡ãƒã‚¤ã‚¹ã‚’ç™»éŒ²ã™ã‚‹ ã‚¢ãƒ—ãƒªèµ·å‹•å¾Œã¯ã€ä¸Šã§æ“ä½œã—ãŸã‚‚ã®ã¨åŒã˜ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ (IAM IAM ãƒ¦ãƒ¼ã‚¶) ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚ã¾ãŸã€ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¯ ã‚¢ã‚¸ã‚¢ãƒ‘ã‚·ãƒ•ã‚£ãƒƒã‚¯ (æ±äº¬) ã‚’é¸æŠã—ã¦ãŠãã¾ã™ã€‚\nãã—ã¦ã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ç”»é¢ã® Wi-Fi ã‚’è¨­å®š ãƒœã‚¿ãƒ³ã‹ã‚‰ AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ã® Wi-Fiè¨­å®šã‚’ã—ã¾ã™ã€‚\nãƒ‡ãƒã‚¤ã‚¹ ID ã¯æ‰‹å…¥åŠ›ã€ã¾ãŸã¯ã€ AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ãŒå…¥ã£ã¦ã„ãŸç®±ã®å´é¢ã«è²¼ã£ã¦ã‚ã‚‹ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿å–ã‚‹ã“ã¨ã§å…¥åŠ›å¯èƒ½ã§ã™ã€‚ç§ã¯ä½•ã®èºŠèº‡ã‚‚ãªã—ã«å¤–ç®±ã‚’æ¨ã¦ã¦ã—ã¾ã£ãŸã®ã§ã€æ‰‹å…¥åŠ›ã—ã¾ã—ãŸã€‚å¤–ç®±ã¯ã—ã£ã‹ã‚Šæ®‹ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚\nã¡ãªã¿ã«ãƒ‡ãƒã‚¤ã‚¹ ID ã¯ AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³æœ¬ä½“ã®è£å´ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ä¸‡ãŒä¸€ç®±ã‚’æ¨ã¦ã¦ã—ã¾ã£ã¦ã‚‚å¤§ä¸ˆå¤«ã§ã™ã€‚ãŸã ã—ã€ã‚ã¡ã‚ƒãã¡ã‚ƒå­—ãŒå°ã•ã„ã§ã™ã€‚\nãƒ‡ãƒã‚¤ã‚¹ ID ã‚’å…¥åŠ›ã™ã‚‹ã¨ãƒšã‚¢ãƒªãƒ³ã‚°ãŒå§‹ã¾ã‚‹ã®ã§ã€AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã‚’ 6 ç§’é–“ (é’ã„å…‰ãŒç‚¹æ»…ã™ã‚‹ã¾ã§) æŠ¼ã—ã¾ã™ã€‚ã‚¢ãƒ—ãƒªå´ã§èªè­˜ã•ã‚Œã‚‹ã¨ã€ç¶šã„ã¦ Wi-Fi ã®è¨­å®šã«ç§»ã‚Šã¾ã™ã€‚(ã‚­ãƒ£ãƒ—ãƒãƒ£ãŒã‚ã‚Šã¾ã›ã‚“ã€ã”äº†æ‰¿ãã ã•ã„)\næ¥ç¶šã—ãŸã„ SSID ã‚’ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ã‹ã‚‰é¸æŠã—ã¦ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¾ã™ã€‚ã™ã‚‹ã¨ã€ŒWi-Fi è¨­å®šä¸­ã§ã™ã€ã¿ãŸã„ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nã“ã“ã§ãã®ã¾ã¾æ”¾ç½®ã™ã‚‹ã¨æ¥ç¶šã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã† ã®ã§ã€ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã‚’ 1 å›æŠ¼ã—ã¾ã™ã€‚\nWi-Fi è¨­å®šãŒå®Œäº†ã™ã‚‹ã¨ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ã‚‚èªè­˜ã•ã‚Œã‚‹ã®ã§ã€ãƒ‡ãƒã‚¤ã‚¹ã®ç™»éŒ²ã¯å®Œäº†ã§ã™ã€‚\nã¡ãªã¿ã«ã‚¢ãƒ—ãƒªå´ã§ã® Wi-Fi è¨­å®šã¯é€”ä¸­ã§ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹ã¨ãƒ‡ãƒã‚¤ã‚¹ ID ã®å…¥åŠ›ã‹ã‚‰ã‚„ã‚Šç›´ã—ã«ãªã‚Šã¾ã™ã€‚ãªã®ã§ã€ç®±ã‚’æ¨ã¦ã¦ã—ã¾ã£ã¦ã„ã‚‹ã¨ã‹ãªã‚Šé¢å€’ãªã“ã¨ã«ãªã‚Šã¾ã™ã€‚(ãªã‚Šã¾ã—ãŸ)\n4. AWS IoT 1-Click ã§ Lambda é–¢æ•°ã®å‘¼ã³å‡ºã—ã‚’è¨­å®š ãƒ‡ãƒã‚¤ã‚¹ãŒç™»éŒ²ã§ããŸã‚‰ã€ã‚ã¨ã¯ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®šã‚’ã—ã¾ã™ã€‚\nã“ã“ã§å‡ºã¦ãã‚‹ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã„ãã¤ã‹ã‚ã‚‹ã®ã§ã€ãã‚Œãã‚Œã®èª¬æ˜ã‚’æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ IoT ãƒ‡ãƒã‚¤ã‚¹ã§ä½•ã‹ã‚’ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚ã“ã‚ŒãŒå¤§å…ƒã§ã™ã€‚\nãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆ IoT ãƒ‡ãƒã‚¤ã‚¹ã‚’é…ç½®ã™ã‚‹å ´æ‰€ (æ¦‚å¿µ) ã§ã™ã€‚\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã«è¤‡æ•°ä½œæˆã§ãã¾ã™ã€‚\nã²ã¨ã¤ã®ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã«ã¯è¤‡æ•°ã®ãƒ‡ãƒã‚¤ã‚¹ã‚’ç™»éŒ²ã§ãã¾ã™ãŒã€ãã®æœ€å¤§æ•°ã¯å¾Œè¿°ã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ä¾å­˜ã—ã¾ã™ã€‚\nã¾ãŸã€è¤‡æ•°ã®ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã§åŒã˜ãƒ‡ãƒã‚¤ã‚¹ã‚’å…±æœ‰ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ä¾‹ãˆã° A ã¨ B ã®ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆãŒã‚ã‚‹å ´åˆã«ã€ãƒ‡ãƒã‚¤ã‚¹1 ã‚’ A ã¨ B ã®ä¸¡æ–¹ã«é…ç½®ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚\nãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã«ã¯ãƒ‡ãƒã‚¤ã‚¹ã¨åˆã‚ã›ã¦ã€å±æ€§ ã¨ å€¤ ã®å½¢ã§ä»»æ„ã®æƒ…å ±ã‚’æŒãŸã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ãƒ‡ãƒã‚¤ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆ ã¨ã„ã†é …ç›®ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nä¸€ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦ä¸€ã¤å­˜åœ¨ã—ã¾ã™ã€‚\nãƒ‡ãƒã‚¤ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ã€\u001fãã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ã†ãƒ‡ãƒã‚¤ã‚¹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ 1 \u0008å€‹ä»¥ä¸Šä½œæˆã—ã¾ã™ã€‚\nä¾‹ãˆã°ã€ SMS ã‚’é€ä¿¡ã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã€ Email ã‚’é€ä¿¡ã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã€ Lambda é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ ã¨ã„ã† 3 ã¤ã®ãƒ‡ãƒã‚¤ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã¯å‰è¿°ã—ãŸã¨ãŠã‚Š å±æ€§ ã¨ å€¤ ã§ä»»æ„ã®æƒ…å ±ã‚’æŒãŸã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ãã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚å€‹åˆ¥ã®ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã§ãã‚Œã‚‰ã‚’ä¸Šæ›¸ãã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\u0026hellip;ã¨æ›¸ãã¾ã—ãŸãŒã€æ–‡å­—ã ã‘ã§ã¯ä¼ã‚ã‚Šã«ãã„ã®ã§å®Ÿéš›ã«ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã®å†…å®¹ã‚’è¦‹ãªãŒã‚‰èª¬æ˜ã‚’åŠ ãˆã¦ã¿ã¾ã™ã€‚\nã¾ãšã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ã€‚\nãƒ‡ãƒã‚¤ã‚¹ã¯ 3 ã¤ç™»éŒ²ã—ã¦ã„ã¾ã™ã€‚ãã‚Œãã‚Œåå‰ã®é€šã‚Šã§ã™ãŒã€ SMS ã‚’é€ä¿¡ã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã€ Email ã‚’é€ä¿¡ã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã€ Lambda é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ ã§ã™ã€‚ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã¯ã‚ãã¾ã§ã‚‚ä½•ã‹ã‚’ã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã®æ ã‚’ç”¨æ„ã—ã¦ã„ã‚‹ã¨ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã®ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã§ã™ãŒã€ã“ã“ã§è¨­å®šã—ã¦ã„ã‚‹ã‚‚ã®ã¯å…¨ã¦å¿…é ˆå±æ€§ã¨ãªã£ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã¯åŸºæœ¬çš„ã«ä»»æ„ã®å±æ€§ãƒ»å€¤ã‚’è¨­å®šã§ãã¾ã™ãŒã€ä»Šå›ã®ã‚ˆã†ã« SMS é€ä¿¡ã€ Email é€ä¿¡ ã‚’è¡Œã†ãƒ‡ãƒã‚¤ã‚¹ã‚’ç™»éŒ²ã™ã‚‹å ´åˆã¯ã€ãã‚Œãã‚Œ SMS é€ä¿¡å…ˆé›»è©±ç•ªå·ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…å®¹ã€ Email é€ä¿¡å…ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ä»¶åã¨æœ¬æ–‡ ãŒå¿…é ˆã®å±æ€§ã¨ãªã‚Šã¾ã™ã€‚ã‚‚ã¡ã‚ã‚“ã€ã“ã‚Œã‚‰ä»¥å¤–ã«ä»»æ„ã®å±æ€§ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚\nç¶šã„ã¦ã€ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã§ã™ã€‚\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§è¨­å®šã—ãŸãƒ‡ãƒã‚¤ã‚¹ 3 ã¤ã®æ ã¯ã‚ã‚Šã¾ã™ãŒã€ãƒ‡ãƒã‚¤ã‚¹ ID ãŒç©ºæ¬„ã«ãªã£ã¦ã„ã¾ã™ã€‚ã¤ã¾ã‚Šã€ã©ã®æ ã«ã‚‚ãƒ‡ãƒã‚¤ã‚¹ãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã“ã®ã‚ˆã†ã«ã€å¿…ãšã—ã‚‚ãƒ‡ãƒã‚¤ã‚¹ã‚’ç™»éŒ²ã™ã‚‹å¿…è¦ã¯ãªãã€ä¾‹ãˆã°ã“ã®ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã§ã¯ SMS é€ä¿¡ã®ãƒ‡ãƒã‚¤ã‚¹ã ã‘ã‚’ç™»éŒ²ã™ã‚‹ã€ã¨ã„ã£ãŸã“ã¨ãŒå¯èƒ½ã§ã™ã€‚\nã¾ãŸã€ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã”ã¨ã«å±æ€§ã‚’å¤‰ãˆã‚‹ã“ã¨ã§ã€ã“ã®ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã«ç™»éŒ²ã•ã‚ŒãŸãƒ‡ãƒã‚¤ã‚¹ãŒæŠ¼ã•ã‚ŒãŸå ´åˆã«ã¯ ã“ã®é›»è©±ç•ªå·ã¸ SMS ã‚’é€ã‚‹ã¨ã„ã£ãŸå½¢ã§ã€ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã”ã¨ã«è©³ç´°ãªè¨­å®šã‚’ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚(SMS é€ä¿¡ã ã¨ phoneNumber ã®å€¤ã‚’å¤‰æ›´ã™ã‚‹)\nãŸã ã—ã€å®Ÿè¡Œã™ã‚‹ Lambda é–¢æ•°ã¯ãƒ‡ãƒã‚¤ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§æŒ‡å®šã—ãŸã‚‚ã®ã‹ã‚‰å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚ãªã®ã§ã€ã‚‚ã—ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã”ã¨ã«å®Ÿè¡Œã™ã‚‹ Lambda é–¢æ•°ã‚’å¤‰æ›´ã—ãŸã„å ´åˆã¯ã€ A ã¨ã„ã†é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã€ B ã¨ã„ã†é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹\u0026hellip;ã¨ã„ã£ãŸå½¢ã§ãƒ‡ãƒã‚¤ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¨­å®šã—ã¦ã€å„ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã§å®Ÿè¡Œã—ãŸã„ãƒ‡ãƒã‚¤ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ãƒ‡ãƒã‚¤ã‚¹ã‚’ç™»éŒ²ã™ã‚‹ã®ãŒè‰¯ã„ã¨æ€ã„ã¾ã™ã€‚\nå‰ç½®ããŒé•·ããªã‚Šã¾ã—ãŸãŒã€å®Ÿéš›ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚åŸºæœ¬çš„ã«ä¸Šã§èª¬æ˜ã—ãŸè¨­å®šã‚’åŸ‹ã‚ã¦ã„ãæ„Ÿã˜ã§ã™ã€‚\nã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã® ç®¡ç† ã‹ã‚‰ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ã‚’é¸æŠã—ã¦ ä½œæˆ ãƒœã‚¿ãƒ³ã‹ã‚‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\nã¾ãšã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åå‰ã¨èª¬æ˜ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\nç¶šã„ã¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®è¨­å®šã§ã™ã€‚\nä»Šå›ã¯ Lambda é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã ã‘ãªã®ã§ã€ãƒ‡ãƒã‚¤ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ã¯ Lambda é–¢æ•°å®Ÿè¡Œç”¨ã®ãƒ‡ãƒã‚¤ã‚¹ã‚’è¨­å®šã—ã¾ã™ã€‚\nLambda é–¢æ•°å®Ÿè¡Œã®å ´åˆã¯å¿…é ˆã®ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆå±æ€§ã¯ç„¡ã„ã®ã§ã€é©å½“ã«å±æ€§ã¨å€¤ã‚’è¨­å®šã—ã¦ãŠãã¾ã™ã€‚\nã“ã‚Œã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯å®Œæˆã§ã™ã€‚\nå¼•ãç¶šã„ã¦ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\nãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã®ä½œæˆã§ã¯ã€ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆåã¨ã€ãƒ‡ãƒã‚¤ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ç”¨æ„ã—ãŸãƒ‡ãƒã‚¤ã‚¹ã®æ ã«ãƒ‡ãƒã‚¤ã‚¹ã‚’è¨­å®šã€ã‚ã¨ã¯ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã®å±æ€§ã‚’è¨­å®šã—ã¾ã™ã€‚\nã§ã€ä»Šå›ã®ç›®çš„ã‚’é”æˆã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®šãŒæ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚(ä¸Šã®ã‚­ãƒ£ãƒ—ãƒãƒ£ã¨åå‰ãŒç•°ãªã‚‹éƒ¨åˆ†ãŒã‚ã‚Šã¾ã™)\nã“ã‚Œã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆã¨ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã®è¨­å®šãŒå®Œäº†ã—ãŸã®ã§ã€ã‚ã¨ã¯ AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã‚’æŠ¼ã™ã ã‘ã§ã™\u0026hellip;!\n5. AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã‚’æŠ¼ã™ ã¨ã„ã†ã“ã¨ã§ã€ã¨ã‚Šã‚ãˆãš 1 å›æŠ¼ã—ã¦ã¿ã¾ã™ã€‚ã™ã‚‹ã¨æ•°ç§’å¾Œã« Slack ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé£›ã‚“ã§ãã¾ã™ã€‚\nã“ã‚ŒãŒ IoT \u0026hellip;ã€‚\nä¸Šã®ã‚­ãƒ£ãƒ—ãƒãƒ£ã®ã¨ãŠã‚Šã§ã™ãŒã€ IoT 1-Click ã‹ã‚‰ Lambda ã«æ¸¡ã•ã‚Œã‚‹ event ã®å†…å®¹ã¯ã“ã‚“ãª json ã«ãªã£ã¦ã„ã¾ã™ã€‚\n{ \u0026#34;deviceInfo\u0026#34;: { \u0026#34;deviceId\u0026#34;: \u0026#34;G030AB12345678CD\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;button\u0026#34;, \u0026#34;remainingLife\u0026#34;: 99.35, \u0026#34;attributes\u0026#34;: { \u0026#34;projectRegion\u0026#34;: \u0026#34;ap-northeast-1\u0026#34;, \u0026#34;projectName\u0026#34;: \u0026#34;MyProject\u0026#34;, \u0026#34;placementName\u0026#34;: \u0026#34;MyPlacement\u0026#34;, \u0026#34;deviceTemplateName\u0026#34;: \u0026#34;runLambda\u0026#34; } }, \u0026#34;deviceEvent\u0026#34;: { \u0026#34;buttonClicked\u0026#34;: { \u0026#34;clickType\u0026#34;: \u0026#34;SINGLE\u0026#34;, \u0026#34;reportedTime\u0026#34;: \u0026#34;2019-07-08T12:38:25.312Z\u0026#34; } }, \u0026#34;placementInfo\u0026#34;: { \u0026#34;projectName\u0026#34;: \u0026#34;MyProject\u0026#34;, \u0026#34;placementName\u0026#34;: \u0026#34;MyPlacement\u0026#34;, \u0026#34;attributes\u0026#34;: { \u0026#34;floor\u0026#34;: \u0026#34;99\u0026#34;, \u0026#34;room\u0026#34;: \u0026#34;999\u0026#34;, \u0026#34;building\u0026#34;: \u0026#34;9\u0026#34; }, \u0026#34;devices\u0026#34;: { \u0026#34;runLambda\u0026#34;: \u0026#34;G030AB12345678CD\u0026#34; } } } ã¨ã‚Šã‚ãˆãš 1 å› ã¨æ›¸ã„ãŸã®ã«ã¯è¨³ãŒã‚ã£ã¦ã€ AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã§ã¯æ¬¡ã® 3 ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æŠ¼ã—æ–¹ã‚’èªè­˜ã—ã¾ã™ã€‚\n1 å› 2 å› é•·æŠ¼ã— (2ç§’ãã‚‰ã„) ãã—ã¦ã€ãã‚Œãã‚Œã®æŠ¼ã—æ–¹ã«ã‚ˆã£ã¦æ¸¡ã•ã‚Œã‚‹ event å†…ã® deviceEvent.buttonClicked.clickType ãŒ SINGLE ã€ DOUBLE ã€ LONG ã«ãªã‚Šã¾ã™ã€‚\nLambda å´ã§ä½•ã‹å‡¦ç†ã‚’åˆ†å²ã•ã›ã‚‹å ´åˆã¯ã€ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã®å±æ€§ã¨ã€ã“ã®ã‚¯ãƒªãƒƒã‚¯ã‚¿ã‚¤ãƒ— ã‚’æ¡ä»¶ã«ã™ã‚‹ã¨è‰¯ã•ãã†ã§ã™ã€‚\nã¡ãªã¿ã« deviceInfo.remainingLife ã¯ AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã®å¯¿å‘½ã«ãªã£ã¦ã„ã¾ã™ã€‚ãƒœã‚¿ãƒ³è‡ªä½“ã¯ç´„ 2,000 å›æŠ¼ã™ã“ã¨ãŒã§ãã‚‹ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ä¸Šã§æ‰±ã†ã«ã¯ã“ã®å€¤ã‚’ä½¿ã£ã¦ã€Œã‚ã¨â—‹å›æŠ¼ã›ã¾ã™ã€ã¨ã‹ã‚‚ã§ããã†ã§ã™ã€‚\nã¾ã¨ã‚ AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ã‚’ä½¿ã£ã¦ Lambda ã‚’å®Ÿè¡Œã—ã¦ Slack ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã£ã¦ã¿ãŸã¨ã„ã†è©±ã§ã—ãŸã€‚\nã„ã¾ã¾ã§ IoT é–¢ä¿‚ã«ã¯ã¨ã£ã¤ãã«ãã‹ã£ãŸã‚“ã§ã™ãŒã€ã³ã£ãã‚Šã™ã‚‹ãã‚‰ã„ç°¡å˜ã« IoT ã£ã½ã„ã“ã¨ãŒã§ãã¾ã—ãŸã€‚Lambda ãŒå®Ÿè¡Œã§ãã‚‹ã¨ã„ã†ã“ã¨ã¯ã»ã¼ãªã‚“ã§ã‚‚ã§ãã‚‹ã¨ã„ã†ã“ã¨ãªã®ã§ã€ç™ºæƒ³æ¬¡ç¬¬ã§ã¯æœ¬å½“ã«ã„ã‚ã‚“ãªã“ã¨ãŒã§ããã†ã§ã™ã€‚\nIoT é–¢ä¿‚ã«è¸ã¿è¾¼ã¿ãŸã„ã‘ã©ä½•ã‹ã‚‰å§‹ã‚ã¦ã„ã„ã®ã‹ã‚ˆãã‚ã‹ã‚ã‚“ã£ã¦ã„ã†äººã«ã¯ã€ AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ ãŠã™ã™ã‚ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-iot-1-click-tutorial/",
    "title": "AWS IoT ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒœã‚¿ãƒ³ã§ Lambda é–¢æ•°ã‚’å®Ÿè¡Œã—ã¦ Slack ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "æŠ€è¡“ãƒ–ãƒ­ã‚°ã§ã‚ˆãè¦‹ã‚‹ã€Œã“ã®è¨˜äº‹ã¯å…¬é–‹ã•ã‚Œã¦ã‹ã‚‰1å¹´ä»¥ä¸ŠçµŒéã—ã¦ã„ã¾ã™ã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã€ Hugo ã§ä½œã£ãŸãƒ–ãƒ­ã‚°ã®è¨˜äº‹ã«ã‚‚è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã—ãŸã€‚\nã‚„ã‚‹ã“ã¨ ä¸‹è¨˜ã® JavaScript ã‚’ head å†…ã«è¨˜è¿°ã—ã¾ã™ã€‚\nfunction showInfoNotifiesOldPost() { const nowDate = new Date(); const oldTs = 60 * 60 * 24 * 365 * 1000; // 1 year (millisecond) const nowTs = nowDate.getTime(); const postDateElem = document.querySelector(\u0026#39;p.post-date \u0026gt; time.dt-published\u0026#39;); if (postDateElem !== null) { try { const postDateStr = postDateElem.getAttribute(\u0026#39;datetime\u0026#39;); const postDate = new Date(postDateStr); const postTs = postDate.getTime(); if (nowTs - postTs \u0026gt; oldTs) { const entrySectionElem = document.querySelector(\u0026#39;section.content.e-content\u0026#39;); if (entrySectionElem !== null) { const infoElem = \u0026#39;\u0026lt;div id=\u0026#34;old-entry-notifier\u0026#34;\u0026gt;ã“ã®è¨˜äº‹ã¯å…¬é–‹ã•ã‚Œã¦ã‹ã‚‰ 1 å¹´ä»¥ä¸ŠçµŒéã—ã¦ã„ã¾ã™ã€‚æƒ…å ±ãŒå¤ã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã®ã§ã€ã”æ³¨æ„ãã ã•ã„ã€‚\u0026lt;/div\u0026gt;\u0026#39;; entrySectionElem.insertAdjacentHTML(\u0026#39;afterbegin\u0026#39;, infoElem); } } } catch { console.warn(\u0026#39;failed to get post date.\u0026#39;); } } } window.onload = () =\u0026gt; { showInfoNotifiesOldPost(); }; ã‚¹ã‚¿ã‚¤ãƒ«ã‚’èª¿æ•´ã—ã¾ã™ã€‚\n#old-entry-notifier { background-color: #ffcc80; border: 2px solid #ff6d00; font-weight: 900; margin: 15px 0; padding: 15px; } ä»¥ä¸Šã§ã™ã€‚\nshow-old-entry-message.js | gist ",
    "permalink": "https://michimani.net/post/development-show-old-entry-message/",
    "title": "Hugo ã§ä½œã£ãŸãƒ–ãƒ­ã‚°ã®å¤ã„è¨˜äº‹ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹"
  },
  {
    "contents": "AWS èªå®šã®å…¥ã‚Šå£ã¨è¨€ã£ã¦ã‚‚ã„ã„å­˜åœ¨ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆ (SAA) ã®è©¦é¨“ã‚’å…ˆæ—¥å—ã‘ã¦ãã¦ã€ç„¡äº‹ã«åˆæ ¼ã§ãã¾ã—ãŸã€‚å—é¨“ã«è‡³ã£ãŸçµŒç·¯ã¨ã‹å¯¾ç­–ã¨ã‹ã€ãã®ã‚ãŸã‚Šã«ã¤ã„ã¦æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nâ€»è¿½è¨˜\nã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆãƒ¬ãƒ™ãƒ«æ®‹ã‚Š 2 ã¤ã®è©¦é¨“ (DVA, SOA) ã«ã¤ã„ã¦ã‚‚å—é¨“è¨˜ã‚’æ›¸ãã¾ã—ãŸã€‚\nç›®æ¬¡ AWS èªå®šã«ã¤ã„ã¦ å—é¨“ã—ãŸçµŒç·¯ AWS (ã¨ãã®ä»–) ã®çµŒé¨“å€¤ AWS ä»¥å¤–ã®ã“ã¨ AWS ã®ã“ã¨ å—é¨“ã¾ã§ã®æµã‚Œ å—é¨“æ—¥ã®æ±ºå®šãƒ»äºˆç´„ è©¦é¨“å¯¾ç­– å—é¨“æ—¥å½“æ—¥ ã¾ã¨ã‚ AWS èªå®šã«ã¤ã„ã¦ è«¸ã€…ã®è©±ã®å‰ã«ã€AWS èªå®šã«ã¤ã„ã¦ãŠã•ã‚‰ã„ã§ã™ã€‚æ¦‚è¦ã¯ AWS èªå®šã«ã¤ã„ã¦ã®å…¬å¼ãƒšãƒ¼ã‚¸ ã‹ã‚‰æ‹å€Ÿã—ãŸä¸‹ã®å›³ã‚’ã”è¦§ãã ã•ã„ã€‚\nå†’é ­ã§ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã¯ AWS èªå®šã®å…¥ã‚Šå£ã¨æ›¸ãã¾ã—ãŸãŒã€æœ¬æ¥ãªã‚‰ ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚·ãƒ§ãƒŠãƒ¼ ãŒãã®ä½ç½®ä»˜ã‘ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚·ãƒ§ãƒŠãƒ¼è©¦é¨“ã§ã¯ã€ AWS ã‚¯ãƒ©ã‚¦ãƒ‰ã¨ã¯ä½•ã‹ ã€ AWS ã‚¯ãƒ©ã‚¦ãƒ‰ã®ä¾¡å€¤ææ¡ˆã«ã¤ã„ã¦ ã€ è«‹æ±‚ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã€æ–™é‡‘ãƒ¢ãƒ‡ãƒ« ã¨ã„ã£ãŸ AWS ã®åŸºæœ¬çš„ãªéƒ¨åˆ†ãŒå‡ºé¡Œç¯„å›²ã¨ãªã£ã¦ã„ã¾ã™ã€‚å—é¨“å¯¾è±¡ã¨ã—ã¦ã‚‚ \u0026ldquo;Six months of fundamental AWS Cloud and industry knowledge\u0026rdquo; ã¨ãªã£ã¦ã„ã‚‹ã®ã§ã€æ¥­ç•Œã«å…¥ã£ã¦ã‹ã‚‰ã€ã¾ãŸã¯ AWS ã‚’è§¦ã‚Šå§‹ã‚ã¦åŠå¹´ãã‚‰ã„ã®ãƒ¬ãƒ™ãƒ«ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nAWS èªå®šã‚¯ãƒ©ã‚¦ãƒ‰ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚·ãƒ§ãƒŠãƒ¼ | AWS ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚·ãƒ§ãƒŠãƒ¼ä»¥å¤–ã§ã¯ã€å¤§ããåˆ†ã‘ã¦ä¸‹è¨˜ã® 3 ã¤ã®ã‚«ãƒ†ã‚´ãƒªãŒã‚ã‚Šã¾ã™ã€‚\nArchitect - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ Operations - é‹ç”¨æ‹…å½“è€… Developer - é–‹ç™ºè€… ãã‚Œãã‚Œãã®åå‰ã®é€šã‚Šã€è‡ªåˆ†ãŒã©ã†ã„ã†åˆ†é‡ã§å‹‰å¼·ã€æˆé•·ã—ã¦ã„ãã‹ã®ãƒ‘ã‚¹ã«ãªã£ã¦ã„ã¾ã™ã€‚è©³ã—ãã¯ AWS èªå®šã®æ¦‚è¦ãƒšãƒ¼ã‚¸ ã«ã‚ã‚‹ å­¦ç¿’ãƒ‘ã‚¹ ã®ã¨ã“ã‚ã‚’è¦‹ã¦ãã ã•ã„ã€‚\nãã—ã¦ä¸Šè¨˜ã®ã‚«ãƒ†ã‚´ãƒªã«å¯¾ã—ã¦ã€ Associate - ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆ ã¨ Professional - ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ« ã® 2 ã¤ã®ãƒ¬ãƒ™ãƒ«ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚ãã‚Œãã‚Œã®ãƒ¬ãƒ™ãƒ«ã®å—é¨“å¯¾è±¡ã¨ã—ã¦ã¯ã€\nã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆãƒ»ãƒ»ãƒ»AWS ã‚’ä½¿ç”¨ã—ã¦å•é¡Œã‚’è§£æ±ºã™ã‚‹ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£…çµŒé¨“ãŒ 1 å¹´ç¨‹åº¦ ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãƒ»ãƒ»ãƒ»AWS ã‚’ä½¿ç”¨ã—ãŸã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­è¨ˆã€é‹ç”¨ã€ãŠã‚ˆã³ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®ç·åˆçš„ãªçµŒé¨“ãŒ 2 å¹´ç¨‹åº¦ ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã¾ãŸã€ã“ã‚Œã‚‰ã®ä»–ã« Speciality ãƒ¬ãƒ™ãƒ«ã¨ã—ã¦ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€Alexa Skil Builder ã¨ã„ã£ãŸã€ã‚ˆã‚Šç´°ã‹ã„åˆ†é‡ã«å¯¾ã™ã‚‹èªå®šè©¦é¨“ã‚‚ç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚\nä¸Šè¨˜ã‚’ãµã¾ãˆã¦ã€ä»Šå›å—é¨“ã—ãŸã®ã¯ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã®ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆãƒ¬ãƒ™ãƒ«ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nå—é¨“ã—ãŸçµŒç·¯ AWS ã‚’è§¦ã‚Šå§‹ã‚ã¦ã¡ã‚‡ã†ã© 2 å¹´ãã‚‰ã„çµŒã¤ã®ã§ã€è‡ªåˆ†ã® AWS ã«é–¢ã™ã‚‹çŸ¥è­˜ã®ç¢ºèªãŒã—ãŸã„ã¨æ€ã£ãŸã®ãŒãã£ã‹ã‘ã§ã™ã€‚\nã¾ãŸã€å…ˆæ—¥é–‹å‚¬ã•ã‚Œã¦ã„ãŸ AWS Summit ã§ã¯èªå®šè€…ãƒ©ã‚¦ãƒ³ã‚¸ã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã€ AWS èªå®šè©¦é¨“ã«åˆæ ¼ã—ã¦ã„ã‚‹äººã®ã¿ãŒå…¥ã‚Œã‚‹ã‚¹ãƒšãƒ¼ã‚¹ã¨ãªã£ã¦ã„ã¾ã—ãŸã€‚ä»Šå¾Œã‚‚ãã†ã„ã£ãŸã‚¤ãƒ™ãƒ³ãƒˆã§ä½•ã‹ã—ã‚‰æ©æµã‚’å—ã‘ã‚‰ã‚Œãã†ã¨ã„ã†ã®ã‚‚ãã£ã‹ã‘ã®ä¸€ã¤ã§ã™ã€‚\nAWS ã® çµŒé¨“ã¯ 2 å¹´ãªã®ã§ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãƒ¬ãƒ™ãƒ«ã‚‚å¯¾è±¡ã«ãªã£ã¦ãã¾ã™ãŒã€ã²ã¨ã¾ãšã¯ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆãƒ¬ãƒ™ãƒ«ã‚’ç¢ºå®Ÿã«ã€ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚\nAWS (ã¨ãã®ä»–) ã®çµŒé¨“å€¤ å—é¨“å‰ã®ç§ã®æŠ€è¡“çš„ãªçµŒé¨“å€¤ã¨ã—ã¦ã¯ã ã„ãŸã„ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\nAWS ä»¥å¤–ã®ã“ã¨ æŠ€è¡“è€…æ­´ 6 å¹´ ä¸»ã« LAMP ç’°å¢ƒã§ã® WEB ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™º åŸºæœ¬æƒ…å ±æŠ€è¡“è€…è©¦é¨“ã¯æŒã£ã¦ã‚‹ AWS ã®ã“ã¨ EC2 ä¸Šã§ LAMP ç’°å¢ƒæ§‹ç¯‰ã—ã¦ WEB ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®é–‹ç™º ã‚ªãƒ³ãƒ—ãƒ¬ã§å‹•ã„ã¦ã„ãŸ WEB ã‚µãƒ¼ãƒ“ã‚¹ã‚’ AWS ç’°å¢ƒã«ç§»è¡Œ (Route 53, ELB, EC2, RDS, S3, CloudFront\u0026hellip; ã¨ã„ã£ãŸåŸºæœ¬çš„ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£) Route 53 + CloudFront + S3 ã§é™çš„ WEB ã‚µã‚¤ãƒˆã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° CodePipeline (CodeCommit, CodeBuild, CodeDeploy) ã§ CI/CD ã®è¨­å®š API Gateway + Lambda + DynamoDB ã§ç°¡å˜ãª API ã®ä½œæˆ CloudWatch Event ã§ Lambda ã®å®šæœŸå®Ÿè¡Œ ãã®ä»–ã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãƒ¬ãƒ™ãƒ«ã§è§¦ã£ãŸã“ã¨ãŒã‚ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ Athena, Cognito, Polly, Rekognition \u0026hellip; ãŠãã‚‰ã AWS ã§é‹ç”¨/é–‹ç™ºã‚’ã™ã‚‹éš›ã«ä½¿ã†ã§ã‚ã‚ã†ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦ã€åŸºæœ¬çš„ãªéƒ¨åˆ†ã¯è§¦ã£ãŸã“ã¨ãŒã‚ã‚‹ ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚\nã¡ãªã¿ã« æ¥­å‹™å†… : æ¥­å‹™å¤– ã®å‰²åˆã¯ã€ã–ã£ãã‚Šã¨ã§ã™ãŒ 4 : 6 ãã‚‰ã„ã§ã™ã€‚æ¥­å‹™ã§ã¯ã©ã†ã—ã¦ã‚‚åã£ãŸã‚µãƒ¼ãƒ“ã‚¹ (EC2, S3, RDS, Lambda ãã‚‰ã„) ã—ã‹ä½¿ã‚ãªã„ã®ã§ã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã®æ™‚é–“ã§ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’è§¦ã£ã¦ã¾ã—ãŸã€‚\nå—é¨“ã¾ã§ã®æµã‚Œ å—é¨“ã—ã‚ˆã†ã¨æ€ã£ã¦ã‹ã‚‰å—é¨“æ—¥å½“æ—¥ã¾ã§ã®æµã‚Œã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\nå—é¨“æ—¥ã®æ±ºå®šãƒ»äºˆç´„ è©¦é¨“å¯¾ç­– å—é¨“æ—¥å½“æ—¥ ã“ã®é–“ã€ç´„ 1 ãƒ¶æœˆã§ã™ã€‚å€‹äººçš„ã«ã¯æœŸæ—¥ãŒæ±ºã¾ã£ã¦ã„ãŸæ–¹ãŒã‚„ã‚‹æ°—ãŒå‡ºã‚‹ã®ã§ã€è©¦é¨“å¯¾ç­–ã®å‰ã«å—é¨“æ—¥ã‚’æ±ºã‚ã¦ã—ã¾ã„ã¾ã—ãŸã€‚\nå—é¨“æ—¥ã®æ±ºå®šãƒ»äºˆç´„ è©¦é¨“ã®äºˆç´„ã®è©³ã—ã„æ‰‹é †ã«ã¤ã„ã¦ã¯å‰²æ„›ã—ã¾ã™ã€‚\næ±äº¬è¿‘éƒŠã§ã‚ã‚Œã°å—é¨“ã§ãã‚‹ãƒ†ã‚¹ãƒˆã‚»ãƒ³ã‚¿ãƒ¼ã¯ãŸãã•ã‚“ã‚ã‚‹ã®ã§ã€å—é¨“æ—¥ã¯ã»ã¼é¸ã³æ”¾é¡Œã¨ã„ã†å°è±¡ã§ã™ã€‚ãŸã ã—ãƒ†ã‚¹ãƒˆã‚»ãƒ³ã‚¿ãƒ¼ã«ã‚ˆã£ã¦ã¯å¹³æ—¥ã®ã¿ã—ã‹å—é¨“ã§ããªã‹ã£ãŸã‚Šã™ã‚‹ã®ã§ã€ãã“ã¯æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚\nç§ã¯åœŸæ—¥ã§ã‚‚å—é¨“å¯èƒ½ãª éŠ€åº§CBTSæ­Œèˆä¼åº§ãƒ†ã‚¹ãƒˆã‚»ãƒ³ã‚¿ãƒ¼ (Google Map) ã‚’é¸æŠã—ã¾ã—ãŸã€‚\næ—¥æ¯”è°·ç·š æ±éŠ€åº§é§…ç›´çµãªã®ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã‚„ã™ã„ã§ã™ã€‚\nã¡ãªã¿ã« SAA æœ¬è©¦é¨“ã®å—é¨“æ–™ã¯ã€ 15,000 å†† (ç¨æŠœ) ã§ã™ã€‚\nè©¦é¨“å¯¾ç­– ã‚„ã£ãŸã“ã¨ã‚’é †ç•ªã«æ›¸ãå‡ºã—ã¦ã¿ã¾ã™ã€‚\nã‚µãƒ³ãƒ—ãƒ«å•é¡Œã‚’è§£ã é–“é•ãˆãŸå•é¡Œã«é–¢ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦èª¿ã¹ã‚‹ (ã–ã£ãã‚Š) æ¨¡æ“¬è©¦é¨“ã‚’å—é¨“ã™ã‚‹ é–“é•ãˆãŸå•é¡Œã«é–¢ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦èª¿ã¹ã‚‹ (è¿½ã„è¾¼ã¿) ä»¥ä¸Šã§ã™ã€‚ã²ã¨ã¤ãšã¤è©³ã—ãã¿ã¦ã„ãã¾ã™ã€‚\nã‚µãƒ³ãƒ—ãƒ«å•é¡Œã‚’è§£ã ã¾ãšã¯ SAA ã«ã©ã‚“ãªå•é¡ŒãŒå‡ºé¡Œã•ã‚Œã‚‹ã®ã‹ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ã€ AWS å…¬å¼ãƒšãƒ¼ã‚¸ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ã‚µãƒ³ãƒ—ãƒ«å•é¡Œã‚’è§£ãã¾ã—ãŸã€‚\nAWS èªå®šã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ â€“ ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆ | AWS å•é¡Œæ•°ã¯ 10 å•ã ã‘ã§ã™ãŒã€å‡ºé¡Œã•ã‚Œã‚‹å•é¡Œã®é›°å›²æ°—ã¯ã¤ã‹ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nã¾ãšã“ã®å•é¡Œã‚’è§£ã„ãŸæ™‚ç‚¹ã§ 8 å•ã¯æ­£è§£ã—ã¦ã„ãŸã®ã§ã€æ¡ˆå¤–ã„ã‘ã‚‹ã®ã§ã¯ï¼Ÿã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚\né–“é•ãˆãŸå•é¡Œã«é–¢ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦èª¿ã¹ã‚‹ (ã–ã£ãã‚Š) ã‚µãƒ³ãƒ—ãƒ«å•é¡Œã§é–“é•ãˆãŸå•é¡Œã«é–¢ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã€åˆã‚ã¦èãã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦æ¦‚è¦ã‚’ç¢ºèªã—ã¾ã™ã€‚å‚è€ƒã«ã™ã‚‹ãƒšãƒ¼ã‚¸ã¯ã€ AWS ã®å„ã‚µãƒ¼ãƒ“ã‚¹ã®å…¬å¼ãƒšãƒ¼ã‚¸ã§ã™ã€‚\nä¾‹ãˆã°ç§ã®å ´åˆã¯ Elastic Beanstalk ã£ã¦ãªã‚“ã‚„ã­ã‚“ ã£ã¦æ„Ÿã˜ã ã£ãŸã®ã§ã€ä¸‹è¨˜ãƒšãƒ¼ã‚¸ã‚’å‚ç…§ã—ã¾ã—ãŸã€‚\nAWS Elastic Beanstalkï¼ˆã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã®å®Ÿè¡Œã¨ç®¡ç†ï¼‰| AWS å„ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒšãƒ¼ã‚¸ã«ã¯ãã‚Œãã‚Œ æ¦‚è¦ã€ç‰¹å¾´ã€æ–™é‡‘ã€é–‹å§‹æ–¹æ³•ã€ãƒªã‚½ãƒ¼ã‚¹ã€ã‚ˆãã‚ã‚‹è³ªå• ã¨ã„ã†é …ç›®ãŒã‚ã‚‹ã®ã§ã€å„é …ç›®ã‚’ç¢ºèªã—ã¾ã™ã€‚ç¢ºèªã—ãŸè¦ç‚¹ã¨ã—ã¦ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªç‚¹ã§ã™ã€‚\nä½•ãŒã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ãªã®ã‹ ã©ã†ã„ã£ãŸçŠ¶æ³ã§ä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ãªã®ã‹ æ–™é‡‘ç™ºç”Ÿã®ä»•çµ„ã¿ (å˜ä½æ™‚é–“ã€å®¹é‡ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ—ãªã©) åˆ©ç”¨ã™ã‚‹éš›ã«ç™ºç”Ÿã™ã‚‹ç–‘å•ç‚¹ (ã‚ˆãã‚ã‚‹è³ªå• ã®é …ç›®ã§ç¢ºèª) ã“ã“ã§ \u0026quot;(ã–ã£ãã‚Š)\u0026quot; ã¨æ›¸ã„ã¦ã„ã‚‹ã®ã¯ã€ã¾ãšã¯ã‚µãƒ¼ãƒ“ã‚¹ãã®ã‚‚ã®ã«ã¤ã„ã¦ã‚¢ãƒã‚¦ãƒˆã§ã‚‚ã„ã„ã®ã§æŠŠæ¡ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚\nã“ã®æ™‚ç‚¹ã§ã¯ã¾ã ã‚µãƒ³ãƒ—ãƒ«å•é¡Œã® 10 å•ã—ã‹è§£ã„ã¦ã„ãªã„ã®ã§ã€æ·±æ˜ã‚Šã™ã‚‹ã«ã‚‚å¯¾è±¡ãŒå°‘ãªã™ãã¾ã™ã€‚ä¸€æ—¦ã¯æ¦‚è¦ã‚’æŠ‘ãˆã¦ã€æ¬¡ã®æ¨¡æ“¬è©¦é¨“ã«å‚™ãˆã¾ã™ã€‚\næ¨¡æ“¬è©¦é¨“ã‚’å—é¨“ã™ã‚‹ èªå®šè©¦é¨“ã®äºˆç´„ã¨åŒã˜å ´æ‰€ (ãƒšãƒ¼ã‚¸) ã‹ã‚‰æ¨¡æ“¬è©¦é¨“ã®äºˆç´„ã‚’ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã“ã‚‚è©³ã—ã„æ‰‹é †ã«ã¤ã„ã¦ã¯å‰²æ„›ã—ã¾ã™ã€‚\näºˆç´„ã¨ã„ã£ã¦ã‚‚æ—¥æ™‚ã‚’æ±ºã‚ã‚‹ã‚ã‘ã§ã¯ãªã„ã®ã§ã€å—é¨“æ–™ 2,000 å†† (ç¨æŠœ) ã‚’æ”¯æ‰•ã†ã¨ã™ãã«å—é¨“ã§ãã¾ã™ã€‚\nã¡ãªã¿ã«ã€ç§ã¯æœ¬è©¦é¨“ã® 1 é€±é–“å‰ã«æ¨¡æ“¬è©¦é¨“ã‚’å—é¨“ã—ã¾ã—ãŸã€‚\nå•é¡Œæ•°ãŒ 25 å•ã€åˆ¶é™æ™‚é–“ãŒ 30 åˆ†ã§ã‚ã‚‹ã“ã¨ã€è‡ªåˆ†ã® PC ã§å—é¨“ã§ãã‚‹ã“ã¨ä»¥å¤–ã¯ã€ç”»é¢ã®æ§‹æˆãªã©æœ¬è©¦é¨“ã¨åŒæ§˜ã§ã™ã€‚ãªã®ã§ã€è©¦é¨“å•é¡Œã‚‚ãã†ã§ã™ãŒã€è©¦é¨“ç”»é¢ã«ã‚‚æ…£ã‚Œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\næ¨¡æ“¬è©¦é¨“ã‚’å—é¨“ã™ã‚‹ã«ã‚ãŸã£ã¦ã¯ã€æœ¬è©¦é¨“ã«å‘ã‘ã¦ä¸‹è¨˜ã®ã“ã¨ã‚’å®Ÿæ–½ã§ãã‚‹ã¨è‰¯ã„ã§ã™ã€‚\nè¨€èªè¨­å®šã‚’è‹±èªã«åˆ‡ã‚Šæ›¿ãˆã¦ã€è‹±èªã®å‡ºé¡Œæ–‡ã‚’ç¢ºèªã™ã‚‹ å•é¡Œã«ãƒ•ãƒ©ã‚°ã‚’ä»˜ã‘ã‚‹ã€å‰ã®å•é¡Œã«æˆ»ã‚‹ã€å›ç­”æ¸ˆã¿ã®å•é¡Œã®å›ç­”ã‚’ç·¨é›†ã™ã‚‹ ã¨ã„ã£ãŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è©¦ã™ ã‚ã‹ã‚‰ãªã‹ã£ãŸå•é¡Œã€ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦ãƒ¡ãƒ¢ã—ã¦ãŠã ã¾ãšè‹±èªã®å•é¡Œæ–‡ã‚’ç¢ºèªã™ã‚‹ç†ç”±ã¯ã€æ—¥æœ¬èªã®å•é¡Œæ–‡ã¯å¤šå°‘é•å’Œæ„Ÿã®ã‚ã‚‹è¡¨ç¾ãŒã•ã‚Œã¦ã„ã‚‹å ´åˆãŒã‚ã‚‹ã‹ã‚‰ã§ã™ã€‚ãã®å ´åˆã¯åŸæ–‡ (English) ã§ã‚‚ç¢ºèªã—ãŸã»ã†ãŒã‚ˆã„ã§ã™ã€‚ã“ã‚Œã¯æœ¬è©¦é¨“ã§ã‚‚åŒæ§˜ã§ã™ã€‚\næ¨¡æ“¬è©¦é¨“ã®æ™‚ç‚¹ã§è‹±èªã®å•é¡Œæ–‡ã«æ…£ã‚Œã¦ãŠã‘ã°ã€æœ¬è©¦é¨“ã§ã®èª­è§£ã«ã‚‚å½¹ç«‹ã¤ã§ã—ã‚‡ã†ã€‚è¨€èªã®åˆ‡ã‚Šæ›¿ãˆã¯ä½•åº¦ã§ã‚‚å®Ÿæ–½ã§ãã‚‹ã®ã§ã€å®‰å¿ƒã—ã¦åˆ‡ã‚Šæ›¿ãˆã¾ã—ã‚‡ã†ã€‚(ãšã£ã¨è‹±èªã«ãªã£ãŸã‚Šã¯ã—ã¾ã›ã‚“)\nã¾ãŸã€ãƒ•ãƒ©ã‚°ã‚’ã¤ã‘ãŸã‚Šå‰ã®å•é¡Œã«æˆ»ã£ãŸã‚Šã¨ã„ã£ãŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯æœ¬è©¦é¨“ã§ã¯å¿…ãšè¡Œã†ã“ã¨ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚ã¨ã„ã†ã®ã‚‚ã€ã»ã¼ç¢ºå®Ÿã«æ™‚é–“ãŒä½™ã‚‹ã®ã§è¦‹ç›´ã—ã®æ™‚é–“ã‚’ã¨ã‚‹ã“ã¨ãŒã§ãã‚‹ã‹ã‚‰ã§ã™ã€‚\næ¨¡æ“¬è©¦é¨“ã®æ™‚ç‚¹ã§ãã‚Œã‚‰ã®æ“ä½œã«æ…£ã‚Œã¦ãŠã‘ã°ã€æœ¬è©¦é¨“ã§ã®æ“ä½œã‚‚ã‚¹ãƒ ãƒ¼ã‚ºã«è¡Œãˆã¾ã™ã€‚\nå•é¡Œã‚’è§£ã„ã¦ã„ã‚‹ã¨ãã«ã‚ã‹ã‚‰ãªã‹ã£ãŸå†…å®¹ã€ç†è§£ãŒåŠã‚“ã§ã„ãªã„ã¨æ„Ÿã˜ãŸå†…å®¹ã«ã¤ã„ã¦ã¯ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚\nå•é¡Œã®ç”»é¢ã‚’ã‚¹ã‚¯ã‚·ãƒ§ã™ã‚‹ã¨ã„ã†æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™ãŒã€å ´åˆã«ã‚ˆã£ã¦ã¯ AWS èªå®šè©¦é¨“ã® NDA ã«æŠµè§¦ã™ã‚‹å¯èƒ½æ€§ã‚‚ç„¡ãã‚‚ãªã„ã®ã§è‡ªå·±è²¬ä»»ã§ãŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚\nã¨ã¯æ›¸ãã¾ã—ãŸãŒã€ãƒ¡ã‚¤ãƒ³ã¯å•é¡Œã‚’è§£ãã“ã¨ãªã®ã§ã€é ‘å¼µã£ã¦è§£ãã¾ã™ã€‚\næ¨¡æ“¬è©¦é¨“ã®å—é¨“å¾Œã¯ã™ãã«æ­£ç­”ç‡ãŒã‚ã‹ã‚Šã¾ã™ã€‚ãŸã ã—ã€å„å•é¡Œã®æ­£è§£/ä¸æ­£è§£ãŒã‚ã‹ã‚‹ã‚ã‘ã§ã¯ãªãã€ä¸‹è¨˜ã®ã‚ˆã†ã«å•é¡Œã®åˆ†é‡åˆ¥ã®æ­£ç­”ç‡ã¨å…¨ä½“ã®æ­£ç­”ç‡ãŒã‚ã‹ã‚Šã¾ã™ã€‚\nç·åˆã‚¹ã‚³ã‚¢: 76%\n1.0â€ˆDesign Resilient Architectures:â€ˆ100%\n2.0â€ˆDefine Performant Architectures:â€ˆ57%\n3.0â€ˆSpecify Secure Applications and Architectures:â€ˆ66%\n4.0â€ˆDesign Cost-Optimized Architectures:â€ˆ50%\n5.0â€ˆDefine Operationally-Excellent Architectures:â€ˆ100%\næ¨¡æ“¬è©¦é¨“ã‚’è§£ã„ãŸå¾Œã¯ã€ã‚ã‹ã‚‰ãªã‹ã£ãŸå•é¡Œã€ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢ã—ã¦å†åº¦å†…å®¹ã‚’ç¢ºèªã—ã¾ã™ã€‚\né–“é•ãˆãŸå•é¡Œã«é–¢ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦èª¿ã¹ã‚‹ (è¿½ã„è¾¼ã¿) æ¨¡æ“¬è©¦é¨“ã®ã‚ã¨ã¯ã€ã²ãŸã™ã‚‰ã‚µãƒ¼ãƒ“ã‚¹ã®æ¦‚è¦ã«ã¤ã„ã¦å¾©ç¿’ã—ã¾ã™ã€‚ãŸã ã—ã€ã‚„ã¿ãã‚‚ã«å„ã‚µãƒ¼ãƒ“ã‚¹ã®æ¦‚è¦ã‚’é ­ã«è©°ã‚è¾¼ã‚€ã®ã¯éåŠ¹ç‡ã§ã™ã€‚\næ¨¡æ“¬è©¦é¨“ã€ãŠã‚ˆã³æœ¬è©¦é¨“ã§ã‚‚ä¸‹è¨˜ã®å†…å®¹ãŒå ã‚ã‚‹å‰²åˆãŒ (ä½“æ„Ÿã§) éå¸¸ã«å¤§ãã‹ã£ãŸã®ã§ã€é›†ä¸­ã—ã¦ã‚„ã£ã¦ãŠãã¨ã‚ˆã„ã§ã—ã‚‡ã†ã€‚\nãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é–¢é€£ (VPC, ELB, NAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ ãªã©ã®æ§‹æˆæ–¹æ³•) å„ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ã®ä½¿ã„ã©ã“ã‚ (EBS, EFS, S3) S3 ã®å„ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ã®ä½¿ã„ã©ã“ã‚ (å‚ç…§: ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¯ãƒ©ã‚¹ - Amazon S3 ï½œAWS ) ãƒ•ã‚¡ã‚¤ãƒ«ã€S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®æš—å·åŒ–ã«ã¤ã„ã¦ (ã©ã“ã§(ã‚µãƒ¼ãƒ/ãƒ­ãƒ¼ã‚«ãƒ«)ã€ä½•ã‚’ä½¿ã£ã¦(KMS, ãƒ­ãƒ¼ã‚«ãƒ«ã®éµãªã©)) å„ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã«ã¤ã„ã¦ (EC2 Auto Scaling, ãã‚‚ãã‚‚å‹æ‰‹ã«ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã—ã¦ãã‚Œã‚‹ã®ã‹) ã‚‚ã¡ã‚ã‚“ä¸Šè¨˜ä»¥å¤–ã«ã¤ã„ã¦ã‚‚æº€éãªãå‡ºé¡Œã•ã‚Œã¾ã™ã€‚\nä¸Šã§ \u0026ldquo;ã–ã£ãã‚Š\u0026rdquo; ã¨ã¯æ›¸ãã¾ã—ãŸãŒã€å„ã‚µãƒ¼ãƒ“ã‚¹ã®æ¦‚è¦ (ã§ãã‚‹ã“ã¨ã€ç”¨é€”) ã«ã¤ã„ã¦ã¯ã—ã£ã‹ã‚ŠæŠŠæ¡ã—ã¦è¿½ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãã†ã™ã‚Œã°ã€æœ¬è©¦é¨“ä¸­ã§ã‚‚ç„¦ã‚‰ãšã«ãã®å ´ã§è€ƒãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã¨ã„ã†ã‹ã€ãã†ã„ã†å½¢ã§æº–å‚™ã™ã‚‹ã®ãŒãƒ™ã‚¹ãƒˆã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nå—é¨“æ—¥å½“æ—¥ å—é¨“æ—¥å½“æ—¥ (å‰æ—¥) ã¨å—é¨“ä¸­ã«æ°—ã‚’ã¤ã‘ã‚‹ã“ã¨ã¯ä¸‹è¨˜ã®ç‚¹ã§ã™ã€‚\nä½“èª¿ã‚’æ•´ãˆã‚‹ (ä¸€ç•ªå¤§äº‹) èº«åˆ†è¨¼æ˜æ›¸ã‚’å¿˜ã‚Œãªã„ (2 ç¨®é¡) \u0026ldquo;15 åˆ†å‰ã¾ã§ã«\u0026rdquo; ã¨ã‚ã‚‹ãŒã€ 30 åˆ†å‰ãã‚‰ã„ã«ã¯ä¼šå ´ã¸ ã‚ã‹ã‚‰ãªã‘ã‚Œã°ã¨ã‚Šã‚ãˆãšãƒ•ãƒ©ã‚°ã‚’ã¤ã‘ã¦æ¬¡ã®å•é¡Œã¸é€²ã‚€ ã¾ãšã€ä½“èª¿ã‚’æ•´ãˆã‚‹ã€‚ã“ã‚ŒãŒä¸€ç•ªå¤§äº‹ã§ã™ã­ã€‚\nå‰æ—¥ã¯èƒƒã«å„ªã—ã„ã‚‚ã®ã‚’é£Ÿã¹ã¦æ—©ã‚ã«å¯ã‚‹ã€‚ãŸã£ãŸã“ã‚Œã ã‘ã§ã™ã€‚ç§ã¯å‰æ—¥ã®å¤œ 23 æ™‚ãã‚‰ã„ã«ç‰›ä¸¼ã‚’é£Ÿã¹ã¦ã—ã¾ã£ãŸãŸã‚ã«å½“æ—¥ã¯è…¹ç—›ã¨ã®æˆ¦ã„ã§ã—ãŸã€‚ä½“èª¿ã¯ä¸‡å…¨ã®çŠ¶æ…‹ã§è‡¨ã¿ã¾ã—ã‚‡ã†ã€‚\næ¬¡ã«èº«åˆ†è¨¼æ˜æ›¸ã§ã™ã€‚\n2 ç¨®é¡ã®è¨¼æ˜æ›¸ãŒå¿…è¦ã§ã™ãŒã€é‹è»¢å…è¨±è¨¼ã¨ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ (è£é¢ã«ç½²åæ¸ˆã¿ã®ã‚‚ã®) ã§å•é¡Œã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚\næ¬¡ã«ä¼šå ´ã¸ã®åˆ°ç€æ™‚é–“ã«ã¤ã„ã¦ã§ã™ã€‚\näº‹å‰ã«ãã‚‹æ¡ˆå†…ã§ã¯ \u0026ldquo;15 åˆ†å‰ã¾ã§ã«\u0026rdquo; ã¨ã„ã†è¨˜è¿°ãŒã‚ã‚Šã¾ã—ãŸãŒã€ 30 åˆ†å‰ã«è¡Œã£ã¦æ­£è§£ã§ã—ãŸã€‚ä»Šå›ã®å—é¨“ä¼šå ´ã§ã‚ã‚‹ éŠ€åº§CBTSæ­Œèˆä¼åº§ãƒ†ã‚¹ãƒˆã‚»ãƒ³ã‚¿ãƒ¼ ã¸ã¯ 10:00 ã«ãªã‚‰ãªã„ã¨å…¥ã‚Œã¾ã›ã‚“ã€‚(ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼ãŒ 10:00 ä»¥é™ã§ãªã„ã¨ãã®ãƒ•ãƒ­ã‚¢ã«æ­¢ã¾ã‚‰ãªã„)\nã¨ã„ã†ã“ã¨ã§ 10:00 ã«è¡Œã£ãŸã‚“ã§ã™ãŒã€ã™ãã«è©¦é¨“å—ä»˜ã®åˆ—ãŒã§ãã¦ã„ã¾ã—ãŸã€‚ã‚‚ã¡ã‚ã‚“é…ãè¡Œã£ãŸã‹ã‚‰ã¨ã„ã£ã¦å—é¨“ã§ããªããªã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€ã•ã£ã•ã¨å—ä»˜ã‚’æ¸ˆã¾ã›ã¦ã€ãƒˆã‚¤ãƒ¬ã‚‚æ¸ˆã¾ã›ã¦ã€ã‚†ã£ãã‚Šè©¦é¨“é–‹å§‹æ™‚é–“ã‚’å¾…ã¤ã«ã¯ 30 åˆ†å‰ãã‚‰ã„ã«ã¤ã„ã¦ã„ãŸã»ã†ãŒè‰¯ã•ãã†ã§ã™ã€‚\næœ€å¾Œã«å•é¡Œã®é€²ã‚æ–¹ã§ã™ã€‚\næœ¬è©¦é¨“ã¯ 130 åˆ†é–“ã§ 65 å•ã‚’è§£ãã¾ã™ã€‚130 åˆ†ã«ã¯ NDA ã¸ã®åŒæ„ã‚„å—é¨“å¾Œã®ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆæ™‚é–“ã‚‚å«ã¾ã‚Œã¾ã™ãŒã€å˜ç´”ã«è¨ˆç®—ã—ã¦ 1 å•ã‚ãŸã‚Š 2 åˆ†ã®æ™‚é–“ãŒã‚ã‚Šã¾ã™ã€‚å•é¡Œã«ã‚ˆã£ã¦ã¯ 2 åˆ†ã‚‚ã—ãã¯ãã‚Œä»¥ä¸Šã®æ™‚é–“ã‚’è¦ã™ã‚‹ã‚ˆã†ãªã‚‚ã®ã‚‚ã‚ã‚Šã¾ã™ãŒã€å•é¡Œæ–‡ã•ãˆèª­ã‚ã°å³ç­”ã§ãã‚‹ã‚ˆã†ãªå•é¡Œã‚‚å¤šã€…ã‚ã‚Šã¾ã™ã€‚ ãã®çµæœã€ç§ã®å ´åˆã¯ 60 åˆ†ã§ä¸€é€šã‚Šè§£ç­”ã—ã€ãã®å¾Œ 45 åˆ†ãã‚‰ã„ã‹ã‘ã¦ã—ã£ã‹ã‚Šè¦‹ç›´ã—ã‚’ã—ã€åæ•°åˆ†ã¯æ™‚é–“ã‚’ä½™ã‚‰ã›ã¦é€”ä¸­é€€å‡ºã—ã¾ã—ãŸã€‚\næ™‚é–“ã¯ã»ã¼ç¢ºå®Ÿã«ã‚ã¾ã‚‹ã®ã§ã€ã‚ã‹ã‚‰ãªã„å•é¡Œã«ã¯ãƒ•ãƒ©ã‚°ã‚’ä»˜ã‘ã¦ã€ã‚ã¨ã§è¦‹ç›´ã™ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚\nçµæœã«ã¤ã„ã¦ è©¦é¨“ã®åˆå¦ã¯ã€å—é¨“çµ‚äº†å¾Œã®ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã«å›ç­”ã—ãŸã‚ã¨ã™ãã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nåˆæ ¼ã—ã¦ã„ã‚‹ã¨ã€ŒãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ã€çš„ãªæ–‡ç« ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ãŸã ã—ã€æ­£å¼ãªåˆæ ¼é€šçŸ¥ã€è¨¼æ˜æ›¸ (PDF) ãªã©ã«ã¤ã„ã¦ã¯ 5 å–¶æ¥­æ—¥ä»¥å†…ã«é€£çµ¡ãŒãã¾ã™ã€‚ç§ã®å ´åˆã¯ç¿Œæ—¥ã«ã¯é€£çµ¡ãŒå±Šã„ã¦ã„ã¾ã—ãŸ\u0008ã€‚\nã¾ã¨ã‚ AWS èªå®šã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆã«åˆæ ¼ã—ã¾ã—ãŸã¨ã„ã†ã“ã¨ã§ã€ãã‚Œã¾ã§ã®éç¨‹ã«ã¤ã„ã¦æ›¸ãã¾ã—ãŸã€‚\nä»Šå›ç„¡äº‹ã«åˆæ ¼ã§ãã¾ã—ãŸãŒã€æ­£ç›´ è©¦é¨“ä¸­ã¯åˆæ ¼ã¯å³ã—ã„ã‹ãªã¨ã„ã†æ€ã„ã§ã—ãŸã€‚ã»ã‚“ã¨ã§ã™ã€‚\nä½“èª¿ãŒèŠ³ã—ããªã‹ã£ãŸã¨ã„ã†ã®ã‚‚ã‚ã‚Šã¾ã™ãŒã€æ˜ã‚‰ã‹ã«å•é¡Œæ…£ã‚Œã—ã¦ãªã„ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚ç§ãŒè©¦é¨“å¯¾ç­–ã¨ã—ã¦è§£ã„ãŸå•é¡Œã¯ã€ã‚µãƒ³ãƒ—ãƒ«å•é¡Œ 10 å•ã¨æ¨¡æ“¬è©¦é¨“ã® 25 å•ã®ã¿ã§ã™ã€‚æœ¬è©¦é¨“ã®ä¸­ã«ã¯ãã‚Œã‚‰ 35 å•ã®ä¸­ã«ã‚ã£ãŸã‚‚ã®ã¨ã»ã¼åŒã˜å•é¡Œã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€å¤šãã¯åˆã‚ã¦ç›®ã«ã™ã‚‹ã‚ˆã†ãªå•é¡Œã§ã—ãŸã€‚\nãã†ãªã‚‹ã¨ã€å„ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã™ã‚‹ç†è§£ã‚’å…ƒã«ãã®å ´ã§è€ƒãˆã¦è§£ã„ã¦ã„ãå¿…è¦ãŒã‚ã‚‹ã®ã§ã™ãŒã€ãã†ãªã‚‹æ•°ãŒå¤šãã¦å¤§å¤‰ã§ã—ãŸã€‚\nã‚‚ã—ã€ã‚ˆã‚Šå¿ƒç†çš„ã«å®‰å¿ƒã—ãŸçŠ¶æ…‹ã§å—ã‘ã‚ˆã†ã¨æ€ã†ã®ã§ã‚ã‚Œã°ã€ã„ã‚ã‚†ã‚‹èªå®šè©¦é¨“å¯¾ç­–æœ¬ãªã©ã‚’åˆ©ç”¨ã—ã¦å•é¡Œã®å‡ºé¡Œå½¢å¼ã«ã‚‚ã£ã¨æ…£ã‚Œã¦ãŠãå¿…è¦ãŒã‚ã‚‹ã‹ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚\nã¨ã‚‚ã‚ã‚Œåˆæ ¼ã¯åˆæ ¼ãªã®ã§ã€ã“ã‚Œã‚’ã‚´ãƒ¼ãƒ«ã«ã›ãšã«å¼•ãç¶šã AWS ã«é–¢ã™ã‚‹ç†è§£ã‚’æ·±ã‚ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚ã¾ãŸã€ä»Šå¹´ä¸­ã«ã¯ä»–ã®ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆãƒ¬ãƒ™ãƒ«ã®è©¦é¨“ã«ã‚‚ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã€èªå®šãƒãƒƒãƒã®æ•°ã‚’å¢—ã‚„ã—ãŸã„ã§ã™ã­ã€‚\nã‚ã¨ã€ã“ã‚Œã§ä»Šå¾Œã¯ AWS ã®å„ç¨®ã‚¤ãƒ™ãƒ³ãƒˆã§è¨­ç½®ã•ã‚Œã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹ èªå®šè€…ãƒ©ã‚¦ãƒ³ã‚¸ ã«ã‚‚å…¥ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã‚‚å¬‰ã—ã„ã§ã™ã­ã€‚\nã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆã‚’å—é¨“ã—ã‚ˆã†ã‚’æ€ã£ã¦ã„ã‚‹äººã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚\nã‚‚ã—éŠ€åº§CBTSæ­Œèˆä¼åº§ãƒ†ã‚¹ãƒˆã‚»ãƒ³ã‚¿ãƒ¼ã§å—é¨“ã—ã‚ˆã†ã¨æ€ã£ã¦ã„ã‚‹æ–¹ã¯ã€åˆæ ¼ã—ãŸã‚‰ æ¢…æ— ã§ãƒˆãƒ³ã‚«ãƒ„é£Ÿã¹ã‚‹ï¼ã¨ã„ã†æ€ã„ã§é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚(ç§ã¯æ··ã‚“ã§ã„ãŸã®ã§è«¦ã‚ã¾ã—ãŸ)\n2å¹´å‰ã«é£Ÿã¹ãŸãƒŸãƒƒã‚¯ã‚¹å®šé£Ÿ ",
    "permalink": "https://michimani.net/post/aws-solution-architect-associate-exam/",
    "title": "AWS èªå®šã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆã«åˆæ ¼ã—ã¾ã—ãŸ"
  },
  {
    "contents": "S3 Batch Operations ã‚’ä½¿ã£ã¦ S3 ã«ä¿å­˜ã•ã‚ŒãŸæ•°ä¸‡ä»¶ã®ç”»åƒã‚’ä¸€æ‹¬ã§ãƒªã‚µã‚¤ã‚ºã—ã¦ã¿ãŸè©±ã§ã™ã€‚\nç›®æ¬¡ TL;DR ã‚„ã‚ŠãŸã‹ã£ãŸã“ã¨ ã‚„ã£ãŸã“ã¨ ãƒªã‚µã‚¤ã‚ºå‡¦ç†ç”¨ã® Lambda é–¢æ•°ã‚’å®Ÿè£…ã™ã‚‹ S3 ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã™ã‚‹ S3 Batch Operations ã®ã‚¸ãƒ§ãƒ–ã‚’ä½œæˆã™ã‚‹ S3 Batch Operations ã®ã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã™ã‚‹ æ–™é‡‘ã«ã¯æ³¨æ„ ã¾ã¨ã‚ TL;DR S3 Batch Operations ã‚ã¡ã‚ƒãã¡ã‚ƒä¾¿åˆ©ã€‚ãŸã ã—æ–™é‡‘ã«ã¯æ³¨æ„ã€‚\nã‚„ã‚ŠãŸã‹ã£ãŸã“ã¨ S3 ã®ã¨ã‚ã‚‹ãƒã‚±ãƒƒãƒˆã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ç”»åƒã‚’ä¸€æ‹¬ã§ãƒªã‚µã‚¤ã‚ºã™ã‚‹ ãƒªã‚µã‚¤ã‚ºã®å‡¦ç†ã¯ Python 3.7 ã§å®Ÿè£…ã™ã‚‹ ã‚„ã£ãŸã“ã¨ ãƒªã‚µã‚¤ã‚ºå‡¦ç†ç”¨ã® Lambda é–¢æ•°ã‚’å®Ÿè£…ã™ã‚‹ ã€Œãƒãƒƒãƒã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ ãƒªã‚µã‚¤ã‚ºã€ãªã©ã§ããã‚‹ã¨ã€ã ã„ãŸã„ Node.js ã§ã®å®Ÿè£…ä¾‹ãŒå‡ºã¦ãã¾ã™ã€‚ç¾æ™‚ç‚¹ã§ Node.js ãŒæ›¸ã‘ãªã„ã¨ã„ã†è¨€ã„è¨³ã‚’ã—ãªãŒã‚‰ã€ä»Šå›ã¯ Python ã§ãƒªã‚µã‚¤ã‚ºå‡¦ç†ã‚’å®Ÿè£…ã—ã¾ã—ãŸã€‚ã‚½ãƒ¼ã‚¹ã¯ GitHub ã«ç½®ã„ã¦ã„ã¾ã™ã€‚\nmichimani/resize-s3-image: This function resizes the image in Amazon S3. This function is supposed to be called by Amazon S3 Batch Operations. ãƒªã‚µã‚¤ã‚ºã«é–¢ã—ã¦ã¯ Python ã®ç”»åƒå‡¦ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒª Pillow ã‚’ä½¿ã£ãŸã®ã§ç‰¹ã«é›£ã—ãã¯ãªã‹ã£ãŸã§ã™ã€‚ãŒã€ä¸€ã¤å‰ã®è¨˜äº‹ã§ã‚‚æ›¸ã„ãŸé€šã‚Šã€ Pillow ã«ã¯ OS ã«ä¾å­˜ã™ã‚‹éƒ¨åˆ†ãŒã‚ã‚‹ãŸã‚ã€ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦ Lambda ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹éš›ã«å·¥å¤«ãŒå¿…è¦ã§ã—ãŸã€‚\nãƒ­ãƒ¼ã‚«ãƒ«ã® PC (ä»Šå›ã¯ macOS) ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ Pillow ã‚’ãã®ã¾ã¾ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸã¨ã“ã‚ã€[ERROR] Runtime.ImportModuleError: Unable to import module 'lambda_function': cannot import name '_imaging' from 'PIL' (/var/task/PIL/__init__.py) ãŒç™ºç”Ÿã—ã€å®Ÿè¡Œã§ãã¾ã›ã‚“ã§ã—ãŸã€‚\nLambda ã¯ Amazon Linux ä¸Šã§å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚ã€Amazon Linux ä¸Šã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ Pillow ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚ã¨ã„ã†ã“ã¨ã§ä»Šå›ã¯ Amazon Linux ã®ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ã£ã¦ Pillow ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç¾¤ã‚’æº–å‚™ã—ã¾ã—ãŸã€‚Docker ã®åˆ©ç”¨ã‚‚ã»ã¼åˆã§ã—ãŸãŒã€ãªã‚“ã¨ã‹ç„¡äº‹ã«ãƒªã‚µã‚¤ã‚ºå‡¦ç†å®Ÿè¡Œã¾ã§ãŸã©ã‚Šç€ã‘ã¾ã—ãŸã€‚\nS3 ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã™ã‚‹ ã¾ãšã¯ S3 Batch Operations ã®å¯¾è±¡ã¨ãªã‚‹ S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸€è¦§ã‚’æº–å‚™ã—ã¾ã™ã€‚ãŠãã‚‰ãæ‰‹ä½œæ¥­ã§ã‚‚ä½œæˆã§ãã¾ã™ãŒã€ä»Šå›ã¯å¯¾è±¡ãŒæ•°ä¸‡ä»¶ã«ã‚‚åŠã¶ãŸã‚ S3 ã®ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã‚’ä½¿ã„ã¾ã™ã€‚\nå¯¾è±¡ã¨ãªã‚‹ãƒã‚±ãƒƒãƒˆã® ç®¡ç† ã‚¿ãƒ–ã§ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª ã‚’é¸æŠã—ã¾ã™ã€‚\nã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªå\nä»»æ„ã®åå‰ã‚’å…¥åŠ›ã—ã¾ã™ ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼\nãƒã‚±ãƒƒãƒˆå†…ã®ç‰¹å®šã®ãƒ‘ã‚¹ã®ã¿ã‚’å¯¾è±¡ã«ã—ãŸã„å ´åˆã«ã¯ã“ã“ã§ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’æŒ‡å®šã—ã¾ã™ã€‚ä»Šå›ã¯ãƒã‚±ãƒƒãƒˆç›´ä¸‹ã® blog_images ã¨ã„ã†ãƒ•ã‚©ãƒ«ãƒ€å†…ã«ã‚ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å¯¾è±¡ã¨ã—ãŸã‹ã£ãŸã®ã§ã€ blog_images ã¨å…¥åŠ›ã—ã¾ã—ãŸã€‚/ ã¯ä¸è¦ã§ã™ã€‚ é€ä¿¡å…ˆãƒã‚±ãƒƒãƒˆ\nã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¬ãƒãƒ¼ãƒˆã¨ã—ã¦å‡ºåŠ›ã•ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¿å­˜å ´æ‰€ã§ã™ã€‚ä»»æ„ã® S3 ãƒã‚±ãƒƒãƒˆã‚’æŒ‡å®šã—ã¾ã™ã€‚ é€ä¿¡å…ˆãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¬ãƒãƒ¼ãƒˆã¨ã—ã¦å‡ºåŠ›ã•ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã§ã™ã€‚å…¥åŠ›ã—ãªã„å ´åˆã¯ã€ s3://é€ä¿¡å…ˆãƒã‚±ãƒƒãƒˆ/ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªå/ ä»¥ä¸‹ã«ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¬ãƒãƒ¼ãƒˆã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚ é »åº¦\nã©ã‚Œãã‚‰ã„ã®é »åº¦ã§ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã‹é¸æŠã—ã¾ã™ã€‚ä»Šå›ã¯ã¨ã‚Šã‚ãˆãš 1 å›ç”Ÿæˆã§ãã‚Œã°è‰¯ã„ã®ã§ æ—¥åˆ¥ ã¨ã—ã¦ãŠã„ã¦ã€ãƒ¬ãƒãƒ¼ãƒˆãŒä½œæˆã•ã‚ŒãŸã®ã¡ã«ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªã®è¨­å®šã‚’å‰Šé™¤ã—ã¾ã—ãŸã€‚ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆã®è¨­å®šã‚’ã—ã¦ã‹ã‚‰æœ€åˆã®ãƒ¬ãƒãƒ¼ãƒˆãŒä½œæˆã•ã‚Œã‚‹ã¾ã§ã«ã¯ æœ€å¤§ 48 æ™‚é–“ ã‹ã‹ã‚Šã¾ã™ã€‚ã“ã‚Œä»¥ä¸ŠçµŒã£ã¦ã‚‚ä½œæˆã•ã‚Œãªã„å ´åˆã¯ä½•ã‹ã—ã‚‰è¨­å®šãŒé–“é•ã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ç§ã®å ´åˆã¯ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®æŒ‡å®šã§æœ«å°¾ã« / ã‚’ä»˜ã‘ã¦ã„ãŸãŸã‚ç”Ÿæˆã•ã‚Œã¾ã›ã‚“ã§ã—ãŸ\u0026hellip;ã€‚\nS3 Batch Operations ã®ã‚¸ãƒ§ãƒ–ã‚’ä½œæˆã™ã‚‹ S3 Batch Operations ã¯ S3 ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å·¦ã«ã‚ã‚‹ ãƒãƒƒãƒã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ ã‹ã‚‰è¨­å®šã—ã¾ã™ã€‚ã‚¸ãƒ§ãƒ–ã¯ æ–°è¦ä½œæˆ ã¾ãŸã¯ ä»¥å‰ã«å®Ÿè¡Œã—ãŸã‚¸ãƒ§ãƒ–ã‚’ ã‚¯ãƒ­ãƒ¼ãƒ³ ã™ã‚‹å½¢ã§ä½œæˆã—ã¾ã™ã€‚ã‚¯ãƒ­ãƒ¼ãƒ³ã—ãŸå ´åˆã¯è«¸ã€…ã®å…¥åŠ›æ¬„ã‚’ã‚¯ãƒ­ãƒ¼ãƒ³å…ƒã®ã‚¸ãƒ§ãƒ–ã‹ã‚‰å¼•ãç¶™ãã¾ã™ã€‚\nãƒªãƒ¼ã‚¸ãƒ§ãƒ³ ã¯ã€ä»Šå›ã¯ ã‚¢ã‚¸ã‚¢ãƒ‘ã‚·ãƒ•ã‚£ãƒƒã‚¯(æ±äº¬) ã‚’é¸æŠã—ã¾ã™ã€‚\nãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆ ã¨ã¯ã€ Batch Operations ã®å¯¾è±¡ã¨ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æŒ‡å®šã™ã‚‹ã‚‚ã®ã§ã™ã€‚ã“ã“ã§ã€äº‹å‰ã«ä½œæˆã—ãŸã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¬ãƒãƒ¼ãƒˆã«å«ã¾ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã¨ã—ã¦æŒ‡å®šã—ã¾ã™ã€‚\nãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã®æŒ‡å®šæ–¹æ³•ã¨ã—ã¦ã¯ã€ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¬ãƒãƒ¼ãƒˆã¨ã—ã¦ç”Ÿæˆã•ã‚Œã‚‹ manifest.json ã¾ãŸã¯ã€ CSV ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚CSV ã«ã¤ã„ã¦ã¯ã€ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ¬ãƒãƒ¼ãƒˆãŒç”Ÿæˆã•ã‚ŒãŸãƒã‚±ãƒƒãƒˆå†…ã« data/{ãƒ©ãƒ³ãƒ€ãƒ ãªè‹±æ•°å­—}.csv.gz ã¨ã„ã†åå‰ã§ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã‚Œã‚’è§£å‡ã—ã¦ä½¿ç”¨ã§ãã¾ã™ã€‚ä»Šå›ã¯ manifest.json ã‚’ä½¿ç”¨ã™ã‚‹ã®ã§ã€ ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ãƒ‘ã‚¹ ã§ manifest.json ã¸ã®ãƒ‘ã‚¹ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ ã¨ã—ã¦ã¯ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒªã‚µã‚¤ã‚ºãªã®ã§ã€ AWS Lambda ã‚’é¸æŠã—ã¦ã€å®Ÿè¡Œã™ã‚‹é–¢æ•°ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚å®Ÿè¡Œã™ã‚‹é–¢æ•°ã¯ã€ä¸Šã§æ›¸ã„ãŸé–¢æ•°ã§ã™ã€‚\nè¿½åŠ ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ã«é–¢ã—ã¦ã¯ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã®ã§é©å®œè¨­å®šå†…å®¹ã‚’å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚\nå®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ ã¨ã—ã¦å‡ºåŠ›ã•ã‚Œã‚‹ã®ã¯ã€å¯¾è±¡ã¨ãªã‚‹å„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦å‡¦ç†ãŒæˆåŠŸã—ãŸã‹ã©ã†ã‹ãªã©ãŒå«ã¾ã‚Œã¾ã™ã€‚\nã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ ã«ã¤ã„ã¦ã¯ã€ã“ã® Batch Operations ã«ä»˜ä¸ã™ã‚‹ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã®ã“ã¨ã§ã™ã€‚å…·ä½“çš„ã«ã¯ã€å¯¾è±¡ã¨ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒã‚±ãƒƒãƒˆã«å¯¾ã™ã‚‹ Get* ã®æ¨©é™ã¨ã€å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆã‚’é€ä¿¡ã™ã‚‹ãƒã‚±ãƒƒãƒˆã¸ã® Put* ã®æ¨©é™ã§ã™ã€‚ã¾ãŸã€ IAM ãƒ­ãƒ¼ãƒ«ã®ä¿¡é ¼é–¢ä¿‚ã¨ã—ã¦ã€ batchoperations.s3.amazonaws.com ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nã“ã‚Œã‚‰ã®è¨­å®šã¤ã„ã¦ã¯ã€ IAM ãƒ­ãƒ¼ãƒ«ã®ãƒãƒªã‚·ãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ IAM ä¿¡é ¼ãƒãƒªã‚·ãƒ¼ã‚’è¡¨ç¤º ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ãƒãƒªã‚·ãƒ¼è¨­å®šç”¨ã® json ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ãã‚Œã‚’ãã®ã¾ã¾ä½¿ç”¨ã—ã¦ IAM ãƒãƒªã‚·ãƒ¼ã€ IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nå†…å®¹ã‚’ç¢ºèªã—ã¦ã‚¸ãƒ§ãƒ–ã‚’ä½œæˆã—ã¾ã™ã€‚\nS3 Batch Operations ã®ã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã™ã‚‹ ã‚¸ãƒ§ãƒ–ã‚’ä½œæˆã—ãŸæ™‚ç‚¹ã§ã¯ã€ã¾ãšã¯å¯¾è±¡ã¨ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆè¨ˆãŒè¨ˆç®—ã•ã‚Œã¾ã™ã€‚\nåˆè¨ˆãŒè¨ˆç®—ã•ã‚Œã‚‹ã¨ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ ç¢ºèªå¾…ã¡ ã¨ãªã‚Šã¾ã™ã€‚ç¢ºèªå¾…ã¡ã«ãªã£ãŸã‚‰ã€ã‚¸ãƒ§ãƒ– ID ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¸ãƒ§ãƒ–ã®è©³ç´°ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚\nãã—ã¦ã€ç”»é¢ä¸Šéƒ¨ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ ç¢ºèªã—ã¦å®Ÿè¡Œ ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚ã“ã“ã§åˆã‚ã¦ã‚¸ãƒ§ãƒ–ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ç”»é¢ä¸Šã«ã‚‚è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ãŒã€ç¢ºèªå¾…ã¡ ã®çŠ¶æ…‹ã§ä¸€å®šæœŸé–“æ”¾ç½®ã™ã‚‹ã¨ã€ã‚¸ãƒ§ãƒ–ã¯å¤±æ•—æ‰±ã„ã¨ãªã‚Šã¾ã™ã€‚\nç¢ºèªã—ã¦å®Ÿè¡Œ ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€ã™ãã«ã‚¸ãƒ§ãƒ–ãŒå§‹ã¾ã‚Šã¾ã™ã€‚ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¨ã—ã¦ã¯ ã‚¢ã‚¯ãƒ†ã‚£ãƒ– â†’ å®Œäº†ä¸­ â†’ å®Œäº† ã¨é·ç§»ã—ã¾ã™ã€‚\nä»Šå›ã®å¯¾è±¡ã¯ 57,568 ä»¶ã§ã—ãŸãŒã€å®Ÿè¡Œãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã‹ã‚‰å®Œäº†ã«ãªã‚‹ã¾ã§ã«ã‹ã‹ã£ãŸæ™‚é–“ã¯ã€ 3 åˆ†ç¨‹åº¦ã§ã—ãŸã€‚\næ–™é‡‘ã«ã¯æ³¨æ„ ã“ã‚“ãªä¾¿åˆ©ãª S3 Batch Operations ã§ã™ãŒã€ 1 å›ã®å®Ÿè¡Œã«ã¤ã 0.25 USD ã®æ–™é‡‘ãŒç™ºç”Ÿã—ã¾ã™ã€‚å¯¾è±¡ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å€‹æ•°ã«é–¢ä¿‚ç„¡ãã§ã™ã€‚\nçŸ­æ™‚é–“ã§å‡¦ç†ãŒçµ‚ã‚ã‚‹ã‹ã‚‰ã¨è¨€ã£ã¦ãªã‚“ã©ã‚‚å®Ÿè¡Œã™ã‚‹ã®ã¯ã‚„ã‚ã¾ã—ã‚‡ã†ã€‚\nã¾ã¨ã‚ S3 Batch Operations ã‚’åˆã‚ã¦ä½¿ã£ã¦ã¿ãŸã€‚ æ•°ä¸‡ä»¶ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã™ã‚‹å‡¦ç†ãŒçŸ­æ™‚é–“ã§å®Œäº†ã™ã‚‹ã€‚ã™ã”ã„ã€‚ æ–™é‡‘ã«ã¯æ³¨æ„ã€‚ Lambda ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã¯ OS ä¾å­˜ã«æ³¨æ„ã™ã‚‹ã€‚ ",
    "permalink": "https://michimani.net/post/aws-resize-images-in-s3-with-batch-operations/",
    "title": "S3 Batch Operations ã§ S3 ã«ä¿å­˜ã•ã‚ŒãŸæ•°ä¸‡ä»¶ã®ç”»åƒã‚’ä¸€æ‹¬ã§ãƒªã‚µã‚¤ã‚ºã—ã¦ã¿ãŸ"
  },
  {
    "contents": "TL;DR Lamnbda ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å«ã‚ã‚‹ Pillow ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç¾¤ã¯ã€ Amazon Linux 2 ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚‚ã®ã‚’ä½¿ç”¨ã™ã‚‹ã€‚\nPillow ã«é™ã‚‰ãšã€Lambda é–¢æ•°ã«å¤–éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ (ãƒ©ã‚¤ãƒ–ãƒ©ãƒª) ã‚’å«ã‚ã‚‹å ´åˆã¯ã€ OS ä¾å­˜ã®æœ‰ç„¡ã«æ³¨æ„ãŒå¿…è¦ã€‚\nä½•ãŒã—ãŸã‹ã£ãŸã®ã‹ ã‚„ã‚ŠãŸã‹ã£ãŸã“ã¨ S3 ã«ä¿å­˜ã—ã¦ã‚ã‚‹ç”»åƒã«å¯¾ã—ã¦ã€ S3 Batch Operations ã§ Lambda ã‚’å‘¼ã‚“ã§ãƒªã‚µã‚¤ã‚ºã‚’ã™ã‚‹ã€‚\nå‰²ã¨ã‚ˆãã‚ã‚‹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã ã¨æ€ã†ã‚“ã§ã™ãŒã€èª¿ã¹ã¦ã¿ã‚‹ã¨ Node.js ã§ã‚„ã£ã¦ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã°ã‹ã‚Šã§ Python ã§ã‚„ã£ã¦ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒè¦‹ã¤ã‘ã‚‰ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚ãªã®ã§ã€ãƒªã‚µã‚¤ã‚ºå‡¦ç†ç”¨ã® Lambda é–¢æ•°ã¯ Python ã§å®Ÿè£…ã—ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚\nãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã¯ Python 3.7 ã«ã—ã¾ã™ã€‚\nã‚„ã£ãŸã“ã¨ Python ã§ã®ç”»åƒå‡¦ç†ã«ã¯ Pillow ã‚’ä½¿ã†ã¨æ¥½ãªã®ã§ã€ä»Šå›ã‚‚ Pillow ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚\nLambda ã® Python å®Ÿè¡Œç’°å¢ƒã«ã¯ Pillow ã¯å­˜åœ¨ã—ãªã„ã®ã§ã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªç¾¤ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦ zip ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¾ã¨ã‚ã¦ Lambda ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nPillow ã¯ pip ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ pip3 install Pillow -t dist/ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã¯ãƒ¡ã‚¤ãƒ³ã® python ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚å«ã‚ã¾ã™ã€‚\ndist â”œâ”€â”€ PIL â”œâ”€â”€ Pillow-6.0.0.dist-info â””â”€â”€ lambda_function.py ä¸Šè¨˜ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€ã‚’ zip åŒ–ã—ã¦ Lambda ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚\nèµ·ã“ã£ãŸã“ã¨ ã„ã–ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸé–¢æ•°ã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã—ãŸã€‚\n[ERROR] Runtime.ImportModuleError: Unable to import module \u0026#39;lambda_function\u0026#39;: cannot import name \u0026#39;_imaging\u0026#39; from \u0026#39;PIL\u0026#39; (/var/task/PIL/__init__.py) ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã¯èµ·ã“ã£ã¦ã„ãªã‹ã£ãŸã‚¨ãƒ©ãƒ¼ã§ã™ã€‚\nè§£æ±ºã™ã‚‹ã¾ã§ã®æµã‚Œ è‰²ã€…è©¦ã—ã¦ã¿ã‚‹ è§£æ±ºã™ã‚‹ã¾ã§ã«ç¢ºèªãƒ»è©¦ã—ãŸã“ã¨ã¯æ¬¡ã®ã‚ˆã†ãªã“ã¨ã§ã™ã€‚\nãƒ­ãƒ¼ã‚«ãƒ«ã¨ Lambda ã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã® Python ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’åˆã‚ã›ã‚‹ Python 3.6 ã§ã‚„ã£ã¦ã¿ã‚‹ ã“ã‚Œã§ã¯è§£æ±ºã—ã¾ã›ã‚“ã§ã—ãŸã€‚\nèª¿ã¹ã¦ã¿ã‚‹ã¨ã€ã©ã†ã‚„ã‚‰ Pillow ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç¾¤ã«ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ OS ã«ä¾å­˜ã™ã‚‹éƒ¨åˆ†ãŒã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚ã¨ã„ã†ã“ã¨ã¯ã€ Lambda ãŒå®Ÿè¡Œã•ã‚Œã‚‹ç’°å¢ƒã¨åŒã˜ç’°å¢ƒã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ Pillow ãŒå¿…è¦ã¨ã„ã†ã“ã¨ã«ã‚ã‚Šã¾ã™ã€‚\nLambda ã®å®Ÿè¡Œç’°å¢ƒ AWS Lambda Runtimes - AWS Lambda ä¸Šè¨˜ãƒšãƒ¼ã‚¸ã«ã‚‚ã‚ã‚‹ã‚ˆã†ã«ã€ Lambda ã®å®Ÿè¡Œç’°å¢ƒ (OS) ã¯ Amazon Linux ã§ã™ã€‚ãªã®ã§ã€ Amazon Linux ä¸Šã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ Pillow ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚\nAmazon Linux ä¸Šã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ Pillow ã®å–å¾— ã‚·ãƒ³ãƒ—ãƒ«ã¨ã„ã†ã‹ã€ã¾ãšæ€ã„æµ®ã‹ã¹ã‚‹ã®ã¯ Amazon Linux ã® EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç«‹ã¦ã¦ã€ãã“ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ Pillow ã‚’ä½¿ã†æ–¹æ³•ã§ã™ã€‚\nãŸã ã€ã“ã‚Œã ã‘ã®ãŸã‚ã« EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç«‹ã¦ã‚‹ã®ã¯é¢å€’ã§ã€ä¸”ã¤å¤šå°‘ãªã‚Šã¨ã‚‚æ–™é‡‘ãŒç™ºç”Ÿã—ã¦ã—ã¾ã„ã¾ã™ã€‚\nã“ã“ã§ä½¿ã†ã®ãŒ Docker ã§ã™ã­ã€‚ ãƒ‰ãƒƒã‚«ãƒ¼ãƒ‰ãƒƒã‚«ãƒ¼è¨€ã‚ã‚Œã¦ã‚‚ã†çµæ§‹çµŒã¡ã¾ã™ãŒã€ã¾ã ã»ã¨ã‚“ã©è§¦ã£ãŸã“ã¨ãŒãªã‹ã£ãŸã®ã§è‰¯ã„æ©Ÿä¼šã«ãªã‚Šã¾ã—ãŸã€‚\nAmazon Linux ã® docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ dockerhub ã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚’ä½¿ã„ã¾ã™ã€‚\namazonlinux - Docker Hub ã‚„ã‚ŠãŸã„ã“ã¨ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚\nPython 3.7 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ Amazon Linux ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œæˆã™ã‚‹ Amazon Linux ã‚³ãƒ³ãƒ†ãƒŠå†…ã§ã€ãƒ›ã‚¹ãƒˆã¨åŒæœŸã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« Pillow ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ ã§ã™ã€‚\nDockerfile ã¨ docker-compose.yml ã¯æ¬¡ã®ã‚ˆã†ãªæ„Ÿã˜ã§ã™ã€‚\nFROM amazonlinux:latest RUN yum install python3 -y RUN mkdir /home/deploy version: \u0026#39;2\u0026#39; services: app: build: . volumes: - \u0026#39;./deploy:/home/deploy\u0026#39; command: pip3 install -r /home/deploy/requirements.txt -t /home/deploy/dist ã“ã‚Œã‚’ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã«ã—ã¦ docker-compose up --build ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ dist ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« Amazon Linux ç’°å¢ƒã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ Pillow ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒä¿å­˜ã•ã‚Œã¾ã™ã€‚ (ã¨ã„ã†ã‹åŒæœŸã—ã¦ã‚‹ã®ã§ã“ã“ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹)\n. â”œâ”€â”€ Dockerfile â”œâ”€â”€ deploy â”‚ â”œâ”€â”€ dist â”‚ â””â”€â”€ requirements.txt â””â”€â”€ docker-compose.yml ã‚ã¨ã¯ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç¾¤ã¨ Python ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ zip åŒ–ã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚Œã° ok ã§ã™ã€‚\nç„¡äº‹ã« Lambda ã§ Pillow ãŒä½¿ãˆãŸ AWS Lambda ã§ Pillow ã‚’ä½¿ãŠã†ã¨ã—ãŸã‚‰ãƒãƒã£ãŸè©±ã§ã—ãŸã€‚ãªã‚“ã¨ã‹ç„¡äº‹ã« Pillow ã‚’ä½¿ã†ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nãã—ã¦ S3 Batch Operations ã§æ•°ä¸‡ä»¶ã®ç”»åƒãŒä¸€ç¬ã§ãƒªã‚µã‚¤ã‚ºã•ã‚Œã¦ã€ã™ã’ãƒ¼ã£ã¦ãªã£ã¦ã¾ã—ãŸã€‚\nä»Šå¾Œã¯ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å«ã‚ã‚‹å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã¤ã„ã¦ã¯ã€ OS ä¾å­˜ã®æœ‰ç„¡ã«é™ã‚‰ãš Amazon Linux ç’°å¢ƒã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚‚ã®ã‚’ä½¿ã†ã‚ˆã†ã«ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nå®Ÿéš›ã«ã§ãã‚ãŒã£ã‚‚ã®ã¯ GitHub ã«ç½®ã„ã¦ã„ã¾ã™ã€‚\nmichimani/resize-s3-image: This function resizes the image in Amazon S3. This function is supposed to be called by Amazon S3 Batch Operations. ",
    "permalink": "https://michimani.net/post/aws-use-pillow-in-lambda/",
    "title": "AWS Lambda ã§ Pillow ã‚’ä½¿ãŠã†ã¨ã—ãŸã‚‰ãƒãƒã£ãŸ"
  },
  {
    "contents": "ã¿ãªã•ã‚“ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã—ã¦ã¾ã™ã‹ã€‚\nã“ã‚Œã¾ã§ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒã¨ã—ã¦ã¯ Apple Watch ã‚’ä½¿ã£ã¦ã„ãŸã‚“ã§ã™ãŒã€è‰²ã€…ã‚ã£ã¦åˆ¥ã®ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒã‚’è²·ã†ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚ãã—ã¦è²·ã£ãŸã®ãŒã€ Fitbit ã®ãƒ•ã‚£ãƒƒãƒˆãƒã‚¹ãƒˆãƒ©ãƒƒã‚«ãƒ¼ Fitbit Inspire ã§ã™ã€‚\nFitbit Inspire ã‚’è²·ã†ã“ã¨ã«ãªã£ãŸçµŒç·¯ Apple Watch ãŒã‚ã‚‹ã®ã«ãªãœï¼Ÿ ãã‚‚ãã‚‚ Apple Watch ä»¥å¤–ã®ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒã‚’è²·ã†ã“ã¨ã«ãªã£ãŸçµŒç·¯ã¨ã—ã¦ã¯ã€å…ˆæœˆç™ºå£²ã•ã‚ŒãŸ Google ã®ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ Pixel 3a ã‚’è²·ã£ãŸã‹ã‚‰ã§ã™ã€‚\nã‚¹ãƒãƒ›ã¯ iPhone 4 æ™‚ä»£ã‹ã‚‰ãšã£ã¨ iPhone ã‚’ä½¿ã£ã¦ã„ãŸã‚“ã§ã™ãŒã€ä»•äº‹ã§æ¤œè¨¼ç”¨ç«¯æœ«ã¨ã—ã¦ Pixel 3 ã‚’è§¦ã£ãŸã¨ãã«è‰¯ã„ãªã¨æ€ã£ã¦ã—ã¾ã„\u0026hellip;ãŸã  Pixel 3 ã¯çµæ§‹ãªãŠå€¤æ®µãŒã™ã‚‹ã®ã§ã‚¹ãƒ«ãƒ¼ã—ã¦ã¾ã—ãŸã€‚ãã‚“ãªã¨ã“ã‚ã«å»‰ä¾¡ç‰ˆã® Pixel 3a ãŒç™ºå£²ã•ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã§ã€åˆã® Android ç«¯æœ«ã¨ã—ã¦è¿ãˆå…¥ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚\nã¨ã€é•·ã€…ã¨æ›¸ãã¾ã—ãŸãŒã€ Android ç«¯æœ«ã§ã‚‚è«¸ã€…ã®é€šçŸ¥ã‚’å—ã‘ã‚‰ã‚Œã‚‹ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒãŒæ¬²ã—ã„ ã¨ã„ã†ã®ãŒã€ Apple Watch ä»¥å¤–ã®ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒã‚’è²·ã†ã“ã¨ã«ãªã£ãŸçµŒç·¯ã§ã™ã€‚\nãªãœ Fitbit Inspire ï¼Ÿ Apple Watch ä»¥å¤–ã®ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒã¨ã„ã£ã¦ã‚‚é¸æŠè‚¢ãŒå¤šã™ãã¾ã—ãŸã€‚ã¨ã‚Šã‚ãˆãšæ¬¡ã®ã‚ˆã†ãªæ¡ä»¶ã§æ¢ã—ã¾ã—ãŸã€\nã‚¹ãƒãƒ›ã®é€šçŸ¥ã‚’å—ã‘å–ã‚Œã‚‹ã“ã¨ æŒ¯å‹•ã§é€šçŸ¥ã—ã¦ãã‚Œã‚‹ã“ã¨ ä¾¡æ ¼ã¯ 10,000 å††ãã‚‰ã„ ã“ã®æ¡ä»¶ã ã¨ Fitbit ã€ GARMIN ã®å„ã‚·ãƒªãƒ¼ã‚ºãŒå€™è£œã«ã‚ãŒã£ã¦ãã¾ã™ã€‚\nå€¤æ®µçš„ã«ã¯ GARMIN ã® Vivosmart 3 ãŒä¸€ç•ªãŠæ‰‹é ƒã ã£ãŸã‚“ã§ã™ãŒã€2å¹´å‰ãã‚‰ã„ã®ãƒ¢ãƒ‡ãƒ«ã ã£ãŸã®ã§ã€ä»Šå¹´ã«ãªã£ã¦ã‹ã‚‰ç™ºå£²ã•ã‚ŒãŸ Fitbit Inspire \u0008ã«ã—ã¾ã—ãŸã€‚\nã¡ãªã¿ã«ã“ã‚Œãã‚‰ã„ã®ä¾¡æ ¼å¸¯ã ã¨ã€ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒã¨ã„ã†ã‚ˆã‚Šã¯ãƒ•ã‚£ãƒƒãƒˆãƒã‚¹ãƒˆãƒ©ãƒƒã‚«ãƒ¼ã€ã„ã‚ã‚†ã‚‹æ´»å‹•é‡è¨ˆã¿ãŸã„ãªã‚‚ã®ãŒã»ã¨ã‚“ã©ã§ã™ã€‚Fitbit Inspire ã‚‚ã€å…¬å¼ãƒšãƒ¼ã‚¸ã«ã¯ ãƒ•ã‚£ãƒƒãƒˆãƒã‚¹ãƒˆãƒ©ãƒƒã‚«ãƒ¼ ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nFitbit Inspire \u0026amp;amp; Inspire HR | å¥åº·ã¥ãã‚Š \u0026amp;amp; ãƒ•ã‚£ãƒƒãƒˆãƒã‚¹ç”¨ãƒˆãƒ©ãƒƒã‚«ãƒ¼ Fitbit Inspire ã®æ¦‚è¦ ç®±ã¯ã“ã‚“ãªæ„Ÿã˜ã€‚\nåŒæ¢±ç‰©ã¯ã€\nFitbit Inspire æœ¬ä½“ å……é›»ãƒ‰ãƒƒã‚¯ èª¬æ˜æ›¸ ã§ã™ã€‚\nèª¬æ˜æ›¸ã¯è¤‡æ•°è¨€èªã§æ›¸ã‹ã‚Œã¦ã„ã¦ã€æ—¥æœ¬èªã§ã‚‚æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚ãŸã ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ–¹æ³•ã«ã¤ã„ã¦ã¯è§¦ã‚Œã‚‰ã‚Œã¦ã„ãªã„ã®ã§ã€æœ€åˆã«è¦‹ã¦ã‚‚å¾—ã‚‰ã‚Œã‚‹æƒ…å ±ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nå……é›»ãƒ‰ãƒƒã‚¯ã¯ãƒã‚°ãƒãƒƒãƒˆã§æœ¬ä½“ã¨æ¥ç¶šã§ãã‚‹ã®ã§ã€ Apple Watch ã¨åŒã˜ã§ã™ã­ã€‚\nã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¯ã‚¹ãƒãƒ›çµŒç”±ã§ ä¸Šã«æ›¸ã„ãŸé€šã‚Šã€èª¬æ˜æ›¸ã«ã¯ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ–¹æ³•ãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã›ã‚“ã€‚æœ€åˆã«æœ¬ä½“ã®é›»æºã‚’å…¥ã‚Œã‚‹ã¨ã€ç”»é¢ä¸Šã« \u0026lt;code\u0026gt;https://www.fitbit.com/jp/setup\u0026lt;/code\u0026gt; ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã‚ã¨ã§ã‚‹ã®ã§ã€ãƒªãƒ³ã‚¯å…ˆã®ãƒšãƒ¼ã‚¸ã«å¾“ã£ã¦ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’é€²ã‚ã¾ã™ã€‚\nå¿…è¦ãªæ™‚é–“ã¯ 10 ~ 15 åˆ† ç¨‹åº¦ã§ã™ã€‚\nã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¯ iOS, Android, Windows, macOS ã§è¡Œã†ã“ã¨ãŒã§ãã¾ã™ãŒã€ä»Šå›ã¯ Pixel 3a ã¨ã®åŒæœŸã¨ã„ã†ã“ã¨ã§ã€ Play Store ã‹ã‚‰ Fitbit ã‚¢ãƒ—ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã€ Pixel 3a ç«¯æœ«ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’é€²ã‚ã¾ã™ã€‚\nã¾ãšã¯ Pixel 3a ã¨ Fitbit Inspire ã‚’ Bluetooth ã§æ¥ç¶šã—ã¾ã™ã€‚\nãã®å¾Œã¯ Fitbit ã‚¢ãƒ—ãƒªã«å¾“ã£ã¦ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’ã—ã¦ãã¾ã™ã€‚\nFitbit ã®ãƒ¢ãƒ‡ãƒ«ã‚’é¸æŠã€‚\nFitbit Inspire ã®ç”»é¢ä¸Šã«ã‚³ãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ãã‚Œã‚’ã‚¢ãƒ—ãƒªå†…ã§å…¥åŠ›ã—ã¦æ¥ç¶šã‚’å®Œäº†ã•ã›ã¾ã™ã€‚\nãã®ã‚ã¨ã¯ Fitbit Inspire ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒå§‹ã¾ã‚Šã¾ã™ã€‚ã“ã‚ŒãŒ 10 åˆ†å¼±ãã‚‰ã„æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚\nãŸã ã—ã‚¢ãƒ—ãƒªã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¯ãã®ã¾ã¾ç¶šã‘ã‚‹ã“ã¨ãŒã§ãã€ãã®é–“ã¯æ¬¡ã®ã‚ˆã†ãª tips ã‚’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¨èª¬æ˜æ–‡ã§ç´¹ä»‹ã—ã¦ãã‚Œã¾ã™ã€‚\nFitbit Inspire ã®ä»˜ã‘æ–¹ ãƒ™ãƒ«ãƒˆã®äº¤æ›æ–¹æ³• æ“ä½œæ–¹æ³• ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ–¹æ³• Fitbit Inspire ã®ç”»é¢ä¸Šã§ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒå®Œäº†ã™ã‚Œã°ã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ã§ã™ã€‚\nå®Ÿéš›ã«ä½¿ã£ã¦ã¿ã¦è‰¯ã‹ã£ãŸç‚¹ãƒ»æ‚ªã‹ã£ãŸç‚¹ ã§ã¯è‚å¿ƒã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«å…¥ã‚ŠãŸã„ã¨æ€ã„ã¾ã™ã€‚è³¼å…¥ã—ã¦ã‹ã‚‰ 2 é€±é–“ãã‚‰ã„çµŒã¤ã®ã§ã€ãã®é–“ã«æ„Ÿã˜ãŸã“ã¨ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nè‰¯ã‹ã£ãŸç‚¹ ãƒãƒƒãƒ†ãƒªãƒ¼ã®æŒã¡ãŒè‰¯ã„ å…¬å¼ãƒšãƒ¼ã‚¸ã®ã‚¹ãƒšãƒƒã‚¯æ¬„ã«ã¯ 5æ—¥é–“é€£ç¶šä½¿ç”¨å¯èƒ½ ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€ã»ã¼ã“ã®é€šã‚Šã§ã™ã­ã€‚ãƒãƒƒãƒ†ãƒªãƒ¼æ®‹é‡ 100 % ã®çŠ¶æ…‹ã‹ã‚‰ 4.5æ—¥ãã‚‰ã„çµŒéã—ãŸã¨ã“ã‚ã§æ®‹é‡ãŒ 20 % åˆ‡ã‚Šã¾ã—ãŸã€‚\nApple Watch ã¯åŸºæœ¬çš„ã«æ¯æ—¥å……é›»ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€å……é›»å›æ•°ãŒå°‘ãªã„ã®ã¯è‰¯ã„ã§ã™ã­ã€‚\nå……é›»é€Ÿåº¦ãŒé€Ÿã„ ãƒãƒƒãƒ†ãƒªãƒ¼ã®æŒã¡ãŒè‰¯ã„ã¨ã€é€†ã«ã©ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å……é›»ã™ã‚‹ã‹ãŒé›£ã—ããªã£ã¦ãã¾ã™ã€‚ãŸã ã€ Fitbit Inspire ã«é–¢ã—ã¦ã¯å……é›»é€Ÿåº¦ãŒéå¸¸ã«ã¯ã‚„ãã€ãŸã¨ãˆã°ã‚·ãƒ£ãƒ¯ãƒ¼ã‚’æµ´ã³ã¦ã„ã‚‹ 20 åˆ†ç¨‹åº¦ã®å……é›»æ™‚é–“ã§ã‚‚ã€å°‘ãªãã¨ã‚‚ 2 æ—¥ãã‚‰ã„ã¯ä½¿ç”¨ã§ãã‚‹ãã‚‰ã„ã«å……é›»ã§ãã¾ã™ã€‚\nãªã®ã§ã€ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ãŒé€”åˆ‡ã‚Œã¦ã‚‚è‰¯ã„æ•¸ååˆ†ã‚’å……é›»æ™‚é–“ã«å……ã¦ã‚‹ã‚ˆã†ã«ã™ã‚Œã°ã€ã»ã¼ 24/365 ã®ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ãŒå¯èƒ½ã§ã™ã€‚\nç¡çœ ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ãŒæ­£ç¢º ä¸€æ—¥ä¸­ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã§ãã‚‹ã¨ã„ã†ã“ã¨ã¯ã€ç¡çœ æ™‚é–“ã‚‚ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ç²¾åº¦ãŒãªã‹ãªã‹é«˜ã„ã§ã™ã€‚\nå°±å¯ãƒ»èµ·åºŠæ™‚åˆ»ã¯ã»ã¼ä½“æ„Ÿã¨åŒã˜ãã‚‰ã„ãªã®ã§ã€æ¯æ—¥ã®ç¡çœ æ™‚é–“ã¯ã—ã£ã‹ã‚Šã¨ç®¡ç†ã§ãã¾ã™ã€‚\næ‚ªã‹ã£ãŸç‚¹ ã‚¹ãƒãƒ›ã®é€šçŸ¥ãŒç«¯æœ«ã¨ Inspire ã®ä¸¡æ–¹ã«æ¥ã‚‹ Apple Watch ã®å ´åˆã€ iPhone ã¨æ¥ç¶šã—ã¦ã„ã‚‹çŠ¶æ…‹ã§ã®é€šçŸ¥ã¯ Apple Watch ã®ã¿ã«å±Šãã¾ã™ã€‚ã—ã‹ã— Fitbit Inspire ã®å ´åˆã¯ã€ã¾ãš Android ç«¯æœ«ã«é€šçŸ¥ãŒæ¥ã¦ã€ãã® 0.5 ~ 1 ç§’å¾Œãã‚‰ã„ã« Inspire ã®ã»ã†ã«é€šçŸ¥ãŒæ¥ã¾ã™ã€‚ãªã®ã§ã€ä¾‹ãˆã°ç«¯æœ«ã‚’ æœºã®ä¸Šã«ç½®ã„ã¦ã„ãŸã‚Šã™ã‚‹ã¨ã€æœºãŒéœ‡ãˆã¦ã‹ã‚‰æ‰‹é¦–ã‚‚éœ‡ãˆã‚‹ã¿ãŸã„ãªçŠ¶æ…‹ã«ãªã‚Šã¾ã™ã€‚\nã“ã‚Œã°ã£ã‹ã‚Šã¯ ç«¯æœ«å°‚ç”¨ã«ä½œã‚‰ã‚ŒãŸã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒã§ã¯ãªã„ãŸã‚å®Ÿç¾ã¯é›£ã—ã„ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãŸã ã€ä¸ä¾¿ã§ã™ã­ã€‚\næ­©æ•°ã®ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ç²¾åº¦ãŒä½ã„ Fitbit Inspire ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹æœŸé–“ã‚‚å¼•ãç¶šã Apple Watch ã‚‚è£…ç€ã—ã¦ã„ãŸã®ã§ã™ãŒã€æ­©æ•°ã«é–¢ã—ã¦ Apple Watch ã§ã®è¨ˆæ¸¬å€¤ã¨å¤§ããå·®ãŒå‡ºã¦ã„ã‚‹æ—¥ãŒã‚ã‚Šã¾ã—ãŸã€‚\nfitbitã®inspireã¨Apple Watchã€‚æ­©æ•°800ã‚‚èª¤å·®å‡ºã‚‹ï¼ŸğŸ¤” pic.twitter.com/2FkUxEuiWk\n\u0026mdash; ã‚ˆã£ã—ãƒ¼CBR796RR (@michimani210) 2019å¹´5æœˆ22æ—¥ ã•ã™ãŒã«5ä¸‡æ­©ã¯ãªã„ã€‚ç¡çœ ãƒˆãƒ©ãƒƒã‚«ãƒ¼ãã‚‰ã„ã§ã—ã‹ä½¿ã„ã¿ã¡ãŒãªã„ã‹ã‚‚ã€‚ã¡ãªã¿ã«Apple Watchã§ã¯9,500æ­©ã€‚ä½“æ„Ÿçš„ã«ã‚‚ãã‚Œãã‚‰ã„ã€‚ pic.twitter.com/InVkM49WTm\n\u0026mdash; ã‚ˆã£ã—ãƒ¼CBR796RR (@michimani210) 2019å¹´5æœˆ27æ—¥ é€šçŸ¥å†…å®¹ã®è¦–èªæ€§ãŒæ‚ªã„ Fitbit Inspire ã®ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã¯ç¸¦é•·ã§ã™ãŒã€ç«¯æœ«ã‹ã‚‰ã®é€šçŸ¥å†…å®¹ã¯æ¨ªæ–¹å‘ã‹ã‚‰ã‚¹ãƒ©ã‚¤ãƒ‰ã—ã¦ãã¾ã™ã€‚ãªã®ã§ã€ä¾‹ãˆã°ãƒ¡ãƒ¼ãƒ«ã®é€šçŸ¥ã‚’å—ã‘ãŸæ™‚ã¯ã€ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ä¸Šã« 2 ~ 3 æ–‡å­—ãšã¤ã‚¹ãƒ©ã‚¤ãƒ‰ã—ã¦ãã‚‹æ„Ÿã˜ã§ã™ã€‚é€šçŸ¥è‡ªä½“ã‚’å—ã‘å–ã‚‹ã“ã¨ã¯å¯èƒ½ã§ã™ãŒã€å†…å®¹ã¾ã§ç¢ºèªã™ã‚‹ã®ã¯é›£ã—ã„ã¨æ„Ÿã˜ã¾ã—ãŸã€‚\nç¾åœ¨ã®ä½¿ã„æ–¹ è³¼å…¥ã‹ã‚‰ 2 é€±é–“çµŒã£ã¦ç¾åœ¨ã® Fitbit Inspire ã®ä½¿ã„æ–¹ã¯ã€å°‚ã‚‰ ç¡çœ ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚° ã§ã™ã€‚\næ—¥ä¸­ã¯è£…ç€ã›ãšã€å¸°ã£ã¦ãã¦ãªã‚“ã‚„ã‹ã‚“ã‚„ã—ã¦ãã‚ãã‚å¯ã‚‹ã‹ãªã¨ãªã£ãŸæ™‚ç‚¹ã§è£…ç€ã—ã¦ã¾ã™ã€‚ã§ã€ç¿Œæ—¥èµ·ãã¦ Apple Watch ã‚’ã¤ã‘ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å¤–ã—ã¦ã¾ã™ã€‚\nã˜ã‚ƒã‚ Pixel 3a ã‹ã‚‰ã®é€šçŸ¥ã¯ã©ã†ã™ã‚‹ã‚“ã ï¼ã¨ã„ã†è©±ã§ã™ãŒã€Pixel ã®ã»ã†ã§ã‚‚è‰²ã€…ã‚ã£ã¦çµå±€ iPhone + Apple Watch ã®ç”Ÿæ´»ã«æˆ»ã£ã¦ã„ã¾ã™ã€‚ Pixel 3a ã«ã¤ã„ã¦ã¯ã¾ãŸåˆ¥ã§æ›¸ãã¾ã™ã€‚\nã¾ã¨ã‚ Fitbit ã®ãƒ•ã‚£ãƒƒãƒˆãƒã‚¹ãƒˆãƒ©ãƒƒã‚«ãƒ¼ Fitbit Inspire ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã—ãŸã€‚\nç§ã®çµè«–ã¨ã—ã¦ã¯ã€ç¡çœ ãƒˆãƒ©ãƒƒã‚«ãƒ¼ã¨ã—ã¦ã¯ã™ã”ãè‰¯ã„ã¨ã„ã†æ„Ÿæƒ³ã§ã™ã€‚ä¾¡æ ¼çš„ã«ã‚‚ 10,000 å††ç¨‹åº¦ãªã®ã§æ‰‹ã¯å‡ºã—ã‚„ã™ã„ã¨æ€ã„ã¾ã™ã€‚\nã¡ãªã¿ã« Fitbit Inspure ã«ã¯ä¸Šä½ãƒ¢ãƒ‡ãƒ«ã® Inspire HR ãŒã‚ã‚Šã¾ã™ã€‚ã“ã¡ã‚‰ã¯ å¿ƒæ‹æ•°ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ãŒå¯èƒ½ã ã£ãŸã‚Šã€æ°´æ³³ã®ãƒ‡ãƒ¼ã‚¿è¨ˆæ¸¬ã«å¯¾å¿œã—ã¦ã„ãŸã‚Šã¨ã€çµæ§‹é«˜æ©Ÿèƒ½ã«ãªã£ã¦ã„ã¾ã™ã€‚ãŠå€¤æ®µã¯ ç´„ 20,000 å††ã¨ã€Inspire ã®ãŠã‚ˆã 2 å€ã§ã™ã€‚\né«˜æ©Ÿèƒ½ã¨ã¯ã„ãˆ 20,000 å††ã‹\u0026hellip;ã¨æ­£ç›´æ€ã„ã¾ã™ã€‚\nå˜ç´”ã«ç¡çœ æ™‚é–“ã‚’ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã—ãŸã„ã¨ã„ã†ã ã‘ã§ã‚ã‚Œã° Inspire ã§ååˆ†ã‹ãªã¨æ€ã„ã¾ã™ã­ã€‚\n",
    "permalink": "https://michimani.net/post/gadget-fitbit-inspire-review/",
    "title": "[ãƒ¬ãƒ“ãƒ¥ãƒ¼] Fitbit ã®ãƒ•ã‚£ãƒƒãƒˆãƒã‚¹ãƒˆãƒ©ãƒƒã‚«ãƒ¼ Fitbit Inspire ã‚’ 2 é€±é–“ãã‚‰ã„ä½¿ã£ã¦ã¿ãŸ"
  },
  {
    "contents": "Amazon SES (Amazon Simple Email Service) ã¯ ä¼æ¥­ã‚„é–‹ç™ºè€…ã®ãŸã‚ã®ã€ãƒ•ãƒ¬ã‚­ã‚·ãƒ–ãƒ«ã§å¯ç”¨æ€§ãŒé«˜ãã€æ‰‹é ƒãªä¾¡æ ¼ã® E ãƒ¡ãƒ¼ãƒ«é€å—ä¿¡ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  ã§ã™ã€‚AWS ã§æä¾›ã•ã‚Œã¦ã„ã‚‹ãƒ¡ãƒ¼ãƒ«é€å—ä¿¡ã‚µãƒ¼ãƒ“ã‚¹ã¨ã„ã†ã“ã¨ã§ã€ä»–ã® AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€£æºãŒå®¹æ˜“ã§ã™ã€‚\nä»Šå›ã¯ã€ Amazon SES (ä»¥é™ã€ SES) ã¨ AWS Lambda ã‚’ä½¿ã£ã¦ã€Gmail ã§å—ä¿¡ã—ãŸãƒ¡ãƒ¼ãƒ«ã‚’ Amazon SES çµŒç”±ã§ Slack ã«é€šçŸ¥ã™ã‚‹ä»•çµ„ã¿ã‚’å®Ÿè£…ã—ã¦ã¿ã¾ã—ãŸã€‚\næ¦‚è¦ ã‚„ã‚ŠãŸã„ã“ã¨ Gmail ã§ç‰¹å®šã®å·®å‡ºäººã‹ã‚‰å—ä¿¡ã—ãŸãƒ¡ãƒ¼ãƒ«ã‚’ Slack ã«é€šçŸ¥ã—ãŸã„ã€‚ ä»Šå›ã®å‰ææ¡ä»¶ ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ (us-east-1) ã‚’åˆ©ç”¨ã™ã‚‹ã€‚ Route 53 ã§ç®¡ç†ã—ã¦ã„ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒã‚ã‚‹ã€‚ Slack ã®ãƒ—ãƒ©ãƒ³ã¯ãƒ•ãƒªãƒ¼ãƒ—ãƒ©ãƒ³ã§ã‚ã‚‹ã€‚ Slack ã®ä»¥ä¸‹ã®æƒ…å ±ã‚’å–å¾—æ¸ˆã¿ã§ã‚ã‚‹ã€‚ Incoming WebHooks ã® Webhook URL Legacy tokens ã§ç”Ÿæˆã•ã‚ŒãŸ API Token å½“åˆã¯ Slack Apps ã«ã‚ã‚‹ Email ã‚’ä½¿ãŠã†ã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€ã“ã® App ã¯ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³ä»¥ä¸Šã®ãƒ—ãƒ©ãƒ³ã§ã®ã¿åˆ©ç”¨å¯èƒ½ã¨ã„ã†ã“ã¨ãŒåˆ¤æ˜ã—ã€ä»Šå›ã®ä»•çµ„ã¿ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚\nEmail | Slack App ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª ã‚„ã‚‹ã“ã¨ Route 53 ã§ MX ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ  SES ã§ Rule Sets ã‚’ä½œæˆ SES ã§å—ä¿¡ã—ãŸãƒ¡ãƒ¼ãƒ«å†…å®¹ã‚’ Slack ã«é€šçŸ¥ã™ã‚‹ Lambda é–¢æ•°ã‚’ä½œæˆ SES ã® Actions ã« Lambda ã‚’è¿½åŠ  Gmail ã§è»¢é€ãƒ•ã‚£ãƒ«ã‚¿ã‚’ä½œæˆ æ§‹æˆã¨ã—ã¦ã¯ä¸‹å›³ã®ã‚ˆã†ãªå½¢ã§ã™ã€‚\nã§ã¯ã€é †ç•ªã«ã‚„ã£ã¦ã„ãã¾ã™ã€‚\næŠ•ç¨¿æ—¥ã¯å¤ã„ã§ã™ãŒã€åŸºæœ¬çš„ã«æµã‚Œã¯ä¸‹è¨˜ã®è¨˜äº‹ã®é€šã‚Šã§ã™ã€‚ [[æ–°æ©Ÿèƒ½]Amazon SES ã§ãƒ¡ãƒ¼ãƒ«å—ä¿¡ãŒå‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸï¼ ï½œ DevelopersIO](https://dev.classmethod.jp/cloud/receiving-email-with-amazon-ses/) 1. Route 53 ã§ MX ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ  SES ã§åˆ©ç”¨ã™ã‚‹ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å¯¾ã—ã¦ã€ MX ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¾ã™ã€‚ä»Šå›ã¯ Route 53 ã§ç®¡ç†ã—ã¦ã„ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å¯¾ã—ã¦ç™»éŒ²ã—ã¾ã™ã€‚\nå€¤ã«æŒ‡å®šã™ã‚‹ã®ã¯ã€åˆ©ç”¨ã™ã‚‹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ã€‚ä»Šå›ã¯ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’åˆ©ç”¨ã™ã‚‹ã®ã§ã€ 10 inbound-smtp.us-east-1.amazonaws.com ã‚’æŒ‡å®šã—ã¾ã™ã€‚ä»–ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã®å€¤ã«ã¤ã„ã¦ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¨ Amazon SES - Amazon Simple Email Service 2. SES ã§ Rule Sets ã‚’ä½œæˆ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’é–‹ã„ã¦ã€ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ ã«å¤‰æ›´ã—ã€ SES ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’é–‹ãã¾ã™ã€‚\nå·¦ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã® Email Receiving ã® Rule Sets ã‹ã‚‰ Create Rule ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ Rule Set ã‚’ä½œæˆã—ã¾ã™ã€‚\nRecipient ã‚’è¿½åŠ ã™ã‚‹ç”»é¢ã«ãªã‚‹ã®ã§ã€å…ˆã»ã© MX ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ç™»éŒ²ã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å…¥åŠ›ã—ã¦ Add Recipient ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚\nè¿½åŠ ã•ã‚ŒãŸè¡Œã® Verify domain ã‚’æŠ¼ã™ã¨ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nUse Route 53 ã‚’æŠ¼ã™ã¨ Warning ãŒå‡ºã¾ã™ãŒã€èµ¤æ ã§å›²ã£ãŸ Email Receiving Record ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã€ Create Record Sets ã‚’æŠ¼ã—ã¾ã™ã€‚\nç¶šã„ã¦ Actions ã®è¨­å®šã§ã™ã€‚ã“ã“ã§ã¯ã€ SES ã§ãƒ¡ãƒ¼ãƒ«ã‚’å—ä¿¡ã—ãŸã‚ã¨ã«ã©ã‚“ãª Action ã‚’ã™ã‚‹ã‹ã‚’è¨­å®šã—ã¾ã™ã€‚ã‚ã¨ã§å¤‰æ›´ã—ã¾ã™ãŒã€ä¸€æ—¦ã¯ S3 ã¸ã®ä¿å­˜ã®ã¿ã‚’è¨­å®šã—ã¾ã™ã€‚\næ¬¡ã®ç”»é¢ã§ã¯ Rule ã®è©³ç´°è¨­å®šã‚’ã—ã¾ã™ãŒã€ç‰¹ã«è§¦ã‚‰ãšã«ãã®ã¾ã¾æ¬¡ã¸é€²ã¿ã¾ã™ã€‚\næœ€å¾Œã«è¨­å®šã‚’ç¢ºèªã—ã¦ Create Rule ã‚’æŠ¼ã—ã¾ã™ã€‚\nã“ã‚Œã‚‰ã®æ‰‹é †ãŒçµ‚ã‚ã£ãŸå¾Œã«ã€ SES ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å·¦ã«ã‚ã‚‹ Domains ã§ã€è¿½åŠ ã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚\nVerification Status ãŒ verified ã«ãªã£ã¦ã„ã‚Œã° OK ã§ã™ã€‚\n3. SES ã§å—ä¿¡ã—ãŸãƒ¡ãƒ¼ãƒ«å†…å®¹ã‚’ Slack ã«é€šçŸ¥ã™ã‚‹ Lambda é–¢æ•°ã‚’ä½œæˆ ã‚½ãƒ¼ã‚¹ã¯ GitHub ã«ç½®ã„ã¦ã‚‹ã®ã§ã“ã“ã«ã¯è²¼ã‚Šã¾ã›ã‚“ãŒã€ã‚„ã£ã¦ã„ã‚‹ã“ã¨ã¯æ¬¡ã®ã‚ˆã†ãªã“ã¨ã§ã™ã€‚\nS3 ã«ä¿å­˜ã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾— body éƒ¨åˆ†ã‚’é©åˆ‡ã«ãƒ‡ã‚³ãƒ¼ãƒ‰ (base64 or quoted-printable) Slack ã¸é€šçŸ¥ ã‚ã–ã‚ã– S3 ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦ã„ã‚‹ã®ã¯ã€ SES ã‹ã‚‰ Lambda ã«æ¸¡ã•ã‚Œã‚‹ Event ã®ä¸­ã«ãƒ¡ãƒ¼ãƒ«ã®æœ¬æ–‡ãƒ‡ãƒ¼ã‚¿ãŒå«ã¾ã‚Œã¦ã„ãªã„ãŸã‚ã§ã™ã€‚ message id ã¯å«ã¾ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚’ã‚‚ã¨ã« S3 ã‹ã‚‰ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–å¾—ã—ã¾ã™ã€‚\nã¾ãŸã€Slack ã¸ã®é€šçŸ¥ã«éš›ã—ã¦ã€ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ã‚’ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã«ãƒã‚¹ãƒˆã™ã‚‹ã¨åœ§è¿«æ„ŸãŒå‡„ã„ã®ã§ã€æ¬¡ã®ã‚ˆã†ãªå½¢ã§ãƒã‚¹ãƒˆã—ã¦ã¾ã™ã€‚\nå·®å‡ºäººã€æ—¥æ™‚ã€ä»¶åã€å®›å…ˆ ã®ã¿ã‚’ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã«ãƒã‚¹ãƒˆ ãã®ãƒã‚¹ãƒˆã®ã‚¹ãƒ¬ãƒƒãƒ‰ã«æœ¬æ–‡ã‚’ãƒã‚¹ãƒˆ çµæœçš„ã«ã¯ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™ã€‚\nmichimani/amazon-ses-to-slack: This is a AWS Lambda function for notifying receiving e-mail with Amazon SES to Slack. 4. SES ã® Actions ã« Lambda ã‚’è¿½åŠ  SES ã® Actions è¨­å®šã§ã€S3 ã¸ã®ä¿å­˜ã®æ¬¡ã® Action ã¨ã—ã¦ã€ä½œæˆã—ãŸ Lambda (ã“ã“ã§ã¯ SEStoSlack ã¨ã„ã†åå‰ã®é–¢æ•°) ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n5. Gmail ã§è»¢é€ãƒ•ã‚£ãƒ«ã‚¿ã‚’ä½œæˆ ã‚ã¨ã¯ Gmail ã®è¨­å®šç”»é¢ã§ã€ SES å®›ã«è»¢é€ã™ã‚‹ã‚ˆã†ãªãƒ•ã‚£ãƒ«ã‚¿ã‚’ä½œã‚Œã°å®Œäº†ã§ã™ã€‚\nGmail ã§è»¢é€ç”¨ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¿½åŠ ã™ã‚‹éš›ã«ã¯ç¢ºèªã‚³ãƒ¼ãƒ‰ãŒå¿…è¦ã«ãªã‚Šã¾ã™ãŒã€ãã®ãƒ¡ãƒ¼ãƒ«è‡ªä½“ã‚‚ S3 ã«ä¿å­˜ã•ã‚Œã‚‹ã®ã§ã€ç¢ºèªã‚³ãƒ¼ãƒ‰ã¯ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å–å¾—ã™ã‚‹å½¢ã«ãªã‚Šã¾ã™ã€‚\næ‰‹é † 4 ã§ Lambda ã®è¨­å®šãŒå®Œäº†ã—ã¦ã„ã‚Œã°ã€ç¢ºèªã‚³ãƒ¼ãƒ‰ã‚’å«ã‚“ã ã“ã®ãƒ¡ãƒ¼ãƒ«ã‚‚ Slack ã«é€šçŸ¥ã•ã‚Œã‚‹ã®ã§ã€ãã“ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã¾ã¨ã‚ ä»¥ä¸Šã€Gmail ã§å—ä¿¡ã—ãŸãƒ¡ãƒ¼ãƒ«ã‚’ Amazon SES çµŒç”±ã§ Slack ã«é€šçŸ¥ã™ã‚‹ä»•çµ„ã¿ã‚’ä½œã£ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã‚‚ã¡ã‚ã‚“ Amazon SES ã‚‚æ–™é‡‘ã¯ç™ºç”Ÿã—ã¾ã™ãŒã€ãƒ¡ãƒ¼ãƒ«ã®å—ä¿¡ã«é–¢ã—ã¦ã¯ æœ€åˆã® 1,000 ä»¶ã¾ã§ã¯ 0 USDã€‚ãã‚Œä»¥é™ã¯ 1,000 ä»¶ã”ã¨ã« 0.10 USD ã¨ãªã£ã¦ã„ã¾ã™ã€‚ Slack ã®ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³ã¯ 1 ãƒ¦ãƒ¼ã‚¶ã‚ãŸã‚Š 850 å†† (å¹´æ‰•ã„) ãªã®ã§ã€ä»®ã« 1 ãƒ¦ãƒ¼ã‚¶ã ã£ãŸã¨ã—ã¦ã‚‚ãã®é‡‘é¡ã«é”ã™ã‚‹ã«ã¯ãƒ¡ãƒ¼ãƒ«ã‚’ ç´„ 78,272 (= 850 / 110 / 0.10 * 1000 + 1000) é€šå—ä¿¡ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ ($1 = 110å†† ã§è¨ˆç®—)\nã‚‚ã—ãƒ¡ãƒ¼ãƒ«ã®è»¢é€ãŒã—ãŸã„ãŸã‚ã ã‘ã«ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³ã«ã™ã‚‹ã“ã¨ãŒã‚ã‚Œã° (ãªã•ãã†ã§ã™ãŒ) Amazon SES + Lambda ã§ã®ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ã‚‚ã‚ã‚Šã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\næ–™é‡‘ - Amazon SESï¼ˆAmazon Simple Email Serviceï¼‰| AWS ",
    "permalink": "https://michimani.net/post/aws-notifier-receiving-email-to-slack-with-amazon-ses/",
    "title": "Gmail ã§å—ä¿¡ã—ãŸãƒ¡ãƒ¼ãƒ«ã‚’ Amazon SES çµŒç”±ã§ Slack ã«é€šçŸ¥ã™ã‚‹"
  },
  {
    "contents": "å…ˆæ—¥ä½œã£ãŸ Web ã‚¢ãƒ—ãƒª ã‚³ã‚³ã‚¤ãƒæ³¨æ–‡æ–™é‡‘ç°¡æ˜“ã‚«ãƒªã‚­ãƒ¥ãƒ¬ãƒ¼ã‚¿ ã‚’ PWA åŒ–ã—ãŸè©±ã§ã™ã€‚\nPWAãƒ»ãƒ»ãƒ»PWAã¨ã¯ã€ã€ŒProgressive Web Appsã€ã®ç•¥ç§°ã§ã€ãƒ¢ãƒã‚¤ãƒ«å‘ã‘Webã‚µã‚¤ãƒˆã‚’GooglePlayã‚¹ãƒˆã‚¢ãªã©ã§è¦‹ã‹ã‘ã‚‹ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³å‘ã‘ã‚¢ãƒ—ãƒªã®ã‚ˆã†ã«ä½¿ãˆã‚‹ä»•çµ„ã¿ã§ã™ã€‚ ([PWAã¨ã¯ï¼ˆProgressive Web Appsã¨ã¯ï¼‰ | SEOç”¨èªé›†ï¼šæ„å‘³/è§£èª¬/SEOåŠ¹æœãªã© [SEO HACKS]](https://www.seohacks.net/basic/terms/pwa/)) ä½œã£ãŸçµŒç·¯ã‚„ä½¿ã£ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ãªã©ã«ã¤ã„ã¦ã¯ä¸€ã¤å‰ã®è¨˜äº‹ã‚’è¦‹ã¦ãã ã•ã„ã€‚\næ¦‚è¦ æœ€åˆã‹ã‚‰ PWA å¯¾å¿œã—ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚‹å ´åˆã¯ã€ Vue CLI ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹éš›ã« Progressive Web App (PWA) Support ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¦ãŠãã¾ã™ã€‚\nãã†ã™ã‚‹ã¨ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆã¨åŒæ™‚ã«å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ« (manifest.json, å„ã‚µã‚¤ã‚ºã®ã‚¢ã‚¤ã‚³ãƒ³ãªã©) ãŒä½œæˆã•ã‚Œã¾ã™ã€‚\nä»Šå›ã¯æ—¢å­˜ã® Vue ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ PWA åŒ–ã™ã‚‹ã®ã§ã€ Progressive Web App (PWA) Support ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚ŒãŸã¨ãã¨å…¥ã‚Œãªã„ã¨ãã¨ã®å·®åˆ†ã‚’è£œã†å½¢ã§å¯¾å¿œã—ã¾ã—ãŸã€‚\nã¡ãªã¿ã« PWA åŒ–ã™ã‚‹ã“ã¨ã§å‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ (Push é€šçŸ¥ã‚„ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã©) ã¯ã„ã‚ã„ã‚ã‚ã‚‹ã®ã§ã™ãŒã€ä»Šå›ã®ç›®çš„ã¯ã¨ã‚Šã‚ãˆãš ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ ã—ã¦ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã£ã½ãä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ ã“ã¨ã§ã™ã€‚\næ‰‹é † 1. å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« package.json ã«è¿½è¨˜ã—ã¦ã€ PWA åŒ–ã«å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n@@ -9,6 +9,7 @@ }, \u0026#34;dependencies\u0026#34;: { \u0026#34;core-js\u0026#34;: \u0026#34;^2.6.5\u0026#34;, + \u0026#34;register-service-worker\u0026#34;: \u0026#34;^1.6.2\u0026#34;, \u0026#34;vue\u0026#34;: \u0026#34;^2.6.10\u0026#34;, \u0026#34;vue-class-component\u0026#34;: \u0026#34;^7.0.2\u0026#34;, \u0026#34;vue-property-decorator\u0026#34;: \u0026#34;^8.1.0\u0026#34; @@ -16,6 +17,7 @@ \u0026#34;devDependencies\u0026#34;: { \u0026#34;@vue/cli-plugin-babel\u0026#34;: \u0026#34;^3.7.0\u0026#34;, \u0026#34;@vue/cli-plugin-eslint\u0026#34;: \u0026#34;^3.7.0\u0026#34;, + \u0026#34;@vue/cli-plugin-pwa\u0026#34;: \u0026#34;^3.7.0\u0026#34;, \u0026#34;@vue/cli-plugin-typescript\u0026#34;: \u0026#34;^3.7.0\u0026#34;, \u0026#34;@vue/cli-service\u0026#34;: \u0026#34;^3.7.0\u0026#34;, \u0026#34;@vue/eslint-config-prettier\u0026#34;: \u0026#34;^4.0.1\u0026#34;, $ npm install 2. Service Worker ã‚’ç™»éŒ²ã™ã‚‹å‡¦ç†ã®è¿½åŠ  Service Worker ã‚’ä½¿ã†ã“ã¨ã«ã‚ˆã£ã¦ Push é€šçŸ¥ã‚„ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã©ã€ã‚ˆã‚Šãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã«è¿‘ã„å‹•ä½œã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ (ã‚‚ã—ã‹ã—ãŸã‚‰ ãƒ›ãƒ¼ãƒ ç”»é¢ã¸ã®è¿½åŠ ã ã‘ãªã‚‰å¿…è¦ãªã„ï¼Ÿã¡ã‚‡ã£ã¨ã“ã®è¾ºã¯)\nsrc ã®ç›´ä¸‹ã«ä¸‹è¨˜ã®ã‚ˆã†ãª registerServiceWorker.ts ã‚’ä½œæˆã—ã¾ã™ã€‚\n/* eslint-disable no-console */ import { register } from \u0026#34;register-service-worker\u0026#34;; if (process.env.NODE_ENV === \u0026#34;production\u0026#34;) { register(`${process.env.BASE_URL}service-worker.js`, { ready() { console.log( \u0026#34;App is being served from cache by a service worker.\\n\u0026#34; + \u0026#34;For more details, visit https://goo.gl/AFskqB\u0026#34; ); }, registered() { console.log(\u0026#34;Service worker has been registered.\u0026#34;); }, cached() { console.log(\u0026#34;Content has been cached for offline use.\u0026#34;); }, updatefound() { console.log(\u0026#34;New content is downloading.\u0026#34;); }, updated() { console.log(\u0026#34;New content is available; please refresh.\u0026#34;); }, offline() { console.log( \u0026#34;No internet connection found. App is running in offline mode.\u0026#34; ); }, error(error) { console.error(\u0026#34;Error during service worker registration:\u0026#34;, error); } }); } ãã—ã¦ src/main.ts å†…ã§ import ã—ã¾ã™ã€‚\n@@ -1,5 +1,6 @@ import Vue from \u0026#34;vue\u0026#34;; import App from \u0026#34;./App.vue\u0026#34;; + import \u0026#34;./registerServiceWorker\u0026#34;; Vue.config.productionTip = false; 3. ã‚¢ã‚¤ã‚³ãƒ³ã®ä½œæˆ PWA åŒ–ã™ã‚‹ã¨ãƒ›ãƒ¼ãƒ ç”»é¢ã‚„ã‚¹ãƒ—ãƒ©ãƒƒã‚·ãƒ¥ç”»åƒã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚¢ã‚¤ã‚³ãƒ³ç”»åƒãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€ public/img/icons é…ä¸‹ã«ä¸‹è¨˜ã®ã‚¢ã‚¤ã‚³ãƒ³ç”»åƒã‚’æº–å‚™ã—ã¾ã™ã€‚\npublic/img/icons â”œâ”€â”€ android-chrome-192x192.png â”œâ”€â”€ android-chrome-512x512.png â”œâ”€â”€ apple-touch-icon-120x120.png â”œâ”€â”€ apple-touch-icon-152x152.png â”œâ”€â”€ apple-touch-icon-180x180.png â”œâ”€â”€ apple-touch-icon-60x60.png â”œâ”€â”€ apple-touch-icon-76x76.png â”œâ”€â”€ apple-touch-icon.png â”œâ”€â”€ favicon-16x16.png â”œâ”€â”€ favicon-32x32.png â”œâ”€â”€ msapplication-icon-144x144.png â”œâ”€â”€ mstile-150x150.png â””â”€â”€ safari-pinned-tab.svg apple-touch-icon.png ã¯ 180px x 180px ã€ safari-pinned-tab.svg ã¯ 16pt x 16pt ã€ ãã®ä»–ã®ã‚¢ã‚¤ã‚³ãƒ³ã¯ãƒ•ã‚¡ã‚¤ãƒ«åã®é€šã‚Šã®ã‚µã‚¤ã‚º (px) ã§ä½œæˆã—ã¾ã™ã€‚\n4. manifest.json ã®ä½œæˆ ä»Šå›ã®ç›®çš„ã§ã‚ã‚‹ãƒ›ãƒ¼ãƒ ç”»é¢ã¸ã®ã‚¢ã‚¤ã‚³ãƒ³è¿½åŠ ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚ public ç›´ä¸‹ã«ä½œæˆã—ã¾ã™ã€‚\n{ \u0026#34;name\u0026#34;: \u0026#34;ã‚³ã‚³ã‚¤ãƒæ³¨æ–‡æ–™é‡‘ç°¡æ˜“ã‚«ãƒªã‚­ãƒ¥ãƒ¬ãƒ¼ã‚¿\u0026#34;, \u0026#34;short_name\u0026#34;: \u0026#34;coco1cal\u0026#34;, \u0026#34;icons\u0026#34;: [ { \u0026#34;src\u0026#34;: \u0026#34;./img/icons/android-chrome-192x192.png\u0026#34;, \u0026#34;sizes\u0026#34;: \u0026#34;192x192\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;image/png\u0026#34; }, { \u0026#34;src\u0026#34;: \u0026#34;./img/icons/android-chrome-512x512.png\u0026#34;, \u0026#34;sizes\u0026#34;: \u0026#34;512x512\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;image/png\u0026#34; }, { \u0026#34;src\u0026#34;: \u0026#34;./img/icons/apple-touch-icon-60x60.png\u0026#34;, \u0026#34;sizes\u0026#34;: \u0026#34;60x60\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;image/png\u0026#34; }, { \u0026#34;src\u0026#34;: \u0026#34;./img/icons/apple-touch-icon-76x76.png\u0026#34;, \u0026#34;sizes\u0026#34;: \u0026#34;76x76\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;image/png\u0026#34; }, { \u0026#34;src\u0026#34;: \u0026#34;./img/icons/apple-touch-icon-120x120.png\u0026#34;, \u0026#34;sizes\u0026#34;: \u0026#34;120x120\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;image/png\u0026#34; }, { \u0026#34;src\u0026#34;: \u0026#34;./img/icons/apple-touch-icon-152x152.png\u0026#34;, \u0026#34;sizes\u0026#34;: \u0026#34;152x152\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;image/png\u0026#34; }, { \u0026#34;src\u0026#34;: \u0026#34;./img/icons/apple-touch-icon-180x180.png\u0026#34;, \u0026#34;sizes\u0026#34;: \u0026#34;180x180\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;image/png\u0026#34; } ], \u0026#34;start_url\u0026#34;: \u0026#34;./index.html\u0026#34;, \u0026#34;display\u0026#34;: \u0026#34;standalone\u0026#34;, \u0026#34;background_color\u0026#34;: \u0026#34;#FFFFFF\u0026#34;, \u0026#34;theme_color\u0026#34;: \u0026#34;#4e342e\u0026#34; } icons ã§æœ€ä½é™å¿…è¦ãªã®ã¯ android-chrome-192x192.png ã¨ android-chrome-512x512.png ã§ã™ã€‚ãŸã ã€ iOS ã§ã‚‚ãƒ›ãƒ¼ãƒ ç”»é¢ã¸ã®è¿½åŠ ã‚’å®Ÿç¾ã—ãŸã„å ´åˆã¯ã€ãã®ä»–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã¾ãŸã€ iOS ã®ãƒ›ãƒ¼ãƒ ç”»é¢ã‚¢ã‚¤ã‚³ãƒ³ã¯é€éç”»åƒãŒä½¿ç”¨ã§ãã¾ã›ã‚“ã€‚ã¨ã„ã†ã‹ã€ä½¿ç”¨ã¯ã§ãã‚‹ã®ã§ã™ãŒã€é€ééƒ¨åˆ†ãŒé»’ã§å¡—ã‚Šã¤ã¶ã•ã‚Œã¾ã™ã€‚\nãªã®ã§ã€ Android ç”¨ã‚¢ã‚¤ã‚³ãƒ³ã«ã¯é€éç”»åƒã‚’ä½¿ã„ãŸã„å ´åˆã€ iOS ç”¨ã®ã‚¢ã‚¤ã‚³ãƒ³ã«ã¯é€ééƒ¨åˆ†ã‚’å«ã¾ãªã„ç”»åƒã‚’ç”¨æ„ã—ãŸã»ã†ãŒã‚ˆã„ã§ã™ã€‚\nbackground_color ã¯ã‚¹ãƒ—ãƒ©ãƒƒã‚·ãƒ¥ç”»åƒã®èƒŒæ™¯è‰²ã«ãªã‚Šã¾ã™ã€‚\ntheme_color ã¯ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®è‰²ã«ãªã‚Šã¾ã™ã€‚\nãã®ä»–ã€ manifest.json ã«é–¢ã™ã‚‹å†…å®¹ã¯ The Web App Manifest | Web Fundamentals | Google Developers ã‚’ã”è¦§ãã ã•ã„ã€‚\n5. index.html ã¸ã®è¿½è¨˜ 4 ã¾ã§ã®æ‰‹é †ã§ PWA åŒ–ã¯å®Œäº†ã—ã¦ã„ã‚‹ã®ã§ã™ãŒã€è¿½åŠ ã§å¯¾å¿œãŒå¿…è¦ãªå†…å®¹ãŒã‚ã‚Šã¾ã—ãŸã€‚\nmanifest.json ã® theme_color ãŒåæ˜ ã•ã‚Œãªã„ manifest.json ã® theme_color ã¯ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®è‰²ã«ãªã‚‹ã¨æ›¸ãã¾ã—ãŸãŒã€ã“ã“ã‚’å¤‰æ›´ã—ã¦ã‚‚ãªãœã‹ Vue.js ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® #4DBA87 ã«ãªã£ã¦ã—ã¾ã†å•é¡ŒãŒã‚ã‚Šã¾ã—ãŸã€‚ (Android ç«¯æœ«: Pixel 3a)\nPWAåŒ–ã—ãŸã®ã¯ã„ã„ã‘ã©ã€ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ãŒå¤‰ã‚ã‚‰ãªã„ã®ã¯ãªãœã€‚manifest.json ã®å€¤ã¯å¤‰ã‚ã£ã¦ã‚‹ã®ã«ã€‚ pic.twitter.com/6kNVRyRrf3\n\u0026mdash; ã‚ˆã£ã—ãƒ¼CBR789RR (@michimani210) May 22, 2019 èª¿ã¹ã¦ã¿ã‚‹ã¨ã€ã©ã†ã‚„ã‚‰ Vue.js ã§ä½œã£ãŸ PWA ã§ã¯ manifest.json ã® theme_color ãŒåæ˜ ã•ã‚Œãªã„ãŸã‚ã€ head å†…ã«ç›´æ¥ãƒ¡ã‚¿ã‚¿ã‚°ã§æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚‰ã—ã„ã§ã™ã€‚\nPWAã®ã‚¿ãƒ–è‰²ã‚’å¤‰æ›´ã™ã‚‹æ–¹æ³•(Android)ã¨Vue.jsä½¿ç”¨æ™‚ã®æ³¨æ„ç‚¹ | Cosnomi Blog ã¨ã„ã†ã“ã¨ã§ head å†…ã«è¿½è¨˜ã—ãŸã¨ã“ã‚ã€ç„¡äº‹ã«åæ˜ ã•ã‚Œã¾ã—ãŸã€‚\n@@ -14,6 +14,7 @@ \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;meta http-equiv=\u0026#34;X-UA-Compatible\u0026#34; content=\u0026#34;IE=edge\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width,initial-scale=1.0\u0026#34;\u0026gt; + \u0026lt;meta name=\u0026#34;theme-color\u0026#34; content=\u0026#34;#4e342e\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;icon\u0026#34; href=\u0026#34;\u0026lt;%= BASE_URL %\u0026gt;favicon.ico\u0026#34;\u0026gt; iOS ã§ã¯ manifest.json ã‚’èª­ã‚“ã§ãã‚Œãªã„ PWA ã®ä»•æ§˜ã‚„ manifest.json ã«ã¤ã„ã¦ã¯ Google ãŒé€²ã‚ã¦ã„ã‚‹å†…å®¹ã§ã€ iOS Safari ã§ã¯ã¾ã æœªå¯¾å¿œãªéƒ¨åˆ†ã‚‚å¤šã€…ã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\nãã®ãŸã‚ã€ manifest.json ã®å†…å®¹ã‚’ head å†…ã«ãƒ¡ã‚¿ã‚¿ã‚°ã§è¿½è¨˜ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãŸã ã€ã™ã¹ã¦ã‚’æ›¸ãã¨ãªã‚‹ã¨é¢å€’ãªã®ã§ã€ Google ãŒç”¨æ„ã—ã—ã¦ã„ã‚‹ PWACompact ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚\nGoogleChromeLabs/pwacompat | GitHub ä½¿ã„æ–¹ã¯ç°¡å˜ã§ã€ GitHub ã® readme ã«ã‚ã‚‹é€šã‚Š head å†…ã«ä¸‹è¨˜ã®å†…å®¹ã‚’è¿½è¨˜ã™ã‚‹ã ã‘ã§ã™ã€‚ãŸã ã—ã€ readme ã¨é•ã†ç‚¹ã¯ã€ manifest.webmanifest ã§ã¯ãªã manifest.json ã¨ã—ã¦ã„ã‚‹ã¨ã“ã‚ã§ã™ã€‚\n@@ -5,6 +5,10 @@ \u0026lt;meta http-equiv=\u0026#34;X-UA-Compatible\u0026#34; content=\u0026#34;IE=edge\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width,initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;theme-color\u0026#34; content=\u0026#34;#4e342e\u0026#34;\u0026gt; + \u0026lt;link rel=\u0026#34;manifest\u0026#34; href=\u0026#34;manifest.json\u0026#34; /\u0026gt; + \u0026lt;script async src=\u0026#34;https://cdn.jsdelivr.net/npm/pwacompat@2.0.8/pwacompat.min.js\u0026#34; + integrity=\u0026#34;sha384-uONtBTCBzHKF84F6XvyC8S0gL8HTkAPeCyBNvfLfsqHh+Kd6s/kaS4BdmNQ5ktp1\u0026#34; + crossorigin=\u0026#34;anonymous\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;link rel=\u0026#34;icon\u0026#34; href=\u0026#34;\u0026lt;%= BASE_URL %\u0026gt;favicon.ico\u0026#34;\u0026gt; ã“ã‚Œã«ã‚ˆã£ã¦ã€ iOS ç”¨ã«å¿…è¦ãªãƒ¡ã‚¿ã‚¿ã‚°ãŒè‡ªå‹•ã§æŒ¿å…¥ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nLighthouse ã§ç¢ºèª Lighthouse ã§ã‚¹ã‚³ã‚¢ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nå…¨ä½“çš„ã«é«˜ã„ã§ã™ã€‚ã¾ã‚ã€å¤–éƒ¨ API ã‚’ä½¿ã£ãŸã‚Šè¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿ã®æŒã¡æ–¹ã‚’ã—ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã„ã®ã§ã€ã‚¹ã‚³ã‚¢ãŒé«˜ã„ã®ã¯å½“ãŸã‚Šå‰ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nPWA ã®é …ç›®ã«ã¤ã„ã¦è¦‹ã¦ã¿ã¾ã™ã€‚\nå…¨éƒ¨ã‚ªãƒƒã‚±ãƒ¼ã£ã½ã„ã§ã™ã­ã€‚\nã¿ã‚“ãªã§ã‚³ã‚³ã‚¤ãƒã¸è¡Œã“ã†ï¼ Vue.js ã§ä½œã£ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ PWA åŒ–ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\niOS/Android ã®ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹ã¨ãªã‚‹ã¨ã€ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ç™»éŒ²ã¨ã‹ã‚¹ãƒˆã‚¢ã¸ã®ç”³è«‹ã¨ã‹ãƒãƒ¼ãƒ‰ãƒ«ãŒã„ãã¤ã‹ã‚ã‚Šã¾ã™ãŒã€ PWA ã®æŠ€è¡“ã‚’ä½¿ãˆã° Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã£ã½ãã§ãã‚‹ã®ã§ã€ã™ã”ã„ã§ã™ã­ã€‚ (èªå½™åŠ›)\nç¾çŠ¶ã§ã¯ iOS ã§å¯¾å¿œãŒä¸å®Œå…¨ã ã£ãŸã‚Šã™ã‚‹ã®ã§ã€ä»Šå¾Œãã®ã‚ãŸã‚ŠãŒçµ±ä¸€ã•ã‚Œã¦ã„ã‘ã°ã‚¹ãƒãƒ›ã‚¢ãƒ—ãƒªäº‹æƒ…ãŒå¤‰ã‚ã£ã¦ã„ãã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã­ã€‚\nã¨ã„ã†ã“ã¨ã§ã€PWA åŒ–ã—ãŸ ã‚³ã‚³ã‚¤ãƒæ³¨æ–‡æ–™é‡‘ç°¡æ˜“ã‚«ãƒªã‚­ãƒ¥ãƒ¬ãƒ¼ã‚¿ ã€ãœã²ä½¿ã£ã¦ã¿ã¦ãã ã•ã„ã€‚ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€Œãƒ›ãƒ¼ãƒ ç”»é¢ã¸è¿½åŠ ã€ã™ã‚‹ã ã‘ã§ã™ã€‚\nã‚³ã‚³ã‚¤ãƒç¾å‘³ã—ã„ã§ã™ã‚ˆğŸ›\n",
    "permalink": "https://michimani.net/post/programming-build-pwa-with-vuejs/",
    "title": "Vue.js ã§ä½œã£ãŸ Web ã‚¢ãƒ—ãƒªã‚’ PWA åŒ–ã—ã¦ã¿ã¾ã—ãŸ"
  },
  {
    "contents": "ã¿ãªã•ã‚“ã€ã‚³ã‚³ã‚¤ãƒã§ã‚«ãƒ¬ãƒ¼é£Ÿã¹ã¦ã¾ã™ã‹ï¼Ÿ\nç§ã¯ä¸€æ™‚æœŸ é€±ï¼“ãã‚‰ã„ã®ãƒšãƒ¼ã‚¹ã§é£Ÿã¹ã‚‹ãã‚‰ã„ã‚³ã‚³ã‚¤ãƒã®ã‚«ãƒ¬ãƒ¼ãŒå¥½ãã§ã™ã€‚(æœ€è¿‘ã¯é »åº¦ãŒæ¸›ã‚Šã¾ã—ãŸãŒã€ç›¸å¤‰ã‚ã‚‰ãšå¥½ãã§ã™)\nã‚³ã‚³ã‚¤ãƒã®é†é†å‘³ã¨ã„ãˆã°ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ã™ãŒã€æ…£ã‚Œã¦ãªã„ã¨æ³¨æ–‡æ–¹æ³•ãŒã‚ã‹ã‚Šã«ãã‹ã£ãŸã‚Šã—ã¾ã™ã€‚\nãã‚“ãªã‚³ã‚³ã‚¤ãƒã®æ³¨æ–‡ã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«ã§ãã‚‹ã‚ˆã†ãªãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚Šã¾ã—ãŸã€‚\nä½œã£ãŸã‚‚ã® ã‚³ã‚³ã‚¤ãƒæ³¨æ–‡æ–™é‡‘ç°¡æ˜“ã‚«ãƒªã‚­ãƒ¥ãƒ¬ãƒ¼ã‚¿ ã‚³ã‚³ã‚¤ãƒãŒå¥½ãã™ãã¦ã‚³ã‚³ã‚¤ãƒã®æ–™é‡‘ç°¡æ˜“è¨ˆç®—ãƒ„ãƒ¼ãƒ«ä½œã‚Šã¾ã—ãŸã€‚https://t.co/EZbRBJhtWv\n\u0026mdash; ã‚ˆã£ã—ãƒ¼CBR789RR (@michimani210) May 16, 2019 ã§ãã‚‹ã“ã¨ ã‚³ã‚³ã‚¤ãƒã‚«ãƒ¬ãƒ¼ã® 4 è¦ç´  (ã‚½ãƒ¼ã‚¹ã®ç¨®é¡, ãƒ©ã‚¤ã‚¹ã®é‡, è¾›ã•, ãƒˆãƒƒãƒ”ãƒ³ã‚°) ã‚’é †ç•ªã«é¸æŠã—ã¦ã€æ–™é‡‘ã®åˆè¨ˆãŒè¨ˆç®—ã§ãã‚‹ ãƒˆãƒƒãƒ”ãƒ³ã‚°ã«ã¤ã„ã¦ã¯ ãƒ©ãƒ³ãƒ€ãƒ ã§ï¼‘ã¤, ãƒ©ãƒ³ãƒ€ãƒ ã§ï¼’ã¤, ãƒ©ãƒ³ãƒ€ãƒ ã§ï¼“ã¤, å®Œå…¨ãƒ©ãƒ³ãƒ€ãƒ  ã§é¸æŠã§ãã‚‹ å…¨éƒ¨ãŠã¾ã‹ã› ã«ã™ã‚‹ã¨ã€ 4 è¦ç´ ã™ã¹ã¦ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã§é¸æŠã§ãã‚‹ é¸æŠã—ãŸçµæœã®æ–™é‡‘ã€æ˜ç´°ã‚’ä¸€ç”»é¢ã§ç¢ºèªã§ãã‚‹ (ãƒˆãƒƒãƒ”ãƒ³ã‚°ãŒå¤šã„å ´åˆã¯ä¸€ç”»é¢ã«ãŠã•ã¾ã‚‰ãªã„å ´åˆãŒã‚ã‚Šã¾ã™) ä»¥ä¸‹ã€æ³¨æ„ç‚¹ã§ã™ã€‚\nã‚ãã¾ã§ã‚‚ãƒˆãƒƒãƒ”ãƒ³ã‚°ã®æ–™é‡‘è¨ˆç®—ã®ã¿ã§ã™ã€‚ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®æ–™é‡‘è¨ˆç®—ã¯å‡ºæ¥ã¾ã›ã‚“ã€‚ è¾›ã•ã¯ ï¼•è¾›ã¾ã§é¸æŠã§ãã¾ã™ã€‚ï¼–è¾›ä»¥ä¸Šã‚‚æ³¨æ–‡å¯èƒ½ã§ã™ãŒã€å…¬å¼ã§ã¯ éå»ã«ï¼•è¾›ä»¥ä¸Šã‚’æ„Ÿè§¦ã—ãŸã“ã¨ãŒã‚ã‚‹æ–¹ã®ã¿ ã¨ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€‚ å„ç¨®æ–™é‡‘ã€ãƒˆãƒƒãƒ”ãƒ³ã‚°ã®ç¨®é¡ã¯å­£ç¯€ã‚„åº—èˆ—ã«ã‚ˆã£ã¦ç•°ãªã‚‹å ´åˆãŒã‚ã‚‹ã®ã§ã€æ­£ç¢ºãªæ–™é‡‘ã¯åº—èˆ—ã§ã”ç¢ºèªãã ã•ã„ã€‚ ãªãœä½œã£ãŸã®ã‹ å†’é ­ã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€ç§è‡ªèº«ãŒã‚³ã‚³ã‚¤ãƒå¤§å¥½ããªã®ã§ã€ãƒ©ãƒ³ãƒ€ãƒ ã§ãƒˆãƒƒãƒ”ãƒ³ã‚°ã‚’é¸ã‚“ã§ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ãŒã‚ã‚Œã°ã„ã„ãªãƒ¼ã¨æ€ã£ã¦ä½œã‚Šã¾ã—ãŸã€‚\næ§‹æƒ³è‡ªä½“ã¯å»å¹´ã®å¹´æœ«ã‹ã‚‰ã‚ã£ãŸã‚“ã§ã™ãŒã€æ€ æ…¢ã«ã‚ˆã‚ŠåŠå¹´å¼±æ”¾ç½®ã—ã¦ã„ã¾ã—ãŸã€‚\nãã‚“ãªçŸ¢å…ˆã« ã‚µã‚¤ã‚¼ãƒªãƒ¤1000å††ã‚¬ãƒãƒ£ ãŒå…¬é–‹ã•ã‚Œã¦ã€ã‚ãƒ¼ã‚„ã‚‰ã‚ŒãŸãªãƒ¼ã¨æ€ã£ã¦ã™ãã«ãƒªãƒªãƒ¼ã‚¹ã—ã¾ã—ãŸã€‚ã‚µã‚¤ã‚¼ãƒªãƒ¤1000å††ã‚¬ãƒãƒ£ã•ã‚“ã€ãŠã—ã‚Šã«ç«ã‚’ã¤ã‘ã¦ãã‚Œã¦ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚\nã©ã‚“ãªæŠ€è¡“ã§å‹•ã„ã¦ã„ã‚‹ã®ã‹ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ æœ€è¿‘ Vue.js ã‚’è§¦ã‚Šå§‹ã‚ãŸã®ã§ã€ãã®ç·´ç¿’ã‚‚å…¼ã­ã¦ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ Vue.js ã‚’ä½¿ã£ã¦æ›¸ã„ã¦ã¾ã™ã€‚\nã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã®ã¿ã§ã™ã€‚\nVue.js ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ Vue CLI ã‚’ä½¿ã£ã¦ç°¡å˜ã«ä½œæˆã§ãã¾ã—ãŸã€‚\n$ vue create coco1.app.michimani.net ? Please pick a preset: Manually select features ? Check the features needed for your project: Babel, TS, Linter ? Use class-style component syntax? Yes ? Use Babel alongside TypeScript for auto-detected polyfills? Yes ? Pick a linter / formatter config: Prettier ? Pick additional lint features: (Press \u0026lt;space\u0026gt; to select, \u0026lt;a\u0026gt; to toggle all, \u0026lt;i\u0026gt; to invert selection)Lint on save ? Where do you prefer placing config for Babel, PostCSS, ESLint, etc.? In dedicated config files è¨­å®šã¯ã€ TypeScript ã‚’ä½¿ã†ä»¥å¤–ã¯åŸºæœ¬çš„ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã¾ã¾ã§ã™ã€‚\nã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ æ§‹æˆå›³ã¯ä¸‹å›³ã®é€šã‚Šã§ã™ã€‚\nä¸‹è¨˜ AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã£ãŸã€ã„ãŸã£ã¦ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹æˆã§ã™ã€‚\nRoute53 CloudFront S3 CodePipeline CodeCommit CodeBuild Lambda ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ãªã®ã§ã€ Route53 + CloudFront + S3 ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ç°¡å˜è¨­è¨ˆã§ã™ã€‚\nãƒ‡ãƒ—ãƒ­ã‚¤ã¯ã€CodeCommit ã¸ã® push ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦ CodeBuild ã§ãƒ“ãƒ«ãƒ‰ã€S3 ã¸ãƒ‡ãƒ—ãƒ­ã‚¤ã€å®Œäº†å¾Œã«ã¯ Slack ã¸é€šçŸ¥ã€‚ã¨ã„ã†ã®ã‚’ CodePipeline ã§ã‚„ã£ã¦ã¾ã™ã€‚\nã‚ã¨ã€ãƒˆãƒƒãƒ”ãƒ³ã‚°ã®ãƒ‡ãƒ¼ã‚¿ã‚’ json ãƒ•ã‚¡ã‚¤ãƒ«ã§ä¿æŒã—ã¦ã„ã‚‹ã®ã§ã€ã‚³ã‚³ã‚¤ãƒã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒšãƒ¼ã‚¸ã‚’ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹ Lambda ã‚’å®šæœŸçš„ã«å®Ÿè¡Œã—ã¦ã€ã§ãã‚‹ã ã‘æœ€æ–°ã®ãƒ‡ãƒ¼ã‚¿ã§è¨ˆç®—ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nå›°ã£ãŸã¨ã“ã‚ Route53 + CloudFront ã§ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã¨ã“ã‚ã§å°‘ã—ã ã‘å›°ã‚Šã¾ã—ãŸã€‚\nCloudFront ã«ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®šã—ãŸç‹¬è‡ªã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚‰ã€Origin ã®ãƒã‚±ãƒƒãƒˆ URL ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹ã€‚ä»Šã¾ã§ãã‚“ãªã“ã¨ãªã‹ã£ãŸã®ã«ã€ãªã‚“ã‹è¨­å®šã®é †ç•ªã§ã‚‚é–“é•ãˆãŸï¼Ÿ\n\u0026mdash; ã‚ˆã£ã—ãƒ¼CBR789RR (@michimani210) May 16, 2019 çµæœçš„ã«æ™‚é–“ãŒè§£æ±ºã—ã¦ãã‚ŒãŸã‚“ã§ã™ãŒã€ CloudFront ã§æ–°ãŸã« Distribution ã‚’ä½œã£ãŸã¨ãã¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ Deployed ã«ãªã‚‹ã¾ã§ãŠã¨ãªã—ãå¾…ã¤ã¹ãã§ã™ã­ã€‚Route53 ã§ã® DNS è¨­å®šã¯ãã®ã‚ã¨ã«ã‚„ã£ãŸã»ã†ãŒè‰¯ã•ãã†ã§ã™ã€‚\nVue.js ã«ã¤ã„ã¦ã¯ã€ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã‚’è‰¯ã—ãªã«ã‚„ã£ã¦ãã‚Œã‚‹ã®ã§ãƒ“ãƒ¥ãƒ¼ã®çµ„ã¿ç«‹ã¦ãŒã‚ã¡ã‚ƒãã¡ã‚ƒç°¡å˜ã ãªã¨ã„ã†å°è±¡ã§ã™ã€‚\nãƒ­ã‚¸ãƒƒã‚¯è‡ªä½“ã¯ TypeScirpt ã§æ›¸ã‘ã‚‹ã®ã§æ–°ãŸã«è¦šãˆã‚‹ã“ã¨ã¯ãªã„ã§ã™ã—ã€ã“ã‚Œãã‚‰ã„ã®ã‚·ãƒ³ãƒ—ãƒ«ãªã‚‚ã®ã§ã‚ã‚Œã°å›°ã‚‹ã¨ã“ã‚ã¯ç„¡ã‹ã£ãŸã§ã™ã€‚\nã‚‚ã£ã¨è¤‡é›‘ãªã‚µãƒ¼ãƒ“ã‚¹ã«ãªã‚‹ã¨ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã¨ã‹ã‚’ã—ã£ã‹ã‚Šè€ƒãˆãªã„ã¨ãƒ€ãƒ¡ãªã‚“ã§ã—ã‚‡ã†ã­\u0026hellip;ã€‚ãã†ãªã‚‹ã¨å›°ã‚‹æ°—ãŒã—ã¦ã¾ã™ã€‚\nã¾ã¨ã‚ ã‚³ã‚³ã‚¤ãƒã®æ³¨æ–‡æ–™é‡‘ã‚’ç°¡å˜ã«è¨ˆç®—ã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ ã€Œ ã‚³ã‚³ã‚¤ãƒæ³¨æ–‡æ–™é‡‘ç°¡æ˜“ã‚«ãƒªã‚­ãƒ¥ãƒ¬ãƒ¼ã‚¿ ã€ ã‚’ãƒªãƒªãƒ¼ã‚¹ã—ãŸã¨ã„ã†è©±ã§ã—ãŸã€‚\nãœã²ä½¿ã£ã¦ã„ãŸã ã„ã¦ã€ã„ã‚ã‚“ãªã‚³ã‚³ã‚¤ãƒã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’æ¥½ã—ã‚“ã§ãã ã•ã„ï¼\n",
    "permalink": "https://michimani.net/post/programming-about-coco1-price-calculate-tool/",
    "title": "æ³¨æ–‡æ–¹æ³•ãŒã‚ã‹ã‚Šã«ãã„ã‚³ã‚³ã‚¤ãƒã®æ–™é‡‘ã‚’ç°¡å˜ã«è¨ˆç®—ã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚Šã¾ã—ãŸ"
  },
  {
    "contents": "Slack ã®ãƒ•ãƒªãƒ¼ãƒ—ãƒ©ãƒ³ã§ã¯é–²è¦§ãƒ»æ¤œç´¢ã§ãã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ä¸Šé™æ•°ãŒ 10,000 ä»¶ã¨ãªã£ã¦ãŠã‚Šã€ãã‚Œã‚’è¶…ãˆã‚‹ã¨ 10,000 ä»¶ä»¥ä¸Šå‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯é–²è¦§ãƒ»æ¤œç´¢ã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚\nãªã®ã§ã€ RSS ã®é€šçŸ¥å…ˆãƒãƒ£ãƒ³ãƒãƒ«ãªã©å¤ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯å‰Šé™¤ã—ã¦ã—ã¾ã£ã¦ã‚‚ã‚ˆã„å ´åˆã«ã€ Slack ã® API ã‚’ä½¿ã£ã¦è©²å½“ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä¸€æ‹¬ã§å‰Šé™¤ã™ã‚‹ã®ãŒç›®çš„ã§ã™ã€‚\nã‚„ã‚ŠãŸã„ã“ã¨ ç‰¹å®šã®ãƒãƒ£ãƒ³ãƒãƒ«ã§ã€ãƒã‚¹ãƒˆã•ã‚Œã¦ã‹ã‚‰ä¸€é€±é–“ä»¥ä¸ŠçµŒéã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‰Šé™¤ã™ã‚‹ AWS Lambda ã§å®šæœŸçš„ã«å‰Šé™¤å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ Runtime ã¯ Python 3ç³» å‡¦ç†ã®æµã‚Œ Slack API ã§ã€ãƒãƒ£ãƒ³ãƒãƒ«ã‚’æŒ‡å®šã—ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’è¦‹ã¦ã€ä¸€é€±é–“ä»¥ä¸ŠçµŒéã—ã¦ã„ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ Slack API ã§å‰Šé™¤ã™ã‚‹ ä»¥ä¸Šã§ã™ã€‚\nSlack ã® API ã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã«ã¯ã€ token ãŒå¿…è¦ãªã®ã§ã€ Legacy tokens ã‹ã‚‰ç”Ÿæˆãƒ»å–å¾—ã—ã¾ã™ã€‚xoxp-1111... ã¿ãŸã„ã‚„ãªã¤ã§ã™ã€‚\nä½¿ç”¨ã™ã‚‹ã®ã¯ã€ãƒãƒ£ãƒ³ãƒãƒ«å†…ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹ channels.history ã¨ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‰Šé™¤ã™ã‚‹ chat.delete ã§ã™ã€‚\nchannels.history method | Slack - Slack API chat.delete method | Slack - Slack API ãã‚Œãã‚Œã® API ã¯å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚‚å°‘ãªãã€ä½¿ã„æ–¹ã¯ã¨ã¦ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã§ã™ã€‚\nchannels.history ã®å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ token: Slack API ã® token ã§ã™ã€‚ channel: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã—ãŸã„ãƒãƒ£ãƒ³ãƒãƒ«ã® ãƒãƒ£ãƒ³ãƒãƒ« ID ã§ã™ã€‚ãƒãƒ£ãƒ³ãƒãƒ«åã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ chat.delete method token: Slack API ã® token ã§ã™ channel: å‰Šé™¤ã—ãŸã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒãƒã‚¹ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒãƒ£ãƒ³ãƒãƒ«ã® ãƒãƒ£ãƒ³ãƒãƒ« ID ã§ã™ã€‚ãƒãƒ£ãƒ³ãƒãƒ«åã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ ts : å‰Šé™¤ã—ãŸã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã§ã™ã€‚ channels.history ã®å–å¾—çµæœã«å«ã¾ã‚Œã¦ã„ã‚‹ã®ã§ãã®ã¾ã¾ä½¿ã„ã¾ã™ã€‚ ãƒãƒ£ãƒ³ãƒãƒ« ID ã®èª¿ã¹æ–¹ å„ API ã§ä½¿ç”¨ã™ã‚‹ãƒãƒ£ãƒ³ãƒãƒ« ID ã¯ã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç‰ˆã® Slack ã‚¢ãƒ—ãƒªã‹ã‚‰ç¢ºèªã—ã¾ã™ã€‚\nå·¦ã®ãƒãƒ£ãƒ³ãƒãƒ«ãƒªã‚¹ãƒˆã‹ã‚‰ ãƒãƒ£ãƒ³ãƒãƒ« ID ã‚’èª¿ã¹ãŸã„ãƒãƒ£ãƒ³ãƒãƒ«åã‚’å³ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ copy link ã‚’é¸æŠã—ã¾ã™ã€‚(æ—¥æœ¬èªåŒ–ã—ã¦ã„ã‚‹ã¨æ—¥æœ¬èªã«ãªã£ã¦ã¾ã™)\nã‚³ãƒ”ãƒ¼ã•ã‚ŒãŸãƒªãƒ³ã‚¯ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€æœ€å¾Œã®ãƒ‘ã‚¹éƒ¨åˆ†ã«ã‚ãŸã‚‹è‹±æ•°å­—ãŒãƒãƒ£ãƒ³ãƒãƒ« ID ã«ãªã‚Šã¾ã™ã€‚\nhttps://example.slack.com/messages/AAA123CCC ã‚½ãƒ¼ã‚¹ ã‚½ãƒ¼ã‚¹ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã€ Gist ã«ç½®ã„ã¦ã¾ã™ã€‚\nã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã§ã¯å‰Šé™¤å¯¾è±¡ã‚’ä¸€é€±é–“ä»¥ä¸Šå‰ã¨ã—ã¦ã„ã¾ã™ãŒã€ TERM ã®å€¤ã‚’å¤‰æ›´ã™ã‚Œã°ä»»æ„ã®æœŸé–“ã‚’æŒ‡å®šã§ãã¾ã™ã€‚\nAWS Lambda ã§å®Ÿè¡Œã™ã‚‹ Gist ã® readme ã«ã‚‚æ›¸ã„ã¦ã¾ã™ãŒã€ Lambda ã§å®Ÿè¡Œã™ã‚‹å ´åˆã¯ ã‚¤ãƒ™ãƒ³ãƒˆã¨ã—ã¦æ¬¡ã®ã‚ˆã†ãª JSON ã‚’æ¸¡ã—ã¾ã™ã€‚\n{ \u0026#34;target_ch_ids\u0026#34;: [ \u0026#34;CHANNEL_1\u0026#34;, \u0026#34;CHANNEL_2\u0026#34;, \u0026#34;CHANNEL_3\u0026#34; ] } CloudWatch Event ã§å®šæœŸå®Ÿè¡Œã™ã‚‹å ´åˆã‚‚ã€å…¥åŠ›ã®è¨­å®šã§ä¸Šã®ã‚ˆã†ãª JSON ãƒ†ã‚­ã‚¹ãƒˆã‚’æŒ‡å®šã—ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/programming-delete-old-slack-messages/",
    "title": "Slack API ã§ç‰¹å®šãƒãƒ£ãƒ³ãƒãƒ«ã®ä¸€å®šæœŸé–“ä»¥ä¸Šå‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‰Šé™¤ã™ã‚‹"
  },
  {
    "contents": "ã“ã‚Œã‚’æ›¸ã„ã¦ã‚‹æ™‚ç‚¹ (2019å¹´4æœˆ) ã§ã¯æœ€ã‚‚æ–°ã—ã„ãƒ¢ãƒ‡ãƒ«ã§ã‚ã‚‹ MacBook Pro 2018 ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ãƒãƒ£ã‚¿ãƒªãƒ³ã‚°ãŒç™ºç”Ÿã—ã¦ã—ã¾ã„ã¾ã—ãŸã€‚\nçµæœã¨ã—ã¦ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰éƒ¨åˆ†ã®äº¤æ›ã‚’ã—ã¦ã‚‚ã‚‰ã£ãŸã‚“ã§ã™ãŒã€ãã“ã«è‡³ã‚‹ã¾ã§ã®çµŒç·¯ã‚’æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nMacBook Pro ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å•é¡Œ MacBook Pro ã¯ 2016 å¹´ãƒ¢ãƒ‡ãƒ«ã‹ã‚‰ãƒã‚¿ãƒ•ãƒ©ã‚¤ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãŒæ¡ç”¨ã•ã‚Œã¾ã—ãŸãŒã€ãã‚Œä»¥é™ 2018 ãƒ¢ãƒ‡ãƒ«ã¾ã§ã«å‡ºãŸãƒ¢ãƒ‡ãƒ«ã«ã¦ã€ æŠ¼ã—ã¦ã‚‚åå¿œã—ãªã„ ã€ 1 å›æŠ¼ã—ãŸã ã‘ã§è¤‡æ•°å›å…¥åŠ›ã•ã‚Œã‚‹ ã¨ã„ã£ãŸä¸å…·åˆãŒã‚ã‚Šã¾ã—ãŸã€‚ç¾åœ¨ã¯ãã‚Œã‚‰ã®ãƒ¢ãƒ‡ãƒ«ã«å¯¾ã—ã¦ MacBook ãŠã‚ˆã³ MacBook Pro ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ä¿®ç†ãƒ—ãƒ­ã‚°ãƒ©ãƒ  ã¨ã—ã¦ç„¡å„Ÿã§ä¿®ç†å¯¾å¿œã—ã¦ã‚‚ã‚‰ãˆã¾ã™ã€‚å¯¾è±¡ã¯ä»¥ä¸‹ã®ãƒ¢ãƒ‡ãƒ«ã€‚\nMacBook (Retina, 12-Â­inch, Early 2015) MacBook (Retina, 12Â­-inch, Early 2016) MacBook (Retina, 12-Â­inch, 2017) MacBook Pro (13Â­-inch, 2016, Two Thunderbolt 3 Ports) MacBook Pro (13-Â­inch, 2017, Two Thunderbolt 3 Ports) MacBook Pro (13-Â­inch, 2016, Four Thunderbolt 3 Ports) MacBook Pro (13-Â­inch, 2017, Four Thunderbolt 3 Ports) MacBook Pro (15-Â­inch, 2016) MacBook Pro (15-Â­inch, 2017) ã‚‚ã—ä¸Šè¨˜ã®ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã£ã¦ã„ã¦ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã«ä½•ã‹ã—ã‚‰ã®ä¸å…·åˆãŒç™ºç”Ÿã—ã¦ã„ã‚‹å ´åˆã¯ã€ æœ€åˆã®å°å£²è²©å£²æ—¥ã‹ã‚‰ 4 å¹´ ã¾ã§ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å—ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nMacBook Pro 2018 ã§ã‚‚åŒæ§˜ã®ç—‡çŠ¶ãŒç™ºç”Ÿ 2017 ã¾ã§ã®ãƒ¢ãƒ‡ãƒ«ã§ä¸å…·åˆãŒå¤šã‹ã£ãŸãƒã‚¿ãƒ•ãƒ©ã‚¤ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ã™ãŒã€ 2018 ãƒ¢ãƒ‡ãƒ«ã§ã¯æ”¹å–„ãŒæ–½ã•ã‚Œã€ä¸å…·åˆã¯ç™ºç”Ÿã—ãªã„ã¨ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ã—ã‹ã—ã€ãƒãƒƒãƒˆä¸Šã§ã¯ 2018 ãƒ¢ãƒ‡ãƒ«ã§ã‚‚åŒã˜ã‚ˆã†ãªç—‡çŠ¶ãŒå‡ºã¦ã„ã‚‹ã¨å ±å‘Šã—ã¦ã„ã„ã‚‹äººãŒã„ã¦ã€ã•ã‚‰ã«ã¯ Apple ã®ã‚µãƒãƒ¼ãƒˆã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§ã‚‚ãã†ã„ã£ãŸå£°ãŒå‡ºã¦ã„ã¾ã—ãŸã€‚\nMacBook Pro 15\u0026amp;quot; (2018) Keyboard \u0026amp;ldquo;t\u0026amp;rdquo; key repeating issue? ã§ã€é‹æ‚ªãè‡ªåˆ†ã® MacBook Pro 2018 ã§ã‚‚ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ä¸å…·åˆãŒå‡ºã¦ã—ã¾ã„ã¾ã—ãŸã€‚\nå…·ä½“çš„ã«ã¯ã€ space ã‚­ãƒ¼ã§ãƒãƒ£ã‚¿ãƒªãƒ³ã‚°ãŒç™ºç”Ÿã—ã¦ã„ã¦ã€ 1 å›æŠ¼ã—ãŸã ã‘ã§ 2 å›åˆ†åå¿œã™ã‚‹ã¨ã„ã†çŠ¶æ…‹ã§ã—ãŸã€‚ã©ã®ã‚­ãƒ¼ã§ç™ºç”Ÿã™ã‚‹ã‹ã¯ç‰¹ã«æ±ºã¾ã£ã¦ã„ãªã„ã‚ˆã†ãªã®ã§ã™ãŒã€ space ã‚­ãƒ¼ã§ç™ºç”Ÿã™ã‚‹ã¨ã„ã†ãŒéå¸¸ã«å„ä»‹ã§ã—ãŸã€‚\næ—¥æœ¬èªå¤‰æ›ã§å¤‰æ›å¯¾è±¡ãŒæ­£ã—ãé¸ã¹ãªã„ã€åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ãŒé€£ç¶šã§å…¥ã‚‹ã€ã¨ã«ã‹ãä¸ä¾¿ã§ã—ãŸã€‚\nã¡ãªã¿ã«è³¼å…¥æ™‚æœŸã¯ 2018å¹´10æœˆ ã§ã€ç—‡çŠ¶ãŒå‡ºå§‹ã‚ãŸã®ã¯ 2019å¹´1æœˆé ƒã€‚ä»•äº‹ã§ä½¿ã£ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªãã€ãƒ–ãƒ­ã‚°æ›¸ã„ãŸã‚Šã¡ã‚‡ã£ã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒ æ›¸ã„ãŸã‚Šã™ã‚‹ãŸã‚ã«ä½¿ã£ã¦ã„ã‚‹ç¨‹åº¦ã§ã™ã€‚ã¾ãŸã€ãã®é–“ã€å¤–ã«æŒã¡å‡ºã—ã¦ä½¿ã†ã“ã¨ã‚‚ãªãã€ç‰©ç†çš„ãªè¡æ’ƒã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚\nç—‡çŠ¶ãŒç™ºç”Ÿã—ãŸ MacBook Pro MacBook Pro (13-inch, 2018) JIS ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ ã¨ã‚Šã‚ãˆãšè©¦ã—ãŸã“ã¨ ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®æ¸…æƒ ã¾ãšã¯ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã¨ãã®å‘¨è¾ºã®æ¸…æƒã§ã™ã€‚æ™®é€šã«ã‚¨ã‚¢ãƒ€ã‚¹ã‚¿ãƒ¼ã§æƒé™¤ã—ã¾ã™ã€‚\nâ†’ ç‰¹ã«åŠ¹æœãªã—ã€‚\nSMC ãƒªã‚»ãƒƒãƒˆ SMC ã¯ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®ã“ã¨ã§ã€ãŠã‚‚ã«é›»æºã¾ã‚ã‚Šã®å‡¦ç†ã‚’ã—ã¦ã„ã‚‹éƒ¨åˆ†ã§ã™ã€‚ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ä¿¡å·ã«ä¸å…·åˆãŒã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€ SMC ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦ã¿ã¾ã™ã€‚\nãƒªã‚»ãƒƒãƒˆæ‰‹é †ã¯ Mac ã® SMC (ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©) ã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹æ–¹æ³• ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nMacBook Pro 2018 ã®å ´åˆã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã‚’çµ‚äº†ã—ã¦ã€é›»æºãƒœã‚¿ãƒ³ã‚’ 10 ç§’ä»¥ä¸Šé•·æŠ¼ã—ã—ã¦ã€æ•°ç§’å¾…ã£ã¦ã€å†åº¦é›»æºã‚’ ON ã«ã™ã‚‹ ã¨ã„ã†æµã‚Œã§ã™ã€‚\nâ†’ ä¸€æ™‚çš„ã«åŠ¹æœãŒã‚ã£ãŸæ°—ã«ãªã‚‹ãŒã€ã—ã°ã‚‰ã (æ•°æ™‚é–“) ä½¿ã£ã¦ã„ã‚‹ã¨å†ç™ºã—ãŸã€‚\nNVRAM (PRAM) ãƒªã‚»ãƒƒãƒˆ NVRAM ã¯ã€ Mac ãŒã™ã°ã‚„ãèµ·å‹•ã—ãŸã‚Šå‹•ä½œã™ã‚‹ãŸã‚ã«è¨­å®šæƒ…å ±ãªã©ã‚’è¨˜æ†¶ã—ã¦ãŠããƒ¡ãƒ¢ãƒªã§ã™ã€‚ãŸã¶ã‚“ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨åŒã˜ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ãªã®ã§ã€ä¸€åº¦ãã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦ã¿ã‚‹æ„Ÿã˜ã§ã™ã€‚\nãƒªã‚»ãƒƒãƒˆæ‰‹é †ã¯ Mac ã§ NVRAM ã¾ãŸã¯ PRAM ã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹ ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nMacBook Pro 2018 ã ã¨é€”ä¸­ã§ãƒªãƒ³ã‚´ãƒãƒ¼ã‚¯ãŒå‡ºãŸã‚Šã—ã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšæ‰‹é †ã©ãŠã‚Šã«ã‚„ã‚Œã°å¤§ä¸ˆå¤«ã§ã™ã€‚\nâ†’ ä¸€æ™‚çš„ã«åŠ¹æœãŒã‚ã£ãŸæ°—ã«ãªã‚‹ãŒã€ã—ã°ã‚‰ã (æ•°æ™‚é–“) ä½¿ã£ã¦ã„ã‚‹ã¨å†ç™ºã—ãŸã€‚\nã‚»ãƒ¼ãƒ•ãƒ–ãƒ¼ãƒˆã§èµ·å‹•ã—ã¦ã¿ã‚‹ ã‚»ãƒ¼ãƒ•ãƒ–ãƒ¼ãƒˆã¯ã€ Mac ã®å‹•ä½œã«å¿…è¦ãªæœ€å°é™ã®è¨­å®šã®ã¿ã§èµ·å‹•ã—ã¾ã™ã€‚ã‚·ã‚¹ãƒ†ãƒ ä»¥å¤–ã®ãªã«ã‹ãŒåŸå› ã‹ã©ã†ã‹ã‚’åˆ‡ã‚Šåˆ†ã‘ã‚‹ãŸã‚ã«ã€ã‚»ãƒ¼ãƒ•ãƒ–ãƒ¼ãƒˆã§èµ·å‹•æ™‚ã«ã‚‚ç—‡çŠ¶ãŒå†ç¾ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚\nã‚»ãƒ¼ãƒ•ãƒ–ãƒ¼ãƒˆã®èµ·å‹•ã§é †ã«ã¤ã„ã¦ã¯ ã‚»ãƒ¼ãƒ•ãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦ Mac ã®å•é¡Œã‚’åˆ‡ã‚Šåˆ†ã‘ã‚‹ ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nâ†’ ç—‡çŠ¶ã¯å†ç¾ã—ãªã‹ã£ãŸã€‚ãŸã ã€æ“ä½œæ™‚é–“ãŒçŸ­ã„ãŸã‚ã‚ã¾ã‚Šå‚è€ƒã«ãªã‚‰ãªã„ï¼Ÿã¨ã„ã†æ„Ÿã˜ã€‚\nã¡ãªã¿ã«ã“ã® 4 é …ç›®ã¯ã€ Apple ã‚µãƒãƒ¼ãƒˆ ã¸é›»è©±ã§å•ã„åˆã‚ã›ãŸéš›ã«ã‚„ã£ã¦ã»ã—ã„ã¨ä¿ƒã•ã‚Œã‚‹ä½œæ¥­å†…å®¹ã§ã™ã€‚ãªã®ã§ã€ã‚µãƒãƒ¼ãƒˆã«é€£çµ¡ã™ã‚‹ã®ãŒé¢å€’ã€æ™‚é–“ãŒã‚‚ã£ãŸã„ãªã„å ´åˆã¯ã€ä¸Šè¨˜ã®é …ç›®ã‚’å„è‡ªã§ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã‚‹ã®ãŒè‰¯ã•ãã†ã§ã™ã€‚\nGenius Bar ã¸ çµå±€è§£æ±ºã«ã¯è‡³ã‚‰ãªã‹ã£ãŸã®ã§ã€ Genius Bar ã¸æŒã£ã¦ã„ãã“ã¨ã«ã—ã¾ã—ãŸã€‚Genius Bar ã‚’äºˆç´„ã™ã‚‹éš›ã«ã¯ã€ä¸Šã§æ›¸ã„ãŸé …ç›®ã‚’æ—¢ã«ãƒã‚§ãƒƒã‚¯æ¸ˆã¿ã§ã‚ã‚‹ã“ã¨ã‚’æ›¸ã„ã¦ãŠãã¨ã‚¹ãƒ ãƒ¼ã‚ºã«è©±ãŒé€²ã¿ã¾ã™ã€‚\nã¾ãŸã€æŒã£ã¦ã„ãç›´å‰ã«ã‚‚ç—‡çŠ¶ãŒå†ç¾ã™ã‚‹ã“ã¨ã‚’ä¸€å¿œç¢ºèªã—ã¦ãŠãã¾ã™ã€‚\nGenius Bar ã«æŒã£ã¦ã„ãã¨ã€ã¾ãšã¯ç—‡çŠ¶ã®ç¢ºèªã¨ã“ã‚Œã¾ã§ã®å–ã£ãŸå¯¾å‡¦æ–¹æ³•ã«ã¤ã„ã¦èã‹ã‚Œã¾ã™ã€‚ãã®å¾Œå®Ÿéš›ã«ãã®å ´ã§ç—‡çŠ¶ãŒå†ç¾ã§ãã‚‹ã‹ç¢ºèªã™ã‚‹ã®ã§ã™ãŒ\u0026hellip;ã“ã†ã„ã†ã¨ãã«é™ã£ã¦å†ç¾ã—ãªã„ã‚“ã§ã™ã‚ˆã­ã€‚è¾›ã„ã€‚\nã“ã®ã¾ã¾ã ã¨ã€ã¨ã‚Šã‚ãˆãšé ã‹ã£ã¦ã€ã¨ã‚Šã‚ãˆãšéƒ¨å“äº¤æ›ã—ã¦ã€ã¨ã‚Šã‚ãˆãšã‚¯ãƒªãƒ¼ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠè¿”ã—ã™ã‚‹æ„Ÿã˜ã«ãªã‚Šã¾ã™ ã¨è¨€ã‚ã‚ŒãªãŒã‚‰ã‚‚ã²ãŸã™ã‚‰å†ç¾ã‚’è©¦ã¿ã¾ã™ã€‚\nçµå±€ã€æ•°å›ã¯ç—‡çŠ¶ãŒå†ç¾ã§ããŸã®ã§ã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã¾ã‚ã‚Šã®éƒ¨å“äº¤æ›ã‚’ã—ã¦ã‚‚ã‚‰ã†ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚\néƒ¨åˆ†äº¤æ›ã®ã¿ãªã®ã§ãƒ‡ãƒ¼ã‚¿ã¯ãã®ã¾ã¾ã§ã™ãŒã€ ä¿®ç†å¾Œã®ç·åˆãƒã‚§ãƒƒã‚¯ã§ãªã«ã‹å•é¡ŒãŒã‚ã‚Œã°ã‚¯ãƒªãƒ¼ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã¨ã®ã“ã¨ã§ã—ãŸã€‚ã¾ã‚ã€ãã®ã‚ãŸã‚Šã¯ä»•æ–¹ãªã„ã§ã™ã­ã€‚\nä¸Šã«ã‚‚æ›¸ã„ãŸã¨ãŠã‚Šã€ä»•äº‹ã§ä½¿ã£ã¦ã‚‹ã‚ã‘ã§ã‚‚ãªãã€ä»£æ›¿ã® PC ãŒãªã„ã‚ã‘ã§ã‚‚ãªã„ã®ã§ãã®å ´ã§ãŠé ã‘ã€‚ 1 é€±é–“ + Î± ã‹ã‹ã‚‹ã¨ã®ã“ã¨ã§ã—ãŸã€‚\nã¡ã‚‡ã†ã©ä¸€é€±é–“å¾Œã«è¿”ã£ã¦ããŸ ã¡ã‚‡ã†ã©ä¸€é€±é–“å¾Œã«ä¿®ç†å®Œäº†ãƒ¡ãƒ¼ãƒ«ãŒå±Šã„ãŸã®ã§ã€ã•ã£ããå—ã‘å–ã£ã¦ãã¾ã—ãŸã€‚\nä¿®ç†ãƒ»äº¤æ›éƒ¨å“ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\nBottom Case, Space Gray Top Case with Battery, Space Gray, JIS, Japanese Hardware Repair Labor FLAT RATE, RETAIL, TOP CASE MBP 13 ä¸‹ã® 2 ã¤ã¯å·¥è³ƒçš„ãªã‚‚ã®ãªã®ã§ã€éƒ¨å“ã¨ã—ã¦ã¯ä¸Šã® 2 ã¤ã§ã™ã€‚\nãƒ¡ã‚¤ãƒ³ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰éƒ¨åˆ† (Top Case) ã¨ã€Bottom Case ã‚‚äº¤æ›ã•ã‚ŒãŸã‚ˆã†ã§ã™ã€‚\nã¨ã‚Šã‚ãˆãšè§¦ã£ãŸæ„Ÿã˜ã§ã¯ã€ã‚­ãƒ¼ã®ã‚¿ãƒƒãƒæ„ŸãŒå°‘ã—å¤‰ã‚ã‚Šã¾ã—ãŸã€‚å¤‰ã‚ã‚‰ãªã„ã¯ãšãªã‚“ã§ã™ãŒã€‚\nç—‡çŠ¶ã‚‚ä»Šã®ã¨ã“ã‚ã¯å‡ºã¦ã„ã¾ã›ã‚“ã€‚\nå†ç™ºã—ãªã„ã“ã¨ã‚’ç¥ˆã‚‹ã®ã¿ã§ã™ã€‚\nMacBook Pro 2018 ã§ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ä¸å…·åˆãŒèµ·ã“ã£ãŸã‚‰ 2018 ãƒ¢ãƒ‡ãƒ«ã§ã¯å¯¾ç­–ã•ã‚ŒãŸã¨ã„ã†ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å•é¡Œã§ã™ãŒã€ä¸€éƒ¨ã®ãƒ¦ãƒ¼ã‚¶ã«ã¯å½±éŸ¿ãŒå‡ºã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚\n1 å¹´ä»¥å†…ã§ã‚ã‚Œã°è£½å“ä¿è¨¼å¯¾è±¡ãªã®ã§ã€ä¸å…·åˆã‚’æ„Ÿã˜ãŸå ´åˆã¯æ—©ã‚ã« Apple ã‚µãƒãƒ¼ãƒˆã€ Genius Bar ã¸è¡Œãã®ãŒã‚ˆã•ãã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/gadget-macbookpro2018-keyboard-problem/",
    "title": "MacBook Pro 2018 ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ãƒãƒ£ã‚¿ãƒªãƒ³ã‚°ãŒç™ºç”Ÿã—ãŸã®ã§äº¤æ›ã—ã¦ã‚‚ã‚‰ã£ãŸè©±"
  },
  {
    "contents": "3/29 (é‡‘) ã€œ 3/31 (æ—¥) ã¾ã§ ç·´é¦¬åŒºç«‹åŒºæ°‘ãƒ»ç”£æ¥­ãƒ—ãƒ©ã‚¶ Coconeriãƒ›ãƒ¼ãƒ« ã§é–‹å‚¬ã•ã‚Œã¦ã„ãŸ PHPerKaigi 2019 ã«è¡Œã£ã¦ããŸã®ã§ã€ãã®ãƒ¬ãƒãƒ¼ãƒˆã§ã™ã€‚\n1 æ—¥ç›®ã® ãƒ¬ãƒãƒ¼ãƒˆã¯ã“ã¡ã‚‰ã§ã™ã€‚\nã€3/31 (æ—¥)ã€‘ 2æ—¥ç›® ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ¬ãƒãƒ¼ãƒˆ 1æ—¥ç›® ã¨åŒæ§˜ã«ã€2æ—¥ç›®ã«å®Ÿæ–½ã•ã‚ŒãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒ¬ãƒãƒ¼ãƒˆã‚’ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®æ¦‚è¦ã¨ã€ä¸€è¨€æ„Ÿæƒ³ãã‚‰ã„ã§æ›¸ã„ã¦ã„ãã¾ã™ã€‚\n10:25 #a ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã«ãªã„å¼•æ•°ã‚’ä¸ãˆã‚‹ã¨ã©ã†ãªã‚‹ï¼Ÿphp-srcã¸ã®ãƒã‚°å ±å‘Šã‚’ã—ãŸæ™‚ã®è©± å¼•æ•°ã®ãƒ‡ãƒ¼ã‚¿å‹ã‚’é–“é•ãˆã‚‹ã¨ NULL ãŒè¿”ã£ã¦ãã‚‹ã€‚ strlen(array()), mb_strlen(array()) ã§ã¯ è¿”ã‚Šå€¤ãŒé•ã† mbstring é–¢æ•°ã§ã¯é•ã„ãŒã‚ã‚‹ mb_check_encoding() ã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚ˆã£ã¦ã€å¼•æ•°ã«é…åˆ—ã‚’ä¸ãˆãŸå ´åˆã®è¿”ã‚Šå€¤ãŒå¤§ããé•ã† PHP ã«å¯¾ã™ã‚‹ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆ ç°¡æ½”ã«ã€è‹±èªã§æ›¸ã å†ç¾æ–¹æ³•ã‚’è©³ç´°ã«æ›¸ã ä»Šå›ã®å ´åˆã€å¼•æ•°ã«ç©ºã®é…åˆ—ã‚’ä¸ãˆã‚‹ã®ã‹ã€ç©ºã§ãªã„é…åˆ—ã‚’ä¸ãˆã‚‹ã®ã‹ã€ãªã© å¤šãã®äººãŒä½¿ã†è¨€èªã¸ã®ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆã¯å…¨ä¸–ç•Œã«å½±éŸ¿ã‚’ä¸ãˆã¦ã„ã‚‹ã‚ˆã†ãªæ„Ÿã˜ã§å‹•æºã™ã‚‹ ç§ã‚‚ GitHub ã§å…¬é–‹ã•ã‚Œã‚‹ OSS ã« PL ã‚’é€ã£ã¦ãƒãƒ¼ã‚¸ã•ã‚ŒãŸçµŒé¨“ãŒã‚ã‚Šã¾ã™ãŒã€ã‚„ã£ã±ã‚Šå¤šãã®äººã«ä½¿ã‚ã‚Œã¦ã„ã‚‹ã‚‚ã®ã«è²¢çŒ®ã§ãã‚‹ã®ã¯å‡„ãå¬‰ã—ã•ãŒã‚ã‚Šã¾ã™ã€‚ãã‚ŒãŒ PHP ã®ã‚ˆã†ãªåˆ©ç”¨è€…ãŒéå¸¸ã«å¤šã„è¨€èªã¨ãªã‚‹ã¨ã€ãã®å¬‰ã—ã•ã¯ã•ã‚‰ã«å¤§ãã„ã§ã—ã‚‡ã†ã—ã€å‹•æºã‚‚ã™ã‚‹ã¨æ€ã„ã¾ã™ã€‚ã“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã¯ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆæ™‚ã«ãƒã‚§ãƒƒã‚¯ã™ã¹ãé …ç›®ã€ãŸã¨ãˆã°å†ç¾æ–¹æ³•ã§ã¯ã€Œã“ã®å ´åˆã§ã¯èµ·ã“ã‚‹ã‘ã©ã€ã“ã®å ´åˆã§ã¯èµ·ã“ã‚‰ãªã„ã€ã¿ãŸã„ãªã“ã¨ã‚’æ¼ã‚Œãªãæ›¸ãã€ä¸­ã®äººãŒã‚ã‹ã‚Šã‚„ã™ã„ã‚ˆã†ã«æ›¸ãã“ã¨ã«é–¢ã—ã¦å‚è€ƒã«ãªã‚‹éƒ¨åˆ†ãŒå¤šã‹ã£ãŸã§ã™ã€‚\nPHP ã«é™ã‚‰ãšä½•ã‹ã—ã‚‰ã®ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆã‚’ã™ã‚‹éš›ã®å‚è€ƒã«ã§ãã‚‹ã¨æ€ã„ã¾ã™ã€‚\n10:50 #a PHPã§URLãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ã¤ãã‚‹ Router ã¨ã¯ ãƒ‘ã‚¹éƒ¨åˆ†ã®ãƒ‘ãƒ¼ã‚¹ æ­£è¦è¡¨ç¾ æ–‡å­—åˆ—æ¢ç´¢ Router ã® I/O inpute path method routing definition output path method Routing map ã®ç”Ÿæˆ Path ã®éšå±¤ã¯æœ¨æ§‹é€  è‡ªä½œã® Router https://github.com/bmf-san/ahi-router/blob/master/src/Router.php æ­£è¦è¡¨ç¾ã‚’ä½¿ã‚ãªã„ æ–‡å­—åˆ—ã‚’ 1 æ–‡å­—ãšã¤æ¢ç´¢ã—ã¦ã„ã æœ¨æ§‹é€ ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å‹‰å¼·ãŒå¿…è¦ Router ã‚’ä½œã‚‹ã¨ã„ã†ã®ã¯æƒ³åƒã—ãŸã“ã¨ãŒãªã‹ã£ãŸã®ã§ã€ã¨ã¦ã‚‚é¢ç™½ã‹ã£ãŸã§ã™ã€‚Router ã£ã¦ä»•çµ„ã¿ã¨ã—ã¦ã¯ URL ã® path ã¨ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã‚’çµã³ã¤ã‘ã‚‹ ã£ã¦ã„ã†å˜ç´”ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ãŒã€ãã® path ã®æ¢ç´¢ã‚’åŠ¹ç‡ã‚ˆãè¡Œã†ãŸã‚ã«ã¯ã«ã¯æœ¨æ§‹é€ ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã‚Šã€çªãè©°ã‚ã‚‹ã¨æ·±ã„ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚æœ€è¿‘ã¯ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æ›¸ãã«éš›ã—ã¦ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨ã‹æ•°å­¦çš„ãªçŸ¥è­˜ã‚‚å¿…è¦ã‹ãªã¨æ€ã£ã¦ã„ãŸã¨ã“ã‚ãªã®ã§ã€ã‚„ã£ã±ã‚Šãã†ã„ã£ãŸå†…å®¹ã®å‹‰å¼·ã¯å¿…è¦ãªã‚“ã ã¨å†ç¢ºèªã—ã¾ã—ãŸã€‚\n11:25 #a Hack HTTP Request and Response Interfaces HHVM and Hack Documentation Hack ã¨ã¯ é­”æ”¹é€ ã•ã‚ŒãŸPHP (æ˜”) PHP ã®ã‚³ãƒ¼ãƒ‰ã¯ã»ã¨ã‚“ã©å‹•ã‹ãªã„ (ä»Š) ã¾ã ã¡ã‚‡ã£ã¨å‹•ã å°‘ã—ãšã¤æ©Ÿèƒ½å‰Šé™¤ã•ã‚Œã¦ã„ã‚‹ PHP-FIG PSR-* Hack ã§ PHP PHP ã®å‹ã¨ Hack ã®å‹ã¯åˆ¥ç‰© hhi ãƒ•ã‚¡ã‚¤ãƒ« (å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«) ä»Šå¾Œ HHVM ã§ composer ãŒä½¿ãˆãªããªã‚‹ Hack å°‚ç”¨ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒã§ãã‚‹ ã€ŒHack ã¨ã¯ãªã‚“ãã‚„ï¼Ÿã€ã¨ã„ã†ã“ã¨ã§ã“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’è´ã„ã¦ã¿ã¾ã—ãŸã€‚è´ã„ãŸçµæœã€ ãªã‚“ã‹ PHP ã£ã½ã„ã‘ã© PHP ã¨å¯¾ç«‹ã—ã¦ã‚‹è¨€èª ã¨ã„ã†ã“ã¨ã¯ã‚ã‹ã‚Šã¾ã—ãŸã€‚(ã‚ã‚“ã¾ã‚Šã‚ã‹ã£ã¦ãªã„)\nã¨ã‚Šã‚ãˆãšè¨€èªã®é–‹ç™ºè€…ã‚’å‹Ÿé›†ã—ã¦ã„ã‚‹ã‚‰ã—ã„ã®ã§ã€æ°—ã«ãªã‚‹æ–¹ã¯ç™ºè¡¨è€…ã® @ex_takezawa ã•ã‚“ã«ã‚³ãƒ³ã‚¿ã‚¯ãƒˆã‚’å–ã£ã¦ã¿ã¦ã¯ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚PHP ã£ã½ã„ã‘ã© PHP ã˜ã‚ƒãªã„ã€ãƒã‚¤ãƒŠãƒ¼ãªè¨€èªã¨ã„ã†ã“ã¨ã§ä»Šå¾Œã®æ¥½ã—ã•ãŒã‚ã‚Šãã†ã ãªã¨æ€ã„ã¾ã—ãŸã€‚\n12:20 #a ãƒ©ãƒ³ãƒã‚»ãƒƒã‚·ãƒ§ãƒ³ PHPerKaigi 2019 ã® Diamond Sponsor ã§ã‚ã‚‹ æ ªå¼ä¼šç¤¾ãƒ¡ãƒ«ã‚«ãƒª ã® @hidenorigoto ã•ã‚“ã«ã‚ˆã‚‹ãƒ©ãƒ³ãƒã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã—ãŸã€‚\nãƒ¡ãƒ«ã‚«ãƒªã®ãƒãƒªãƒ¥ãƒ¼ã«ã¤ã„ã¦ã®è©±ã‹ã‚‰å§‹ã¾ã‚Šã€å¾ŒåŠã¯ è¦–ç‚¹ ã¨ è¦–é‡ ã¨ è¦–åº§ ã®é•ã„ã®è©±ã§ã—ãŸã€‚è¦–(ç‚¹|é‡|åº§) ã®è©±ã¯éå¸¸ã«ã‚ã‹ã‚Šã‚„ã™ãã¦é¢ç™½ã‹ã£ãŸã§ã™ã€‚\nã¾ãŸã€æœ€å¾Œã«ã‚ã£ãŸ ã€å¤‰åŒ–ã®ã‚ã‚‹ç’°å¢ƒã«èº«ã‚’ç½®ãã€é£›ã³è¾¼ã‚€ã€ã¨ã„ã†è©±ã¯ã¨ã¦ã‚‚å¤§äº‹ãªã“ã¨ã ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚Q\u0026amp;A ã‚¿ã‚¤ãƒ ã§ã‚ã£ãŸã€Œè»¢è·ã‚’è€ƒãˆã‚‹ãã£ã‹ã‘ã¯ï¼Ÿã€ã¨ã„ã£ãŸè¶£æ—¨ã®è³ªå•ã«å¯¾ã™ã‚‹ã“ãŸãˆã‚‚å‡„ãè‰¯ãã¦ã€ãã®æ™‚ã€…ã§é‡è¦è¦–ã™ã‚‹ã“ã¨ãŒå¤‰ã‚ã‚‹ (å®¶æ—ã¨ã®æ™‚é–“ã‚’å¤§åˆ‡ã«ã—ãŸã„ã€ãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ³ã‚°ãªç’°å¢ƒã«èº«ã‚’ç½®ããŸã„ ãªã©) ã¨ã„ã†ã®ã‚’èã„ã¦ ãªã‚‹ã»ã©ãªã¨æ€ã„ã¾ã—ãŸã€‚\nã¡ãªã¿ã« 2 æ—¥ç›® ã¯ ç„¡äº‹ã«ãƒ©ãƒ³ãƒãƒã‚±ãƒƒãƒˆã‚’ã‚²ãƒƒãƒˆã§ããŸã®ã§ã€ç¾å‘³ã—ã„ãŠå¼å½“ã‚’ã„ãŸã ãã“ã¨ãŒå‡ºæ¥ã¾ã—ãŸã€‚\n13:30 #b ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã‹ã‚‰å­¦ã¶ã€RDBã®æ­£ã—ã„è¨­è¨ˆ ä»–äººã®å¤±æ•—ã‚’çŸ¥ã‚‹ ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ä¾å­˜ç—‡ æ©æµã¨åˆ¶ç´„ ç‰¹ã«é¡•è‘—ãªåˆ¶ç´„ã¯ ORM ORM ã¯æ¼ã‚Œã®ã‚ã‚‹æŠ½è±¡åŒ– åˆ¶ç´„ã¨è¦ç´„ Active Record ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯è‰¯ããªã„ (View ã¨ Model ãŒ 1å¯¾1) ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ ORM ã¯çµ¶å¯¾æ‚ªã§ã¯ãªã„ ãƒªãƒã‚¸ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ ã‚µãƒ¼ãƒ“ã‚¹ã€ãƒ‡ãƒ¼ã‚¿ã€ãƒªãƒã‚¸ãƒˆãƒª ãƒªãƒã‚¸ãƒˆãƒªçµŒç”±ã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ ãƒªãƒã‚¸ãƒˆãƒªã¯ DBã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€WebAPI ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—ã™ã‚‹ çŸ¥ã‚‰ãªã„ãƒ­ãƒƒã‚¯ RDBMS ã®ä»•äº‹ã¯ãƒ‡ãƒ¼ã‚¿ã‚’å®ˆã‚‹ã“ã¨ (æ­£ã—ãå–å¾—ã€æ­£ã—ãä¿å­˜) ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹ã ã‘ãªã‚‰ S3 ã§ã„ã„ æš—é»™çš„ãƒ­ãƒƒã‚¯ INSERT \u0026hellip; SELECT æ–‡ ã‚®ãƒ£ãƒƒãƒ—ãƒ­ãƒƒã‚¯ã€ãƒã‚¯ã‚¹ãƒˆã‚­ãƒ¼ãƒ­ãƒƒã‚¯ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¸­æ¯’ åŠ‡çš„ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š ã‚·ã‚¹ãƒ†ãƒ ã®è¤‡é›‘åº¦ãŒä¸ŠãŒã‚‹ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒé›£ã—ããªã‚‹ ã‚¯ã‚¨ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ ãƒãƒ†ãƒªã‚¢ãƒ©ã‚¤ã‚ºãƒ‰ãƒ»ãƒ“ãƒ¥ãƒ¼ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥ ãƒ†ã‚¹ãƒˆã‚„ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ãŒé›£ã—ã„ äº‹æ•…ã‚’é˜²ãã«ãã„ ãã®ãã›ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒçµ¡ã‚€ãƒˆãƒ©ãƒ–ãƒ«ã¯ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ« ãƒ’ãƒƒãƒˆç‡ã€æ›´æ–°é »åº¦ æœ€åˆã‹ã‚‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚ã‚Šãã®è¨­è¨ˆã«ã—ãªã„ ã¾ã¨ã‚ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å¯¿å‘½ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å¯¿å‘½ã‚ˆã‚Šé•·ã„ ã€Œå¤±æ•—ã‹ã‚‰å­¦ã¶RDBã®æ­£ã—ã„æ­©ãæ–¹ã€ã‚’è²·ãŠã† ã€Œã™ã¹ã¦ã¯æœ¬ã«æ›¸ã„ã¦ã‚ã‚Šã¾ã™ï¼ã€ ã¨ã„ã†ã“ã¨ã ã£ãŸã®ã§ã€ç§ã‚‚ å¤±æ•—ã‹ã‚‰å­¦ã¶RDBã®æ­£ã—ã„æ­©ãæ–¹ (Software Design plus) ã‚’è²·ãŠã†ã¨æ€ã„ã¾ã™ã€‚(å˜ç´”)\nã¨ã¯ã„ãˆã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å†…å®¹ã ã‘ã§ã‚‚å‡„ãé¢ç™½ã„å†…å®¹ã§ã€ RDB ã‚’ä½¿ã†ä¸Šã§ã®ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã€æ­£ã—ã„è¨­è¨ˆæ–¹æ³•ã«ã¤ã„ã¦ã®æ„è­˜æ”¹é©ã«ãªã‚Šã¾ã—ãŸã€‚ç‰¹ã«å°è±¡çš„ã ã£ãŸã®ã¯ã€Œã§ãã‚‹ã“ã¨ã‹ã‚‰ã‚„ã‚ã†ã€ã¨ã„ã†ã“ã¨ã§ã™ã€‚ DB ã¾ã‚ã‚Šã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã«ã¯çµæ§‹ãªåŠ´åŠ›ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€æ—¢å­˜ã®ã‚µãƒ¼ãƒ“ã‚¹ã«æ‰‹ã‚’åŠ ãˆã‚‹ãªã‚‰ã€ã¾ãšã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å´ã§ã©ã†ã«ã‹ã§ããªã„ã‹ã‚’è€ƒãˆã¦ã¿ã‚‹ ã¨ã„ã†ã“ã¨ã§ã™ã€‚\n14:15 #a PHPç›£è¦–ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚’å®ˆã‚‹ç‚ºã«è¡Œã†ä¸æ¸¬ã®äº‹æ…‹ã¸ã®åŠªåŠ› ç™»å£‡ã‚¹ãƒ©ã‚¤ãƒ‰ \u0026raquo; PHPç›£è¦–ã‚µãƒ¼ãƒ“ã‚¹ã‚’å®ˆã‚‹ç‚ºã«è¡Œã†ä¸æ¸¬ã®äº‹æ…‹ã¸ã®åŠªåŠ› SLA 100% ã¯å¹»æƒ³ What, Why, How é›°å›²æ°—ã§ç›£è¦–ã—ãªã„ ãƒ¦ãƒ¼ã‚¶ç›®ç·šã§ã®ç›£è¦– ãƒ¦ãƒ¼ã‚¶ã®ç›®çš„ã‚’æŠŠæ¡ã™ã‚‹ æ­»æ´»ç›£è¦– HTTP ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ ãƒ¬ã‚¤ãƒ†ãƒ³ã‚· ç‹¬è‡ªã§ç›£è¦–ãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚‹ (ã‚ãˆã¦ã®ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³) faultline æœ€é€Ÿã§ã®å¾©å¸°ã‚’æ”¯æ´ FictionBase faultline ã§ç›£è¦–ã§ããªã„ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®ç›£è¦– æ˜¨å¹´æœ«è¾ºã‚Šã‹ã‚‰ä¸€ä¸–ã‚’é¢¨é¡ã—ãŸ(?) ã€å…¥é–€ ç›£è¦–ã€ ã®ãƒã‚¤ãƒ³ãƒˆã‚’æŠ‘ãˆãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã—ãŸã€‚ç§ã‚‚ å…¥é–€ç›£è¦– ã¯èª­ã‚“ã ã®ã§ã€ãã®å†…å®¹ã®å¾©ç¿’ãŒã§ããŸã‚ˆã†ãªæ„Ÿã˜ã§è‰¯ã‹ã£ãŸã§ã™ã€‚å…¥é–€ç›£è¦– ã‚’èª­ã‚“ã§ã‹ã‚‰å®Ÿéš›ã«æ¥­å‹™ã§æºã‚ã£ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®ç›£è¦–æ–¹æ³•ã‚‚å°‘ã—å¤‰æ›´ã—ãŸã‚Šã—ã¦ã„ã‚‹ã®ã§ã€ç›£è¦–ãƒ„ãƒ¼ãƒ«ã«ã¤ã„ã¦ã¯ä»Šå¾Œã‚‚ãƒã‚§ãƒƒã‚¯ã—ã¦ã€ã©ã®ãƒ„ãƒ¼ãƒ«ã§ä½•ãŒå‡ºæ¥ã¦ä½•ãŒå‡ºæ¥ãªã„ã®ã‹ã€ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«é©ã—ãŸãƒ„ãƒ¼ãƒ«ã¯ä½•ãªã®ã‹ã€ã¨ã„ã£ãŸã“ã¨ã‚’åŸå‘³ã§ãã‚‹ã‚ˆã†ã«ãªã‚Œã‚Œã°è‰¯ã„ãªã¨æ€ã„ã¾ã—ãŸã€‚\nPHPer Challenge ä»Šå›ã® PHPerKaigi ã§ã¯ã€ PHPer Challenge ã¨ã„ã†ã‚²ãƒ¼ãƒ ãŒè£ã§ (è¡¨ã§ï¼Ÿ) åŒæ™‚ã«é–‹å‚¬ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ã‚²ãƒ¼ãƒ ã®æ¦‚è¦ã¨ã—ã¦ã¯ã€ã‚¤ãƒ™ãƒ³ãƒˆã®ã‚µã‚¤ãƒˆã€ã‚¹ãƒãƒ³ã‚µãƒ¼å„ç¤¾ã®ãƒ–ãƒ­ã‚°ã€ä¼šå ´å†…ã®æ²ç¤ºç‰©ã€ãƒãƒ™ãƒ«ãƒ†ã‚£ãªã©ãªã©ã«éš ã•ã‚ŒãŸ ã€Œ\u0026quot;#\u0026quot; ã‹ã‚‰ã¯ã˜ã¾ã‚‹æ–‡å­—åˆ—ã€ = ã€ŒPHPer ãƒˆãƒ¼ã‚¯ãƒ³ã€ ã‚’ã©ã‚Œã ã‘ãŸãã•ã‚“è¦‹ã¤ã‘ã‚‰ã‚Œã‚‹ã‹ ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚æ–‡å­—åˆ—ã‚’ã¿ã¤ã‘ãŸã‚‰ã€å°‚ç”¨ã®ã‚µã‚¤ãƒˆã«é€ä¿¡ã™ã‚‹ã“ã¨ã§ãƒã‚¤ãƒ³ãƒˆãŒè²°ãˆã¦ã€æœ€çµ‚çš„ã«ç²å¾—ã—ãŸãƒã‚¤ãƒ³ãƒˆã§é †ä½ã‚’ç«¶ã†ã¨ã„ã†ã‚²ãƒ¼ãƒ ã§ã—ãŸã€‚\nPHPer ãƒˆãƒ¼ã‚¯ãƒ³ ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹å ´æ‰€ã®ä¾‹ã¨ã—ã¦ã¯ã€ä¸Šã«æ›¸ã„ãŸã‚‚ã®ä»¥å¤–ã«ã¯ã€ç™»å£‡è€…ã®ã‚¹ãƒ©ã‚¤ãƒ‰å†…ã‚„ã€çªç™ºçš„ãª LT ã§ä½¿ç”¨ã•ã‚ŒãŸãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ã ã£ãŸã‚Šã€ã‚‚ã†ã„ã‚ã‚“ãªã¨ã“ã‚ã«å­˜åœ¨ã—ã¦ã¾ã—ãŸã€‚ã¾ãŸã€ã¡ãªã¿ã«å„ãƒˆãƒ¼ã‚¯ãƒ³ã¯ 100 ã€œ 2000 pt ã§ã€æœ€åˆã«è¦‹ã¤ã‘ãŸäººã‹ã‚‰å°‘ã—ãšã¤ãƒã‚¤ãƒ³ãƒˆãŒæ¸›å°‘ã—ã¦ã„ã ã¨ã„ã£ãŸã‚·ã‚¹ãƒ†ãƒ ã ã£ãŸã‚ˆã†ã§ã™ã€‚ãªã®ã§ã€åŒã˜ãƒˆãƒ¼ã‚¯ãƒ³ã§ã‚‚æœ€åˆã«è¦‹ã¤ã‘ãŸäººã®ã»ã†ãŒãƒã‚¤ãƒ³ãƒˆãŒé«˜ã„ã¨ã„ã†ã“ã¨ã§ã™ã€‚\nã¾ãŸã€Œå¾³ä¸¸æµ©ã®æŒ‘æˆ¦çŠ¶ã€ã¨é¡Œã—ã¦ã€å¾³ä¸¸å…ˆç”ŸãŒç”¨æ„ã—ãŸ è„†å¼±æ€§ã‚’æŒã£ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ã®è„†å¼±æ€§ã‚’çªãã“ã¨ã§å¾—ã‚‰ã‚Œã‚‹ PHPer ãƒˆãƒ¼ã‚¯ãƒ³ã¨ã„ã†ã®ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚ã“ã‚Œã«é–¢ã—ã¦ã¯ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è„†å¼±æ€§ã®å‹‰å¼·ã«ã‚‚ãªã£ã¦ã€å˜ãªã‚‹å®æ¢ã—ã‚²ãƒ¼ãƒ ã®åŸŸã‚’è¶…ãˆãŸã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã£ã½ã„ã‚²ãƒ¼ãƒ ã«ãªã£ã¦ã¾ã—ãŸã€‚\nã§ã€æœ€çµ‚çš„ã«ç§ã®é †ä½ã¯ã©ã†ã ã£ãŸã‹ã¨ã„ã†ã¨\u0008\u0026hellip;ã€‚\nç‹™ã£ã¦ãªã‹ã£ãŸã‚‚ã®ã®ã€é †ä½ã¯ã‚¾ãƒ­ç›®ã«ãªã‚Šã¾ã—ãŸã€‚ãŸã ã—ã‚¾ãƒ­ç›®è³ã¿ãŸã„ãªã®ã¯ãªã‹ã£ãŸã‚ˆã†ã§ã™ã€‚\nã¡ãªã¿ã« 1 ä½ã®æ–¹ã®ãƒã‚¤ãƒ³ãƒˆã¯ 54,700 ã ã£ãŸã‚ˆã†ã§ã€ã©ã“ã«ãã‚“ãªã«ãƒˆãƒ¼ã‚¯ãƒ³ãŒã‚ã£ãŸã®ã‹\u0026hellip;ã£ã¦ã„ã†æ„Ÿã˜ã§ã™ã­ã€‚\nãŸã ã€é †ä½ã¯ã¨ã‚‚ã‹ããƒ¡ã‚¤ãƒ³ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ä»¥å¤–ã«ã‚‚ã“ã†ã„ã£ãŸãŠæ¥½ã—ã¿ãŒã‚ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã£ã¦ã„ã†ã®ã¯ã€æ–°é®®ã§ã¨ã¦ã‚‚æ¥½ã—ã‹ã£ãŸã§ã™ã€‚\n2æ—¥ç›® ã¨ PHPerKaigi ã®ã¾ã¨ã‚ ä»¥ä¸Šã€2æ—¥ç›®ã®ãƒ¬ãƒãƒ¼ãƒˆã§ã—ãŸã€‚æœ¬å½“ã¯ 15æ™‚é ƒã‹ã‚‰ã® LT ã‚‚èããŸã‹ã£ãŸã‚“ã§ã™ãŒã€ã‚„ã‚€ã‚’å¾—ãšé›¢è„±\u0026hellip;ã€‚ã‚ã¨ã‹ã‚‰ Twitter ã§ #phperkaigi ã§æµã‚Œã¦ãã‚‹ãƒ„ã‚¤ãƒ¼ãƒˆã‚’è¦‹ãªãŒã‚‰æ¥½ã—ãã†ã ãªãƒ¼ã¨ã€æ„Ÿã˜ã¦ã„ã‚‹ã¨ã“ã‚ã§ã™ã€‚\n2æ—¥ç›®ã‚‚ã‚³ã‚¢ãªè©±ã€æ„è­˜æ”¹é©ã«ã¤ãªãŒã‚‹è©±ã‚’èãã“ã¨ãŒã§ãã¦è‰¯ã‹ã£ãŸã®ã¨ã€ç¾å‘³ã—ã„ãŠå¼å½“ã‚‚é£Ÿã¹ã‚‹ã“ã¨ãŒã§ããŸã®ãŒè‰¯ã‹ã£ãŸã§ã™ã­ã€‚\nã‚ã¨ã¯ã€PHPer Challenge ã§ã™ã­ã€‚ 1æ—¥ç›®ã¯ã»ã¨ã‚“ã©ä¼šå ´å†…ã‚’æ¢ç´¢ã§ããªã‹ã£ãŸã®ã§ã€2æ—¥ç›®ã¯å°‘ã—æ¢ã—å›ã‚Šã¾ã—ãŸã€‚çµæœçš„ã«ã¯ä¸Šã«æ›¸ã„ãŸé€šã‚Š 33 ä½ã§ã—ãŸãŒã€ã¡ã‚‡ã£ã¨ã—ãŸå®æ¢ã—æ„Ÿã€å¾³ä¸¸å…ˆç”Ÿã®è„†å¼±æ€§ã‚’è¦‹ã¤ã‘ã‚‹ã‚²ãƒ¼ãƒ ã«ã¤ã„ã¦ã¯æ¥½ã—ã¿ãªãŒã‚‰è„†å¼±æ€§ã®å‹‰å¼·ã«ã‚‚ãªã‚‹ã¨ã„ã†ã€ã¨ã¦ã‚‚æ¥½ã—ã„ã‚¤ãƒ™ãƒ³ãƒˆã§ã—ãŸã€‚\nã§ã€åˆå‚åŠ ã¨ãªã£ãŸ PHPKaigiã€è¨€èªå˜ä½ã®ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ ã§ã—ãŸãŒã€ä¸€è¨€ã§è¨€ã†ã¨ æ¥½ã—ã‹ã£ãŸ ã«å°½ãã¾ã™ã€‚ä»–ã®å‚åŠ è€…ã¨ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã»ã¨ã‚“ã©å–ã‚Œã¾ã›ã‚“ã§ã—ãŸãŒã€ Twitter ã§ã¯å°‘ã—ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼ã‚‚å¢—ãˆãŸã‚Šã—ã¦ã€ã¾ãŸæ¬¡å›ã‚‚ã‚ã‚Œã°è¡ŒããŸã„ãªã£ã¦ã„ã†æ„Ÿã˜ã§ã™ã€‚å€‹äººçš„ã«ä»Šå¹´ã®ç›®æ¨™ã¨ã—ã¦ã¯ã€ã„ã‚ã‚“ãªã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã¨ã‹ã‚¤ãƒ™ãƒ³ãƒˆã«å‚åŠ ã™ã‚‹ ã£ã¦ã„ã†ã®ã‚’æ²ã’ã¦ã„ã‚‹ã®ã§ã€å…ˆæœˆã® JAWS DAYS ã«ç¶šã„ã¦ä»Šå›ã® PHPerKaigi 2019 ã«ã‚‚å‚åŠ ã§ããŸã®ã¯ã€ã‚ˆã„çµŒé¨“ã«ãªã‚Šã¾ã—ãŸã€‚\næœ€è¿‘ã¯ PHP ã»ã¨ã‚“ã©æ›¸ã„ã¦ãªã„ã‚“ã§ã™ãŒã€ã¾ãŸä¹…ã€…ã«æ›¸ã„ã¦ã¿ã‚ˆã†ã‹ãªã¨æ€ã†ãã£ã‹ã‘ã«ã‚‚ãªã‚Šã¾ã—ãŸã€‚\né‹å–¶ã®ã¿ãªã•ã¾ã€ç™»å£‡è€…ã®ã¿ãªã•ã¾ã€ãŠç–²ã‚Œã•ã¾ã§ã—ãŸã€‚æ¥½ã—ã„æ™‚é–“ã‚’ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼\n",
    "permalink": "https://michimani.net/post/event-phperkaigi-2019-day2/",
    "title": "PHPerKaigi 2019 ã«è¡Œã£ã¦ãã¾ã—ãŸ âˆ’ 2æ—¥ç›® âˆ’"
  },
  {
    "contents": "3/29 (é‡‘) ã€œ 3/31 (æ—¥) ã¾ã§ ç·´é¦¬åŒºç«‹åŒºæ°‘ãƒ»ç”£æ¥­ãƒ—ãƒ©ã‚¶ Coconeriãƒ›ãƒ¼ãƒ« ã§é–‹å‚¬ã•ã‚Œã¦ã„ãŸ PHPerKaigi 2019 ã«è¡Œã£ã¦ããŸã®ã§ã€ãã®ãƒ¬ãƒãƒ¼ãƒˆã§ã™ã€‚\nPHPerKaigi ã¨ã¯ å…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰å¼•ç”¨ã•ã›ã¦ã‚‚ã‚‰ã„ã¾ã™ã€‚\nPHPerKaigiï¼ˆãƒšãƒãƒ‘ãƒ¼ã‚«ã‚¤ã‚®ï¼‰ã¯ã€PHPerã€ã¤ã¾ã‚Šã€ç¾åœ¨PHPã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹æ–¹ã€éå»ã«PHPã‚’ä½¿ç”¨ã—ã¦ã„ãŸæ–¹ã€ã“ã‚Œã‹ã‚‰PHPã‚’ä½¿ã„ãŸã„ã¨æ€ã£ã¦ã„ã‚‹æ–¹ã€ãã—ã¦PHPãŒå¤§å¥½ããªæ–¹ãŸã¡ãŒã€æŠ€è¡“çš„ãªãƒã‚¦ãƒã‚¦ã¨PHPæ„›ã‚’å…±æœ‰ã™ã‚‹ãŸã‚ã®ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚\næ­´æˆ¦ã®å‹‡è€…ã¿ãŸã„ãªæ–¹ã¯ã‚‚ã¡ã‚ã‚“ã€åˆå¿ƒè€…ã®æ–¹ã«ã‚‚ã€å…¨ã¦ã®PHPerãŒ æ¥½ã—ã‚ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚\nPHPerKaigi 2019 ç§ã¯æ–°å’ã§å…¥ã£ãŸä¼šç¤¾ã§é–‹ç™ºã«æºã‚ã£ã¦ã„ãŸã‚µãƒ¼ãƒ“ã‚¹ã§ PHP ãŒä½¿ã‚ã‚Œã¦ã„ãŸã“ã¨ã§ ãƒšãƒãƒ‘ãƒ¼ ã¨ãªã‚Šã€ãã®å¾Œã¯å€‹äººã§ã‚‚ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä½œã£ãŸã‚Šã—ã¦ PHP ã‚’ä½¿ã£ã¦ã¾ã™ã€‚ãã®å¾Œã®æ¥­å‹™ã§ã¯ Java ã¨ã‹ C# ã¨ã‹ Python ã¨ã‹ JavaScript ã¨ã‹ã‚’ä½¿ã„ã¤ã¤\u0026hellip; ã¨ã„ã†æ„Ÿã˜ãªã®ã§ã€ PHP ã§é–‹ç™ºã—ã¦ã„ã‚‹æœŸé–“ã¯ 3 å¹´ãã‚‰ã„ã§ã™ã€‚æœ€è¿‘ã¯ Python ã¨ JavaScript (TypeScript) ã°ã£ã‹ã‚Šè§¦ã£ã¦ã„ã‚‹ã®ã§ã€ä¹…ã€…ã« PHP ã«è§¦ã‚Œã‚ˆã†ã¨æ€ã£ã¦å‚åŠ ã—ã¾ã—ãŸã€‚\nã€3/30 (åœŸ)ã€‘ 1æ—¥ç›® ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ¬ãƒãƒ¼ãƒˆ 1æ—¥ç›®ã«å®Ÿæ–½ã•ã‚ŒãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒ¬ãƒãƒ¼ãƒˆã‚’ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®æ¦‚è¦ã¨ã€ä¸€è¨€æ„Ÿæƒ³ãã‚‰ã„ã§æ›¸ã„ã¦ã„ãã¾ã™ã€‚\n10:40 #b ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½œã‚ŠãªãŒã‚‰Laravelã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’å­¦ã¶ Laravel ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ç†è§£ã™ã‚‹ãŸã‚ã«ã€ã‚ªãƒ¬ã‚ªãƒ¬ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½œã‚‹è©±\nãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆPHP (PERFECT SERIES 3) ã«è‡ªä½œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ä½œã‚Šæ–¹ãŒæ›¸ã„ã¦ã‚ã‚‹\nãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ï¼‘ã‹ã‚‰ä½œã‚‹æ¥½ã—ã•\nPHPStorm ãŒã‚ã‚‹ã¨ä¾¿åˆ©\nLaravel ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’å­¦ã¶\nLaravel ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ³ãƒ†ãƒŠ = Laravel ãŒæä¾›ã—ã¦ã„ã‚‹ DI ã‚³ãƒ³ãƒ†ãƒŠ ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰ facade !== facade pattern ã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ³ãƒ†ãƒŠã‚’çµŒç”±ã—ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã‚‹ ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰ã¯ã©ã“ã§ã‚‚åˆ©ç”¨ã§ãã‚‹åˆ†ã€è¤‡é›‘ã«ãªã‚Šã‚„ã™ã„ 200Xå¹´ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã®é•ã„ ã™ã¹ã¦ãŒãƒ•ã‚¡ã‚µãƒ¼ãƒ‰ãŒã§ãã¦ã„ã‚‹ ãƒ†ã‚¹ãƒˆãŒã‚„ã‚Šã‚„ã™ã„ æ‰‹æ®µã§ã¯ãªãæœ¬è³ªã‚’è¿½ã„æ±‚ã‚ã‚‹\nä¸€å› MVC ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½œã£ã¦ã¿ã‚‹ ãã®ã‚ã¨ Laravel ã®ã‚½ãƒ¼ã‚¹ã‚’è¦‹ã¦ã¿ã‚‹ ã“ã‚Œã¾ã§ ã‚ªãƒ¬ã‚ªãƒ¬ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ = æ‚ª ã ã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€æ—¢å­˜ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’å­¦ã¶ã¨ã„ã†æ„å‘³ã§ã€è‡ªåˆ†ã§ä¸€åº¦ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½œã£ã¦ã¿ã‚‹ã¨ã„ã†ã®ã¯å¤§äº‹ã ãªã¨æ€ã„ã¾ã—ãŸã€‚ã“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«é™ã‚‰ãšã€ä»–ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã‚‚ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’è‡ªä½œã™ã‚‹ã¨ã„ã†è©±ã¯çµæ§‹å‡ºã¦ã„ãŸã®ã§ã€ Production ã¨ã—ã¦é‹ç”¨ã™ã‚‹ã‹ã¯åˆ¥ã¨ã—ã¦ã€ã‚ªãƒ¬ã‚ªãƒ¬ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½œã‚‹ã®ã¯è‰¯ã„ã“ã¨ã‹ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚\n11:25 #b PHPerKaigi 2019 ã‚†ã‚‹ãµã‚CIå…¥é–€ ã‚ˆãã°ã‚Šã‚»ãƒƒãƒˆ ç™ºè¡¨ã‚¹ãƒ©ã‚¤ãƒ‰ã¯ä¸‹è¨˜ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚\nPHPerKaigi 2019ã§ã€ŒPHPã‚†ã‚‹ãµã‚CIå…¥é–€ã€ã‚’ç™ºè¡¨ã—ã¾ã—ãŸ (ã‚¹ãƒ©ã‚¤ãƒ‰ä»˜ã) ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ | zonuexe/phperkaigi-ci CI ã¨ã¯ãªã«ã‹\nGitHub composer PHPUnit git ã® tag, branch CI ã§ä½•ãŒã§ãã‚‹ã‹\nã‚³ãƒ¼ãƒ‰ãŒæ­£å¸¸ã«å‹•ã„ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ç¶šã‘ãŸã„ è‡ªå‹•ãƒ†ã‚¹ãƒˆ : PHPUnit, phpspec è‡ªå‹•ãƒ†ã‚¹ãƒˆ (å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆ) : Codeception (å¤ã„ãƒ†ã‚¹ãƒˆãŒãªã„ã‚³ãƒ¼ãƒ‰ã«ã¯ä½¿ã„ã‚„ã™ã„) QA ãƒ„ãƒ¼ãƒ« : PHPStan, Psalm, Phan (æœ€è¿‘ã®ã‚‚ã®ã¯å‹ã¾ã§ãƒã‚§ãƒƒã‚¯ã—ã¦ãã‚Œã‚‹) å±äººåŒ–ã‚’é˜²ã å®Ÿè¡Œç’°å¢ƒ\nGitHub ã§ã® PR ä½œæˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦å®Ÿè¡Œã•ã‚Œã‚‹ CI ã‚µãƒ¼ãƒ“ã‚¹ãŒæä¾›ã—ã¦ã„ã‚‹ OS ç’°å¢ƒã€ã¾ãŸã¯ docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’åˆ©ç”¨ã—ã¦å®Ÿè¡Œã™ã‚‹ ç‰¹å®šç”¨é€”ã® CI StyleCI : ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ« ã‚†ã‚‹ãµã‚ CI\nã‚´ãƒ¼ãƒ« : Syntax Error ã«ãªã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æœ¬ç•ªå…¬é–‹ã—ãªã„ ãƒ”ã‚¯ã‚·ãƒ–ã®å ´åˆ ãƒ•ã‚¡ã‚¤ãƒ«æ•° 6000 ä»¥ä¸Š å·®åˆ†ã ã‘ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦é«˜é€ŸåŒ– PHPUnit, PHPStan ã¨ ç‹¬è‡ªã® linter node.js ã§ä¸¦åˆ—å®Ÿè¡Œã—ã¦ã„ã‚‹ CI ã§ã§ãã‚‹ã“ã¨ãƒ»ç›®çš„ã«ã¤ã„ã¦ã¯ä»–ã®è¨€èªã§ã‚‚åŒã˜ã§ã™ãŒã€ PHP ã§ä½¿ç”¨ã™ã‚‹ãƒ„ãƒ¼ãƒ«ãªã©ã®å…·ä½“ä¾‹ãŒãŸãã•ã‚“å‡ºã¦ããŸã®ã§ã€ã€Œã‚ã€ãã†ã„ã†ã®ä½¿ã†ã‚“ã ãƒ¼ã€ã£ã¦ã„ã†æ„Ÿã˜ã§ã—ãŸã€‚ä»Šå¾Œã¾ãŸ PHP ã§é–‹ç™ºã™ã‚‹æ©Ÿä¼šãŒã‚ã‚Œã°ä½¿ã£ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\n13:30 #b PHPã®ç¾å ´ å…¬é–‹åéŒ² PHPã®ç¾å ´ ã¨ã„ã† Podcast ã®å…¬é–‹åéŒ²ã§ã—ãŸã€‚æ­£ç›´ã€ã“ã® Podcast ã¯èã„ãŸã“ã¨ãŒãªã‹ã£ãŸã‚“ã§ã™ãŒã€è¨€èªã«ç‰¹åŒ–ã—ãŸå†…å®¹ã§ã¨ã¦ã‚‚æ¿ƒã„è©±ãŒç¹°ã‚Šåºƒã’ã‚‰ã‚Œã¦ã„ãŸã®ã§ã€ä»Šå¾Œè´ãã‚ˆã†ã«ã—ã¾ã™ã€‚\nãªãŠã€ã“ã®ã¨ãã®ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã¯ã™ã§ã«å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚\nPHPã®ç¾å ´ 28. ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã§ç†è§£ã™ã‚‹ DIï¼ˆytakeï¼‰ 14:45 #a ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªå‘ã‘APIé–‹ç™ºã‚’é€šã˜ã¦å­¦ã‚“ã ã“ã¨ ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªå‘ã‘ API ã‚’ Laravel ã§ä½œã£ãŸè©± æ–°è¦ã‚µãƒ¼ãƒ“ã‚¹ã¯æŠ€è¡“é¸å®šã®é€£ç¶š è¨€èªã€ã‚¤ãƒ³ãƒ•ãƒ©ã€FW\u0026hellip; ä¸€åº¦æ±ºã‚ã‚‹ã¨ã‚ã¨ã‹ã‚‰ (ã»ã¼) ç¾è¡Œä¸å¯ è¦ä»¶å®šç¾© ãªãœã€èª°ã®ãŸã‚ã«ã€ã„ã¤ã¾ã§ã« è¦ä»¶ã‚’æº€ãŸã™ã‹ã€å­¦ç¿’ã‚³ã‚¹ãƒˆã€å°†æ¥æ€§ã€ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ Lumen ã‚‚å€™è£œã«ã‚ã£ãŸãŒã€Laravel Passport ã‚’ä½¿ã„ãŸã‹ã£ãŸ èª­æ›¸ä¼š API é–‹ç™ºè€…ã¨ã‚¢ãƒ—ãƒªã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã®èªè­˜ã‚’ã‚ã‚ã›ã‚‹ (ã‚ãã¾ã§åŸºç¤ãƒ¬ãƒ™ãƒ«) å‚è€ƒæ›¸ : Web API The Good Parts è¨­è¨ˆãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ®‹ã—æ–¹ API è¨­è¨ˆã«ã¯ Swagger Spec API è¨­è¨ˆãŒä¸€ç•ªè‹¦åŠ´ã—ãŸ è¨­è¨ˆã®å‰ã«ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ï¼ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ»API è¨­è¨ˆè€…ã§èªè­˜ã‚’åˆã‚ã›ã‚‹ Laravel API èªè¨¼ Laravel Passport OAuth 2.0 ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª Laravel å…¬å¼ æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã«åˆã‚ã›ã‚‹ã«ã¯ã€ãã‚Œç”¨ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ã‚’ä½¿ã£ã¦ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã™ã‚‹ ã‚¨ãƒ©ãƒ¼æ™‚ã® API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ ã™ã¹ã¦ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ãŠã„ã¦å…±é€šã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ Laravel ã® Responsable ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ ã™ã¹ã¦ã®ä¾‹å¤–ã¯ App\\Exception\\Handler ã® render() ã‚’é€šã‚‹ã®ã§ã€ã“ã“ã‚’è§¦ã‚‹ API é–‹ç™ºã‚’ã™ã‚‹ã†ãˆã§ã€ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ãƒ»ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã—ã£ã‹ã‚Šèªè­˜ã‚’ã‚ã‚ã›ã‚‹ã¨ã„ã†ã®ã¯ã€ä½¿ã†è¨€èªã«é–¢ä¿‚ãªãå¤§äº‹ã ãªã¨ã„ã†ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚Laravel ã§ Web API ã‚’ä½œã‚‹ã¨ã„ã†ã®ã¯éå»ã«ã‚„ã£ãŸã“ã¨ãŒã‚ã‚Šã¾ã—ãŸãŒã€å½“æ™‚ã¯ãã®ã‚ãŸã‚Šã‚’ã—ã£ã‹ã‚Šèª¿æ•´ã§ãã¦ã„ãªã‹ã£ãŸãªã¨åçœã—ã¾ã—ãŸã€‚\nç™ºè¡¨è€…ã® @hypermkt ã•ã‚“ã®å£°è³ªãŒå‡„ãè‰¯ãã¦èãã‚„ã™ã‹ã£ãŸå°è±¡ã§ã™ã€‚\n15:30 #a 3ãƒ¶æœˆã§php5.5ã‹ã‚‰7.2ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã—ãŸç¾åœ¨ã¨ä»Šå¾Œã®å‘ãåˆã„æ–¹ PHP 5.5, Codeigniter, AWS EC2 æ‡¸å¿µç‚¹ ã‚¿ã‚¤ãƒˆãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« (3ãƒ¶æœˆ) PHP ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã®ãƒã‚¦ãƒã‚¦ä¸è¶³ ãƒªã‚½ãƒ¼ã‚¹ä¸è¶³ æ‰‹é † å…¬å¼ã‚µã‚¤ãƒˆã®ç§»è¡Œæ‰‹é †ã«å¾“ã£ã¦è©²å½“ç®‡æ‰€ã®èª¿æŸ» docker ç’°å¢ƒã§æ¤œè¨¼ PHP ä»¥å¤–ã«ã‚‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ãŒå¿…è¦ãªã‚‚ã®ãŒã‚ã‚‹ Apache CentOS Codeignitor memcached ãƒãƒã‚Šãƒã‚¤ãƒ³ãƒˆ memcached ã¯ wget ã§æœ€æ–°ç‰ˆã‚’å…¥ã‚Œã‚‹ mcrypt ã®ä»£ã‚ã‚Šã« OpenSSL ã‚’ä½¿ã† (PHP7.2 ã§ã¯ mcrypt ã¯éæ¨å¥¨ã€‚OpenSSL ã®ã»ã†ãŒå‡¦ç†ãŒé€Ÿã„) mod_small_light ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å¤‰æ›´ count() CloudFront å°å…¥ã«ã‚ˆã‚‹ IP å•é¡Œ HTTP_X_FORWARDED ã‚’ä½¿ã† ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ä»•æ§˜å¤‰æ›´ æ„å›³ã›ã¬ä¸å…·åˆã«ã‚ˆã‚‹ä¿®æ­£ãƒ»å ±å‘Šæ›¸ä½œæˆã«ã‹ã‹ã‚‹å·¥æ•°ã®å¢—åŠ  é–‹ç™ºä½“åˆ¶ ã‚¿ã‚¹ã‚¯ç®¡ç†ï¼šasana ã‚¨ãƒ©ãƒ¼æ¤œçŸ¥ï¼šSentry ã‚„ã‚‹ã¹ãã“ã¨ã¨ã‚„ã‚‰ãªã„ã“ã¨ã®é¸åˆ¥ ã‚„ã‚‹ã“ã¨ : å‹•ãã‚ˆã†ã«ã™ã‚‹ ã‚„ã‚‰ãªã„ã“ã¨ : ã‚³ãƒ¼ãƒ‰ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã€ä¸è¦ãªå¤‰æ›´ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã®çµæœ é€Ÿåº¦æ”¹å–„ æ–°ã—ã„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®å°å…¥ãŒã§ããŸ PHP 5 ç³»ã® å…¬å¼ã‚µãƒãƒ¼ãƒˆ ã¯ 2018 å¹´ã§çµ‚äº†ã—ã¦ã„ã¾ã™ãŒã€ Zend Server ã‚„ CentOS ãªã©ã®å„ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³å˜ä½ã§ã¯ã¾ã  5 ç³»ã®ã‚µãƒãƒ¼ãƒˆæœŸé–“ãŒæ®‹ã£ã¦ã„ã‚‹ã‚‚ã®ã‚‚ã‚ã‚‹ã®ã§ã€ä»Šå¾Œã‚‚å¿…è¦ã«ãªã£ã¦ãã‚‹å†…å®¹ã ã¨æ€ã„ãªãŒã‚‰èã„ã¦ã„ã¾ã—ãŸã€‚\nå€‹äººçš„ã«ã¯ PHP ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ãƒã‚¦ãƒã‚¦ãŒå…¨ãç„¡ã„ã®ã§ã€ä»Šå¾Œã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆä½œæ¥­ã‚’ã™ã‚‹ã“ã¨ã«ãªã£ãŸéš›ã«ã¯ã€ã“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§èã„ãŸå†…å®¹ã‚’å‚è€ƒã«ã—ã¦ã€ã‚¹ãƒ ãƒ¼ã‚ºã«é€²ã‚ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã—ãŸã„ã§ã™ã€‚\n1æ—¥ç›®ã¾ã¨ã‚ åˆå‚åŠ ã® PHPerKaigiã€ã¨ã„ã†ã‹è¨€èªç¸›ã‚Šã®ã‚¤ãƒ™ãƒ³ãƒˆã«ã¯åˆã‚ã¦å‚åŠ ã—ã¾ã—ãŸãŒã€ã¨ã¦ã‚‚é¢ç™½ã‹ã£ãŸã§ã™ã€‚å…ˆæœˆã¯ JAWS DAYS ã«å‚åŠ ã—ãŸã‚“ã§ã™ãŒã€ãã®ã¨ãã¨ã¯ã¾ãŸé•ã£ãŸé›°å›²æ°—ãŒã‚ã‚Šã¾ã—ãŸã€‚ã‚‚ã¡ã‚ã‚“è¦æ¨¡çš„ã«ã¯ JAWS DAYS ã®ã»ã†ãŒå¤§ããã¦äººæ•°ã‚‚å‚åŠ è€…æ•°ã‚‚å¤šã„ã‚ã‘ã§ã™ãŒã€ä¸€ã¤ã®è¨€èªã«å¯¾ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã¨ã„ã†ã“ã¨ã§ã€ã‚ˆã‚Šå…·ä½“çš„ã§è©³ç´°ãªå†…å®¹ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒå¤šã‹ã£ãŸãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚\nã‚ã¨ã¯ã€T ã‚·ãƒ£ãƒ„ãŒã‚‚ã‚‰ãˆãŸã‚Šã€çªç™ºçš„ãª LT ãŒã‚ã£ãŸã‚Šã€æœŸé–“ã‚’é€šã˜ã¦ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚²ãƒ¼ãƒ ãŒé–‹å‚¬ã•ã‚Œã¦ã„ãŸã‚Šã—ã¦ã€ãƒˆãƒ¼ã‚¿ãƒ«ã§æ¥½ã—ã„å°è±¡ã‚’å—ã‘ã¾ã—ãŸã€‚ã‚ã¾ã‚Šæ›¸ãã¨ 2æ—¥ç›®ã®ãƒ¬ãƒãƒ¼ãƒˆã¾ã¨ã‚ã«æ›¸ãã“ã¨ãŒãªããªã‚‹ã®ã§ã“ã‚Œãã‚‰ã„ã«ã—ã¦ãŠãã¾ã™ã€‚\nPHPerKaigi 2019 Tã‚·ãƒ£ãƒ„ ãƒ¡ãƒ«ã‚«ãƒªã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼\n",
    "permalink": "https://michimani.net/post/event-phperkaigi-2019-day1/",
    "title": "PHPerKaigi 2019 ã«è¡Œã£ã¦ãã¾ã—ãŸ âˆ’ 1æ—¥ç›® âˆ’"
  },
  {
    "contents": "Nintendo Switch ã® å¤§ä¹±é—˜ã‚¹ãƒãƒƒã‚·ãƒ¥ãƒ–ãƒ©ã‚¶ãƒ¼ã‚º SPECIAL (ã‚¹ãƒãƒ–ãƒ©SP) ã®ãƒ—ãƒ¬ã‚¤å‹•ç”»ã‚’ iMovie ã§ç·¨é›†ã—ã¦æ›¸ãå‡ºãã†ã¨ã—ãŸã¨ãã«ã€ä½•ã‚’ã‚„ã£ã¦ã‚‚ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã—ã¾ã„æ›¸ãå‡ºã—ãŒã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ãã®å¯¾å‡¦æ–¹æ³•ã«ã¤ã„ã¦ã§ã™ã€‚\nå‰æ ã‚¹ãƒãƒ–ãƒ©SP ã®ãƒ—ãƒ¬ã‚¤å‹•ç”»ã¯ã€ã‚²ãƒ¼ãƒ å†…ã§ä¿å­˜ã—ãŸãƒªãƒ—ãƒ¬ã‚¤ãƒ‡ãƒ¼ã‚¿ã‚’ã€ã‚²ãƒ¼ãƒ å†…ã® ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ ã‹ã‚‰ãƒ ãƒ¼ãƒ“ãƒ¼ã«å¤‰æ›ã™ã‚‹ã“ã¨ã§å–å¾—ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚å¤‰æ›ã—ãŸãƒ ãƒ¼ãƒ“ãƒ¼ã¯ Switch ã«æŒ¿ã—ãŸ microSD ã‚«ãƒ¼ãƒ‰å†…ã«ä¿å­˜ã•ã‚Œã€ Nintendo/Alubum/Extra/ ä»¥ä¸‹ã« yyyy/mm/dd ã®å½¢ã§æ—¥ä»˜ã”ã¨ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒä½œæˆã•ã‚Œã€ãã®ä¸­ã« .mp4 å½¢å¼ã§ä¿å­˜ã•ã‚Œã¦ã„ã¾ã™ã€‚\nä»Šå›ã¯ã€ãã® .mp4 ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚³ãƒ”ãƒ¼ã—ã¦ã€ãã‚Œã‚’ iMovie ã§èª­ã¿è¾¼ã‚“ã§ç·¨é›†ã™ã‚‹ã“ã¨ã‚’è€ƒãˆã¾ã™ã€‚\nä½œæ¥­ç’°å¢ƒã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\nMacBook Pro 13-inch, 2018\nãƒ¡ãƒ¢ãƒª 16 GB 2.7 GHz Core i7 macOS Mojave 10.14.3 iMovie 10.1.10 ã‚„ã£ãŸã“ã¨ãƒ»èµ·ã“ã£ãŸã“ã¨ æ™®é€šã« iMovie ã§æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¦ã€å‰è¿°ã®é€šã‚Šãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚³ãƒ”ãƒ¼ã—ãŸ .mp4 å½¢å¼ã®ãƒªãƒ—ãƒ¬ã‚¤å‹•ç”»ã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚ãã—ã¦é©å½“ã«ç·¨é›†ã—ã¾ã™ã€‚ (ã¡ãªã¿ã«å…¨ãç·¨é›†ã›ãšã«ãã®ã¾ã¾æ›¸ãå‡ºãã†ã¨ã—ãŸå ´åˆã§ã‚‚åŒã˜ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã—ãŸã€‚)\nç·¨é›†å¾Œã€ã„ã¤ã‚‚é€šã‚Šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦å…±æœ‰ã™ã‚‹å½¢ã§æ›¸ãå‡ºã—ã¾ã™ã€‚\nã™ã‚‹ã¨ã€\nå…±æœ‰ã«å¤±æ•—ã—ã¾ã—ãŸ\n{ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå} ã®æ›¸ãå‡ºã—ã«å¤±æ•—ã—ã¾ã—ãŸ\nãƒ“ãƒ‡ã‚ªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚¨ãƒ©ãƒ¼ : 10008 (iMovie ã‚¨ãƒ©ãƒ¼ã€€10008 : renderVideoFrame ã«å¤±æ•—ã—ã¾ã—ãŸ)\nã¨ã„ã†ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦æ›¸ãå‡ºã—ã§ããªã„ç¾è±¡ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚å®Ÿéš›ã®ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã¯ä¸‹è¨˜ã®é€šã‚Šã€‚\nå•é¡Œè§£æ±ºã®ãŸã‚ã«ã‚„ã£ãŸã“ã¨ å†èµ·å‹•ã¨ã‹ iMovie ã®å†èµ·å‹•ã€ã‚·ã‚¹ãƒ†ãƒ ã®å†èµ·å‹•ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å†ä½œæˆã‚’å®Ÿæ–½ã—ã¾ã—ãŸãŒã€åŠ¹æœãªã—ã€‚\niMovie å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« iMovie ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã¾ã—ãŸã€‚ã“ã®ã¨ãã€ä¸‹è¨˜ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ•ã‚¡ã‚¤ãƒ«ã‚‚å‰Šé™¤ã—ã¾ã—ãŸã€‚\niMovie Theater.theater iMovie ãƒ©ã‚¤ãƒ–ãƒ©ãƒª.imovielibrary ãŒã€ã“ã‚Œã‚‚åŠ¹æœãªã—ã€‚\nQuickTime ã§ mov å½¢å¼ã«ã—ã¦ã¿ã‚‹ çµæœçš„ã«ã¯ã“ã®æ–¹æ³•ã§è§£æ±ºã—ã¾ã—ãŸã€‚\nç·¨é›†ã—ãŸã„ .mp4 ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ä¸‹è¨˜ã®æ‰‹é †ã§ .mov å½¢å¼ã«å¤‰æ›ã—ã¾ã™ã€‚\nç·¨é›†ã—ãŸã„å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ« (.mp4) ã‚’ QuickTime ã§é–‹ã ãƒ•ã‚¡ã‚¤ãƒ« \u0026gt; æ›¸ãå‡ºã™ \u0026gt; 720p ã§æ›¸ãå‡ºã™ ã‚ã¨ã¯ .mov ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ iMovie ã§èª­ã¿è¾¼ã‚“ã§æ™®é€šã«ç·¨é›†ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦å…±æœ‰ã™ã‚Œã° OK ã§ã™ã€‚\nãƒ—ãƒ­ãƒ†ã‚¯ãƒˆã§ã‚‚ã‹ã‹ã£ã¦ã‚‹ã®ï¼Ÿ ä»Šå›ã®äº‹è±¡ã¯ç§ã®ç«¯æœ«ã ã‘ã§ãªãä»–ã®ç«¯æœ«ã§ã‚‚ç™ºç”Ÿã—ã¦ãŠã‚Šã€åŒã˜æ–¹æ³•ã§è§£æ±ºã—ã¾ã—ãŸã€‚\nãªã®ã§ã€ãŠãã‚‰ãã‚²ãƒ¼ãƒ å†…ã§ä½œæˆã•ã‚ŒãŸå‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ä½•ã‹ã—ã‚‰ãƒ—ãƒ­ãƒ†ã‚¯ãƒˆã®ã‚ˆã†ãªã‚‚ã®ãŒã‹ã‹ã£ã¦ã„ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nå®Ÿéš›ã€iMovie ã‚¨ãƒ©ãƒ¼ 10008 ãªã©ã§ã‚°ã‚°ã£ã¦ã¿ã¦ã‚‚ã‚ã¾ã‚Šæœ‰ç›Šãªè§£æ±ºç­–ã¯å‡ºã¦ã“ãšã€ãã‚‚ãã‚‚æƒ…å ±ãŒå¤ã‹ã£ãŸã‚Šã—ã¦å½“ã¦ã«ãªã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ã‚‚ã—åŒã˜ã‚ˆã†ãªçŠ¶æ³ã§å›°ã£ã¦ã„ã‚‹å ´åˆã¯ã€ QuickTime ã§ .mov å½¢å¼ã«ã™ã‚‹æ–¹æ³•ã‚’è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\n",
    "permalink": "https://michimani.net/post/other-imovie-10008-error/",
    "title": "ã‚¹ãƒãƒ–ãƒ©SP ã®ãƒ—ãƒ¬ã‚¤å‹•ç”»ã‚’ iMovie ã§ç·¨é›†ã—ã¦æ›¸ãå‡ºã™ã¨ãã« 10008 ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã¨ãã®å¯¾å‡¦æ–¹æ³•"
  },
  {
    "contents": "æ™®æ®µä½¿ã£ã¦ã„ã‚‹ãƒ«ãƒ¼ãƒ“ãƒƒã‚¯ã‚­ãƒ¥ãƒ¼ãƒ– GAN356 X ã¨ GAN354 M ã® GES è¨­å®šã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚ãŠãã‚‰ãä»Šå¾Œä½¿ã£ã¦ã„ãä¸­ã§è¨­å®šã¯å¤‰ã‚ã£ã¦ã„ãã¨æ€ã†ã®ã§ã€20190313ç‰ˆ ã¨ã—ã¦æ®‹ã—ã¦ãŠãã¾ã™ã€‚\nã¡ãªã¿ã«ã“ã‚Œã‚’æ›¸ã„ã¦ã„ã‚‹æ™‚ç‚¹ã§ã®å„ãƒ™ã‚¹ãƒˆã‚¿ã‚¤ãƒ ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\nTime Best 00:24.18 Best mean of 3 00:29.46 Best mean of 5 00:30.81 GAN356 X æ¦‚è¦ GAN356 X ã«ä»˜å±ã—ã¦ã„ã‚‹ GES ã¯ã€å¼·ã„é †ã« é»ƒ, ç·‘, é’, ç´« ã§ã™ã€‚ã¾ãŸã€GMS ã®å¼·åº¦ã‚‚å¤‰æ›´å¯èƒ½ã§ã€é€æ˜: Storng, é»ƒ: Medium, ç·‘: Weak, ç™½: Magnetless ãŒé¸ã¹ã¾ã™ã€‚\nãã—ã¦ GAN356 X ã® GES è¨­å®šã®ç‰¹å¾´ã¨ã—ã¦ã¯ã€å¼·ã•ã‚’ 3 æ®µéš (0.6, 0.8, 1.0) ã§è¨­å®šã§ãã‚‹ã“ã¨ã§ã™ã€‚ç´°ã‹ã„è¨­å®šã¯å‡ºæ¥ã¾ã›ã‚“ãŒã€ã‚ã‚‰ã‹ã˜ã‚æ±ºã‚ã‚‰ã‚ŒãŸå¼·ã•ã«è¨­å®šã§ãã‚‹ã“ã¨ã§ã€å†ç¾æ€§ãŒé«˜ãã€ä»–ã®äººã¨è¨­å®šã‚’å…±æœ‰ã—ã‚„ã™ã„ã®ãŒåˆ©ç‚¹ã§ã™ã€‚\nå€‹äººçš„ãŠã™ã™ã‚è¨­å®š GMS : é€æ˜ (strong) GES : é»„ 1.0 ãƒã‚°ãƒãƒƒãƒˆã‚¢ã‚·ã‚¹ãƒˆã®æ©æµã‚’ååˆ†ã«å—ã‘ã‚‰ã‚Œã‚‹è¨­å®šã§ã€éå¸¸ã«è»½ã„åŠ›ã§å›ã™ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ GES ã‚’ä¸€ç•ªå¼·ã„ é»ƒ ã«ã—ã¦ã€ã•ã‚‰ã«å¼·ã•ã‚‚ä¸€ç•ªå¼·ã„ 1.0ã«ã™ã‚‹ã“ã¨ã§ã€å®‰å®šæ„Ÿã‚‚å‡ºã¾ã™ã€‚ã“ã®è¨­å®šã«ã¯éå¸¸ã«æº€è¶³ã—ã¦ã„ã‚‹ã®ã§ã€ã—ã°ã‚‰ãå¤‰ãˆã‚‹ã“ã¨ã¯ãªã„ã§ã™ã€‚\nGAN354 M æ¦‚è¦ GAN356 X ã¨åŒæ§˜ã«ã€ä»˜å±ã—ã¦ã„ã‚‹ GES ã¯ã€å¼·ã„é †ã« é»ƒ, ç·‘, é’, ç´« ã§ã™ã€‚ãŸã ã—ã€ GMS ã®å¼·åº¦ã¯å¤‰æ›´ä¸å¯ã§ã™ã€‚\nGAN354 M ã® GES è¨­å®šã¯ã€ãƒã‚¸ã®é–‰ã‚å…·åˆã«ã‚ˆã£ã¦ç„¡æ–­éšã«èª¿ç¯€ãŒå¯èƒ½ã§ã™ã€‚ãŸã ã—ã€ãã®åˆ† ã™ã¹ã¦ã®é¢ã® GES è¨­å®šã‚’å…¨ãåŒã˜ã«ã™ã‚‹ã“ã¨ãŒé›£ã—ãã€å†ç¾æ€§ãŒä½ã„ã®ãŒé›£ç‚¹ã§ã™ã€‚å€‹äººçš„ã«ã¯ã€ã¾ãšæœ€åˆã«ãƒã‚¸ã®é ­ãŒå‡ºã‚‹ã‹å‡ºãªã„ã‹ãã‚‰ã„ (0 ã¨ã—ã¾ã™) ã¾ã§ç· ã‚ã¦ã€ãã“ã‹ã‚‰ã©ã¡ã‚‰å‘ãã«ä½•åº¦å›ã—ãŸã‹ã€ã§å„é¢ã®ç· ã‚å…·åˆã‚’å‡ç­‰ã«ã—ã¦(ã„ã‚‹ã¤ã‚‚ã‚Šã§)ã„ã¾ã™ã€‚\nå€‹äººçš„ãŠã™ã™ã‚è¨­å®š GES : ç´« +1080Â° +1080Â° ã¨ã¯ã€ç· ã‚ã‚‹æ–¹å‘ã« 3 å‘¨ã¨ã„ã†ã“ã¨ã§ã™ã€‚è¦‹ãŸç›®ã®ç· ã‚å…·åˆã¯ä¸‹ã®å†™çœŸã®ã‚ˆã†ãªæ„Ÿã˜ã§ã™ã€‚\nGAN356 X ã¨é•ã£ã¦ä¸€ç•ªå¼±ã„ GES ã‚’ä½¿ã£ã¦ã„ã¾ã™ãŒã€æ„Ÿè¦šçš„ã«ã¯åŒã˜ã‚ˆã†ãªæ„Ÿã˜ã§å›ã™ã“ã¨ãŒã§ãã¦ã„ã¾ã™ã€‚ãŸã ã€è‹¥å¹²å®‰å®šæ„Ÿã«æ¬ ã‘ã‚‹å°è±¡ãŒã‚ã‚‹ã®ã§ã€ GAN354 M ã«é–¢ã—ã¦ã¯ä»Šå¾Œã‚‚é©åˆ‡ãªè¨­å®šã‚’æ¢ã—ãªãŒã‚‰ã„ã‚ã„ã‚è©¦ã—ã¦ã„ãã“ã¨ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚\nãã®ä»– ãã®ä»–ã¨ã—ã¦ã¯ç¾çŠ¶å›°ã£ã¦ã„ã‚‹ã“ã¨ã‚’æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nã‚¹ãƒƒãƒ†ã‚«ãƒ¼ãƒ¬ã‚¹æ•…ã« (?) ã‚ã¡ã‚ƒãã¡ã‚ƒæ»‘ã‚Šã‚„ã™ã„ ä¹¾ç‡¥ã—ã¦ã„ã‚‹ä»Šã®æ™‚æœŸã ã¨æ›´ã«æ»‘ã‚Šã‚„ã™ã„ ã‚°ãƒªã‚¹å¡—ã£ãŸã»ã†ãŒã„ã„ã®ã ã‚ã†ã‹ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å¡—ã‚‰ã‚Œã¦ã„ãŸã‚°ãƒªã‚¹ã¯æ‹­ãå–ã£ã¦ã€ç¾çŠ¶ã¯ã‚°ãƒªã‚¹ãƒ¬ã‚¹ã®çŠ¶æ…‹ ä½¿ã£ã¦ã„ã‚‹ã†ã¡ã«å°‘ã—ãšã¤æ‘©è€—ã—ã¦ã„ã‚‹æ„Ÿã˜ãŒã‚ã‚‹ ",
    "permalink": "https://michimani.net/post/other-rubics-setting-gan356x-gan354m/",
    "title": "GAN356 X ã¨ GAN354 M ã® GES è¨­å®šãªã©ã®ãƒ¡ãƒ¢"
  },
  {
    "contents": "å…ˆæ—¥å‚åŠ ã—ãŸ AWS ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ DynamoDB ã‚’åˆã‚ã¦è§¦ã‚Šã¾ã—ãŸã€‚ãã®ã¨ãã¯ Node.js ã§æ›¸ã‹ã‚ŒãŸã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒšã™ã‚‹ã ã‘ã§ã€ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿/æ›¸ããŒã§ãã¾ã—ãŸã€‚ ã¨ã„ã†ã“ã¨ã§ã€ä»Šå›ã¯ Python ã§ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿/æ›¸ãã‚’å®Ÿè£…ã—ã¦ã¿ãŸã®ã§ã€ãã®æ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚\nç›®æ¬¡ ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ ãƒ‡ãƒ¼ã‚¿ã®ç™»éŒ² put_item() ãƒ‡ãƒ¼ã‚¿ã®å–å¾— get_item() ã¾ã¨ã‚ ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ ã¾ãšã¯ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ ä»Šå›ã¯ä¾‹ã¨ã—ã¦ã€æ¬…å‚46ã®ãƒ¡ãƒ³ãƒãƒ¼ãƒ–ãƒ­ã‚°ã®æƒ…å ±ã‚’ä¿æŒã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¦ã¿ã¾ã™ã€‚ã‚ã¨ã§ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã—ã‚„ã™ã„ã‚ˆã†ã«ã€ ãƒ—ãƒ©ã‚¤ãƒãƒªãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ ã¨ ãƒ—ãƒ©ã‚¤ãƒãƒªã‚½ãƒ¼ãƒˆã‚­ãƒ¼ ã¯æ¬¡ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚\nãƒ—ãƒ©ã‚¤ãƒãƒªãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ : Authorcode (æ–‡å­—åˆ—) ãƒ»ãƒ»ãƒ» ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’æ›¸ã„ãŸãƒ¡ãƒ³ãƒãƒ¼ã®ã‚³ãƒ¼ãƒ‰ ãƒ—ãƒ©ã‚¤ãƒãƒªã‚½ãƒ¼ãƒˆã‚­ãƒ¼ : Url (æ–‡å­—åˆ—) ãƒ»ãƒ»ãƒ» ãƒ–ãƒ­ã‚°è¨˜äº‹ã®URL ãƒ–ãƒ­ã‚°ã® URL ã«ã¯è‡ªå‹•æ¡ç•ªã•ã‚ŒãŸ (ã§ã‚ã‚ã†) æ•°å€¤ãŒãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦ä»˜ä¸ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ Url ã§ã‚½ãƒ¼ãƒˆã™ã‚Œã°å®Ÿè³ªæŠ•ç¨¿é †ã¨ãªã‚Šã¾ã™ã€‚\nãƒ‡ãƒ¼ã‚¿ã®ç™»éŒ² put_item() ç™»éŒ²ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã¯ã€æ¬¡ã®ã‚ˆã†ãª json ã‚’æƒ³å®šã—ã¾ã™ã€‚\n{ \u0026#34;Author\u0026#34;: \u0026#34;æ¬…å‚46äºŒæœŸç”Ÿ\u0026#34;, \u0026#34;Authorcode\u0026#34;: \u0026#34;1001\u0026#34;, \u0026#34;Entrydate\u0026#34;: 20190224, \u0026#34;Images\u0026#34;: [ \u0026#34;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c.jpg\u0026#34;, \u0026#34;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-01.jpg\u0026#34;, \u0026#34;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-02.jpg\u0026#34;, \u0026#34;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-03.jpg\u0026#34;, \u0026#34;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-04.jpg\u0026#34;, \u0026#34;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-05.jpg\u0026#34; ], \u0026#34;Title\u0026#34;: \u0026#34;åˆæ­Œç•ªçµ„ã€‚æ­¦å…ƒå”¯è¡£ã§ã™ã€‚\u0026#34;, \u0026#34;Url\u0026#34;: \u0026#34;http://www.keyakizaka46.com/s/k46o/diary/detail/19596?ima=0000\u0026amp;cd=member\u0026#34; } boto3 ã‚’ä½¿ã£ã¦ DynamoDB ã«ãƒ‡ãƒ¼ã‚¿ã‚’ç™»éŒ²ã™ã‚‹ã«ã¯ put_item() ã‚’ä½¿ã„ã¾ã™ã€‚\nimport boto3 table_name = \u0026#39;keyakizaka-blog\u0026#39; item = { \u0026#39;Author\u0026#39;: \u0026#39;æ¬…å‚46äºŒæœŸç”Ÿ\u0026#39;, \u0026#39;Authorcode\u0026#39;: \u0026#39;1001\u0026#39;, \u0026#39;Entrydate\u0026#39;: 20190224, \u0026#39;Images\u0026#39;: [ \u0026#39;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c.jpg\u0026#39;, \u0026#39;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-01.jpg\u0026#39;, \u0026#39;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-02.jpg\u0026#39;, \u0026#39;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-03.jpg\u0026#39;, \u0026#39;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-04.jpg\u0026#39;, \u0026#39;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-05.jpg\u0026#39; ], \u0026#39;Title\u0026#39;: \u0026#39;åˆæ­Œç•ªçµ„ã€‚æ­¦å…ƒå”¯è¡£ã§ã™ã€‚\u0026#39;, \u0026#39;Url\u0026#39;: \u0026#39;http://www.keyakizaka46.com/s/k46o/diary/detail/19596?ima=0000\u0026amp;cd=member\u0026#39; } dynamo = boto3.client(\u0026#39;dynamodb\u0026#39;) dynamo.put_item(TableName=table_name, Item=item) ã¨ã™ã‚‹ã¨ç™»éŒ²ã§ãã¾ã™ã€‚\u0026hellip;ã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€ã“ã‚Œã§ã¯å‡ºæ¥ã¾ã›ã‚“ã€‚ ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’èª­ã‚ã°æ›¸ã„ã¦ã‚‹ã‚“ã§ã™ãŒã€Item ã¨ã—ã¦æŒ‡å®šã™ã‚‹ dict å‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å„é …ç›®ã«ã€ãã‚Œã‚‰ã®å‹ãŒä½•ãªã®ã‹ã‚’ã€dict å‹ã§æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€ä¸Šã®ä¾‹ã ã¨ã€ item ã¨ã—ã¦æ¬¡ã®ã‚ˆã†ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nitem = { \u0026#39;Author\u0026#39;: {\u0026#39;S\u0026#39;: \u0026#39;æ¬…å‚46äºŒæœŸç”Ÿ\u0026#39;}, \u0026#39;Authorcode\u0026#39;: {\u0026#39;S\u0026#39;: \u0026#39;1001\u0026#39;}, \u0026#39;Entrydate\u0026#39;: {\u0026#39;N\u0026#39;: \u0026#39;20190224\u0026#39;}, \u0026#39;Images\u0026#39;: {\u0026#39;L\u0026#39;: [ {\u0026#39;S\u0026#39;: \u0026#39;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c.jpg\u0026#39;}, {\u0026#39;S\u0026#39;: \u0026#39;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-01.jpg\u0026#39;}, {\u0026#39;S\u0026#39;: \u0026#39;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-02.jpg\u0026#39;}, {\u0026#39;S\u0026#39;: \u0026#39;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-03.jpg\u0026#39;}, {\u0026#39;S\u0026#39;: \u0026#39;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-04.jpg\u0026#39;}, {\u0026#39;S\u0026#39;: \u0026#39;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-05.jpg\u0026#39;} ]}, \u0026#39;Title\u0026#39;: {\u0026#39;S\u0026#39;: \u0026#39;åˆæ­Œç•ªçµ„ã€‚æ­¦å…ƒå”¯è¡£ã§ã™ã€‚\u0026#39;}, \u0026#39;Url\u0026#39;: {\u0026#39;S\u0026#39;: \u0026#39;http://www.keyakizaka46.com/s/k46o/diary/detail/19596?ima=0000\u0026amp;cd=member\u0026#39;} } ä¸Šã«å‡ºã¦ãã¦ã„ã‚‹ã‚‚ã®ã§ã¯\nS: æ–‡å­—åˆ— N: æ•°å€¤ L: ãƒªã‚¹ãƒˆ ã®ã‚ˆã†ãªæ„Ÿã˜ã§ã™ã€‚ãƒªã‚¹ãƒˆå†…ã®é …ç›®ã«ã¤ã„ã¦ã‚‚ã€ãã‚Œãã‚Œå‹ã®æŒ‡å®šãŒå¿…è¦ã§ã™ã€‚\nã¾ãŸã€N ã§æ•°å€¤ã‚’æŒ‡å®šã™ã‚‹éš›ã«ã‚‚ã€æ•°å€¤ã§ã¯ãªãæ–‡å­—åˆ—ã§å€¤ã‚’å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä¸Šã®ä¾‹ã§ã¯ Entrydate ã®éƒ¨åˆ†ã§ 'Entrydate': {'N': 20190224}, ã§ã¯ãªã 'Entrydate': {'N': '20190224'} ã¨ã—ã¾ã™ã€‚\nboto3 docs DynamoDB.Client.put_item ãƒ‡ãƒ¼ã‚¿ã®å–å¾— get_item() ã“ã“ã§ã„ã†ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã¨ã¯ã€å˜ä¸€ã®ãƒ‡ãƒ¼ã‚¿å–å¾—ã§ã™ã€‚ RDB ã® SELECT ã®ã‚ˆã†ãªæ„Ÿã˜ã§è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹å ´åˆã¯ query() ã‚’ä½¿ã„ã¾ã™ãŒã€ãã‚Œã¯ã¾ãŸæ¬¡å›ã€‚ å˜ä¸€ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ get_item() ã¯ã€æ¬¡ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚\nimport boto3 table_name = \u0026#39;keyakizaka-blog\u0026#39; dynamo = boto3.client(\u0026#39;dynamodb\u0026#39;) res = dynamo.get_item(TableName=table_name, Key={ \u0026#39;Authorcode\u0026#39;: {\u0026#39;S\u0026#39;: \u0026#39;1001\u0026#39;}, \u0026#39;Url\u0026#39;: {\u0026#39;S\u0026#39;: \u0026#39;http://www.keyakizaka46.com/s/k46o/diary/detail/19596?ima=0000\u0026amp;cd=member\u0026#39;} }) ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã—ã¦ã„ãŸå ´åˆã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã£ã¦ãã¾ã™ã€‚\n{ \u0026#34;Item\u0026#34;: { \u0026#34;Title\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;åˆæ­Œç•ªçµ„ã€‚æ­¦å…ƒå”¯è¡£ã§ã™ã€‚\u0026#34; }, \u0026#34;Authorcode\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;1001\u0026#34; }, \u0026#34;Author\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;æ¬…å‚46äºŒæœŸç”Ÿ\u0026#34; }, \u0026#34;Images\u0026#34;: { \u0026#34;L\u0026#34;: [ { \u0026#34;S\u0026#34;: \u0026#34;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c.jpg\u0026#34; }, { \u0026#34;S\u0026#34;: \u0026#34;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-01.jpg\u0026#34; }, { \u0026#34;S\u0026#34;: \u0026#34;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-02.jpg\u0026#34; }, { \u0026#34;S\u0026#34;: \u0026#34;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-03.jpg\u0026#34; }, { \u0026#34;S\u0026#34;: \u0026#34;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-04.jpg\u0026#34; }, { \u0026#34;S\u0026#34;: \u0026#34;http://cdn.keyakizaka46.com/images/14/91e/fd0a1b0dec088e270f545ce11bd3c-05.jpg\u0026#34; } ] }, \u0026#34;Entrydate\u0026#34;: { \u0026#34;N\u0026#34;: \u0026#34;20190224\u0026#34; }, \u0026#34;Url\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;http://www.keyakizaka46.com/s/k46o/diary/detail/19596?ima=0000\u0026amp;cd=member\u0026#34; } }, \u0026#34;ResponseMetadata\u0026#34;: { \u0026#34;RequestId\u0026#34;: \u0026#34;CXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXG\u0026#34;, \u0026#34;HTTPStatusCode\u0026#34;: 200, \u0026#34;HTTPHeaders\u0026#34;: { \u0026#34;server\u0026#34;: \u0026#34;Server\u0026#34;, \u0026#34;date\u0026#34;: \u0026#34;Mon, 03 Mar 2019 05:23:22 GMT\u0026#34;, \u0026#34;content-type\u0026#34;: \u0026#34;application/x-amz-json-1.0\u0026#34;, \u0026#34;content-length\u0026#34;: \u0026#34;776\u0026#34;, \u0026#34;connection\u0026#34;: \u0026#34;keep-alive\u0026#34;, \u0026#34;x-amzn-requestid\u0026#34;: \u0026#34;CXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXG\u0026#34;, \u0026#34;x-amz-crc32\u0026#34;: \u0026#34;1759887117\u0026#34; }, \u0026#34;RetryAttempts\u0026#34;: 0 } } ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã—ãªã‹ã£ãŸå ´åˆã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ãªã‚‹ã®ã§ã€Item ã‚­ãƒ¼ã®å­˜åœ¨ãƒã‚§ãƒƒã‚¯ã§ãƒ‡ãƒ¼ã‚¿ã®å­˜åœ¨ãƒã‚§ãƒƒã‚¯ãŒã§ãã¾ã™ã€‚\n{ \u0026#34;ResponseMetadata\u0026#34;: { \u0026#34;RequestId\u0026#34;: \u0026#34;HXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXG\u0026#34;, \u0026#34;HTTPStatusCode\u0026#34;: 200, \u0026#34;HTTPHeaders\u0026#34;: { \u0026#34;server\u0026#34;: \u0026#34;Server\u0026#34;, \u0026#34;date\u0026#34;: \u0026#34;Mon, 03 Mar 2019 05:25:51 GMT\u0026#34;, \u0026#34;content-type\u0026#34;: \u0026#34;application/x-amz-json-1.0\u0026#34;, \u0026#34;content-length\u0026#34;: \u0026#34;2\u0026#34;, \u0026#34;connection\u0026#34;: \u0026#34;keep-alive\u0026#34;, \u0026#34;x-amzn-requestid\u0026#34;: \u0026#34;HXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXG\u0026#34;, \u0026#34;x-amz-crc32\u0026#34;: \u0026#34;2745614147\u0026#34; }, \u0026#34;RetryAttempts\u0026#34;: 0 } } boto3 docs DynamoDB.Client.get_item ã¾ã¨ã‚ ä»Šå›ã¯ boto3 ã® client.put_item() / client.get_item()ã€€ã‚’ä½¿ã„ã¾ã—ãŸã€‚ ãŸã ã€ã©ã†ã‚„ã‚‰ä»¥ä¸‹ã®ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ Item ã«æ™®é€šã® dict ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã§ã™ã€‚\ntable_name = \u0026#39;keyakizaka-blog\u0026#39; dynamo = boto3.resource(\u0026#39;dynamodb\u0026#39;) table = dynamo.Table(\u0026#39;name\u0026#39;) table.put_item(Item={ /* ... */ }) ã¾ãŸã€è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç™»éŒ²ã™ã‚‹éš›ã«ã¯ã€DynamoDB ã® BatchWriteItem ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åˆ©ç”¨ã™ã‚‹ã®ãŒè‰¯ã•ãã†ã§ã™ã€‚\n\u0026amp;ldquo;DynamoDB ã§ã®é …ç›®ã®æ“ä½œ - Amazon DynamoDB\u0026amp;rdquo; ã‚ã¨ã€ä»Šå›ãƒ—ãƒ©ã‚¤ãƒãƒªã‚½ãƒ¼ãƒˆã‚­ãƒ¼ã«ã¯æ–‡å­—åˆ—ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ãŒã€ã“ã“ã«æŒ‡å®šã™ã‚‹ã®ã¯æ•°å€¤ã®ã»ã†ãŒè‰¯ã„æ°—ã‚‚ã—ã¦ã„ã¾ã™ã€‚ ãã®ã‚ãŸã‚Šã‚‚å«ã‚ã¦ã€ã‚‚ã†ã¡ã‚‡ã£ã¨ DynamoDB è§¦ã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nã“ã®ã»ã‹ã«ã‚‚ã€ boto3 ã‚’ä½¿ã£ã¦ DynamoDB ã‚’æ“ä½œã—ã¦ã¿ãŸè©±ã‚’æ›¸ã„ã¦ã„ã‚‹ã®ã§ã€å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\n",
    "permalink": "https://michimani.net/post/aws-put-get-item-dynamodb-by-lambda-python/",
    "title": "Python (boto3) ã§ DynamoDB ã‚’æ“ä½œã™ã‚‹ - put_item()/get_item()"
  },
  {
    "contents": "AWS Loft Tokyo ã§é–‹å‚¬ã•ã‚ŒãŸ Hands-on for developers_Hajimete serverless_Tokyo_20190227 - çŸ¥ã£å¾—ãƒãƒ³ã‚ºã‚ªãƒ³ã‚·ãƒªãƒ¼ã‚º ã¯ã˜ã‚ã¦ã® Serverless ã«å‚åŠ ã—ã¦ããŸã®ã§ã€ãã®ãƒ¬ãƒãƒ¼ãƒˆãƒ»ãƒ¡ãƒ¢ã§ã™ã€‚\nç›®æ¬¡ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« åº§å­¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ ä»Šå›ã‚„ã‚‹ãƒãƒ³ã‚ºã‚ªãƒ³ã®å†…å®¹ Serverless ã¨ã¯ AWS ã«ãŠã‘ã‚‹ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° (ã¨ä»Šå›ä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ã®æ¦‚è¦) ãƒãƒ³ã‚ºã‚ªãƒ³ Step1: Cognito, IAM ã‚’åˆ©ç”¨ã—ã¦ S3 ã®ãƒã‚±ãƒƒãƒˆæ“ä½œã§æ¨©é™ã«ã‚ˆã‚‹æŒ™å‹•ã®å¤‰åŒ–ã‚’ç¢ºèªã™ã‚‹ Step2: API Gateway, Lambda, DynamoDB ã‚’åˆ©ç”¨ã—ã¦ REST ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹ å…¨ä½“ã®æ„Ÿæƒ³ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« 18:00 - 18:30 å—ä»˜ 18:30 - 19:00 åº§å­¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ ãƒãƒ³ã‚ºã‚ªãƒ³ã®èª¬æ˜ Serverless ã¨ã¯ AWS ã«ãŠã‘ã‚‹ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«ã¤ã„ã¦ 19:00 - 20:30 ãƒãƒ³ã‚ºã‚ªãƒ³ (å„è‡ªé»™ã€…ã¨ã‚„ã‚‹æ„Ÿã˜) 20:30 - 21:00 è³ªå•ãªã© åº§å­¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ æœ€åˆã¯åº§å­¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¨ã„ã†ã“ã¨ã§ã€ä»Šå›ã‚„ã‚‹ãƒãƒ³ã‚ºã‚ªãƒ³ã®èª¬æ˜ã¨ã€ãã‚‚ãã‚‚ Serverless ã¨ã¯ï¼Ÿã¨ã„ã†ã¨ã“ã‚ã‹ã‚‰ã€AWS ã«ãŠã‘ã‚‹ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«ã¤ã„ã¦ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã—ãŸã€‚ ç§ã¯ã€ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã¨ã„ã†è¨€è‘‰è‡ªä½“ã¯ã‚‚ã†æ—¢ã«ä½•åº¦ã‚‚èã„ãŸã“ã¨ãŒã‚ã‚‹ã—ã€å†…å®¹ã«ã¤ã„ã¦ã‚‚ãµã‚“ã‚ã‚Šã¨ã¯åˆ†ã‹ã£ã¦ã„ã‚‹ã¨ã„ã†çŠ¶æ…‹ã€‚ã¾ãŸã€å®Ÿéš›ã« AWS Lambda ã§é–¢æ•°ã‚‚ä½œã£ãŸã“ã¨ãŒã‚ã‚‹ã€‚ãã‚“ãªäººé–“ãªã®ã§ã€æœ€åˆã®åº§å­¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯è‰¯ã„å¾©ç¿’ã«ãªã‚Šã¾ã—ãŸã€‚\nä»¥ä¸‹ã€åº§å­¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒ¡ãƒ¢ã§ã™ã€‚\nä»Šå›ã‚„ã‚‹ãƒãƒ³ã‚ºã‚ªãƒ³ã®å†…å®¹ Step1 Cognito, IAM ã‚’åˆ©ç”¨ã—ã¦ S3 ã®ãƒã‚±ãƒƒãƒˆæ“ä½œã§æ¨©é™ã«ã‚ˆã‚‹æŒ™å‹•ã®å¤‰åŒ–ã‚’ç¢ºèªã™ã‚‹ Step 2 API Gateway, Lambda, DynamoDB ã‚’åˆ©ç”¨ã—ã¦ REST ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹ Serverless ã¨ã¯ ã‚µãƒ¼ãƒç®¡ç†ã¯ä¸è¦ åˆ©ç”¨çŠ¶æ³ã«å¿œã˜ã¦è‡ªå‹•ã§æ‹¡å¼µ é–‹ç™ºãƒ»å®Ÿè£…ã«ãŠã„ã¦æ³¨æ„ç‚¹ã‚ã‚Š åˆ©ç”¨ã—ã¦ã„ãªã„ãƒªã‚½ãƒ¼ã‚¹ã®æ”¯æ‰•ã„ã¯ä¸è¦ å¯ç”¨æ€§ã‚„å¯¾éšœå®³æ€§ã¯å®Ÿè£…æ¸ˆã¿ AWS ã«ãŠã‘ã‚‹ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° (ã¨ä»Šå›ä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ã®æ¦‚è¦) API Gateway ã‚„ S3 ã¸ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ—ãƒƒãƒˆãªã©ã®ã‚¤ãƒ™ãƒ³ãƒˆãŒã‚ã£ãŸã¨ãã«ã‚³ãƒ³ãƒ†ãƒŠç’°å¢ƒãŒç«‹ã¡ä¸ŠãŒã‚‹ RDB ã¸ã®æ¥ç¶šãŒè‹¦æ‰‹ ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ãƒãƒ¼ãƒªãƒ³ã‚°ãŒä½¿ãˆãªã„ ã ã‹ã‚‰ DynamoDB (NoSQL) ã‚’ä½¿ã† é–¢æ•°å˜ä½ ç´°ã‹ã„ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šãŒå¯èƒ½ é–‹ç™ºæ®µéšã§é©å½“ã«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’æ±ºã‚ã‚‹ã¨ã€å¾Œã€…å¤§å¤‰ ä»Šå›ã¯ DynamoDB ã¸ã®æ›¸ãè¾¼ã¿ãƒ»èª­ã¿è¾¼ã¿ ã® 2 ã¤ã®é–¢æ•°ã‚’ä½œã‚‹ Lambda ã®å®Ÿè¡Œã¯ 900 sec ä»¥å†… ãã‚Œã‚ˆã‚Šé•·ããªã‚‹å ´åˆã¯ Fargate ä½¿ã† IAM AWS ãƒªã‚½ãƒ¼ã‚¹ã«å¯¾ã™ã‚‹ãã‚ç´°ã‚„ã‹ãªã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ãŒå¯èƒ½ IAM ãƒ¦ãƒ¼ã‚¶ : äººé–“ã«ä»˜ä¸ã™ã‚‹ç®¡ç†æ¨©é™ IAM ãƒ­ãƒ¼ãƒ« : AWS ãƒªã‚½ãƒ¼ã‚¹ã«ä»˜ä¸ã™ã‚‹ç®¡ç†æ¨©é™ IAM ãƒãƒªã‚·ãƒ¼ : ãƒ¦ãƒ¼ã‚¶ã€ãƒ­ãƒ¼ãƒ«ã«ä»˜ä¸ã™ã‚‹æ¨©é™ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ (JSON) ã‚ãã¾ã§ã‚‚ AWS å†…ã®ãƒªã‚½ãƒ¼ã‚¹ã«å¯¾ã™ã‚‹æ¨©é™ Amazon Cognito JavaScript ãªã©ã‹ã‚‰èµ·å‹• Cognito çµŒç”±ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸå ´åˆã«ä¸€æ™‚çš„ã« IAM ãƒ­ãƒ¼ãƒ«ã‚’ä»˜ä¸ã™ã‚‹å½¢ æ©Ÿèƒ½ã¯å¤§ãã 2 ã¤ (3 ã¤ã‚ã‚‹ãŒã€1 ã¤ã¯ç¾åœ¨éæ¨å¥¨ -\u0026gt; AppSync) User Pools : ID/PWD ã®ç®¡ç†ã‚µãƒ¼ãƒ“ã‚¹ (èªè¨¼) Identity Pool: User Pools ã®ãƒ¦ãƒ¼ã‚¶ã«å¯¾ã—ã¦æ¨©é™ä»˜ä¸ (èªå¯) Lambda èµ·å‹•ã®é…ã„/é€Ÿã„ã§è¨€èªã‚’é¸ã¶ æ•°ç§’ã§çµ‚ã‚ã‚‹å‡¦ç†ãªã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¨€èªã€æ™‚é–“ã®ã‹ã‹ã‚‹å‡¦ç†ã®å ´åˆã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è¨€èª ã‚«ã‚¹ã‚¿ãƒ ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã®æ³¨æ„ç‚¹ å®Ÿè¡Œãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯å€‹äººã§ç®¡ç† API Gateway Web API ã®ä½œæˆãƒ»ä¿è­·ãƒ»é‹ç”¨ ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãŒ Cognito ã§èªè¨¼ã•ã‚Œã¦ã„ã‚‹ã‹ã€ã‚‚ãƒã‚§ãƒƒã‚¯å¯èƒ½ ãƒãƒ³ã‚ºã‚ªãƒ³ ãƒãƒ³ã‚ºã‚ªãƒ³ã¯ Step1 ã¨ Step 2 ã«åˆ†ã‹ã‚Œã¦ã„ã¾ã—ãŸãŒã€ãã‚Œãã‚Œ (ä¸€å¿œ) ç‹¬ç«‹ã—ã¦ã„ã‚‹ã®ã§ã©ã¡ã‚‰ã‹ã‚‰ã‚„ã£ã¦ã‚‚ OK ã¨ã„ã†å½¢å¼ã§ã—ãŸã€‚ ãƒãƒ³ã‚ºã‚ªãƒ³ç”¨ã®è³‡æ–™.zip ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€ãã®ä¸­ã«å«ã¾ã‚Œã‚‹ PDF ã‚’è¦‹ãªãŒã‚‰ã€åŒã˜ã zip å†…ã«å«ã¾ã‚Œã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚„ã‚³ãƒ”ãƒšç”¨ãƒ†ã‚­ã‚¹ãƒˆã‚’åˆ©ç”¨ã—ã¦ã€å„è‡ªé»™ã€…ã¨é€²ã‚ã¦ã„ãã€è³ªå•ãŒã‚ã‚Œã°é©å®œ SA ã•ã‚“ã«å£°ã‚’ã‹ã‘ã‚‹ ã¨ã„ã†å½¢ã§ã—ãŸã€‚\nStep1: Cognito, IAM ã‚’åˆ©ç”¨ã—ã¦ S3 ã®ãƒã‚±ãƒƒãƒˆæ“ä½œã§æ¨©é™ã«ã‚ˆã‚‹æŒ™å‹•ã®å¤‰åŒ–ã‚’ç¢ºèªã™ã‚‹ å®Ÿè£…ã—ãŸã‚µãƒ³ãƒ—ãƒ«ã¯æ¬¡ã®ã‚ˆã†ãªå†…å®¹ã§ã™ã€‚\nCognito ã§ Sign up / Sign in ã™ã‚‹ Sign up æ™‚ã«ä»˜ä¸ã—ãŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã‚ˆã£ã¦ã€é©ç”¨ã™ã‚‹ IAM ãƒ­ãƒ¼ãƒ«ã‚’å¤‰ãˆã‚‹ ä»Šå›ã§ã‚ã‚Œã°ã€attr ã¨ã„ã†ã‚«ã‚¹ã‚¿ãƒ å±æ€§ãŒ 1 ã®ãƒ¦ãƒ¼ã‚¶ã«ã ã‘ã€åˆ¥ã® IAM ãƒ­ãƒ¼ãƒ«ã‚’å‰²ã‚Šå½“ã¦ã‚‹ ã¨ã„ã†å½¢ Sign in ã—ãŸãƒ¦ãƒ¼ã‚¶ã§ S3 ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ IAM ãƒ­ãƒ¼ãƒ«ã§ S3 ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’çµã‚‹ Sign in æ™‚ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã‚ˆã£ã¦ã€S3 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹å¯å¦ã‚’ç¢ºèªã™ã‚‹ å›³ã«ã™ã‚‹ã¨ã“ã‚“ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚\nã“ã‚Œã¾ã§ã¯ Cognito ã£ã¦ã©ã†ã‚„ã£ã¦ä½¿ã†ã‚“ã‚„ï¼Ÿ ã£ã¦ã„ã†çŠ¶æ…‹ã§ã—ãŸãŒã€ä»Šå›ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§å°‘ã—ã‚ã‹ã£ãŸæ°—ãŒã—ã¾ã—ãŸã€‚\nCognito ã¯èªè¨¼ãƒ»èªå¯åŸºç›¤ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚AWS ã§ã¯ IAM ã‚‚èªè¨¼ãƒ»èªå¯åŸºç›¤ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ãŒã€ãã®é•ã„ã¨ã—ã¦ã¯ã€IAM ã¯èªè¨¼ãƒ»èªå¯ã™ã‚‹å¯¾è±¡ãŒ AWS ã®ãƒªã‚½ãƒ¼ã‚¹ ã§ã‚ã‚‹ã®ã«å¯¾ã—ã¦ã€Cognito ã¯å¯¾è±¡ãŒ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¢ãƒ—ãƒª ã¨ã„ã†ç‚¹ã§ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¢ãƒ—ãƒªã‹ã‚‰èªè¨¼ã‚’è¡Œã†ã“ã¨ã§ã€ãã®èªè¨¼ã«é©ç”¨ã•ã‚Œã¦ã„ã‚‹ IAM ãƒ­ãƒ¼ãƒ«ã®æ¨©é™ã‚’ã‚‚ã£ã¦ã€AWS ãƒªã‚½ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚\nã©ã†ã§ã‚‚ã„ã„ã§ã™ãŒã€ Cognito ã¯ **ï½ºï½¸ï¾ï¾†ï½°ï¾„** ã£ã¦èª­ã‚€ã‚“ã§ã™ã­...ã€‚å‹æ‰‹ã« **ï½ºï½¸ï¾ï¾…ï½²ï¾„** ã ã¨æ€ã£ã¦ã¾ã—ãŸã€‚ ã¡ã‚‡ã£ã¨å–ã£æ›ã‹ã‚Šã«ãã„ã‚µãƒ¼ãƒ“ã‚¹ã§ã¯ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãš Cognito ã§ä½•ãŒå‡ºæ¥ã‚‹ã®ã‹ ã¯ã‚ã‹ã‚Šã¾ã—ãŸã€‚\nStep2: API Gateway, Lambda, DynamoDB ã‚’åˆ©ç”¨ã—ã¦ REST ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹ å®Ÿè£…ã—ãŸã‚µãƒ³ãƒ—ãƒ«ã¯æ¬¡ã®ã‚ˆã†ãªå†…å®¹ã§ã™ã€‚\nDynamoDB ã«å¯¾ã—ã¦ãƒ‡ãƒ¼ã‚¿ã® Read/Write ã‚’ã™ã‚‹ Lambda é–¢æ•°ã‚’ãã‚Œãã‚Œä½œæˆ API Gateway ã§ GET/POST ãƒ¡ã‚½ãƒƒãƒ‰ã«å¯¾ã—ã¦ã€ãã‚Œãã‚Œ Read/Write ã® Lambda é–¢æ•°ãŒå‘¼ã°ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ GET ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ç›´æ¥å©ã„ã¦ DynamoDB ã®ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã§ãã‚‹ã‹ç¢ºèªã™ã‚‹ cURLã€Postman ãªã©ã‚’ä½¿ã£ã¦ POST ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€DynamoDB ã«ãƒ‡ãƒ¼ã‚¿ãŒç™»éŒ²ã§ãã‚‹ã‹ç¢ºèªã™ã‚‹ å›³ã«ã™ã‚‹ã¨ã“ã‚“ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚\nAPI Gateway ã«ã¤ã„ã¦ã¯ã€éå»ã«ä½¿ã£ã¦ã¿ã‚ˆã†ã¨ã—ãŸã‚‚ã®ã®ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã®æ“ä½œãŒã‚ˆãã‚ã‹ã‚‰ãšã«ä¸­é€”åŠç«¯ãªã¨ã“ã‚ã§æŒ«æŠ˜ã—ãŸ ã¨ã„ã†çµŒç·¯ãŒã‚ã‚Šã¾ã™..ã€‚ãŸãŒã€ä»Šå›ã¯å‰è¿°ã—ãŸã¨ãŠã‚Šãƒãƒ³ã‚ºã‚ªãƒ³ã®è³‡æ–™ãŒéå¸¸ã«ä¸å¯§ã ã£ãŸã®ã§ã€é †ã‚’è¿½ã£ã¦æ“ä½œã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nã¡ãªã¿ã«ã€ãƒãƒ³ã‚ºã‚ªãƒ³ã®è³‡æ–™å†…ã§ã¯ API Gateway ã§ç”Ÿæˆã•ã‚ŒãŸã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ç›´æ¥å©ãã¨ã“ã‚ã¾ã§ã—ã‹æ›¸ã„ã¦ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸãŒã€è³‡æ–™å†…ã® js ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å°‘ã—ä¿®æ­£ã™ã‚Œã°ã€Ajax ã§å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ãŸã‚ˆã†ã§ã™ã€‚\nãƒãƒ³ã‚ºã‚ªãƒ³ã®æ™‚é–“ãŒå°‘ã—ä½™ã£ãŸã®ã§ãã®ã‚ãŸã‚Šã‚’è©¦ã—ã¦ã„ãŸã®ã§ã™ãŒã€è©°ã¾ã£ãŸãƒã‚¤ãƒ³ãƒˆãŒã‚ã£ãŸã®ã§æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nãƒãƒ³ã‚ºã‚ªãƒ³ã®è³‡æ–™ã«ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ html (localhost) ã‹ã‚‰ Ajax ã§ API ã‚’å®Ÿè¡Œã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€CORS ã‚¨ãƒ©ãƒ¼ã§å®Ÿè¡Œã§ãã¾ã›ã‚“ã€‚ãªã®ã§ã€API Gateway ã§ CORS ã‚’æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã¾ãŸã€æœ‰åŠ¹åŒ–ã—ãŸã‚ã¨ã¯å†åº¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãªã„ã¨åæ˜ ã•ã‚Œã¾ã›ã‚“ã€‚ãã“ã‚‚ãƒãƒã£ãŸãƒã‚¤ãƒ³ãƒˆã§ã—ãŸã€‚\nã“ã‚Œã§ localhost ã‹ã‚‰ã‚‚ Ajax ã§å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ä»Šå›ã¯ã‚µãƒ³ãƒ—ãƒ«ã¨ã„ã†ã“ã¨ã§ Access-Control-Allow-Origin ã‚’ \u0026quot;*\u0026quot; ã«ã—ã¦ã¾ã™ãŒã€ã‚¢ã‚¯ã‚»ã‚¹å…ƒãŒã‚ã‹ã£ã¦ã„ã‚‹ãªã‚‰æ˜ç¤ºçš„ã«æŒ‡å®šã—ãŸã»ã†ãŒã‚ˆã•ãã†ã§ã™ã€‚\nStep2 ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ã€ API Gateway ã®ä»–ã« DynamoDB ã‚‚ä½¿ã„ã¾ã—ãŸã€‚ã“ã¡ã‚‰ã‚‚åˆã‚ã¦ä½¿ã„ã¾ã—ãŸã€‚ æ€ã£ã¦ã„ãŸã‚ˆã‚Šã‚‚ç°¡å˜ã«ä½¿ãˆã‚‹ã®ã¨ã€ãªã«ã‚ˆã‚Šæ–™é‡‘ãŒå®‰ã„ï¼å€‹äººã§ä½¿ã†ãƒ¬ãƒ™ãƒ«ã§ã‚ã‚Œã°ç„¡æ–™æ å†…ã§ãŠã•ã¾ã‚Šã¾ã™ã€‚ä¸€æ–¹ã€RDS ã¯çµæ§‹ãªæ–™é‡‘ãŒã‹ã‹ã‚‹ã®ã§ã€ãªã‹ãªã‹å€‹äººã§ã¯è©¦ã›ãªã„ã¨ã„ã†å°è±¡ã§ã™ã€‚ NoSQL ã«ã¤ã„ã¦ã¯ã“ã‚Œã¾ã§ã¯ã‚ã¾ã‚Šè§¦ã£ã¦ã“ãªã‹ã£ãŸã‚“ã§ã™ãŒã€æ›´æ–°ã®å°‘ãªã„ã‚·ãƒ³ãƒ—ãƒ«ãª REST API ã§ã¯ã€RDB ã‚ˆã‚Šæ–­ç„¶ NoSQL ã ãªã¨ã‚ã‚‰ãŸã‚ã¦æ„Ÿã˜ã¾ã—ãŸã€‚ RDB ã¨ NoSQL ã§ã¯ç”¨é€”ãŒãœã‚“ãœã‚“é•ã†ã®ã§å˜ç´”ãªæ¯”è¼ƒã¯é›£ã—ã„ã§ã™ãŒã€ã“ã‚Œã¾ã§ã¯ç°¡å˜ãª API ã§ã™ã‚‰ RDB ã‚’ä½¿ãŠã†ã¨ã—ã¦ã„ãŸã®ã§ã€ãã®è€ƒãˆæ–¹ãŒå¤‰ã‚ã£ãŸã®ã¯è‰¯ã‹ã£ãŸã§ã™ã€‚\nå…¨ä½“ã®æ„Ÿæƒ³ AWS Loft ã§é–‹å‚¬ã•ã‚Œã‚‹ãƒãƒ³ã‚ºã‚ªãƒ³ã€ã¨ã„ã†ã‹ãƒãƒ³ã‚ºã‚ªãƒ³è‡ªä½“ã¯ã˜ã‚ã¦ã®å‚åŠ ã§ã—ãŸãŒã€ä»¥ä¸Šã«å……å®Ÿã—ãŸæ™‚é–“ã§ã—ãŸã€‚ãƒãƒ³ã‚ºã‚ªãƒ³ç”¨ã®è³‡æ–™ã‚‚ä¸å¯§ã«ä½œã‚‰ã‚Œã¦ã„ã¦ã€åŸºæœ¬çš„ã«æ‰‹é †é€šã‚Šã«æ“ä½œã—ã¦ã„ã‚Œã°æœ€ä½é™ã®ç›®çš„ã®ã‚‚ã®ã¯å®Œæˆã™ã‚‹ã¨ã„ã†çŠ¶æ…‹ã§ã—ãŸã€‚ ä»Šå›ã§ã‚ã‚Œã°ã€é€”ä¸­ã§ IAM ãƒãƒªã‚·ãƒ¼ã®ä½œæˆã‚„ S3 ãƒã‚±ãƒƒãƒˆã¸ã® CORS è¨­å®šãªã©ã®æ‰‹é †ã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€ãã‚Œã‚‰ã®è¨­å®šã®ãŸã‚ã«å¿…è¦ãªæ–‡å­—åˆ—ã€JSON ãƒ‡ãƒ¼ã‚¿ã‚‚ãƒãƒ³ã‚ºã‚ªãƒ³è³‡æ–™ã«ã™ã¹ã¦å«ã¾ã‚Œã¦ã„ã‚‹ãŸã‚ã€ã‚¹ãƒ ãƒ¼ã‚ºã«é€²ã‚ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã—ãŸã€‚\nã‹ã¨è¨€ã£ã¦ã€å˜ç´”ãªã‚³ãƒ”ãƒšä½œæ¥­ã§çµ‚ã‚ã‚‹ã®ã§ã¯ãªãã€æä¾›ã•ã‚ŒãŸè³‡æ–™ã«å«ã¾ã‚Œã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚‚ã€å¾Œã«è‡ªåˆ†ã§ä½•ã‹å®Ÿè£…ã™ã‚‹ã¨ãã«ã¯å½¹ã«ç«‹ã¤ã‚‚ã®ã ã¨æ€ã„ã¾ã—ãŸã€‚ä»Šå›ã¯ Web ä¸Šã‹ã‚‰ Cognito ã§èªè¨¼ã—ãŸã‚Šã€S3 ãƒã‚±ãƒƒãƒˆå†…ã®ãƒªã‚¹ãƒˆã‚’å–å¾—ã—ãŸã‚Šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚Šã€ã¾ãŸã€Ajax ã§ API Gateway ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚Šã™ã‚‹å†…å®¹ã§ã—ãŸãŒã€ãã‚Œã‚‰ã®æ“ä½œã‚’å®Ÿç¾ã™ã‚‹ JavaScript ã®å‡¦ç† (.js ãƒ•ã‚¡ã‚¤ãƒ«) ã¯ãƒãƒ³ã‚ºã‚ªãƒ³è³‡æ–™ã«ã™ã¹ã¦å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ãªã®ã§ã€ã“ã‚Œã‚‰ã‚’è¦‹ã‚‹ã“ã¨ã§è‡ªåˆ†ã§å®Ÿè£…ã™ã‚‹ã¨ãã®å‚è€ƒã«ã§ãã‚‹ã¨ã„ã†ã‚ã‘ã§ã™ã€‚\nã“ã‚“ãªã«ã‚‚å……å®Ÿã—ãŸãƒãƒ³ã‚ºã‚ªãƒ³ãŒã€ãªã‚“ã¨ç„¡æ–™ã§å—ã‘ã‚‰ã‚Œã‚‹ãªã‚“ã¦é©šãã§ã™ã‚ˆã­ã€‚ å…ˆé€±ã¯ JAWS DAYS ã§è‰²ã‚“ãªè©±ã‚’èã„ã¦ãã¾ã—ãŸãŒã€ã‚„ã¯ã‚Šè‡ªåˆ†ã§æ‰‹ã‚’å‹•ã‹ã—ã¦ã¿ãªã„ã¨ã‚ã‹ã‚‰ãªã„éƒ¨åˆ†ã¯å¤šã„ã¨æ€ã†ã®ã§ã€ãƒãƒ³ã‚ºã‚ªãƒ³å½¢å¼ã§å®Ÿéš›ã«ã‚µãƒ¼ãƒ“ã‚¹ã‚’è§¦ã‚‹ã¨ã„ã†ã®ã¯å‡„ãè‰¯ã„ãªã¨æ€ã„ã¾ã—ãŸã€‚\nã¡ãªã¿ã«ã€åŒã˜å†…å®¹ã®ãƒãƒ³ã‚ºã‚ªãƒ³ãŒ 3/26 (ç«) 18:30-20:30 ã«é–‹å‚¬ã•ã‚Œã‚‹ã‚ˆã†ãªã®ã§ã€Cognito, API Gateway, DynamoDB ãªã©ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’å®Ÿéš›ã«è§¦ã£ã¦ã¿ãŸã„æ–¹ã¯å‚åŠ ã—ã¦ã¿ã¦ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ã€‚\nAWS Loft Tokyo ã«ã¦é–‹å‚¬ã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚»ãƒŸãƒŠãƒ¼ä¸€è¦§ API Gateway å®Œå…¨ã«ç†è§£ã—ãŸã€‚\n\u0026mdash; michimani (@_michimani_) February 27, 2019 ç†è§£ã—ãŸã¨ã¯è¨€ã£ã¦ã„ãªã„ã€‚\n",
    "permalink": "https://michimani.net/post/aws-handson-hajimete-serverless/",
    "title": "çŸ¥ã£å¾—ãƒãƒ³ã‚ºã‚ªãƒ³ã‚·ãƒªãƒ¼ã‚º ã¯ã˜ã‚ã¦ã® Serverlessï¼ AWS Loft Tokyo ã«è¡Œã£ã¦ãã¾ã—ãŸ"
  },
  {
    "contents": "TOC äº”åç”°ãƒ¡ãƒƒã‚»ã§é–‹å‚¬ã•ã‚ŒãŸ JAWS DAYS 2019 ã«å‚åŠ ã—ã¦ããŸã®ã§ã€ãã®ãƒ¬ãƒãƒ¼ãƒˆã§ã™ã€‚ JAWS DAYS ã¯ä»Šå¹´ã§ 7 å›ç›®ã‚‰ã—ã„ã®ã§ã™ãŒã€ä»Šå›ãŒåˆå‚åŠ ã§ã—ãŸã€‚ãªã®ã§ã€å„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆã¨ã„ã†ã‚ˆã‚Šã¯ã€ JAWS DAYS ã¨ã¯ï¼Ÿï¼Ÿ ã¿ãŸã„ãªå†…å®¹ã«ãªã£ã¦ã¾ã™ã€‚\nJAWS DAYS ã¨ã¯ï¼Ÿ Amazon Web Service (AWS) ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—ã§ã‚ã‚‹ JWAS-UG (AWS Use Group - Japan) ãŒä¸»å‚¬ã€ã‚¢ãƒã‚¾ãƒ³ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒ“ã‚¹ã‚¸ãƒ£ãƒ‘ãƒ³ãŒå¾Œæ´ã¨ãªã£ã¦é–‹å‚¬ã•ã‚Œã‚‹ JAWS-UG æœ€å¤§ã®ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚ å†’é ­ã«ã‚‚æ›¸ãã¾ã—ãŸãŒä»Šå›ã§ 7 å›ç›®ã®é–‹å‚¬ã§ã€æ¯å¹´ AWS ã«é–¢ã™ã‚‹å¹…åºƒã„ãƒ†ãƒ¼ãƒã®æ§˜ã€…ãªã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒé–‹ã‹ã‚Œã¦ã„ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚\nAbout | JAWS DAYS 2019 ãªãœå‚åŠ ã—ãŸã®ã‹ ç§è‡ªèº«ã€ AWS ã‚’è§¦ã‚Šå§‹ã‚ã¦ç´„ 1 å¹´åŠãã‚‰ã„ã«ãªã‚Šã¾ã™ã€‚ãã®é–“ã€AWSome Day 2018 æ±äº¬ã€Developers.IO 2018ã€AWS Start-up ã‚¼ãƒŸï¼ AWS Loft Tokyo ã¨ã„ã£ãŸ AWS ã«é–¢ã™ã‚‹ã‚»ãƒŸãƒŠãƒ¼/ã‚¤ãƒ™ãƒ³ãƒˆã«å‚åŠ ã—ã¦ãã¾ã—ãŸã€‚(ã“ã“ã§ã„ã†å‚åŠ ã¨ã¯ã€ç™»å£‡ã¨ã‹ã§ã¯ãªãå˜ã«ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’èãã«è¡Œã£ãŸã ã‘ã§ã™) ã§ã€ä»Šå¹´ã¯ AWS é–¢ä¿‚ã«é™ã‚‰ãšãã†ã„ã£ãŸå‹‰å¼·ä¼šçš„ãªã‚‚ã®ã«ã‚‚ã†å°‘ã—ç©æ¥µçš„ã«å‚åŠ ã—ã¦ã„ã“ã†ã¨ã„ã†ã“ã¨ã§ã€ä»Šå›ã® JAWS DAYS 2019 ã«ã‚‚å‚åŠ ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚\nå‚åŠ æ–¹æ³• Doorkeeper ã¨ã„ã†ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰å‚åŠ ç™»éŒ²ã—ã¾ã—ãŸã€‚ æ–™é‡‘ã¯ 1,000 å††ã§ã€äº‹å‰æ”¯æ‰•ã„ ã¾ãŸã¯ å½“æ—¥æ”¯æ‰•ã„ ãŒé¸ã¹ã¾ã—ãŸã€‚ãŸã ã€å½“æ—¥ã®å—ä»˜ã¯éå¸¸ã«æ··é›‘ã—ã¦ã„ãŸã®ã§ã€ã§ãã‚‹é™ã‚Šäº‹å‰æ”¯æ‰•ã„ã®ã»ã†ãŒã‚ˆã„ã§ã—ã‚‡ã†ã€‚\nå‚åŠ ç™»éŒ²ã™ã‚‹ã¨ QR ã‚³ãƒ¼ãƒ‰ãŒç™ºè¡Œã•ã‚Œã‚‹ã®ã§ã€å½“æ—¥ã¯ãã® QR ã‚³ãƒ¼ãƒ‰ã‚’å—ä»˜ã§èª­ã¿å–ã£ã¦ã‚‚ã‚‰ã†å½¢ã«ãªã‚Šã¾ã™ã€‚ ã“ã® QR ã‚³ãƒ¼ãƒ‰ã§ã™ãŒã€ iOS ã§ã‚ã‚Œã° Wallet ã‚¢ãƒ—ãƒªã«è¿½åŠ ã§ãã‚‹ã®ã§ã€ã‚ã–ã‚ã–å°åˆ·ã—ã¦ã„ã£ãŸã‚Šã€Doorkeeper ã®ã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦è¡¨ç¤ºã•ã›ãŸã‚Šã™ã‚‹å¿…è¦ãŒãªãã€ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã—ãŸã€‚\nJAWS DAYS ã¯ãŠç¥­ã‚Šã ã£ãŸ ã“ã†ã„ã†ã‚»ãƒŸãƒŠãƒ¼ã¨ã‹ã£ã¦ã€ã¡ã‚‡ã£ã¨æ®ºä¼ã¨ã—ã¦ã‚‹ã¨ã„ã†ã‹ã€ãƒ”ãƒªãƒƒã¨ã—ãŸé›°å›²æ°—ãŒã‚ã‚‹ã‚“ã˜ã‚ƒãªã„ã‹ã¨å‹æ‰‹ã«ä¸å®‰ã«ãªã£ã¦ã„ãŸã‚“ã§ã™ãŒã€ JAWS DAYS ã¯å…¨ããã‚“ãªã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ äº‹å‰ã«ã¡ã‚‰ã£ã¨èã„ã¦ã„ãŸé€šã‚Šã€ã™ã”ãè³‘ã‚„ã‹ã§ãŠç¥­ã‚Šã®ã‚ˆã†ãªé›°å›²æ°—ã§ã—ãŸã€‚\nç‰¹ã«ä¼æ¥­ã‚µãƒãƒ¼ã‚¿ãƒ¼ã‚„ã‚µãƒ¼ã‚¯ãƒ«ã‚µãƒãƒ¼ã‚¿ãƒ¼ãŒãƒ–ãƒ¼ã‚¹ã‚’å‡ºã—ã¦ã„ã‚‹ãƒˆãƒ©ãƒƒã‚¯ (ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¨ãƒªã‚¢) ã¯ã‹ãªã‚Šè³‘ã‚ã£ã¦ã„ã¾ã—ãŸã€‚ãŸã ã€ä»Šå›ã¯ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’èãã“ã¨ã«æ³¨åŠ›ã—ã™ãã¦ã€ã‚†ã£ãã‚Šè¦‹ã¦å›ã‚Œãªã‹ã£ãŸã®ãŒå¤±æ•—ã§ã™ã­ã€‚ ãŸã ã€ Twitter ã§æµã‚Œã¦ããŸ JAWS ã©ã‚‰ç„¼ãã¯ã—ã£ã‹ã‚Šã„ãŸã ãã¾ã—ãŸã€‚\nå½“æ—¥ã¯ ã¿ãªã•ã‚“ #jawsdays ã®ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’ä»˜ã‘ã¦è‰²ã€…ãƒ„ã‚¤ãƒ¼ãƒˆã—ã¦ã„ãŸã®ã§ã€ã“ã®ã‚¿ã‚°ã®ãƒ„ã‚¤ãƒ¼ãƒˆã‚’è¦‹ã‚Œã°å¤§ä½“ã®é›°å›²æ°—ã¯ã‚ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å†…å®¹ã‚‚æ§˜ã€… ä»Šå›ã¯ãƒˆãƒ©ãƒƒã‚¯ (ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ–ãƒ¼ã‚¹) ãŒ A ã€œ J ã® 11 ãƒˆãƒ©ãƒƒã‚¯ã«åˆ†ã‹ã‚Œã¦ã„ã¦ã€å„å› 1 ã€œ 3 åã®ç™»å£‡è€…ã«ã‚ˆã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒè¡Œã‚ã‚Œã¦ã„ã¾ã—ãŸã€‚ å€‹äººçš„ã«ã¯ã€æœ€è¿‘ã®æ¥­å‹™ã«é–¢ã‚ã‚‹å†…å®¹ã‚„è‡ªåˆ†ã«è¶³ã‚Šã¦ãªã„ã¨ã“ã‚ã®å†…å®¹ã«é–¢ã‚ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’èã“ã†ã¨ã„ã†ã“ã¨ã§ã€ä¸»ã« ã‚³ãƒ³ãƒ†ãƒŠ (Docker/Kubernetes)ã€ã‚µãƒ¼ãƒãƒ¬ã‚¹é–¢ä¿‚ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’èã„ã¦ã¾ã—ãŸã€‚ä»–ã«ã©ã‚“ãªã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒã‚ã£ãŸã‹ã¯ ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ« ã‚’ã”è¦§ãã ã•ã„ã€‚\nã¡ãªã¿ã«ã€å‰æ—¥ã«ãµã¨æ€ã„ã¤ã„ã¦ ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ«å†…ã®ç‰¹å®šã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«è‰²ã‚’ä»˜ã‘ã‚‹ bookmarklet ã‚’ä½œã£ãŸ ã‚“ã§ã™ãŒã€ã¾ã‚ã€ãã‚Œãªã‚Šã«æ´»èºã—ã¾ã—ãŸã€‚å®Ÿéš›ã«è¡Œã“ã†ã¨æ€ã£ã¦ã„ãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒäººæ°—ã™ãã¦èã‘ãªã‹ã£ãŸã‚Šã—ã¦ã€äºˆå®šã—ã¦ã„ãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã¨ã¯é•ã†ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’èãã“ã¨ã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€ã©ã‚Œã‚‚é¢ç™½ã„å†…å®¹ã§é€€å±ˆã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚\nãŸã ã€ã‚„ã£ã±ã‚Šä»Šã®è‡ªåˆ†ã§ã¯è©±ã«ã¤ã„ã¦ã„ã‘ãªã„å†…å®¹ã‚‚å¤šã€…ã‚ã£ãŸã®ã§ã€ãã®ã‚ãŸã‚Šã¯ä»Šå¾Œå°‘ã—ãšã¤å‹‰å¼·ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚ã¾ã‚ã€ãã†ã„ã†è¶³ã‚Šãªã„éƒ¨åˆ†ã‚’æ˜ç¢ºã«ã™ã‚‹ãã£ã‹ã‘ã«ã¯ãªã‚Šã¾ã™ã­ã€‚\nã‚ã¨ã€ä»Šå›ã®åçœã¨ã—ã¦ã¯ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³è´è¬›ç”¨ã®ãƒ¬ã‚·ãƒ¼ãƒã‚’ã—ã£ã‹ã‚Šç¢ºä¿ã—ã¦ãŠãã¨ã„ã†ã“ã¨ã§ã™ã€‚ å„ãƒˆãƒ©ãƒƒã‚¯ã¯ä¸€å¿œãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã§ä»•åˆ‡ã‚‰ã‚Œã¦ã„ã¾ã™ãŒã€å®Œå…¨ã«ä»•åˆ‡ã‚‰ã‚Œã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã„ãŸã‚ä»–ã®ãƒˆãƒ©ãƒƒã‚¯ã®éŸ³ã‚‚èã“ãˆã¦ãã¾ã™ã€‚ãã†ã„ã†çŠ¶æ…‹ã®ãŸã‚ã€ç™»å£‡è€…ã®ãƒã‚¤ã‚¯ã®éŸ³é‡ã¯ã‹ãªã‚Šçµã‚‰ã‚Œã¦ã„ã¦ã€ãã®ä»£ã‚ã‚Šã«ã€ãƒã‚¤ã‚¯ã®éŸ³å£°ã¯é…å¸ƒã•ã‚Œã‚‹ãƒ¬ã‚·ãƒ¼ãƒã§èãã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ãªã®ã§ã€ãƒ¬ã‚·ãƒ¼ãƒãªã—ã®å ´åˆã¯ç™»å£‡è€…ã®ã™ãè¿‘ãã®å¸­ã«åº§ã£ã¦ã„ãªã„ã¨ã€ã‹ãªã‚Šèãã¥ã‚‰ã„çŠ¶æ…‹ã§ã—ãŸã€‚\nå¾ŒåŠã«ã¤ã‚Œã¦å‚åŠ è€…ã®äººæ•°ã‚‚å¢—ãˆã¦ã„ã (ãªã‚“ã¨æ¥å ´è€…æ•° 1900 äºº!!)ã€å¦‚ä½•ã«ã—ã¦ç™»å£‡è€…ã®è¿‘ãã‚’ç¢ºä¿ã™ã‚‹ã‹ã¨ã„ã†æ„Ÿã˜ã§ã—ãŸã€‚ã“ã“ã‚‚åçœç‚¹ã§ã™ã­ã€‚\nãŠå¼å½“ãŒç¾å‘³ã—ã„ ãŠæ˜¼ã®æ™‚é–“å¸¯ã«ã¯ãŠå¼å½“ãŒé…å¸ƒã•ã‚Œã¾ã—ãŸã€‚ä»Šå›ã¯ä»¥ä¸‹ã® 4 ç¨®é¡ã®ãŠå¼å½“ãŒé…å¸ƒã•ã‚Œã‚‹ã“ã¨ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚\næµ·è€ãƒãƒªå¼å½“ è±ªè¯ä¸€å£ã‚«ãƒ„ã¨é®®é­šã®ç…§ç„¼ãå¼å½“ æ²¹æ·‹é¶å¼å½“ ãƒ’ãƒ¬ã‚¨ãƒ“å¼å½“ å½“åˆã®äºˆå®šã§ã¯ è±ªè¯ä¸€å£ã‚«ãƒ„ã¨é®®é­šã®ç…§ç„¼ãå¼å½“ ã‚’ç‹™ã£ã¦ã„ãŸã‚“ã§ã™ãŒã€ãŠæ˜¼ã®æ™‚é–“å¸¯ã«ã¯å‚åŠ è€…å…¨å“¡ãŒãŠå¼å½“é…å¸ƒã®åˆ—ã«ä¸¦ã¶ã“ã¨ã«ãªã‚‹ã®ã§ã€ä¼šå ´å†…ã¯å¤§æ··é›‘ã€‚çµæœçš„ã«ä¸€ç•ªè¿‘ãã§é…å¸ƒã•ã‚Œã¦ã„ãŸ ãƒ’ãƒ¬ã‚¨ãƒ“å¼å½“ ã‚’é£Ÿã¹ã¾ã—ãŸã€‚ ãŸã ã€ã“ã®ãŠå¼å½“ã®ç¾å‘³ã—ã„ã“ã¨ã€‚\né‡ã‚‚å‘³ã‚‚å¤§æº€è¶³ã§ã—ãŸã­ã€‚ ã¡ãªã¿ã«ã€ãŠå¼å½“ä»¥å¤–ã«ã‚‚ã€é‡å¤–ã«ã‚ã‚‹ã‚­ãƒƒãƒãƒ³ã‚«ãƒ¼ã§è±šä¸¼ã‚„ãƒ©ãƒ¼ãƒ¡ãƒ³ã‚‚æä¾›ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚\næ‡‡è¦ªä¼šã¯è¡Œã£ãŸã»ã†ãŒã„ã„ å…¨ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒçµ‚ã‚ã£ãŸã‚ã¨ã¯æ‡‡è¦ªä¼šãŒã‚ã£ãŸã‚“ã§ã™ãŒã€ã“ã‚Œã¯çµ¶å¯¾ã«è¡Œãã¹ãã§ã—ãŸã­\u0026hellip;ã€‚ã‚ã¨ã§ Twitter ã‚’è¦‹ã¦æ€ã„ã¾ã—ãŸã€‚ ã“ã†ã„ã†ã‚¤ãƒ™ãƒ³ãƒˆã¯è‡ªåˆ†ã®çŸ¥è­˜ã‚’å¢—ã‚„ã™ãŸã‚ã¨ã„ã†ç›®çš„ã‚‚ã‚ã‚Šã¾ã™ãŒã€ã‚„ã£ã±ã‚Šä»–ã®äººã¨ã®é–¢ã‚ã‚Šã‚’ä½œã‚‹ã¨ã„ã†ã“ã¨ã‚‚å¤§äº‹ã ã¨ã„ã†ã“ã¨ã§ã™ã­ã€‚ã›ã£ã‹ãåœ°æ–¹ã‹ã‚‰ã“ã‚“ãª ç©ºæ°—ã®æ‚ªã„ ä¾¿åˆ©ã§ã‚¤ãƒ™ãƒ³ãƒˆã‚‚ãŸãã•ã‚“ã‚ã‚‹éƒ½ä¼šã«ç§»ã‚Šä½ã‚“ã§ã„ã‚‹ã®ã«ã€ãã®ãƒ¡ãƒªãƒƒãƒˆã‚’ç”Ÿã‹ã•ãªã„ã¨æã§ã™ã‚ˆã­ã€‚\nã¨ã„ã†ã®ãŒæœ€å¾Œã®åçœç‚¹ã€‚\nã¾ã¨ã‚ åˆã‚ã¦ JAWS DAYS ã«å‚åŠ ã—ã¦ããŸãƒ¬ãƒãƒ¼ãƒˆã§ã—ãŸã€‚ è‰²ã€…ã¨åçœç‚¹ã¯ã‚ã‚Šã¾ã™ãŒã€ãã‚Œä»¥ä¸Šã«é¢ç™½ã‹ã£ãŸãƒ»æ¥½ã—ã‹ã£ãŸã¨ã„ã†å°è±¡ãŒå¼·ã„ã§ã™ã€‚ãŸã£ãŸä¸€æ—¥ã§ã—ãŸãŒã€æœ¬å½“ã«è‰²ã€…ãªè©±ã‚’èãã“ã¨ãŒã§ããŸã®ã§ã€ã‹ãªã‚Šæ¿ƒã„ä¸€æ—¥ã§ã—ãŸã€‚ã¾ãŸæ¥å¹´ã‚‚é–‹å‚¬ã•ã‚Œã‚Œã°å‚åŠ ã—ãŸã„ã§ã™ã—ã€JAWS DAYS ä»¥å¤–ã®ã‚¤ãƒ™ãƒ³ãƒˆã«ã‚‚å‚åŠ ã—ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã—ãŸã€‚\né‹å–¶ã®ã¿ãªã•ã¾ã€ç™»å£‡è€…ã®ã¿ãªã•ã¾ã€å‚åŠ ã•ã‚ŒãŸã¿ãªã•ã¾ã€ãŠç–²ã‚Œã•ã¾ã§ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/aws-jaws-days-2019-report/",
    "title": "JAWS DAYS 2019ï¼ TOC äº”åç”°ãƒ¡ãƒƒã‚» ã«è¡Œã£ã¦ãã¾ã—ãŸ"
  },
  {
    "contents": "JAWS DAYS 2019 ãŒæ˜æ—¥ã«è¿«ã£ã¦ã„ã¾ã™ã€‚\nç§è‡ªèº«ã€åˆã® JAWS DAYS ã¨ã„ã†ã“ã¨ã§ã€åˆ¥ã«ç™»å£‡ã™ã‚‹ã‚ã‘ã§ã‚‚ãªã„ã®ã§ã™ãŒä½•æ•…ã‹ç·Šå¼µã—ã¦ã„ã¾ã™ã€‚ ã¨ã„ã†ã®ã‚‚ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ã”ã¨ã«ãƒˆãƒ©ãƒƒã‚¯ã‚’ç§»å‹•ã™ã‚‹ã®ãŒã†ã¾ãã„ãã‹ã€ã“ã‚ŒãŒä¸å®‰è¦ç´ ã§ã™ã€‚\nã‚ˆãå‚åŠ ã•ã‚Œã¦ã‚‹ã¿ãªã•ã‚“ã¯ã€è‡ªåˆ†ãŒå‚åŠ ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ã©ã®ã‚ˆã†ã«ç®¡ç†ã•ã‚Œã¦ã„ã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚\nå€‹äººçš„ã«ã¯ã€ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ«ã«è‰²ã§ã‚‚ä»˜ã„ã¦ã„ã‚Œã°ã„ã„ã®ã«ãªã€ã¨æ€ã£ã¦ã¾ã™ã€‚\nã¨ã„ã†ã“ã¨ã§ã€ã‚¿ã‚¤ãƒˆãƒ«ã«ã‚‚ã‚ã‚‹ã‚ˆã†ã«ã€ JAWS DAYS ã®ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç‰¹å®šã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆã™ã‚‹ bookmarklet ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚\nä½¿ã„æ–¹ ä¸‹ã®ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«ã€ãƒã‚¤ãƒ©ã‚¤ãƒˆã—ãŸã„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã® URL ã‚’æ”¹è¡ŒåŒºåˆ‡ã‚Šã§å…¥åŠ›ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€ä¸‹è¨˜ã®ã‚ˆã†ãªå½¢ã€‚\nhttps://jawsdays2019.jaws-ug.jp/session/1527/ https://jawsdays2019.jaws-ug.jp/session/1270/ ã™ã‚‹ã¨ã€ãã®ä¸‹ã®ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«ã€å…¥åŠ›ã—ãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆã™ã‚‹ bookmarklet ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã®ã§ã€ãã® bookmarklet ã‚’ JAWS DAYS 2019 ã®ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ«ãƒšãƒ¼ã‚¸ ã§ä½¿ç”¨ã—ã¾ã™ã€‚\nbookmarklet è‡ªä½“ã®ä½¿ã„æ–¹ã«ã¤ã„ã¦ã¯ããã£ã¦ãã ã•ã„ã€‚\nã“ã‚“ãªæ„Ÿã˜ã§ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã‚Œã¾ã™ã€‚\nä¸€å¿œ Chrome (72.0.3626.96) ã¨ Safari (12.0.3) ã§å‹•ä½œã¯ç¢ºèªã—ã¦ã„ã¾ã™ãŒã€å‹•ã‹ãªã‹ã£ãŸã‚‰ã™ã¿ã¾ã›ã‚“ã€‚\n",
    "permalink": "https://michimani.net/post/development-create-timetable-color-bookmarklet-jd2019/",
    "title": "JAWS DAYS 2019 ã®ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç‰¹å®šã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆã™ã‚‹ bookmarklet ã‚’ä½œã£ãŸ"
  },
  {
    "contents": "Lambda ã‚’ VPC å†…ã§å®Ÿè¡Œã™ã‚‹å ´åˆã€å¤–éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¨æ¥ç¶šã™ã‚‹ãŸã‚ã«ã¯ NAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã™ãŒã€ NAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã®åˆ©ç”¨ã«ã¯ ç´„ 4,000 ã€œ 5,000 å††ã®è²»ç”¨ãŒã‹ã‹ã‚‹ãŸã‚ã€ãªã‚“ã¨ã‹ã—ã¦åˆ©ç”¨ã—ãªã„æ–¹å‘ã§æ§‹ç¯‰ã§ããªã„ã‹ã¨è‰²ã€…è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚\nã‚„ã‚ŠãŸã„ã“ã¨ ã‚„ã‚ŠãŸã„ã®ã¯ã€ EC2 ã«å¯¾ã—ã¦ã€ IP åˆ¶é™ã•ã‚Œã¦ã„ã‚‹ FTP ãƒãƒ¼ãƒˆã¸ã®ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ (FTP ãƒ­ã‚°ã‚¤ãƒ³è©¦è¡Œ) ã‚’å®Ÿæ–½ã—ã¦ã€æ­£å¸¸ã«ã‚¢ã‚¯ã‚»ã‚¹å‡ºæ¥ãªã‹ã£ãŸå ´åˆã« Slack ã§é€šçŸ¥ã™ã‚‹ ã€ã¨ã„ã†ã“ã¨ã§ã™ã€‚\nå¯¾è±¡ã® EC2 ã¨åŒã˜ VPC å†…ã§å®Ÿè¡Œã™ã‚‹ Lambda ã§ã¯ã€æ¬¡ã®ã‚ˆã†ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ã—ã¾ã™ã€‚(ãƒ©ãƒ³ã‚¿ã‚¤ãƒ : Python 3.6)\nimport json from ftplib import FTP from urllib.request import Request, urlopen host = \u0026#39;EC2 ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆIP\u0026#39; user = \u0026#39;ftp-user\u0026#39; password = \u0026#39;ftp-user-pass\u0026#39; webhook_url = \u0026#39;slack-webhook-url\u0026#39; def lambda_handler(event, context): try: ftp = FTP(host=host, user=user, passwd=password, timeout=10) ftp.quit() except Exception as e: try: print(e) headers = {\u0026#34;Content-Type\u0026#34;: \u0026#34;application/json\u0026#34;} data = bytes(json.dumps({\u0026#39;text\u0026#39;: str(e)}), \u0026#39;utf-8\u0026#39;) request = Request(webhook_url, data=data, headers=headers) urlopen(request) except Exception as e2: print(e2) çµè«– è©¦ã—ãŸã“ã¨ã¯ã‚ã¨ã«æ›¸ãã¨ã—ã¦ã€ã¾ãšçµè«–ã‹ã‚‰ã€‚\nã©ã†ã—ã¦ã‚‚ Lambda ã‚’ä½¿ã„ãŸã„å ´åˆ ã©ã†ã—ã¦ã‚‚ Lambda ã‚’ä½¿ã£ã¦å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã¯ã€æ¬¡ã®ã‚ˆã†ãªæ§‹æˆã§ã‚„ã‚‹ã—ã‹ãªã„ã‚ˆã†ã§ã™ã€‚\nå¯¾è±¡ã® EC2 ã¨åŒã˜ VPC å†…ã§ ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ç”¨ã® Lambda ã‚’å®Ÿè¡Œã—ã¦ã€ Slack ã¸ã®é€šçŸ¥ (å¤–éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¨ã®æ¥ç¶š) ã®ãŸã‚ã« NAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã‚’è¨­ç½®ã™ã‚‹ã€ã¨ã„ã†æ§‹æˆã§ã™ã€‚\nã¾ã€ã“ã‚ŒãŒä¸€èˆ¬çš„ãªæ§‹æˆã«ãªã‚‹ã‚“ã§ã—ã‚‡ã†ã­ã€‚\næ§‹æˆã®æ§‹ç¯‰æ‰‹é † ä¸Šå›³ã®æ§‹æˆã‚’æ§‹ç¯‰ã™ã‚‹æ‰‹é †ã¨ã—ã¦ã¯ã€ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚(æ—¢ã« VPC ã¨ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãªã‚µãƒ–ãƒãƒƒãƒˆã¯å­˜åœ¨ã™ã‚‹ã‚‚ã®ã¨ã—ã¾ã™)\nãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚µãƒ–ãƒãƒƒãƒˆã‚’ä½œæˆ NAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã‚’ä½œæˆ NAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ç”¨ã®ãƒ«ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆ ä½œæˆã—ãŸã‚µãƒ–ãƒãƒƒãƒˆå†…ã§ Lambda ã‚’å®Ÿè¡Œ 1. ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚µãƒ–ãƒãƒƒãƒˆã‚’ä½œæˆ ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚µãƒ–ãƒãƒƒãƒˆã¨è¨€ã£ã¦ã‚‚ã€æ™®é€šã®ã‚µãƒ–ãƒãƒƒãƒˆã§ã™ã€‚VPC å†…ã«æ–°ãŸã«ä½œæˆã—ã¾ã™ã€‚\n2. NAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã‚’ä½œæˆ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ VPC ã®ç”»é¢å·¦ã‹ã‚‰ NAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã‚’é¸æŠã—ã€ä½œæˆã—ã¾ã™ã€‚\nNAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã«ã¯ EIP ãŒå¿…è¦ã«ãªã‚Šã¾ã™ãŒã€ãã®å ´ã§ä½œæˆã§ãã¾ã™ã€‚\n3. NAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ç”¨ã®ãƒ«ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆ VPC å†…ã«ã€æ–°ãŸã«ãƒ«ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nDestination 0.0.0.0/0 ã® Target ã¨ã—ã¦ã€ä½œæˆã—ãŸ NAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n4. ä½œæˆã—ãŸã‚µãƒ–ãƒãƒƒãƒˆå†…ã§ Lambda ã‚’å®Ÿè¡Œ Lambda ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šã§ã€ VPC ã¨ã€ä½œæˆã—ãŸã‚µãƒ–ãƒãƒƒãƒˆã‚’æŒ‡å®šã—ã¾ã™ã€‚\nLambda ã‚’ä½¿ã‚ãªã„ ãã‚‚ãã‚‚è«–ã«ãªã‚Šã¾ã™ãŒã€ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã€ã©ã“ã‹å›ºå®š IP ã‚’æŒã£ã¦ã„ã‚‹ã‚µãƒ¼ãƒã«ãŠã„ã¦ã€ãã“ã§å®Ÿè¡Œã™ã‚‹ã¨ã„ã†æ–¹æ³•ã§ã™ã€‚\nå›ºå®šã® IP ãŒã‚ã‚Œã°ã€ãã® IP ã‚’ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã§è¨±å¯ã™ã‚Œã°ã„ã„ã ã‘ã§ã™ã€‚\næ—¢ã«åˆ¥ã§ã‚µãƒ¼ãƒã‚’æŒã£ã¦ã„ã‚‹å ´åˆã¯ã“ã®æ–¹æ³•ãŒä¸€ç•ªç°¡å˜ã§ä¸€ç•ªã‚³ã‚¹ãƒˆã‚‚ä½ããªã‚‹ã§ã—ã‚‡ã†ã€‚\nã‚„ã£ã¦ã¿ãŸã“ã¨ ä»¥ä¸‹ã€ NAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã‚’ä½¿ã‚ãšã«ãªã‚“ã¨ã‹å‡ºæ¥ãªã„ã‹è‰²ã€…è©¦ã—ã¦ã¿ãŸå†…å®¹ã§ã™ã€‚\nLambda ã‚’ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚µãƒ–ãƒãƒƒãƒˆå†…ã§å®Ÿè¡Œã—ã¦ã¿ã‚‹ â€»Amazon SNS ã¨ Slack ã®ã‚¢ã‚¤ã‚³ãƒ³ã¯ç„¡è¦–ã—ã¦ãã ã•ã„\nä¸€è¦‹ã™ã‚‹ã¨ã“ã®æ§‹æˆã§ Lambda ã¯å¤–éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«æ¥ç¶šã§ããã†ã§ã™ãŒã€ã§ãã¾ã›ã‚“ã€‚\né€šå¸¸ã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚’é€šã˜ã¦ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã‚ˆã†ã«ã€ãƒªã‚½ãƒ¼ã‚¹ã¯ Amazon Virtual Private Cloud (Amazon VPC) å†…ã«ä½œæˆã—ã¾ã™ã€‚\nAmazon VPC å†…ã®ãƒªã‚½ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã« Lambda é–¢æ•°ã‚’æ§‹æˆã™ã‚‹ ã¨ã‚ã‚‹ã‚ˆã†ã«ã€ Lambda ã¯ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚µãƒ–ãƒãƒƒãƒˆå†…ã‹ã‚‰å¤–ã«ã¯å‡ºã‚‰ã‚Œã¾ã›ã‚“ã€‚\nãªã®ã§ã€EC2 ã¸ã®ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã¯å¯èƒ½ã§ã™ãŒã€ãã®çµæœã‚’ Slack ã¸æŠ•ã’ã‚‹ (Webhook ã‚’å©ã) ã¨ã“ã‚ã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã„ã¾ã™ã€‚\nSlack ã¸ã®é€šçŸ¥ã‚’ SNS çµŒç”±ã«ã—ã¦ã¿ã‚‹ Lambda ã‹ã‚‰ã€åŒã˜ AWS ã‚µãƒ¼ãƒ“ã‚¹ã§ã‚ã‚‹ Amazon SNS ã‚’ä½¿ã£ã¦ Slack ã¸ãƒã‚¹ãƒˆã™ã‚‹ã¨ã„ã†æ–¹æ³•ã§ã™ã€‚\næ§‹æˆã¯ä¸Šå›³ã®ã¾ã¾ã§ã€ Lambda ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚\nimport boto3 import json from ftplib import FTP from urllib.request import Request, urlopen host = \u0026#39;EC2 ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆIP\u0026#39; user = \u0026#39;ftp-user\u0026#39; password = \u0026#39;ftp-user-pass\u0026#39; sns_topic_arn = \u0026#39;SNS-TOPIC-ARN\u0026#39; def lambda_handler(event, context): try: ftp = FTP(host=host, user=user, passwd=password, timeout=10) ftp.quit() except Exception as e: try: print(e) puclish_sns_topic(\u0026#39;SNS publish.\u0026#39;, str(e)) except Exception as e2: print(e2) def puclish_sns_topic(subject, message): sns_client = boto3.client(\u0026#39;sns\u0026#39;) sns_client.publish( TopicArn=sns_topic_arn, Message=message, Subject=subject ) ã¾ãŸã€ SNS ã‹ã‚‰å®Ÿè¡Œã™ã‚‹ Slack ã¸ã®ãƒã‚¹ãƒˆç”¨ Lambda ã‚’ä½œæˆã—ã¾ã™ã€‚\nimport json from urllib.request import Request, urlopen webhook_url = \u0026#39;slack-webhook-url\u0026#39; def lambda_handler(event, context): try: message = str(event[\u0026#39;Records\u0026#39;][0][\u0026#39;Sns\u0026#39;][\u0026#39;Message\u0026#39;]) headers = {\u0026#34;Content-Type\u0026#34;: \u0026#34;application/json\u0026#34;} data = bytes(json.dumps({\u0026#39;text\u0026#39;: message}), \u0026#39;utf-8\u0026#39;) request = Request(webhook_url, data=data, headers=headers) urlopen(request) except Exception as e: print(e) çµæœã¨ã—ã¦ã¯ã€ Lambda ã‹ã‚‰ SNS ã® API ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã“ã‚ã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã«ãªã‚Šã¾ã™ã€‚\nåŒã˜ AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ã¨ã¯è¨€ãˆã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¯åˆ¥ç‰©ã§ã™ã€‚å½“ãŸã‚Šå‰ã®ã“ã¨ã§ã™ãŒã€é›°å›²æ°—ã§ã‚¤ã‚±ã‚‹ã¨é–ƒã„ãŸã®ã§ã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚\nNAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã‚’è¨­ç½®ã™ã‚‹ ã¨ã„ã†ã“ã¨ã§ã€ã‚„ã¯ã‚Š NAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã¯å¿…è¦ã§ã‚ã‚‹ã¨ã„ã†ã“ã¨ã‹ã‚‰ã€å®Ÿéš›ã«è¨­ç½®ã—ã¦ã¿ãŸæ§‹æˆãŒã“ã‚Œã§ã™ã€‚\nã“ã†ã™ã‚‹ã“ã¨ã§ã€ Lambda ã‹ã‚‰ SNS ã¸ã® Publish ãŒå¯èƒ½ã«ãªã‚Šã€ç„¡äº‹ã« Slack ã¸ã®é€šçŸ¥ã‚‚ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\n\u0026hellip; ã„ã‚„ã€NAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ä½¿ã†ãªã‚‰ SNS çµŒç”±ã§ Slack ã¸æŠ•ç¨¿ã™ã‚‹å¿…è¦ç„¡ã„ãªã€‚ã¨ã„ã†ã“ã¨ã§ã€å†’é ­ã«æ›¸ã„ãŸæœ€åˆã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã€ã‚„ã‚ŠãŸã„ã“ã¨ãŒå®Ÿç¾ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nã¾ã¨ã‚ è‰²ã€…ã‚„ã£ã¦ã¿ãŸã‚ˆã†ã§ã€æœ€çµ‚çš„ã«ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ãƒ¬ãƒ™ãƒ«ã®çµè«–ã—ã‹å¾—ã‚‰ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚\nãŸã ã€å€‹äººçš„ã«ã¯è‰²ã€…è©¦ã—ã¦ç´å¾—ã§ããŸã®ã§è‰¯ã‹ã£ãŸã§ã™ã€‚ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¾ã‚ã‚Šã®æ§‹æˆã£ã¦é¢å€’ãã•ã„ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒã‚ã‚Šã¾ã™ãŒã€ AWS ã ã¨ãƒãƒãƒãƒã—ã¦ã„ãã ã‘ãªã®ã§ç°¡å˜ã§ã™ã­ã€‚ã¨ã¯è¨€ãˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¾ã‚ã‚Šã®çŸ¥è­˜ã¯ã»ã¨ã‚“ã©ãªã„ã®ã§ã€å˜ã« VPC ã ã‚µãƒ–ãƒãƒƒãƒˆã ã¨è¨€ã£ã¦ã‚‚å¥¥ãŒæ·±ã„ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/aws-run-lambda-in-vpc/",
    "title": "Lambda ã‚’ VPC å†…ã§å®Ÿè¡Œã—ã¦å¤–éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¨æ¥ç¶šã™ã‚‹ (ãŸã‚ã«è‰²ã€…ã‚„ã£ã¦ã¿ãŸ)"
  },
  {
    "contents": "èµ·ã“ã£ãŸäº‹è±¡ Homebrew ã‚’ ä½¿ã£ã¦ macOS ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãŸ PHP ãŒã€ä½•ã®å‰è§¦ã‚Œã‚‚ãªãä½¿ãˆãªããªã£ã¦ã„ã¾ã—ãŸã€‚\n$ php -v dyld: Library not loaded: /usr/local/opt/icu4c/lib/libicui18n.62.dylib Referenced from: /usr/local/opt/php@7.1/bin/php Reason: image not found [1] 8697 abort php -v ç’°å¢ƒ MacBook Pro (15-inch, 2016) macOS Sierra 10.12.6 Homebrew 2.0.0 ã‚„ã£ãŸã“ã¨ ãã‚‚ãã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã®ã‹ $ brew list | grep php php@7.1 ã•ã‚Œã¦ã„ã¾ã™ã€‚æ¶ˆãˆãŸã‚ã‘ã§ã¯ãªã•ãã†ã§ã™ã€‚\nå†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ ã¨ã‚Šã‚ãˆãšå†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã¾ã™ã€‚\n$ brew reinstall php@7.1 ==\u0026gt; Reinstalling php@7.1 ... ... å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã¨ã“ã‚ã€ç„¡äº‹ã«ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\n$ php -v PHP 7.1.25 (cli) (built: Dec 7 2018 08:24:41) ( NTS ) Copyright (c) 1997-2018 The PHP Group Zend Engine v3.1.0, Copyright (c) 1998-2018 Zend Technologies with Zend OPcache v7.1.25, Copyright (c) 1999-2018, by Zend Technologie ",
    "permalink": "https://michimani.net/post/development-brew-php-image-not-foud-error/",
    "title": "Homebrew ã‚’ä½¿ã£ã¦ macOS ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ PHP ãŒä½¿ãˆãªããªã£ãŸ"
  },
  {
    "contents": "ã‚„ã‚ŠãŸã„ã“ã¨ Qiita ã®è¨˜äº‹ç·¨é›†ç”»é¢ã§ã¯ã‚¿ã‚°ã‚’å…¥åŠ›ã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚ã‚ãã“ã¯åŠè§’ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šã§æ–‡å­—ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€ãã®åŒºåˆ‡ã‚Šã”ã¨ã«æ–‡å­—ã®èƒŒæ™¯è‰²ãŒã¤ã„ã¦ã€ã©ã‚“ãªã‚¿ã‚°ãŒè¨­å®šã•ã‚Œã‚‹ã®ã‹åˆ¤åˆ¥ã—ã‚„ã™ããªã‚Šã¾ã™ã€‚\nã“ã® UI ã¯ã‚¿ã‚°ä»˜ã‘ã ã‘ã§ã¯ãªãæ¤œç´¢çª“ã¨ã‹ã«ã‚‚ä½¿ãˆãã†ãªã®ã§ã€ä»Šå›ã¯ã“ã® UI ã‚’å†ç¾ã—ã¦ã¿ã¾ã™ã€‚\nã‚„ã£ã¦ã¿ãŸ ã¨ã„ã†ã“ã¨ã§ã€ã‚„ã£ã¦ã¿ãŸçµæœã§ã™ã€‚ä¸‹ã®ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã«æ–‡å­—ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€åŠè§’ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šã§èƒŒæ™¯è‰²ãŒã¤ãã¾ã™ã€‚\n\u0026ldquo;èƒŒæ™¯è‰²\u0026rdquo; ã¨è¨€ã„ãªãŒã‚‰ã€å®Ÿã¯è¢«ã›ã¦ã„ã‚‹ ã“ã®ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã® HTML ã¨ CSS ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\n\u0026lt;div id=\u0026#34;overlay-sample\u0026#34;\u0026gt; \u0026lt;div id=\u0026#34;overlay-textbox-area\u0026#34;\u0026gt; \u0026lt;div id=\u0026#34;overlay-area\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; autocomplete=\u0026#34;off\u0026#34;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; #overlay-sample { margin: 30px; font-family: inherit; } #overlay-area { color: transparent; letter-spacing: .02em; margin: 2px; overflow-wrap: break-word; overflow: hidden; padding: 13px 12px; position: absolute; white-space: pre-wrap; width: 100%; font-size: 16px !important; } #overlay-area span.overlay { background-color: #ffcc80; border-radius: 2px; box-shadow: 0 0 0 1px #ffa726; padding-bottom: 1px; padding-top: 1px; } #overlay-textbox-area input[type=text] { font-family: inherit; font-size: 16px !important; letter-spacing: .02em; outline: 0px; padding: 6px 12px; position: relative; width: 100%; } è‰²ã€…ã¨ç´°ã‹ã„ã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¨­å®šã—ã¦ã„ã¾ã™ãŒã€è‚å¿ƒãªã®ã¯æ¬¡ã® 2 ç‚¹ã§ã™ã€‚\nèƒŒæ™¯è‰²ã¯èƒŒæ™¯ã§ã¯ãªãã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã¨ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤è¦ç´ ã®ãƒ•ã‚©ãƒ³ãƒˆãƒ»ã‚µã‚¤ã‚ºã‚’åˆã‚ã›ã‚‹ 1. èƒŒæ™¯è‰²ã¯èƒŒæ™¯ã§ã¯ãªãã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ èƒŒæ™¯è‰²ã¨è¨€ã„ãªãŒã‚‰ã‚‚ã€å®Ÿéš›ã¯èƒŒæ™¯è‰²ãŒã¤ã„ãŸè¦ç´ ã‚’ä¸Šã‹ã‚‰è¢«ã›ã¦ã„ã¾ã™ã€‚ä¸Šã«ã‹ã¶ã›ã¦ã„ã‚‹ã®ãŒ #overlay-area span.overlay ã§æŒ‡å®šã•ã‚Œã¦ã„ã‚‹è¦ç´ ã§ã™ã€‚ä¾‹ãˆã° Hello World!! ã“ã‚“ã«ã¡ã¯ ä¸–ç•Œ ã¨å…¥åŠ›ã—ãŸã¨ãã® HTML ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\n\u0026lt;div id=\u0026#34;overlay-sample\u0026#34;\u0026gt; \u0026lt;div id=\u0026#34;overlay-textbox-area\u0026#34;\u0026gt; \u0026lt;div id=\u0026#34;overlay-area\u0026#34;\u0026gt;\u0026lt;span class=\u0026#34;overlay\u0026#34;\u0026gt;Hello\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;overlay\u0026#34;\u0026gt;World!!\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;overlay\u0026#34;\u0026gt;ã“ã‚“ã«ã¡ã¯\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;overlay\u0026#34;\u0026gt;ä¸–ç•Œ\u0026lt;/span\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; autocomplete=\u0026#34;off\u0026#34; value=\u0026#34;Hello World!! ã“ã‚“ã«ã¡ã¯ ä¸–ç•Œ\u0026#34;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã®ä¸Šã« span.overlay ãŒä¹—ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ span.overlay ã®èƒŒæ™¯è‰²ã¯å¥½ããªè‰²ã«ã—ã¾ã™ã€‚ãã—ã¦ã€ãã®è¦ªè¦ç´ ã§ã‚ã‚‹ #overlay-area ã«ã¯ã€é€éã•ã‚Œã‚‹ã‚ˆã†ã« color: transparent; ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n2. ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã¨ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤è¦ç´ ã®ãƒ•ã‚©ãƒ³ãƒˆãƒ»ã‚µã‚¤ã‚ºã‚’åˆã‚ã›ã‚‹ ã“ã‚ŒãŒä¸€ç•ªã®ãƒã‚¤ãƒ³ãƒˆã§ã™ãŒã€ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã¨ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤è¦ç´ ã®ãƒ•ã‚©ãƒ³ãƒˆã¨ã‚µã‚¤ã‚ºã¯ä¸€è‡´ã•ã›ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€æ–‡å­—å¹…ã‚’æŒ‡å®šã™ã‚‹ letter-spacing ã«ã¤ã„ã¦ã‚‚ã€åŒã˜ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nå½“ãŸã‚Šå‰ã¨ã„ãˆã°ãã‚Œã¾ã§ã§ã™ãŒã€ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã«å¯¾ã—ã¦ã¯åˆ¥ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒé©ç”¨ã•ã‚ŒãŸã‚Šã™ã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã®ã§ã€æ˜ç¤ºçš„ã«åŒã˜ã‚¹ã‚¿ã‚¤ãƒ«ãŒé©ç”¨ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ä¸Šã®ä¾‹ã§ã¯ font-family: inherit; ã§ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ç¶™æ‰¿ã—ã¦ã„ã¾ã™ã€‚\nãƒ†ã‚­ã‚¹ãƒˆã®å…¥åŠ›ãƒ»å¤‰æ›´ã¯ JS ã§ç›£è¦– æ–‡å­—å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆã«ã¤ã„ã¦ã¯ JavaScript ã§ç›£è¦–ã—ã¾ã™ã€‚å®Ÿéš›ã«ã¯ã€ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢å†…ã§ã®ã‚­ãƒ¼ãƒ€ã‚¦ãƒ³ã‚’ãƒˆãƒªã‚¬ãƒ¼ã¨ã—ã¦ã€å…¥åŠ›ã•ã‚ŒãŸæ–‡å­—ã‚’åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã§åˆ†å‰² â†’ span è¦ç´ ã‚’è¿½åŠ  ã—ã¦ã„ã¾ã™ã€‚\nconst textElem = document.querySelector(\u0026#39;#overlay-textbox-area input[type=text]\u0026#39;); textElem.addEventListener(\u0026#39;keyup\u0026#39;, (event) =\u0026gt; { renderOverLay(event.target.value); }); function renderOverLay(text) { const overlayArea = document.getElementById(\u0026#39;overlay-area\u0026#39;); const charPartsList = text.split(\u0026#39; \u0026#39;); let spanSource = \u0026#39;\u0026#39;; for (let i = 0; i \u0026lt; charPartsList.length; i++) { if (spanSource !== \u0026#39;\u0026#39; \u0026amp;\u0026amp; !spanSource.match(/ $/)) { spanSource += \u0026#39; \u0026#39;; } if (charPartsList[i] === \u0026#39;\u0026#39;) { spanSource += \u0026#39; \u0026#39;; } else { spanSource += `\u0026lt;span class=\u0026#34;overlay\u0026#34;\u0026gt;${charPartsList[i]}\u0026lt;/span\u0026gt;`; } } overlayArea.innerHTML = spanSource; } ã“ã®ã¨ãã€DOM è¦ç´ ã‚’è¿½åŠ ã™ã‚‹è¦ç´  (ä»Šå›ã§ã‚ã‚Œã° .overlay-area ) ã«å¯¾ã—ã¦ white-space: pre-wrap; ã‚’é©ç”¨ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã¾ã¨ã‚ ã‚½ãƒ¼ã‚¹ã¯ gist ã«ç½®ã„ã¦ã¾ã™ã€‚\nmichimani/textbox-overlay-by-whitespace.html ",
    "permalink": "https://michimani.net/post/programming-textbox-overlay-css-style-by-whitespace/",
    "title": "ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã§åŠè§’ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šã®æ–‡å­—ã‚’åˆ¤åˆ¥ã—ã‚„ã™ãã™ã‚‹"
  },
  {
    "contents": "CSS ã ã‘ã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æç”»ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ã“ã¨ã§ã€å‰å›ã¯å˜ä½å††ã‚’æãç‚¹ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¾ã—ãŸã€‚\nä»Šå›ã¯ãã®ç¶šãã¨ã„ã†ã‹ã€å¿œç”¨ã¨ã„ã†ã‹ã€æ­£å¼¦æ›²ç·šã‚’æãç‚¹ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¦ã¿ã¾ã™ã€‚\næ­£å¼¦æ›²ç·š ãã®åã®é€šã‚Šã€æ­£å¼¦é–¢æ•°ã«ã‚ˆã£ã¦è¡¨ã•ã‚Œã‚‹æ›²ç·šã§ã€å¼ã«ã™ã‚‹ã¨\n$${y} = \\sin({x})$$\nã§è¡¨ã•ã‚Œã‚‹æ›²ç·šã®ã“ã¨ã§ã™ã€‚\næã„ã¦ã¿ãŸ æ­£å¼¦æ›²ç·šã¯å‘¨æœŸã‚’æŒã¤æ›²ç·šãªã®ã§ã€ä»Šå›ã¯ä»¥ä¸‹ã®æ¡ä»¶ã§è¡¨ã•ã‚Œã‚‹æ›²ç·šã‚’æãç‚¹ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¦ã¿ã¾ã™ã€‚\n$${y} = \\sin({x}),ã€€-\\pi \\leq {x} \\leq \\pi$$\nâ€»ä»¥ä¸‹ã€æ­£å¼¦æ›²ç·š \"é¢¨\" ã¨ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã”è¦§ãã ã•ã„ html, css ã¾ãšã€æ¬¡ã®ã‚ˆã†ãª HTML è¦ç´ ã¨ã€ãã‚Œã«å¯¾ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ç”¨æ„ã—ã¦ãŠãã¾ã™ã€‚\n\u0026lt;div id=\u0026#34;graph-area\u0026#34;\u0026gt; \u0026lt;div id=\u0026#34;dot\u0026#34; class=\u0026#34;sinx\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;hr id=\u0026#34;x-axis\u0026#34; class=\u0026#34;axis\u0026#34;\u0026gt;\u0026lt;/hr\u0026gt; \u0026lt;hr id=\u0026#34;y-axis\u0026#34; class=\u0026#34;axis\u0026#34;\u0026gt;\u0026lt;/hr\u0026gt; \u0026lt;/div\u0026gt; #graph-area { position: relative; height: 320px; margin: 50px 0px 50px calc(50% - 160px); width: 320px; } .axis { border: 0.5px solid #959595; margin: 0px; position: absolute; width: 100%; top: 160px; } #x-axis { } #y-axis { transform: rotate(90deg); } #dot { border-radius: 50%; height: 10.5px; left: -46px; position: absolute; top: 155px; width: 10.5px; z-index: 100; background-color: #000000; } #dot.sinx { animation-duration: 1500ms; animation-fill-mode: forwards; animation-iteration-count: infinite; animation-name: drawSin; } å‰å›ã¨åŒæ§˜ã«ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦ drawSin ã¨ã„ã†åå‰ã§ keyframe ã‚’å®šç¾©ã—ã¾ã™ã€‚\n@keyframes drawSin { 0% { left: 29px; top: 155.0px; } 2.0% { left: 34px; top: 174.499px; } 4.0% { left: 39px; top: 193.708px; } 6.0% { left: 44px; top: 212.339px; } /* é€”ä¸­çœç•¥ */ 97.0% { left: 274px; top: 127.216px; } 99.0% { left: 279px; top: 146.626px; } 100.0% { left: 281px; top: 155px; } } ã“ã‚Œã¾ãŸå‰å›ã¨åŒæ§˜ã«ã€ä¸Šã® keyframe ã¯ä¸‹è¨˜ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ç”Ÿæˆã—ã¾ã—ãŸã€‚(100% ã®éƒ¨åˆ†ã«é–¢ã—ã¦ã¯ã¡ã‚‡ã£ã¨æ‰‹ã§ä¿®æ­£ã—ã¾ã—ãŸ)\nimport math ACCURACY = 50 BASE_LEFT = 155 BASE_TOP = 155 RADIUS = 160 PER = round(360 / ACCURACY, 0) percent = 0 rad = 0 style = \u0026#39;@keyframes drawSin {\\n\u0026#39; print(\u0026#39;per:\u0026#39;, PER) # -180 \u0026lt;= rad \u0026lt;= 180 while (percent \u0026lt;= 100): tmp_rad = rad - 180 print(tmp_rad) x = math.radians(tmp_rad) print(\u0026#39;sin({}) = {}\u0026#39;.format(x, math.sin(x))) top = round(BASE_TOP - math.sin(x) * RADIUS, 3) left = round(BASE_LEFT + x * (RADIUS / 4)) style += \u0026#39;\u0026#39;\u0026#39; {}% {{ left: {}px; top: {}px; }}\\n\u0026#39;\u0026#39;\u0026#39;.format(percent, left, top,) rad += PER percent = round((rad / 360) * 100, 0) print(percent, \u0026#39;%\u0026#39;) style += \u0026#39;}\u0026#39; keyframe_css = \u0026#39;./keyframe.css\u0026#39; with open(keyframe_css, mode=\u0026#39;w\u0026#39;) as f: f.write(style) ä»Šå›ã¯è¦‹ãŸç›®ã®éƒ½åˆä¸Šã€ x è»¸ã®å€¤ã«å¯¾ã—ã¦ y è»¸ã®å€¤ã® 1/4 ã®å€¤ã¨ã—ã¦ã„ã¾ã™ã€‚(left = round(BASE_LEFT + x * (RADIUS / 4))ã€€ã®éƒ¨åˆ†)\nãªã®ã§ã€è¦‹ãŸç›®çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªå¼ã«è¿‘ã„å½¢ã«ãªã£ã¦ã„ã¾ã™ã€‚\n$${y} = \\sin\\left(4{x}\\right),ã€€-\\frac{\\pi}{4} \\leq {x} \\leq \\frac{\\pi}{4}$$\nã²ã¨ã“ã¨ CSS ã ã‘ã§æ­£å¼¦æ›²ç·šã‚’æã„ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nCSS ã¨ã„ã†ã‚ˆã‚Šã¯ä¸‰è§’é–¢æ•°ã®è©±ãŒãƒ¡ã‚¤ãƒ³ã¿ãŸã„ãªã¨ã“ã‚ã‚‚ã‚ã‚Šã¾ã™ãŒã€è¨ˆç®—ã§å„çŠ¶æ…‹ã§ã®åº§æ¨™ã®ä½ç½®ã•ãˆæ±ºã¾ã‚Œã°ã€ CSS ã ã‘ã§ã‚‚è¤‡é›‘ãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒæã‘ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/programming-draw-sin-graph-using-css/",
    "title": "CSS ã ã‘ã§æ­£å¼¦æ›²ç·šã‚’æã„ã¦ã¿ã‚‹"
  },
  {
    "contents": "ã“ã®ãƒ–ãƒ­ã‚°ã¯ CloudFront + S3 ã§é‹ç”¨ã—ã¦ã„ã¾ã™ã€‚ã‚¢ã‚¯ã‚»ã‚¹è§£æã«é–¢ã—ã¦ã¯ Google Analytics ã‚’ä½¿ã£ã¦ã„ã¾ã™ãŒã€ã›ã£ã‹ããªã®ã§ CloudFront ãŒå‡ºåŠ›ã—ã¦ã„ã‚‹ãƒ­ã‚°ã‚’ Amazon Athena ã‚’ä½¿ã£ã¦è§£æã—ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\nç›®æ¬¡ CloudFront ã§ãƒ­ã‚°å‡ºåŠ›ã‚’æœ‰åŠ¹ã«ã™ã‚‹ Athena ã§ CloudFront ã®ãƒ­ã‚°è§£æ Athena ã§ CloudFront ã®ãƒ­ã‚°è§£æç”¨ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã™ã‚‹ Athena ã§ CloudFront ã®ãƒ­ã‚°ã‚’è§£æã™ã‚‹ Athena ã®æ–™é‡‘ ã¾ã¨ã‚ CloudFront ã§ãƒ­ã‚°å‡ºåŠ›ã‚’æœ‰åŠ¹ã«ã™ã‚‹ ãã‚‚ãã‚‚ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¦ã„ãªã‹ã£ãŸã‚‰æ„å‘³ãŒã‚ã‚Šã¾ã›ã‚“ã€‚\nCloudFront ã® Distribution Settings ã§ãƒ­ã‚°å‡ºåŠ›ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚ãªã£ã¦ã„ãªã‹ã£ãŸã‚‰ã€é©å½“ãª S3 ãƒã‚±ãƒƒãƒˆã‚’ä½œã£ã¦ãã“ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã¾ã™ã€‚\nAthena ã§ CloudFront ã®ãƒ­ã‚°è§£æ Athena ã§ CloudFront ã®ãƒ­ã‚°ã‚’è§£æã™ã‚‹ãŸã‚ã«ã¯ã€è§£æã«ä½¿ç”¨ã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã™ã‚Œã°ã€ãã“ã«å¯¾ã—ã¦æ…£ã‚Œè¦ªã—ã‚“ã  SQL ã‚’ç™ºè¡Œã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ãƒ­ã‚°ã®è§£æãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nAthena ã§ CloudFront ã®ãƒ­ã‚°è§£æç”¨ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã™ã‚‹ ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã™ã‚‹ãŸã‚ã® CREATE æ–‡ã‚’ä½œæˆã—ã¾ã™ã€‚\nå¿…è¦ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ã€ CloudFront ã®ãƒ­ã‚°ã€ã¾ãŸã¯ å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç¢ºèªã—ã¾ã™ã€‚\nã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã®è¨­å®šãŠã‚ˆã³ä½¿ç”¨ - Amazon CloudFront ä»Šå›ã¯ CloudFront ã®ãƒ­ã‚°ã‹ã‚‰å¿…è¦ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚ã¡ãªã¿ã«CloudFront ã® Distribution ã«ã¯ Web ã¨ RTMP ãŒã‚ã‚Šã¾ã™ãŒã€ä»Šå›ã¯ Web ã®å ´åˆã«ã¤ã„ã¦ã§ã™ã€‚\nCloudFront ã®ãƒ­ã‚°ã¯ä¸€å®šæ™‚é–“ã”ã¨ã« gzip åœ§ç¸®ã•ã‚ŒãŸçŠ¶æ…‹ã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚ãã‚Œãã‚Œã®ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã® 2 è¡Œç›®ã«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒåŠè§’ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šã§å‡ºåŠ›ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã“ã®ã¾ã¾ã§ã¯ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã¨ã—ã¦ä½¿ç”¨ã§ããªã„åå‰ãƒ»æ–‡å­—ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚‰ã®å¤‰æ›´ã¨è¦‹ãŸç›®ã®å•é¡Œã‚‚è€ƒæ…®ã—ã¦é©å®œå¤‰æ›´ã—ã¾ã™ã€‚å…·ä½“çš„ã«ã¯ã€\ndate, time ã¯äºˆç´„èªãªã®ã§ã€å…ˆé ­ã« request_ ã‚’ä»˜ã‘ã‚‹ -, ( ã‚’ _ ã«ç½®æ› ) ã‚’å‰Šé™¤ ã™ã¹ã¦å°æ–‡å­—ã«ã™ã‚‹ ã¨ã„ã†å‡¦ç†ã‚’ã—ã¾ã™ã€‚\nã“ã‚Œã§ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åãŒç¢ºå®šã—ãŸã®ã§ã€ä¸‹è¨˜ã®ã‚ˆã†ãª CREATE æ–‡ã‚’ä½œæˆã—ã¾ã™ã€‚\nCREATE EXTERNAL TABLE IF NOT EXISTS michimani_cf_logs ( request_date DATE, request_time STRING, x_edge_location STRING, sc_bytes INT, c_ip STRING, cs_method STRING, cs_host STRING, cs_uri_stem STRING, sc_status STRING, cs_referer STRING, cs_user_agent STRING, cs_uri_query STRING, cs_cookie STRING, x_edge_result_type STRING, x_edge_request_id STRING, x_host_header STRING, cs_protocol STRING, cs_bytes INT, time_taken DECIMAL(8,3), x_forwarded_for STRING, ssl_protocol STRING, ssl_cipher STRING, x_edge_response_result_type STRING, cs_protocol_version STRING, fle_status STRING, fle_encrypted_fields STRING ) ROW FORMAT SERDE \u0026#39;org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe\u0026#39; WITH SERDEPROPERTIES ( \u0026#39;serialization.format\u0026#39; = \u0026#39;\\t\u0026#39;, \u0026#39;input.regex\u0026#39; = \u0026#39;\\t\u0026#39; ) LOCATION \u0026#39;s3://S3_BACKET_NAME/michimani.net-cf-log/\u0026#39; TBLPROPERTIES (\u0026#39;has_encrypted_data\u0026#39;=\u0026#39;false\u0026#39;); ã“ã“ã§å¤‰æ›´ãŒå¿…è¦ãªã®ã¯ LOCATION éƒ¨åˆ†ã§ã™ã€‚ã“ã“ã¯ã€ CloudFront ã®ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã‚‹ S3 ãƒã‚±ãƒƒãƒˆåã‚’æŒ‡å®šã—ã¾ã™ã€‚ã‚ã¨ãƒ†ãƒ¼ãƒ–ãƒ«åã‚‚é©å®œæŒ‡å®šã—ã¾ã™ã€‚\nCREATE æ–‡ã®å®Ÿè¡Œã¯ã€Athena ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç”»é¢ã§ ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«ä¸Šè¨˜ SQL ã‚’ã‚³ãƒ”ãƒšã—ã¦ Run query ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã ã‘ã§ã™ã€‚\nAthena ã§ CloudFront ã®ãƒ­ã‚°ã‚’è§£æã™ã‚‹ ãƒ†ãƒ¼ãƒ–ãƒ«ãŒä½œæˆã§ãã‚Œã°ã€ã‚ã¨ã¯æ™®é€šã« SQL æ–‡ã§è§£æãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nSELECT request_date, request_time, cs_method, cs_uri_stem FROM michimani_cf_logs WHERE cs_method = \u0026#39;GET\u0026#39; AND (cs_uri_stem LIKE \u0026#39;%/\u0026#39; OR cs_uri_stem LIKE \u0026#39;%index.html\u0026#39;) AND sc_status = \u0026#39;200\u0026#39; AND request_date = DATE \u0026#39;2019-01-28\u0026#39; AND request_time \u0026gt; \u0026#39;04:10:00\u0026#39; AND request_time \u0026lt; \u0026#39;04:20:00\u0026#39; ORDER BY request_time DESC limit 10; Athena ã‚’åˆ©ç”¨ã›ãšã«è§£æã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã™ã¹ã¦ã®ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ unzip ã—ã¦ã‚´ãƒ‹ãƒ§ã‚´ãƒ‹ãƒ§ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã€éå¸¸ã«é¢å€’ã§ã™ã€‚ãã‚ŒãŒã“ã‚“ãªã«ç°¡å˜ã«å‡ºæ¥ã¦ã—ã¾ã†ã®ã¯å‡„ã„ä»¥å¤–ã®æ„Ÿæƒ³ãŒãªã„ã§ã™ã€‚\nAthena ã®æ–™é‡‘ æ°—ã«ãªã‚‹ã®ã¯ãŠå€¤æ®µã§ã™ã€‚\nAthena ã®åˆ©ç”¨ç”¨é‡‘ã¯ã€ç™ºè¡Œã—ãŸã‚¯ã‚¨ãƒªã®å¯¾è±¡ã¨ãªã‚‹ãƒ‡ãƒ¼ã‚¿(sã‚­ãƒ£ãƒ³ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿)ã®ã‚µã‚¤ã‚ºã«ã‚ˆã£ã¦æ±ºã¾ã‚Šã€ãã®ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚º 1TB ã”ã¨ã« 5 USD ã®æ–™é‡‘ãŒç™ºç”Ÿã—ã¾ã™ã€‚\nã‚¹ã‚­ãƒ£ãƒ³ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºã¯ã€ã‚¯ã‚¨ãƒªå®Ÿè¡Œç”»é¢ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¾‹ãˆã°ä¸Šã®å®Ÿè¡Œçµæœã§ã¯ã€ã‚¯ã‚¨ãƒªã®ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®ä¸‹ã« Run time: 3.29 seconds, Data scanned: 822.59 KB ã¨å‡ºåŠ›ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã® 822.59 KB ã¨ã„ã†ã®ãŒã‚¹ã‚­ãƒ£ãƒ³ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºã¨ãªã‚Šã¾ã™ã€‚ ãƒã‚¤ãƒˆæ•°ã¯ãƒ¡ã‚¬ãƒã‚¤ãƒˆå˜ä½ã§åˆ‡ã‚Šä¸Šã’ã‚‰ã‚Œã‚‹ãŸã‚ã€ã“ã®å ´åˆã¯ 10 MB ã¨ã—ã¦è¨ˆç®—ã•ã‚Œã¾ã™ã€‚\nAthena ã«é–¢ã—ã¦ç™ºç”Ÿã™ã‚‹æ–™é‡‘ã¯ã‚¯ã‚¨ãƒªå®Ÿè¡Œã«å¯¾ã—ã¦ã®ã¿ã§ã™ãŒã€ãã®ä»–ã«ã€ã‚‚ã¡ã‚ã‚“ã§ã™ãŒ S3 ã«ãƒ­ã‚°ã‚’ä¿æŒã—ã¦ãŠããŸã‚ã®æ–™é‡‘ã¯ç™ºç”Ÿã—ã¾ã™ã€‚\næ–™é‡‘ - Amazon Athena | AWS ã¾ã¨ã‚ ä»¥ä¸Šã€ Amazon Athena ã‚’ä½¿ã£ã¦ CloudFront ã®ãƒ­ã‚°ã‚’è§£æã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nAthena ã£ã¦å‡„ãé›£ã—ã„ã¨ã„ã†ã‹ã€ä½¿ã„æ‰€ãŒã‚ˆãã‚ã‹ã£ã¦ã„ã¾ã›ã‚“ã§ã—ãŸãŒã€ã“ã‚“ãªã«ã‚‚ç°¡å˜ã«ä½¿ãˆã‚‹ã®ã¯é©šãã§ã—ãŸã€‚æœ¬å½“ã«ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãªã€åˆæ­©çš„ãªä½¿ã„æ–¹ã§ã¯ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšè§¦ã£ã¦ã¿ã‚‹ã¨è¦ªè¿‘æ„ŸãŒæ¹§ãã¾ã™ã­ã€‚\n",
    "permalink": "https://michimani.net/post/aws-analyse-cloudfront-log-using-athena/",
    "title": "CloudFront ã®ãƒ­ã‚°ã‚’ Athena ã‚’ä½¿ã£ã¦è§£æã—ã¦ã¿ã‚‹"
  },
  {
    "contents": "æœ€è¿‘ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’è§¦ã‚‹ã“ã¨ãŒå¤šããªã£ã¦ããŸã®ã§ã€ CSS ã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æç”»ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚\nCSS ã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æç”» ä¸€åº¦ã ã‘å®Ÿè¡Œã•ã‚Œã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ ã¾ãšã€ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã”ã¨ã«å½¢ãŒå¤‰ã‚ã‚‹è¦ç´ ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚\nã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã«é–¢ã—ã¦ã¯ JavaScript ã‚’ä½¿ã£ã¦ã‚‹ã‚‚ã®ã®ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è‡ªä½“ã¯ CSS ã®ã¿ã€‚ä»¥ä¸‹ã€ã‚½ãƒ¼ã‚¹ã€‚\nã¾ãš HTML ã¯ã“ã‚Œã ã‘ã€‚\n\u0026lt;div id=\u0026#34;css-test-object\u0026#34; class=\u0026#34;default\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; ç¶šã„ã¦ CSSã€‚\ndiv#css-test-object { width: 100px; height: 100px; margin: 20px 0px 20px calc(50% - 50px); box-shadow: 0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.2); } div#css-test-object.default { animation-duration: 500ms; animation-fill-mode: forwards; animation-name: toDefault; } div#css-test-object.circle { animation-duration: 500ms; animation-fill-mode: forwards; animation-name: toCircle; } div#css-test-object.square { animation-duration: 500ms; animation-fill-mode: both; animation-name: toSquare; } @keyframes toDefault { from { background-color: #01579b; border-radius: 25%; } to { background-color: #ffffff; border-radius: 0%; } } @keyframes toCircle { from { background-color: #ffffff; border-radius: 0%; } to { background-color: #f57f17; border-radius: 50%; } } @keyframes toSquare { from { background-color: #f57f17; border-radius: 50%; } to { background-color: #01579b; border-radius: 25%; } } #css-test-object ã«å¯¾ã—ã¦ 3 ç¨®é¡ã® class ã‚’æº–å‚™ã—ã¦ã€ãã‚Œãã‚Œã®ã‚¯ãƒ©ã‚¹ãŒãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸæ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ @keyframes ã§å®šç¾©ã—ã¦ã¾ã™ã€‚ä¾‹ãˆã° .circle ã®å ´åˆã€\ndiv#css-test-object.circle { animation-duration: 500ms; animation-fill-mode: forwards; animation-name: toCircle; } @keyframes toCircle { from { background-color: #ffffff; border-radius: 0%; } to { background-color: #f57f17; border-radius: 50%; } } ã¾ãšã€ div#css-test-object.circle ã«å¯¾ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ã®æŒ‡å®šã«ã¤ã„ã¦ã€‚\nanimation-duration\nã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®é–‹å§‹ã‹ã‚‰çµ‚äº†ã¾ã§ã«ã‹ã‹ã‚‹æ™‚é–“ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚ä»Šå›ã®å ´åˆã€ 500 ms ã¤ã¾ã‚Š 0.5 ç§’ã‹ã‘ã¦å½¢ã‚’å¤‰åŒ–ã•ã›ã¦ã„ã¾ã™ã€‚\nanimation-fill-mode\nã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œå‰å¾Œã«ã€æŒ‡å®šã—ãŸã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã™ã‚‹ã‹ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚ none, forwards, backwards, both ã‹ã‚‰æŒ‡å®šã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ none ã§ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œæ™‚ä»¥å¤–ã¯ãã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒé©ç”¨ã•ã‚Œã¾ã›ã‚“ã€‚forwards ã ã¨ã€æœ€å¾Œã®ãƒ•ãƒ¬ãƒ¼ãƒ  (ã¤ã¾ã‚Š @keyframes ã® to) ã§æŒ‡å®šã—ãŸã‚¹ã‚¿ã‚¤ãƒ«ãŒä¿æŒã•ã‚Œã¾ã™ã€‚ ãã®ä»–ã«ã¤ã„ã¦ã¯ä¸‹è¨˜å‚ç…§ã€‚\nanimation-fill-mode | MDN animation-name\nå®Ÿè¡Œã™ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚­ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’ç¤ºã™ @keyframes åå‰ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\nç¶šã„ã¦ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸­èº« toCircle ã«ã¤ã„ã¦ã€‚\nfrom\né–‹å§‹æ™‚ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\nto\nçµ‚äº†æ™‚ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\nä»Šå›ã®å ´åˆ toCircle ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€èƒŒæ™¯è‰²ãŒ #ffffff ã‹ã‚‰ #f57f17 ã«ã€è¦ç´ ã®è§’ä¸¸ãŒ 0% ã‹ã‚‰ 50% ã«å¤‰åŒ–ã—ã¾ã™ã€‚\nã¡ãªã¿ã«ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ãª JavaScirpt ã§å®Ÿè£…ã€‚\nconst mainObj = document.getElementById(\u0026#39;css-test-object\u0026#39;); mainObj.addEventListener(\u0026#39;click\u0026#39;, (event) =\u0026gt; { changeObject(event); }); function changeObject(event) { if (event.target.classList.contains(\u0026#39;circle\u0026#39;)) { event.target.classList.remove(\u0026#39;circle\u0026#39;); event.target.classList.add(\u0026#39;square\u0026#39;); } else if (event.target.classList.contains(\u0026#39;square\u0026#39;)) { event.target.classList.remove(\u0026#39;square\u0026#39;); event.target.classList.add(\u0026#39;default\u0026#39;); } else { event.target.classList.remove(\u0026#39;default\u0026#39;); event.target.classList.add(\u0026#39;circle\u0026#39;); } } ç¹°ã‚Šè¿”ã—å®Ÿè¡Œã•ã‚Œã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ ãƒ‰ãƒƒãƒˆã‚’å‹•ã‹ã—ã¦ã¿ã‚‹ã€‚\nä»¥ä¸‹ã® HTML ã«å¯¾ã—ã¦ã€\n\u0026lt;div class=\u0026#34;dot-area\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;dot round\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ä»¥ä¸‹ã® CSS ã‚’é©ç”¨ã—ã¦ã¾ã™ã€‚\ndiv.dot-area { position: relative; width: 100px; height: 100px; margin: 20px 0px 20px calc(50% - 50px); } div.dot { position: absolute; width: 10px; height: 10px; background-color: #000000; border-radius: 50%; left: 50px; top: 50px; box-shadow: 0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,class0.2); } div.dot.round { animation-duration: 3000ms; animation-fill-mode: forwards; animation-iteration-count: infinite; animation-name: round; } div.dot.round-smooth { animation-duration: 3000ms; animation-fill-mode: forwards; animation-iteration-count: infinite; animation-name: roundSmooth; } @keyframes round { 0% { left: 100.0px; top: 50.0px; } 10.0% { left: 65.451px; top: 2.447px; } 20.0% { left: 9.549px; top: 20.611px; } 30.0% { left: 9.549px; top: 79.389px; } 40.0% { left: 65.451px; top: 97.553px; } 50.0% { left: 100.0px; top: 50.0px; } 60.0% { left: 65.451px; top: 2.447px; } 70.0% { left: 9.549px; top: 20.611px; } 80.0% { left: 9.549px; top: 79.389px; } 90.0% { left: 65.451px; top: 97.553px; } 100.0% { left: 100.0px; top: 50.0px; } } ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç¹°ã‚Šè¿”ã—å®Ÿè¡Œã™ã‚‹ãŸã‚ã«ã¯ animation-iteration-count ã« infinite ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã“ã“ã‚’å…·ä½“çš„ãªæ•°å€¤ã«ã™ã‚Œã°ã€ãã®å›æ•°ã ã‘ç¹°ã‚Šè¿”ã•ã‚Œã¾ã™ã€‚\nkeyframe ã«ã¤ã„ã¦å…ˆç¨‹ã¨é•ã†ã®ã¯ã€ from ã¨ to ã®ä»£ã‚ã‚Šã«ã€å‰²åˆ (%) ã§ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ç‚¹ã§ã™ã€‚\nã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®é–‹å§‹æ™‚ã‚’ 0% ã€çµ‚äº†æ™‚ã‚’ 100% ã¨ã—ã¦ã€é€”ä¸­ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©å®œæŒ‡å®šã—ã¾ã™ã€‚\næœ¬å½“ã¯å˜ä½å††ã‚’æç”»ã—ãŸã‹ã£ãŸã‚“ã§ã™ãŒã€ä¸Šè¨˜ã®è¨˜è¿°ã§ã¯å‹•ããŒã‚«ã‚¯ã‚«ã‚¯ã—ã¦ã„ã¾ã™ã€‚ãªã®ã§ã€ã‚ˆã‚Šç´°ã‹ãã‚¹ã‚¿ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ã¿ã¾ã™ã€‚\n@keyframes roundSmooth { 0% { left: 100.0px; top: 50.0px; } 1.0% { left: 99.606px; top: 43.733px; } 2.0% { left: 98.429px; top: 37.566px; } 3.0% { left: 96.489px; top: 31.594px; } 4.0% { left: 93.815px; top: 25.912px; } /* ç•¥ */ 98.0% { left: 98.429px; top: 62.434px; } 99.0% { left: 99.606px; top: 56.267px; } 100.0% { left: 100.0px; top: 50.0px; } } ã“ã†ã™ã‚‹ã¨ã€ãªã‚ã‚‰ã‹ã«ãªã‚Šã¾ã™ã€‚\nã¡ãªã¿ã«ã€ä¸Šã®ã‚¹ã‚¿ã‚¤ãƒ«ã¯ä¸‹è¨˜ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ä½œã£ã¦ã¾ã™ã€‚ä¸‰è§’é–¢æ•°çŸ¥ã£ã¦ã¦ã‚ˆã‹ã£ãŸãƒ¼(æ£’)\nimport math ACCURACY = 100 BASE_LEFT = 50 BASE_TOP = 50 RADIUS = 50 PER = 360 / ACCURACY percent = 0 rad = 0 style = \u0026#39;@keyframes roundSmooth {\\n\u0026#39; while (percent \u0026lt;= 100): left = round(BASE_LEFT + math.cos(math.radians(rad)) * RADIUS, 3) top = round(BASE_TOP - math.sin(math.radians(rad)) * RADIUS, 3) style += \u0026#39;\u0026#39;\u0026#39; {}% {{ left: {}px; top: {}px; }}\\n\u0026#39;\u0026#39;\u0026#39;.format(percent, left, top,) rad += PER percent = round((rad / 360) * RADIUS, 0) style += \u0026#39;}\u0026#39; keyframe_css = \u0026#39;./keyframe.css\u0026#39; with open(keyframe_css, mode=\u0026#39;w\u0026#39;) as f: f.write(style) ACCURACY ã§ç²¾åº¦ã€ RADIUS ã§å˜ä½å††ã®åŠå¾„ (px)ã€ BASE_LEFT ã¨ BASE_TOP ã§åŸºæº–ã¨ãªã‚‹ä½ç½®ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nä»¥ä¸Šã€CSS ã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æç”»ã—ã¦ã¿ãŸè©±ã§ã—ãŸã€‚\nã¨ã‚Šã‚ãˆãšåŸºæœ¬çš„ãªéƒ¨åˆ†ã¯ã‚ã‹ã£ãŸã®ã§ã€ã‚ˆã‚Šè¤‡é›‘ãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚‚ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã§ããã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/programming-show-animation-using-css/",
    "title": "CSS ã ã‘ã§å˜ä½å††ã‚’æãã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚‹"
  },
  {
    "contents": "AWS CLI ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ Tab ã‚­ãƒ¼ã§è£œå®Œã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨çŸ¥ã£ãŸã®ã§ã€å®Ÿéš›ã«ã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚å†…å®¹ã¯å‚è€ƒè¨˜äº‹ã¨ã»ã¼åŒã˜ã§ã€ã‚·ã‚§ãƒ«ã ã‘ãŒé•ã„ã¾ã™ã€‚ä»Šå›ã¯ zsh ã§ AWS CLI ã‚³ãƒãƒ³ãƒ‰ã®è£œå®Œã‚’æœ‰åŠ¹ã«ã™ã‚‹æ–¹æ³•ã®ãƒ¡ãƒ¢ã§ã™ã€‚\nAWS CLI ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã«ã‚ˆã£ã¦ã¯å¤šå°‘å¤‰ã‚ã‚‹éƒ¨åˆ†ãŒã‚ã‚‹ã¨ã®ã“ã¨ã§ã™ãŒã€è‡ªåˆ†ã®å ´åˆã¯ãã®éƒ¨åˆ†ã¨ã¯åˆ¥ã®éƒ¨åˆ†ã§èº“ãã¾ã—ãŸã€‚\nAWS CLIã®ã‚³ãƒãƒ³ãƒˆã‚™ã‚’è£œå®Œã—ã¦ã¿ã‚‹ï¼ˆTabã‚­ãƒ¼ä¸‡æ­³ï¼‰ ï½œ DevelopersIO ã‚³ãƒãƒ³ãƒ‰è£œå®Œ - AWS Command Line Interface å‰æ AWS CLI ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹\nAWS Command Line Interface ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ - AWS Command Line Interface è‡ªåˆ†ã¯ ãƒãƒ³ãƒ‰ãƒ«ã•ã‚ŒãŸã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ã‚’ä½¿ç”¨ã—ã¦ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãŸã‚ˆã†ã§ã™ã€‚(å¾Œã«èº“ã„ãŸåŸå› )\nã‚„ã‚‹ã“ã¨ AWS ã‚³ãƒ³ãƒ—ãƒªãƒ¼ã‚¿ ã®å ´æ‰€ã‚’ç¢ºèªã™ã‚‹ .zshrc ã§ AWS ã‚³ãƒ³ãƒ—ãƒªãƒ¼ã‚¿ ã‚’èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã™ã‚‹ 1. AWS ã‚³ãƒ³ãƒ—ãƒªãƒ¼ã‚¿ ã®å ´æ‰€ã‚’ç¢ºèªã™ã‚‹ AWS CLI ã‚³ãƒãƒ³ãƒ‰ã®è£œå®Œã‚’ã—ã¦ãã‚Œã‚‹ AWS ã‚³ãƒ³ãƒ—ãƒªãƒ¼ã‚¿ ãŒã‚ã‚‹å ´æ‰€ã‚’ç¢ºèªã—ã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; which aws_completer aws_completer not found ã¯ã„ã€‚ã„ããªã‚ŠãŠã‹ã—ã„ã§ã™ã­ã€‚AWS CLI ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚Œã°å­˜åœ¨ã—ã¦ã„ã‚‹ã¯ãšã§ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; which aws /usr/local/bin/aws å½“ãŸã‚Šå‰ã§ã™ãŒ aws ã‚³ãƒãƒ³ãƒ‰ã¯å­˜åœ¨ã—ã¦ã„ã¾ã™ã€‚\nãªã‚“ã¨ãªã /usr/local/bin/ ã«ã‚ã‚Šãã†ãªæ°—ã¯ã™ã‚‹ã®ã§ã€ä¸€å¿œç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; ls -al /usr/local/bin/ | grep aws lrwxr-xr-x 1 root admin 22 12 22 12:13 aws -\u0026gt; /usr/local/aws/bin/aws ã©ã†ã‚„ã‚‰ aws ã®å®Ÿæ…‹ã¯ /usr/local/aws/bin/aws ã«ã‚ã‚‹ã‚ˆã†ã§ã™ã€‚ãªã®ã§ã€ /usr/local/aws/bin/ ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; ls -al /usr/local/aws/bin/ | grep aws -rwxr-xr-x 1 root wheel 824 12 22 12:13 aws -rwxr-xr-x 1 root wheel 1432 12 22 07:23 aws.cmd -rwxr-xr-x 1 root wheel 204 12 22 07:23 aws_bash_completer -rwxr-xr-x 1 root wheel 1145 12 22 12:13 aws_completer -rwxr-xr-x 1 root wheel 1807 12 22 07:23 aws_zsh_completer.sh ã‚ã‚Šã¾ã—ãŸã€‚\nãƒãƒ³ãƒ‰ãƒ«ã•ã‚ŒãŸã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ã‚’ä½¿ç”¨ã—ã¦ AWS CLI ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã—ãŸå ´åˆã¯ã“ã®ã‚ˆã†ãªçŠ¶æ…‹ã«ãªã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚(ã©ã†ã‚„ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‹å¿˜ã‚Œã¦ãŸ)\nç„¡äº‹ã« AWS ã‚³ãƒ³ãƒ—ãƒªãƒ¼ã‚¿ ã®å ´æ‰€ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚\nãŸã ã€ aws_completer ã«PATH ãŒé€šã£ã¦ã„ãªã„ã®ã§é€šã—ã¦ãŠãã¾ã™ã€‚ã¨ã„ã†ã‹ã€ aws ã¨åŒæ§˜ã«ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’ä½œæˆã—ã¦ãŠãã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; ln -s /usr/local/aws/bin/aws_completer /usr/local/bin/aws_completer \u0026gt;\u0026gt;\u0026gt; which aws_completer /usr/local/bin/aws_completer 2. .zshrc ã§ AWS ã‚³ãƒ³ãƒ—ãƒªãƒ¼ã‚¿ ã‚’èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã™ã‚‹ AWS ã‚³ãƒ³ãƒ—ãƒªãƒ¼ã‚¿ ã‚’ .zshrc ã§èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã¾ã™ã€‚\nsource /usr/local/aws/bin/aws_zsh_completer.sh ä¸Šã® 1 è¡Œã‚’ .zshrc ã«è¿½è¨˜ã—ã¦ã€å†èª­è¾¼ã—ã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; source ~/.zshrc ã“ã‚Œã§ AWS CLI ã‚³ãƒãƒ³ãƒ‰ã®è£œå®ŒãŒæœ‰åŠ¹ã«ãªã‚Šã¾ã—ãŸã€‚è©¦ã—ã« aws codecommit ã¾ã§æ‰“ã£ã¦ Tab ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ã¿ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ã«å€™è£œãŒå‡ºã¦ãã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; aws codecommit batch-get-repositories delete-file get-comments-for-pull-request get-repository post-comment-for-pull-request update-pull-request-description create-branch delete-repository get-commit get-repository-triggers post-comment-reply update-pull-request-status create-pull-request describe-pull-request-events get-differences list-branches put-file update-pull-request-title create-repository get-blob get-file list-pull-requests put-repository-triggers update-repository-description credential-helper get-branch get-folder list-repositories test-repository-triggers update-repository-name delete-branch get-comment get-merge-conflicts merge-pull-request-by-fast-forward update-comment delete-comment-content get-comments-for-compared-commit get-pull-request post-comment-for-compared-commit update-default-branch ã“ã‚Œã§è‰²ã€…ã¨æ—ã‚Šãã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-cli-command-completion-at-zsh/",
    "title": "zsh ã§ AWS CLI ã‚³ãƒãƒ³ãƒ‰ã®è£œå®Œã‚’æœ‰åŠ¹ã«ã—ã‚ˆã†ã¨ã—ãŸã‚‰ã¡ã‚‡ã£ã¨ã ã‘èº“ã„ãŸ"
  },
  {
    "contents": "ä»Šå¹´ã® 2 æœˆã«ã€2 å¹´é–“ã»ã©åˆ©ç”¨ã—ã¦ã„ãŸæ¥½å¤©ãƒ¢ãƒã‚¤ãƒ«ã‹ã‚‰ LINEãƒ¢ãƒã‚¤ãƒ«ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚\nLINEãƒ¢ãƒã‚¤ãƒ«ã¨è¨€ãˆã°ã€æœ¬ç”°ç¿¼ã® CM ãŒæœ€é«˜ã«å¯æ„›ã„ã§ã™ã­ã€‚\nã¨ã„ã†ã“ã¨ã§ã€LINEãƒ¢ãƒã‚¤ãƒ«ã«å¤‰æ›´ã—ã¦ã‹ã‚‰ã¾ã  10 ãƒ¶æœˆã»ã©ã§ã™ãŒã€æ¥½å¤©ãƒ¢ãƒã‚¤ãƒ«ã¨ã®è«¸ã€…ã®æ¯”è¼ƒã‚’ã—ã¦ã„ãã¾ã™ã€‚åŒã˜ LINEãƒ¢ãƒã‚¤ãƒ«ã§ã‚‚ã€ã“ã® 10 ãƒ¶æœˆã®é–“ã« docomo å›ç·šã‹ã‚‰ Softbank å›ç·šã«å¤‰æ›´ã—ã¦ãã‚Œãã‚Œ 5 ãƒ¶æœˆãšã¤ãã‚‰ã„ã®åˆ©ç”¨ã—ã¦ã„ã‚‹ã®ã§ã€ãã®è¾ºã®é•ã„ã«ã¤ã„ã¦ã‚‚æ›¸ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nã©ã‚“ãªä½¿ã„æ–¹ã‚’ã—ã¦ã„ã‚‹ã®ã‹ è«¸ã€…ã‚’æ¯”è¼ƒã™ã‚‹å‰ã«ã€å‰ææ¡ä»¶ã¨ã—ã¦ é€šè©±ãƒ»ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒ¼ã‚¿é€šä¿¡ã®ä½¿ç”¨çŠ¶æ³ã«ã¤ã„ã¦æ›¸ã„ã¦ãŠãã¾ã™ã€‚\né€šè©± é›»è©±ã¯ã»ã¨ã‚“ã©ã—ã¾ã›ã‚“ã€‚\nåº—ã®äºˆç´„ãªã©ã«ä½¿ç”¨ã™ã‚‹ãã‚‰ã„ã§ã€æ¯æœˆã®é€šè©±åˆè¨ˆæ™‚é–“ã¯ 0 ã€œ 5 åˆ†ç¨‹åº¦ã§ã™ã€‚\nãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒ¼ã‚¿é€šä¿¡ ä»¥ä¸‹ã€ä»Šæœˆ (26æ—¥ã¾ã§) ã®åˆ©ç”¨çŠ¶æ³ã§ã™ã€‚\nåŸºæœ¬çš„ã«ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒ¼ã‚¿é€šä¿¡ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã®ã¯ã€å¹³æ—¥ã¯é€šå‹¤æ™‚é–“å¸¯ã®ã¿ã§ã€ç”¨é€”ã¨ã—ã¦ã¯ãƒãƒƒãƒˆãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚„ãƒ–ãƒ­ã‚°è¨˜äº‹ãªã©ã‚’è¦‹ã‚‹ç¨‹åº¦ã§ã€ã‚²ãƒ¼ãƒ ã‚„å‹•ç”»è¦–è´ã¯ã»ã¨ã‚“ã©ã‚ã‚Šã¾ã›ã‚“ã€‚ä¼‘æ—¥ã¯ä¸»ã« Google Map ã¨ SNS ã®åˆ©ç”¨ã§ã€ã“ã¡ã‚‰ã‚‚ã‚²ãƒ¼ãƒ ã‚„å‹•ç”»è¦–è´ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nä¸Šã®ã‚¹ã‚¯ã‚·ãƒ§ã‹ã‚‰ã‚‚ã‚ã‹ã‚‹ã‚ˆã†ã«ã€é€šä¿¡é‡ã®å¤§éƒ¨åˆ†ã‚’ SNS (Twitter, Instagram) ãŒå ã‚ã¦ã„ã¾ã™ã€‚å¾Œè¿°ã—ã¾ã™ãŒã€ LINEãƒ¢ãƒã‚¤ãƒ«ã§ã¯ã“ã‚Œã‚‰ã®é€šä¿¡é‡ãŒã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œãªã„ã®ã§ã€ã ã„ã¶åŠ©ã‹ã£ã¦ã¾ã™ã€‚\næ¥½å¤©ãƒ¢ãƒã‚¤ãƒ« ã¨ LINEãƒ¢ãƒã‚¤ãƒ« ã®æ¯”è¼ƒ æ–™é‡‘ ã¾ãšã€æ–™é‡‘ã®æ¯”è¼ƒã§ã™ã€‚\næ¥½å¤©ãƒ¢ãƒã‚¤ãƒ«ã€ LINEãƒ¢ãƒã‚¤ãƒ« ã©ã¡ã‚‰ã‚‚ é€šè©± SIM ã§ã€æ¯æœˆã®ãƒ‡ãƒ¼ã‚¿é€šä¿¡é‡ãŒ 3 GB ã®ãƒ—ãƒ©ãƒ³ (æ¥½å¤©ãƒ¢ãƒã‚¤ãƒ«ã¯ 3.1 GB) ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚ (ã—ã¦ã„ã¾ã—ãŸ)\nã¾ãŸã€ã©ã¡ã‚‰ã‚‚ ã‹ã‘æ”¾é¡Œãªã©ã®å„ç¨®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯åˆ©ç”¨ã—ã¦ã„ã¾ã›ã‚“ã€‚\nãƒ—ãƒ©ãƒ³å æ–™é‡‘ (é€šè©± SIM, ç¨åˆ¥) é€šè©±æ–™ æ¥½å¤©ãƒ¢ãƒã‚¤ãƒ« 3.1 GB ãƒ—ãƒ©ãƒ³ 1,600 å†† 10å††/30ç§’ LINEãƒ¢ãƒã‚¤ãƒ« ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒªãƒ¼ãƒ—ãƒ©ãƒ³ 3 GB 1,690 å†† 10å††/30ç§’ æœˆé¡è²»ç”¨ã¨ã—ã¦ã¯æ¥½å¤©ãƒ¢ãƒã‚¤ãƒ«ã®ã»ã†ãŒæœˆé¡ 90 å††å®‰ã„ã®ã§ã€å¹´é–“ã§ 1,080 å††å®‰ã„ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nãã®ä»–ã®ãƒ—ãƒ©ãƒ³\næ¥½å¤©ãƒ¢ãƒã‚¤ãƒ« LINEãƒ¢ãƒã‚¤ãƒ« ãŸã ã—ã€ LINE ãƒ¢ãƒã‚¤ãƒ«ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒªãƒ¼ãƒ—ãƒ©ãƒ³ã§ã¯ã€ä¸‹è¨˜ã®ã‚¢ãƒ—ãƒªåˆ©ç”¨æ™‚ã®é€šä¿¡é‡ãŒã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œã¾ã›ã‚“ã€‚\nLINE Twitter Facebook Instagram ä¸Šã®ã‚¹ã‚¯ã‚·ãƒ§ã‹ã‚‰ã‚‚ã‚ã‹ã‚‹ã‚ˆã†ã«ã€ç§ã®ä½¿ã„æ–¹ã§ã¯ Twitter, Instagram ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒå¤šã„ãŸã‚ã€ã“ã‚Œã‚‰ã®é€šä¿¡é‡ãŒã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œãªã„ã®ã¯ 90 å††ä»¥ä¸Šã®ä¾¡å€¤ãŒã‚ã‚‹ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\nå®Ÿéš›ã€ iPhone ä¸Šã§ã®ãƒ‡ãƒ¼ã‚¿é€šä¿¡é‡ã¯ 4.2 GB (ãŠã‚ˆã 4,200 MB) ã¨ãªã£ã¦ã„ã¾ã™ãŒã€ LINE ãƒ¢ãƒã‚¤ãƒ«ä¸Šã§ã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿é€šä¿¡é‡ã¯ 1,232 MB ã¨ãªã£ã¦ã„ã¾ã™ã€‚ä»ŠæœˆãŒç‰¹åˆ¥å°‘ãªã„ã‚ã‘ã§ã¯ãªãã€æ¯æœˆã“ã‚Œãã‚‰ã„ã®å€¤ã«ãªã£ã¦ã¾ã™ã€‚\nãªã®ã§ã€åŒã˜ 3 GB ã§ã‚ã£ã¦ã‚‚ã€ LINE ãƒ¢ãƒã‚¤ãƒ«ã§ã‚ã‚Œã°ç”¨é€”ã«ã‚ˆã£ã¦ã¯ãã®åŠåˆ†ã‚‚åˆ©ç”¨ã—ãªã„ (ã“ã¨ã«ãªã£ã¦ã„ã‚‹) ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nå®Ÿéš›ã€æ¥½å¤©ãƒ¢ãƒã‚¤ãƒ«ã®ã¨ãã¯æ¯æœˆã® 3.1 GB ã‚’ã»ã¼ã»ã¼ä½¿ã„åˆ‡ã£ã¦ã—ã¾ã„ã€1ãƒ¶æœˆã ã‘ 5 GB ãƒ—ãƒ©ãƒ³ã«ã—ãŸã‚Šã—ã¦éã”ã—ã¦ã„ã¾ã—ãŸã€‚\nLINE ãƒ¢ãƒã‚¤ãƒ«ã«ã—ã¦ã‹ã‚‰ã¯ã€æ¯æœˆ 1 ã€œ 1.5 GB ã»ã©ä½™ã‚ŠãŒå‡ºã‚‹ã®ã§ã€ãã‚Œã‚’æ¬¡ã®æœˆã«ç¹°ã‚Šè¶Šã—ã¦ã„ãã“ã¨ã§æ¯æœˆä»˜ä¸ã•ã‚Œã‚‹ 3 GB ã‚’ã¾ã‚‹ã£ã¨ç¹°ã‚Šè¶Šã›ã‚‹çŠ¶æ…‹ã«ãªã£ã¦ã„ã¾ã™ã€‚ãªã®ã§ã€å®Ÿè³ª æ¯æœˆ 6 GB åˆ†ãã‚‰ã„ã¯åˆ©ç”¨ã§ãã‚‹çŠ¶æ…‹ã§ã™ã€‚\nã“ã‚“ãªæ„Ÿã˜ã§ã€æœ€è¿‘ã§ã¯æ¯æœˆ å‰ã®æœˆã®ç¹°è¶Šåˆ†ã ã‘ã§ã¾ã‹ãªãˆã¦ã„ã‚‹çŠ¶æ…‹ã§ã™ã€‚\né€šä¿¡é€Ÿåº¦ã€é€šä¿¡ã‚¨ãƒªã‚¢ è‚å¿ƒã®é€šä¿¡é€Ÿåº¦ã€é€šä¿¡ã‚¨ãƒªã‚¢ã«ã¤ã„ã¦ã§ã™ã€‚\nãã‚Œãã‚Œã®å…·ä½“çš„ãªã‚¹ãƒ”ãƒ¼ãƒ‰ã¨ã‹ã¯ã—ã£ã‹ã‚Šæ¸¬å®šã—ã¦ã“ãªã‹ã£ãŸã®ã§ã€æ¬¡ã® 5 ã¤ã®å ´æ‰€ã«ã¤ã„ã¦ã€ãã‚Œãã‚Œã®é€šä¿¡çŠ¶æ³ã€ä½ç½®æƒ…å ±ã®æ­£ç¢ºã•ãŒã©ã‚“ãªæ„Ÿã˜ã ã£ãŸã‹ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚æ–‡å­—ã ã‘ã ã¨ã‚ã‚Œãªã®ã§ã€ç‹¬æ–­ã¨åè¦‹ã‚’å«ã‚“ã å½¢ã§å„é …ç›® 1 ã€œ 5 ã§ç‚¹æ•°ä»˜ã‘ã—ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚\nâ‘  å±‹å†… : ä¿—ã«è¨€ã†å±‹å†…\nâ‘¡ å±‹å¤– : ä¿—ã«è¨€ã†å±‹å¤–\nâ‘¢ é›»è»Šå†… (åœ°ä¸Š) : åœ°ä¸Šã‚’èµ°ã£ã¦ã‚‹é›»è»Šã®è»Šå†…\nâ‘£ é›»è»Šå†… (åœ°ä¸‹) : åœ°ä¸‹ã‚’èµ°ã£ã¦ã‚‹é›»è»Šã®è»Šå†…\nâ‘¤ éƒŠå¤– (ã¡ã‚‡ã£ã¨ã—ãŸå±±é–“éƒ¨) : ç®±æ ¹ã¨ã‹å¥¥å¤šæ‘©ã¨ã‹ã€ãã®ã‚ãŸã‚Šã‚’æƒ³åƒã—ã¦ãã ã•ã„\næ¥½å¤©ãƒ¢ãƒã‚¤ãƒ« (docomo å›ç·š) â‘ : 2\nâ‘¡: 2\nâ‘¢: 1\nâ‘£: 1\nâ‘¤: 2\nã¨ã«ã‹ãå…¨ä½“çš„ã«é›»æ³¢ãŒæ‚ªã‹ã£ãŸå°è±¡ã§ã™ã€‚\nå±‹å†…ãƒ»å±‹å¤–å•ã‚ãšé€Ÿåº¦ã«ã¯ä¸æº€ã°ã‹ã‚Šã§ã€ä½ç½®æƒ…å ±ã®å–å¾—ã«ã‚‚æ™‚é–“ãŒã‹ã‹ã£ãŸã‚Šæ­£ç¢ºã§ãªã‹ã£ãŸã‚Šã—ã¦ã„ã¾ã—ãŸã€‚é›»è»Šã®è»Šå†…ã§ã¯ã€åœ°ä¸Šãƒ»åœ°ä¸‹å•ã‚ãšæ›´ã«é›»æ³¢ãŒæ‚ªãã€é€šå¸¸ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚µã‚¤ãƒˆã§ã™ã‚‰è¡¨ç¤ºã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã„ã¾ã—ãŸã€‚ä½ç½®æƒ…å ±ã‚’ã»ã¨ã‚“ã©æ´ã¾ãªã„ã®ã§ã€å½“æ™‚æµè¡Œã£ã¦ã„ãŸ Pokemon Go ã‚‚å…¨ç„¶æ¥½ã—ã‚ã¾ã›ã‚“ã§ã—ãŸã€‚\nå½“æ™‚ã¯ WiMAX ã®ãƒã‚±ãƒƒãƒˆ Wi-Fi ã‚’æŒã£ã¦ã„ãŸã®ã§ã€ãã‚ŒçµŒç”±ã§ã®é€šä¿¡ãŒä¸»ãªæ‰‹æ®µã§ã—ãŸã€‚WiMAX ã®é›»æ³¢ã‚‚è‰¯ã„ã¨ã¯è¨€ãˆãªã‹ã£ãŸã®ã§ã€ã ã„ã¶ã‚¹ãƒˆãƒ¬ã‚¹ãŒã‚ã‚Šã¾ã—ãŸã€‚\nã¡ãªã¿ã«åˆ©ç”¨ã—ã¦ã„ãŸæœŸé–“ã¯ 2016å¹´4æœˆ ã€œ 2018å¹´2æœˆ ã®é–“ã§ã™ãŒã€æœ€å¾Œã®æ•°ã‚«æœˆã¯è‹¥å¹²é€Ÿåº¦ã‚‚ã‚¨ãƒªã‚¢ã‚‚æ”¹å–„ã—ãŸæ°—ãŒã—ã¦ã„ã¾ã—ãŸã€‚ã¨ã¯ã„ãˆã€æ°—ã®æ‰€ç‚ºãƒ¬ãƒ™ãƒ«ã§ã™ã€‚\nLINEãƒ¢ãƒã‚¤ãƒ« (docomo å›ç·š) â‘ : 3\nâ‘¡: 3\nâ‘¢: 3\nâ‘£: 2\nâ‘¤: 3\nåŒã˜ docomo å›ç·šã§ã¯ã‚ã‚Šã¾ã—ãŸãŒã€æ¥½å¤©ãƒ¢ãƒã‚¤ãƒ«ã®é ƒã¨æ¯”ã¹ã‚‹ã¨æ ¼æ®µã«è‰¯ããªã£ãŸå°è±¡ãŒã‚ã‚Šã¾ã—ãŸã€‚\nå±‹å†…ãƒ»å±‹å¤–å•ã‚ãšç‰¹ã«ä¸æº€ã¯ãªã„ã§ã™ãŒã€ã•ã™ãŒã«ã‚¢ãƒ—ãƒªã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ã‚„ã‚ã†ã¨ã™ã‚‹ã¨çµæ§‹ãªæ™‚é–“ãŒã‹ã‹ã£ã¦ã„ã¾ã—ãŸã€‚ã¾ã‚ã€åŸºæœ¬çš„ã«ã¯ Wi-Fi ã¤ãªã„ã§ã‚‹ã¨ãã«ã‚„ã‚Šã¾ã™ãŒã€ã©ã†ã—ã¦ã‚‚ä»Šã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸã„ï¼ã¨ã„ã†ã¨ãã«ã¯ä¸ä¾¿ã§ã—ãŸã€‚\nã¾ãŸã€é›»è»Šã®è»Šå†… (åœ°ä¸‹) ã§ã¯é…ã„ã¨æ„Ÿã˜ã‚‹ã“ã¨ãŒå¤šã‹ã£ãŸã§ã™ã€‚\nä½ç½®æƒ…å ±ã«é–¢ã—ã¦ã¯ã€åœ°ä¸Šã§ã‚ã‚Œã°å‰²ã¨ã™ãã«æ‹¾ã£ã¦ãã‚Œã¾ã™ã€‚åœ°ä¸‹ã§ã¯èª¤å·®ãŒã‚ã£ãŸã‚Šã€å–å¾—ã«æ™‚é–“ãŒã‹ã‹ã£ãŸã‚Šã—ã¾ã™ãŒã€ã¾ã£ãŸãæ‹¾ã‚ãªã„ã‚ã‘ã§ã¯ãªã„ã®ã§å•é¡Œãªã„æ„Ÿã˜ã§ã™ã€‚Pokemon Go ã‚‚æ™®é€šã«ã§ãã¾ã™ã€‚\nLINEãƒ¢ãƒã‚¤ãƒ« (Softbank å›ç·š) â‘ : 4\nâ‘¡: 4\nâ‘¢: 4\nâ‘£: 3\nâ‘¤: 3\nã»ã¼ä¸æº€ã‚ã‚Šã¾ã›ã‚“ã€‚\né›»è»Šå†… (åœ°ä¸‹) ã§ãŸã¾ã«é…ã„ã¨ããŒã‚ã‚Šã¾ã™ãŒ (ç‰¹ã«å¸°å®…ãƒ©ãƒƒã‚·ãƒ¥æ™‚é–“å¸¯) ã€ã‚¹ãƒˆãƒ¬ã‚¹ã‚’æ„Ÿã˜ã‚‹ã»ã©ã§ã¯ãªã„ã§ã™ã€‚100MB ãã‚‰ã„ã®ã‚¢ãƒ—ãƒªã§ã‚ã‚Œã°ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚‚å¾…ãŸã•ã‚Œã‚‹æ„Ÿã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nä½ç½®æƒ…å ±ã«é–¢ã—ã¦ã¯ docomo å›ç·šã«ãã‚‰ã¹ã¦ã€å–å¾—ã¾ã§ã®æ™‚é–“ãŒæ—©ããªã£ãŸã¨æ„Ÿã˜ã¾ã™ã€‚Pokemon Go ã§ã‚‚èµ·å‹•æ™‚ã®ä½ç½®æƒ…å ±å–å¾—ã«ã‹ã‹ã‚‹æ™‚é–“ãŒçŸ­ããªã£ã¦ã¾ã™ã€‚\nLINE ãƒ¢ãƒã‚¤ãƒ«ã® Softbank å›ç·šã¯ä»Šå¹´ã® 7 æœˆãã‚‰ã„ã‹ã‚‰æä¾›ãŒé–‹å§‹ã•ã‚ŒãŸã°ã‹ã‚Šã§ãƒ¦ãƒ¼ã‚¶æ•°ã‚‚å°‘ãªã„ã‹ã‚‰å¿«é©ã«ä½¿ãˆã¦ã„ã‚‹ã¨ã„ã†å¯èƒ½æ€§ã¯ã‚ã‚Šã¾ã™ãŒã€ç¾çŠ¶ã§ã¯ç‰¹ã«ä¸æº€ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã‚‚ã¡ã‚ã‚“ã“ã®å‰ã®å¤§è¦æ¨¡éšœå®³ã§ã¯å½±éŸ¿ã‚’å—ã‘ã¾ã—ãŸãŒã€ã¾ã‚ä»–ã®ã‚­ãƒ£ãƒªã‚¢ã§èµ·ã“ã£ãŸå ´åˆã¯ãã®å›ç·šãŒãƒ€ãƒ¡ã«ãªã‚‹ã®ã§ã€ãã®ã‚ãŸã‚Šã¯ç‰¹ã«ãƒã‚¤ãƒŠã‚¹è¦ç´ ã¨ã¯æ€ã£ã¦ã„ã¾ã›ã‚“ã€‚\nã¡ãªã¿ã«ã€é€šè©±å“è³ªã«ã¤ã¦ã¯ 3 ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã‚‚ç‰¹ã«å·®ã¯ãªãæ™®é€šã«ä¼šè©±ã™ã‚‹ã®ã«æ”¯éšœãªã„ãƒ¬ãƒ™ãƒ«ã®å“è³ªã§ã™ã€‚\nã¾ã¨ã‚ æ¥½å¤©ãƒ¢ãƒã‚¤ãƒ«ã¨ LINEãƒ¢ãƒã‚¤ãƒ«ã®è«¸ã€…ã‚’ã–ã£ãã‚Šã¨æ¯”è¼ƒã—ã¦ã¿ã¾ã—ãŸã€‚\nçµè«–ã¨ã—ã¦ã¯ã€ LINEãƒ¢ãƒã‚¤ãƒ«ã® Softbank å›ç·šãŒä¸€ç•ªå¿«é©ã§ã™ã€ã¨ã„ã†ã“ã¨ã§ã™ã­ã€‚\nã¾ã‚ã€é€šä¿¡é€Ÿåº¦ã‚„å“è³ªã«é–¢ã—ã¦ã¯å ´æ‰€ãƒ»æ™‚é–“ã«ã‚ˆã£ã¦å¤§ããå·®ãŒå‡ºã‚‹éƒ¨åˆ†ãªã®ã§ã“ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®å†…å®¹ãŒã™ã¹ã¦æ­£ã—ã„ã¨ã¯è¨€ãˆã¾ã›ã‚“ãŒã€ä¸»è¦ 3 ã‚­ãƒ£ãƒªã‚¢ã‹ã‚‰æ ¼å®‰ SIM ã¸ã®ä¹—ã‚Šæ›ãˆã‚’æ¤œè¨ã—ã¦ã„ã‚‹å ´åˆã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/gadget-line-mobile-review/",
    "title": "ã‚¹ãƒãƒ›ã®ãƒ¡ã‚¤ãƒ³å›ç·šã‚’æ¥½å¤©ãƒ¢ãƒã‚¤ãƒ«ã‹ã‚‰ LINEãƒ¢ãƒã‚¤ãƒ«ã«å¤‰æ›´ã—ã¦ 10 ãƒ¶æœˆãã‚‰ã„ãŸã£ãŸã®ã§ä½¿ç”¨æ„Ÿã‚’ã–ã£ãã‚Šæ¯”è¼ƒã—ã¦ã¿ã¾ã™"
  },
  {
    "contents": "CloudWatch ã§ã‚¢ãƒ©ãƒ¼ãƒ ã®è¨­å®šã‚’ã—ã¦ã€SNS çµŒç”±ã§ Slack ã«é€šçŸ¥ã™ã‚‹éš›ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã€è¦‹ã‚„ã™ã„å½¢ã«æ•´å½¢ã™ã‚‹ Lambda ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚\nçµŒç·¯ CloudWatch Alarm ã‚’ Slack ã«é€šçŸ¥ã™ã‚‹ã“ã¨è‡ªä½“ã¯éå¸¸ã«ç°¡å˜ã§ã€ä¸‹è¨˜ã®æ–¹æ³•ã§é€šçŸ¥ã•ã›ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚\nSNS ãƒˆãƒ”ãƒƒã‚¯ã‚’ä½œæˆ ä½œæˆã—ãŸãƒˆãƒ”ãƒƒã‚¯ã®ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã«ã€HTTPS ã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§ Slack ã® Incoming Webhooks ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’æŒ‡å®š CloudWatch Alarm ã®é€šçŸ¥å…ˆã«ã€ä½œæˆã—ãŸ SNS ãƒˆãƒ”ãƒƒã‚¯ã‚’æŒ‡å®š ãŸã ã€ã“ã‚Œã ã‘ã§ã¯ CloudWatch Alarm ã‹ã‚‰é€ã‚‰ã‚Œã¦ãã‚‹ JSON ã®æ–‡å­—åˆ—ãŒãã®ã¾ã¾ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æœ¬æ–‡ã¨ã—ã¦é€šçŸ¥ã•ã‚Œã‚‹ã®ã§ã€éå¸¸ã«è¦‹ã¥ã‚‰ã„ã§ã™ã€‚\nã“ã‚Œã‚’è‰¯ã„æ„Ÿã˜ã«æ•´å½¢ã—ã¾ã™ã€‚\nã‚„ã£ãŸã“ã¨ æ–¹æ³•ã¨ã—ã¦ã¯ã€SNS ã®ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã§ç›´æ¥ Incoming Webhooks ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’æŒ‡å®šã™ã‚‹ã®ã§ã¯ãªãã€ Lambda é–¢æ•°ã‚’æŒ‡å®šã—ã¾ã™ã€‚ãã—ã¦ã€ãã® Lambda é–¢æ•°å†…ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ•´å½¢ãƒ» Slack ã¸ã®é€šçŸ¥ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nã§ã€ä½œã£ãŸã®ã¯æ¬¡ã®ã‚ˆã†ãª Lambda é–¢æ•°ã€‚\nmichimani/sns_to_slack.py | GitHubGist import boto3 import json import logging import os from base64 import b64decode from urllib.error import URLError, HTTPError from urllib.request import Request, urlopen SLACK_CHANNEL = os.environ[\u0026#39;slackChannel\u0026#39;] ENCRYPTED_HOOK_URL = os.environ[\u0026#39;kmsEncryptedHookUrl\u0026#39;] HOOK_URL = boto3.client(\u0026#39;kms\u0026#39;).decrypt(CiphertextBlob=b64decode(ENCRYPTED_HOOK_URL))[\u0026#39;Plaintext\u0026#39;].decode(\u0026#39;utf-8\u0026#39;) logger = logging.getLogger() logger.setLevel(logging.INFO) def lambda_handler(event, context): \u0026#34;\u0026#34;\u0026#34;Lambda handler.\u0026#34;\u0026#34;\u0026#34; logger.info(\u0026#39;Event: \u0026#39; + str(event)) message = json.loads(event[\u0026#39;Records\u0026#39;][0][\u0026#39;Sns\u0026#39;][\u0026#39;Message\u0026#39;]) logger.info(\u0026#39;Message: \u0026#39; + str(message)) alarm_name = message[\u0026#39;Trigger\u0026#39;][\u0026#39;MetricName\u0026#39;] new_state = message[\u0026#39;NewStateValue\u0026#39;] reason = message[\u0026#39;NewStateReason\u0026#39;] state_color = \u0026#39;#00FF00\u0026#39; if new_state != \u0026#39;OK\u0026#39;: state_color = \u0026#39;#FF0000\u0026#39; slack_message = { \u0026#39;channel\u0026#39;: SLACK_CHANNEL, \u0026#39;icon_emoji\u0026#39;: \u0026#39;:cloudwatch-%s:\u0026#39; % (new_state.lower()), \u0026#39;attachments\u0026#39;: [ { \u0026#39;color\u0026#39;: state_color, \u0026#39;fields\u0026#39;: [ { \u0026#39;value\u0026#39;: \u0026#34;*%s* state is now *%s*\\n```\\n%s\\n```\u0026#34; % (alarm_name, new_state, reason) } ] } ] } req = Request(HOOK_URL, json.dumps(slack_message).encode(\u0026#39;utf-8\u0026#39;)) try: response = urlopen(req) response.read() logger.info(\u0026#39;Message posted to %s\u0026#39;, slack_message[\u0026#39;channel\u0026#39;]) except HTTPError as e: logger.error(\u0026#39;Request failed: %d %s\u0026#39;, e.code, e.reason) except URLError as e: logger.error(\u0026#39;Server connection failed: %s\u0026#39;, e.reason) 'icon_emoji': ':cloudwatch-%s:' % (new_state.lower()) ã®éƒ¨åˆ†ã§ã¯é€šçŸ¥ç”¨ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚«ã‚¹ã‚¿ãƒ çµµæ–‡å­—ã§æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\näº‹å‰ã« :cloudwatch-ok: ã¨ :cloudwatch-alarm: ã¨ã„ã†åå‰ã§ã‚«ã‚¹ã‚¿ãƒ çµµæ–‡å­—ã‚’ä½œæˆã—ã¦ãŠãã¨ã€ã‚ˆã‚Š ãã‚Œã£ã½ã•ãŒå‡ºã¾ã™ã€‚ä¸è¦ãªå ´åˆã¯ã“ã® 1 è¡Œã‚’å‰Šé™¤ã™ã‚Œã° ok ã§ã™ã€‚\nå®Ÿéš›ã¯æ¬¡ã®ã‚ˆã†ãªå½¢ã§é€šçŸ¥ãŒå±Šãã¾ã™ã€‚\nã¨ã‚Šã‚ãˆãš OK ã¨ ALARM ã®å ´åˆã®ã¿ã‚’è€ƒæ…®ã—ãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã«ãªã£ã¦ã¾ã™ãŒã€é©å®œ INSUFFICIENT_DATA ã®çŠ¶æ…‹ã«ã¤ã„ã¦ã‚‚è‰²ã¨ã‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤‰ãˆã‚‹ã“ã¨ã‚‚ã§ããã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-notice-cloudwatch-alarm-to-slack/",
    "title": "CloudWatch Alarm ã‚’ SNS çµŒç”±ã§ Slack ã«é€šçŸ¥ã™ã‚‹ã¨ãã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…å®¹ã‚’è‰¯ã„æ„Ÿã˜ã«ã—ã¦ã¿ãŸ"
  },
  {
    "contents": "Adobe Fonts (æ—§ Typekit) ã‚’åˆ©ç”¨ã—ã¦ Web ãƒ•ã‚©ãƒ³ãƒˆã‚’é©ç”¨ã™ã‚‹éš›ã«ã€ãƒšãƒ¼ã‚¸ã®æç”»ã¨ Web ãƒ•ã‚©ãƒ³ãƒˆãŒé©ç”¨ã«è‹¥å¹²ã®ã‚¿ã‚¤ãƒ ãƒ©ã‚°ãŒç™ºç”Ÿã—ã€ç”»é¢ãŒã¡ã‚‰ã¤ãã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚\nã“ã‚Œã¯ã€ Web ãƒ•ã‚©ãƒ³ãƒˆãŒé©ç”¨ã•ã‚Œã‚‹ã¾ã§ã®åƒ…ã‹ãªæ™‚é–“ã«ã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚©ãƒ³ãƒˆã«ã‚ˆã£ã¦ãƒšãƒ¼ã‚¸å†…ã®ãƒ†ã‚­ã‚¹ãƒˆãŒæç”»ã•ã‚Œã‚‹ã‹ã‚‰ã§ã™ã€‚\nåƒ…ã‹ãªæ™‚é–“ã¨ã¯è¨€ãˆã€ãƒ•ã‚©ãƒ³ãƒˆã«ã‚ˆã£ã¦ã¯å¹…ã‚„é«˜ã•ãŒç•°ãªã‚Šãƒ†ã‚­ã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚¨ãƒªã‚¢ã®è¦‹ãŸç›®ã«ã‚‚é–¢ã‚ã£ã¦ãã‚‹éƒ¨åˆ†ãªã®ã§ã€ã§ãã‚Œã°ã“ã®ãƒãƒ©ãƒ„ã‚­ã¯ãªãã—ãŸã„ã§ã™ã€‚\nã¡ãªã¿ã«ã“ã®ãƒãƒ©ãƒ„ã‚­ã®ã“ã¨ã‚’ FOUT (Flash Of Unstyled Text) ã¨å‘¼ã¶ã¿ãŸã„ã§ã™ã€‚\nã‚„ã‚ŠãŸã„ã“ã¨ Web ãƒ•ã‚©ãƒ³ãƒˆã®é©ç”¨ãŒå®Œäº†ã—ã¦ã‹ã‚‰ãƒšãƒ¼ã‚¸ã‚’æç”»ã™ã‚Œã°ã€ãƒãƒ©ãƒ„ã‚­ã¯ãªããªã‚Šã¾ã™ã€‚ãªã®ã§ã€æœ€åˆã¯ãƒšãƒ¼ã‚¸å…¨ä½“ã‚’éè¡¨ç¤ºã«ã—ã¦ãŠã„ã¦ã€ Web ãƒ•ã‚©ãƒ³ãƒˆãŒãƒ­ãƒ¼ãƒ‰ã§ããŸ ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ãƒšãƒ¼ã‚¸å…¨ä½“ã‚’è¡¨ç¤ºã™ã‚Œã° OK ã§ã™ã€‚\nãŸã ã—ã€ä»®ã« Web ãƒ•ã‚©ãƒ³ãƒˆã®ãƒ­ãƒ¼ãƒ‰ãŒå®Œäº†ã—ãªã‹ã£ãŸå ´åˆã¯ ã„ã¤ã¾ã§ãŸã£ã¦ã‚‚ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œãªã„ã®ã§ã€ãã®å ´åˆã«ã¤ã„ã¦ã¯è€ƒæ…®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã“ã® Web ãƒ•ã‚©ãƒ³ãƒˆãŒãƒ­ãƒ¼ãƒ‰ã§ããŸ ã“ã¨ã‚’ã©ã†ã‚„ã£ã¦æ¤œå‡ºã™ã‚‹ã‹ã§ã™ãŒã€ Adobe Fonts ã§ã¯éå¸¸ã«ç°¡å˜ãªæ–¹æ³•ã§ãã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’çŸ¥ã‚‰ã›ã¦ãã‚Œã¦ã„ã¾ã™ã€‚\nAdobe Fonts ã® Web ãƒ•ã‚©ãƒ³ãƒˆã§ã¯ã€ Web ãƒ•ã‚©ãƒ³ãƒˆãŒãƒ­ãƒ¼ãƒ‰ã§ããŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã€ html ã‚¿ã‚°ã« wf-active ã¨ã„ã† class ã‚’è¿½åŠ ã—ã¦ãã‚Œã¦ã„ã¾ã™ã€‚(å³å¯†ã«ã¯ä»–ã«ã‚‚ class ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™)\nãªã®ã§ã€ã“ã® class ã®æœ‰ç„¡ã§ Web ãƒ•ã‚©ãƒ³ãƒˆãŒãƒ­ãƒ¼ãƒ‰ã§ããŸã‹ã©ã†ã‹ã‚’åˆ¤å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã‚„ã‚‹ã“ã¨ CSS ã®è¨˜è¿° class ã«ã‚ˆã£ã¦ Web ãƒ•ã‚©ãƒ³ãƒˆã®ãƒ­ãƒ¼ãƒ‰å®Œäº†ã‚’æ¤œå‡ºã§ãã‚‹ã®ã§ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã•ã›ã¾ã™ã€‚\nhtml { visibility: hidden; } html.wf-active, html.loading-delay { visibility: visible; } ã“ã‚Œã«ã‚ˆã£ã¦ã€ class ã« wf-active ã‚’æŒã¤ html ã®ã¿è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ãŸã ã— Web ãƒ•ã‚©ãƒ³ãƒˆã®ãƒ­ãƒ¼ãƒ‰ãŒå®Œäº†ã—ãªã„ = html ã‚¿ã‚°ã« class wf-active ãŒè¿½åŠ ã•ã‚Œãªã„ã¨ã€ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚\nhtml.loading-delay ã«ã¤ã„ã¦ã¯ã€ãã®å¯¾ç­–ã¨ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚\nJavaScript ã®è¨˜è¿° Web ãƒ•ã‚©ãƒ³ãƒˆã®ãƒ­ãƒ¼ãƒ‰ãŒå®Œäº†ã—ãªã„å ´åˆã«å‚™ãˆã¦ã€æ¬¡ã®ã‚ˆã†ãªå‡¦ç†ã‚’å®Ÿè£…ã—ã¾ã™ã€‚\nsetTimeout(function() { if (document.getElementsByTagName(\u0026#34;html\u0026#34;)[0].classList.contains(\u0026#39;wf-active\u0026#39;) != true) { document.getElementsByTagName(\u0026#34;html\u0026#34;)[0].classList.add(\u0026#39;loading-delay\u0026#39;); } }, 3000); ã“ã‚Œã«ã‚ˆã£ã¦ã€ 3000 ms (3ç§’) çµŒã£ã¦ã‚‚ class wf-active ãŒè¿½åŠ ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€ä»£ã‚ã‚Šã« class loading-delay ã‚’è¿½åŠ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ãã®çµæœã€é…ãã¨ã‚‚ 3 ç§’å¾Œã«ã¯ãƒšãƒ¼ã‚¸ã®å†…å®¹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nAdobe Fonts ã® Web ãƒ•ã‚©ãƒ³ãƒˆç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã¯ã€ scriptTimeout ã®å€¤ã¨ã—ã¦ 3000 ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã“ã§ã®æŒ‡å®šã‚‚ 3000 ã§ã‚ˆã„ã‹ã¨æ€ã„ã¾ã™ã€‚ãŒã€ã“ã®ã‚ãŸã‚Šã¯é©å®œå¤‰æ›´ã§ã€‚\nçµæœ ã“ã®ãƒ–ãƒ­ã‚°ã§ã‚‚ Adobe Fonts ã§ Web ãƒ•ã‚©ãƒ³ãƒˆã‚’é©ç”¨ã•ã›ã¦ã„ãŸã®ã§ã™ãŒã€ãƒãƒ©ãƒ„ã‚­ãŒã‚ã‚Šè¦‹ã¥ã‚‰ã„çŠ¶æ…‹ã§ã—ãŸã€‚ãŒã€ä¸Šè¨˜æ–¹æ³•ã§ãƒãƒ©ãƒ„ã‚­ã‚’ç„¡ãã™ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nã¡ãªã¿ã«ã“ã®æ–¹æ³•ã¯ Google ãŒæä¾›ã—ã¦ã„ã‚‹ Web ãƒ•ã‚©ãƒ³ãƒˆã§ã‚‚ãã®ã¾ã¾åˆ©ç”¨å¯èƒ½ãªã‚ˆã†ã§ã™ã€‚ (åŒã˜æ–¹æ³•ã§ Web ãƒ•ã‚©ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ãƒ‰ã—ã¦ã„ã‚‹ã‚‰ã—ã„ã§ã™)\nWeb ãƒ•ã‚©ãƒ³ãƒˆã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã¯ä»–ã«ã‚‚è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚ˆã£ã¦ã¯ç‹¬è‡ªã« JavaScript ã® API ã§ãƒ­ãƒ¼ãƒ‰å®Œäº†ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—ã§ããŸã‚Šã™ã‚‹å ´åˆã‚‚ã‚ã‚‹ã‚ˆã†ãªã®ã§ã€ã“ã®æ–¹æ³•ãŒä½¿ãˆãªã„å ´åˆã¯ãã‚Œã‚’ä½¿ã†æ–¹æ³•ã‚‚è€ƒãˆã‚‰ã‚Œãã†ã§ã™ã€‚\nAdobe Fonts Google Fonts TypeSquare FONTPLUS å‚è€ƒ Webãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿æ™‚ã®ã€Œå†æç”»ã¡ã‚‰ã¤ãã€ã‚’ãªãã™æ–¹æ³• â€“ æ™‚ã«ã¯WEBã®è©±ã£ï¼ Webãƒ•ã‚©ãƒ³ãƒˆã«ã‚ˆã‚‹ã¡ã‚‰ã¤ãã‚’ãªãã™æ–¹æ³•ï¼ˆãƒãƒƒãƒˆä½é€Ÿç’°å¢ƒã‚‚è€ƒæ…®ï¼‰ - Qiita ",
    "permalink": "https://michimani.net/post/development-remove-web-fonts-fout/",
    "title": "Adobe Fonts ã§ Web ãƒ•ã‚©ãƒ³ãƒˆã‚’é©ç”¨ã™ã‚‹ã¨ãã«ç™ºç”Ÿã™ã‚‹ãƒãƒ©ãƒ„ã‚­ã‚’ç„¡ãã™"
  },
  {
    "contents": "AWS ã‚’å€‹äººã®å‹‰å¼·ç”¨ã§ä½¿ã£ã¦ã„ãŸã‚Šã€é–‹ç™ºç’°å¢ƒã§ä½¿ã£ã¦ã„ãŸã‚Šã™ã‚‹å ´åˆã€å°‘ã—ã§ã‚‚ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚³ã‚¹ãƒˆã‚’æŠ‘ãˆã‚‹ãŸã‚ã«ä¼‘æ—¥ã‚„å¤œé–“ã«ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’åœæ­¢ã—ãŸã„ã¨ããŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚’è‡ªå‹•ã§ã‚„ã‚Šã¾ã™ã€‚ ã“ã®æ‰‹ã®æ–¹æ³•ã¯æ—¢ã«è‰²ã€…å‡ºå›ã£ã¦ã„ã¾ã™ãŒã€è‡ªåˆ†ãªã‚Šã«ã—ã£ãã‚Šãã‚‹ã‚‚ã®ãŒã§ããŸã®ã§æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nâ€»è¿½è¨˜ AWS CDK ã‚’ä½¿ã£ã¦ã“ã‚Œã‚‰ã®ç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã‚‚æ›¸ãã¾ã—ãŸã€‚\næ¦‚è¦ ç‰¹å®šã®ã‚¿ã‚°ã‚’æŒã¤ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã¿ã‚’å¯¾è±¡ã«ã€è‡ªå‹•èµ·å‹•ãƒ»åœæ­¢ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€ä»¥ä¸‹ã®2ã¤ã§ã™ã€‚\nCloudWatch Events Lambda CloudWatch ã¯è‰²ã€…ç›£è¦–ã™ã‚‹ãŸã‚ã«ä½¿ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒã‚ã‚Šã¾ã™ãŒã€ãã®ä¸­ã«ã‚ã‚‹ CloudWatch Events ã¯ã€cron ã®ã‚ˆã†ãªæ„Ÿã˜ã§æ±ºã‚ã‚‰ã‚ŒãŸã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã«å¾“ã£ã¦å‡¦ç†ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚\nã‚„ã‚‹ã“ã¨ Lambda ã§è‡ªå‹•èµ·å‹•ãƒ»åœæ­¢ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ã CloudWatch Events ã§èµ·å‹•ãƒ»åœæ­¢ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¨­å®šã™ã‚‹ 1. Lambda ã§è‡ªå‹•èµ·å‹•ãƒ»åœæ­¢ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ã ãƒ©ãƒ³ã‚¿ã‚¤ãƒ  : Python 3.6 ç‰¹å®šã®ã‚¿ã‚°ã¨å€¤ã‚’æŒã¤ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å¯¾è±¡ã«ã€è‡ªå‹•èµ·å‹•ãƒ»åœæ­¢ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nimport json import boto3 import traceback def lambda_handler(event, context): try: region = event[\u0026#39;Region\u0026#39;] action = event[\u0026#39;Action\u0026#39;] client = boto3.client(\u0026#39;ec2\u0026#39;, region) responce = client.describe_instances(Filters=[{\u0026#39;Name\u0026#39;: \u0026#39;tag:AutoStartStop\u0026#39;, \u0026#34;Values\u0026#34;: [\u0026#39;TRUE\u0026#39;]}]) target_instans_ids = [] for reservation in responce[\u0026#39;Reservations\u0026#39;]: for instance in reservation[\u0026#39;Instances\u0026#39;]: target_instans_ids.append(instance[\u0026#39;InstanceId\u0026#39;]) print(target_instans_ids) if not target_instans_ids: print(\u0026#39;There are no instances subject to automatic start / stop.\u0026#39;) else: if action == \u0026#39;start\u0026#39;: client.start_instances(InstanceIds=target_instans_ids) print(\u0026#39;started instances.\u0026#39;) elif action == \u0026#39;stop\u0026#39;: client.stop_instances(InstanceIds=target_instans_ids) print(\u0026#39;stopped instances.\u0026#39;) else: print(\u0026#39;Invalid action.\u0026#39;) return { \u0026#34;statusCode\u0026#34;: 200, \u0026#34;message\u0026#34;: \u0026#39;Finished automatic start / stop EC2 instances process. [Region: {}, Action: {}]\u0026#39;.format(event[\u0026#39;Region\u0026#39;], event[\u0026#39;Action\u0026#39;]) } except: print(traceback.format_exc()) return { \u0026#34;statusCode\u0026#34;: 500, \u0026#34;message\u0026#34;: \u0026#39;An error occured at automatic start / stop EC2 instances process.\u0026#39; } æ¬¡ã®éƒ¨åˆ†ã§ã€ç‰¹å®šã®ã‚¿ã‚°ã‚’æŒã¤ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒªã‚¹ãƒˆã‚’å–å¾—ã—ã¦ã„ã¾ã™ã€‚\nresponce = client.describe_instances(Filters=[{\u0026#39;Name\u0026#39;: \u0026#39;tag:AutoStartStop\u0026#39;, \u0026#34;Values\u0026#34;: [\u0026#39;TRUE\u0026#39;]}]) ä»Šå›ã¯ AutoStartStop ã¨ã„ã†ã‚¿ã‚°åã§ TRUE ã¨ã„ã†å€¤ã‚’æŒã£ã¦ã„ã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å–å¾—ã—ã¦ã„ã¾ã™ã€‚\nã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã«å‡ºã¦ãã‚‹ event ã¯ CloudWatch Events ã‹ã‚‰ ã“ã® Lambda é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã«æ¸¡ã™ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ã™ã€‚\nãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ JSON æ–‡å­—åˆ—ã§æŒ‡å®šã§ãã‚‹ã®ã§ã€å¯¾è±¡ã¨ãªã‚‹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¨èµ·å‹•/åœæ­¢ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å—ã‘å–ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nã‚½ãƒ¼ã‚¹ã¯ gist ã«ç½®ã„ã¦ã„ã¾ã™ã€‚\nmichimani/start-stop-ec2-python | GitHub ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œã«å¿…è¦ãªãƒ­ãƒ¼ãƒ« ã“ã®é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ­ãƒ¼ãƒ«ã‚’ä½¿ã„ã¾ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;VisualEditor0\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;logs:CreateLogStream\u0026#34;, \u0026#34;logs:PutLogEvents\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:logs:*:*:*\u0026#34; }, { \u0026#34;Sid\u0026#34;: \u0026#34;VisualEditor1\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;ec2:DescribeInstances\u0026#34;, \u0026#34;ec2:StartInstances\u0026#34;, \u0026#34;ec2:StopInstances\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; } ] } é‡è¦ãªã®ã¯ EC2 ã«é–¢ã™ã‚‹æ¨©é™ã§ã™ã€‚ ãƒªã‚¹ãƒˆã‚’å–å¾—ã™ã‚‹æ¨©é™ (ec2:DescribeInstances) ã¨ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’èµ·å‹•ãƒ»åœæ­¢ã™ã‚‹æ¨©é™ (ec2:StartInstances, ec2:StopInstances) ãŒå¿…è¦ã§ã™ã€‚\n2. CloudWatch Events ã§èµ·å‹•ãƒ»åœæ­¢ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¨­å®šã™ã‚‹ CloudWatch \u0026gt; ã‚¤ãƒ™ãƒ³ãƒˆ ãƒ«ãƒ¼ãƒ« \u0026gt; ãƒ«ãƒ¼ãƒ«ã®ä½œæˆ ã¨é€²ã‚“ã§ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¨­å®šã—ã¾ã™ã€‚\nã“ã®ã‚ˆã†ã«è¨­å®šã™ã‚‹ã¨ã€å¹³æ—¥ 10:00 ã«è‡ªå‹•èµ·å‹•ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ åœæ­¢ã®å ´åˆã¯ã€ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¸ã®å…¥åŠ› (JSONæ–‡å­—åˆ—) ã‚’ {\u0026quot;Region\u0026quot;: \u0026quot;ap-northeast-1\u0026quot;, \u0026quot;Action\u0026quot;: \u0026quot;stop\u0026quot;} ã¨ã™ã‚Œã°ã‚ˆã„ã§ã™ã€‚\nã²ã¨ã¤æ³¨æ„ãŒå¿…è¦ãªã®ã¯ã€ Cron å¼ã§æŒ‡å®šã™ã‚‹æ—¥æ™‚ã¯ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã¯ UTC ã¨ã„ã†ç‚¹ã§ã™ã€‚\nã‚ã¨ã¯ã€è‡ªå‹•èµ·å‹•ãƒ»åœæ­¢ã—ãŸã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ç‰¹å®šã®ã‚¿ã‚°ã‚’ä»˜ã‘ã‚Œã°å®Œæˆã§ã™ã€‚\nã¾ã¨ã‚ ã‚¿ã‚°ãƒ™ãƒ¼ã‚¹ã«ã—ã¦ãŠã‘ã°ã€è‡ªå‹•èµ·å‹•ãƒ»åœæ­¢ã®å¯¾è±¡ã«ã—ãŸã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒå¢—ãˆã¦ã‚‚ç®¡ç†ã—ã‚„ã™ã„ã§ã™ã€‚\næœ€è¿‘ã§ã¯ RDS ã‚‚èµ·å‹•ãƒ»åœæ­¢ã«å¯¾å¿œã—ãŸã‚ˆã†ãªã®ã§ã€ã“ã‚Œã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦ä½œã£ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-auto-start-stop-ec2/",
    "title": "CloudWatch Events + Lambda ã§ ç‰¹å®šã®ã‚¿ã‚°ã‚’æŒã¤ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è‡ªå‹•ã§èµ·å‹•ãƒ»åœæ­¢ã•ã›ã‚‹"
  },
  {
    "contents": "2018 å¹´ã¯ä»Šã¾ã§ä»¥ä¸Šã«ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã‚’ã—ã¦ã„ã“ã†ã¨è€ƒãˆã¦ã‚¹ã‚¿ãƒ¼ãƒˆã—ãŸã‚ã‘ã§ã™ãŒã€å®Ÿéš›ã©ã‚“ãªæ„Ÿã˜ã ã£ãŸã®ã‹æŒ¯ã‚Šè¿”ã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nQiita ã‹ã‚‰ã®è„±å‡º 2017 å¹´ã¯ã€ Qiita ã§æŠ€è¡“çš„ãªã“ã¨ã‚’å°‘ã—ãšã¤æ›¸ãã‚ˆã†ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚ 2018 å¹´ã‚‚ãã®èª¿å­ã§ã©ã‚“ã©ã‚“æ›¸ã„ã¦ã„ã“ã†ã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€å»å¹´ã®ä¸åº¦ã„ã¾ã”ã‚ã€ Qiita ã‚’é‹å–¶ã™ã‚‹ Increments ãŒã‚¨ã‚¤ãƒãƒ¼ãƒ ã«è²·åã•ã‚Œã¾ã—ãŸã€‚\nIncrements æ ªå¼ä¼šç¤¾ã®æ ªå¼å–å¾—ï¼ˆå­ä¼šç¤¾åŒ–ï¼‰ã«é–¢ã™ã‚‹ãŠçŸ¥ã‚‰ã› | Ateam Inc. Qiita ã®ã‚µãƒ¼ãƒ“ã‚¹è‡ªä½“ã¯ç‰¹ã«å¤‰ã‚ã‚‰ãªã„ã¨ã„ã†ã“ã¨ã§ã€å°‘ã—ãƒ¢ãƒãƒ™ãŒä¸‹ãŒã‚ŠãªãŒã‚‰ã‚‚å¼•ãç¶šã Qiita ã«è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ãŸã€‚ãŸã ã€ã ã‚“ã ã‚“ã¨ãƒã‚¨ãƒ ã£ã½ã„è¨˜äº‹ãŒå ã‚ã‚‹å‰²åˆãŒå¢—ãˆã¦ã„ãã€æœ€è¿‘ã§ã¯ä»–ã®ãƒ¦ãƒ¼ã‚¶ã®æšã’è¶³ã‚’å–ã‚‹ã‚ˆã†ãªå†…å®¹ã®è¨˜äº‹ãŒãŸãã•ã‚“å‡ºã¦ãã¦ãƒ©ãƒ³ã‚­ãƒ³ã‚°ä¸Šä½ã‚’å ã‚ã‚‹ã¨ã„ã†ãƒ—ãƒäº‹ä»¶ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚\nãã®ã“ã¨ã‚’å—ã‘ã¦ã€æŠ€è¡“çš„ãªã“ã¨ (ã‚’å«ã‚ãŸè‰²ã€…) ã‚’æ›¸ãå ´æ‰€ã‚’è‡ªåˆ†ã§ä½œã‚ã†ï¼ã¨ã„ã†ã“ã¨ã§ã€ã“ã®ãƒ–ãƒ­ã‚°ã‚’ä½œã£ãŸã‚ã‘ã§ã™ã€‚\nã¡ãªã¿ã« 2018 å¹´ã«å…¥ã£ã¦ã‹ã‚‰ Qiita ã§æ›¸ã„ãŸè¨˜äº‹æ•°ã¯ 17 ã§ã€ãã‚Œä»¥å‰ã®ã‚‚ã®ã‚’å«ã‚ã¦ 40 ã®è¨˜äº‹ã¯ã»ã¼ã™ã¹ã¦ã“ã®ãƒ–ãƒ­ã‚°ã«ç§»è¡Œã—ã¦ã„ã¾ã™ã€‚\næ›¸ã„ãŸè¨˜äº‹æ•° å†…å®¹ã¯ç½®ã„ã¨ã„ã¦ã€æ›¸ã„ãŸè¨˜äº‹ã®æ•°ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚(2018/12/13 æ™‚ç‚¹)\nãƒ‰ãƒ¡ã‚¤ãƒ³ è¨˜äº‹æ•° michimani.net 27 qiita.com/michimani 17 â€»ã“ã®ãƒ–ãƒ­ã‚°ã«ç§»è¡Œæ¸ˆã¿ michinoeki-mania.com 46 â€»ãƒã‚¤ã‚¯é–¢ä¿‚ã®ãƒ–ãƒ­ã‚° dev-michimani.hatenablog.com 10 â€»é›‘è¨˜ç”¨ã§ä½œã£ãŸã€‚ä»Šã¯ã‚‚ã†ç„¡ã„ åˆè¨ˆ 100 ã¡ã‚‡ã†ã© 100ï¼\næ˜¨å¹´ã¯ãƒã‚¤ã‚¯ãƒ–ãƒ­ã‚°ã ã‘ã§ 90 ä»¥ä¸Šæ›¸ã„ã¦ã¾ã—ãŸãŒã€ã¾ã‚ä»Šå¹´ã¯ãã‚Œä»¥å¤–ã®ã“ã¨ã‚‚ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã—ã‚ˆã†ã¨æ€ã£ã¦ã„ãŸã®ã§ã€çµæœã‚ªãƒ¼ãƒ©ã‚¤ã‹ãªã¨ã„ã†æ„Ÿã˜ã€‚\nOSS é–¢é€£ ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã¨ã¯å°‘ã—é•ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ ä»Šå¹´ã¯åˆã‚ã¦ GitHub ã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ãƒªãƒã‚¸ãƒˆãƒªã«ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹ ã¨ã„ã†ã“ã¨ã‚’ã‚„ã‚Šã¾ã—ãŸã€‚ãã—ã¦ã€å¬‰ã—ã„ã“ã¨ã«ãã®ãƒ—ãƒ«ãƒªã‚¯ã¯ master ã«ãƒãƒ¼ã‚¸ã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚\nã”ãç°¡å˜ãªå†…å®¹ã§ã¯ã‚ã‚Šã¾ã—ãŸãŒã€ OSS ã®ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ã«è‡ªåˆ†ã®åå‰ãŒæ®‹ã‚‹ã®ã¯å¬‰ã—ã„ã“ã¨ã ã¨æ„Ÿã˜ã¾ã—ãŸã€‚\nissue ã®ä½œæˆã€ã‚³ãƒ¡ãƒ³ãƒˆã®ã‚„ã‚Šå–ã‚Šã€ãƒ—ãƒ«ãƒªã‚¯ã®ä½œæˆã¯ã™ã¹ã¦è‹±èªã§ã®ã‚„ã‚Šã¨ã‚Šã§ã—ãŸãŒã€æ¡ˆå¤–ãªã‚“ã¨ã‹ãªã‚‹ã‚‚ã‚“ã ãªã¨æ„Ÿã˜ãŸã®ã§ã€æ¥å¹´ã‚‚ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã„ããŸã„ã§ã™ã€‚\nã¡ãªã¿ã«ãƒ—ãƒ«ãƒªã‚¯ãŒæ¡ç”¨ã•ã‚ŒãŸã®ã¯ã€ Hugo ã®ãƒ†ãƒ¼ãƒã§ã‚ã‚‹ indigo ã®ãƒªãƒã‚¸ãƒˆãƒªã§ã™ã€‚\nAngeloStavrow/indigo | GitHub ã‚»ãƒŸãƒŠãƒ¼é–¢é€£ ã“ã‚Œã¾ãŸã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã¨ã¯å°‘ã—é•ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä»Šå¹´ã¯æŠ€è¡“çš„ãªã‚»ãƒŸãƒŠãƒ¼ã«ã‚‚å‚åŠ ã—ã¦ã¿ã¾ã—ãŸã€‚\næŠ€è¡“çš„ãªã‚»ãƒŸãƒŠãƒ¼ã«ã¤ã„ã¦ã¯ã€Œå‚åŠ ã—ãŸã ã‘ã§ã‚ã‹ã£ãŸæ°—ã«ãªã£ã¦ã—ã¾ã†ã€ã¨ã„ã†ãƒã‚¤ãƒŠã‚¹ã®æ„è¦‹ã‚‚ã‚ã‚Šã¾ã™ãŒã€å€‹äººçš„ã«ã¯å‚åŠ ã™ã‚‹ã“ã¨ã§è‡ªåˆ†ã®ã‚„ã‚‹æ°—ã«ç¹‹ãŒã‚‹æ„Ÿã˜ãŒã—ã¾ã—ãŸã€‚\nèª¿ã¹ã¦ã¿ã‚‹ã¨ã€é–¢æ±ã§ã¯æ¯é€±ã®ã‚ˆã†ã«è‰²ã€…ãªã‚»ãƒŸãƒŠãƒ¼ãŒé–‹å‚¬ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ãªã®ã§ã€é–¢æ±ã«ã„ã‚‹ã“ã¨ã®ãƒ¡ãƒªãƒƒãƒˆã¨ã—ã¦æ¥å¹´ã¯ã‚‚ã£ã¨ã„ã‚ã‚“ãªã‚»ãƒŸãƒŠãƒ¼ã«å‚åŠ ã—ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã—ãŸã€‚\nã€2018å¹´ç‰ˆã€‘ITã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‘ã‘ã‚ªã‚¹ã‚¹ãƒ¡ã‚¤ãƒ™ãƒ³ãƒˆãƒ»å‹‰å¼·ä¼šã‚µã‚¤ãƒˆ7é¸ | DevelopersIO ã‚ã¨ã€æŠ€è¡“çš„ãªã“ã¨ã§ã¯ãªã„ã§ã™ãŒã€æ¥å¹´ã¯ãƒ«ãƒ¼ãƒ“ãƒƒã‚¯ã‚­ãƒ¥ãƒ¼ãƒ–ã®ã‚ªãƒ•ä¼šçš„ãªã‚‚ã®ã«ã‚‚å‚åŠ ã—ã¦ã¿ã‚ˆã†ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\n2019 å¹´ã¯ã©ã†ã™ã‚‹ã‹ æ—¢ã«å„é …ç›®ã§æ›¸ã„ã¦ã„ã‚‹ã®ã§è©³ã—ãã¯æ›¸ãã¾ã›ã‚“ãŒã€ã¨ã‚Šã‚ãˆãš å¤–ã«å‡ºã‚‹ ã“ã¨ã‚’ç›®æ¨™ã«ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nãƒ–ãƒ­ã‚°ã§ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã‚‚ãã†ã§ã™ãŒã€ã‚»ãƒŸãƒŠãƒ¼å‚åŠ ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¸ã®å‚åŠ ãªã©ã§è‰²ã‚“ãªäººã¨æƒ…å ±å…±æœ‰ã—ã¦ã„ããŸã„ã¨è€ƒãˆã¦ã¾ã™ã€‚\nãã‚Œã«åŠ ãˆã¦ã€ AWS é–¢é€£ã®èªå®šã‚‚å–å¾—ã«å‘ã‘ã¦ã‚‚é ‘å¼µã‚ŠãŸã„ã§ã™ã­ã€‚\n",
    "permalink": "https://michimani.net/post/other-retrospect-in-2018/",
    "title": "2018 å¹´ã®è‡ªåˆ†ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆäº‹æƒ…ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã£ã¦ã¿ã‚‹"
  },
  {
    "contents": "èµ·ã“ã£ã¦ã„ãŸç¾è±¡ zsh ã§ãªã«ã‹ã—ã‚‰ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦å‡ºåŠ›ã•ã‚Œã‚‹çµæœã®æœ€çµ‚è¡ŒãŒè¡¨ç¤ºã•ã‚Œãªã„ ã¨ã„ã†ç¾è±¡ãŒèµ·ã“ã£ã¦ã„ã¾ã—ãŸã€‚\nç’°å¢ƒ macOS 10.12.6 zsh 5.6.2 (x86_64-apple-darwin16.7.0) zsh ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦ sorin-ionescu/prezto ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ†ãƒ¼ãƒã‚’ pure ã«ã—ã¦ã„ã¾ã—ãŸã€‚\nç¾è±¡ã®è©³ç´° 1 è¡Œã ã‘ã®å‡ºåŠ›ã‚’ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€\n~ â¯â¯â¯ echo -n hello world ~ â¯â¯â¯ ã¨ã„ã†æ„Ÿã˜ã§ã€ä½•ã‚‚è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚å®Ÿéš›ã«ã¯ä¸€ç¬ã ã‘è¡¨ç¤ºã•ã‚Œã¦ã™ãã«æ¶ˆãˆã‚‹ã¨ã„ã†çŠ¶æ…‹ã§ã—ãŸã€‚\nä»–ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã—ã¦ã€ã¾ãšä¸‹è¨˜ã®ã‚ˆã†ã«é©å½“ãªãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„ã—ã¾ã™ã€‚\nline 1 line 2 line 3 ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®æœ€çµ‚è¡Œã®æœ«å°¾ã«ã¯æ”¹è¡Œã‚³ãƒ¼ãƒ‰ãŒç„¡ã„çŠ¶æ…‹ã§ã™ã€‚\nã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ cat ã§å‡ºåŠ›ã—ã¦ã¿ã‚‹ã¨ã€\n~ â¯â¯â¯ cat test.txt line 1 line 2 ~ â¯â¯â¯ ã¨ã„ã†æ„Ÿã˜ã§æœ€çµ‚è¡ŒãŒå‡ºåŠ›ã•ã‚Œã¾ã›ã‚“ã€‚\npure ã¯ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒ 2 æ®µã§è¡¨ç¤ºã•ã‚Œã‚‹ãƒ†ãƒ¼ãƒãªã®ã§ã€ãã‚ŒãŒæ‚ªã•ã—ã¦ã„ã‚‹æ„Ÿã˜ã§ã—ãŸã€‚(å¤šåˆ†)\nã‚„ã£ãŸã“ã¨ çµè«–ã¨ã—ã¦ã¯ã€ä¸‹è¨˜ã® 2 ã¤ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ .zshrc ã«è¿½è¨˜ã—ã¾ã—ãŸã€‚\nsetopt prompt_cr setopt prompt_sp ãã‚Œãã‚Œã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯ 16 Options (zsh) | THE Z SHELL ã® 16.2.8 Prompting ã«è©³ã—ãæ›¸ã„ã¦ã‚ã‚Šã¾ã™ãŒã€ç°¡å˜ã«å†…å®¹ã‚’æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nprompt_cr\nãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¡¨ç¤ºã™ã‚‹ç›´å‰ã«ã‚­ãƒ£ãƒªãƒƒã‚¸ãƒªã‚¿ãƒ¼ãƒ³ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚ prompt_sp\nprompt_cr ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦è¡¨ç¤ºã•ã‚Œãªã‹ã£ãŸè¡Œã‚’ä¿æŒã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ ä¸Šè¨˜ã® 2 ã¤ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚ªãƒ³ã«ãªã£ã¦ã„ã‚‹ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€æ˜ç¤ºçš„ã«æ›¸ã‹ãªã„ã¨æ©Ÿèƒ½ã—ã¾ã›ã‚“ã§ã—ãŸã€‚ã“ã‚Œã¯ prezto ãŒæ‚ªã„ã®ã‹ pure ãŒæ‚ªã„ã®ã‹\u0026hellip;ã€‚\nã“ã®å¯¾å¿œç­–ã«ã¤ã„ã¦ã¯ prezto ã¨ pure ã® issue ã«é–¢é€£ã™ã‚‹ã‚‚ã®ãŒã„ãã¤ã‹ã‚ã‚Šã€ãã“ã‹ã‚‰ãŸã©ã‚Šç€ãã¾ã—ãŸã€‚\nsorin-ionescu/prezto | Some prompts remove last line from command output #1557 sorin-ionescu/prezto | Ensure external prompts also set the prompt_sp option #1425 sindresorhus/pure | Add back the prompt_sp option for zsh \u0026amp;gt;= 5.4.1 #338 ã²ã¨ã¾ãšã“ã‚Œã§æ”¹è¡Œã‚’å«ã¾ãªã„æœ€çµ‚è¡Œã‚‚è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/develop-zsh-prompt-remove-last-line/",
    "title": "zsh ã§å‡ºåŠ›çµæœã®æœ€çµ‚è¡ŒãŒè¡¨ç¤ºã•ã‚Œãªã„å•é¡Œã®è§£æ±ºæ–¹æ³•"
  },
  {
    "contents": "CloudWatch ã‚¹ã‚±ãƒ¼ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å®šæœŸçš„ã« Lambda ã‚’å®Ÿè¡Œã™ã‚‹å ´åˆã€ç¨€ã«åŒæ™‚å®Ÿè¡Œã•ã‚Œã¦ã—ã¾ã†å ´åˆãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\nãã‚Œã‚’é˜²ããŸã‚ã«ã€S3 ã«ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§åˆ¶å¾¡ã—ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\nåŒæ™‚å®Ÿè¡Œæ•°ã§ã®åˆ¶å¾¡ Lambda ã«ã¯ åŒæ™‚å®Ÿè¡Œæ•° ã¨ã„ã†è¨­å®šé …ç›®ãŒã‚ã‚Šã€åŒæ™‚å®Ÿè¡Œã®äºˆç´„æ•°ã‚’åˆ¶é™ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã˜ã‚ƒã‚ã€ã“ã®å€¤ã‚’ 1 ã«ã™ã‚Œã°ãã‚Œã§è§£æ±ºã™ã‚‹ã®ã§ã¯ï¼Ÿ ã¨æ€ã£ãŸã‚“ã§ã™ãŒã€ã©ã†ã‚„ã‚‰ 1 ã«è¨­å®šã—ãŸå ´åˆã§ã‚‚ã€é–¢æ•°ã®å®Ÿè¡Œæ–¹æ³•ã‚„ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ã‚ˆã£ã¦ã¯åŒæ™‚å®Ÿè¡Œã•ã‚Œã¦ã—ã¾ã†ã‚±ãƒ¼ã‚¹ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\nå‚è€ƒ Lambdaã®åŒæ™‚å®Ÿè¡Œæ•°è¨­å®šã«ã¦å¤šé‡èµ·å‹•é˜²æ­¢ã‚’è¡Œãˆã‚‹ã‹ç¢ºã‹ã‚ã¦ã¿ã¾ã—ãŸ S3 ã«ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨­ç½®ã—ã¦åˆ¶å¾¡ã™ã‚‹ Lambda ã®åŒæ™‚å®Ÿè¡Œã‚’é˜²æ­¢ã™ã‚‹æ–¹æ³•ã¨ã—ã¦ã¯ã€æ¬¡ã®ã‚ˆã†ãªæ–¹æ³•ãŒè¦‹ã¤ã‘ã‚‰ã‚Œã¾ã™ã€‚\nDB ã«å®Ÿè¡ŒçŠ¶æ…‹ã‚’ä¿æŒã™ã‚‹ å®Ÿè¡Œä¸­ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨­ç½®ã™ã‚‹ ä»Šå›ã¯å¾Œè€…ã®æ–¹æ³•ã§åŒæ™‚å®Ÿè¡Œã‚’åˆ¶å¾¡ã—ã¦ã¿ã¾ã™ã€‚\nS3 ãƒã‚±ãƒƒãƒˆã®ä½œæˆ ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨­ç½®ã™ã‚‹ãƒã‚±ãƒƒãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚ä»Šå›ã¯ lambda-test ã¨ã„ã†ãƒã‚±ãƒƒãƒˆã¨ã—ã¾ã™ã€‚\né–¢æ•°ã®æº–å‚™ ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã¯ Python 3.6 ã¨ã—ã¾ã™ã€‚\nå¿…è¦ãªå‡¦ç†ã¨ã—ã¦ã¯ã€ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã® ä½œæˆã€å‰Šé™¤ã€å­˜åœ¨æœ‰ç„¡ã‚’ç¢ºèª ã®3 ç¨®é¡ã§ã™ã€‚æ¬¡ã®ã‚ˆã†ã«å®Ÿè£…ã—ã¾ã™ã€‚\nimport boto3 BACKET = \u0026#39;lambda-test\u0026#39; LOCK_FILE = \u0026#39;running_lock\u0026#39; def create_lock_file(): print(\u0026#39;create lock file.\u0026#39;) s3 = boto3.resource(\u0026#39;s3\u0026#39;) s3obj = s3.Object(BACKET, LOCK_FILE) s3obj.put(Body=\u0026#39;running...\u0026#39;) def delete_lock_file(): print(\u0026#39;delete lock file.\u0026#39;) s3 = boto3.resource(\u0026#39;s3\u0026#39;) s3obj = s3.Object(BACKET, LOCK_FILE) s3obj.delete() def is_running(): s3 = boto3.resource(\u0026#39;s3\u0026#39;) try: s3.ObjectSummary(bucket_name=BACKET, key=LOCK_FILE).load() except Exception as e: return False return True def lambda_handler(event, context): if is_running() is True: print(\u0026#39;Process is running.\u0026#39;) else: create_lock_file() # do something ... delete_lock_file() ä»Šå›ã€S3 ã®ãƒã‚±ãƒƒãƒˆå†…ã«å¯¾è±¡ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå­˜åœ¨ã™ã‚‹ã‹ã©ã†ã‹ã‚’ ObjectSummary() ã§ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ã¾ã™ãŒã€ä»–ã«ã‚‚ãƒã‚§ãƒƒã‚¯æ–¹æ³•ã¯ãŸãã•ã‚“ã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\ncheck if a key exists in a bucket in s3 using boto3 | Stack Overflow ã¨ã‚Šã‚ãˆãšã“ã‚Œã§åŒæ™‚å®Ÿè¡Œã¯é˜²ã’ãã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-lambda-single-process/",
    "title": "Lambda ã®åŒæ™‚èµ·å‹•ã‚’ S3 ã«ç½®ã„ãŸãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã§åˆ¶å¾¡ã™ã‚‹"
  },
  {
    "contents": "namespace ã‚’æŒã¤ XML ã‚’ JavaScript ã§ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚\nå‰å› æ¦‚è¦ XML ã®ãƒ‘ãƒ¼ã‚¹ã«ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ã« evaluate ã‚’ä½¿ç”¨ã—ã¦ãƒ‘ãƒ¼ã‚¹ã—ã¾ã™ã€‚\nvar xpathResult = document.evaluate( xpathExpression, contextNode, namespaceResolver, resultType, result ); namespace ã‚’æŒã¤ XML ã‚’ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ã«ã¯ã€ namespaceResolver éƒ¨åˆ†ã«ã€ namespace ã®æƒ…å ±ã‚’æ¸¡ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚æ¸¡ã™å€¤ã¨ã—ã¦ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® Namespace Resolver ã‚’ä½¿ã†å ´åˆã¨ã€ç‹¬è‡ªã«ä½œæˆã—ãŸ Namespace Resolver ã‚’ä½¿ã†å ´åˆãŒã‚ã‚Šã¾ã™ã€‚\nã¡ãªã¿ã«ã€ namespace ã‚’æŒãŸãªã„ XML ã®å ´åˆã¯ null ã‚’æ¸¡ã—ã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® Namespace Resolver ã‚’ä½¿ã†å ´åˆ ã‚ã‚‰ã‹ã˜ã‚ Namespace Resolver ã‚’ç”Ÿæˆã—ã¦ãŠãã¾ã™ã€‚\nvar nsResolver = document.createNSResolver( contextNode.ownerDocument == null ? contextNode.documentElement : contextNode.ownerDocument.documentElement ); ç”Ÿæˆã—ãŸ Namespace Resolver ã‚’ã€ evaluate ã«æ¸¡ã—ã¾ã™ã€‚\nvar xpathResult = document.evaluate( xpathExpression, contextNode, nsResolver, resultType, result ); ç‹¬è‡ªã«ä½œæˆã—ãŸ Namespace Resolver ã‚’ä½¿ã†å ´åˆ æ¬¡ã®ã‚ˆã†ãª XML ã‚’ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ã“ã¨ã‚’è€ƒãˆã¾ã™ã€‚\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;cities version=\u0026#34;1.0.0\u0026#34; xmlns=\u0026#34;https://michimani.net/2018/namespace\u0026#34;\u0026gt; \u0026lt;city pref=\u0026#34;1\u0026#34; city=\u0026#34;1\u0026#34;\u0026gt;æœ­å¹Œ\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;1\u0026#34; city=\u0026#34;2\u0026#34;\u0026gt;å‡½é¤¨\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;1\u0026#34; city=\u0026#34;3\u0026#34;\u0026gt;å°æ¨½\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;1\u0026#34; city=\u0026#34;4\u0026#34;\u0026gt;å®¤è˜­\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;2\u0026#34; city=\u0026#34;1\u0026#34;\u0026gt;å¼˜å‰\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;2\u0026#34; city=\u0026#34;2\u0026#34;\u0026gt;é’æ£®\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;2\u0026#34; city=\u0026#34;3\u0026#34;\u0026gt;å…«æˆ¸\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;3\u0026#34; city=\u0026#34;1\u0026#34;\u0026gt;ç››å²¡\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;3\u0026#34; city=\u0026#34;2\u0026#34;\u0026gt;é‡œçŸ³\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;3\u0026#34; city=\u0026#34;3\u0026#34;\u0026gt;å®®å¤\u0026lt;/city\u0026gt; \u0026lt;/cities\u0026gt; ã‚ã‚‰ã‹ã˜ã‚æ¬¡ã®ã‚ˆã†ãªé–¢æ•°ã‚’å®šç¾©ã—ã¦ãŠãã¾ã™ã€‚\nfunction customNsResolver() { return \u0026#39;https://michimani.net/2018/namespace\u0026#39;; } ãã—ã¦ã€ evaluate ã§ãƒ‘ãƒ¼ã‚¹ã™ã‚‹éš›ã« namespaceResolver ã¨ã—ã¦ã€å®šç¾©ã—ãŸé–¢æ•°ã‚’æ¸¡ã—ã¾ã™ã€‚\nvar xpathResult = document.evaluate( xpathExpression, contextNode, customNsResolver, resultType, result ); namespace ã‚’è¤‡æ•°ä½¿ã„ãŸã„å ´åˆ ä¸Šã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã¯ä½¿ç”¨ã™ã‚‹ namespace ã¯ 1 ã¤ã§ã—ãŸãŒã€è¤‡æ•°ä½¿ç”¨ã—ãŸã„å ´åˆã¯ä¸‹è¨˜ã®ã‚ˆã†ã«é–¢æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚\nfunction customNsResolver(prefix) { var ns = { \u0026#39;ns1\u0026#39;: \u0026#39;https://michimani.net/2018/namespace1\u0026#39;, \u0026#39;ns2\u0026#39;: \u0026#39;https://michimani.net/2018/namespace2\u0026#39; }; return ns[prefix] || null; } prefix ã®å€¤ã¯ã€æŒ‡å®šã™ã‚‹ XPath ã®æ–‡å­—åˆ—å†…ã§æŒ‡å®šã—ã¾ã™ã€‚\nä¾‹ãˆã°ã€ ns1 ã® namespace ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ä¸‹è¨˜ã®ã‚ˆã†ãª XPath ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nlet xpath = \u0026#39;//ns1:city[@pref=\u0026#39;2\u0026#39; and @city=\u0026#39;3\u0026#39;]\u0026#39;; å‚è€ƒ Introduction to using XPath in JavaScript | MDN web doc ",
    "permalink": "https://michimani.net/post/programming-javascript-parse-xml-with-namespace/",
    "title": "namespace ã‚’æŒã¤ XML ã‚’ JavaScript ã§ãƒ‘ãƒ¼ã‚¹ã™ã‚‹"
  },
  {
    "contents": "ç’°å¢ƒ macOS Python3.6.2 (pyenv) æ‰‹é † python-language-server ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« $ pip install python-language-server pyls ã®ãƒ‘ã‚¹ã‚’ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚\n$ which pyls /Users/hoge/.pyenv/shims/pyls Sublime Text ã« LSP ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« Package Control ã§ LSP ã¨å…¥åŠ›ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚\nå°‘ã—æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚\nGithub | tomv564/LSP Sublime Text ã§ LSP ã®è¨­å®š Sublime Text \u0026gt; Preferences \u0026gt; Package Settings \u0026gt; LSP \u0026gt; Settings ã¨é€²ã‚“ã§ã€ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã€‚\n{ \u0026#34;clients\u0026#34;: { \u0026#34;pyls\u0026#34;: { \u0026#34;command\u0026#34;: [ \u0026#34;/Users/hoge/.pyenv/shims/pyls\u0026#34; ], \u0026#34;enabled\u0026#34;: true } } } command ã®ãƒªã‚¹ãƒˆã«æŒ‡å®šã™ã‚‹ãƒ‘ã‚¹ã¯ã€ pyls ã®ãƒ‘ã‚¹ã§ã™ã€‚\nSublime Text ã‚’å†èµ·å‹• å†èµ·å‹•ã—ã¦å®Œäº†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/development-sublimetext-pyls/",
    "title": "Sublime Text 3 ã§ pyls ã‚’ä½¿ã£ã¦ Python ã®å…¥åŠ›è£œå®Œã‚’ã™ã‚‹"
  },
  {
    "contents": " å‰ã«ã‚‚åŒã˜å†…å®¹ã§æ›¸ã„ãŸ ã‚“ã§ã™ãŒã€ã‚¹ãƒãƒ¼ãƒˆãªæ–¹æ³•ã§ã¯ãªã‹ã£ãŸã®ã§è€ƒãˆç›´ã—ã¾ã—ãŸã€‚\nå‰å›ã¯ jQuery ã‚’ä½¿ã£ã¦ã„ã¾ã—ãŸãŒã€ä»Šå›ã¯ä½¿ã‚ãªã„æ–¹æ³•ã§å®Ÿè£…ã—ã¦ã¾ã™ã€‚\nå‰æ å‰å›ã¨åŒæ§˜ã«ã€ã‚¯ãƒªãƒƒã‚¯ã—ãŸè¦ç´ ã®ãƒªãƒ³ã‚¯å…ˆã‚’ iframe ã§æŒ¿å…¥ã—ã¦ã€æŒ¿å…¥ã—ãŸãƒšãƒ¼ã‚¸ã®é«˜ã•ã‚’å–å¾—ã™ã‚‹ã€ã¨ã„ã†ã“ã¨ã‚’ã‚„ã‚Šã¾ã™ã€‚\næ¤œè¨¼ç”¨ã®æ§‹é€ ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªæ§‹æˆã«ãªã£ã¦ã„ã¾ã™ã€‚\n. â”œâ”€â”€ hogehoge-1 â”‚Â â””â”€â”€ index.html â”œâ”€â”€ hogehoge-2 â”‚Â â””â”€â”€ index.html â”œâ”€â”€ hogehoge-3 â”‚Â â””â”€â”€ index.html â”œâ”€â”€ index.html â””â”€â”€ test.js å„ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã¯æ¬¡ã®é€šã‚Šã€‚\nindex.html \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;GET IFLAME HEIGHT\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;content-area\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;\u0026lt;a class=\u0026#34;iframe-btn\u0026#34; href=\u0026#34;./hogehoge-1/index.html\u0026#34;\u0026gt;hogehoge 1\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;\u0026lt;a class=\u0026#34;iframe-btn\u0026#34; href=\u0026#34;./hogehoge-2/index.html\u0026#34;\u0026gt;hogehoge 2\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;\u0026lt;a class=\u0026#34;iframe-btn\u0026#34; href=\u0026#34;./hogehoge-3/index.html\u0026#34;\u0026gt;hogehoge 3\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;script src=\u0026#34;./test.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; test.js const btnElems = document.querySelectorAll(\u0026#39;.iframe-btn\u0026#39;); for (let i = 0; i \u0026lt; btnElems.length; i++) { btnElems[i].addEventListener(\u0026#39;click\u0026#39;, (event) =\u0026gt; { event.preventDefault(); insertIframe(event); }); } function insertIframe(btnElem) { const iframeArea = document.getElementById(\u0026#39;content-area\u0026#39;); iframeArea.innerHTML = \u0026#39;\u0026#39;; let insert = new Promise((resolve) =\u0026gt; { let iframe = `\u0026lt;iframe frameborder=\u0026#34;no\u0026#34; src=\u0026#34;${btnElem.target.href}\u0026#34;\u0026gt;\u0026lt;/iframe\u0026gt;`; console.log(\u0026#39;insert iframe.\u0026#39;); iframeArea.innerHTML = iframe; }); insert.then(getIframeHeight()); } function getIframeHeight() { let iframe = document.querySelector(\u0026#39;#content-area iframe\u0026#39;); if (iframe != null) { iframe.contentWindow.addEventListener(\u0026#39;load\u0026#39;, (event) =\u0026gt; { console.log(document.querySelector(\u0026#39;#content-area iframe\u0026#39;).contentWindow.document.body.scrollHeight); }); } else { console.log(\u0026#39;iframe does not exists.\u0026#39;); } } hogehoge-*/index.html hogehoge-1 ã¯é«˜ã• 100px ã€hogehoge-2 ã¯é«˜ã• 200px ã€ hogehoge-3 ã¯é«˜ã• 300px ã«ãªã£ã¦ã¾ã™ã€‚\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;GET IFLAME HEIGHT\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div style=\u0026#34;height: 100px;\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;hogehoge-1 100px\u0026lt;/h1\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; å‰å›ã‹ã‚‰å¤‰ã‚ã£ãŸã¨ã“ã‚ ã¾ãšã€å†’é ­ã«ã‚‚æ›¸ãã¾ã—ãŸãŒ jQuery ã‚’ä½¿ã‚ãªã„ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚æœ€è¿‘ã¯ã§ãã‚‹ã ã‘ç”Ÿã® JavaScript ã®è¨˜è¿°ã§å®Ÿè£…ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\niframe å†…ã®ãƒšãƒ¼ã‚¸ã®é«˜ã•ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ã¯ã€å½“ãŸã‚Šå‰ã§ã™ãŒ iframe ã®æç”»ãŒçµ‚ã‚ã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nå‰å›ã¯ setTimeout ã‚’ä½¿ã£ã¦ 200 ãƒŸãƒªç§’å¾…ã¤ ã¿ãŸã„ãªã“ã¨ã‚’ã—ã¦ã¾ã—ãŸãŒã€å®Œå…¨ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nä»Šå›ã¯ã€iframe ã®æŒ¿å…¥ã¨é«˜ã•ã®å–å¾—ã®å‡¦ç†é †ã‚’ Promise ã‚’ä½¿ã£ã¦åˆ¶å¾¡ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\nã¾ãŸã€ iframe å†…ã®ãƒšãƒ¼ã‚¸ã®é«˜ã•å–å¾—è‡ªä½“ã¯ã€ãã®ãƒšãƒ¼ã‚¸ãŒ load ã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å–å¾—ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\nçµæœ ä¸Šè¨˜ã®æ§‹æˆã§ã€ãƒ«ãƒ¼ãƒˆã® index.html ã«ã¦ã€ hogehoge-1 â†’ hogehoge-2 â†’ hogehoge-3 ã®é †ã«ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\ninsert iframe. test.js:15 100 test.js:26 insert iframe. test.js:15 200 test.js:26 insert iframe. test.js:15 300 test.js:26 å‹•çš„ã«åŸ‹ã‚è¾¼ã‚“ã  iframe ã®é«˜ã•ã‚’å–å¾—ã§ãã¦ã„ã¾ã™ã€‚\nå‰å›ã‚ˆã‚Šã¯ã‚¹ãƒãƒ¼ãƒˆã«ãªã£ãŸã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/javascript-get-iframe-height-2nd/",
    "title": "ã€ç¶šã€‘å‹•çš„ã«åŸ‹ã‚è¾¼ã‚“ã iframeã®é«˜ã•ã‚’å–å¾—ã™ã‚‹"
  },
  {
    "contents": "ã“ã®ãƒ–ãƒ­ã‚°ã‚’ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¦ç´„ 1 ãƒ¶æœˆãŒçµŒã¡ã¾ã—ãŸã€‚é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã€DNS ãªã©ã€é‹ç”¨ã«é–¢ã‚ã‚‹éƒ¨åˆ†ã« AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’è‰²ã€…ã¨ä½¿ã£ã¦ã„ã‚‹ã®ã§ã€ 1 ãƒ¶æœˆé–“ã§ã‹ã‹ã£ãŸè²»ç”¨ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã£ã¦ã¿ã¾ã™ã€‚\nä½¿ã£ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ ã¾ãšã¯ã€ä½¿ã£ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã¨ãã®ç”¨é€”ã«ã¤ã„ã¦ã®ãŠã•ã‚‰ã„ã§ã™ã€‚\nS3\nãƒ–ãƒ­ã‚°è‡ªä½“ã¯é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã® Hugo ã‚’ä½¿ç”¨ã—ã¦ä½œæˆã—ã¦ã„ã‚‹ã®ã§ã€ Hugo ã§ä½œã£ãŸé™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ S3 ã«ç½®ã„ã¦ã„ã¾ã™ã€‚\nCloudFront\nS3 ã®ãƒã‚±ãƒƒãƒˆã«å¯¾ã—ã¦ distribution ã‚’è¨­å®šã—ã¦ã€ Web ä¸Šã§é–²è¦§å‡ºæ¥ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nS3 ã ã‘ã§ã‚‚ Web ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã¯å¯èƒ½ã§ã™ãŒã€SSL åŒ–ã™ã‚‹ãŸã‚ã« CloudFront ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚\nRoute 53\nç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã§é‹ç”¨ã™ã‚‹ãŸã‚ã«ã€ DNS ã¨ã—ã¦ Route 53 ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚\nLambda\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã® / ã§çµ‚ã‚ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ CloudFront -\u0026gt; S3 é–“ã§ /index.html ã«å¤‰æ›´ã™ã‚‹ãŸã‚ã«åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚(Lambda@Edge)\nå‚è€ƒï¼š ã§ããŸï¼S3 ã‚ªãƒªã‚¸ãƒ³ã¸ã®ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ã¨ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã‚’å…±å­˜ã•ã›ã‚‹æ–¹æ³• ï½œ DevelopersIO ã¾ãŸã€S3 ã¸ã®è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã®çµæœã‚’ Slack ã«é€šçŸ¥ã™ã‚‹ãŸã‚ã«ã‚‚åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚\nCodeCommit\nã‚³ãƒ¼ãƒ‰ (è¨˜äº‹) ã‚’ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã™ã‚‹ãŸã‚ã«ã€ Git ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°å…ˆã¨ã—ã¦åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚\nã‚³ãƒŸãƒƒãƒˆã™ã‚‹ã®ã¯è‡ªåˆ†ã ã‘ã§ã™ã€‚\nCodeBuild\nCodeCommit ã¸ push ã•ã‚ŒãŸå†…å®¹ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã€ S3 ã«é…ç½®ã™ã‚‹ãŸã‚ã«åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚\nCodePipeline\nCodeCommit ã¸ã® push ã‹ã‚‰ CodeBuild ã§ã®ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ã€ Lambda ã§ã®é€šçŸ¥ ã¾ã§ã®ãƒ•ãƒ­ãƒ¼ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã«åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚\nã‹ã‹ã£ãŸè²»ç”¨ ã§ã¯ã€å®Ÿéš›ã« 1 ãƒ¶æœˆ (å³å¯†ã«ã¯ 25 æ—¥é–“) ã§ã©ã‚Œãã‚‰ã„ã®è²»ç”¨ãŒã‹ã‹ã£ãŸã‹ã¨ã„ã†ã¨ã€$1.1ã€æ—¥æœ¬å††ã«ã—ã¦ã€ç´„ 124 å†† ($1 = 113 å††) ã§ã™ã€‚ç¨è¾¼ã¿ã«ã—ã¦ã‚‚ 134 å††ãã‚‰ã„ã§ã™ã­ã€‚(ã¾ã è«‹æ±‚ã¯ç¢ºå®šã—ã¦ã„ã¾ã›ã‚“ãŒ)\nã¾ã‚ã€ãã‚‚ãã‚‚ã‚¢ã‚¯ã‚»ã‚¹ãŒæ®†ã©ãªã‹ã£ãŸ (25 æ—¥é–“ã§ãŸã£ãŸã® 400 PV!) ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ãŒã€ç¼¶ã‚¸ãƒ¥ãƒ¼ã‚¹ 1 æœ¬ãã‚‰ã„ã®è²»ç”¨ã§æ¸ˆã¿ãã†ã§ã™ã€‚\nå‚è€ƒã«ãªã‚‰ãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä¸€å¿œå„ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«ç™ºç”Ÿã—ã¦ã„ã‚‹è²»ç”¨ã‚’è¦‹ã¦ã¿ã¾ã™ã€‚\nS3 ($0.06) Amazon Simple Storage Service APN1-Requests-Tier1 ($0.05) PUT, COPY, LIST ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã«å¯¾ã™ã‚‹æ–™é‡‘ã§ã™ã€‚\næ–™é‡‘ä½“å‹ã¯ã€1,000 ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ãŸã‚Š 0.0047 USD ã€‚\nAmazon Simple Storage Service APN1-Requests-Tier2 ($0.00) GET ãŠã‚ˆã³ãã®ä»–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã«å¯¾ã™ã‚‹æ–™é‡‘ã§ã™ã€‚\næ–™é‡‘ä½“å‹ã¯ã€ 10,000 ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ãŸã‚Š 0.0037 USD ã€‚\nAmazon Simple Storage Service APN1-TimedStorage-ByteHrs ($0.01) ã“ã‚Œã¯åˆ©ç”¨ã—ã¦ã„ã‚‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å®¹é‡ã«å¯¾ã™ã‚‹æ–™é‡‘ã§ã™ã€‚\næ–™é‡‘ä½“ç³»ã¯ã€æœ€åˆã® 50 TB ã¾ã§ã¯ã€ 1 GB ã‚ãŸã‚Š $0.025 ã€‚\nCloudFront ($0.04) CloudFront ã¯å„ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã«æ–™é‡‘æ˜ç´°ãŒè¦‹ã‚Œã¾ã™ãŒã€ä»Šå›ã¯ JAPAN ã¨ US ã«ã¤ã„ã¦ã«è¦‹ã¦ã¿ã¾ã™ã€‚(ä»–ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã‚ã‚Šã¾ã—ãŸãŒã€ã™ã¹ã¦ $0.00 ã§ã—ãŸã€‚)\nJAPAN - Amazon CloudFront JP-Requests-Tier1 ($0.00) HTTP ã§ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã™ã‚‹æ–™é‡‘ã§ã™ã€‚\næ–™é‡‘ä½“ç³»ã¯ã€ 10,000 ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ãŸã‚Š 0.0090 USD ã€‚\nJAPAN - Amazon CloudFront JP-Requests-Tier2-HTTPS ($0.01) HTTPS ã§ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã™ã‚‹æ–™é‡‘ã§ã™ã€‚\næ–™é‡‘ä½“ç³»ã¯ã€ 10,000 ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ãŸã‚Š 0.012 USD ã€‚\nJAPAN - Bandwidth ($0.02) ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¸ã®ãƒ‡ãƒ¼ã‚¿è»¢é€ (ã‚¢ã‚¦ãƒˆ) ã«å¯¾ã™ã‚‹æ–™é‡‘ã§ã™ã€‚\næ–™é‡‘ä½“ç³»ã¯ã€10 TB ã¾ã§ã¯ 1 GB ã‚ãŸã‚Š 0.114 USD ã€‚\nUS - Amazon CloudFront JP-Requests-Tier1 ($0.00) HTTP ã§ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã™ã‚‹æ–™é‡‘ã§ã™ã€‚\næ–™é‡‘ä½“ç³»ã¯ã€ 10,000 ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ãŸã‚Š 0.0075 USD ã€‚\nUS - Amazon CloudFront JP-Requests-Tier2-HTTPS ($0.00) HTTPS ã§ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã™ã‚‹æ–™é‡‘ã§ã™ã€‚\næ–™é‡‘ä½“ç³»ã¯ã€ 10,000 ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ãŸã‚Š 0.01 USD ã€‚\nUS - Bandwidth ($0.01) ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¸ã®ãƒ‡ãƒ¼ã‚¿è»¢é€ (ã‚¢ã‚¦ãƒˆ) ã«å¯¾ã™ã‚‹æ–™é‡‘ã§ã™ã€‚\næ–™é‡‘ä½“ç³»ã¯ã€10 TB ã¾ã§ã¯ 1 GB ã‚ãŸã‚Š 0.085 USD ã€‚\nRoute 53 ($0.50) Amazon Route 53 DNS-Queries ($0.00) ç™ºè¡Œã•ã‚ŒãŸ DNS ã‚¯ã‚¨ãƒªæ•°ã«å¯¾ã™ã‚‹æ–™é‡‘ã§ã™ã€‚\næœ€åˆã® 10 å„„ã‚¯ã‚¨ãƒªã¾ã§ã¯ã€ 1,000,000 ã‚¯ã‚¨ãƒªã‚ãŸã‚Š 0.40 USD ã€‚\nAmazon Route 53 HostedZone ($0.50) ç™»éŒ²ã—ã¦ã„ã‚‹ Hosted Zone ã®æ•°ã«å¯¾ã™ã‚‹æ–™é‡‘ã§ã™ã€‚\næœ€åˆã® 25 ã‚¾ãƒ¼ãƒ³ã¾ã§ã¯ã€ ã‚¾ãƒ¼ãƒ³ 1 ã¤ã‚ãŸã‚Š 0.05 USD ã€‚\nLambda ($0.00) Lambda ã¯ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆ ã¨ æ¼”ç¿’æ™‚é–“ ãã‚Œãã‚Œã«æ–™é‡‘ãŒç™ºç”Ÿã—ã¾ã™ã€‚ã¾ãŸã€é€šå¸¸ã®å®Ÿè¡Œã¨ Lambda@Edge ã§ã®å®Ÿè¡Œã§æ–™é‡‘ä½“ç³»ãŒç•°ãªã‚Šã¾ã™ã€‚\né€šå¸¸ã®å®Ÿè¡Œ ãƒªã‚¯ã‚¨ã‚¹ãƒˆ æœ€åˆã® 1,000,000 ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ç„¡æ–™ã§ã€ä»¥é™ã¯ 1,000,000 ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ãŸã‚Š 0.20 USD ã€‚\næ¼”ç¿’æ™‚é–“ 400,000 GB-ç§’ ã¯ç„¡æ–™ã§ã€ä»¥é™ã¯ 1 GB-ç§’ã‚ãŸã‚Š 0.00001667 USD ã€‚\nLambda@Edge ãƒªã‚¯ã‚¨ã‚¹ãƒˆ 1,000,000 ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ãŸã‚Š 0.60 USD ã€‚\næ¼”ç¿’æ™‚é–“ 128MB-ç§’ ã”ã¨ã« 0.00000625125 USD\nLambda ã«é–¢ã—ã¦ã¯æ–™é‡‘ä½“ç³»ãŒã¡ã‚‡ã£ã¨åˆ†ã‹ã‚Šã¥ã‚‰ã„ã®ã§ã€å…¬å¼ã®æ–™é‡‘ãƒšãƒ¼ã‚¸ã«ã‚ã‚‹ä¾‹ã§ç¢ºèªã—ã¦ãã ã•ã„ã€‚\nAWS Lambda æ–™é‡‘ CodeCommit ($0.00) CodeCommit ã«é–¢ã—ã¦ã¯ã€ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãŒè‡ªåˆ†ã ã‘ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šã€ä»Šå¾Œã‚‚æ–™é‡‘ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ã¯ãªã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚\nCodeBuild ($0.00) ãƒ“ãƒ«ãƒ‰ã«ä½¿ç”¨ã™ã‚‹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒ build.general1.small ã§ã‚ã‚Œã°ã€æœ€åˆã® 100 åˆ†ã¾ã§ã¯ç„¡æ–™ã§ã€ä»¥é™ 1 åˆ†ã‚ãŸã‚Š 0.005 USD ã§ã™ã€‚\nHugo ã®ãƒ“ãƒ«ãƒ‰ã¯éå¸¸ã«æ—©ã„ãŸã‚ã€ãƒšãƒ¼ã‚¸æ•° 200 ãã‚‰ã„ã§ãƒ“ãƒ«ãƒ‰ãƒ»S3 ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã«ã‹ã‹ã‚‹æ™‚é–“ã¯ 30 ã€œ 40 ç§’ãã‚‰ã„ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nCodePipeline ($0.00) ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ 1 ã¤ã‚ãŸã‚Š 1 USD ã§ã™ãŒã€30 æ—¥ä»¥å†…ã«ä½œæˆã—ãŸãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«ã¤ã„ã¦ã¯æ–™é‡‘ãŒç™ºç”Ÿã—ã¾ã›ã‚“ã€‚ã¾ãŸã€æ¯æœˆ 1 ã¤ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«ã¤ã„ã¦ã¯ç„¡æ–™ã§åˆ©ç”¨ã§ãã¾ã™ã€‚\nã¾ã¨ã‚ AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’è‰²ã€…ä½¿ã£ã¦ãƒ–ãƒ­ã‚°ã‚’é‹ç”¨ã—ãŸ 1 ãƒ¶æœˆé–“ã§ã‹ã‹ã£ãŸè²»ç”¨ã«ã¤ã„ã¦ã€å„ã‚µãƒ¼ãƒ“ã‚¹ã®æ–™é‡‘ç™ºç”ŸçŠ¶æ³ã‚’è¦‹ã¦ã¿ã¾ã—ãŸã€‚\nã‚¢ã‚¯ã‚»ã‚¹æ•°ãŒæ¥µç«¯ã«å°‘ãªã„ã®ã§ã€S3 ã‚„ CloudFront ã§ã¯ã»ã¨ã‚“ã©æ–™é‡‘ãŒç™ºç”Ÿã—ã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚\nã¾ãŸã€é‹ç”¨é¢ã«ãŠã‘ã‚‹ Code å…„å¼Ÿã«ã¤ã„ã¦ã¯ã€ä»Šå¾Œã‚‚æ–™é‡‘ãŒç™ºç”Ÿã™ã‚‹ã“ã¨ã¯ãªã•ãã†ã§ã™ã€‚ä»®ã«ãŸãã•ã‚“è¨˜äº‹ã‚’æ›¸ã„ã¦ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒä¼¸ã³ãŸã¨ã—ã¦ã‚‚ã€å¾®ã€…ãŸã‚‹è²»ç”¨ã§ã—ã‚‡ã†ã€‚\nä»Šå›è¦‹ã¦ããŸä¸­ã§å›ºå®šã®è²»ç”¨ã¨ã„ã†ã®ã¯ Route 53 ã® è²»ç”¨ã ã‘ã§ã™ã€‚ã‚ã¨ã®è²»ç”¨ã«ã¤ã„ã¦ã¯å¤‰å‹•ã—ã¾ã™ãŒã€ã¾ã‚ã€ã“ã®ã‚¢ã‚¯ã‚»ã‚¹é›¨ãŒç¶šãé™ã‚Šã¯æ¯æœˆç¼¶ã‚³ãƒ¼ãƒ’ãƒ¼ãã‚‰ã„ã®è²»ç”¨ã§æ¸ˆã¿ãã†ã§ã™ã€‚\nå¬‰ã—ã„ã®æ‚²ã—ã„ã®ã‹å¾®å¦™ãªã¨ã“ã‚ã§ã™ãŒã€‚\nãŸã ã€ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã€ SSL ã¨ã„ã† 2 ç‚¹ã‚’è€ƒæ…®ã—ã¦ä»–ã®ãƒ–ãƒ­ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¨æ¯”è¼ƒã™ã‚‹å ´åˆã€ã‚¢ã‚¯ã‚»ã‚¹æ•°ã«ã‚ˆã£ã¦ã¯ã“ã£ã¡ã®ã»ã†ãŒãŠå®‰ãæ¸ˆã‚€ã®ã§ã¯ã¨æ€ã„ã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/aws-monthly-invoice-cloudfront-s3/",
    "title": "CloudFront + S3 ã§ãƒ–ãƒ­ã‚°ã‚’é‹ç”¨ã—å§‹ã‚ã¦ 1 ãƒ¶æœˆçµŒã¤ã®ã§ã€ã‹ã‹ã£ãŸè²»ç”¨ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã£ã¦ã¿ãŸ"
  },
  {
    "contents": "ã“ã‚Œã¾ã§ iOS ã® Lightroom CC ã¯ã€iPhone ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚«ãƒ¡ãƒ©ã§æ’®ã£ãŸå†™çœŸã‚’ç¾åƒ (ã¨ã„ã£ã¦ã‚‚ãƒ—ãƒªã‚»ãƒƒãƒˆã‚’å½“ã¦ã‚‹ã ã‘ã§ã™ãŒ) ã™ã‚‹ãŸã‚ã«ä½¿ã£ã¦ã„ã¾ã—ãŸã€‚ãŒã€ã©ã†ã‚„ã‚‰é«˜åº¦ãªã‚«ãƒ¡ãƒ©æ©Ÿèƒ½ã‚‚ã‚ã‚‹ã‚‰ã—ã„ã¨ã„ã†ã®ã‚’æœ€è¿‘çŸ¥ã£ãŸã®ã§ã€å®Ÿéš›ã«ä½¿ã£ã¦ã¿ã¾ã—ãŸã€‚\nä»Šå›ä½¿ç”¨ã—ãŸç«¯æœ«ã¯ã€ iPhone X ã§ã™ã€‚\nLightroom CC ã‚«ãƒ¡ãƒ©ã®èµ·å‹•æ–¹æ³• Lightroom CC ã®ã‚«ãƒ¡ãƒ©ã‚’èµ·å‹•ã™ã‚‹æ–¹æ³•ã¯ã€æ¬¡ã® 3 ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™ã€‚\nLightroom CC ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’æŠ¼ã—è¾¼ã‚€ (3D touch) Lightroom CC ã® Widget ã‚’è¿½åŠ ã™ã‚‹ Lightroom CC ã®ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã€å†™çœŸå–ã‚Šè¾¼ã¿ã®æ¨ªã«ã‚ã‚‹ã‚«ãƒ¡ãƒ©ãƒãƒ¼ã‚¯ã‚’æŠ¼ã™ 3 ç•ªç›®ã«é™ã£ã¦ã¯ã€ãªãœä»Šã¾ã§æ°—ãŒä»˜ã‹ãªã‹ã£ãŸã®ã‹è¬ã§ã™ã€‚\n3D touch ã¾ãŸã¯ Widget ã§ã¯ ã‚«ãƒ¡ãƒ©, è‡ªåˆ†æ’®ã‚Š, ç›´è¿‘ã®å†™çœŸ ã‚’é¸æŠã§ãã‚‹ã®ã§ã€ ã‚«ãƒ¡ãƒ© ã‚’é¸ã¶ã¨ Lightroom ã®ã‚«ãƒ¡ãƒ©ãŒèµ·å‹•ã—ã¾ã™ã€‚\nãƒ¬ãƒ³ã‚ºè£œæ­£æ©Ÿèƒ½ãŒã™ã”ã„ ã‚«ãƒ¡ãƒ©ã‚’èµ·å‹•ã™ã‚‹ã¨ã€ã“ã‚“ãªæ„Ÿã˜ã§ä½•ã‚„ã‚‰è‰²ã€…ã¨ç´°ã‹ãè¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nä»Šå›ã€ç‰¹ã«ã™ã”ã„ã¨æ„Ÿã˜ãŸã®ãŒã€ ãƒ¬ãƒ³ã‚ºè£œæ­£ ã®æ©Ÿèƒ½ã§ã™ã€‚\nä¸Šã®ç”»åƒã§ã¯ã€ã‚·ãƒ£ãƒƒã‚¿ãƒ¼ãƒœã‚¿ãƒ³ã®ä¸Šã«ã‚ã‚‹ ãƒ¬ãƒ³ã‚ºã®ãƒãƒ¼ã‚¯ ã‚’æŠ¼ã™ã“ã¨ã§ã€æœ›é  ã¨ åºƒè§’è£œæ­£ ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nå…·ä½“çš„ã«ã©ã†å¤‰ã‚ã‚‹ã®ã‹ã¯å®Ÿéš›ã«æ’®ã£ãŸå†™çœŸã§è¦‹ã‚‹ã¨æ˜ã‚‰ã‹ã§ã™ã€‚\nã©ã¡ã‚‰ã‚‚åŒã˜å ´æ‰€ã‹ã‚‰æ’®ã£ãŸå†™çœŸã§ã€ã‚ºãƒ¼ãƒ ã¯ä½¿ç”¨ã—ã¦ã„ã¾ã›ã‚“ã€‚\nåºƒè§’è£œæ­£ã§æ’®ã£ãŸå†™çœŸ æœ›é ã§æ’®ã£ãŸå†™çœŸ ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚\nç‰¹ã«æœ›é ã§ã¯ã€iPhone ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚«ãƒ¡ãƒ©ã§ã“ã“ã¾ã§å¯„ã‚ã†ã¨æ€ã£ã¦ã‚ºãƒ¼ãƒ ã™ã‚‹ã¨ã‚‚ã£ã¨ãƒã‚¤ã‚ºãŒå‡ºãŸã‚Šç”»è³ªãŒæ‚ªããªã£ã¦ã—ã¾ã„ã¾ã™ãŒã€å…¨ããã‚“ãªã“ã¨ã«ãªã‚Šã¾ã›ã‚“ã€‚\nåºƒè§’è£œæ­£ã‚‚ã„ã„æ„Ÿã˜ã«åŠ¹ã„ã¦ã‚‹æ°—ãŒã—ã¾ã™ã€‚\nã‚«ãƒ¡ãƒ©ã®èµ·å‹•ã‚¹ãƒ”ãƒ¼ãƒ‰ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ã‚«ãƒ¡ãƒ©ã«æ¯”ã¹ã‚‹ã¨è‹¥å¹²é…ã„æ°—ã¯ã—ã¾ã™ãŒã€ãã“ã¾ã§æ°—ã«ãªã‚Šã¾ã›ã‚“ã€‚\nã‚€ã—ã‚ã€æ’®ã£ãŸã‚ã¨ã«èª­ã¿è¾¼ã‚€å¿…è¦ãŒãªãã€ãã®ã¾ã¾ç¾åƒã«é€²ã‚ã‚‹ã“ã¨ã‚’è€ƒãˆã‚‹ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚«ãƒ¡ãƒ©ã§æ’®ã‚‹ã‚ˆã‚Šã‚‚æ™‚çŸ­ã§ãã¾ã™ã€‚\nAUTO ã«ãªã£ã¦ã„ã‚‹éƒ¨åˆ†ã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨ ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ« ã¨ HDR ã‚’é¸æŠã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ« ã§ã¯ã€éœ²å…‰é‡ã€ãƒ›ãƒ¯ã‚¤ãƒˆãƒãƒ©ãƒ³ã‚¹ã€ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ ã‚’è‡ªç”±ã«è¨­å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€å°‘ã—ã“ã ã‚ã£ãŸæ’®ã‚Šæ–¹ã‚‚ã§ããã†ã§ã™ã€‚\nã¨ã‚Šã‚ãˆãšä»Šå›ã¯ãƒ¬ãƒ³ã‚ºè£œæ­£æ©Ÿèƒ½ã ã‘ã§ã‚‚çµæ§‹ã™ã”ã„ã¨æ„Ÿã˜ãŸã®ã§ã€ä»–ã®æ©Ÿèƒ½ã¯ãŠã„ãŠã„è©¦ã—ã¦ã„ãã“ã¨ã«ã—ã¾ã™ã€‚\nä»–ã«æ’®ã£ãŸå†™çœŸ åºƒè§’ æœ›é  ",
    "permalink": "https://michimani.net/post/gadget-lightroom-camera/",
    "title": "ã€iOSã€‘Lightroom CC ã«ã‚«ãƒ¡ãƒ©æ©Ÿèƒ½ãŒã‚ã‚‹ã®ã‚’ä»Šæ›´çŸ¥ã£ãŸã®ã§ä½¿ã£ã¦ã¿ãŸ"
  },
  {
    "contents": "æœ¬æ—¥é–‹å‚¬ã•ã‚Œã¦ã„ãŸ Adobe MAX Japan ã«ã¦ã€ Adobe ã®ã‚ªãƒªã‚¸ãƒŠãƒ«ãƒ•ã‚©ãƒ³ãƒˆ è²‚æ˜æœ (ã¦ã‚“ã¿ã‚“ã¡ã‚‡ã†) ã®æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒç™ºè¡¨ã•ã‚Œã¾ã—ãŸã€‚å¹²æ”¯ãªã©ã®çµµæ–‡å­—ãŒã‚«ãƒ©ãƒ¼åŒ–ã•ã‚ŒãŸã¨ã„ã†ã“ã¨ãªã®ã§ã€ã•ã£ããè©¦ã—ã¦ã¿ã¾ã—ãŸã€‚\nå‰æº–å‚™ ã¾ãšã¯ Creative Cloud ã®ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã‹ã‚‰ã€è²‚æ˜æœã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«ã—ã¾ã™ã€‚\nä»¥å‰ã‹ã‚‰ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«ã—ã¦ã„ãŸäººã¯ã€ä¸€æ—¦ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆã‚’ã‚ªãƒ•ã«ã—ã¦ã€å†åº¦ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆã™ã‚‹ã“ã¨ã§æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã¨ã®ã“ã¨ã§ã™ã€‚\nã¡ãªã¿ã« Adobe ã®ãƒ•ã‚©ãƒ³ãƒˆã‚µãƒ¼ãƒ“ã‚¹ Adobe Fonts ã¯ã€å…ˆæœˆã® Adobe MAX ã§ç™ºè¡¨ã•ã‚ŒãŸã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚ã¨ã„ã£ã¦ã‚‚åç§°ãŒ Typekit ã‹ã‚‰å¤‰ã‚ã£ãŸã ã‘ã§ã™ãŒã€æ–™é‡‘ãŒ Creative Cloud ã«çµåˆã•ã‚ŒãŸã‚Šã€ã™ã¹ã¦ã®ãƒ•ã‚©ãƒ³ãƒˆãŒ Web ãƒ•ã‚©ãƒ³ãƒˆã¨ã—ã¦ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸã‚Šã€Web ãƒ•ã‚©ãƒ³ãƒˆã¨ã—ã¦é…ä¿¡ã§ãã‚‹ PV æ•°ã«åˆ¶é™ãŒãªããªã£ãŸã‚Šã¨ã€ã‚µãƒ¼ãƒ“ã‚¹åç§°å¤‰æ›´ã ã‘ã§ãªãå¤§å¹…ãªã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒã•ã‚Œã¾ã—ãŸã€‚\nã‚‚ã¡ã‚ã‚“ Creative Cloud ã®ä¸€ç•ªå®‰ã„ãƒ—ãƒ©ãƒ³ã§ã‚ã‚‹ ãƒ•ã‚©ãƒˆãƒ—ãƒ©ãƒ³ ã§ã‚‚ã™ã¹ã¦ã®ãƒ•ã‚©ãƒ³ãƒˆãŒä½¿ç”¨ã§ãã¾ã™ã€‚æœ€é«˜ã§ã™ã­ï¼ Adobe ã¯ç¥ã«ã§ã‚‚ãªã‚‹ã®ã§ã—ã‚‡ã†ã‹\u0026hellip;\nCotEditor ã§ã‚«ãƒ©ãƒ¼çµµæ–‡å­—ã‚’å‡ºã—ã¦ã¿ãŸ ã¨ã„ã†ã“ã¨ã§ã€ã•ã£ããæ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§å¯¾å¿œã•ã‚ŒãŸã‚«ãƒ©ãƒ¼çµµæ–‡å­—ã‚’å‡ºã—ã¦ã¿ã¾ã—ãŸã€‚\næ–°ã—ããªã£ãŸè²‚æ˜æœã§æ—©é€Ÿã‚«ãƒ©ãƒ¼çµµæ–‡å­—ã‚’å‡ºã—ã¦ã¿ãŸã€‚#è²‚æ˜æœ #AdobeMAXJapan #AdobeFonts pic.twitter.com/eqGCNz1XoF\n\u0026mdash; michimani (@_michimani_) November 20, 2018 å¹²æ”¯ä»¥å¤–ã«ã‚‚ä¸‹è¨˜ã®ã‚ˆã†ãªã‚ªãƒªã‚¸ãƒŠãƒ«çµµæ–‡å­—ã‚‚ã‚ã‚Šã¾ã™ã€‚\nã‚‚ã¡ã‚ã‚“ã€ Web ãƒ•ã‚©ãƒ³ãƒˆã«ã‚‚å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚è²‚æ˜æœã‚’ Web ãƒ•ã‚©ãƒ³ãƒˆã¨ã—ã¦ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€ Adobe Fonts ã® Web ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è²‚æ˜æœã‚’è¿½åŠ ã—ã¦ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã—ã¾ã™ã€‚\n.ten-mincho { font-family: ten-mincho, serif; font-weight: 400; font-style: normal; } ã¾ãŸã€ä»Šå›ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 2 ã‹ã‚‰ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã‚«ãƒ©ãƒ¼çµµæ–‡å­—ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€è¿½åŠ ã§ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã—ã¦ã€ OpenType ã®æ‹¡å¼µæ©Ÿèƒ½ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚\n-moz-font-feature-settings: \u0026#34;ss02\u0026#34;; -webkit-font-feature-settings: \u0026#34;ss02\u0026#34;; font-feature-settings: \u0026#34;ss02\u0026#34;; \u0026hellip; ã¨å…¬å¼ã‚µã‚¤ãƒˆã«ã¯æ›¸ã„ã¦ã‚ã£ãŸã®ã§ã™ãŒã€ç’°å¢ƒ (ãƒ–ãƒ©ã‚¦ã‚¶ ) ã«ã‚ˆã£ã¦ã¯ã†ã¾ãé©ç”¨ã•ã‚Œãªã„ã‚ˆã†ã§ã™ã€‚ã€‚ã€‚\nä¸€å¿œãƒ¢ãƒã‚¯ãƒ­çµµæ–‡å­—ã¨ã—ã¦ã¯å‡ºã¦ã„ã‚‹ã‚ˆã†ãªã®ã§ã€ã‚¹ã‚¿ã‚¤ãƒ«ã®æŒ‡å®šæ–¹æ³•ãŒé–“é•ã£ã¦ã„ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã‚‚ã—è©³ã—ã„æ–¹ãŒã„ãŸã‚‰ã‚³ãƒ¡ãƒ³ãƒˆãã ã•ã„(_ _)\nã¨ã„ã†ã“ã¨ã§ã€é€Ÿå ±çš„ã« Adobe ã®ã‚ªãƒªã‚¸ãƒŠãƒ«ãƒ•ã‚©ãƒ³ãƒˆ è²‚æ˜æœ ã®æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è©¦ã—ã¦ã¿ãŸã¨ã„ã†è©±ã§ã—ãŸã€‚\nå‚è€ƒ è²‚æ˜æœï¼šãƒãƒ¼ã‚¸ãƒ§ãƒ³ 1.000 ã‹ã‚‰ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«é–¢ã™ã‚‹è¦ç‚¹ ã‚¢ãƒ‰ãƒ“ã€å¯æ„›ãå¦–ã—ã„ç„¡æ–™ãƒ•ã‚©ãƒ³ãƒˆã€Œè²‚æ˜æœã€ã®v2ã‚’å…¬é–‹ ï½å¹²æ”¯ã®ã‚«ãƒ©ãƒ¼çµµæ–‡å­—ã‚’è¿½åŠ  ",
    "permalink": "https://michimani.net/post/other-new-ten-mincho/",
    "title": "Adobe ã®ã‚ªãƒªã‚¸ãƒŠãƒ«ãƒ•ã‚©ãƒ³ãƒˆã€Œè²‚æ˜æœã€ã® NEW ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚«ãƒ©ãƒ¼çµµæ–‡å­—ã‚’å‡ºã—ã¦ã¿ãŸ"
  },
  {
    "contents": "XML ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§æ“ä½œã—ãŸã„å ´é¢ãŒã‚ã£ãŸã®ã§ã€ JavaScript ã§ XML ã‚’æ‰±ã†æ–¹æ³•ã«ã¤ã„ã¦èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚\nJavaScript ã§ XPath ã‚’ä½¿ç”¨ã™ã‚‹ - JavaScript åŸºæœ¬çš„ã«ã¯ä¸Šã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã®é€šã‚Šã§ã™ã€‚\nã‚„ã‚ŠãŸã„ã“ã¨ ä»Šå›ã®å¯¾è±¡ã¨ã™ã‚‹ã®ã¯æ¬¡ã®ã‚ˆã†ãª XML ã§ã™ã€‚\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;cities version=\u0026#34;1.0.0\u0026#34;\u0026gt; \u0026lt;city pref=\u0026#34;1\u0026#34; city=\u0026#34;1\u0026#34;\u0026gt;æœ­å¹Œ\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;1\u0026#34; city=\u0026#34;2\u0026#34;\u0026gt;å‡½é¤¨\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;1\u0026#34; city=\u0026#34;3\u0026#34;\u0026gt;å°æ¨½\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;1\u0026#34; city=\u0026#34;4\u0026#34;\u0026gt;å®¤è˜­\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;2\u0026#34; city=\u0026#34;1\u0026#34;\u0026gt;å¼˜å‰\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;2\u0026#34; city=\u0026#34;2\u0026#34;\u0026gt;é’æ£®\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;2\u0026#34; city=\u0026#34;3\u0026#34;\u0026gt;å…«æˆ¸\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;3\u0026#34; city=\u0026#34;1\u0026#34;\u0026gt;ç››å²¡\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;3\u0026#34; city=\u0026#34;2\u0026#34;\u0026gt;é‡œçŸ³\u0026lt;/city\u0026gt; \u0026lt;city pref=\u0026#34;3\u0026#34; city=\u0026#34;3\u0026#34;\u0026gt;å®®å¤\u0026lt;/city\u0026gt; \u0026lt;/cities\u0026gt; ã“ã® XML ã‹ã‚‰ã€ pref ã¨ city ã®å€¤ã‚’ã‚‚ã¨ã«ã€éƒ½å¸‚ã®åå‰ã‚’å–ã‚‹ ã¨ã„ã†ã“ã¨ã‚’ã‚„ã‚ŠãŸã„ã§ã™ã€‚\nå®Ÿè£… ä¸Šã® XML ãŒ cities.xml ã¨ã—ã¦ã€ã‚„ã‚ŠãŸã„ã“ã¨ã‚’ JavaScript ã§å®Ÿç¾ã™ã‚‹ãŸã‚ã®ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚\nconst xhr = new XMLHttpRequest(); xhr.addEventListener(\u0026#39;load\u0026#39;, () =\u0026gt; { var citiesXml = xhr.responseXML; }); xhr.addEventListener(\u0026#39;error\u0026#39;, () =\u0026gt; { console.error(\u0026#39;Failed to load xml.\u0026#39;); }); xhr.open(\u0026#39;GET\u0026#39;, \u0026#39;/path/to/cities.xml\u0026#39;); xhr.send(); function getCityName(prefId, cityId) { return citiesXml.evaluate(`//city[@pref=\u0026#39;${prefId}\u0026#39; and @city=\u0026#39;${cityId}\u0026#39;]`, citiesXml, null, XPathResult.STRING_TYPE, null).stringValue; } console.log(getCityName(1,4)); // =\u0026gt; å®¤è˜­ è©³ç´° document ã® evaluate() ã‚’ä½¿ã„ã¾ã™ã€‚\nevaluate ã¯ var xpathResult = document.evaluate( xpathExpression, contextNode, namespaceResolver, resultType, result ); ã®ã‚ˆã†ãªå½¢ã§ä½¿ã„ã¾ã™ã€‚\nå¼•æ•°ã¯æ¬¡ã®é€šã‚Šã€‚\nxpathExpression: XPath ã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã—ã¾ã™ã€‚ contextNode: å¯¾è±¡ã¨ãªã‚‹ document ã‚’æŒ‡å®šã—ã¾ã™ã€‚ namespaceResolver: å¯¾è±¡ã® document ãŒåå‰ç©ºé–“ã‚’æŒã£ã¦ã„ã‚‹å ´åˆã«æŒ‡å®šã—ã¾ã™ã€‚æŒã£ã¦ã„ãªã‘ã‚Œã° null ã‚’æŒ‡å®šã—ã¾ã™ã€‚ resultType: è¿”å´ã•ã‚Œã‚‹ã¹ã XPathResult ã®ã‚¿ã‚¤ãƒ—ã‚’æŒ‡å®šã—ã¾ã™ã€‚ä¸Šã®ä¾‹ã§ã¯æ–‡å­—åˆ—ãŒè¿”ã•ã‚Œã‚‹ã¹ããªã®ã§ STRING_TYPE ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ãŒã€ä¸€èˆ¬çš„ã«ã¯ ANY_TYPE ã‚’æŒ‡å®šã—ã¾ã™ã€‚å®Ÿéš›ã«ã©ã®ã‚¿ã‚¤ãƒ—ãŒè¿”å´ã•ã‚ŒãŸã‹ã¯ã€ XPathResult ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® resultType ã®å€¤ã§ç¢ºèªã§ãã¾ã™ã€‚ãƒãƒ¼ãƒ‰ãŒè¿”å´ã•ã‚Œã‚‹å ´åˆã¯ã€ UNORDERED_NODE_ITERATOR_TYPE ã«ãªã‚Šã¾ã™ã€‚ XPathResult Defined Constants result: æ—¢å­˜ã® XPathResult ã‚’æŒ‡å®šã—ãŸå ´åˆã¯ã€ãã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å†åˆ©ç”¨ã—ã¾ã™ã€‚ null ã‚’æŒ‡å®šã—ãŸå ´åˆã¯ã€æ–°ãŸã« XPathResult ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã•ã‚Œã¾ã™ã€‚ XPath ã®æŒ‡å®šæ–¹æ³•ã¨ã—ã¦ã€ä»Šå›ã¯ 2 ã¤ã®å±æ€§ã®æ¡ä»¶ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\nå˜ç‹¬ã®å±æ€§æŒ‡å®šã§ã‚ã‚Œã° city[@pref='${prefId}'] ã§ã™ãŒã€è¤‡æ•°ã«ãªã‚‹å ´åˆã¯ and ã§ã¤ãªãã¾ã™ã€‚\nã²ã¨ã“ã¨ ç„¡äº‹ã« JavaScript ã§ XPath ã‚’ä½¿ã£ã¦ XML ã‚’ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nä»Šå›ã¯ XPathResult ãŒ STRING_TYPE ã®ä¾‹ã§ã—ãŸãŒã€ä»–ã®ã‚¿ã‚¤ãƒ—ã€ç‰¹ã« UNORDERED_NODE_ITERATOR_TYPE ã§ã®æŒ™å‹•ã«ã¤ã„ã¦ã¯ã¾ã ã‚ˆãã‚ã‹ã£ã¦ã„ãªã„ã®ã§ã€åˆ¥é€” è‰²ã€…è©¦ã—ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/javascript-parse-xml/",
    "title": "JavaScript ã§ XPath ã‚’ä½¿ã£ã¦ XML ã‚’ Parse ã™ã‚‹"
  },
  {
    "contents": "å‰ã« GAN354 M ã‚’è²·ã„ã¾ã—ãŸ ã¨ã„ã†è¨˜äº‹ã‚’æ›¸ã„ã¦ã–ã£ãã‚Šãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¾ã—ãŸãŒã€ä»Šå›ã¯ãã®ç¶šãã§ã™ã€‚å®Ÿéš›ã«çµæ§‹ãªå›æ•°ã‚’å›ã—ã¦ã¿ã¦æ„Ÿã˜ãŸã“ã¨ã‚’æ›¸ãã¾ã™ã€‚\nãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¤ãƒ³ãƒ—ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ ã‚»ã‚«ãƒ³ãƒ‰ã‚¤ãƒ³ãƒ—ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ ä»Šå›ã¯ã‚»ã‚«ãƒ³ãƒ‰ã‚¤ãƒ³ãƒ—ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ã¨ã„ã†ã“ã¨ã§ã€å®Ÿéš›ã«å›ã—ã¦ã„ã‚‹ã†ã¡ã«æ°—ã¥ã„ãŸã“ã¨ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nã‚¿ã‚¤ãƒ ã¯ç¢ºå®Ÿã«ä¸ŠãŒã‚‹ ã¾ãšã‚¿ã‚¤ãƒ ã«ã¤ã„ã¦ã§ã™ãŒã€ç¢ºå®Ÿã«ã‚ãŒã‚Šã¾ã—ãŸã€‚\nä»¥å‰ã®å¹³å‡ã‚¿ã‚¤ãƒ ã¯ 50 ~ 55 ç§’ãã‚‰ã„ã§ã€ãŸã¾ã«ã‚‚ãŸã¤ãã¨ 1 åˆ†ã‚’è¶…ãˆã‚‹ã“ã¨ã‚‚çµæ§‹ã‚ã‚Šã¾ã—ãŸã€‚\nãŸã ã€ GAN354 M ã‚’ä½¿ã„å§‹ã‚ã¦ã‹ã‚‰ã®å¹³å‡ã‚¿ã‚¤ãƒ ã¯ 40 ~ 50 ç§’ãã‚‰ã„ã§ã€ 1 åˆ†ã‚’è¶…ãˆã‚‹ã“ã¨ã¯ã»ã¨ã‚“ã©ã‚ã‚Šã¾ã›ã‚“ã€‚\nè¦å› ã¨ã—ã¦ã¯\nå‹•ããŒæ»‘ã‚‰ã‹ã§ã‚ã‚‹ å®‰å®šæ„ŸãŒã‚ã‚‹ (ãƒãƒƒãƒ—ã®å¿ƒé…ãŒãªã„) ã“ã® 2 ç‚¹ãŒæŒ™ã’ã‚‰ã‚Œã‚‹ã¨æ€ã„ã¾ã™ã€‚\nã¾ãšå‹•ããŒæ»‘ã‚‰ã‹ãªã®ã§ã€é€”ä¸­ã§å¼•ã£ã‹ã‹ã‚‹ã“ã¨ã«ã‚ˆã‚‹ã‚¿ã‚¤ãƒ ãƒ­ã‚¹ãŒãªããªã‚Šã¾ã™ã€‚\nã¾ãŸã€å®‰å®šæ„ŸãŒã‚ã‚Šãƒãƒƒãƒ—ã™ã‚‹å¿ƒé…ãŒæ®†ã©ç„¡ã„ã®ã§ã€å¤šå°‘å¼·å¼•ã«å›ã™ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ãã®çµæœã€ã‚¿ã‚¤ãƒ ã®å‘ä¸Šã«ã¤ãªãŒã£ã¦ã„ã¾ã™ã€‚\nãƒã‚°ãƒãƒƒãƒˆã‚¢ã‚·ã‚¹ãƒˆã¯å¼±ã„ GAN354 M ã«ã¯ãƒã‚°ãƒãƒƒãƒˆã‚¢ã‚·ã‚¹ãƒˆãŒä»˜ã„ã¦ã„ã¾ã™ãŒã€æ­£ç›´ã‚¢ã‚·ã‚¹ãƒˆã¯å¼±ãã€ãã“ã¾ã§æ©æµã¯æ„Ÿã˜ã¾ã›ã‚“ã€‚\nTribox ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ ã§ã‚‚ãƒã‚°ãƒãƒƒãƒˆã‚¢ã‚·ã‚¹ãƒˆã¯å¼±ã‚ã¨ã®åˆ¤å®šã§ã—ãŸãŒã€ã¾ã•ã«ãã®é€šã‚Šã§ã™ã€‚\nå®Ÿéš›ã€ä»–ã®ãƒã‚°ãƒãƒƒãƒˆã‚¢ã‚·ã‚¹ãƒˆä»˜ãã‚­ãƒ¥ãƒ¼ãƒ–ã‚’ä½¿ç”¨ã—ãŸã“ã¨ãŒãªã„ã®ã§æ¯”è¼ƒãŒã§ãã¾ã›ã‚“ãŒã€å€‹äººçš„ã«ã¯ã‚‚ã†å°‘ã—å¼·ãã¦ã‚‚ã‚ˆã„ã‹ãªã¨æ„Ÿã˜ã¾ã™ã€‚\nã¨ã¯ã„ã£ã¦ã‚‚ãƒã‚°ãƒãƒƒãƒˆã‚¢ã‚·ã‚¹ãƒˆãŒã‚ã‚‹ã®ã¨ç„¡ã„ã®ã¨ã§ã¯ãœã‚“ãœã‚“é•ã†ã®ã§ã€åŠ›ã¯å¼±ãã¦ã‚‚ã‚¢ã‚·ã‚¹ãƒˆãŒã‚ã‚‹ã®ã¯å¿ƒå¼·ã„ã§ã™ã€‚\nå€‹äººçš„ã«ã—ã£ãã‚Šãã¦ã„ã‚‹ GES ã®è¨­å®š GAN354 M ã«ã¯ã€æ¬¡ã® 4 ç¨®é¡ã® GES ãŒä»˜å±ã—ã¦ã„ã¾ã™ã€‚\nYellow S9 Green G7 Blue G8 Purple G9 ã“ã®ä¸­ã§ã¯ Yellow ãŒä¸€ç•ªå¼·ãã€ Purple ãŒä¸€ç•ªå¼±ã„åç™ºåŠ›ã«ãªã£ã¦ã¾ã™ã€‚\nå€‹äººçš„ã«ã¯ Purple ã‚’ä½¿ã£ã¦ã€ç· ã‚å…·åˆã‚’ã“ã‚Œãã‚‰ã„ã«ã™ã‚‹ã®ãŒã¡ã‚‡ã†ã©ã„ã„ã§ã™ã€‚\nåˆå¿ƒè€…ã«ã‚‚ã‚ªã‚¹ã‚¹ãƒ¡ ç§ã®å¹³å‡ã‚¿ã‚¤ãƒ ã¯ä¸Šã«ã‚‚æ›¸ã„ã¦ã‚ã‚‹ã¨ãŠã‚Š 40 ~ 50 ç§’ãªã®ã§ã€ã“ã†ã„ã£ãŸé«˜æ€§èƒ½ã‚­ãƒ¥ãƒ¼ãƒ–ã‚’ä½¿ã†äººé”ã«ã¯è¶³å…ƒã«ã‚‚åŠã°ãªã„ã‚¿ã‚¤ãƒ ã§ã™ã€‚\nãŸã ã€ GAN354 M ã«é–¢ã—ã¦ã¯ã€ä½¿ã†ã ã‘ã§ã‚¿ã‚¤ãƒ ãŒä¸ŠãŒã‚Šã¾ã™ã—ã€å›è»¢ã‚‚éå¸¸ã«ã‚¹ãƒ ãƒ¼ã‚ºã§ã©ã‚“ã©ã‚“å›ã—ãŸããªã‚‹ã‚­ãƒ¥ãƒ¼ãƒ–ã§ã™ã€‚ã©ã‚“ã©ã‚“å›ã™ã“ã¨ã§ã€ã•ã‚‰ãªã‚‹ã‚¿ã‚¤ãƒ ã®å‘ä¸Šã«ã‚‚ã¤ãªãŒã‚‹ã®ã§ã€åˆå¿ƒè€…ã«ã‚‚ã‚ªã‚¹ã‚¹ãƒ¡ã—ãŸã„ã‚­ãƒ¥ãƒ¼ãƒ–ã§ã™ã€‚\nã¨ã‚Šã‚ãˆãšã‚‚ã£ã¨ç·´ç¿’ã—ã¦ã€ã˜ã‚ã˜ã‚ã¨å¹³å‡ã‚¿ã‚¤ãƒ ã‚’ä¸Šã’ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\næœ€è¿‘ã€Twitter ã§ã¯ ä»Šæ—¥ã® 1 å› ã¨é¡Œã—ã¦ã‚½ãƒ«ãƒ–ã®æ§˜å­ã‚’ã‚¢ãƒƒãƒ—ã—ã¦ã„ã¾ã™ã€‚\nä»Šæ—¥ã®ï¼‘å›ã€‚\nã‚³ãƒ³ã‚¹ã‚¿ãƒ³ãƒˆã«40ç§’å°ãŒå‡ºã‚‹ã‚ˆã†ã«ãªã£ã¦ããŸã‘ã©ã€ã¾ã ã¾ã æœ€åˆã®ä¸€é¢ãŒé…ã„ã€‚#rubikscube BGMã¯ #æ¬…å‚46 ã® ã‚¢ãƒ³ãƒ“ãƒãƒ¬ãƒ³ãƒˆ ã§ã—ãŸã€‚ pic.twitter.com/hH1mbq6OTO\n\u0026mdash; michimani (@_michimani_) November 19, 2018 ã‚¢ãƒ‰ãƒã‚¤ã‚¹ãŒæœ‰ã‚Œã°ã‚³ãƒ¡ãƒ³ãƒˆã¨ã‹ãƒªãƒ—ã§è²°ãˆã‚‹ã¨å¬‰ã—ã„ã§ã™ã€‚ãƒ•ã‚©ãƒ­ãƒ¼ã‚‚ãŠé¡˜ã„ã—ã¾ã™ï¼\n",
    "permalink": "https://michimani.net/post/other-rubics-review-gan354m-2/",
    "title": "GAN354 M ã‚’ä½¿ã„å§‹ã‚ã¦3é€±é–“ãã‚‰ã„çµŒã£ãŸã®ã§ã€ã‚ã‚‰ãŸã‚ã¦ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã¿ã¾ã™"
  },
  {
    "contents": "ã“ã‚Œã¾ã§æŠ€è¡“çš„ãªã“ã¨ã¯ Qiita ã«æ›¸ã„ã¦ã„ãŸã®ã§ã™ãŒã€ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã™ã‚‹å ´æ‰€ãŒãƒãƒ©ãƒãƒ©ã ã¨è‰²ã€…é¢å€’ã ã¨æ€ã£ãŸã®ã§ã€ Qiita ã®è¨˜äº‹ã‚’ã“ã®ãƒ–ãƒ­ã‚° (Hugo) ã«æŒã£ã¦ãã¾ã—ãŸã€‚\nä»Šå›ã¯ãã®æ–¹æ³•ã«ã¤ã„ã¦ã§ã™ã€‚\nã‚„ã‚ŠãŸã„ã“ã¨ Qiita ã®è¨˜äº‹ã‹ã‚‰ Hugo ç”¨ã® markdown ã‚’ä½œã‚‹ Qiita è¨˜äº‹å†…ã®ç”»åƒã‚‚ç§»è¡Œã™ã‚‹ ãªã‚‹ã¹ãæ‰‹ã¯åŠ ãˆãŸããªã„ (å…¨ãåŠ ãˆãªã„ã®ã¯ç„¡ç†ã§ã—ãŸ) ã‚„ã£ãŸã“ã¨ (æ¦‚è¦) Qiita API ã§è¨˜äº‹ã®æƒ…å ±ã‚’å–å¾— å–å¾—ã—ãŸè¨˜äº‹å†…ã®ç”»åƒã‚’ä¿å­˜ å–å¾—ã—ãŸè¨˜äº‹ã‚’ Hugo ç”¨ã«åŠ å·¥ ã‚„ã£ãŸã“ã¨ (è©³ç´°) 1. Qiita API ã§è¨˜äº‹ã®æƒ…å ±ã‚’å–å¾— ã¾ãšã€Qiita ã‹ã‚‰è¨˜äº‹ã®å†…å®¹ã‚’å–å¾—ã—ã¾ã™ã€‚\nå¹¸ã„ã«ã‚‚ Qiita ã«ã¯ã€æŠ•ç¨¿ã‚„ç·¨é›†ã€è¨˜äº‹ä¸€è¦§å–å¾—ãªã©ã® API ãŒå…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚’ä½¿ã„ã¾ã™ã€‚\nãã®å‰ã«ã€ Qiita ã®ãƒã‚¤ãƒšãƒ¼ã‚¸ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã—ã¦ãŠãã¾ã™ã€‚\nã‚¹ã‚³ãƒ¼ãƒ—ã«ã¤ã„ã¦ã¯ã€ read_qiita ã ã‘ã§ OK ã§ã™ã€‚\nä½¿ã† API ã¯ \u0026lt;code\u0026gt;GET /api/v2/authenticated_user/items\u0026lt;/code\u0026gt; ã§ã™ã€‚\nå…¬å¼ãƒšãƒ¼ã‚¸ã«ã‚‚ã‚ã‚Šã¾ã™ãŒã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\npage ãƒšãƒ¼ã‚¸ç•ªå· (1ã‹ã‚‰100ã¾ã§) Example: 1 Type: string Pattern: /^[0-9]+$/ per_page 1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã«å«ã¾ã‚Œã‚‹è¦ç´ æ•° (1ã‹ã‚‰100ã¾ã§) Example: 20 Type: string Pattern: /^[0-9]+$/ æŒ‡å®šã—ãªã„å ´åˆã¯ã€ã©ã¡ã‚‰ã‚‚ Example ã®å€¤ãŒä½¿ç”¨ã•ã‚Œã¾ã™ã€‚\nä»Šå›ã€ç§»è¡Œã®å¯¾è±¡ã¨ãªã‚‹ Qiita ã®è¨˜äº‹æ•°ã¯ 41 ã ã£ãŸã®ã§ã€ per_page ã« 100 ã‚’æŒ‡å®šã—ã¦ã‚³ãƒ¼ãƒ«ã—ã¾ã™ã€‚\nã“ã‚Œã¾ãŸå…¬å¼ã®ä¾‹ã®ã¾ã¾ã§ã™ãŒã€ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã£ã¦ãã¾ã™ã€‚\n[ { \u0026#34;rendered_body\u0026#34;: \u0026#34;\u0026lt;h1\u0026gt;Example\u0026lt;/h1\u0026gt;\u0026#34;, \u0026#34;body\u0026#34;: \u0026#34;# Example\u0026#34;, \u0026#34;coediting\u0026#34;: false, \u0026#34;comments_count\u0026#34;: 100, \u0026#34;created_at\u0026#34;: \u0026#34;2000-01-01T00:00:00+00:00\u0026#34;, \u0026#34;group\u0026#34;: { \u0026#34;created_at\u0026#34;: \u0026#34;2000-01-01T00:00:00+00:00\u0026#34;, \u0026#34;id\u0026#34;: 1, \u0026#34;name\u0026#34;: \u0026#34;Dev\u0026#34;, \u0026#34;private\u0026#34;: false, \u0026#34;updated_at\u0026#34;: \u0026#34;2000-01-01T00:00:00+00:00\u0026#34;, \u0026#34;url_name\u0026#34;: \u0026#34;dev\u0026#34; }, \u0026#34;id\u0026#34;: \u0026#34;4bd431809afb1bb99e4f\u0026#34;, \u0026#34;likes_count\u0026#34;: 100, \u0026#34;private\u0026#34;: false, \u0026#34;reactions_count\u0026#34;: 100, \u0026#34;tags\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Ruby\u0026#34;, \u0026#34;versions\u0026#34;: [ \u0026#34;0.0.1\u0026#34; ] } ], \u0026#34;title\u0026#34;: \u0026#34;Example title\u0026#34;, \u0026#34;updated_at\u0026#34;: \u0026#34;2000-01-01T00:00:00+00:00\u0026#34;, \u0026#34;url\u0026#34;: \u0026#34;https://qiita.com/yaotti/items/4bd431809afb1bb99e4f\u0026#34;, \u0026#34;user\u0026#34;: { \u0026#34;description\u0026#34;: \u0026#34;Hello, world.\u0026#34;, \u0026#34;facebook_id\u0026#34;: \u0026#34;yaotti\u0026#34;, \u0026#34;followees_count\u0026#34;: 100, \u0026#34;followers_count\u0026#34;: 200, \u0026#34;github_login_name\u0026#34;: \u0026#34;yaotti\u0026#34;, \u0026#34;id\u0026#34;: \u0026#34;yaotti\u0026#34;, \u0026#34;items_count\u0026#34;: 300, \u0026#34;linkedin_id\u0026#34;: \u0026#34;yaotti\u0026#34;, \u0026#34;location\u0026#34;: \u0026#34;Tokyo, Japan\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Hiroshige Umino\u0026#34;, \u0026#34;organization\u0026#34;: \u0026#34;Increments Inc\u0026#34;, \u0026#34;permanent_id\u0026#34;: 1, \u0026#34;profile_image_url\u0026#34;: \u0026#34;https://si0.twimg.com/profile_images/2309761038/1ijg13pfs0dg84sk2y0h_normal.jpeg\u0026#34;, \u0026#34;twitter_screen_name\u0026#34;: \u0026#34;yaotti\u0026#34;, \u0026#34;website_url\u0026#34;: \u0026#34;http://yaotti.hatenablog.com\u0026#34; }, \u0026#34;page_views_count\u0026#34;: 100 }, { //... } ] ã“ã‚Œã‚’ã‚‚ã¨ã«ã€ Hugo ç”¨ã® markdown ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¾ã™ã€‚\n2. å–å¾—ã—ãŸè¨˜äº‹å†…ã®ç”»åƒã‚’ä¿å­˜ åŠ å·¥ã™ã‚‹å‰ã«ã€è¨˜äº‹å†…ã®ç”»åƒãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã—ã¾ã™ã€‚ç§»è¡Œå¾Œã«ã¯ Qiita ã®è¨˜äº‹ã¯å‰Šé™¤ã™ã‚‹äºˆå®šãªã®ã§ã€‚\nQiita è¨˜äº‹å†…ã®ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªå½¢ã«ãªã£ã¦ã„ã¾ã™ã€‚\n\u0026lt;img width=\u0026#34;\\d+\u0026#34; alt=\u0026#34;.+\u0026#34; src=\u0026#34;.+\u0026#34;\u0026gt; src ã«ã¯ãƒ•ãƒ«ãƒ‘ã‚¹ãŒå…¥ã£ã¦ã„ã‚‹ã®ã§ã€ãã“ã‹ã‚‰ç”»åƒã‚’ä¿å­˜ã—ã¦ãã¾ã™ã€‚\nã¾ãŸã€ alt ã«ã¯ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸã¨ãã®ãƒ•ã‚¡ã‚¤ãƒ«åãŒå…¥ã£ã¦ã„ã‚‹ã‚ˆã†ãªã®ã§ã€ã“ã®éƒ¨åˆ†ã‚‚å¤‰æ›´ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nä¿å­˜ã™ã‚‹éš›ã®ãƒ•ã‚¡ã‚¤ãƒ«åã¯ã€ src ã®å€¤ã®æœ€å¾Œã® / ä»¥é™ ã¨ã™ã‚‹ã¨ã€é‡è¤‡ãªãä¿å­˜ã§ãã¾ã™ã€‚\næ–°ãŸãª alt å±æ€§ã¨ã—ã¦ã€ä¿å­˜æ™‚ã®ãƒ•ã‚¡ã‚¤ãƒ«åã‚’è¨­å®šã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nå¾Œã«ç´¹ä»‹ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã®è©±ã«ãªã‚Šã¾ã™ãŒã€ å…ƒã® src ã¨ æ–°ã—ã„ srcã€å…ƒã® alt ã¨ æ–°ã—ã„ alt ã®æƒ…å ±ã‚’ä¿æŒã—ã¦ãŠã„ã¦ã€æ¬¡ã®åŠ å·¥ã‚¹ãƒ†ãƒƒãƒ—ã§ãã‚Œãã‚Œç½®æ›ã—ã¾ã™ã€‚\n3. å–å¾—ã—ãŸè¨˜äº‹ã‚’ Hugo ç”¨ã«åŠ å·¥ åŠ å·¥ã¨è¨€ã£ã¦ã‚‚ã€ã»ã¨ã‚“ã©ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nãªãœãªã‚‰ã€ Qiita API ã§å–å¾—ã—ãŸçŠ¶æ…‹ã§è¨˜äº‹ã®å†…å®¹ã¯ markdown ã«ãªã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚\nãªã®ã§ã€ã‚ã¨ã¯è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«ã¨ã‹ã‚«ãƒ†ã‚´ãƒªã¨ã‹ã®æƒ…å ±ã‚’å…ˆé ­ã«ä»˜ä¸ã™ã‚‹ã ã‘ã§ã™ã€‚\nå…·ä½“çš„ã«ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªæƒ…å ±ã‚’è¿½åŠ ã—ã¾ã™ã€‚\n--- title: \u0026#34;{title}\u0026#34; date: {date} draft: false author: [\u0026#34;michimani\u0026#34;] categories: {tags} tags: {tags} archives: [\u0026#34;201\u0026#34;, \u0026#34;201/\u0026#34;] eyecatch: \u0026#34;/images/og/eyecatch-default.jpg\u0026#34; ogimage: \u0026#34;/images/og/eyecatch-default.png\u0026#34; --- API ã‹ã‚‰è¿”å´ã•ã‚Œã‚‹ json ã¯è¨˜äº‹æƒ…å ±ã®ãƒªã‚¹ãƒˆã«ãªã£ã¦ã„ã‚‹ã®ã§ã€å„è¨˜äº‹æƒ…å ± (post) ã«å¯¾ã—ã¦\n{title} : post.title {date} : post.date {tags} : post.tags ã®ãƒªã‚¹ãƒˆã‚’ã‚´ãƒ‹ãƒ§ã‚´ãƒ‹ãƒ§ã™ã‚‹ ã§å–å¾—ã—ã¾ã™ã€‚\nã§ã€è¨˜äº‹æœ¬æ–‡ã¯ post.body ãªã®ã§ã€ã“ã®å€¤ã«å¯¾ã—ã¦ã€ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã€alt å±æ€§ã‚’ç½®æ›ã—ã¾ã™ã€‚\nã‚ã¨ã¯ã€è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’ãƒ•ã‚¡ã‚¤ãƒ«åã¨ã—ã¦ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«é©å®œåŠ å·¥ã—ã¦ã€ {title}.md ã¨ã„ã†å½¢ã§ä¿å­˜ã™ã‚Œã°å®Œæˆã§ã™ã€‚\nQiita ã‹ã‚‰ Hugo ç”¨ã® markdown ã‚’ç”Ÿæˆã™ã‚‹ã‚„ã¤ ã¨ã„ã†ã“ã¨ã§ã€ä¸Šã§èª¬æ˜ã—ãŸã“ã¨ã‚’ã‚„ã£ã¦ãã‚Œã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œã‚Šã¾ã—ãŸã€‚\nGithub michimani/qiita-to-hugo Python3.6 ã§ã®å‹•ä½œã‚’æƒ³å®šã—ã¦ã¾ã™ãŒã€æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã¿ãªã®ã§ã€ä»–ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚‚å‹•ãã¨æ€ã„ã¾ã™ã€‚è©¦ã—ã¦ã¾ã›ã‚“ãŒã€‚\nã“ã®ã”ã‚ä½•ã‹ã¨è©±é¡Œã® Qiita ã§ã™ãŒã€ API ãŒã—ã£ã‹ã‚Šç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ä»–ãƒ–ãƒ­ã‚°ã¸ã®ç§»è¡Œã‚„ã€ä»–ãƒ–ãƒ­ã‚°ã‹ã‚‰ã®ç§»è¡Œã‚‚æ¯”è¼ƒçš„ã‚„ã‚Šã‚„ã™ã„æ°—ãŒã—ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/blog-qiita-to-hugo/",
    "title": "Qiita ã«æŠ•ç¨¿ã—ã¦ã„ãŸè¨˜äº‹ã‚’ Hugo ã«ç§»è¡Œã—ã¦ã¿ãŸ"
  },
  {
    "contents": "Hugo ã§ä½œã£ãŸãƒ–ãƒ­ã‚°ã« Disqus ã‚’ä½¿ã£ã¦ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã‚’è¨­ç½®ã—ã¾ã—ãŸã§ã®ã€ãã®æ–¹æ³•ã«ã¤ã„ã¦ã§ã™ã€‚\nã‚„ã‚‹ã“ã¨ Disqus ã§ãƒ¦ãƒ¼ã‚¶ç™»éŒ² Disqus ã§ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã‚µã‚¤ãƒˆã®ç™»éŒ² Hugo ã§ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã‚’è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«è¨­å®š 1. Disqus ã§ãƒ¦ãƒ¼ã‚¶ç™»éŒ² ãƒ¦ãƒ¼ã‚¶ç™»éŒ²ã¯ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã®ç™»éŒ²ã®ã»ã‹ã€Facebook Twitter, Google ãã‚Œãã‚Œã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ã£ãŸç™»éŒ²ã‚‚å¯èƒ½ã§ã™ã€‚\nSign-up to comment on Disqus 2. Disqus ã§ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã‚µã‚¤ãƒˆã®ç™»éŒ² ãƒ¦ãƒ¼ã‚¶ç™»éŒ²ãŒå®Œäº†ã—ãŸã‚‰ã€ Disqus ã®ç”»é¢ä¸Šã§ã‚µã‚¤ãƒˆã®ç™»éŒ²ã‚’ã—ã¾ã™ã€‚\nå³ä¸Šã®æ­¯è»Šã‚¢ã‚¤ã‚³ãƒ³ã‹ã‚‰ Add Disqus To Site ã‚’é¸æŠã—ã¾ã™ã€‚\næ¬¡ã®ç”»é¢ã§ã¯è‰²ã€…æ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€ä¸€ç•ªä¸‹ã«ã‚ã‚‹ GET STARTED ã§æ¬¡ã«é€²ã¿ã¾ã™ã€‚\næ¬¡ã®ç”»é¢ã§ã¯ã€ I want to install Disqus on my site ã‚’é¸æŠã—ã¾ã™ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚µã‚¤ãƒˆã®æƒ…å ±ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\næ¬¡ã®ç”»é¢ã§ã¯ã€ã€€Disqus ã®ãƒ—ãƒ©ãƒ³ã‚’é¸æŠã—ã¾ã™ã€‚\nã¨ã‚Šã‚ãˆãšã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã‚’ä½¿ã†ã ã‘ã§ã‚ã‚Œã° Basic ã§å•é¡Œãªã„ã§ã™ã€‚\næ¬¡ã«ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚µã‚¤ãƒˆã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’é¸æŠã—ã¾ã™ã€‚\nä»Šå›ã¯ Hugo ã§ä½œã£ãŸã‚µã‚¤ãƒˆãªã®ã§ã€ä¸€ç•ªä¸‹ã® install manually \u0026hellip; ã‚’æŠ¼ã—ã¦æ¬¡ã¸é€²ã¿ã¾ã™ã€‚\nJavaScript ã®ã‚³ãƒ¼ãƒ‰ã‚„è¨­ç½®æ–¹æ³•ã«ã¤ã„ã¦æ›¸ã‹ã‚Œã¦ã„ã‚‹ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ãŒã€ç‰¹ã«ã‚„ã‚‹ã“ã¨ã¯ãªãã€ã‚³ãƒ¼ãƒ‰ã‚‚ã‚³ãƒ”ãƒ¼ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nãã®ã¾ã¾ Configure Disqus ã¸é€²ã¿ã¾ã™ã€‚\nConfigure Disqus ã®ç”»é¢ã§ã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã®è¦‹ãŸç›®ã‚„ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚µã‚¤ãƒˆã® URL ã€ã‚³ãƒ¡ãƒ³ãƒˆãƒãƒªã‚·ãƒ¼ã«é–¢ã™ã‚‹æƒ…å ±ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\nå¿…é ˆãªã®ã¯ Website Name ã¨ Website URL ã§ã™ã€‚\nã“ã‚Œã§è¨­å®šã¯å®Œäº†ã§ã™ã€‚ãŒã€å¾Œã® Hugo ã§ã®è¨­å®šã§å¿…è¦ãªæƒ…å ±ã‚’å–å¾—ã—ã¦ãŠãã¾ã™ã€‚\nè¨­å®šå®Œäº†å¾Œã«è¡¨ç¤ºã•ã‚ŒãŸãƒšãƒ¼ã‚¸ã‹ã‚‰ Configure your site\u0026rsquo;s community settings ã‚’æŠ¼ã—ã¦ã€ã‚µã‚¤ãƒˆã®è©³ç´°ãªè¨­å®šç”»é¢ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚\nãã“ã‹ã‚‰ã€ Shortname ã®æ–‡å­—åˆ—ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãŠãã¾ã™ã€‚\nä»¥ä¸Šã§ Disqus ã§ã®ä½œæ¥­ã¯çµ‚äº†ã§ã™ã€‚\n3. Hugo ã§ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã‚’è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«è¨­å®š Hugo å´ã§ã¯ã€\nconfig.toml ã¸ã®è¿½è¨˜ è¨˜äº‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›† ã®å¯¾å¿œã‚’ã—ã¾ã™ã€‚\nconfig.toml ã¸ã®è¿½è¨˜ å…ˆã»ã©ã‚³ãƒ”ãƒ¼ã—ãŸ Shortname ã‚’ config.toml ã«è¿½è¨˜ã—ã¾ã™ã€‚è¿½è¨˜ã™ã‚‹å ´æ‰€ã¯ã€ title ã‚„ theme ã¨åŒã˜éšå±¤ã§ã™ã€‚\ndisqusShortname = \u0026#34;michimani-net\u0026#34; è¨˜äº‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›† Disqus ã«ã‚ˆã‚‹ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ã€å€‹åˆ¥è¨˜äº‹ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¾ã™ã€‚ ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ†ãƒ¼ãƒã«ã‚ˆã£ã¦ç•°ãªã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ç§ã®å ´åˆã¯ Indigo ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ã€ themes/indigo/layouts/_default/single.html ã‚’ç·¨é›†ã—ã¾ã™ã€‚\n\u0026lt;/p\u0026gt; {{ end }} \u0026lt;/footer\u0026gt; + {{ template \u0026#34;_internal/disqus.html\u0026#34; . }} \u0026lt;/article\u0026gt; {{ partial \u0026#34;footer.html\u0026#34; . }} ä»Šå›è¿½è¨˜ã—ã¦ã„ã‚‹ {{ template \u0026quot;_internal/disqus.html\u0026quot; . }} ã§ã™ãŒã€ã“ã‚Œã¯ Hugo ã«ã‚ã‚‰ã‹ã˜ã‚ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ Disqus ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãªã®ã§ã€ Disqus ã®ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã‚’è¡¨ç¤ºã—ãŸã„å ´æ‰€ã«ã“ã®è¨˜è¿°ã‚’ãã®ã¾ã¾è¨˜è¿°ã™ã‚Œã° OK ã§ã™ã€‚\nã¾ã¨ã‚ ä»¥ä¸Šã§ Hugo ã§ä½œã£ãŸãƒ–ãƒ­ã‚°ã«ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nãªãŠã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®ç¢ºèªä¸­ã¯ Disqus comments not available by default when the website is previewed locally. ã¨è¡¨ç¤ºã•ã‚Œã€ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚\nDisqus ã§ã®æ“ä½œã¯å…¨ã¦è‹±èªã§ã™ãŒã€é›£ã—ã„å†…å®¹ã§ã¯ãªã„ã®ã§ç‰¹ã«è©°ã¾ã‚‹ã“ã¨ã¯ãªã‹ã£ãŸã§ã™ã€‚Hugo è‡ªä½“ã« Disqus ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã€å°å…¥ã¯ç°¡å˜ã§ã—ãŸã€‚\nã“ã®ãƒ–ãƒ­ã‚°ã§ã¯ãƒ„ãƒƒã‚³ãƒŸã©ã“ã‚ãŒå¤šã€…ã‚ã‚‹ã‹ã¨æ€ã„ã¾ã™ã®ã§ã€ã‚³ãƒ¡ãƒ³ãƒˆã§è¨‚æ­£ã€ã”æŒ‡æ‘˜ã„ãŸã ã‘ã‚Œã°å¹¸ã„ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/blog-install-disqus-to-hugo/",
    "title": "Hugo ã§ä½œã£ãŸãƒ–ãƒ­ã‚°ã« Disqus ã‚’ä½¿ã£ã¦ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹"
  },
  {
    "contents": " å‰å› ãƒ«ãƒ¼ãƒ“ãƒƒã‚¯ã‚­ãƒ¥ãƒ¼ãƒ–ã®å¤§ä¼šã«ã¤ã„ã¦èª¿ã¹ã¦ã¿ã¾ã—ãŸãŒã€ãã‚Œã«é–¢é€£ã—ã¦ã€Œç«¶æŠ€ç”¨ã‚­ãƒ¥ãƒ¼ãƒ–ã€ãªã‚‹ã‚‚ã®ãŒã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚ä»Šå›ã¯ã€ãã®ç«¶æŠ€ç”¨ã®ã‚­ãƒ¥ãƒ¼ãƒ–ã®ä¸­ã§ã‚‚è©•ä¾¡ãŒé«˜ã„ã€ŒGAN354 Mã€ã‚’è²·ã£ã¦ã¿ãŸã®ã§ã€ãã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã™ã€‚\nã¡ãªã¿ã«ç§ã®å¹³å‡ã‚¿ã‚¤ãƒ ã¯ 55 ç§’ãã‚‰ã„ã§ã€ã¾ã ã¾ã é§†ã‘å‡ºã—ã§ã™ã€‚\nç«¶æŠ€ç”¨ã‚­ãƒ¥ãƒ¼ãƒ–ã¨ã¯ ãƒ«ãƒ¼ãƒ“ãƒƒã‚¯ã‚­ãƒ¥ãƒ¼ãƒ–ã«ã¯æ§˜ã€…ãªç¨®é¡ãŒã‚ã‚Šã¾ã™ã€‚ãã®ä¸­ã§ã‚‚ç«¶æŠ€ç”¨ã‚­ãƒ¥ãƒ¼ãƒ–ã¨å‘¼ã°ã‚Œã‚‹ã‚‚ã®ã¯ã€ä¸€èˆ¬ã«å£²ã‚‰ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚ˆã‚Šã‚‚å‹•ããŒæ»‘ã‚‰ã‹ã ã£ãŸã‚Šã€å›è»¢ã•ã›ã‚‹ã¨ãã®æŠµæŠ—ã‚’èª¿æ•´ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã¾ãŸã€ä¸­ã«ã¯ãƒã‚°ãƒãƒƒãƒˆãŒä»•è¾¼ã¾ã‚Œã¦ã„ã¦ã€å›è»¢ã‚’ã‚¢ã‚·ã‚¹ãƒˆã—ã¦ãã‚Œã‚‹ã‚‚ã®ã‚‚ã‚ã‚Šã¾ã™ã€‚\nãƒ«ãƒ¼ãƒ“ãƒƒã‚¯ã‚­ãƒ¥ãƒ¼ãƒ–ã®ã‚¿ã‚¤ãƒ çŸ­ç¸®ã«ã¯ã€æ‰‹é †ã‚’è¦šãˆã‚‹ã¨ã„ã†ã®ã¯ã‚‚ã¡ã‚ã‚“ã§ã™ãŒã€å¦‚ä½•ã«ã‚­ãƒ¥ãƒ¼ãƒ–ã®å›è»¢ã«ãŠã‘ã‚‹ãƒ­ã‚¹ã‚’ç„¡ãã™ã‹ ã¨ã„ã†ã“ã¨ã‚‚é‡è¦ã§ã™ã€‚\nç«¶æŠ€ç”¨ã‚­ãƒ¥ãƒ¼ãƒ–ã‚’ä½¿ã†ã“ã¨ã§ã€ãã®ãƒ­ã‚¹ã‚’æ¸›ã‚‰ã—ã¦ã‚¿ã‚¤ãƒ çŸ­ç¸®ã«å¤§ããå‰é€²ã™ã‚‹ã‚ã‘ã§ã™ã€‚\nè©•ä¾¡ãŒé«˜ã„ç«¶æŠ€ç”¨ã‚­ãƒ¥ãƒ¼ãƒ– GAN354 M 3x3x3 ã«é™ã‚‰ãšãƒ«ãƒ¼ãƒ“ãƒƒã‚¯ã‚­ãƒ¥ãƒ¼ãƒ–ã‚„ä»–ã®ãƒ‘ã‚ºãƒ«é¡ã‚’ãŸãã•ã‚“æ‰±ã£ã¦ã„ã‚‹ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚·ãƒ§ãƒƒãƒ— tribox ã€‚ãã“ã§æœ€æ–°ã®ç«¶æŠ€ç”¨ã‚­ãƒ¥ãƒ¼ãƒ–ã«ã¤ã„ã¦ã®ç‰¹å…¸ä»˜ããƒ¬ãƒ“ãƒ¥ãƒ¼ãŒã‚ã‚Šã€ãã®ä¸­ã§ã‚‚ãƒˆãƒƒãƒ—è©•ä¾¡ã ã£ãŸã®ãŒ GAN354 M ã¨ã„ã†ã‚­ãƒ¥ãƒ¼ãƒ–ã§ã™ã€‚\nGAN354 M Stickerless æ­£å¼ãªåç§°ã¯ã€€GAN354 M Stickerless ã§ã™ã€‚\nGAN354 M Stickerless å•†å“ãƒšãƒ¼ã‚¸ GAN ã¯ã€åˆ¶ä½œã—ã¦ã„ã‚‹ãƒ¡ãƒ¼ã‚«ãƒ¼ GANCUBE ã‚’ã€ 3 ã¯ã€3x3x3 ã‚’ã€ 54 ã¯ã‚­ãƒ¥ãƒ¼ãƒ–ã®ä¸€è¾ºã®é•·ã• 54mm ã‚’ãã‚Œãã‚Œè¡¨ã—ã¦ã„ã¾ã™ã€‚\nåŒã˜ GANCUBE ã®ã‚­ãƒ¥ãƒ¼ãƒ–ã«ã¯ã€ä»–ã« GAN356 R Stickerless ã‚„ã€ GAN356 Air SM ãªã©ãŒã‚ã‚Šã¾ã™ã€‚\nç«¶æŠ€è€…ã«ã‚ˆã‚‹ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã¯ã€ç‰¹ã« æŸ”è»Ÿæ€§ ã«ãŠã„ã¦éå¸¸ã«é«˜ã„è©•ä¾¡ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nç‰¹å¾´ ãƒã‚°ãƒãƒƒãƒˆã‚¢ã‚·ã‚¹ãƒˆ ã¾ãšã¯ã€ãƒã‚°ãƒãƒƒãƒˆãŒå†…è”µã•ã‚Œã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚\nã“ã‚ŒãŒã‚ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€ã‚­ãƒ¥ãƒ¼ãƒ–ãŒä¸­é€”åŠç«¯ãªå ´æ‰€ã§æ­¢ã¾ã‚‹ã“ã¨ã‚’é˜²ã„ã§ã€ã‚½ãƒ«ãƒ“ãƒ³ã‚°ã®é€Ÿåº¦å‘ä¸Šã«è²¢çŒ®ã—ã¾ã™ã€‚\nãŸã ã—ã€ GAN354 M ã®ãƒã‚°ãƒãƒƒãƒˆã‚¢ã‚·ã‚¹ãƒˆã¯ å¼·ã™ããªã„ ã¨ã„ã†è©•ä¾¡ã§ã€å®Ÿéš›ã¾ã‚ã—ã¦ã¿ã¦ã‚‚ã€ãƒã‚°ãƒãƒƒãƒˆã®å¼·ã•ã¯ã‚ã¾ã‚Šæ„Ÿã˜ã¾ã›ã‚“ã§ã—ãŸã€‚ã¾ã‚ã€ãã‚Œã§ã‚‚ã‚¢ã‚·ã‚¹ãƒˆã•ã‚Œã¦ã‚‹æ„Ÿã¯å¤šå°‘ã‚ã£ã¦ã€ã¾ã•ã«ã¡ã‚‡ã†ã©ã„ã„æ„Ÿã˜ã§ã™ã€‚\nç¡¬ã•èª¿æ•´ ãƒ¡ã‚¬ãƒã‚¦ã‚¹ã®ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¼ãƒ–ã«ã‚‚èª¿æ•´æ©Ÿæ§‹ã¯ã¤ã„ã¦ã„ã¾ã—ãŸãŒã€ãã‚Œã‚ˆã‚Šã‚‚é«˜åº¦ãªèª¿æ•´ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nãƒ«ãƒ¼ãƒ“ãƒƒã‚¯ã‚­ãƒ¥ãƒ¼ãƒ–ã®ç¡¬ã•èª¿æ•´ã¨ã„ã£ã¦ã‚‚ä½•ã‚’ã©ã®ã‚ˆã†ã«èª¿æ•´ã™ã‚‹ã‹ã€ã‚ã¾ã‚Šãƒ”ãƒ³ã¨ã“ãªã„ã¨æ€ã„ã¾ã™ã€‚\nã‚­ãƒ¥ãƒ¼ãƒ–ã®å„é¢ã«ã‚ã‚‹ã‚»ãƒ³ã‚¿ãƒ¼ã‚­ãƒ¥ãƒ¼ãƒ–ã‚’é–‹ã‘ã‚‹ã¨ã€ GES ã¨å‘¼ã°ã‚Œã‚‹ãƒ‘ãƒ¼ãƒ„ãŒã¤ã„ã¦ãŠã‚Šã€ã“ã“ã‚’ç·©ã‚ãŸã‚Šç· ã‚ãŸã‚Šã™ã‚‹ã“ã¨ã§èª¿æ•´ã—ã¾ã™ã€‚ã“ã® GES è‡ªä½“ã«ã‚‚ç¡¬ã•ãŒã‚ã‚Šã€ GAN354 M ã«ã‚‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ + 3 ç¨®é¡ãŒä»˜å±ã—ã¦ã„ã¾ã™ã€‚\nã“ã®éƒ¨åˆ†ã‚’ç·©ã‚ã‚‹ã¨ã€ã‚­ãƒ¥ãƒ¼ãƒ–ãŒå›è»¢é€”ä¸­ã®çŠ¶æ…‹ã§ã‚ã£ã¦ã‚‚ç¸¦æ–¹å‘ã€æ¨ªæ–¹å‘ã«å›ã—ã‚„ã™ããªã‚‹ã¨ã„ã†ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚ãŒã€ãã®åˆ†ãƒãƒƒãƒ—ã—ã¦ (ã‚­ãƒ¥ãƒ¼ãƒ–ãŒæ•£ã‚‰ã°ã£ã¦) ã—ã¾ã†ã“ã¨ã‚‚å¤šããªã‚Šã¾ã™ã€‚\né€†ã«ç· ã‚ã‚‹ã¨ä¸­é€”åŠç«¯ãªçŠ¶æ…‹ã§ã®å›è»¢ã¯ã§ããªããªã‚Šã¾ã™ãŒã€ãã®åˆ†å®‰å®šæ„ŸãŒå¢—ã™ã®ã§ã‚¬ãƒ³ã‚¬ãƒ³å›ã™ã“ã¨ãŒã§ãã¾ã™ã€‚\nä¸€èˆ¬çš„ãªã‚­ãƒ¥ãƒ¼ãƒ–ã¨ã®æ¯”è¼ƒ ã“ã‚Œã¾ã§ã¯ãšã£ã¨ä¸€èˆ¬çš„ãªã‚­ãƒ¥ãƒ¼ãƒ–ã‚’ä½¿ã£ã¦ã„ãŸã®ã§ã€ãã‚Œã‚‰ã¨ã®æ¯”è¼ƒã§ã™ã€‚ã¾ãšã¯è¦‹ãŸç›®ã€‚\nå·¦ã‹ã‚‰ã€ãƒ¡ã‚¬ãƒã‚¦ã‚¹ã®ãƒ«ãƒ¼ãƒ“ãƒƒã‚¯ã‚­ãƒ¥ãƒ¼ãƒ–ã€ãƒ¡ã‚¬ãƒã‚¦ã‚¹ã®ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¼ãƒ–ã€ãã—ã¦ä»Šå›è²·ã£ãŸ GAN354 M ã§ã™ã€‚\nè‰²ãƒ»é…è‰² ã¾ãšãƒ‘ãƒƒãƒˆè¦‹ã§åˆ†ã‹ã‚‹ã®ã¯ã€è‰²ã¨é…è‰²ã§ã™ã­ã€‚\nGAN354 M ã¯ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ãƒ¬ã‚¹ã§ã€ãƒ‘ãƒ¼ãƒ„æœ¬ä½“ã«è‰²ãŒã¤ã„ã¦ã„ã¾ã™ã€‚ãã‚Œã‚‚è›å…‰è‰²ã£ã½ã„é®®ã‚„ã‹ãªè‰²ã§ã™ã€‚\nã¾ãŸã€å„é¢ã®é…è‰²ã‚‚å¾®å¦™ã«é•ã£ã¦ã„ã¾ã™ã€‚\nãƒ¡ã‚¬ãƒã‚¦ã‚¹ã®ã‚­ãƒ¥ãƒ¼ãƒ–ã¨æ¯”ã¹ã¦ã€ GAN354 M ã§ã¯ã€é’ã¨é»ƒã®é…ç½®ãŒé€†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nå¤§ãã• ãƒ¡ã‚¬ãƒã‚¦ã‚¹ã®ãƒ«ãƒ¼ãƒ“ãƒƒã‚¯ã‚­ãƒ¥ãƒ¼ãƒ–ã¯ã€ã©ã¡ã‚‰ã‚‚ã‚µã‚¤ã‚ºãŒ 57 mm ã€ä¸€æ–¹ GAN354 M ã¯ 54 mm ãªã®ã§ã€ãã®å·®ã¯ 3 mm ã§ã™ã€‚\nãŸã£ãŸ 3 mm ã§ã™ãŒã€æŒã£ãŸç¬é–“ã€ã¨ã„ã†ã‹è¦‹ãŸç›®ã‹ã‚‰ã‚‚ã†å¤§ãã•ãŒãœã‚“ãœã‚“é•ã†ã®ãŒã‚ã‹ã‚Šã¾ã™ã€‚\næœ€åˆã¯å¤§ãã•ã®å·®ã«æˆ¸æƒ‘ã„ã¾ã—ãŸãŒã€æ•°æ™‚é–“è§¦ã£ã¦ã„ã‚Œã°æ…£ã‚Œã¾ã™ã€‚\nå›è»¢ã®æ»‘ã‚‰ã‹ã• ã“ã‚Œã¯ã‹ãªã‚Šå·®ãŒå‡ºã¦ã¾ã™ã€‚\nãƒ¡ã‚¬ãƒã‚¦ã‚¹ã®ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¼ãƒ–ã‚ˆã‚Šã‚‚ç›¸å½“æ»‘ã‚‰ã‹ã«å‹•ãã¾ã™ã€‚\nãƒã‚°ãƒãƒƒãƒˆã‚¢ã‚·ã‚¹ãƒˆã®æ©æµã‚‚ã‚ã‚Šã€ã‹ãªã‚ŠãƒŒãƒ«ãƒŒãƒ«å‹•ãã®ã§æ…£ã‚Œã‚‹ã¾ã§ã¯å›ã—ã«ãã„ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚ãŒã€æ…£ã‚Œã‚Œã°éå¸¸ã«å¼·ã„å‘³æ–¹ã§ã™ã€‚\nã‚¿ã‚¤ãƒ ã¯æ—©ããªã£ãŸã®ã‹ ã“ã“ã¾ã§ GAN354 M ã®ç‰¹å¾´ã€ä¸€èˆ¬çš„ãªã‚­ãƒ¥ãƒ¼ãƒ–ã¨ã®é•ã„ã‚’æ›¸ã„ã¦ãã¾ã—ãŸãŒã€çµå±€ã®ã¨ã“ã‚ã‚¿ã‚¤ãƒ ãŒç¸®ã¾ã£ãŸã®ã‹ã¨ã„ã†ç‚¹ãŒä¸€ç•ªæ°—ã«ãªã‚‹ã¨ã“ã‚ã§ã™ã€‚\nå†’é ­ã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€ç§ã®å¹³å‡ã‚¿ã‚¤ãƒ ã¯ 55 ç§’ãã‚‰ã„ã§ã—ãŸãŒã€ GAN354 M ã‚’ä½¿ã£ãŸçµæœã€å¹³å‡ã‚¿ã‚¤ãƒ ã¯ 50 ç§’å¼± ã«ã€ ç´„ 5 ç§’ç¸®ã¾ã‚Šã¾ã—ãŸã€‚\nã¾ãŸã€ã“ã‚Œã¾ã§ã¯ 40 ç§’å°ã¯ãŸã¾ã«å‡ºã‚‹ãã‚‰ã„ã ã£ãŸã®ãŒã€ GAN354 M ã«ã—ã¦ã‹ã‚‰ã¯ 40 ç§’å°ãŒå‡ºã‚‹å›æ•°ãŒæ ¼æ®µã«å¢—ãˆã¾ã—ãŸã€‚\nç«¶æŠ€ç”¨ã‚­ãƒ¥ãƒ¼ãƒ–ã¨ã„ã†ã¨ã¡ã‚‡ã£ã¨æ•·å±…ã¯é«˜ãæ„Ÿã˜ã¾ã™ãŒã€ã‚ã¨ã‹ã‚‰ç«¶æŠ€ç”¨ã«å¤‰ãˆã‚‹ã¨æ…£ã‚Œã‚‹ã¾ã§æ™‚é–“ãŒã‹ã‹ã‚‹ã¨æ€ã†ã®ã§ã€æœ€åˆã‹ã‚‰ç«¶æŠ€ç”¨ã‚­ãƒ¥ãƒ¼ãƒ–ã‚’ä½¿ã†ã®ã‚‚å…¨ç„¶ã‚ã‚Šã ã¨æ€ã„ã¾ã—ãŸã€‚\nä»Šå¾Œã‚‚å°‘ã—ãšã¤æ…£ã‚Œã¦ã„ã£ã¦ã€ã‚¿ã‚¤ãƒ å‘ä¸Šç›®æŒ‡ã—ã¦é ‘å¼µã‚ŠãŸã„ã¨æ€ã„ã¾ã™ã€‚\nè¿½åŠ ã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’æ›¸ãã¾ã—ãŸã€‚\nGES ã®è¨­å®šã«ã¤ã„ã¦ã‚‚æ›¸ã„ã¦ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/other-rubics-gan354m/",
    "title": "é«˜è©•ä¾¡ã®ç«¶æŠ€ç”¨ã‚­ãƒ¥ãƒ¼ãƒ– GAN354 M ã‚’è²·ã£ã¦ã¿ãŸ"
  },
  {
    "contents": "å€‹äººçš„ã«ä½¿ã£ã¦ã„ã‚‹ Web ã‚µãƒ¼ãƒ“ã‚¹ã‚„è¦æ¨¡ã®å°ã•ã„ã‚µãƒ¼ãƒ“ã‚¹ã§ã¯ git pull ã§ãƒªãƒªãƒ¼ã‚¹ã—ã¦ã„ã‚‹å ´åˆã‚‚ã‚ã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚ã‚ã–ã‚ã– ssh ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ git pull ã™ã‚‹ã®ã¯é¢å€’ãªã®ã§ã€ CodePipeline ã¨ Systems Manager Run Command ã‚’ä½¿ã£ã¦è‡ªå‹•åŒ–ã—ã¦ã¿ã¾ã™ã€‚\nSystems Manager Run Command ã¨ã¯ AWS Systems Manager Run Command ã§ã¯ã€ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®è¨­å®šã‚’ãƒªãƒ¢ãƒ¼ãƒˆã‹ã¤å®‰å…¨ã«ç®¡ç†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ã€Systems Manager ã®ãŸã‚ã«è¨­å®šã•ã‚ŒãŸãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ç’°å¢ƒã® Amazon EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¾ãŸã¯ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§ã™ã€‚\nAWS Systems Manager Run Command ã¨ã‚ã‚Šã¾ã™ãŒã€ä»Šå›ã¯ã€ EC2 å†…ã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ ã¨ã„ã†ä½¿ã„æ–¹ã‚’ã—ã¾ã™ã€‚\nã‚„ã‚‹ã“ã¨ å¯¾è±¡ã® EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã« SSM ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ å¯¾è±¡ã® EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã€å¿…è¦ãª IAM ãƒ­ãƒ¼ãƒ«ã‚’å‰²ã‚Šå½“ã¦ã‚‹ Run Command ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã® Lambda é–¢æ•°ã‚’å®Ÿè£…ã™ã‚‹ CodePipeline ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ä½œæˆã™ã‚‹ 1. å¯¾è±¡ã® EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã« SSM ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ ä»Šå›ã®å¯¾è±¡ã¯ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ã€ OS ã¯ Amazon Linux ã§ã™ã€‚\nä¸‹è¨˜ã®æ‰‹é †ã§ SSM ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\nä¸€æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã€ç§»å‹•\n$ mkdir /tmp/ssm $ cd /tmp/ssm SSM ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n$ sudo yum install -y https://s3.amazonaws.com/ec2-downloads-windows/SSMAgent/latest/linux_amd64/amazon-ssm-agent.rpm SSM ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèª\n$ sudo status amazon-ssm-agent èµ·å‹•ã—ã¦ã„ãªã„å ´åˆã¯ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§èµ·å‹•ã—ã¾ã™ã€‚\n$ sudo start amazon-ssm-agent ä»–ã®ç’°å¢ƒã€OS ã®å ´åˆã«ã¤ã„ã¦ã¯å…¬å¼ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚\nSSM ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—è¨­å®šã™ã‚‹ 2. å¯¾è±¡ã® EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã€å¿…è¦ãª IAM ãƒ­ãƒ¼ãƒ«ã‚’å‰²ã‚Šå½“ã¦ã‚‹ å¯¾è±¡ã¨ãªã‚‹ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã¯ã€ AmazonEC2RoleforSSM ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã—ãŸãƒ­ãƒ¼ãƒ«ã‚’å‰²ã‚Šå½“ã¦ã¾ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;ssm:DescribeAssociation\u0026#34;, \u0026#34;ssm:GetDeployablePatchSnapshotForInstance\u0026#34;, \u0026#34;ssm:GetDocument\u0026#34;, \u0026#34;ssm:GetManifest\u0026#34;, \u0026#34;ssm:GetParameters\u0026#34;, \u0026#34;ssm:ListAssociations\u0026#34;, \u0026#34;ssm:ListInstanceAssociations\u0026#34;, \u0026#34;ssm:PutInventory\u0026#34;, \u0026#34;ssm:PutComplianceItems\u0026#34;, \u0026#34;ssm:PutConfigurePackageResult\u0026#34;, \u0026#34;ssm:UpdateAssociationStatus\u0026#34;, \u0026#34;ssm:UpdateInstanceAssociationStatus\u0026#34;, \u0026#34;ssm:UpdateInstanceInformation\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;ssmmessages:CreateControlChannel\u0026#34;, \u0026#34;ssmmessages:CreateDataChannel\u0026#34;, \u0026#34;ssmmessages:OpenControlChannel\u0026#34;, \u0026#34;ssmmessages:OpenDataChannel\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;ec2messages:AcknowledgeMessage\u0026#34;, \u0026#34;ec2messages:DeleteMessage\u0026#34;, \u0026#34;ec2messages:FailMessage\u0026#34;, \u0026#34;ec2messages:GetEndpoint\u0026#34;, \u0026#34;ec2messages:GetMessages\u0026#34;, \u0026#34;ec2messages:SendReply\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;cloudwatch:PutMetricData\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;ec2:DescribeInstanceStatus\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;ds:CreateComputer\u0026#34;, \u0026#34;ds:DescribeDirectories\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;logs:CreateLogGroup\u0026#34;, \u0026#34;logs:CreateLogStream\u0026#34;, \u0026#34;logs:DescribeLogGroups\u0026#34;, \u0026#34;logs:DescribeLogStreams\u0026#34;, \u0026#34;logs:PutLogEvents\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;s3:GetBucketLocation\u0026#34;, \u0026#34;s3:PutObject\u0026#34;, \u0026#34;s3:GetObject\u0026#34;, \u0026#34;s3:GetEncryptionConfiguration\u0026#34;, \u0026#34;s3:AbortMultipartUpload\u0026#34;, \u0026#34;s3:ListMultipartUploadParts\u0026#34;, \u0026#34;s3:ListBucket\u0026#34;, \u0026#34;s3:ListBucketMultipartUploads\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; } ] } 3. Run Command ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã® Lambda é–¢æ•°ã‚’å®Ÿè£…ã™ã‚‹ ãƒ©ãƒ³ã‚¿ã‚¤ãƒ  : Python 3.6\nå®Ÿè¡Œãƒ­ãƒ¼ãƒ« : ä¸‹è¨˜ã®ã‚ˆã†ãªãƒãƒªã‚·ãƒ¼ã‚’ä½œæˆã—ã¦ã€ãƒ­ãƒ¼ãƒ«ã«ã‚¢ã‚¿ãƒƒãƒã—ã¾ã™\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;VisualEditor0\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;logs:CreateLogStream\u0026#34;, \u0026#34;logs:PutLogEvents\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:logs:*:*:*\u0026#34; }, { \u0026#34;Sid\u0026#34;: \u0026#34;VisualEditor1\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;codepipeline:ListPipelineExecutions\u0026#34;, \u0026#34;codepipeline:PutJobFailureResult\u0026#34;, \u0026#34;codepipeline:PutJobSuccessResult\u0026#34;, \u0026#34;ssm:*\u0026#34;, \u0026#34;ec2:*\u0026#34;, \u0026#34;codepipeline:GetPipelineExecution\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; }, { \u0026#34;Sid\u0026#34;: \u0026#34;VisualEditor2\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: \u0026#34;logs:CreateLogGroup\u0026#34;, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:logs:*:*:*\u0026#34; } ] } å®Ÿéš›ã®ã‚½ãƒ¼ã‚¹ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\nimport boto3 import json import logging import os import traceback from base64 import b64decode from urllib.request import Request, urlopen from urllib.error import URLError, HTTPError from datetime import datetime SLACK_CHANNEL = \u0026#39;channel_name\u0026#39; TARGET_INSTANCE_ID = \u0026#39;{å¯¾è±¡ã® EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ ID}\u0026#39; PIPELINE_NAME = \u0026#39;laravel-deploy-pl\u0026#39; HOOK_URL = \u0026#39;https://hooks.slack.com/services/*********\u0026#39; pipeline = boto3.client(\u0026#39;codepipeline\u0026#39;) logger = logging.getLogger() logger.setLevel(logging.INFO) def lambda_handler(event, context): job_id = event[\u0026#34;CodePipeline.job\u0026#34;][\u0026#34;id\u0026#34;] try: ec2 = boto3.client(\u0026#39;ec2\u0026#39;) ssm = boto3.client(\u0026#39;ssm\u0026#39;) job_id = event[\u0026#34;CodePipeline.job\u0026#34;][\u0026#34;id\u0026#34;] target_content_info = get_content_info() if target_content_info[\u0026#39;can_deploy\u0026#39;] != True: print(\u0026#39;Nothing to do.\u0026#39;) put_job_failer(job_id, \u0026#39;This pipeline Not in progress.\u0026#39;) return {\u0026#39;status\u0026#39;: 200} cmd_res = ssm.send_command( InstanceIds = [TARGET_INSTANCE_ID], DocumentName = \u0026#34;AWS-RunShellScript\u0026#34;, Parameters = { \u0026#34;commands\u0026#34;: [ \u0026#34;cd /var/www/laravel-test\u0026#34;, \u0026#34;git pull origin master:master\u0026#34;, \u0026#34;/usr/local/bin/composer install\u0026#34;, \u0026#34;php artisan migrate\u0026#34;, \u0026#34;php artisan cache:clear\u0026#34;, \u0026#34;php artisan view:clear\u0026#34; ], \u0026#34;executionTimeout\u0026#34;: [\u0026#34;3600\u0026#34;] }, ) if cmd_res[\u0026#39;ResponseMetadata\u0026#39;][\u0026#39;HTTPStatusCode\u0026#39;] != 200: print(\u0026#39;Failed to execute ssm.send_command().\u0026#39;) put_job_failer(job_id, \u0026#39;Some errors occered in execution ssm.send_command().\u0026#39;) return {\u0026#39;status\u0026#39;: 200} put_job_success(job_id, target_content_info[\u0026#39;message_for_slack\u0026#39;]) except Exception: print(traceback.format_exc()) put_job_failer(job_id, traceback.format_exc()) return {\u0026#39;status\u0026#39;: 500} \u0026#34;\u0026#34;\u0026#34; for CodePipeline. To get target content info in current execution pipeline. \u0026#34;\u0026#34;\u0026#34; def get_content_info(): try: exe_pipelines = pipeline.list_pipeline_executions(pipelineName=PIPELINE_NAME, maxResults=1) exe_pipeline = exe_pipelines[\u0026#39;pipelineExecutionSummaries\u0026#39;][0] exe_id = exe_pipeline[\u0026#39;pipelineExecutionId\u0026#39;] exe_detail = pipeline.get_pipeline_execution(pipelineName=PIPELINE_NAME, pipelineExecutionId=exe_id) print(exe_detail) exe_status = exe_pipeline[\u0026#39;status\u0026#39;] git_summary = { \u0026#39;revision_id\u0026#39;: exe_pipeline[\u0026#39;sourceRevisions\u0026#39;][0][\u0026#39;revisionId\u0026#39;], \u0026#39;commit_message\u0026#39; : exe_pipeline[\u0026#39;sourceRevisions\u0026#39;][0][\u0026#39;revisionSummary\u0026#39;], \u0026#39;revision_url\u0026#39; : exe_pipeline[\u0026#39;sourceRevisions\u0026#39;][0][\u0026#39;revisionUrl\u0026#39;], \u0026#39;message_for_slack\u0026#39; : \u0026#34;Commit \u0026lt;{}|{}\u0026gt; \\n{}\u0026#34;.format( exe_pipeline[\u0026#39;sourceRevisions\u0026#39;][0][\u0026#39;revisionUrl\u0026#39;], exe_pipeline[\u0026#39;sourceRevisions\u0026#39;][0][\u0026#39;revisionId\u0026#39;], exe_pipeline[\u0026#39;sourceRevisions\u0026#39;][0][\u0026#39;revisionSummary\u0026#39;] ) } if exe_status == \u0026#39;InProgress\u0026#39;: git_summary.update({\u0026#39;can_deploy\u0026#39;: True}) else: git_summary.update({\u0026#39;can_deploy\u0026#39;: False}) print(\u0026#39;Current pipeline has finished with status {}\u0026#39;.format(exe_status)) return git_summary except Exception as e: raise e \u0026#34;\u0026#34;\u0026#34; for CodePipeline. To finish lambda function with status \u0026#34;SUCCESS\u0026#34;. \u0026#34;\u0026#34;\u0026#34; def put_job_success(job_id, message): try: pipeline = boto3.client(\u0026#39;codepipeline\u0026#39;) pipeline.put_job_success_result( jobId=job_id, currentRevision={ \u0026#39;revision\u0026#39;: \u0026#39;revision_string\u0026#39;, \u0026#39;changeIdentifier\u0026#39;: \u0026#39;changeIdentifier_string\u0026#39; } ) post_to_slack(message) except Exception: print(traceback.format_exc()) post_to_slack(traceback.format_exc(), False) \u0026#34;\u0026#34;\u0026#34; for CodePipeline. To finish lambda function with status \u0026#34;FAILER\u0026#34;. \u0026#34;\u0026#34;\u0026#34; def put_job_failer(job_id, message): try: pipeline = boto3.client(\u0026#39;codepipeline\u0026#39;) pipeline.put_job_failure_result( jobId=job_id, failureDetails={ \u0026#39;type\u0026#39;: \u0026#39;JobFailed\u0026#39;, \u0026#39;message\u0026#39;: message } ) post_to_slack(message, False) except Exception: print(traceback.format_exc()) post_to_slack(traceback.format_exc(), False) \u0026#34;\u0026#34;\u0026#34; for notification. To post message with attachments to Slack. \u0026#34;\u0026#34;\u0026#34; def post_to_slack(message, is_ok=True): status = \u0026#39;ok\u0026#39; state_color = \u0026#39;#00FF00\u0026#39; icon_emoji = \u0026#39;:codepipeline:\u0026#39; author_name = \u0026#39;CodePipeline\u0026#39; if is_ok != True: status = \u0026#39;ng\u0026#39; state_color = \u0026#39;#FF0000\u0026#39; title = \u0026#39;deploy test [{}]\u0026#39;.format(status) slack_message = { \u0026#39;channel\u0026#39;: SLACK_CHANNEL, \u0026#39;icon_emoji\u0026#39;: icon_emoji, \u0026#39;attachments\u0026#39;: [ { \u0026#39;author_name\u0026#39;: author_name, \u0026#39;title\u0026#39;: title, \u0026#39;color\u0026#39;: state_color, \u0026#39;fields\u0026#39;: [ { \u0026#39;value\u0026#39;: message } ] } ] } req = Request(HOOK_URL, json.dumps(slack_message).encode(\u0026#39;utf-8\u0026#39;)) try: response = urlopen(req) response.read() logger.info(\u0026#34;Message posted to %s\u0026#34;, slack_message[\u0026#39;channel\u0026#39;]) except HTTPError as e: logger.error(\u0026#34;Request failed: %d %s\u0026#34;, e.code, e.reason) except URLError as e: logger.error(\u0026#34;Server connection failed: %s\u0026#34;, e.reason) é•·ã€…ã¨æ›¸ã„ã¦ã‚ã‚Šã¾ã™ãŒã€ Run Command ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã®ã¯ä¸‹è¨˜ã®éƒ¨åˆ†ã§ã™ã€‚\ncmd_res = ssm.send_command( InstanceIds = [TARGET_INSTANCE_ID], DocumentName = \u0026#34;AWS-RunShellScript\u0026#34;, Parameters = { \u0026#34;commands\u0026#34;: [ \u0026#34;cd /var/www/laravel-test\u0026#34;, \u0026#34;git pull origin master:master\u0026#34;, \u0026#34;/usr/local/bin/composer install\u0026#34;, \u0026#34;php artisan migrate\u0026#34;, \u0026#34;php artisan cache:clear\u0026#34;, \u0026#34;php artisan view:clear\u0026#34; ], \u0026#34;executionTimeout\u0026#34;: [\u0026#34;3600\u0026#34;] }, ) å¯¾è±¡ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ ID ã®ãƒªã‚¹ãƒˆã¨ã€å®Ÿè¡Œã—ãŸã„ã‚³ãƒãƒ³ãƒ‰ã‚’ãƒªã‚¹ãƒˆã§æŒ‡å®šã—ã¾ã™ã€‚\nä»Šå›ã¯å¯¾è±¡ãŒ Laravel ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãªã®ã§ã€ git pull ã—ãŸã‚ã¨ã« DB ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å‰Šé™¤ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚\nå®Ÿè¡Œçµæœã¯ Slack ã«é€šçŸ¥ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¦ã€å®Ÿéš›ã®é€šçŸ¥ã¯ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™ã€‚\nã¡ãªã¿ã« Slack ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚¢ã‚¤ã‚³ãƒ³ã¨ã—ã¦ :codepipeline: ã®åå‰ã§ CodePipeline ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ç™»éŒ²ã—ã¦ã„ã¾ã™ã€‚(ãã‚Œã£ã½ãã—ãŸã‹ã£ãŸ)\n4. CodePipeline ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ä½œæˆã™ã‚‹ æœ€å¾Œã«ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰ã® git push ã‚’æ¤œçŸ¥ã—ã¦ã€ä¸Šè¨˜ã® Lambda ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã®ãƒ•ãƒ­ãƒ¼ã‚’ CodePipeline ã§ä½œæˆã—ã¾ã™ã€‚\næ§‹æˆã¯ä¸‹å›³ã®ã¨ãŠã‚Šã§ã™ã€‚\nSource ã¾ãšã€€Srouce ã‚¹ãƒ†ãƒ¼ã‚¸ã§ã™ãŒã€ã“ã“ã¯ git ãƒªãƒã‚¸ãƒˆãƒªã®æƒ…å ±ã‚’è¨­å®šã—ã¾ã™ã€‚\nä»Šå›ã¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ãƒã‚¤ãƒ€ã« Github ã‚’æŒ‡å®šã€ç›£è¦–ã™ã‚‹ãƒ–ãƒ©ãƒ³ãƒã‚’ mater ã§æŒ‡å®šã—ã¾ã—ãŸã€‚\nStaging åå‰ã¯ Staging ã¨ãªã£ã¦ã„ã¾ã™ãŒã€ã“ã“ã¯é©å®œå¤‰æ›´ã—ã¦ãã ã•ã„ã€‚\nã‚„ã£ã¦ã„ã‚‹å†…å®¹ã¯ã€ä¸Šã§å®Ÿè£…ã—ãŸ Lambda é–¢æ•°ã‚’å‘¼ã‚“ã§ã„ã‚‹ã ã‘ã§ã™ã€‚\næ³¨æ„ç‚¹ æ–°ãŸã«ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ä½œæˆã™ã‚‹ã¨ãã«ã¯ã€Build ã¾ãŸã¯ Deploy ã®ã‚¹ãƒ†ãƒ¼ã‚¸ã‚’å¿…ãšå…¥ã‚Œã‚‹å¿…è¦ãŒã‚ã‚Šã€ãã®è¨­å®šç”»é¢ã§ã¯ Lambda ã‚’é¸æŠã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã›ã‚“ã€‚\nãªã®ã§ã€ä¸€æ—¦ãƒ€ãƒŸãƒ¼ã®ãƒ“ãƒ«ãƒ‰/ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ CodeBuild/CodeDeploy ã§ä½œæˆã—ã¦ãŠã„ã¦ã€ãã‚Œã‚’æŒ‡å®šã—ã¦ãŠãã¾ã™ã€‚\nãã®å¾Œã€ä¸è¦ãªã‚¹ãƒ†ãƒ¼ã‚¸ã‚’å‰Šé™¤ã—ã¦ã€ Lambda å‘¼ã³å‡ºã—ã®ã‚¹ãƒ†ãƒ¼ã‚¸ã‚’è¿½åŠ ã™ã‚‹ ã¨ã„ã†æ‰‹é †ã«ãªã‚Šã¾ã™ã€‚\nã¾ã¨ã‚ ä»¥ä¸Šã€Systems Manager Run Command ã‚’ä½¿ã£ã¦ EC2 ã« web ã‚µãƒ¼ãƒ“ã‚¹ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã§ã—ãŸã€‚\nå¤–ã‹ã‚‰ä»»æ„ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã§ãã‚‹ã¨ã„ã†ã“ã¨ã¯ã€ã“ã‚Œã¾ãŸä½•ã§ã‚‚å‡ºæ¥ã¦ã—ã¾ã†ã¨æ€ã†ã®ã§ã€ä¾‹ãˆã° yum ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¨ã‹ã‚‚è‡ªå‹•ã§å‡ºæ¥ã‚‹ã‹ãªã¨æ€ã„ã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/aws-deploy-using-run-command/",
    "title": "AWS Systems Manager Run Command ã‚’ä½¿ã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ã‚‹"
  },
  {
    "contents": "CloudFront + S3 ã§æ§‹ç¯‰ã—ãŸãƒšãƒ¼ã‚¸ã« Basic èªè¨¼ã‚’ã‹ã‘ãŸã„å ´é¢ãŒå‡ºã¦ããŸã®ã§èª¿ã¹ã¦ã¿ã‚‹ã¨ã€ç‰¹ã«é›£ã—ã„ã“ã¨ã‚’ã™ã‚‹å¿…è¦ãªãå®Ÿè£…ã§ããã†ã§ã—ãŸã€‚ä»Šå›ã¯ãã®ä½œæ¥­ãƒ¡ãƒ¢ã§ã™ã€‚\næ¦‚è¦ å†’é ­ã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€ã€€CloudFront + S3 ã§æ§‹ç¯‰ã—ã¦å…¬é–‹ã—ã¦ã„ã‚‹ãƒšãƒ¼ã‚¸ã®ã€ç‰¹å®šã®ãƒ‘ã‚¹ã«å¯¾ã—ã¦ Basic èªè¨¼ã‚’ã‹ã‘ã¾ã™ã€‚ ä»Šå›ã¯ã€ã“ã®ãƒ–ãƒ­ã‚°ã® /about/ ã« Basic èªè¨¼ã‚’ã‹ã‘ã‚‹ã¨æƒ³å®šã—ã¾ã™ã€‚\nã‚„ã‚‹ã“ã¨ Lambda ã§ Basic èªè¨¼ç”¨ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆ CloudFront ã§ /about/* ã®ãƒ‘ã‚¹å®›ã« Behavior ã‚’ä½œæˆã™ã‚‹ ã“ã‚Œã¯ CloudFront ã® Lambda@Edge ã¨ã„ã†æ©Ÿèƒ½ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚\nLambda@Edge -ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¿‘ã„ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œ- 1. Lambda ã§ Basic èªè¨¼ç”¨ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆ ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ ãƒãƒ¼ã‚¸ãƒ‹ã‚¢åŒ—éƒ¨ (us-east-1) ã«ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å³ä¸Šã‹ã‚‰ã€ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å¤‰æ›´ã—ã¦ãŠãã¾ã™ã€‚\nLambda ã¯ä¸‹è¨˜ã®è¦é ˜ã§ä½œæˆã—ã¾ã™ã€‚\nåå‰: CFBasicAuthenticattion (ä»»æ„) ãƒ©ãƒ³ã‚¿ã‚¤ãƒ  : Node.js 8.10 ãƒ­ãƒ¼ãƒ« : 1 ã¤ä»¥ä¸Šã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰æ–°ã—ã„ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ ãƒ­ãƒ¼ãƒ«å : lambda_edge_exection (ä»»æ„) ãƒãƒªã‚·ãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ : åŸºæœ¬çš„ãª Lambda@Edge ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ lmakarov/lambda-basic-auth.js ã‚’ä½¿ã„ã¾ã™ã€‚\n\u0026#39;use strict\u0026#39;; exports.handler = (event, context, callback) =\u0026gt; { // Get request and request headers const request = event.Records[0].cf.request; const headers = request.headers; // Configure authentication const authUser = \u0026#39;user\u0026#39;; const authPass = \u0026#39;pass\u0026#39;; // Construct the Basic Auth string const authString = \u0026#39;Basic \u0026#39; + new Buffer(authUser + \u0026#39;:\u0026#39; + authPass).toString(\u0026#39;base64\u0026#39;); // Require Basic authentication if (typeof headers.authorization == \u0026#39;undefined\u0026#39; || headers.authorization[0].value != authString) { const body = \u0026#39;Unauthorized\u0026#39;; const response = { status: \u0026#39;401\u0026#39;, statusDescription: \u0026#39;Unauthorized\u0026#39;, body: body, headers: { \u0026#39;www-authenticate\u0026#39;: [{key: \u0026#39;WWW-Authenticate\u0026#39;, value:\u0026#39;Basic\u0026#39;}] }, }; callback(null, response); } // Continue request processing if authentication passed callback(null, request); }; ä¸‹è¨˜ã®éƒ¨åˆ†ã‚’ã€Basic èªè¨¼ã®ãƒ¦ãƒ¼ã‚¶ãƒ»ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«æ›¸ãæ›ãˆã¾ã™ã€‚\n// Configure authentication const authUser = \u0026#39;user\u0026#39;; const authPass = \u0026#39;pass\u0026#39;; å³ä¸Šã® [ä¿å­˜] ã‚’æŠ¼ã—ã¦ã€ãã®æ¨ªã«ã‚ã‚‹ [ã‚¢ã‚¯ã‚·ãƒ§ãƒ³] ã‹ã‚‰ æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç™ºè¡Œ ã—ã¾ã™ã€‚\nã™ã‚‹ã¨ã€å³ä¸Šã® ARN ãŒæœ«å°¾ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ãŒã¤ã„ãŸã‚‚ã®ã«ãªã‚‹ã®ã§ã€ã‚³ãƒ”ãƒ¼ã—ã¦ãŠãã¾ã™ã€‚\n2. CloudFront ã§ /about/* ã®ãƒ‘ã‚¹å®›ã« Behavior ã‚’ä½œæˆã™ã‚‹ CloudFront ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§è©²å½“ã® Distribution ã‚’é¸æŠã—ã¦ã€ Behaviors ã®ã‚¿ãƒ–ã‹ã‚‰ [Create Behavior] ã‚’æŠ¼ã—ã¦æ–°ã—ã„ Behavior ã‚’ä½œã‚Šã¾ã™ã€‚\nPath Pattern ã«ã¯ã€Basic èªè¨¼ã‚’ã‹ã‘ãŸã„ãƒ‘ã‚¹ã‚’å…¥åŠ›ã—ã¾ã™ã€‚ä»Šå›ã¯ /about/ ä»¥ä¸‹ãŒå¯¾è±¡ãªã®ã§ã€ /about/* ã¨å…¥åŠ›ã—ã¾ã™ã€‚\né€”ä¸­ã®è¨­å®šã¯é©å®œå¿…è¦ãªå€¤ã«è¨­å®šã—ã¦ã€ä¸€ç•ªä¸‹ã«ã‚ã‚‹ Lambda Function Associations ã§ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®æŒ™å‹•ã‚’è¨­å®šã—ã¾ã™ã€‚\nCloudFront Event ã¯ã€ãƒ¦ãƒ¼ã‚¶ãŒã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã¨ããªã®ã§ Viewer Request ã‚’é¸æŠã€ ARN ã«ã¯ã€å…ˆç¨‹ã‚³ãƒ”ãƒ¼ã—ãŸ Lambda ã® ARN (arn:aws:lambda...) ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\nã“ã®å†…å®¹ã§ Behavior ã‚’ä½œæˆã—ãŸã‚‰ã€å¯¾è±¡ã¨ãªã‚‹ãƒ‘ã‚¹ã«å¯¾ã—ã¦ Invalidation ã‚’ç™ºè¡Œã—ã¦ã€è¨­å®šã¯å®Œäº†ã§ã™ã€‚\nä»Šå›ã¯ Lambda@Edge ã§ Basic èªè¨¼ã‚’å®Ÿè£…ã—ã¾ã—ãŸãŒã€ Lambda ãŒå‘¼ã¹ã‚‹ã¨ã„ã†ã“ã¨ã¯ä½•ã§ã‚‚ã§ãã‚‹ã¨ã„ã†ã“ã¨ãªã®ã§ã€è‰²ã€…ä½¿ã„ã¿ã¡ãŒã‚ã‚Šãã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-cloudfront-basic-auth/",
    "title": "CloudFront + S3 ã§æ§‹ç¯‰ã—ãŸãƒšãƒ¼ã‚¸ã« Basic èªè¨¼ã‚’ã‹ã‘ã‚‹"
  },
  {
    "contents": "ãƒ«ãƒ¼ãƒ“ãƒƒã‚¯ã‚­ãƒ¥ãƒ¼ãƒ–ã«ã¯å›½å†…å¤–ã§å¤§ä¼šãŒé–‹å‚¬ã•ã‚Œã¦ã„ã¦ã€ãŸã¾ã«ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚„ãƒãƒ©ã‚¨ãƒ†ã‚£ãƒ¼ã§ãã®æ˜ åƒã‚’è¦‹ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚\nã§ã‚‚å®Ÿéš›ã«ã©ã“ã§ã‚„ã£ã¦ã„ã‚‹ã®ã‹ã¨ã‹ã€ã©ã†ã‚„ã£ãŸã‚‰å‚åŠ ã§ãã‚‹ã®ã‹ã¨ã‹ã€å…¨ãã‚ã‹ã‚‰ãªã‹ã£ãŸã®ã§èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚\nä¸»å‚¬ã¯æ—¥æœ¬ãƒ«ãƒ¼ãƒ“ãƒƒã‚¯ã‚­ãƒ¥ãƒ¼ãƒ–å”ä¼š å›½å†…ã§é–‹å‚¬ã•ã‚Œã‚‹å¤§ä¼šã¯ã€æœ‰å¿—ã®ãƒ¡ãƒ³ãƒãƒ¼ã§æ§‹æˆã•ã‚Œã‚‹ \u0026lt;strong\u0026gt;æ—¥æœ¬ãƒ«ãƒ¼ãƒ“ãƒƒã‚¯ã‚­ãƒ¥ãƒ¼ãƒ–å”ä¼š (JRCA)\u0026lt;/strong\u0026gt; ãŒä¸»å‚¬ã—ã¦ã„ã¾ã™ã€‚\nå¤§ä¼šã¯å…¨å›½å„åœ°ã§é–‹å‚¬ã•ã‚Œã¦ãŠã‚Šã€å¤§ä¼šä»¥å¤–ã«ã‚‚è¨˜éŒ²ä¼šã‚„è¬›ç¿’ä¼šã€å®šä¾‹ä¼š (ã‚ªãƒ•ä¼š) ãªã©ã‚‚å®šæœŸçš„ã«é–‹ã‹ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚\nJRCA ãŒä¸»å‚¬ã¨ãªã£ã¦é–‹å‚¬ã•ã‚Œã‚‹å¤§ä¼šã¯ \u0026lt;strong\u0026gt;World Cube Association\u0026lt;/strong\u0026gt; ã®è¦ç´„ã«å‰‡ã£ã¦ã„ã‚‹ãŸã‚ã€ãã“ã§å‡ºãŸè¨˜éŒ²ã¯å›½å†…å…¬å¼è¨˜éŒ²ã§ã‚ã‚Šã€ä¸–ç•Œå…¬å¼è¨˜éŒ²ã¨ã—ã¦æ®‹ã‚Šã¾ã™ã€‚\nå¤§ä¼šã®ãƒ«ãƒ¼ãƒ« ã¨ã‚Šã‚ãˆãšçŸ­ã„æ™‚é–“ã§å®Œæˆã•ã›ã‚‹ ã¨ã„ã†ã“ã¨ã¯é–“é•ã„ãªã„ã®ã§ã™ãŒã€ãã‚Œä»¥å¤–ã®è©³ç´°ã«ã¤ã„ã¦ã‚‚èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚\nä½¿ç”¨ã™ã‚‹ãƒ‘ã‚ºãƒ« å¤§ä¼šã§ä½¿ç”¨ã™ã‚‹ãƒ‘ã‚ºãƒ« (ã‚­ãƒ¥ãƒ¼ãƒ–) ã«ã¤ã„ã¦ã¯ã€æ¬¡ã®ã‚ˆã†ãªæ±ºã¾ã‚ŠãŒã‚ã‚Šã¾ã™ã€‚\nä½¿ç”¨ã™ã‚‹ãƒ‘ã‚ºãƒ«ã¯ç«¶æŠ€è€…æœ¬äººãŒæº–å‚™ã™ã‚‹ ãƒ‘ã‚ºãƒ«ã¯è‰²ä»˜ãã§ã€ã™ã¹ã¦ã®é¢ãŒé•ã†è‰²ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„ å„é¢ã§å‡¹å‡¸ã‚„ç´ æã®é•ã„ãŒã‚ã£ã¦ã¯ãªã‚‰ãªã„ å…¨ã¦ã®ãƒ–ãƒ©ãƒ³ãƒ‰ã®ãƒ‘ã‚ºãƒ«ã‚„ãƒ‘ã‚ºãƒ«ã®ãƒ‘ãƒ¼ãƒ„ã‚’ä½¿ã†ã“ã¨ãŒã§ãã‚‹ ã–ã£ãã‚Šã¨ã¯ä¸Šè¨˜ã®ã‚ˆã†ãªæ±ºã¾ã‚Šã§ã™ãŒã€å¾Œè¿°ã™ã‚‹ç¨®ç›®ã«ã‚ˆã£ã¦åˆ¶é™ã•ã‚Œã‚‹é …ç›®ã‚‚ã‚ã‚Šã¾ã™ã€‚\nä¾‹ãˆã°ã€ å„é¢ã§å‡¹å‡¸ã‚„ç´ æã®é•ã„ãŒã‚ã£ã¦ã¯ãªã‚‰ãªã„ ã¨ã‚ã‚Šã¾ã™ãŒã€é€šå¸¸ã® 3x3x3 ã®ã‚ˆã†ãªç¨®ç›®ã§ã¯ã€ãƒ­ã‚´ã‚·ãƒ¼ãƒ«ã‚’ 1 ã¤ã®é¢ã®ä¸­å¤®ã®ãƒ‘ãƒ¼ãƒ„ã«è²¼ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ã—ã‹ã—ã€ç›®éš ã—ç¨®ç›®ã«é–¢ã—ã¦ã¯ãƒ­ã‚´ã‚·ãƒ¼ãƒ«ã‚’è²¼ã‚‹ã“ã¨ãŒå‡ºæ¥ãªã„ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚\nç«¶æŠ€ç¨®ç›® å…¨ã¦ã§ã¯ãªã„ã§ã™ãŒã€æ¬¡ã®ã‚ˆã†ãªç¨®ç›®ãŒã‚ã‚Šã¾ã™ã€‚\n3x3x3 2x2x2 4x4x4 5x5x5 3x3x3 ç‰‡æ‰‹ 3x3x3 è¶³ å˜ã«ãƒã‚¹ã®æ•°ãŒç•°ãªã‚‹ã ã‘ã§ãªãã€ç‰‡æ‰‹ã¨ã‹è¶³ã¨ã‹ç›®éš ã—ã¨ã‹\u0026hellip;æ§˜ã€…ãªç¨®ç›®ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\nè¨˜éŒ²ã®è¨ˆæ¸¬ å„ç¨®ç›®ã«ã¤ã„ã¦ã€ä»–ã®ã‚¹ãƒãƒ¼ãƒ„ç«¶æŠ€ã¨åŒæ§˜ã« ï¼‘å›æˆ¦ã€ï¼’å›æˆ¦ã€æ±ºå‹ ã¨ã„ã£ãŸå½¢ã§ãƒ©ã‚¦ãƒ³ãƒ‰ã”ã¨ã«ç«¶æŠ€ã‚’è¡Œã„ã¾ã™ã€‚\nå„ã‚¹ãƒ†ãƒ¼ã‚¸ã”ã¨ã«ã€ç«¶æŠ€è€…ã¯ 5 å›ãƒ‘ã‚ºãƒ«ã‚’è§£ã„ã¦ã€ãã®ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚’ç«¶ã„ã¾ã™ã€‚\nã‚¿ã‚¤ãƒ ã®ç®—å‡ºæ–¹æ³•ã¨ã—ã¦ã¯ã€æ¬¡ã® 3 ç¨®é¡ãŒã‚ã‚Šã¾ã™ã€‚\nAverage of 5\n5 å›ãƒ‘ã‚ºãƒ«ã‚’è§£ã„ã¦ã€æœ€é«˜ã¨æœ€ä½è¨˜éŒ²ã‚’é™¤ã„ãŸæ®‹ã‚Š 3 å›ã®å¹³å‡ã‚’è¨˜éŒ²ã¨ã™ã‚‹ Best of X (X ã¯ 1, 2, ã¾ãŸã¯ 3)\nX å›ãƒ‘ã‚ºãƒ«ã‚’è§£ã„ã¦ã€ãã‚Œã‚‰ã®ä¸­ã§ä¸€ç•ªè‰¯ã„ã‚‚ã®ã‚’è¨˜éŒ²ã¨ã™ã‚‹ Mean of 3\n3 å›ãƒ‘ã‚ºãƒ«ã‚’è§£ã„ã¦ã€ãã‚Œã‚‰ã®å¹³å‡ã‚’è¨˜éŒ²ã¨ã™ã‚‹ ãã®ä»–ã®è¦å‰‡ ä¸Šè¨˜ä»¥å¤–ã«ã‚‚æ¬¡ã®ã‚ˆã†ãªç´°ã‹ã„è¦å‰‡ãŒã—ã£ã‹ã‚Šã¨æ±ºã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\nãƒ‘ã‚ºãƒ«ã¯ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã«ã‚ˆã‚Šãƒ©ãƒ³ãƒ€ãƒ ã«ç”Ÿæˆã•ã‚ŒãŸã‚¹ã‚¯ãƒ©ãƒ³ãƒ–ãƒ«æ‰‹é †ã‚’ç”¨ã„ã¦ã‚¹ã‚¯ãƒ©ãƒ³ãƒ–ãƒ«ã•ã‚Œãªã‘ã‚Œã°ãªã‚‰ãªã„ â€»ã‚¹ã‚¯ãƒ©ãƒ³ãƒ–ãƒ« ã¨ã¯ã€ç«¶æŠ€å‰ã«ãƒ‘ã‚ºãƒ«ã‚’ãƒãƒ©ãƒãƒ©ã«ã™ã‚‹ã“ã¨ ç«¶æŠ€ã‚¨ãƒªã‚¢ã¯ç¦ç…™ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„ å‚åŠ ã‚’å¸Œæœ›ã™ã‚‹è€…ã¯èª°ã§ã‚‚å‚åŠ ã§ãã‚‹ã“ã¨ 3 ã¤ç›®ã«æŒ™ã’ãŸã‚ˆã†ã«ã€å‚åŠ ã—ãŸã„äººã¯èª°ã§ã‚‚å‚åŠ ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nãŸã ã—ã€ åˆ¶é™æ™‚é–“ï¼ˆå¤§ä¼šæ¯ã«å‘ŠçŸ¥ã•ã‚Œã¦ã„ã¾ã™ï¼‰ã‚ˆã‚Šæ—©ãå®Œæˆã§ãã‚‹ã®ã§ã‚ã‚Œã° ã¨ã„ã†å‰ç½®ããŒä»˜ãã¾ã™ã€‚\nã¡ãªã¿ã«ã€ 10æœˆ7æ—¥ã«é–‹å‚¬ã•ã‚ŒãŸåºƒå³¶å¤§ä¼š ã§ã¯ã€3x3x3 ã®åˆ¶é™æ™‚é–“ã¯ 10åˆ† ã§ã—ãŸã€‚\nâ€»è©³ç´°ã«ã¤ã„ã¦ã¯ WCA å¤§ä¼šè¦å‰‡ ãªãœæ€¥ã«ãƒ«ãƒ¼ãƒ“ãƒƒã‚¯ã‚­ãƒ¥ãƒ¼ãƒ–ã®è©±ï¼Ÿ ãã‚‚ãã‚‚ãªãœã“ã‚“ãªã“ã¨ã‚’èª¿ã¹ãŸã‹ã¨ã„ã†ã¨ã€ç§è‡ªèº«ãƒ«ãƒ¼ãƒ“ãƒƒã‚¯ã‚­ãƒ¥ãƒ¼ãƒ–ã‚’è»½ãã‹ã˜ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚\nãƒ™ã‚¹ãƒˆã‚¿ã‚¤ãƒ ã¯ 35 ç§’ãã‚‰ã„ã§ã€ã ã„ãŸã„ 45ã€œ55 ç§’ã‚ãŸã‚Šã‚’ã‚¦ãƒ­ã‚¦ãƒ­ã—ã¦ã„ã‚‹ãƒ¬ãƒ™ãƒ«ã§ã™ã€‚\néå»ã®å¤§ä¼šã®è¨˜éŒ²ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€ã“ã®ãã‚‰ã„ã®è¨˜éŒ²ã§ã¯ä¸‹ã‹ã‚‰5ç•ªç›®ãã‚‰ã„ã®è¨˜éŒ²ã§ã—ãŸã€‚ã€‚ã€‚ ã¨ã¯è¨€ã£ã¦ã‚‚åœ§å€’çš„ã«é…ã„ã‚ã‘ã§ã¯ãªã„ã®ã§ã€å‚åŠ ã—ã¦ã¿ã¦ã‚‚é¢ç™½ã„ã‹ãªãƒ¼ã¨æ€ã„ã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/other-about-solving-rubiks-cube/",
    "title": "ãƒ«ãƒ¼ãƒ“ãƒƒã‚¯ã‚­ãƒ¥ãƒ¼ãƒ–ã®å¤§ä¼šã«ã¤ã„ã¦èª¿ã¹ã¦ã¿ãŸ"
  },
  {
    "contents": "æŠ€è¡“çš„ãªè€ƒãˆæ–¹ã¾ã¨ã‚ã®ã‚ˆã†ãªãƒšãƒ¼ã‚¸ã§ä½•åº¦ã‹åå‰ã‚’è¦‹ãŸã“ã¨ãŒã‚ã£ãŸæœ¬ã€Œãƒ©ã‚¤ãƒˆã€ã¤ã„ã¦ã¾ã™ã‹ â€•å•é¡Œç™ºè¦‹ã®äººé–“å­¦ã€ã‚’èª­ã‚“ã§ã¿ã¾ã—ãŸã€‚\næœ€è¿‘ã§ã¯ä¿¡ç”¨ã§ãã‚‹ã‹æ€ªã—ã„ã§ã™ãŒã€ Amazon ã§ã®è©•ä¾¡ã‚‚ãã“ãã“é«˜ã‹ã£ãŸã§ã™ã€‚\nã‚¿ã‚¤ãƒˆãƒ« æœ¬ã®ã‚¿ã‚¤ãƒˆãƒ«ã¯ã€Œãƒ©ã‚¤ãƒˆã€ã¤ã„ã¦ã¾ã™ã‹ â€•å•é¡Œç™ºè¦‹ã®äººé–“å­¦ã€ã¨ãªã£ã¦ã„ã¾ã™ãŒã€ã‚‚ã¨ã‚‚ã¨ã¯å¤–å›½ã®æœ¬ã§ã€ã‚ªãƒªã‚¸ãƒŠãƒ«ã®ã‚¿ã‚¤ãƒˆãƒ«ã¯ã€ŒARE YOUR LIGHT ON? How to figure out what the plobrem really is.ã€ ã§ã™ã€‚\nè‘—è€…ã¯ã€Donald C. Gause ã¨ Gerald M. Weinberg ã® 2 åã€‚æ—¥æœ¬èªè¨³ã¯ æœ¨æ‘ æ³‰ ã•ã‚“ã§ã™ã€‚\nãªãœã“ã®æœ¬ã‚’èª­ã‚‚ã†ã¨æ€ã£ãŸã‹ å†’é ­ã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€ã€Œæ–°äººã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«èª­ã¾ã›ãŸã„ã€ã¨ã‹ã€Œã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã—ã¦ã®è€ƒãˆæ–¹ã‚’é¤Šã†ã€ã¿ãŸã„ãªè§¦ã‚Œè¾¼ã¿ã§ã“ã®æœ¬ãŒç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå¤šã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚\nç§è‡ªèº« ã‚‚ã†æ–°äººã¨ã¯è¨€ãˆãªã„å¹´ã«ã¯ãªã£ã¦ã¾ã™ãŒã€ã“ã‚Œã¾ã§ã“ã†ã„ã†é¡ã®æœ¬ã¯ä¸€åˆ‡èª­ã‚“ã§ã“ãªã‹ã£ãŸã®ã§ã€ã¨ã‚Šã‚ãˆãšã‚ˆãç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã‹ã‚‰èª­ã‚“ã§ã¿ã‚ˆã†ã¨æ€ã£ãŸã‚ã‘ã§ã™ã€‚\næ¦‚è¦ ã‚¿ã‚¤ãƒˆãƒ«ã«ã‚‚ã‚ã‚Šã¾ã™ãŒã€å•é¡Œã¨ã¯ä½•ãªã®ã‹ ã¨ã„ã†ã“ã¨ã«ã¤ã„ã¦æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nå…·ä½“çš„ã«ã¯ã€æ¬¡ã® 6 éƒ¨æ§‹æˆã§æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nä½•ãŒå•é¡Œã‹ï¼Ÿ å•é¡Œã¨ã¯ä½•ãªã®ã‹ï¼Ÿ å•é¡Œã¨ã¯æœ¬å½“ã®ã¨ã“ã‚ä½•ã‹ï¼Ÿ ãã‚Œã¯èª°ã®å•é¡Œã‹ï¼Ÿ ãã‚Œã¯ã©ã“ã‹ã‚‰ããŸã‹ï¼Ÿ ã‚ã‚Œã‚ã‚Œã¯ãã‚Œã‚’æœ¬å½“ã«è§£ããŸã„ã‹ï¼Ÿ ãã‚Œãã‚Œã®éƒ¨ã«ã¯ã„ãã¤ã‹ã®å°ã•ãªã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚’ã‚‚ã¨ã«ã€éƒ¨ã®ã‚¿ã‚¤ãƒˆãƒ«ã¨ãªã£ã¦ã„ã‚‹ã“ã¨ã«ã¤ã„ã¦èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚\nãã—ã¦ã€ãã®èª¬æ˜ã‚’è¦ç´„ã™ã‚‹ã‚ˆã†ãªã€åè¨€ã®ã‚ˆã†ãªãƒ•ãƒ¬ãƒ¼ã‚ºãŒã„ãã¤ã‚‚å‡ºã¦ãã‚‹ ã¨ã„ã†å†…å®¹ã§ã™ã€‚\nå°è±¡ã«æ®‹ã£ãŸã¨ã“ã‚ æ¦‚è¦ã®ã¨ã“ã‚ã§ã‚‚æ›¸ã„ãŸã‚ˆã†ã«ã€ã“ã®æœ¬ã«ã¯é‡è¦ãªãƒ•ãƒ¬ãƒ¼ã‚ºã‚„åè¨€ã£ã½ã„ã“ã¨ãŒãŸãã•ã‚“æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚ãªã®ã§ã€ãã‚Œã‚‰ã®ä¸­ã‹ã‚‰å°è±¡ã«æ®‹ã£ã¦ã„ã‚‹ã¨ã“ã‚ã‚’ã„ãã¤ã‹ç´¹ä»‹ã—ã¾ã™ã€‚\nå•é¡Œã‚’æŠ±ãˆã¦ã„ã‚‹ã®ã¯ã ã‚Œã‹ï¼Ÿ\nã‚ãªãŸã®å•é¡Œã®æœ¬è³ªã¯ä½•ã§ã™ã‹ï¼Ÿ\nã“ã‚Œã¯ç¬¬ 1 éƒ¨ã®æœ€åˆã«å‡ºã¦ãã‚‹è¨€è‘‰ã§ã™ã€‚\nä½•ã‹ã—ã‚‰å•é¡Œã¨ã—ã¦å‡ºã¦ããŸã¨ãã«ã€ã„ããªã‚Šãã‚Œã‚’ã¨ã“ã†ã¨ã™ã‚‹ã®ã§ã¯ãªãã€ ãã®å•é¡Œã‚’æŠ±ãˆã¦ã„ã‚‹ã®ã¯èª°ãªã®ã‹ ã‚’ã¾ãšè€ƒãˆã‚ˆã†ã¨ã„ã†ã“ã¨ã§ã™ã€‚\nã¾ãŸã€æŠ±ãˆã¦ã„ã‚‹ã®ãŒèª°ãªã®ã‹ãŒã‚ã‹ã‚Œã°ã€ãã®äººã«å¯¾ã—ã¦ ã‚ãªãŸã®å•é¡Œã®æœ¬è³ªã¯ãªã‚“ã§ã™ã‹ï¼Ÿ ã¨èã„ã¦ã¿ã‚ˆã†ã¨ã„ã†ã“ã¨ã§ã™ã€‚\nãã®å•é¡Œã«ã‚ˆã£ã¦ èª°ãŒã€ã©ã‚“ãªãµã†ã« å›°ã£ã¦ã„ã‚‹ã®ã‹ãŒã‚ã‹ã‚Œã°å¯¾å¿œæ–¹æ³•ã‚‚å…·ä½“çš„ã«å‡ºã¦ãã‚„ã™ã„ãªã¨ã€æ”¹ã‚ã¦æ€ã„ã¾ã—ãŸã€‚\nã‚­ãƒŸã®å•é¡Œå®šç¾©ã‚’\nå¤–å›½äººã‚„ç›²äººã‚„å­ä¾›ã«ã¤ã„ã¦\nè©¦ã—ã¦ã¿ã‚ˆã†ã€‚ã¾ãŸã‚­ãƒŸè‡ªèº«ãŒ\nå¤–å›½äººã‚„ç›²äººã‚„å­ä¾›ã«ãªã£ã¦ã¿ã‚ˆã†\nã“ã‚Œã¯ç¬¬ 3 éƒ¨ã® ä¸é©åˆã‚’è¦‹è½ã¨ã™è©± ã«å‡ºã¦ã„ãã‚‹ãƒ•ãƒ¬ãƒ¼ã‚ºã§ã™ã€‚\nã“ã®ç« ã§ã¯ æ–°ã—ã„è¦–ç‚¹ã¯å¿…ãšæ–°ã—ã„ä¸é©åˆã‚’ä½œã‚Šå‡ºã™ ã¨ã„ã†è¨€è‘‰ã‚‚ã‚ã‚Šã€ä½•ã‹ã«å¯¾ã—ã¦å•é¡Œã‚’å®šç¾©ã™ã‚‹éš›ã«ã€ã•ã¾ã–ã¾ãªç«‹å ´ã«ç«‹ã£ã¦è€ƒãˆã‚‹ã“ã¨ã§ã‚ˆã‚Šå¤šãã®å•é¡Œã®å®šç¾©ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ ã¨ã„ã†å†…å®¹ã§ã™ã€‚\nã‚°ãƒ­ãƒ¼ãƒãƒ«ãªã‚·ã‚¹ãƒ†ãƒ ã‚„ã‚µãƒ¼ãƒ“ã‚¹ã§ã¯ã€ã“ã®ã‚ˆã†ã«ã•ã¾ã–ã¾ãªè¦–ç‚¹ã«ç«‹ã£ã¦å•é¡Œã‚’è€ƒãˆã‚‹ã“ã¨ãŒã‚ˆã‚Šé‡è¦ã«ãªã‚Šãã†ã§ã™ã€‚\nå•é¡Œã‚’ã©ã†å¤‰ãˆãŸã‚‰\nè§£ç­”ã‚’å¤‰ãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã ã‚ã†ã‹ï¼Ÿ\nã“ã‚Œã¯ç¬¬ 3 éƒ¨ã® ã†ã¾ã„ãƒ¬ãƒ™ãƒ«ã«ç€é™¸ã™ã‚‹è©± ã«å‡ºã¦ãã‚‹ãƒ•ãƒ¬ãƒ¼ã‚ºã§ã™ã€‚\nç« ã®ã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰ã‚‚ã‚ã‹ã‚‹ã‚ˆã†ã«ã€å•é¡Œã«å¯¾ã—ã¦ã€å¦‚ä½•ã«è§£ç­”ã™ã‚‹å´ã®éƒ½åˆã®ã„ã„ã‚ˆã†ã«ã‚‚ã£ã¦ã„ãã‹ ã¨ã„ã†å†…å®¹ã§ã™ã€‚\nå•é¡Œã«ã‚ˆã£ã¦ã¯é¦¬é¹¿æ­£ç›´ã«è§£ã“ã†ã¨ã™ã‚‹ã¨å¤§å¤‰ãªç›®ã«é­ã†ã‚ˆã†ãªã‚‚ã®ã ã£ãŸã‚Šã€ãã‚‚ãã‚‚è§£ãã“ã¨ãŒã§ããªã„å•é¡Œã‚‚ã‚ã‚Šã¾ã™ã€‚ã—ã‹ã—ã€å•é¡Œã‚’æŠ±ãˆã¦ã„ã‚‹äººã¯ä½•ã‹ã—ã‚‰ã®è§£ç­”ã‚’æ±‚ã‚ã¦ã„ã‚‹ã®ã§ã€ãã‚Œã«å¿œãˆã‚‹ãŸã‚ã«ã©ã†ã™ã‚‹ã‹ã€‚\nã˜ã‚ƒã‚ã€è§£ç­”ã—ã‚„ã™ã„ã‚ˆã†ã«å•é¡Œã‚’å¤‰ãˆã¦ã—ã¾ãŠã† ã¨ã„ã†åŠ›æŠ€ã§ã™ã­ã€‚ãŸã ã€ã“ã†ã„ã†è€ƒãˆã‚‚å¿…è¦ã ãªã¨ã¯æ€ã„ã¾ã—ãŸã€‚\nã¾ã¨ã‚ ã„ãã¤ã‹æœ¬ã®ä¸­ã®ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å¼•ç”¨ã—ã¾ã—ãŸãŒã€ã¡ã‚‡ã£ã¨ã—ãŸé•å’Œæ„ŸãŒä¼ã‚ã‚‹ã§ã—ã‚‡ã†ã‹ã€‚\nå†’é ­ã«æ›¸ãã¾ã—ãŸãŒã€ã“ã®æœ¬ã¯å¤–å›½ã§æ›¸ã‹ã‚ŒãŸæœ¬ã‚’æ—¥æœ¬èªè¨³ã•ã‚Œã¦ã„ã¾ã™ã€‚ã¾ãŸã€å„éƒ¨ã§ã¯ãã®éƒ¨ã®æ¦‚è¦ã‚’èª¬æ˜ã™ã‚‹å†…å®¹ã®ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ãŒã‚ã‚‹ã¨ã‚‚æ›¸ãã¾ã—ãŸãŒã€ã“ã‚Œã‚‰ã®ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã¯ç¾åœ°ã®ç’°å¢ƒã§ã®è©±ã§ã™ã€‚\nã“ã‚Œã‚‰ã®ã“ã¨ã‹ã‚‰ã€æ­£ç›´ç´°ã‹ã„å†…å®¹ã¯é ­ã«å…¥ã£ã¦ãã¥ã‚‰ã„ã§ã™ã€‚\nç‰¹ã«æ—¥æœ¬èªè¨³ã«ã¤ã„ã¦ã¯ä¸è‡ªç„¶ãªéƒ¨åˆ†ãŒå¤šãã€æ–‡ç« ã¨ã—ã¦ã‚‚èª­ã¿ã¥ã‚‰ã„ã¨ã“ã‚ãŒå¤šã€…ã‚ã‚Šã¾ã—ãŸã€‚\nã¨ã¯è¨€ã£ã¦ã‚‚ã€ãƒ•ãƒ¬ãƒ¼ã‚ºã«é–¢ã—ã¦ã¯ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã§ç†è§£ã¯ã§ãã¦ã€ã„ã‚ã„ã‚ãªè¦–ç‚¹ã§ã®è€ƒãˆæ–¹ãŒèº«ã«ã¤ããã†ãªå†…å®¹ãªã®ã§ã€æœ¬ã¨ã—ã¦ã¯é¢ç™½ã„ã§ã™ã€‚\nç‰¹ã«å•é¡Œè§£æ±ºã«é–¢ã—ã¦ã¯ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒä¸€ç”Ÿä»˜ãåˆã£ã¦ã„ã‹ãªã‘ã‚Œã°ã„ã‘ãªã„ã‚‚ã®ãªã®ã§ã€æ–°äººã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ãŠã™ã™ã‚ã—ãŸã„æœ¬ã¨ã—ã¦ç´¹ä»‹ã•ã‚Œã‚‹ç†ç”±ã¯ã‚ã‹ã£ãŸæ°—ãŒã—ã¾ã™ã€‚\nã§ã‚‚ã€ã‚„ã£ã±ã‚Šæ—¥æœ¬èªè¨³ãŒæ®‹å¿µã§ã™ã­ã€‚ãã‚Œã«å°½ãã‚‹æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/book-review-light-on/",
    "title": "ã€Œãƒ©ã‚¤ãƒˆã€ã¤ã„ã¦ã¾ã™ã‹ â€•å•é¡Œç™ºè¦‹ã®äººé–“å­¦ã€ã‚’èª­ã‚“ã§ã¿ãŸ"
  },
  {
    "contents": "ä»Šæœˆ ç›®é»’ã«ã‚ªãƒ¼ãƒ—ãƒ³ã—ãŸ AWS Loft Tokyoã€‚ãã“ã§é–‹ã‹ã‚ŒãŸã‚»ãƒŸãƒŠãƒ¼ã€ŒAWS Start-upã‚¼ãƒŸ::ãƒ‡ãƒ¢ç¥­ã‚Šã€ã«è¡Œã£ã¦ãã¾ã—ãŸã€‚AWS Loft ã«è¡Œãã®ã‚‚åˆã‚ã¦ã ã£ãŸã®ã§ãã®ã‚ãŸã‚Šã®ã“ã¨ã‚‚è§¦ã‚Œã¾ã™ã€‚\nAWS Loft Tokyo ã¨ã¯ \u0026ldquo;AWS Loft ã¯ã€AWS ã‚’åˆ©ç”¨ä¸­ã®ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãŠã‚ˆã³ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã®ãŸã‚ã®æ–½è¨­ã§ã™ã€‚ ãƒªãƒ©ãƒƒã‚¯ã‚¹ã—ãŸé›°å›²æ°—ã®ã‚³ãƒ»ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚¹ãƒšãƒ¼ã‚¹ã‚„æ¯é€±é–‹å‚¬ã•ã‚Œã‚‹æ§˜ã€…ãªã‚»ãƒŸãƒŠãƒ¼ã€AWS ã®ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã«ç†Ÿé”ã—ãŸ AWS ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã‚„ã‚µãƒãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¸ã„ã¤ã§ã‚‚æŠ€è¡“çš„ãªç›¸è«‡ãŒå¯èƒ½ãªã€ŒAsk An Expert ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã€ã‚‚ã”ç”¨æ„ã—ã¦ãŠã‚Šã¾ã™ã€‚\u0026rdquo;\nã¨ã‚ã‚‹ã‚ˆã†ã«ã€æœ€è¿‘è©±é¡Œã®ã‚³ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚¹ãƒšãƒ¼ã‚¹ã§ã™ã€‚ã—ã‹ã—ä»–ã®ã‚³ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚¹ãƒšãƒ¼ã‚¹ã¨é•ã£ã¦ã€åˆ©ç”¨ã§ãã‚‹ã®ã¯ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æŒã£ã¦ã„ã‚‹äºº ã§ã€ãã®åˆ©ç”¨æ–™é‡‘ã¯ãªã‚“ã¨ ç„¡æ–™ ã§ã™ã€‚ ãŸã ã€å–¶æ¥­æ™‚é–“ãŒ ã€Œå¹³æ—¥ï¼ˆæœˆã€œé‡‘ï¼‰ 10:00 ã€œ 18:00ã€ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nä»Šå›ã¯ã‚»ãƒŸãƒŠãƒ¼ã§ã®è¨ªå•ã¨ã„ã†ã“ã¨ã§ã€å–¶æ¥­æ™‚é–“å¾Œã® 18 æ™‚éãã«å…¥ã‚Šã¾ã—ãŸã€‚ æ—¥ä¸­ã¯è³‘ã‚ã£ã¦ã„ã‚‹ã¨ã„ã†è©±ã‚’èã„ã¦ã„ã¾ã—ãŸãŒã€ã•ã™ãŒã«å–¶æ¥­æ™‚é–“èªã ã£ãŸã®ã§äººã¯ã¾ã°ã‚‰ã€‚ã¨ã„ã†ã‹ã€ã‚»ãƒŸãƒŠãƒ¼å‚åŠ è€…ã—ã‹ã„ã¾ã›ã‚“ã§ã—ãŸã€‚\nã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ã®ãƒ‰ã‚¢ã¯ãƒ€ãƒ³ãƒœãƒ¼ãƒ«ä»•æ§˜ã€‚ å¤©äº•ã‹ã‚‰ã¯æ¤ç‰©ã€‚ Amazon ã®ç«¯æœ«ãŒç½®ã‹ã‚Œã¦ã¾ã™ã€‚ ãƒ•ãƒ­ã‚¢ã¯åºƒã„ã‚¹ãƒšãƒ¼ã‚¹ãŒãƒ¡ã‚¤ãƒ³ã§ã€ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã€ãƒ†ãƒ¼ãƒ–ãƒ«ã€ã‚½ãƒ•ã‚¡ãªã©æ§˜ã€…ãªå ´æ‰€ã§ä½œæ¥­ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ å¥¥ã®æ–¹ã«ã¯å€‹å®¤ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚\nAWS Start-upã‚¼ãƒŸ AWS Loft ã®ã‚ªãƒ¼ãƒ—ãƒ³å½“æ—¥ã‹ã‚‰ã€å–¶æ¥­æ™‚é–“å¾Œã‚’ä¸­å¿ƒã«æ§˜ã€…ãªã‚»ãƒŸãƒŠãƒ¼ãŒé–‹å‚¬ã•ã‚Œã¦ã„ã¾ã™ã€‚ ä»Šå›å‚åŠ ã—ãŸã®ã¯\n[AWS Start-upã‚¼ãƒŸ::ãƒ‡ãƒ¢ç¥­ã‚Š] ã‚ˆãã‚ã‚‹èª²é¡Œã‚’ä¸€æ°—ã«è§£èª¬ \u0026amp; ãƒ‡ãƒ¢ï¼ ã€œå¾¡ç¤¾ã®æŠ€è¡“ãƒ¬ãƒ™ãƒ«ãŒã‚¢ãƒƒãƒ—ã™ã‚‹ 2018 ç§‹æœŸè¬›ç¿’ã€œ\nã§ã™ã€‚ AWS Start-up ã‚¼ãƒŸã‚·ãƒªãƒ¼ã‚ºã¨ã—ã¦éå»ã« 2017 ç§‹æœŸè¬›ç¿’ ã€ 2018 æ˜¥æœŸè¬›ç¿’ ãŒé–‹å‚¬ã•ã‚Œã¦ãŠã‚Šã€ä»Šå›ã¯ãã‚Œã‚‰ã®å†…å®¹ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãªãŒã‚‰ã€å€‹ã€…ã®èª²é¡Œã«ã¤ã„ã¦ãƒ‡ãƒ¢ã‚’ã‚„ã‚Šã¾ãã‚‹ ã¨ã„ã†å†…å®¹ã§ã—ãŸã€‚ ä»Šå›ãŒåˆã‚ã¦ã®å‚åŠ ã§ã—ãŸãŒã€ã»ã¨ã‚“ã©ã¯åˆå‚åŠ ã®äººãŸã¡ã ã£ãŸã‚ˆã†ã§ã™ã€‚\nå†…å®¹ ãƒˆãƒ”ãƒƒã‚¯ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªå†…å®¹ã§ã—ãŸã€‚\nãƒ­ã‚°ã®æ‰±ã„ ãƒ‡ãƒ—ãƒ­ã‚¤å‘¨ã‚Šã¡ã‚ƒã‚“ã¨ã‚„ã‚ŠãŸã„ ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½¿ã„ãŸã„ é‹ç”¨ç›£è¦–ã‚’ã¡ã‚ƒã‚“ã¨ã—ãŸã„ ã‚³ã‚¹ãƒˆä¸‹ã’ãŸã„ WebSocket ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«ãªã«ã‹ã‚„ã‚ŠãŸã„ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«ã¤ã„ã¦ æœ¬å½“ã¯ 15 é …ç›®ãã‚‰ã„æº–å‚™ã•ã‚Œã¦ã„ãŸã‚ˆã†ã§ã™ãŒã€æ™‚é–“ã¨å†…å®¹ã‚’å®Œå…¨ã«è¦‹èª¤ã£ãŸ (æ‹…å½“è€…è«‡) ã‚‰ã—ãã€ã‹ãªã‚Šè©°ã‚è¾¼ã‚“ã§ã“ã‚Œã ã‘ã®å†…å®¹ã«ãªã‚Šã¾ã—ãŸã€‚ ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ã¯ AWS ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ (SA) ã®æ–¹ 2 åã§ã—ãŸã€‚ ã©ã‚Œã‚‚å…·ä½“çš„ãªé‹ç”¨æ–¹æ³•ã€ãƒãƒã‚ŠãŒã¡ãªã¨ã“ã‚ãªã©ã‚’èª¬æ˜ã—ã¦ã„ãŸã ãã¾ã—ãŸãŒã€æ­£ç›´è‡ªåˆ†ã®ç†è§£åŠ›ãŒè¿½ã„ã¤ã‹ãšã€æ–°ãŸã«çŸ¥ã‚‹ã“ã¨ãŒå¤šã‹ã£ãŸã§ã™ã€‚\nãªã®ã§ã€æ¿ƒã„å†…å®¹ã¯ãŠãã‚‰ãå¾Œæ—¥ å…¬å¼ã«å…¬é–‹ã•ã‚Œã‚‹ã®ã§ã€å„ãƒˆãƒ”ãƒƒã‚¯ã«ã¤ã„ã¦ã–ã£ãã‚Šã¨æ›¸ã„ã¦ãŠããŸã„ã¨æ€ã„ã¾ã™ã€‚\n1. ãƒ­ã‚°ã®æ‰±ã„ ã¨ã‚Šã‚ãˆãš S3 ã«ãŸã‚ã‚‹ã€‚è©±ã¯ãã‚Œã‹ã‚‰ã€‚ Kinesis Data Firehose ã‚’ä½¿ãˆã°ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ã‚’ S3 ã¨ã‹ã«ç°¡å˜ã«æŠ•ã’ã‚‰ã‚Œã‚‹ S3 ã«å…¥ã‚Œã¦ã—ã¾ãˆã°ã€ã‚ã¨ã¯ Athena ã‚„ Redshift ã¨ã„ã£ãŸãƒ‡ãƒ¼ã‚¿ãƒ¬ã‚¤ã‚¯ã§è§£æ 2. ãƒ‡ãƒ—ãƒ­ã‚¤å‘¨ã‚Šã¡ã‚ƒã‚“ã¨ã‚„ã‚ŠãŸã„ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¯ ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹ ãƒ‡ãƒ—ãƒ­ã‚¤ã¯ push å‹ã§ã¯ãªã pull å‹ 3. ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½¿ã„ãŸã„ The Twelve-Factor App å¿…èª­ ã¨ã‚Šã‚ãˆãšã‚„ã‚‹ãªã‚‰ Fargate ãŒã‚·ãƒ³ãƒ—ãƒ« 4. é‹ç”¨ç›£è¦–ã‚’ã¡ã‚ƒã‚“ã¨ã—ãŸã„ å„ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°é …ç›®ã‚’æŠŠæ¡ ä½•ãŒã©ã†ãªã‚‹ã¨ã‚„ã°ã„ã‹ é€šçŸ¥ã€ãƒªã‚«ãƒãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ±ºã‚ã‚‹ 5. ã‚³ã‚¹ãƒˆä¸‹ã’ãŸã„ æ§‹æˆã‚’ã‚¯ãƒ©ã‚¦ãƒ‰ã«æœ€é©åŒ– â† ã“ã“ã§ã‚‚ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹ ã‚¹ãƒãƒƒãƒˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã€ãƒªã‚¶ãƒ¼ãƒ–ãƒ‰ã®æ´»ç”¨ (ã‚¹ãƒ”ãƒ¼ãƒ‰æ„Ÿã¨è²»ç”¨ã®ãƒãƒ©ãƒ³ã‚¹) é•ã†è¦–ç‚¹ã§ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’è€ƒãˆã‚‹ (ã‚µãƒ¼ãƒãƒ¬ã‚¹æ§‹æˆã«ã—ã¦ã¿ã‚‹) 6. WebSocket ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«ãªã«ã‹ã‚„ã‚ŠãŸã„ AWS AppSync (ãƒãƒãƒ¼ã‚¸ãƒ‰ãª GlaphQL ã®ã‚ˆã†ãªã‚‚ã®) ã‚’æ´»ç”¨ã™ã‚‹ ALB ã¨ WebSocket ã‚µãƒ¼ãƒã‚’ã¤ãªã (ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãŒã—ã‚„ã™ããªã‚‹) æ¥ç¶šãŒåˆ‡ã‚ŒãŸã‚‰ãƒªãƒˆãƒ©ã‚¤ã™ã‚Œã°ã„ã„ ã¨ã„ã†ãƒãƒªã‚·ãƒ¼ã§å®Ÿè£…ã™ã‚‹ 7. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«ã¤ã„ã¦ äºˆæ¸¬ â†’ é˜²å¾¡ â†’ æ¤œçŸ¥ â†’ å¯¾å¿œ ã¾ãšæœ€ä½é™ Well-Architected Framework ã§ãƒªã‚¹ã‚¯ã®æ´—ã„å‡ºã— æ¥­ç•Œãƒ»æ¥­ç¨®ã«å¿œã˜ãŸéµå®ˆäº‹é …ã«å¾“ã† (GDPR ãªã©) ã–ã£ãã‚Šã¨ã¯ã“ã®ã‚ˆã†ãªå†…å®¹ã§ã—ãŸã€‚ Docker ã«ã¤ã„ã¦ã¯ã‚‚ã£ã¨è‡ªåˆ†ã§è§¦ã‚‰ãªã„ã¨ã‚„ã°ã„ãªã¨ã€å–ã‚Šæ®‹ã•ã‚Œã¦ã‚‹æ„Ÿã‚’æ„Ÿã˜ã¾ã—ãŸã€‚\nã¾ã¨ã‚ ã‚¼ãƒŸã®å†…å®¹ã«ã¤ã„ã¦ã¯ã€å€‹äººçš„ã«ã¯çµæ§‹é›£ã—ã„å†…å®¹ã§ã¯ã‚ã‚Šã¾ã—ãŸãŒã€AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã£ãŸå„ãƒˆãƒ”ãƒƒã‚¯ã®å®Ÿä¾‹ã‚„æ§‹ç¯‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’çŸ¥ã‚‹ã“ã¨ãŒã§ããŸã®ã§è‰¯ã‹ã£ãŸã§ã™ã€‚ AWS Loft ã«é–¢ã—ã¦ã¯ã€ã¨ã‚Šã‚ãˆãšå¹³æ—¥ã®æ˜¼é–“ã«æ¥ã¦ã‚³ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚¹ãƒšãƒ¼ã‚¹ã¨ã—ã¦ä½œæ¥­ã—ãŸã„ã§ã™ã­ã€‚è‡ªåˆ†ã®é¡”ã®ãƒ©ãƒ†ã‚¢ãƒ¼ãƒˆã‚‚é£²ã¿ãŸã„ã§ã™ã—ã€‚\nã‚»ãƒŸãƒŠãƒ¼ã«ã¤ã„ã¦ã¯ã¾ã ã¾ã é–‹å‚¬äºˆå®šã¨ã®ã“ã¨ãªã®ã§ã€èˆˆå‘³ã®ã‚ã‚‹æ–¹ã¯è¡Œã£ã¦ã¿ã¦ã¯ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚\nAWS Loft Tokyo ã«ã¦é–‹å‚¬ã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚»ãƒŸãƒŠãƒ¼ä¸€è¦§ ã¡ãªã¿ã«ä»Šå›ã¯ã†ã¾ã„æ£’ (AWS ver.) ãŒé£Ÿã¹æ”¾é¡Œã§ã—ãŸã€‚ ",
    "permalink": "https://michimani.net/post/aws-loft-autumn-seminar/",
    "title": "AWS Loft Tokyo ã§é–‹å‚¬ã•ã‚ŒãŸ AWS Start-upã‚¼ãƒŸ ã«è¡Œã£ã¦ãã¾ã—ãŸ"
  },
  {
    "contents": "Hugo ã§ä½œã£ãŸãƒ–ãƒ­ã‚°ã«ã€ã‚«ãƒ†ã‚´ãƒªä¸€è¦§ ã¨ ã‚¿ã‚°ä¸€è¦§ ã®ãƒšãƒ¼ã‚¸ã‚’ä½œã£ãŸã®ã§ã€ãã®æ–¹æ³•ã«ã¤ã„ã¦ã§ã™ã€‚\nã¤ã„ã§ã«ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«ã‚‚å„ä¸€è¦§ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯ã‚’è¨­ç½®ã—ã¾ã™ã€‚\nã‚„ã‚‹ã“ã¨ config.toml ã«è¿½è¨˜ terms.html ã‚’ä½œæˆ ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã‚«ãƒ†ã‚´ãƒªä¸€è¦§ãƒ»ã‚¿ã‚°ä¸€è¦§ã¸ã®ãƒªãƒ³ã‚¯ã‚’è¿½åŠ  1. config.toml ã«è¿½è¨˜ ã‚«ãƒ†ã‚´ãƒªä¸€è¦§ã€ã‚¿ã‚°ä¸€è¦§ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã«ã¯ config.toml ã«æ¬¡ã®è¨­å®šã‚’è¿½è¨˜ã—ã¾ã™ã€‚\n[taxonomies] tag = \u0026#34;tags\u0026#34; category = \u0026#34;categories\u0026#34; 2. terms.html ã‚’ä½œæˆ ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ†ãƒ¼ãƒã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ã‚ã‚‹ layouts/_default ã« terms.html ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nä»Šå›ã¯ Indigo ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã®ã§ themes/indigo/layouts/_default å†…ã«æ¬¡ã®ã‚ˆã†ãªå†…å®¹ã® terms.html ã‚’ä½œæˆã—ã¾ã™ã€‚\n{{ partial \u0026#34;header.html\u0026#34; . }} \u0026lt;h2\u0026gt;{{ .Title }}\u0026lt;/h2\u0026gt; {{ if eq .Title \u0026#34;Tags\u0026#34;}} {{ if lt 0 (len .Site.Taxonomies.tags) }} \u0026lt;ul\u0026gt; {{ range .Site.Taxonomies.tags.ByCount }} \u0026lt;li\u0026gt;\u0026lt;a href=\u0026#34;{{ $.Site.BaseURL | relURL }}tags/{{ .Name | urlize }}\u0026#34;\u0026gt;{{ .Name }}\u0026lt;span\u0026gt;({{ .Count }})\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; {{ end }} \u0026lt;/ul\u0026gt; {{ end }} {{ else if eq .Title \u0026#34;Categories\u0026#34;}} {{ if lt 0 (len .Site.Taxonomies.categories) }} \u0026lt;ul\u0026gt; {{ range .Site.Taxonomies.categories.ByCount }} \u0026lt;li\u0026gt;\u0026lt;a href=\u0026#34;{{ $.Site.BaseURL | relURL }}categories/{{ .Name | urlize }}\u0026#34;\u0026gt;{{ .Name }}\u0026lt;span\u0026gt;({{ .Count }})\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; {{ end }} \u0026lt;/ul\u0026gt; {{ end }} {{ end }} {{ partial \u0026#34;footer.html\u0026#34; . }} ã“ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯ /categories/ ã¾ãŸã¯ /tags/ ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸéš›ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚\nTitle ã®å€¤ã§ã‚«ãƒ†ã‚´ãƒªã‹ã‚¿ã‚°ã‹ã‚’åˆ¤å®šã—ã¦ã‚‹ã®ãŒå¤‰ãªæ„Ÿã˜ã§ã™ãŒã€ã¨ã‚Šã‚ãˆãšã‚³ãƒ¬ã§ä¸¡æ–¹ã‚’å‡ºã—åˆ†ã‘ã‚‰ã‚Œã¾ã™ã€‚\n3. ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã‚«ãƒ†ã‚´ãƒªä¸€è¦§ãƒ»ã‚¿ã‚°ä¸€è¦§ã¸ã®ãƒªãƒ³ã‚¯ã‚’è¿½åŠ  ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã‚«ãƒ†ã‚´ãƒªãƒ»ã‚¿ã‚°ãã‚Œãã‚Œã®ä¸€è¦§ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯ã‚’è¿½åŠ ã—ã¾ã™ã€‚\nIndigo ã®å ´åˆã€ãƒ†ãƒ¼ãƒãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®layouts/partials/pagenav.html ã‚’æ¬¡ã®ã‚ˆã†ã«ç·¨é›†ã—ã¾ã™ã€‚\n\u0026lt;nav\u0026gt; {{ $currentPage := . }} \u0026lt;div id=\u0026#34;page-nav\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;page-nav-item\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;{{ .Site.BaseURL }}\u0026#34;\u0026gt;Home\u0026lt;/a\u0026gt; \u0026lt;/div\u0026gt; {{ range .Site.Menus.main }} \u0026lt;div class=\u0026#34;page-nav-item\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;{{ .URL }}\u0026#34;\u0026gt; {{ .Pre }} \u0026lt;span\u0026gt;{{ .Name }}\u0026lt;/span\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;/div\u0026gt; {{ end }} + \u0026lt;div class=\u0026#34;page-nav-item\u0026#34;\u0026gt; + \u0026lt;a href=\u0026#34;/categories/\u0026#34;\u0026gt;Categories\u0026lt;/a\u0026gt; + \u0026lt;/div\u0026gt; + \u0026lt;div class=\u0026#34;page-nav-item\u0026#34;\u0026gt; + \u0026lt;a href=\u0026#34;/tags/\u0026#34;\u0026gt;Tags\u0026lt;/a\u0026gt; + \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/nav\u0026gt; ä»¥ä¸Šã§ã€ã‚«ãƒ†ã‚´ãƒªãƒ»ã‚¿ã‚°ã®ä¸€è¦§ãƒšãƒ¼ã‚¸ãŒä½œæˆã§ãã¾ã—ãŸã€‚\næ‰‹é †ã¯éå¸¸ã«ç°¡å˜ã§ã™ãŒã€å„ã‚«ãƒ†ã‚´ãƒªãƒ»ã‚¿ã‚°ã«è©²å½“ã™ã‚‹è¨˜äº‹æ•°ã®è¡¨ç¤ºã¾ã§ã—ã¦ãã‚Œã‚‹ã®ã¯è‰¯ã„ã§ã™ã­ã€‚\n",
    "permalink": "https://michimani.net/post/category-tag-list/",
    "title": "[Hugo] ã‚«ãƒ†ã‚´ãƒªä¸€è¦§ã€ã‚¿ã‚°ä¸€è¦§ã®ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹"
  },
  {
    "contents": "Gatsby ã¨åŒæ§˜ã«ã€CodeCommit ã« push ã—ãŸã‚‰ CodeBuild ã§ãƒ“ãƒ«ãƒ‰ã—ã¦ S3 ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦å…¬é–‹ã•ã‚Œã‚‹ã€ã¨ã„ã†ã¨ã“ã‚ã¾ã§ã‚’è‡ªå‹•åŒ–ã—ã¾ã™ã€‚\næ¦‚è¦ åŸºæœ¬çš„ã«ã¯ Gatsby ã®å ´åˆ ã¨åŒã˜ãªã®ã§ã€ç•°ãªã‚‹éƒ¨åˆ†ã«ã¤ã„ã¦æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nã‚„ã‚‹ã“ã¨ S3 ã®ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ã‚’å¤‰æ›´ CloudFront ã® Origin Domain Name ã‚’å¤‰æ›´ CodeBuild ã®ç’°å¢ƒã€ Buildspec ã‚’å¤‰æ›´ 1. S3 ã®ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ã‚’å¤‰æ›´ ã¾ãšã€S3 ã®ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;AddPerm\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;AWS\u0026#34;: \u0026#34;*\u0026#34; }, \u0026#34;Action\u0026#34;: \u0026#34;s3:GetObject\u0026#34;, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:s3:::{ãƒã‚±ãƒƒãƒˆå}/*\u0026#34; } ] } Gatsby ã¨ Hugo ã®å¤§ããªé•ã„ã¨ã—ã¦ã€ç”Ÿæˆã•ã‚Œã‚‹ã‚µã‚¤ãƒˆãŒã‚·ãƒ³ã‚°ãƒ«ãƒšãƒ¼ã‚¸ã‹ã©ã†ã‹ ã¨ã„ã†ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚\nCloudFront ã§ Default Root Object ã« index.html ã‚’æŒ‡å®šã—ã¦ãŠã‘ã°ã€https://michimani.net/ ã§ã®ã‚¢ã‚¯ã‚»ã‚¹ã§ https://michimani.net/index.html ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nGatsby ã§ã¯ã“ã“ã‹ã‚‰ç”»é¢é·ç§»ã—ãªã„ã®ã§ã“ã‚Œã§å•é¡Œãªã‹ã£ãŸã®ã§ã™ãŒã€Hugo ã§ã¯ https://michimani.net/post/some-post/ ã®ã‚ˆã†ãªå€‹åˆ¥ã®ãƒšãƒ¼ã‚¸ã¸é·ç§»ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ã“ã®å ´åˆã€https://michimani.net/post/some-post/index.html ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹ã¨æ€ã„ãã‚„ã€Access Denied ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚\nã“ã‚Œã‚’å›é¿ã™ã‚‹ãŸã‚ã«ã€ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ã‚’ä¸Šè¨˜ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚\n2. CloudFront ã® Origin Domain Name ã‚’å¤‰æ›´ ä¸Šè¨˜ã®å•é¡Œè§£æ±ºã«é–¢é€£ã—ã¦ã€CloudFront ã® Origin Domain Name ã‚’å¤‰æ›´ã—ã¾ã™ã€‚\næ–°ã—ã„å€¤ã¨ã—ã¦ã¯ã€S3 ã® Static website hosting ã§ç¢ºèªã§ãã‚‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã® http:// ã‚’é™¤ã„ãŸéƒ¨åˆ† ã§ã™ã€‚\n3. CodeBuild ã®ç’°å¢ƒã€ Buildspec ã‚’å¤‰æ›´ Hugo ã¯ Go è¨€èªã§ä½œã‚‰ã‚Œã¦ã„ã‚‹ã®ã§ã€ CodeBuild ã®ç’°å¢ƒ (ã‚¤ãƒ¡ãƒ¼ã‚¸) ã‚’ aws/codebuild/golang:1.10 ã«å¤‰æ›´ã—ã¾ã™ã€‚\nã¾ãŸã€ãƒ“ãƒ«ãƒ‰æ™‚ã®ã‚³ãƒãƒ³ãƒ‰ã‚‚å¤‰ã‚ã‚‹ãŸã‚ã€ Buildspec ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚\nversion: 0.2 phases: install: commands: - curl -Ls https://github.com/gohugoio/hugo/releases/download/v0.49/hugo_0.49_Linux-64bit.tar.gz -o /tmp/hugo.tar.gz - tar xf /tmp/hugo.tar.gz -C /tmp - mv /tmp/hugo /usr/bin/hugo - rm -rf /tmp/hugo* build: commands: - hugo post_build: commands: - aws s3 sync \u0026#34;public/\u0026#34; \u0026#34;s3://{ãƒã‚±ãƒƒãƒˆå}\u0026#34; --delete --acl \u0026#34;public-read\u0026#34; - aws cloudfront create-invalidation --distribution-id {ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®ID} --paths \u0026#34;/*\u0026#34; ã¾ãŸã€Gatby ã®æ™‚ã«ã¯ CodePipeline ã§ Algolia ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’å‰Šé™¤ã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å…¥ã‚Œã¦ã„ã¾ã—ãŸãŒã€ã“ã‚Œã‚‚å‰Šé™¤ã—ã¾ã™ã€‚\nä»¥ä¸Šã§ Hugo ã®è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ç’°å¢ƒãŒæ•´ã„ã¾ã—ãŸã€‚\npush ã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å…¨ä½“ã®æ‰€è¦æ™‚é–“ã¨ã—ã¦ã¯ã€Gatsby ã®ã¨ãã¯ 6ã€œ7 åˆ†ã§ã—ãŸãŒã€Hugo ã§ã¯ 3ã€œ4 åˆ† ã«ãªã‚Šã¾ã—ãŸã€‚\nã“ã®ã‚ãŸã‚Šã«ã‚‚ Hugo ãƒ“ãƒ«ãƒ‰é€Ÿåº¦ã®æ©æµã‚’æ„Ÿã˜ã‚‰ã‚Œã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/deploy-hugo/",
    "title": "Hugo ã§ä½œã£ãŸã‚µã‚¤ãƒˆã‚’ CloudFront + S3 ã§å…¬é–‹ã™ã‚‹"
  },
  {
    "contents": " å‰å› ã¾ã§ã§ Gatsby ã®è¨­å®šã‚„ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•ã«ã¤ã„ã¦æ›¸ã„ã¦ãã¾ã—ãŸãŒã€è‰²ã€…ã¨å•é¡ŒãŒå‡ºã¦ããŸãŸã‚ Hugo ã«ç§»è¡Œã—ã¾ã—ãŸã€‚\nç§»è¡Œã¨ã„ã£ã¦ã‚‚ã€è¨˜äº‹ã®æ•°ãŒå°‘ãªã‹ã£ãŸãŸã‚ã»ã¼ã‚¼ãƒ­ã‹ã‚‰ã®ã‚¹ã‚¿ãƒ¼ãƒˆã§ã™ã€‚\nä»Šå›ã¯ Gatsby ã®å•é¡Œç‚¹ã¨ã€Hugo ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«ã¤ã„ã¦æ›¸ãã¾ã™ã€‚\nGatsby ã®å•é¡Œç‚¹ãƒ»ä¸æº€ç‚¹ Gatsby ã¨ã„ã†ã‹ã€ä½¿ã£ã¦ã„ãŸ starter starter-personal-blog ã®å•é¡ŒãŒå¤§ãã„ã§ã™ã€‚\nstarter-personal-blog ã§ã¯ Algolia ã¨ã„ã†ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç”¨ã„ãŸãƒ–ãƒ­ã‚°å†…æ¤œç´¢æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰æ™‚ã« Algolia ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ç”Ÿæˆã—ã¦ã€ãƒ–ãƒ­ã‚°å†…ã®æ¤œç´¢ã‚’ã‹ãªã‚Šã®æ—©ã•ã§å®Ÿè¡Œã§ãã‚‹ã¨ã„ã†éƒ¨åˆ†ãŒã¨ã¦ã‚‚è‰¯ã‹ã£ãŸã§ã™ã€‚\nãŒã€å•é¡Œã¨ã—ã¦ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«ç™»éŒ²ã§ãã‚‹ãƒ–ãƒ­ã‚°è¨˜äº‹ã®æ–‡å­—æ•°ã€æ­£ç¢ºã«ã¯è¨˜äº‹ã® Markdown ãƒ•ã‚¡ã‚¤ãƒ«ã®å®¹é‡ã«åˆ¶é™ãŒã‚ã‚Šã€ãã®åˆ¶é™ã‚’è¶…ãˆã¦ã„ã‚‹ã¨ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—ã—ã¦ã—ã¾ã†ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚åˆ¶é™ã¯ä¸‹è¨˜ã®é€šã‚Šã€‚\nç„¡å„Ÿç‰ˆ : 10 KB ã¾ã§ æœ‰å„Ÿç‰ˆ : 20 KB ã¾ã§ ã¤ã¾ã‚Šã€ã¡ã‚‡ã£ã¨é•·ã„æ–‡ç« ã‚’æ›¸ã“ã†ã¨ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã€ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—ã—ã¦ã—ã¾ã†ã¨ã„ã†ã“ã¨ã§ã™ã€‚\næœ‰å„Ÿç‰ˆã¯æœ€ä½ã§ã‚‚ $35/æœˆ ã¨ã„ã†ã“ã¨ã§çµæ§‹ã„ã„å€¤æ®µãŒã—ã¾ã™ã€‚\nã˜ã‚ƒã‚ã€è‡ªå‰ã§ãƒ–ãƒ­ã‚°å†…æ¤œç´¢ã‚’å®Ÿè£…ã™ã‚Œã°ã„ã„ã®ã§ã¯ï¼Ÿã¨ã‚‚æ€ã„ã¾ã—ãŸãŒã€React ã®çŸ¥è­˜ãŒè¶³ã‚Šãªã„ãŸã‚ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚‚å‡ºæ¥ãš\u0026hellip;ã€‚\nãƒ“ãƒ«ãƒ‰ã®æ™‚é–“ã«ã‚‚å°‘ã—ä¸æº€ãŒã‚ã£ãŸã®ã§ã€ãƒ“ãƒ«ãƒ‰ãŒçˆ†é€Ÿã ã¨å™‚ã® Hugo ã«ç§»è¡Œã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚\nHugo ã¨ã¯ Hugo ã¯ã€Go ã§ä½œã‚‰ã‚Œã¦ã„ã‚‹é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã§ã™ã€‚\nãƒ­ãƒ¼ã‚«ãƒ«ã§ã®è¡¨ç¤ºç¢ºèªã‚„ãƒ“ãƒ«ãƒ‰ãŒçˆ†é€Ÿã§ã‚ã‚‹ã“ã¨ã€ãƒ†ãƒ¼ãƒã®æ•°ãŒè±Šå¯Œãªã¨ã“ã‚ãŒå£²ã‚Šã¨ãªã£ã¦ã„ã¾ã™ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚‚ç°¡å˜ã§ã™ã€‚\nmacOS ã§ã¯ Homebrew ã« hugo ã® cli ãŒã‚ã‚‹ã®ã§ã€ãã‚Œã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ brew install hugo ... ... $ hugo version Hugo Static Site Generator v0.49.2/extended darwin/amd64 BuildDate: unknown å…¬å¼ã‚µã‚¤ãƒˆã®æ‰‹é † ã«å¾“ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’é€²ã‚ã¾ã™ã€‚\n$ hugo new site michimani.net ãƒ†ãƒ¼ãƒã‚’è¿½åŠ ã—ã¾ã™ã€‚ä»Šå›ã¯ indigo ã‚’ä½¿ã„ã¾ã™ã€‚\n$ cd michimani.net $ git init $ git submodule add https://github.com/AngeloStavrow/indigo.git themes/indigo $ echo \u0026#39;theme = \u0026#34;indigo\u0026#34;\u0026#39; \u0026gt;\u0026gt; config.toml ãƒ–ãƒ­ã‚°ã®è¨­å®š è¨­å®šã¯ã€ç›´ä¸‹ã«ã‚ã‚‹ config.toml ã‚’é©å®œç·¨é›†ã—ã¾ã™ã€‚\nbaseURL = \u0026#34;https://michimani.net/\u0026#34; languageCode = \u0026#34;ja-JP\u0026#34; copyright = \u0026#34;Copyright Â© 2018, michimani\u0026#34; title = \u0026#34;michimani.net\u0026#34; ã“ã“ã§æ³¨æ„ãŒå¿…è¦ãªã®ãŒã€baseURL ã®å€¤ã§ã™ã€‚æœ«å°¾ã«ã¯ / ã‚’ä»˜ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ä¿®æ­£ baseURL ã¨ã®å…¼ã­åˆã„ã§ä¸€éƒ¨ asset ã¸ã®ãƒªãƒ³ã‚¯ãŒæ­£ã—ãç”Ÿæˆã•ã‚Œãªã„éƒ¨åˆ†ãŒã‚ã‚‹ã®ã§ã€ãã®éƒ¨åˆ†ã‚’ä¿®æ­£ã—ã¦ãŠãã¾ã™ã€‚\nå¯¾è±¡ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ themes/indigo/layouts/404.html ã¨ themes/indigo/layouts/partials/header.html ã§ã™ãŒã€ä¿®æ­£æ–¹æ³•ã¯åŒã˜ã§ã™ã€‚\n\u0026lt;div id=\u0026#34;sitelogo\u0026#34;\u0026gt; - \u0026lt;a class=\u0026#34;glyph\u0026#34; alt=\u0026#34;Home\u0026#34; href=\u0026#34;{{ .Site.BaseURL }}\u0026#34;\u0026gt;\u0026lt;img src=\u0026#34;{{ .Site.BaseURL }}/images/site-logo.svg\u0026#34; alt=\u0026#34;Site Logo\u0026#34; height=\u0026#34;64px\u0026#34; width=\u0026#34;64px\u0026#34;\u0026gt;\u0026lt;/a\u0026gt; + \u0026lt;a class=\u0026#34;glyph\u0026#34; alt=\u0026#34;Home\u0026#34; href=\u0026#34;{{ .Site.BaseURL }}\u0026#34;\u0026gt;\u0026lt;img src=\u0026#34;{{ .Site.BaseURL }}images/site-logo.svg\u0026#34; alt=\u0026#34;Site Logo\u0026#34; height=\u0026#34;64px\u0026#34; width=\u0026#34;64px\u0026#34;\u0026gt;\u0026lt;/a\u0026gt; \u0026lt;/div\u0026gt; è¨˜äº‹ä½œæˆãƒ»ãƒ“ãƒ«ãƒ‰ è¨˜äº‹ä½œæˆ ãƒ–ãƒ­ã‚°è¨˜äº‹ã¯ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§æ–°è¦ä½œæˆã—ã¾ã™ã€‚\n$ hugo new post/new-post-name.md ä¸Šè¨˜ã®å ´åˆã€ https://michimani.net/post/new-post-name/ ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹è¨˜äº‹ãŒä½œæˆã•ã‚Œã¾ã™ã€‚\nè¨˜äº‹å†…ã§ä½¿ç”¨ã™ã‚‹ç”»åƒé¡ã¯ static/images ã®ä¸­ã«ç½®ã„ã¦ã€ /images/***.png ã®å½¢ã§æŒ¿å…¥ã—ã¾ã™ã€‚\nãƒ­ãƒ¼ã‚«ãƒ«ã§ç¢ºèª ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®ç¢ºèªã¯ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nhugo server -D | EN +------------------+----+ Pages | 36 Paginator pages | 0 Non-page files | 0 Static files | 66 Processed images | 0 Aliases | 14 Sitemaps | 1 Cleaned | 0 Total in 40 ms Watching for changes in /Users/hoge/michimani.net/{content,data,layouts,static,themes} Watching for config changes in /Users/hoge/michimani.net/config.toml Serving pages from memory Running in Fast Render Mode. For full rebuilds on change: hugo server --disableFastRender Web Server is available at http://localhost:1313/ (bind address 127.0.0.1) Press Ctrl+C to stop http://localhost:1313/ ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ç¢ºèªã—ã¾ã™ã€‚\nã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸæ™‚ç‚¹ã§ hugo ã®å£²ã‚Šã§ã‚ã‚‹é€Ÿã•ã‚’æ„Ÿã˜ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚Gatsby ã§ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒã®èµ·å‹•ã¾ã§æ•°ç§’ãŒã‹ã‹ã‚Šã¾ã—ãŸãŒã€hugo ã§ã¯ã€å‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹ã¨ãŠã‚Š 40 ms ã§ã™ã€‚\nãƒ“ãƒ«ãƒ‰ ãƒ“ãƒ«ãƒ‰ã¯ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚\n$ hugo | EN +------------------+----+ Pages | 36 Paginator pages | 0 Non-page files | 0 Static files | 66 Processed images | 0 Aliases | 14 Sitemaps | 1 Cleaned | 0 Total in 74 ms ã“ã¡ã‚‰ã‚‚ä¸€ç¬ã§ public ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚\nã¾ã¨ã‚ ä»¥ä¸Šã€Go è¨€èªã§ã§ãã¦ã„ã‚‹é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ hugo ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‹ã‚‰ãƒ“ãƒ«ãƒ‰ã¾ã§ã§ã—ãŸã€‚\nGatsby ã®ã¨ãã¨åŒæ§˜ã« ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§ã®è‡ªå‹•åŒ–ã«ã¤ã„ã¦ã¯æ¬¡å›æ›¸ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nã¨è¨€ã£ã¦ã‚‚ã€Gatsby ã®ã¨ãã«æ§‹ç¯‰ã—ãŸãƒ•ãƒ­ãƒ¼ã‚’å°‘ã—å¤‰æ›´ã™ã‚‹ã ã‘ã§æ¸ˆã‚€ã®ã§ã€æ–°ãŸã«çµ„ã¿ç›´ã™å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ã§ã¯ã€‚\n",
    "permalink": "https://michimani.net/post/install-hugo/",
    "title": "é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã‚’ Gatsby ã‹ã‚‰ Hugo ã«ç§»è¡Œã—ãŸ"
  },
  {
    "contents": " å‰å› ã¾ã§ã€å®Ÿéš›ã«å…¬é–‹ã™ã‚‹ã¨ã“ã‚ã¾ã§ã§ãã¾ã—ãŸã€‚\nå…¬é–‹ã™ã‚‹ã«ã¯ãƒ“ãƒ«ãƒ‰å¾Œã® public ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ S3 ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€ãã®ã‚ãŸã‚Šã‚‚è‡ªå‹•åŒ–ã—ãŸã„ã¨ã“ã‚ã§ã™ã€‚\nä»Šå›ã¯ã€AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã£ã¦è‡ªå‹•åŒ–ã‚’å®Ÿç¾ã—ã¾ã™ã€‚\nä½¿ã† AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ ä½¿ã†ã®ã¯æ¬¡ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚\nCodeCommit : ã‚½ãƒ¼ã‚¹ç®¡ç†ã«ä½¿ç”¨ã—ã¾ã™ã€‚ CodePipeline : ã‚½ãƒ¼ã‚¹ã®å¤‰æ›´ã‹ã‚‰ãƒ“ãƒ«ãƒ‰ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§ã®ãƒ•ãƒ­ãƒ¼ã‚’ç®¡ç†ã—ã¾ã™ã€‚ CodeBuild : ã‚½ãƒ¼ã‚¹ã®ãƒ“ãƒ«ãƒ‰ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ Lambda : Algolia ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’æ“ä½œã—ã¾ã™ã€‚ è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã®æµã‚Œ è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã®æµã‚Œã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nè¨˜äº‹ã‚’ä½œæˆã—ã¦ CodeCommit ã«ä½œæˆã—ãŸãƒªãƒã‚¸ãƒˆãƒªã« push Lambda ã§ Algolia ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’å‰Šé™¤ CodeBuild ã§ãƒ“ãƒ«ãƒ‰ã€S3 ã¸ã®ã‚½ãƒ¼ã‚¹ã®é…ç½® Lambda ã§å®Ÿè¡Œçµæœã‚’é€šçŸ¥ ã“ã‚Œã‚‰ã®æµã‚Œã‚’ CodePipeline ã§ç¹‹ã’ã¾ã™ã€‚\nCodePipeline ã®è¨­å®šã®æœ€çµ‚å½¢ã¯ä¸‹å›³ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\næµã‚Œã‚’ã²ã¨ã¤ãšã¤ã¿ã¦ã„ãã¾ã™ã€‚\n1. è¨˜äº‹ã‚’ä½œæˆã—ã¦ CodeCommit ã«ä½œæˆã—ãŸãƒªãƒã‚¸ãƒˆãƒªã« push ã“ã‚Œã¯ç‰¹ç­†ã™ã‚‹ã“ã¨ã¯ãªã„ã§ã™ã­ã€‚è¨˜äº‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã¦ commit â†’ push ã™ã‚‹ã ã‘ã§ã™ã€‚\n2. Lambda ã§ Algolia ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’å‰Šé™¤ ã“ã‚Œã§ã™ãŒã€Algolia ã¸ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç™»éŒ²ã¯ã€npm run build ã¤ã¾ã‚Š gatdby build ã‚’å®Ÿè¡Œã—ãŸéš›ã«ç™»éŒ²ã•ã‚Œã¾ã™ã€‚\nãã®éš›ã€åŒã˜ãƒšãƒ¼ã‚¸ã§ã‚ã£ã¦ã‚‚ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆID ãŒç•°ãªã‚‹ã¨åˆ¥ãƒšãƒ¼ã‚¸ã¨ã—ã¦ç™»éŒ²ã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ã“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆIDã¯ãƒ“ãƒ«ãƒ‰æ™‚ã®ç’°å¢ƒã«ã‚ˆã£ã¦æ±ºã¾ã‚‹ã‚‚ã®ã§ã€ä»Šå›ã®ã‚ˆã†ã« ä»®æƒ³ç’°å¢ƒã§ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹å ´åˆã¯ãƒ“ãƒ«ãƒ‰ã®ãŸã³ã«å€¤ãŒå¤‰ã‚ã‚Šã€çµæœçš„ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®é‡è¤‡ãŒã©ã‚“ã©ã‚“å¢—ãˆã¦ã—ã¾ã„ã¾ã™ã€‚\nã“ã‚Œã‚’å›é¿ã™ã‚‹ãŸã‚ã«ã€ãƒ“ãƒ«ãƒ‰å‰ã«æ—¢å­˜ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’å…¨ã¦å‰Šé™¤ã—ã¾ã™ã€‚\nã¨ã—ã¦ã¯ã€Lambda ã§ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œã£ã¦ Algolia ã® API ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nfrom algoliasearch import algoliasearch import boto3 def lambda_handler(event, context): try: ALGOLIA_APP_ID = \u0026#39;your_algolia_app_id\u0026#39; ALGOLIA_ADMIN_API_KEY = \u0026#39;your_algolia_admin_api_key\u0026#39; ALGOLIA_INDEX_NAME = \u0026#39;your_algolia_index_name\u0026#39; algolia = algoliasearch.Client(ALGOLIA_APP_ID, ALGOLIA_ADMIN_API_KEY) index = algolia.init_index(ALGOLIA_INDEX_NAME) res = index.clear_index() job_id = event[\u0026#34;CodePipeline.job\u0026#34;][\u0026#34;id\u0026#34;] put_job_success(job_id) except Exception as e: put_job_failer(job_id, e.reason) return res def put_job_success(job_id): pipeline = boto3.client(\u0026#39;codepipeline\u0026#39;) pipeline.put_job_success_result( jobId=job_id, currentRevision={ \u0026#39;revision\u0026#39;: \u0026#39;revision_string\u0026#39;, \u0026#39;changeIdentifier\u0026#39;: \u0026#39;changeIdentifier_string\u0026#39; } ) def put_job_failer(job_id, message): pipeline = boto3.client(\u0026#39;codepipeline\u0026#39;) pipeline.put_job_failure_result( jobId=job_id, failureDetails={ \u0026#39;type\u0026#39;: \u0026#39;JobFailed\u0026#39;, \u0026#39;message\u0026#39;: message } ) ã“ã“ã§æ³¨æ„ãŒå¿…è¦ãªã®ãŒã€ algoliasearch ã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒ Lambda ã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ä¸Šã«ã¯å­˜åœ¨ã—ãªã„ã¨ã„ã†ã“ã¨ã§ã™ã€‚\nã“ã‚Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ algoliasearch ã‚’ãƒ­ãƒ¼ã‚«ãƒ« (ã‚°ãƒ­ãƒ¼ãƒãƒ«ã§ã¯ãªã ã¨ã„ã†æ„å‘³ã§) ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã€ä¸Šè¨˜ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨å«ã‚ã¦ zip åŒ–ã—ã¦ Lambda ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚ä¸‹è¨˜ã®ã‚µã‚¤ãƒˆã‚’å‚è€ƒã«ã—ã¾ã—ãŸã€‚\nã€AWSã€‘Lambdaã§pipã—ãŸã„ã¨æ€ã£ãŸã¨ãã«ã™ã¹ãã“ã¨ 3. CodeBuild ã§ãƒ“ãƒ«ãƒ‰ã€S3 ã¸ã®ã‚½ãƒ¼ã‚¹ã®é…ç½® ç¶šã„ã¦ã€CodeBuild ã§ãƒ“ãƒ«ãƒ‰ã—ã¦ã€ãã®ã¾ã¾ S3 ã¸ã®é…ç½®ã¾ã§è¡Œã„ã¾ã™ã€‚\nCodeBuild ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç”»é¢ã‹ã‚‰ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå ä»»æ„ã«å…¥åŠ›ã—ã¾ã™ã€‚\nã‚½ãƒ¼ã‚¹ ã‚½ãƒ¼ã‚¹ãƒ—ãƒ­ãƒã‚¤ãƒ€ã« CodeCommit ã‚’æŒ‡å®šã—ã¦ã€å¯¾è±¡ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’æŒ‡å®šã—ã¾ã™ã€‚\nç’°å¢ƒ ãƒãƒãƒ¼ã‚¸ãƒ‰å‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ OS ã¯ Ubuntuã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã¯ aws/codebuild/nodejs:10.1.0 ã‚’é¸æŠã—ã¾ã™ã€‚\nã‚µãƒ¼ãƒ“ã‚¹ãƒ­ãƒ¼ãƒ«ã§ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªæ¨©é™ã‚’æŒã¤ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¦é¸æŠã—ã¾ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Resource\u0026#34;: [ \u0026#34;arn:aws:logs:ap-northeast-1:12345678XXXX:log-group:/aws/codebuild/{ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå}\u0026#34;, \u0026#34;arn:aws:logs:ap-northeast-1:12345678XXXX:log-group:/aws/codebuild/{ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå}:*\u0026#34; ], \u0026#34;Action\u0026#34;: [ \u0026#34;logs:CreateLogGroup\u0026#34;, \u0026#34;logs:CreateLogStream\u0026#34;, \u0026#34;logs:PutLogEvents\u0026#34; ] }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Resource\u0026#34;: [ \u0026#34;arn:aws:s3:::codepipeline-ap-northeast-1-*\u0026#34; ], \u0026#34;Action\u0026#34;: [ \u0026#34;s3:PutObject\u0026#34;, \u0026#34;s3:GetObject\u0026#34;, \u0026#34;s3:GetObjectVersion\u0026#34;, \u0026#34;s3:ListBucket\u0026#34; ] }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Resource\u0026#34;: [ \u0026#34;arn:aws:codecommit:ap-northeast-1:12345678XXXX:{ãƒªãƒã‚¸ãƒˆãƒªå}\u0026#34; ], \u0026#34;Action\u0026#34;: [ \u0026#34;codecommit:GitPull\u0026#34; ] }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Resource\u0026#34;: [ \u0026#34;arn:aws:s3:::{å¯¾è±¡ã®S3ãƒã‚±ãƒƒãƒˆå}/*\u0026#34; ], \u0026#34;Action\u0026#34;: [ \u0026#34;s3:PutObject\u0026#34; ] } ] } Buildspec ãƒ“ãƒ«ãƒ‰ã«é–¢ã™ã‚‹è¨­å®šã§ã™ã€‚\nãƒªãƒã‚¸ãƒˆãƒªã®ç›´ä¸‹ã« buildspec.yml ã‚’é…ç½®ã—ã¦ã‚‚è‰¯ã„ã®ã§ã™ãŒã€ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§æŒ‡å®šã—ã¾ã™ã€‚å†…å®¹ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªå½¢ã§ã™ã€‚\nversion: 0.2 phases: install: commands: - touch .npmignore pre_build: commands: - npm install build: commands: - echo GOOGLE_ANALYTICS_ID=UA-123456789-0 \u0026gt; .env - echo ALGOLIA_APP_ID=your_algolia_app_id \u0026gt;\u0026gt; .env - echo ALGOLIA_SEARCH_ONLY_API_KEY=your_algolia_search_only_api_key \u0026gt;\u0026gt; .env - echo ALGOLIA_ADMIN_API_KEY=your_algolia_admin_api_key \u0026gt;\u0026gt; .env - echo ALGOLIA_INDEX_NAME=your_algolia_index_name \u0026gt;\u0026gt; .env - echo FB_APP_ID= \u0026gt;\u0026gt; .env - npm run build post_build: commands: - aws s3 sync \u0026#34;public/\u0026#34; \u0026#34;s3://{å¯¾è±¡ã®ãƒã‚±ãƒƒãƒˆå}\u0026#34; --delete --acl \u0026#34;public-read\u0026#34; artifacts: base-directory: public files: - \u0026#34;**/*\u0026#34; build ã®éƒ¨åˆ†ã§ã¯ã€.env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ã„ã¾ã™ã€‚\nAPI ã‚­ãƒ¼ãªã©ã«ã¤ã„ã¦ã¯ç›´æ¥æ›¸ã„ã¦ã¾ã™ãŒã€æœ¬æ¥ã§ã‚ã‚Œã°ç’°å¢ƒå¤‰æ•°ã¨ã—ã¦åŸ‹ã‚è¾¼ã‚€ã®ãŒæ­£è§£ã ã¨æ€ã„ã¾ã™ã€‚\n4. Lambda ã§å®Ÿè¡Œçµæœã‚’é€šçŸ¥ æœ€å¾Œã«ã€çµæœã‚’é€šçŸ¥ã—ã¾ã™ã€‚\nä»Šå›ã¯ã¨ã‚Šã‚ãˆãšçµ‚ã‚ã£ãŸã“ã¨ãŒã‚ã‹ã‚Œã°ã„ã„ã®ã§å†…å®¹ã¯é©å½“ã§ã™ãŒã€ä¸‹è¨˜ã®ã‚ˆã†ãªå½¢ã§ Slack ã«é€šçŸ¥ã—ã¾ã™ã€‚\nimport boto3 import json import logging from urllib.request import Request, urlopen from urllib.error import URLError, HTTPError SLACK_CHANNEL = \u0026#39;channel_name\u0026#39; HOOK_URL = \u0026#39;https://hooks.slack.com/services/XXXXX...\u0026#39; logger = logging.getLogger() logger.setLevel(logging.INFO) def lambda_handler(event, context): post_to_slack(json.dumps(event, indent=2)) job_id = event[\u0026#34;CodePipeline.job\u0026#34;][\u0026#34;id\u0026#34;] put_job_success(job_id) return {\u0026#39;status\u0026#39;: \u0026#39;success\u0026#39;} def put_job_success(job_id): pipeline = boto3.client(\u0026#39;codepipeline\u0026#39;) pipeline.put_job_success_result( jobId=job_id, currentRevision={ \u0026#39;revision\u0026#39;: \u0026#39;revision_string\u0026#39;, \u0026#39;changeIdentifier\u0026#39;: \u0026#39;changeIdentifier_string\u0026#39; } ) def put_job_failer(job_id, message): pipeline = boto3.client(\u0026#39;codepipeline\u0026#39;) pipeline.put_job_failure_result( jobId=job_id, failureDetails={ \u0026#39;type\u0026#39;: \u0026#39;JobFailed\u0026#39;, \u0026#39;message\u0026#39;: message } ) post_to_slack(message) def post_to_slack(message): slack_message = { \u0026#39;channel\u0026#39;: SLACK_CHANNEL, \u0026#39;attachments\u0026#39;: [ { \u0026#39;fields\u0026#39;: [ { \u0026#39;value\u0026#39;: \u0026#34;Finished deploying. \\n```\\n{}\\n```\u0026#34;.format(message) } ] } ] } req = Request(HOOK_URL, json.dumps(slack_message).encode(\u0026#39;utf-8\u0026#39;)) try: response = urlopen(req) response.read() logger.info(\u0026#34;Message posted to %s\u0026#34;, slack_message[\u0026#39;channel\u0026#39;]) except HTTPError as e: logger.error(\u0026#34;Request failed: %d %s\u0026#34;, e.code, e.reason) except URLError as e: logger.error(\u0026#34;Server connection failed: %s\u0026#34;, e.reason) ãƒãƒã£ãŸã¨ã“ã‚ CodePipeline ã‹ã‚‰ Lambda ã‚’å‘¼ã¶ã¨ãã¯ã€ãã® Lambda å†…ã§å¿…ãš put_job_success_result() ã¾ãŸã¯ put_job_failure_result() ã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã“ã‚Œã‚’ã—ãªã„ã¨ã€å‡¦ç†ãŒ CodePipeline ã«è¿”ã£ã¦ã“ãšã«ã€æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«ç§»ã‚‰ãšã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§å¤±æ•—ã—ã¦ã„ã¾ã„ã¾ã™ã€‚\nä»¥ä¸Šã§ã€è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã®ãƒ•ãƒ­ãƒ¼ãŒå®Œæˆã—ã¾ã—ãŸã€‚\nä»Šå›ã¯ã™ã¹ã¦ AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ç”¨ã—ã¾ã—ãŸãŒã€ã‚„ã¯ã‚Šè¦ªå’Œæ€§ãŒé«˜ã„ã®ã§è¨­å®šã‚‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ã»ã¨ã‚“ã©ã§ãã¦ã—ã¾ã„ã¾ã—ãŸã€‚\nã²ã¨ã¾ãšã“ã‚Œã§ç’°å¢ƒãŒæ•´ã£ãŸæ„Ÿã˜ãªã®ã§ã€ã“ã‚Œã‹ã‚‰è‰²ã€…ã¨æ›¸ãé€²ã‚ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/deploying-gatsby/",
    "title": "Gatsby ã§é™çš„ã‚µã‚¤ãƒˆã‚’ä½œã£ã¦ã¿ãŸ - è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ç·¨ -"
  },
  {
    "contents": "Mac ã§ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ—ãƒãƒ£ã‚’æ’®ã‚‹ã¨ã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-10-22_22.27.08.png ã®ã‚ˆã†ãªæ„Ÿã˜ã§ãƒ•ã‚¡ã‚¤ãƒ«åã«åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ãŒå«ã¾ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚ ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ ã®éƒ¨åˆ†ã¯ã‚³ãƒãƒ³ãƒ‰ã§å¤‰æ›´ã§ãã¾ã™ (ç„¡ã—ã«ã‚‚ã§ãã‚‹) ãŒã€ãã®éƒ¨åˆ†ã¨æ—¥ä»˜ã®é–“ã«ã¯åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ãŒå…¥ã£ã¦ã—ã¾ã„ã¾ã™ã€‚\nã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰±ã†éš›ã«ã¯åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ãŒã‚ã‚‹ã¨é¢å€’ãªã®ã§ã€ã©ã†ã«ã‹ã—ã¦åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã‚’ç„¡ãã—ãŸã„ã€ã¨ã„ã†ã®ãŒä»Šå›ã®ç›®çš„ã§ã™ã€‚ ã¨ã‚Šã‚ãˆãšã€åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã‚’ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ _ ã«å¤‰æ›ã™ã‚‹ã“ã¨ã‚’ã‚´ãƒ¼ãƒ«ã«ã—ã¾ã™ã€‚\nå‰æº–å‚™ ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ—ãƒãƒ£ã®ä¿å­˜å…ˆã‚’é©å½“ãªãƒ•ã‚©ãƒ«ãƒ€ã«è¨­å®šã—ã¾ã™ã€‚\n$ defaults write com.apple.screencapture location /Users/hoge/Pictures/_ScreenCaptureTmp $ killall SystemUIServer ä»Šå›ã¯ /Users/hoge/Pictures/_ScreenCaptureTmp ã¨ã—ã¾ã™ã€‚(TMP_SC_DIR) ã‚¹ã‚¯ãƒªãƒ³ã‚­ãƒ£ãƒ—ãƒãƒ£ã¯ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã«ä½œæˆã•ã‚Œã¾ã™ã€‚åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã‚’ãƒ•ã‚¡ã‚¤ãƒ«åã«å«ã‚“ã çŠ¶æ…‹ã§ã€‚\nãã—ã¦ã€æœ¬å½“ã«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ—ãƒãƒ£ã‚’ä¿å­˜ã—ãŸã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç”¨æ„ã—ã¾ã™ã€‚ ä»Šå›ã¯ /Users/hoge/Dropbox/200_photos/001_SC_MBP ã¨ã—ã¾ã™ã€‚(COMP_SC_DIR)\nã©ã†ã™ã‚‹ã‹ (æ¦‚è¦) ä»¥ä¸‹ã‚’å®Ÿç¾ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œã‚Šã¾ã™ (ä»Šå›ã¯ Python ã§ä½œã‚Šã¾ã—ãŸ) TMP_SC_DIR å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ•ã‚¡ã‚¤ãƒ«åã«å«ã¾ã‚Œã‚‹åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã‚’ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã«ç½®æ›ã™ã‚‹ ãƒ•ã‚¡ã‚¤ãƒ«åã‚’ç½®æ›ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ COMP_SC_DIR ã«ç§»å‹•ã™ã‚‹ ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ—ãƒãƒ£ã‚’æ’®ã‚‹ãŸã³ã« 1 ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ ã©ã†ã™ã‚‹ã‹ (è©³ç´°) 1 ã‚’å®Ÿç¾ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆ import glob import os TMP_SC_DIR = \u0026#39;/Users/hoge/Pictures/_ScreenCaptureTmp/\u0026#39; COMP_SC_DIR = \u0026#39;/Users/hoge/Dropbox/200_photos/001_SC_MBP/\u0026#39; i = 1 tmp_sc_list = glob.glob(TMP_SC_DIR + \u0026#39;*.png\u0026#39;) if len(tmp_sc_list) == 0: print(\u0026#39;no screen capture.\u0026#39;) else: for file in tmp_sc_list: os.rename( file, file.replace(TMP_SC_DIR, COMP_SC_DIR).replace(\u0026#39; \u0026#39;, \u0026#39;_\u0026#39;)) i += 1 print( \u0026#39;{} screen capture(s) rename and move, completely.\u0026#39; .format(str(len(tmp_sc_list)))) ã“ã‚Œã‚’é©å½“ãªå ´æ‰€ã«ç½®ãã¾ã™ã€‚ ä»Šå›ã¯ /Users/hoge/Projects/system/rename_and_move_screen_capture.py ã¨ã—ã¾ã™ã€‚\nAutomator ã§ãƒ•ã‚©ãƒ«ãƒ€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ Automator ã¯ Mac ã§ã®æ§˜ã€…ãªæ“ä½œã‚’è‡ªå‹•åŒ–ã—ã¦ãã‚Œã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å…¥ã£ã¦ã„ã¾ã™ã€‚ ä»Šå›ã¯ãã® Automator ã§\n1.TMP_SC_DIR ã‚’ç›£è¦–ã™ã‚‹ 2. ãƒ•ã‚¡ã‚¤ãƒ«ãŒç½®ã‹ã‚ŒãŸã‚‰ rename_and_move_screen_capture.py ã‚’å®Ÿè¡Œã™ã‚‹ 3. å®Ÿè¡Œçµæœã‚’é€šçŸ¥ã™ã‚‹\nã¨ã„ã†ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œã™ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¾ã™ã€‚\nè¨­å®šã«ã¤ã„ã¦ã¯ã‚­ãƒ£ãƒ—ãƒãƒ£ã®ã¨ãŠã‚Šã§ã™ã€‚\nå¤‰æ•°ã®å€¤ã‚’è¨­å®š ã¯ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ãŸã¨ãã«å‡ºåŠ›ã—ã¦ã„ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤‰æ•°ã«è¨­å®šã—ã¦ã€é€šçŸ¥ã®éš›ã«è¡¨ç¤ºã•ã›ã‚‹ãŸã‚ã«å…¥ã‚Œã¦ã„ã¾ã™ã€‚\nã§ã€ã“ã‚Œã‚’é©å½“ãªåå‰ã§ä¿å­˜ã—ã¦ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ—ãƒãƒ£ã‚’æ’®ã£ã¦æ•°ç§’å¾Œã«é€šçŸ¥ãŒãã¾ã™ã€‚\nã“ã‚Œã§ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ—ãƒãƒ£ã®åŠè§’ã‚¹ãƒšãƒ¼ã‚¹å•é¡Œã¯ãªã‚“ã¨ã‹ãªã‚Šã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/develop-handle-whitespace-in-screen-captcha-in-mac/",
    "title": "Mac ã§æ’®ã£ãŸã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ—ãƒãƒ£ã®ãƒ•ã‚¡ã‚¤ãƒ«åã«å«ã¾ã‚Œã‚‹åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã‚’ Automator ã§ã©ã†ã«ã‹ã™ã‚‹"
  },
  {
    "contents": "ä»Šå›ã¯ã€ä½œã£ãŸã‚µã‚¤ãƒˆã‚’å®Ÿéš›ã«å…¬é–‹ã™ã‚‹ã¾ã§ã®è©±ã§ã™ã€‚\nGatsbyJS ã¯é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãªã®ã§ã€gatsby build ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ç”Ÿæˆã•ã‚Œã‚‹ public ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã€ã©ã“ã‹ã—ã‚‰ã®ã‚µãƒ¼ãƒã«ç½®ã‘ã°ãƒšãƒ¼ã‚¸ãŒå…¬é–‹ã•ã‚Œã¾ã™ã€‚\nä»Šå›ã¯ AWS ã® CloudFront ã¨ S3 ã‚’ä½¿ã£ã¦å…¬é–‹ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nAWS ã§ä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ ä»Šå› AWS ã®ä¸­ã§ã‚‚ã€ä¸‹è¨˜ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã„ã¾ã™ã€‚\nRoute 53\nãƒ‰ãƒ¡ã‚¤ãƒ³ (michimani.net) ã®ç®¡ç† CloudFront\nCDNã€‚SSL å¯¾å¿œã®ãŸã‚ã«ä½¿ã† Certificate Manager\nSSL è¨¼æ˜æ›¸ã®ç®¡ç† S3\nãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­ç½®å ´æ‰€ ãŸã å…¬é–‹ã™ã‚‹ã ã‘ã§ã‚ã‚Œã° S3 ã ã‘ã§ã„ã„ã®ã§ã™ãŒã€SSL å¯¾å¿œã€ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ä½¿ç”¨ã®ãŸã‚ã«ä»–ã® 3 ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ Route 53 ã§ç®¡ç†ã™ã‚‹ ä»Šå›ä½¿ã†ãƒ‰ãƒ¡ã‚¤ãƒ³ michimani.net ã‚’ Route 53 ã§ç®¡ç†ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nã“ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯ Route 53 ã§å–å¾—ã—ãŸã‚‚ã®ã§ã¯ãªãã€ãŠåå‰.com ã§å–å¾—ã—ãŸã‚‚ã®ãªã®ã§ã€ãŠåå‰.com ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ Navi ã§ã‚‚è¨­å®šãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ Route 53 ã«ç™»éŒ²ã™ã‚‹ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ Route 53 ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰ Hosted zones ã‚’é¸æŠã—ã€Create Hosted Zone ã‚’æŠ¼ã—ã¦ã€Domain Name ã« ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’å…¥åŠ›ã—ã¦ Create ã‚’æŠ¼ã—ã¾ã™ã€‚\nã™ã‚‹ã¨ã€ä½œæˆã—ãŸã‚¾ãƒ¼ãƒ³ã®è©³ç´°ç”»é¢ã§ 4 ã¤ã® NS ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªã™ã‚‹ã¨ãŒã§ãã¾ã™ã€‚\nãŠåå‰.com ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ Navi ã§ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒã‚’ç™»éŒ²ã™ã‚‹ ç”Ÿæˆã•ã‚ŒãŸ NS ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ã€ãŠåå‰.com ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ Navi \u0026gt; ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒè¨­å®š ã‹ã‚‰ç™»éŒ²ã—ã¾ã™ã€‚\nS3ãƒã‚±ãƒƒãƒˆã®ä½œæˆã€CroudFront ã®è¨­å®š ã“ã®ã‚ã¨ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªæ‰‹é †ã§é€²ã‚ã¦ã„ãã¾ã™ã€‚\nCertificate Manager ã§ SSL è¨¼æ˜æ›¸ã‚’ç™ºè¡Œ S3 ã«ãƒã‚±ãƒƒãƒˆä½œæˆ CloudFront ã§ Distribution ä½œæˆ Route 53 ã§ DNS è¨­å®š ãŸã ã€ã“ã®æ‰‹ã®æ–¹æ³•ã«ã¤ã„ã¦ã¯æ—¢ã«æ§˜ã€…ãªã¨ã“ã‚ã«çŸ¥è¦‹ãŒè»¢ãŒã£ã¦ãŠã‚Šã€ãã®æ‰‹é †ã«å¾“ã£ã¦æ“ä½œã™ã‚Œã°ã†ã¾ãã„ãã¾ã™ã€‚ ç§ã®å ´åˆã€ä¸‹è¨˜ã‚µã‚¤ãƒˆã‚’å‚è€ƒã«è¨­å®šã‚’è¡Œã„ã¾ã—ãŸã€‚\nCloudFront ã§ S3 é™çš„ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚’ SSL/TLS ã«å¯¾å¿œã•ã›ã‚‹ ãƒ“ãƒ«ãƒ‰æ™‚ã®æ³¨æ„ ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°å…ˆã®æº–å‚™ãŒæ•´ãˆã°ã€ã‚ã¨ã¯ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é…ç½®ã™ã‚‹ã ã‘ã§ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã™ã‚‹ã«ã¯ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n$ gatsby build ã™ã‚‹ã¨ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã« public ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã€ãã®ä¸­èº«ã‚’ S3 ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚\nãŸã ã€ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹éš›ã«ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã«ä¸‹è¨˜ã®ã‚ˆã†ãªç’°å¢ƒè¨­å®šãƒ•ã‚¡ã‚¤ãƒ« .env ã‚’ç½®ã„ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nGOOGLE_ANALYTICS_ID= ALGOLIA_APP_ID= ALGOLIA_SEARCH_ONLY_API_KEY= ALGOLIA_ADMIN_API_KEY= ALGOLIA_INDEX_NAME= FB_APP_ID= é …ç›®ã®é€šã‚Šã€Google Analytics ã‚„ Algolia ã«ã¤ã„ã¦ã®è¨­å®šé …ç›®ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nã“ã‚Œã‚‰ã®ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ©ç”¨ã®æœ‰ç„¡ã«ã‹ã‹ã‚ã‚‰ãšã€ã“ã® .env ãŒãƒ“ãƒ«ãƒ‰æ™‚ã«ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ãŸã‚ã€å€¤ãŒç©ºã®çŠ¶æ…‹ã§è¨­ç½®ã—ã¦ãŠãã¾ã™ã€‚\nâ€»Algolia ã®è¨­å®šã«ã¤ã„ã¦ã¯ã€ starter-personal-blog ã®å…¬å¼ãƒšãƒ¼ã‚¸ã«æ‰‹é †ãŒè¼‰ã£ã¦ã„ã¾ã™ã€‚\nSetup Algolia account for your GatsbyJS blog ä»¥ä¸Šã§ã‚µã‚¤ãƒˆã®å…¬é–‹ã¾ã§ãŸã©ã‚Šç€ãã¾ã—ãŸã€‚\næ¬¡å›ã¯ CodeCommit + CodePipeline + CodeBuild ã§ã€è¨˜äº‹ä½œæˆã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§ã®è‡ªå‹•åŒ–ã«ã¤ã„ã¦æ›¸ãã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/hosting-gatsby/",
    "title": "Gatsby ã§é™çš„ã‚µã‚¤ãƒˆã‚’ä½œã£ã¦ã¿ãŸ - ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ç·¨ -"
  },
  {
    "contents": " å‰å› ã¯ Gatsby ã‚’ \u0026lt;strong\u0026gt;starter-personal-blog\u0026lt;/strong\u0026gt; ã¨ã„ã† starter ã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ãŸã€‚\nä»Šå›ã¯ãã® starter-personal-blog ã®è¨­å®šã«ã¤ã„ã¦ã§ã™ã€‚ã©ã“ã‚’ã©ã†å¤‰ãˆã‚Œã°ã„ã„ã®ã‹ã£ã¦ã„ã†ã€‚\nãƒ–ãƒ­ã‚°å…¨ä½“ã®è¨­å®š ãƒ–ãƒ­ã‚°ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚„èª¬æ˜ã€æ›¸ã„ã¦ã‚‹äººã®æƒ…å ± (SNS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãªã©) ã®è¨­å®šã§ã™ã€‚\nè§¦ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã¯ content/meta/config.js ã§ã™ã€‚\nã‚¿ã‚¤ãƒˆãƒ« - siteTitle: \u0026#34;PersonalBlog - a blog starter for GatsbyJS\u0026#34;, // \u0026lt;title\u0026gt; - shortSiteTitle: \u0026#34;PersonalBlog GatsbyJS Starter\u0026#34;, // \u0026lt;title\u0026gt; ending for posts and pages - siteDescription: \u0026#34;PersonalBlog is a GatsbyJS starter.\u0026#34;, + siteTitle: \u0026#34;michimani.net - a simple blog\u0026#34;, // \u0026lt;title\u0026gt; + shortSiteTitle: \u0026#34;michimani.net\u0026#34;, // \u0026lt;title\u0026gt; ending for posts and pages + siteDescription: \u0026#34;michimani.net is a simple blog.\u0026#34;, siteTitle :html ã® title ã‚¿ã‚°ã®å€¤ã«ãªã‚Šã¾ã™\nshortSiteTitle : ãƒ•ãƒƒã‚¿ãƒ¼ãªã©ã«è¡¨ç¤ºã•ã‚Œã¾ã™\nsiteDescription : ãƒ•ãƒƒã‚¿ãƒ¼ãªã©ã«è¡¨ç¤ºã•ã‚Œã¾ã™\nURLã€è¨€èª - siteUrl: \u0026#34;https://gatsby-starter-personal-blog.greglobinski.com\u0026#34;, + siteUrl: \u0026#34;https://michimani.net\u0026#34;, - siteLanguage: \u0026#34;en\u0026#34;, + siteLanguage: \u0026#34;ja\u0026#34;, æ›¸ã„ã¦ã‚‹äººã®æƒ…å ± åå‰ã€èª¬æ˜ã€ã‚¢ã‚¤ã‚³ãƒ³ - infoTitle: \u0026#34;greg lobinski\u0026#34;, - infoTitleNote: \u0026#34;personal blog\u0026#34;, + infoTitle: \u0026#34;michimani\u0026#34;, + infoTitleNote: \u0026#34;web developer, motorcycle rider, ...\u0026#34;, ã‚¢ã‚¤ã‚³ãƒ³ã¯ src/images/jpg/avatar.jpg ã‚’å¥½ããªç”»åƒã«å¤‰ãˆã¾ã™ã€‚ã‚µã‚¤ã‚ºã¯æ­£æ–¹å½¢ã§ç”¨æ„ã—ã¾ã™ãŒã€ 100px x 100px ã‚ã‚Œã°ååˆ†ã§ã™ã€‚\nãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ å¾Œè¿°ã—ã¾ã™ãŒã€starter-personal-blog ã«ã¯ç‹¬è‡ªã®å•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ æ©Ÿèƒ½ã‚’æŒã£ã¦ã„ã¾ã™ã€‚ãŸã ã—ã“ã‚Œã¯ netlify ã¨ã„ã†ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°(?)ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã§ã™ã€‚\nä»Šå›ã¯ CloudFront + S3 ã§é‹ç”¨ã™ã‚‹ã®ã§ã€ç‰¹ã«æ„å‘³ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\n- contactEmail: \u0026#34;john@doe.com\u0026#34;, + contactEmail: \u0026#34;michimani210[@]gmail.com\u0026#34;, SNS ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æ¬„ã«è¡¨ç¤ºã•ã‚Œã‚‹æƒ…å ±ã§ã™ã€‚\nä»Šå› Facebook ã¯ç„¡ã—ã¨ã™ã‚‹ã®ã§å‰Šé™¤ã—ã¦ã¾ã™ã€‚\n- { name: \u0026#34;github\u0026#34;, url: \u0026#34;https://github.com/greglobinski\u0026#34; }, - { name: \u0026#34;twitter\u0026#34;, url: \u0026#34;https://twitter.com/greglobinski\u0026#34; }, - { name: \u0026#34;facebook\u0026#34;, url: \u0026#34;http://facebook.com/greglobinski\u0026#34; } + { name: \u0026#34;github\u0026#34;, url: \u0026#34;https://github.com/michimani\u0026#34; }, + { name: \u0026#34;twitter\u0026#34;, url: \u0026#34;https://twitter.com/_michimani_\u0026#34; } ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ« ç¶šã„ã¦ã€å„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ã§ã™ã€‚\nå¤‰æ›´ã‚’åŠ ãˆã‚‹ã®ã¯ä¸‹è¨˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚\ncontent/parts/author.md : è¨˜äº‹ä¸‹ã«è¡¨ç¤ºã•ã‚Œã¾ã™ content/parts/footnote.md : ãƒ•ãƒƒã‚¿ãƒ¼ã«è¡¨ç¤ºã•ã‚Œã¾ã™ content/parts/info.md : ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã«è¡¨ç¤ºã•ã‚Œã¾ã™ ãã®ä»–ã®ã‚«ã‚¹ã‚¿ãƒ  ä¸Šã§æ›¸ãã¾ã—ãŸãŒã€ä»Šå›ã¯ starter-personal-blog ç‹¬è‡ªã®å•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½¿ã„ã¾ã›ã‚“ã€‚ãªã®ã§ã€ src/pages/contact.js ã‚’ç·¨é›†ã—ã¾ã™ã€‚\n\u0026lt;Article\u0026gt; \u0026lt;PageHeader title=\u0026#34;Contact\u0026#34; /\u0026gt; \u0026lt;Content\u0026gt; - Feel free to contact me by email: \u0026lt;Obfuscate email={config.contactEmail} /\u0026gt; or use the - form below. + ãŠå•ã„åˆã‚ã›ã¯ã€ä¸‹è¨˜ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ ã¾ãŸã¯ Twitter ã¸ã®ãƒªãƒ—ãƒ©ã‚¤ï¼DM ã§ãŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚\u0026lt;br /\u0026gt;\u0026lt;br /\u0026gt; + mail: {config.contactEmail}ã€€â€»[a] ã¯ @ ã«å¤‰æ›ã—ã¦ãã ã•ã„ \u0026lt;br /\u0026gt; + twitter: @{config.authorTwitterAccount} \u0026lt;/Content\u0026gt; - \u0026lt;Form /\u0026gt; \u0026lt;/Article\u0026gt; \u0026lt;Form /\u0026gt; ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ã§ã€ç‹¬è‡ªã®å•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ã‚’éè¡¨ç¤ºã«ã—ã¦ã¾ã™ã€‚\nä»¥ä¸Šã§ãƒ–ãƒ­ã‚°ã®è¨­å®šã¯å®Œäº†ã§ã™ã€‚ã‚ã¨ã¯ã²ãŸã™ã‚‰ãƒ–ãƒ­ã‚°ã‚’æ›¸ã„ã¦ã„ãã ã‘ã§ã™ã€‚\nã¨ã¯è¨€ã£ã¦ã‚‚ã€å…¬é–‹ã™ã‚‹ãŸã‚ã«ã¯ AWS ã® CloudFront + S3 ã‚’ä½¿ã„ã¾ã™ã€‚ã¾ãŸã€ã‚½ãƒ¼ã‚¹ç®¡ç†ã«ã¯ CodeCommitã€CI/CD ã«ã¯ CodePipeline ã¨ CodeBuild ã‚’ä½¿ã„ã¾ã™ã€‚\næ¬¡å›ä»¥é™ã¯ãã®ã‚ãŸã‚Šã«ã¤ã„ã¦æ›¸ãã¾ã™ã€‚ã§ã¯ã€‚\n",
    "permalink": "https://michimani.net/post/setting-gatsby-starter-personal-blog/",
    "title": "Gatsby ã§é™çš„ã‚µã‚¤ãƒˆã‚’ä½œã£ã¦ã¿ãŸ - starter-personal-blog ã®è¨­å®šç·¨ -"
  },
  {
    "contents": "WordPressã€ã¯ã¦ãªãƒ–ãƒ­ã‚°ã€Qiita ãªã©ã§è‰²ã€…æ›¸ã„ã¦ãã¾ã—ãŸãŒã€è‰²ã‚“ãªã‚‚ã®ã‚’è§¦ã£ã¦ã¿ã‚ˆã†ã¨ã„ã†ã“ã¨ã§ã€Gatsby ã§é™çš„ã‚µã‚¤ãƒˆ (ã“ã®ãƒ–ãƒ­ã‚°) ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚\nã¾ãšã¯ Gatsby ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¦è¡¨ç¤ºã§ãã‚‹ã¨ã“ã‚ã¾ã§ã‚„ã£ã¦ã¿ã¾ã™ã€‚\n1. gatsby-cli ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« $ npm install gatsby-cli --global 2. python 2.7 ã®å®Ÿè¡Œç’°å¢ƒæº–å‚™ Gatsby ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¦ npm install ã™ã‚‹ã¨ãã« python 2.7 ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€å®Ÿè¡Œç’°å¢ƒã‚’æ•´ãˆã¾ã™ã€‚\npyenv ã‚’ä½¿ã„ã¾ã™ã€‚\n$ pyenv install 2.7.14 Installing Python-2.7.14... ERROR: The Python zlib extension was not compiled. Missing the zlib? Please consult to the Wiki page to fix the problem. https://github.com/yyuu/pyenv/wiki/Common-build-problems BUILD FAILED ãƒ“ãƒ«ãƒ‰ã«å¤±æ•—ã—ãŸã‚ˆã†ã§ã™ã€‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹ãƒšãƒ¼ã‚¸ã‚’å‚è€ƒã«ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ CFLAGS=\u0026#34;-I$(xcrun --show-sdk-path)/usr/include\u0026#34; pyenv install -v 2.7.14 ... ... ... Installed Python-2.7.14 to /Users/hoge/.pyenv/versions/2.7.14 ç„¡äº‹ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã—ãŸã€‚\npyenv ã‚’ä½¿ã†ã¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå˜ä½ã§ Python ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã¾ã™ã€‚\nãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã¯åŸºæœ¬çš„ã« 3 ç³»ã‚’ä½¿ã†ã®ã§ã€Gatsby ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚Šã€ãã“ã ã‘ 2.7.14 ã«ã—ã¾ã™ã€‚\n$ mkdir gatsby_project $ cd gatsby_project $ pyenv versions system 2.7.14 * 3.6.4 (set by /Users/hoge/.pyenv/version) $ pyenv local 2.7.14 $ python -V Python 2.7.14 3. Gatsby ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ ãƒ–ãƒ­ã‚°ã¨ã—ã¦ä½¿ã†ãŸã‚ã€ãƒ–ãƒ­ã‚°ç”¨ã® starter ã‚’ä½¿ã„ã¾ã™ã€‚\nstarter ã¨ã¯ã€ã‚ã‚‰ã‹ã˜ã‚ã‚¹ã‚¿ã‚¤ãƒ«ãŒæ•´ãˆã‚‰ã‚ŒãŸã€ã‚µã‚¤ãƒˆã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚\nä»Šå›ã¯ \u0026lt;strong\u0026gt;gatsby-starter-personal-blog\u0026lt;/strong\u0026gt; ã¨ã„ã† starter ã‚’ä½¿ã„ã¾ã™ã€‚\n$ gatsby new michimani.net https://github.com/greglobinski/gatsby-starter-personal-blog.git info Creating new site from git: https://github.com/greglobinski/gatsby-starter-personal-blog.git ... ... ... ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ cd michimani.net $ gatsby develop success delete html and css files from previous builds â€” 0.018 s success open and validate gatsby-config â€” 0.018 s success copy gatsby files â€” 0.029 s success onPreBootstrap â€” 2.056 s success source and transform nodes â€” 0.589 s success building schema â€” 0.678 s success createLayouts â€” 0.012 s success createPages â€” 0.107 s success createPagesStatefully â€” 0.028 s success onPreExtractQueries â€” 0.005 s success update schema â€” 0.151 s success extract queries from components â€” 0.195 s success run graphql queries â€” 4.106 s success write out page data â€” 0.023 s success write out redirect data â€” 0.001 s Generating image thumbnails [==============================] 391/391 11.8 secs 100% info bootstrap finished - 21.465 s success onPostBootstrap â€” 0.002 s DONE Compiled successfully in 12914ms 21:40:02 You can now view gatsby-starter-personal-blog in the browser. http://localhost:8000/ View GraphiQL, an in-browser IDE, to explore your site\u0026#39;s data and schema http://localhost:8000/___graphql Note that the development build is not optimized. To create a production build, use gatsby build ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:8000/ ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ç¢ºèªã—ã¾ã™ã€‚\nã“ã®ã‚ã¨ã¯ ã¨ã‚Šã‚ãˆãšãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ ã“ã®ã‚ã¨ã¯ã€starter ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ã‚„ã€å®Ÿéš›ã«è¨˜äº‹ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ãŒã€ãã‚Œã¯æ¬¡å›ã«ã€‚\n",
    "permalink": "https://michimani.net/post/gatsby-install/",
    "title": "Gatsby ã§é™çš„ã‚µã‚¤ãƒˆã‚’ä½œã£ã¦ã¿ãŸ - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç·¨ -"
  },
  {
    "contents": "Sublime Text 3 ã§ TypeScript ã®é–‹ç™ºç’°å¢ƒã‚’æ•´ç†ã—ãŸã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚\nã€ŒSublime Text TypeScriptã€ã§ã‚°ã‚°ã‚‹ã¨ T3S ã¨ã„ã†ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å…¥ã‚Œã‚‹è¨˜äº‹ãŒãƒ’ãƒƒãƒˆã—ã¾ã™ãŒã€ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã‚‚ã†ä½•å¹´ã‚‚ãƒ¡ãƒ³ãƒ†ãƒ³ãƒŠã‚¹ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ README ã«ã‚‚ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nSTATUS : Not maintained Due to a lack of time, the lack of will to continue working on it and the fact that i\u0026rsquo;ve changed my code editor, this plugin will no longer be maintained. I\u0026rsquo;ve created this plugin mainly so i could code with typescript on sublime text, it served me well and i hope it helped others too, luckily there\u0026rsquo;s other options right now for people using sublimetext :\n. ArcticTypescript a fork of TS3 with lots of change and work to tackle performance issues : https://github.com/Phaiax/ArcticTypescript . And microsoft official sublimetext typescript plugin : https://github.com/Microsoft/TypeScript-Sublime-Plugin Thx to all the people who contributed to this plugin\nSee you space cowboys\nä¸Šè¨˜ã®æ–‡ã«ã‚‚ã‚ã‚‹ã‚ˆã†ã«ã€ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ä»£ã‚ã‚Šã« Microsoft/TypeScript-Sublime-Plugin ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚\nå‰æ node ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« Sublime Text ã® Package Manager ã‹ã‚‰ã§ã¯ãªãã€Github ã‹ã‚‰ãƒªãƒã‚¸ãƒˆãƒªã‚’ clone ã™ã‚‹æ–¹æ³•ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\nSublime Text ã® Package ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹• Sublime Text ã® Package ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ã€Mac ã ã¨ /Users/hogehoge/Library/Application Support/Sublime Text 3/Packages ã®ã‚ˆã†ã«ãªå ´æ‰€ã«ã‚ã‚Šã¾ã™ã€‚ ã‚ã‹ã‚‰ãªã„å ´åˆã¯ã€Sublime Text ã‚’èµ·å‹•ã—ã¦ Preferences \u0026gt; Browse Packages ... ã‚’é¸æŠã™ã‚‹ã¨ Package ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å ´æ‰€ãŒã‚ã‹ã‚Šã¾ã™ã€‚\n$ cd /Users/hogehoge/Library/Application\\ Support/Sublime\\ Text\\ 3/Packages Microsoft/TypeScript-Sublime-Plugin ã‚’ clone README ã«ã‚ã‚‹é€šã‚Šã€clone ã‚³ãƒãƒ³ãƒ‰ã‚’å©ãã¾ã™ã€‚\n$ git clone --depth 1 https://github.com/Microsoft/TypeScript-Sublime-Plugin.git TypeScript node ã® PATH è¨­å®š (â€»ç’°å¢ƒã«ã‚ˆã£ã¦ã¯ä¸è¦) ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ã†ãŸã‚ã«ã¯ node ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã«ã‚ˆã£ã¦ã¯ä½œæ¥­ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚ ã¾ãšã¯ node ã®ãƒ‘ã‚¹ã‚’ç¢ºèªã—ã¾ã™ã€‚\n$ which node /Users/hogehoge/.nodebrew/current/bin/node ã“ã“ã§ã€ /usr/local/bin ã ã£ãŸå ´åˆã¯ ä½œæ¥­ä¸è¦ ã§ã™ã€‚\nnodebrew ã‚’ä½¿ã£ã¦ node ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã‚‹ã¨ã€ä¸Šã®ã‚ˆã†ãªãƒ‘ã‚¹ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€è¿½åŠ ã§ä½œæ¥­ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚ ã¨ã„ã†ã®ã‚‚ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ /usr/local/bin ã‚’è¦‹ã«è¡Œãã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚\nnode ã® PATH è¨­å®šã¯ã€ Preferences \u0026gt; Setting (âŒ˜ + , ã§ã‚‚å¯) ã§ Preferences.sublime-setting - User ã‚’é–‹ãã¾ã™ã€‚ è¨­å®šã¯ json å½¢å¼ã§è¨˜è¿°ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€ä»¥ä¸‹ã®è¨­å®šã‚’è¿½è¨˜ã—ã¾ã™ã€‚\n{ \u0026#34;node_path\u0026#34;: \u0026#34;/Users/hogehoge/.nodebrew/current/bin/node\u0026#34; } Tips and Known Issues ? Microsoft/TypeScript-Sublime-Plugin Wiki ? GitHub ã® 7 ã‚’å‚ç…§\nSublime Text ã‚’å†èµ·å‹• ã‚ã¨ã¯ Sublime Text ã‚’å†èµ·å‹•ã™ã‚Œã°å®Œäº†ã§ã™ã€‚ Syntax Highlight ã‚„ è£œå®Œã€ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã€ãƒ“ãƒ«ãƒ‰ãªã©ãŒè¡Œãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/develop-coding-typescript-using-sublimetext3/",
    "title": "Sublime Text 3 ã§ TypeScript ã®é–‹ç™ºç’°å¢ƒã‚’æ•´ãˆã‚‹"
  },
  {
    "contents": "ã•ãã‚‰ã®ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼ (ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³) ã§ Python3 ç³» ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚\nä»¥å‰ã« Amazon Linux ã§ Python3 ç³»ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸã®ã§åŒã˜æ–¹æ³•ã§å‡ºæ¥ã‚‹ã¨æ€ã£ãŸã‚“ã§ã™ãŒã€ã¡ã‚‡ã£ã¨ã ã‘é•ã„ã¾ã—ãŸã€‚\nã‚„ã‚ŠãŸã„ã“ã¨ ã•ãã‚‰ã®ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼ (ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³) ã§ Python3 ç³» ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ python3 ã‚³ãƒãƒ³ãƒ‰ã§ã¯ãªã python ã‚³ãƒãƒ³ãƒ‰ã§ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nã¾ãŸã€å‰æã¨ã—ã¦ã‚·ã‚§ãƒ«ã‚’ bash ã«å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚ ã•ãã‚‰ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ csh ã«ãªã£ã¦ã„ã¾ã™ã€‚\nãƒ­ã‚°ã‚¤ãƒ³ã‚·ã‚§ãƒ«ã‚’ bash ã«å¤‰æ›´ã™ã‚‹å ´åˆã¯ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦å†ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚\n$ chsh -s /usr/local/bin/bash ã‚„ã‚‹ã“ã¨ Amazon Linux ã®ã¨ãã¨åŒæ§˜ã«ã€pyenv ã‚’ä½¿ã„ã¾ã™ã€‚\nãŸã ã—ã€ä»Šå›ã¯ pyenv ã«åŠ ãˆã¦ pyenv-virtualenv ã‚‚å¿…è¦ã§ã™ã€‚\næ‰‹é † 1. pyenv ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« $ git clone https://github.com/yyuu/pyenv.git ~/.pyenv 2. pyenv-virtualenv ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« $ git clone https://github.com/yyuu/pyenv-virtualenv.git ~/.pyenv/plugins/pyenv-virtualenv 3. ãƒ‘ã‚¹è¨­å®š ~/.bashrc ã«ä¸‹è¨˜å†…å®¹ã‚’è¿½åŠ ã—ã¾ã™ã€‚\nexport PYENV_ROOT=\u0026#34;$HOME/.pyenv\u0026#34; export PATH=\u0026#34;$PYENV_ROOT/bin:$PATH\u0026#34; export TMPDIR=\u0026#34;$HOME/tmp\u0026#34; export PYTHON_PATH=./ eval \u0026#34;$(pyenv init -)\u0026#34; eval \u0026#34;$(pyenv virtualenv-init -)\u0026#34; .bashrc ã‚’å†èª­è¾¼ã—ã¾ã™ã€‚\n$ source ~/.bashrc 4. pyenv ã§æ¬²ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»è¨­å®š ã“ã“ã‹ã‚‰ã¯æ™®é€šã« pyenv ã‚’ä½¿ã„ã¾ã™ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã€‚\n$ pyenv install --list Available versions: 2.1.3 2.2.3 . . . 3.6.5 3.6.6 3.6.6rc1 3.7.0 3.7-dev . . . ä»»æ„ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚\n$ pyenv install 3.6.6 Downloading Python-3.6.6.tgz... -\u0026gt; https://www.python.org/ftp/python/3.6.6/Python-3.6.6.tgz Installing Python-3.6.6... Installed Python-3.6.6 to /home/hoge/.pyenv/versions/3.6.6 ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½¿ã†ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«è¨­å®šã€‚\n$ pyenv versions * system (set by /home/hoge/.pyenv/version) 3.6.6 $ pyenv global 3.6.6 $ python -V Python 3.6.6 ä»¥ä¸Šã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/sakura-how-to-use-python3/",
    "title": "ã•ãã‚‰ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼ã§ Python3 ç³»ã‚’ä½¿ã†"
  },
  {
    "contents": "ã‚„ã‚ŠãŸã„ã“ã¨ PHP ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç­‰ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€æœ€è¿‘ã¯ composer ã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ãŒã»ã¨ã‚“ã©ã§ã™ã€‚ è‡ªåˆ†ã§ä½œã£ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒª (çš„ãªã‚‚ã®) ã‚‚ composer ã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚ ã¨ã„ã†ã“ã¨ã§ã€ãã®ãŸã‚ã«ã‚„ã£ãŸã“ã¨ã®ãƒ¡ãƒ¢ã§ã™ã€‚\nå‰æ GitHub ã«å…¬é–‹ã—ã¦ã„ã‚‹ãƒªãƒã‚¸ãƒˆãƒªã‚’å¯¾è±¡ã¨ã™ã‚‹ ä»Šå›ã¯ã€GitHub ã§å…¬é–‹ã—ã¦ã„ã‚‹ text-to-color ã¨ã„ã†ãƒªãƒã‚¸ãƒˆãƒªã‚’ã€composer ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nã¡ãªã¿ã« text-to-color ã¯ã€æ–‡å­—åˆ—ã‹ã‚‰ã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹ã€ãŸã ãã‚Œã ã‘ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚\næ‰‹é † 1. composer.json ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ ãƒªãƒã‚¸ãƒˆãƒªã®ç›´ä¸‹ã« composer.json ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã™ã€‚\n$ composer init ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åç§°ã‚„ä½œæˆè€…ãªã©ã®æƒ…å ±ã‚’å¯¾è©±çš„ã«å…¥åŠ›ã™ã‚‹ã“ã¨ã§ã€composer.json ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã§ãã¾ã™ã€‚ã‚‚ã¡ã‚ã‚“æ‰‹ä½œæ¥­ã§ä½œã£ã¦ã‚‚å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚ ä»¥ä¸‹ã®ã‚ˆã†ãª json ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚\n{ \u0026#34;name\u0026#34;: \u0026#34;michimani/text-to-color\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;0.1.0\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;text-to-color is a simple php class for generating color code from text.\u0026#34;, \u0026#34;license\u0026#34;: \u0026#34;MIT\u0026#34;, \u0026#34;require\u0026#34;: { \u0026#34;php\u0026#34;: \u0026#34;\u0026gt;= 5.6.0\u0026#34; }, \u0026#34;autoload\u0026#34;: { \u0026#34;psr-4\u0026#34;: { \u0026#34;Michimani\\\\TextToColor\\\\\u0026#34;: \u0026#34;src/\u0026#34; } } } autoload ã‚’è¨˜è¿°ã™ã‚‹ã¨ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã® autoload.php ã«è‡ªå‹•ã§è¿½åŠ ã•ã‚Œã‚‹ã‚ˆã†ã«ã§ãã¾ã™ã€‚ ãã®ä¸‹ã® psr-4 ã¯ã€ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ namespace ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹å ´åˆã®è¨˜è¿°ã§ã™ã€‚\nãã®ä»–ã€composer.json ã«é–¢ã™ã‚‹å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ ã“ã¡ã‚‰ composer.json ãŒä½œæˆã§ããŸã‚‰ã€ãƒªãƒã‚¸ãƒˆãƒªã« push ã—ã¦ãŠãã¾ã™ã€‚\n2. Packagist ã«ãƒªãƒã‚¸ãƒˆãƒªã‚’ç™»éŒ²ã™ã‚‹ Packagist ã¨ã¯ã€composer ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ PHP ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒé›†ç´„ã•ã‚ŒãŸå ´æ‰€ã§ã™ã€‚ ã“ã“ã¸ã®ç™»éŒ²ã¯å¿…é ˆã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€ç™»éŒ²ã—ã¦ãŠãã¨ã€ã‚ˆã‚Šç°¡å˜ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nç™»éŒ²æ–¹æ³•ã¯ç°¡å˜ã§ã€ã¾ãšã¯ Packagist ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆã‹ã‚‰ã§ã™ã€‚GitHub ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ä½œæˆã§ãã¾ã™ã€‚\nå³ä¸Šã® Submit ã‹ã‚‰ã€GitHub ã®ãƒªãƒã‚¸ãƒˆãƒªã® URL ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\nã“ã®ã¨ãã€ãƒªãƒã‚¸ãƒˆãƒªã« composer.json ãŒç„¡ã„å ´åˆã¯ç™»éŒ²ã§ãã¾ã›ã‚“ã€‚\nã“ã‚Œã§ Packagist ã¸ã®ç™»éŒ²ã¯å®Œäº†ã§ã™ã€‚ ã—ã‹ã—ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¢ãƒ©ãƒ¼ãƒˆãŒå‡ºã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nã“ã‚Œã¯ã€GitHub ã¸æ›´æ–°ãŒã‚ã£ãŸã¨ãã« Packagist ã«ã‚‚ãã®æ›´æ–°ã‚’åæ˜ ã™ã‚‹ãŸã‚ã«æ‰‹å‹•ã§æ“ä½œã‚’ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã¨ã„ã†å†…å®¹ã§ã™ã€‚ è‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®è¨­å®šã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\nPackagist ã®ãƒã‚¤ãƒšãƒ¼ã‚¸ã§ API Token ã‚’å–å¾—ã—ã¾ã™ (Your API Token ã¨æ›¸ã‹ã‚Œã¦ã„ã‚‹ã¨ã“ã‚ã§ã™) GitHub ã®ãƒªãƒã‚¸ãƒˆãƒªç”»é¢ã‹ã‚‰ Settings \u0026gt; Integrations \u0026amp; services é€²ã¿ã¾ã™ Add Service ã‹ã‚‰ Packagist ã‚’é¸æŠã—ã¾ã™ User ã« Packagist ã®ãƒ¦ãƒ¼ã‚¶åã€Token ã« API Token ã‚’å…¥åŠ›ã—ã¦ã€Active ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¦ Add service ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ è¿½åŠ ã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã®è©³ç´°ç”»é¢ã«ã‚ã‚‹ Test service ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ Okay, the test payload is on its way. ã¨è¡¨ç¤ºã•ã‚Œã‚Œã°è¨­å®šå®Œäº†ã§ã™ 3. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã‚‹ å®Ÿéš›ã« composer ã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å‰ã«ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æƒ…å ±ãŒå–å¾—ã§ãã‚‹ã‹ç¢ºèªã—ã¾ã™ã€‚\n$ composer search michimani/text-to-color michimani/text-to-color text-to-color is a simple php class for generating color code from text. æ­£ã—ãç™»éŒ²ã§ã„ã¦ã„ã‚Œã°ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã¨èª¬æ˜ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nã‚ã¨ã¯ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚Œã°ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã€‚\n$ composer require michimani/text-to-color ",
    "permalink": "https://michimani.net/post/php-install-own-package-using-composer/",
    "title": "PHP ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ composer ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹"
  },
  {
    "contents": "Amazon EFS è‡ªä½“ã¯ 2016å¹´ã‹ã‚‰ä¸€èˆ¬ã«åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ãŒã€ã‚‚ã†ã™ã (2018å¹´7æœˆ) æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚‚åˆ©ç”¨å¯èƒ½ã«ãªã‚‹ã‚ˆã†ã§ã™ã€‚ æ­£ç›´ã€å›½å†…ã«ã„ã‚‹ã¨ä»–ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã®ã¿åˆ©ç”¨å¯èƒ½ãªã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦ã¯ç–ããªã‚‹ã®ã§ã€ã“ã®æ©Ÿä¼šã« EFS ã«ã¤ã„ã¦ã–ã£ãã‚Šã¨èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚\nEFS ã¨ã¯ Amazon Elastic File System (Amazon EFS) ã¯ã‚·ãƒ³ãƒ—ãƒ«ã§ã€ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ã€ä¼¸ç¸®è‡ªåœ¨ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’ã€AWS ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã¨ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ãƒªã‚½ãƒ¼ã‚¹ç”¨ã«æä¾›ã—ã¾ã™ã€‚\n(ä¸­ç•¥)\nAmazon EFS ã¯ã€é«˜å¯ç”¨æ€§ã¨è€ä¹…æ€§ã‚’å®Ÿç¾ã™ã‚‹ã‚ˆã†è¨­è¨ˆã•ã‚ŒãŸãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã€ã‚¦ã‚§ãƒ–é…ä¿¡ã‚„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†ã€ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ¡ãƒ‡ã‚£ã‚¢ãŠã‚ˆã³ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆã®å‡¦ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã€é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã€ã‚³ãƒ³ãƒ†ãƒŠã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚„ãƒ“ãƒƒã‚°ãƒ‡ãƒ¼ã‚¿ãŠã‚ˆã³åˆ†æã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãªã©å¹…åºƒã„å¤šæ§˜ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç™ºæ®ã—ã¾ã™ã€‚\nAmazon EFS - æ¦‚è¦ ã¨ã‚ã‚Šã¾ã™ã€‚\nç°¡å˜ã«è¨€ã†ã¨ã€å…±æœ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ ã®ã“ã¨ã§ã™ã€‚\nEBS, S3 ã¨ã®é•ã„ã¯ï¼Ÿ AWS ã®ã‚µãƒ¼ãƒ“ã‚¹å†…ã«ã¯ã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ãŒä»–ã«ã‚‚ã‚ã‚Šã¾ã™ã€‚EBS ã¨ S3 ã§ã™ã€‚\nã“ã‚Œã‚‰ã¯æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³é–‹è¨­æ™‚ã‹ã‚‰åˆ©ç”¨å¯èƒ½ã§ã€AWS ã®åŸºæœ¬çš„ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã¯ä¸å¯æ¬ ãªã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚\næ–°ãŸã«æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§åˆ©ç”¨å¯èƒ½ã«ãªã‚‹ EFS ã¨ã€EBS, S3 ã¨ã®é•ã„ãƒ»ä½¿ã„åˆ†ã‘ã«ã¤ã„ã¦ç°¡å˜ã«ã¾ã¨ã‚ã¾ã™ã€‚\nâ€»è©³ç´°ãªé•ã„ã«ã¤ã„ã¦ã¯ When to Choose Amazon EFS ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nPer-operation latency (ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ¼) EFS\nä½ã„ æ•´åˆæ€§ãŒæ‹…ä¿ã•ã‚Œã¦ã„ã‚‹ EBS\nã‹ãªã‚Šä½ã„ æ•´åˆæ€§ãŒæ‹…ä¿ã•ã‚Œã¦ã„ã‚‹ S3\nä½ã„ æ•´åˆæ€§ãŒæ‹…ä¿ã•ã‚Œã¦ã„ã‚‹ CloudFront ã¨çµåˆã§ãã‚‹ Data Availability/Durability (ãƒ‡ãƒ¼ã‚¿å¯ç”¨æ€§/è€ä¹…æ€§) EFS\nãƒªãƒ¼ã‚¸ãƒ§ãƒ³å†…ã®è¤‡æ•°ã®ã‚¢ãƒ™ã‚¤ãƒ©ãƒ“ãƒªãƒ†ã‚£ãƒ¼ã‚¾ãƒ¼ãƒ³ã«ãƒ‡ãƒ¼ã‚¿ã¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ EBS\nå˜ä¸€ã®ã‚¢ãƒ™ã‚¤ãƒ©ãƒ“ãƒªãƒ†ã‚£ãƒ¼ã‚¾ãƒ¼ãƒ³å†…ã§å†—é•·æ€§ S3\nãƒªãƒ¼ã‚¸ãƒ§ãƒ³å†…ã®è¤‡æ•°ã®ã‚¢ãƒ™ã‚¤ãƒ©ãƒ“ãƒªãƒ†ã‚£ãƒ¼ã‚¾ãƒ¼ãƒ³ã«ãƒ‡ãƒ¼ã‚¿ã¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ Access (ã‚¢ã‚¯ã‚»ã‚¹) EFS\nè¤‡æ•°ã®ã‚¢ãƒ™ã‚¤ãƒ©ãƒ“ãƒªãƒ†ã‚£ã‚¾ãƒ¼ãƒ³ã€æ•°åƒã® EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¾ãŸã¯ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ã‚µãƒ¼ãƒ EBS\nå˜ä¸€ã®ã‚¢ãƒ™ã‚¤ãƒ©ãƒ“ãƒªãƒ†ã‚£ã‚¾ãƒ¼ãƒ³å†…ã®ã€ã²ã¨ã¤ã® EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ S3\nWeb ä¸Šã‹ã‚‰ã®æ•°ç™¾ä¸‡ã®æ¥ç¶š Use Cases (ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹) EFS\nWeb ã‚µãƒ¼ãƒ“ã‚¹ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ EBS\nãƒ–ãƒ¼ãƒˆãƒœãƒªãƒ¥ãƒ¼ãƒ  NoSQL ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€ãƒ‡ãƒ¼ã‚¿ãƒã‚¦ã‚¹ S3\nWeb ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€ãƒ¡ãƒ‡ã‚£ã‚¢ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã®åˆ†æ EFS ã®åˆ©ç”¨ã§ä½•ãŒå¤‰ã‚ã‚‹ï¼Ÿ ä¸€ç•ª ãŠã‰ï¼ ã¨æ€ã†ã®ã¯ã€EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã™ã‚‹ã¨ãã®ã“ã¨ã‚’è€ƒãˆãŸå ´åˆã§ã™ã€‚\né«˜è² è·æ™‚ã«ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆã™ã‚‹å ´åˆã€å…ƒã¨ãªã‚‹ AMI ã‹ã‚‰æ–°ã—ã„ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’èµ·å‹•ã™ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nã‚ã‚‹ WEB ã‚µãƒ¼ãƒ“ã‚¹ã‚’é‹ç”¨ã™ã‚‹ã«ã‚ãŸã£ã¦ã€ä½•ã‹ã—ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ç­‰ã‚’å®Ÿæ–½ã—ãŸå ´åˆã€ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨ãã«ãƒã‚¹ã‚¿ãƒ¼ã® EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ã‚‚ã¡ã‚ã‚“ã§ã™ãŒã€ã‚¹ã‚±ãƒ¼ãƒ«æ™‚ã«ä½¿ç”¨ã™ã‚‹ AMI ã®æ›´æ–°ã‚‚å¿…è¦ã«ãªã‚Šã¾ã™ã€‚\nã—ã‹ã—ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ç½®ãå ´æ‰€ã‚’ EFS ã«ã™ã‚‹ã¨ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã¯ãã“ã ã‘ã‚’å¯¾è±¡ã«ã™ã‚Œã°ã‚ˆããªã‚Šã€ã‚¹ã‚±ãƒ¼ãƒ«æ™‚ã«ã¯ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã¿ã®èµ·å‹•ã‚’è€ƒãˆã¦ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è‡ªä½“ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ°—ã«ã™ã‚‹å¿…è¦ãŒãªããªã‚Šã¾ã™ã€‚\nãƒ‡ãƒ—ãƒ­ã‚¤ã‚„ã‚¹ã‚±ãƒ¼ãƒ«ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒã‚ˆã‚Šã‚·ãƒ³ãƒ—ãƒ«ãªå½¢ã«ãªã‚Šãã†ãªæ°—ãŒã—ã¦ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-efs-tokyo-available/",
    "title": "Amazon EFS ãŒæ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚‚åˆ©ç”¨å¯èƒ½ã«ãªã‚‹ã¨èã„ã¦"
  },
  {
    "contents": "Amazon CloudWatch ã§ã¯ã‚ã‚‰ã‹ã˜ã‚ã„ãã¤ã‹ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãŒç”¨æ„ã•ã‚Œã¦ãŠã‚Šã€ãã‚Œã‚‰ã«é–¢ã—ã¦ã¯ç‰¹ã«è¿½åŠ ã®ä½œæ¥­ãŒãªãã¦ã‚‚ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚’é–‹å§‹ã§ãã¾ã™ã€‚\nã¾ãŸã€CloudWatch Agent ã‚’ä½¿ç”¨ã™ã‚Œã°ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ã¯ç„¡ã„ãƒ¡ãƒˆãƒªã‚¯ã‚¹ (Cdisk ä½¿ç”¨ç‡ãªã©) ã‚‚è¨ˆæ¸¬ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nCloudWatch Agent ã§ disk ä½¿ç”¨ç‡ã‚’ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹æ–¹æ³•ã¯ã“ã¡ã‚‰ã§ã€‚\nä»Šå›ã¯ã€EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å†…ã§å‹•ã„ã¦ã„ã‚‹ Apache ã®èµ·å‹•çŠ¶æ…‹ã‚’ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã®ãƒ¡ãƒ¢ã§ã™ã€‚\nã“ã®æ–¹æ³•ã‚’ä½¿ãˆã°ã€Apache ã ã‘ã§ãªãã€EC2 å†…ã§å‹•ã„ã¦ã„ã‚‹å„ãƒ—ãƒ­ã‚»ã‚¹ã®èµ·å‹•çŠ¶æ…‹ã‚’ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã§ãã‚‹ã¨æ€ã„ã¾ã™ã€‚\nå‰æ Amazon CLI ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã€aws ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆã‚‹ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã« CloudWatch ã‚’è§¦ã‚‹ãŸã‚ã®ãƒ­ãƒ¼ãƒ«ãŒã‚¢ã‚¿ãƒƒãƒã•ã‚Œã¦ã„ã‚‹\nãƒ­ãƒ¼ãƒ«ã®å†…å®¹ã«ã¤ã„ã¦ã¯ ä»¥å‰ã®è¨˜äº‹ ã§è¨­å®šã—ãŸ CloudWatch Agent ã®ãƒ­ãƒ¼ãƒ«ãŒä»˜ä¸ã•ã‚Œã¦ã„ã‚Œã°ååˆ†ã§ã™ ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã¾ã§ã®æµã‚Œ Apacheã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ã¾ã§ã®æµã‚Œã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nèµ·å‹•ä¸­ã® httpd ã®ãƒ—ãƒ­ã‚»ã‚¹æ•°ã‚’æ•°ãˆã‚‹ aws cloudwatch put-metrics-data ã‚³ãƒãƒ³ãƒ‰ã§ã€æ•°ãˆãŸãƒ—ãƒ­ã‚»ã‚¹æ•°ã‚’ CloudWatch ã«é€ä¿¡ã™ã‚‹ ä»¥ä¸Šã§ã™ã€‚\nã“ã‚Œã‚’ã‚»ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ä½œã£ã¦ cron ã§å®šæœŸçš„ã«å®Ÿè¡Œã™ã‚Œã°ã€CloudWatch ã§ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°å‡ºæ¥ã¾ã™ã€‚\n1. èµ·å‹•ä¸­ã® httpd ã®ãƒ—ãƒ­ã‚»ã‚¹æ•°ã‚’æ•°ãˆã‚‹ ãƒ—ãƒ­ã‚»ã‚¹æ•°ã«ã¤ã„ã¦ã¯ã€ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§å–å¾—ã—ã¾ã™ã€‚\n$ ps awux | grep -v grep | grep -w httpd | wc -l 6 Apache ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ã©ã†ã‹ãŒåˆ†ã‹ã‚Œã°ã„ã„ã®ã§ã€ã“ã®å€¤ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€0 ãªã‚‰ 0 ã€1 ä»¥ä¸Š ãªã‚‰ 1 ã‚’ã€CloudWatch ã«é€ä¿¡ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n2. aws cloudwatch put-metrics-data ã‚³ãƒãƒ³ãƒ‰ã§ã€æ•°ãˆãŸãƒ—ãƒ­ã‚»ã‚¹æ•°ã‚’ CloudWatch ã«é€ä¿¡ã™ã‚‹ aws cloudwatch put-metrics-data ã¯ã€ãã®åã®é€šã‚Š CloudWatch ã«ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ‡ãƒ¼ã‚¿ã‚’ put ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚å®Ÿéš›ã®ã‚³ãƒãƒ³ãƒ‰ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\naws cloudwatch put-metric-data --metric-name process/httpd --namespace MyMetrics --value 1 --region ap-northeast-1 --unit Count --dimensions \u0026#34;InstanceId=xxxxxyyyyyzzzzz,ProcessName=httpd\u0026#34; è‰²ã€…ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒä»˜ã„ã¦ã„ã¾ã™ãŒã€æœ€ä½é™ã“ã‚Œãã‚‰ã„ã¯ ã¨ã„ã†ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ã€‚ç‰¹ã« --dimensions ã«ã¤ã„ã¦ã¯ CloudWatch ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§ã©ã†ã„ã†å½¢ã§è¦‹ãŸã„ã‹ã€ã«ã‚ˆã£ã¦å¤‰ã‚ã£ã¦ãã‚‹ã®ã§é©å®œå¤‰æ›´ã—ã¦ãã ã•ã„ã€‚\nãƒ—ãƒ­ã‚»ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ç”¨ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œã‚Šã¾ã—ãŸ ä¸Šã® 1 ã¨ 2 ã‚’å®Ÿè¡Œã™ã‚‹ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ãã¾ã—ãŸã€‚\nmichimani/put-process-status.sh å®Ÿè¡Œæ™‚ã«ãƒ—ãƒ­ã‚»ã‚¹å (Apache ãªã‚‰ httpd) ã‚’æ¸¡ã™ã“ã¨ã§ã€ãã®ãƒ—ãƒ­ã‚»ã‚¹ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã§ãã¾ã™ã€‚\ncron ã§ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®šæœŸçš„ã«å®Ÿè¡Œã™ã‚Œã°ã€ CloudWatch ã§ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã§ãã¾ã™ã€‚ã‚ã¨ã¯ãã®å€¤ã«ã‚ˆã£ã¦ã€SNS ã§ã‚¢ãƒ©ãƒ¼ãƒˆã‚’é£›ã°ã›ã° OK ã§ã™ã€‚\n## Check Apache status */5 * * * * sh /path/to/put-custom-metrics.sh httpd CloudWatch ã®ã‚¢ãƒ©ãƒ¼ãƒ ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ€å° 5 åˆ†é–“éš”ã§ã—ã‹å€¤ã®ãƒã‚§ãƒƒã‚¯ãŒå‡ºæ¥ã¾ã›ã‚“ã€‚ãªã®ã§ã€ãƒ‡ãƒ¼ã‚¿ã®é€ä¿¡ã‚‚ 5 åˆ†é–“éš”ã§è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚ãã®åˆ†ã€ã‚¿ã‚¤ãƒ ãƒ©ã‚°ãŒå‡ºã¦ã—ã¾ã„ã¾ã™ãŒã€‚\nå¿…è¦ã§ã‚ã‚Œã°é«˜è§£åƒåº¦ã‚¢ãƒ©ãƒ¼ãƒ ã‚’åˆ©ç”¨ã—ã¦ã‚ˆã‚Šç´°ã‹ã„é–“éš”ã§ãƒã‚§ãƒƒã‚¯ã™ã‚‹äº‹ã¯ã§ãã¾ã™ã€‚\nã¾ãŸã€ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã¯ 1 ã¾ãŸã¯ 0 ã‚’é€ä¿¡ã—ã¦ã„ã‚‹ã®ã§ã€ã‚¢ãƒ©ãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹å ´åˆã¯ 5 åˆ†é–“ã® æœ€ä½å€¤ ãŒ 1 æœªæº€ã‹ã©ã†ã‹ ã§è¨­å®šã™ã‚‹ã¨è‰¯ã•ãã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-monitoring-apache-status-with-cloudwatch/",
    "title": "Amazon CloudWatch ã§ Apache ã®èµ·å‹•çŠ¶æ…‹ã‚’ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹"
  },
  {
    "contents": " bootstrap-datepicker ã‚’ä½¿ã†ã¨ã€bootstrap ã‚’ä½¿ç”¨ã—ãŸã‚µã‚¤ãƒˆã«è‰¯ã„æ„Ÿã˜ã®æ—¥ä»˜å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã‚’ç°¡å˜ã«ä½œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ ãŸã ã€ãã®ã¾ã¾åˆ©ç”¨ã—ãŸã¨ãã«ã€ ã‚¹ãƒãƒ›è¡¨ç¤ºã§ã® UI ãŒå¾®å¦™ ãªã®ã§ãã®å¯¾å¿œæ–¹æ³•ã§ã™ã€‚\nãƒ•ã‚©ãƒ¼ãƒ ã®æ›¸ãæ–¹ã«ã¤ã„ã¦ã¯ã€ä¸‹è¨˜ã‚µã‚¤ãƒˆã‚’å‚è€ƒã«ã—ã¦ã„ã¾ã™ã€‚\nç°¡å˜ï¼ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‹ã‚‰æ—¥ä»˜å…¥åŠ› Bootstrap Datepicker ã®ä½¿ã„æ–¹ã¨è§£èª¬ ä¸€èˆ¬çš„ãªæ›¸ãæ–¹ ãƒ•ã‚©ãƒ¼ãƒ éƒ¨åˆ†\n\u0026lt;div class=\u0026#34;form-group\u0026#34;\u0026gt; \u0026lt;label class=\u0026#34;col-sm-3 control-label\u0026#34;\u0026gt;æ—¥ä»˜\u0026lt;/label\u0026gt; \u0026lt;div class=\u0026#34;col-sm-9 form-inline\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;input-group date\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; class=\u0026#34;form-control\u0026#34; placeholder=\u0026#34;2018-05-11\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;input-group-addon\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa fa-calendar\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; jséƒ¨åˆ†\n$(document).ready(function(){ $(\u0026#39;.date\u0026#39;).datepicker({ todayBtn: \u0026#39;linked\u0026#39;, format: \u0026#34;yyyy-mm-dd\u0026#34;, autoclose: true, todayHighlight: true, daysOfWeekHighlighted: \u0026#34;0,6\u0026#34;, }); }); ã“ã®æ›¸ãæ–¹ã§ã¯ã€\nãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒã‚ãŸã£ãŸæ™‚ ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ ã«ã€æ—¥ä»˜é¸æŠã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ PC ã ã¨ã“ã‚Œã§ã‚‚ç‰¹ã«å•é¡Œã¯ãªã„ã®ã§ã™ãŒã€ã‚¹ãƒãƒ› (ä»Šå›ã®å¯¾è±¡ã¯ iOS Safari) ã§æ“ä½œã™ã‚‹éš›ã«ä½¿ã„ã«ãã„ã§ã™ã€‚ å…·ä½“çš„ã«ã¯ã€ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’å½“ã¦ãŸæ™‚ã«ã€æ—¥ä»˜é¸æŠã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã€ã•ã‚‰ã«ç«¯æœ«ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚‚è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã“ã‚ŒãŒä½¿ã„ã«ãã„ç†ç”±ã§ã™ã€‚\nãã“ã§ã€ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ã«ã¯æ—¥ä»˜é¸æŠã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã¯è¡¨ç¤ºã›ãšã€ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ã‚’æŠ¼ã—ãŸæ™‚ã®ã¿æ—¥ä»˜é¸æŠã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹ ã‚’å®Ÿç¾ã—ãŸã„ã‚ã‘ã§ã™ã€‚\nå¯¾å¿œå¾Œ ãƒ•ã‚©ãƒ¼ãƒ éƒ¨åˆ†\n\u0026lt;div class=\u0026#34;form-group\u0026#34;\u0026gt; \u0026lt;label class=\u0026#34;col-sm-3 control-label\u0026#34;\u0026gt;æ—¥ä»˜\u0026lt;/label\u0026gt; \u0026lt;div class=\u0026#34;col-sm-9 form-inline\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;input-group\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; class=\u0026#34;form-control\u0026#34; name=\u0026#34;real_date\u0026#34; placeholder=\u0026#34;2018-05-11\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;input-group-addon\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa fa-calendar date\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;hidden\u0026#34; class=\u0026#34;dummy-date\u0026#34; data-real=\u0026#34;real_date\u0026#34;\u0026gt; \u0026lt;/i\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; jséƒ¨åˆ†\n$(document).ready(function(){ $(\u0026#39;.date\u0026#39;).datepicker({ todayBtn: \u0026#39;linked\u0026#39;, format: \u0026#34;yyyy-mm-dd\u0026#34;, autoclose: true, todayHighlight: true, daysOfWeekHighlighted: \u0026#34;0,6\u0026#34;, }); $(\u0026#39;.dummy-date\u0026#39;).change(function(){ $(`input[name=${$(this).data(\u0026#39;real\u0026#39;)}]`).val($(this).val()); }); }); ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‹ã‚‰é¸æŠã•ã‚ŒãŸå ´åˆã¯ä¸€æ—¦ hidden ã«å€¤ã‚’é€ƒã—ã¦ã€ãã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ‹¾ã£ã¦ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«å€¤ã‚’ã‚»ãƒƒãƒˆã—ã¦ã„ã¾ã™ã€‚\nãƒ‡ãƒ¢ ã“ã“ ã§ä¸Šã®ä¸¡æ–¹ã‚’è©¦ã›ã¾ã™ã€‚ ã‚¹ãƒãƒ›ã§è¡¨ç¤ºã—ã¦ã‚‚ã‚‰ã†ã¨æ“ä½œæ€§ã®é•ã„ãŒã‚ã‹ã‚Šã‚„ã™ã„ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/javascript-bootstrap-datepicker-ui-for-smart-phone/",
    "title": "bootstrap-datepicker ã® UI ãŒã‚¹ãƒãƒ›è¡¨ç¤ºã ã¨å¾®å¦™"
  },
  {
    "contents": "ã„ã¤ã‚‚ã©ãŠã‚Š yum update ã‚’ã—ãŸã‚‰ Apache ãŒèµ·å‹•ã—ãªããªã£ãŸã®ã§ã€ãã®ã¨ãã®å¯¾å‡¦ãƒ¡ãƒ¢ã§ã™ã€‚\nçµŒç·¯ OS ãŒ Amazon Linux ã® EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸæ™‚ã«ã€yum ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒã‚ã‚‹ã¨ sudo yum update ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ çš„ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã¾ã™ã€‚\nç‰¹ã«ç†ç”±ãŒãªã‘ã‚Œã°ã“ã‚Œã‚’å®Ÿè¡Œã—ã¦ã€yum ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’å®Ÿæ–½ã—ã¾ã™ã€‚ ä»Šå›ã‚‚ã€ã“ã‚Œã¾ã§é€šã‚Š sudo yum update ã‚’å®Ÿè¡Œã—ã¾ã—ãŸã€‚\nã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆé …ç›®ã«ã¯ã€Linuxã‚«ãƒ¼ãƒãƒ«ã€httpd24ãªã©ã€ã“ã‚Œã¾ã§ã«ã‚‚ã‚ã£ãŸã‚ˆã†ãªå†…å®¹ã ã£ãŸã®ã§ã€y ã‚’æŠ¼ã—ã¦ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’å®Ÿè¡Œã€å•é¡Œãªãå®Œäº†ã—ã¾ã—ãŸã€‚\nèµ·ã“ã£ãŸã“ã¨ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå¾Œã€ãã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä¸Šã§å‹•ã„ã¦ã„ã‚‹ Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒè½ã¡ã¦ã„ã¾ã—ãŸã€‚\nã‚„ã£ãŸã“ã¨ Apache ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª $ sudo service httpd status httpd is stopped æ­¢ã¾ã£ã¦ã„ã¾ã—ãŸã€‚\nApache ã®èµ·å‹•ãƒ»å†èµ·å‹• $ sudo service httpd start Stopping httpd: [FAILED] èµ·å‹•ã§ãã¾ã›ã‚“ã€‚\n$ sudo service httpd restart Stopping httpd: [FAILED] Starting httpd: [FAILED] å†èµ·å‹•ã‚‚å‡ºæ¥ã¾ã›ã‚“ã€‚\nerror_log ã®ç¢ºèª $ sudo less /etc/httpd/logs/error_log ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ã¾ã—ãŸã€‚(ä¸€éƒ¨ã¼ã‹ã—ã¦ã¾ã™)\n[Tue May 09 22:10:56.170735 2018] [mpm_prefork:notice] [pid 13163] AH00169: caught SIGTERM, shutting down [Tue May 09 22:10:56.292700 2018] [ssl:emerg] [pid 31332] AH02572: Failed to configure at least one certificate and key for 13.XXX.YYY.ZZ:80 [Tue May 09 22:10:56.292775 2018] [ssl:emerg] [pid 31332] SSL Library Error: error:140A80B1:SSL routines:SSL_CTX_check_private_key:no certificate assigned [Tue May 09 22:10:56.292780 2018] [ssl:emerg] [pid 31332] AH02312: Fatal error initialising mod_ssl, exiting. ã‚°ã‚°ã£ã¦ã¿ã‚‹ã¨ã€SSL ã¾ã‚ã‚Šã®è¨­å®šãŒåŸå› ã¨ã®ã“ã¨ã€‚\nhttpd.conf ã®ä¿®æ­£ ã“ã“ ã«ã‚ˆã‚‹ã¨ã€/etc/httpd/conf/httpd.conf ã®ãƒãƒ¼ãƒãƒ£ãƒ«ãƒ›ã‚¹ãƒˆã®è¨˜è¿°ã«å•é¡ŒãŒã‚ã‚‹ã¨ã®ã“ã¨ã ã£ãŸã®ã§ã€ãã‚Œã‚’ä¿®æ­£ã€‚\nä¿®æ­£å‰\n\u0026lt;VirtualHost *:443\u0026gt; DocumentRoot /var/www/hogehoge/public ServerName hogehoge.com \u0026lt;/VirtualHost\u0026gt; ä¿®æ­£å¾Œ\n\u0026lt;VirtualHost *:443\u0026gt; DocumentRoot /var/www/hogehoge/public ServerName hogehoge.com SSLEngine on SSLCertificateFile /etc/pki/tls/certs/hogehoge.crt SSLCertificateKeyFile /etc/pki/tls/private/hogehoge.key \u0026lt;/VirtualHost\u0026gt; è¨¼æ˜æ›¸ã®å ´æ‰€ã‚’æ˜ç¤ºã—ãªã„ã¨ãƒ€ãƒ¡ã ã£ãŸã‚ˆã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-ec2-apache-stopping-after-yum-update/",
    "title": "Amazon Linuxã§yum update ã—ãŸã‚‰ApacheãŒåœæ­¢ã—ã¦èµ·å‹•ã‚‚ã§ããªããªã£ãŸ"
  },
  {
    "contents": "Webãƒšãƒ¼ã‚¸ã‚’ä½œã£ã¦ã„ã‚‹æ™‚ã«ã€è¦ç´ ã‚’ç’°çŠ¶ã«é…ç½®ã—ãŸã„å ´é¢ãŒã‚ã£ãŸã®ã§ã€é…ç½®ã™ã‚‹ãŸã‚ã®åº§æ¨™ã‚’ç”Ÿæˆã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚\nã“ã“ã§è¨€ã† åº§æ¨™ ã¨ã¯ web ãƒšãƒ¼ã‚¸ä¸Šã§ã®åº§æ¨™ã§ã™ã€‚ã¤ã¾ã‚Šã€ ç”»é¢ã®å·¦ä¸ŠãŒ (0, 0) ç”»é¢å·¦ä¸Šã‹ã‚‰ å³ã« 10px ã€ä¸‹ã« 50px è¡Œã£ãŸå ´æ‰€ã¯ (10, 50) ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚\nsatellites-generator | github ä½¿ã„æ–¹ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã—ã¦ã€ generateCoordinate() ã‚’å‘¼ã¶ã¨ã€å„è¦ç´ ã®åº§æ¨™ã‚’æŒã£ãŸé…åˆ—ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚\nãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ä»¥ä¸‹ã€‚ generateCoordinate(number, radius, base, options = {})\nå‹ èª¬æ˜ ä¾‹ number number é…ç½®ã™ã‚‹è¦ç´ ã®æ•° 6 radius number ä¸­å¿ƒã‹ã‚‰ã®è·é›¢ (å††ã®åŠå¾„) 30 base json ä¸­å¿ƒã®åº§æ¨™ {x: 50, y: 200} â€»ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯ github ã® README ã‚’ã”è¦§ãã ã•ã„ã€‚\nä¾‹\nvar sG = new SatellitesGenerator(); let coordinates = sG.generateCoordinate(6, 30, {x: 50, y:200}, {isReverse: true}); console.log(coordinates); çµæœ\n[ { \u0026#34;x\u0026#34;: 50, \u0026#34;y\u0026#34;: 170 }, { \u0026#34;x\u0026#34;: 24.019237886466847, \u0026#34;y\u0026#34;: 185 }, { \u0026#34;x\u0026#34;: 24.019237886466836, \u0026#34;y\u0026#34;: 215 }, { \u0026#34;x\u0026#34;: 49.99999999999999, \u0026#34;y\u0026#34;: 230 }, { \u0026#34;x\u0026#34;: 75.98076211353316, \u0026#34;y\u0026#34;: 215 }, { \u0026#34;x\u0026#34;: 75.98076211353316, \u0026#34;y\u0026#34;: 185 } ] ã‚ã¨ã¯ã€x , y ã‚’ã€å„è¦ç´ ã® left , top ã«ãã‚Œãã‚ŒæŒ‡å®šã™ã‚‹ã¨ã€ç’°çŠ¶ã«ä¸¦ã³ã¾ã™ã€‚\né–¢æ•°ã®ä¸­èº« ä¸‰è§’é–¢æ•°ã®è¨ˆç®—ã‚’ã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚\ngenerateCoordinate(number, radius, base, option = {}) { const coordinates = new Array(); try { const per = 360 / number; let start = Math.PI/2; if (typeof(option.startPos) != \u0026#39;undefined\u0026#39;) { switch (option.startPos) { case \u0026#39;right\u0026#39;: start = 0; break; case \u0026#39;left\u0026#39;: start = Math.PI; break; case \u0026#39;bottom\u0026#39;: start = Math.PI*3/4; break; } } let isReverse = false; if (typeof(option.isReverse) != \u0026#39;undefined\u0026#39; \u0026amp;\u0026amp; typeof(option.isReverse) == \u0026#39;boolean\u0026#39; \u0026amp;\u0026amp; option.isReverse == true) { isReverse = true; } for (let i = 0; i \u0026lt; number; i++) { let rad = 360 - (per * i); if (isReverse) { rad = per * i; } coordinates.push({ x: base.x + radius * Math.cos(Math.PI*rad/180 + start), y: base.y + -1 * radius * Math.sin(Math.PI*rad/180 + start) }); } } catch (e) { console.error(e); } finally { return coordinates; } } ",
    "permalink": "https://michimani.net/post/javascript-put-element-as-a-circle/",
    "title": "è¦ç´ ã‚’ç’°çŠ¶ã«é…ç½®ã™ã‚‹ãŸã‚ã®åº§æ¨™ã‚’ç”Ÿæˆã™ã‚‹"
  },
  {
    "contents": "å‹•çš„ã«åŸ‹ã‚è¾¼ã‚“ã  iframe ã®é«˜ã•ã‚’å–å¾—ã—ã‚ˆã†ã¨ã—ãŸã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚\nã‚„ã‚ŠãŸã‹ã£ãŸã“ã¨ ä»¥ä¸‹ã®ã‚ˆã†ã«å‹•çš„ã« iframe ã‚’åŸ‹ã‚è¾¼ã‚“ã§ã€iframe ã®é«˜ã•ã‚’åŸ‹ã‚è¾¼ã‚“ã ãƒšãƒ¼ã‚¸ã®é«˜ã•ã«åˆã‚ã›ãŸã‹ã£ãŸã€‚\n\u0026lt;div id=\u0026#34;content-area\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;\u0026lt;a class=\u0026#34;iframe-btn\u0026#34; href=\u0026#34;/hogehoge-1\u0026#34;\u0026gt;hogehoge 1\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;\u0026lt;a class=\u0026#34;iframe-btn\u0026#34; href=\u0026#34;/hogehoge-2\u0026#34;\u0026gt;hogehoge 2\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;\u0026lt;a class=\u0026#34;iframe-btn\u0026#34; href=\u0026#34;/hogehoge-3\u0026#34;\u0026gt;hogehoge 3\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; ã¨ã„ã† html ã‚’ç”¨æ„ã—ã¦ã€å„ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«ãã®ãƒªãƒ³ã‚¯å…ˆã‚’ iframe ã§åŸ‹ã‚è¾¼ã‚€ã¨ã„ã†ã‚‚ã®ã€‚\n$(\u0026#39;.iframe-btn\u0026#39;).click(function(e){ e.preventDefault(); let iframe = `\u0026lt;iframe frameborder=\u0026#34;no\u0026#34; src=\u0026#34;${$(this).attr(\u0026#39;href\u0026#39;)}\u0026#34;\u0026gt;\u0026lt;/iframe\u0026gt;`; $(\u0026#39;#content-area\u0026#39;).html(iframe); }); ã“ã®ã¾ã¾ã®å®Ÿè£…ã§ã¯ iframe ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ãŒå‡ºã¦ã—ã¾ã„ã¾ã™ã€‚\nã‚ã‚‰ã‹ã˜ã‚ css ã§ #content-area ã«é«˜ã•ã‚’æŒ‡å®šã—ãŸå ´åˆã€ iframe å†…ã®ãƒšãƒ¼ã‚¸ã«ã‚ˆã£ã¦ã¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ãŒå‡ºãŸã‚Šã€ä¸‹ã«ç©ºç™½ãŒå‡ºãŸã‚Šã—ã¾ã™ã€‚\nã‚„ã£ãŸã“ã¨ iframe ã‚’åŸ‹ã‚è¾¼ã‚€ js éƒ¨åˆ†ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\nlet iframe = `\u0026lt;iframe frameborder=\u0026#34;no\u0026#34; src=\u0026#34;${$(this).attr(\u0026#39;href\u0026#39;)}\u0026#34;\u0026gt;\u0026lt;/iframe\u0026gt;`; $(\u0026#39;#content-area\u0026#39;).css(\u0026#39;visibility\u0026#39;, \u0026#39;hidden\u0026#39;).html(iframe); setTimeout(function(){ let iframeHeight = $(\u0026#39;#content-area iframe\u0026#39;).get(0).contentWindow.document.body.scrollHeight; $(\u0026#39;#content-area\u0026#39;).css(\u0026#39;height\u0026#39;, `${iframeHeight + 20}px`).css(\u0026#39;visibility\u0026#39;, \u0026#39;\u0026#39;); }, 200); 200 ãƒŸãƒªç§’å¾Œã« iframe ã®é«˜ã•ã‚’å–å¾—ã—ã¦ã€ #content-area ã®é«˜ã•ã«ã‚»ãƒƒãƒˆã—ã¦ã„ã¾ã™ã€‚(+20 ã¯èª¿æ•´åˆ†)\nä»Šå›ã¯ iframe ã§åŸ‹ã‚è¾¼ã‚€ãƒšãƒ¼ã‚¸ãŒå˜ç´”ãªé™çš„ãƒšãƒ¼ã‚¸ãªã®ã§ 200ãƒŸãƒªç§’ ã§å¤§ä¸ˆå¤«ã§ã™ãŒã€ç¢ºå®Ÿã¨ã¯è¨€ãˆã¾ã›ã‚“ã€‚\nã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ã¯ã“ã“ã‚’\n$(\u0026#39;#content-area iframe\u0026#39;).load(function(){ ... }); ã®ã‚ˆã†ã«ã—ãŸã„ã¨ã“ã‚ã§ã™ãŒã€ã“ã‚Œã§ã¯å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚\nã¨ã‚Šã‚ãˆãšé™çš„ãƒšãƒ¼ã‚¸ã«å¯¾ã—ã¦ã¯ã“ã‚Œã§å¤§ä¸ˆå¤«ãã†\u0026hellip;ï¼Ÿ\n",
    "permalink": "https://michimani.net/post/javascript-get-iframe-height/",
    "title": "å‹•çš„ã«åŸ‹ã‚è¾¼ã‚“ã iframeã®é«˜ã•ã‚’å–å¾—ã™ã‚‹"
  },
  {
    "contents": "ClowdWatchã«ã¯ã‚ã‚‰ã‹ã˜ã‚EC2ç”¨ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹(ãƒã‚§ãƒƒã‚¯ã§ãã‚‹å€¤)ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ãŒã€æ®‹å¿µãªãŒã‚‰ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨ç‡ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚EC2ã®ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨ç‡ã‚’CloudWatchã§ç›£è¦–ã™ã‚‹ã«ã¯ã€EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«CloudWatchã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚CloudWatchã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ä»‹ã—ã¦EC2ã®æƒ…å ±ã‚’CloudWatchã§å–å¾—ã™ã‚‹ã‚ˆã†ãªæ„Ÿã˜ã§ã™ã€‚ãã®æ‰‹é †ã§ã™ã€‚\nâ€»åŸºæœ¬çš„ã«AWSå…¬å¼ã®æ‰‹é †æ›¸é€šã‚Šã§ã™ã€‚\nã‚„ã‚‹ã“ã¨ EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«CloudWatchã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nCloudWatchã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç”¨ã®IAMãƒ­ãƒ¼ãƒ«ä½œæˆ ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«IAMãƒ­ãƒ¼ãƒ«ã‚’ã‚¢ã‚¿ãƒƒãƒ CloudWatchã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« CloudWatchã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ\nCloudWatchã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’èµ·å‹•\n1. EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«CloudWatchã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« 1. CloudWatchã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç”¨ã®IAMãƒ­ãƒ¼ãƒ«ä½œæˆ CloudWatchã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒEC2ã®æƒ…å ±ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã€IAMãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nä½™è«‡ã§ã™ãŒã€AWSã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ‰±ã†ä¸Šã§ ãƒ­ãƒ¼ãƒ« ã¯éå¸¸ã«é‡è¦ãªè¦ç´ ã§ã™ã€‚AWSomeDayã«è¡Œã£ãŸã¨ãã«AWSã®äººãŒèª¬æ˜ã—ã¦ã„ãŸãƒ•ãƒ¬ãƒ¼ã‚ºã§ã‚ã‹ã‚Šã‚„ã™ã‹ã£ãŸã®ã¯ã€ ãƒ­ãƒ¼ãƒ« = æ¨©é™ãŒä»˜ã„ãŸãƒ˜ãƒ«ãƒ¡ãƒƒãƒˆ ã¨ã„ã†è€ƒãˆæ–¹ã§ã™ã€‚ä½™è«‡ã§ã™ãŒã€‚\nã¾ãšãƒãƒªã‚·ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚ãƒãƒªã‚·ãƒ¼ã¯ã€ãƒ­ãƒ¼ãƒ«ã«ä»˜ä¸ã™ã‚‹æ¨©é™ã®æƒ…å ± ã®ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ IAM \u0026gt; ãƒãƒªã‚·ãƒ¼ \u0026gt; ãƒãƒªã‚·ãƒ¼ã®ä½œæˆ ã¨é€²ã¿ã¾ã™ã€‚\njsonå‹å¼ã§ä¸‹è¨˜ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;CloudWatchAgentServerPolicy\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;logs:CreateLogStream\u0026#34;, \u0026#34;cloudwatch:PutMetricData\u0026#34;, \u0026#34;ec2:DescribeTags\u0026#34;, \u0026#34;logs:DescribeLogStreams\u0026#34;, \u0026#34;logs:CreateLogGroup\u0026#34;, \u0026#34;logs:PutLogEvents\u0026#34;, \u0026#34;ssm:GetParameter\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; } ] } æ¬¡ã«é€²ã‚“ã§åå‰ã®å…¥åŠ›ã¨ã€å†…å®¹ã‚’ç¢ºèªã—ã¾ã™ã€‚\nã“ã‚Œã§ãƒãƒªã‚·ãƒ¼ãŒä½œæˆã§ãã¾ã—ãŸã€‚\nç¶šã„ã¦ã€ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ IAM \u0026gt; ãƒ­ãƒ¼ãƒ« \u0026gt; ãƒ­ãƒ¼ãƒ«ã®ä½œæˆ ã¨é€²ã¿ã¾ã™ã€‚\nã‚µãƒ¼ãƒ“ã‚¹ã¨ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®é¸æŠã§ã¯ã€EC2 ã® EC2 Role for Simple System Manager ã‚’é¸æŠã—ã¾ã™ã€‚\né¸æŠã—ãŸãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä»˜ä¸ã•ã‚Œã¦ã„ã‚‹ãƒãƒªã‚·ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ãã®ã¾ã¾é€²ã¿ã¾ã™ã€‚\né©å½“ã«åå‰ã‚’ä»˜ã‘ã¦ä¿å­˜ã—ã¾ã™ã€‚\nç¶šã„ã¦ã€ã„ã¾ä½œæˆã—ãŸãƒ­ãƒ¼ãƒ«ã«ã€å…ˆã»ã©ä½œæˆã—ãŸãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒã—ã¾ã™ã€‚\nãƒ­ãƒ¼ãƒ«ã®ä¸€è¦§ã‹ã‚‰ä½œæˆã—ãŸãƒ­ãƒ¼ãƒ«ã‚’é¸æŠã—ã¦ã€ãƒãƒªã‚·ãƒ¼ã®ã‚¢ã‚¿ãƒƒãƒ ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚\næ¤œç´¢çª“ã§å…ˆã»ã©ä½œæˆã—ãŸãƒãƒªã‚·ãƒ¼ã‚’æ¤œç´¢ãƒ»é¸æŠã—ã¦ã€ã‚¢ã‚¿ãƒƒãƒã—ã¾ã™ã€‚\nä»¥ä¸Šã§ãƒ­ãƒ¼ãƒ«ã®ä½œæˆãŒå®Œäº†ã—ã¾ã—ãŸã€‚\n2. ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«IAMãƒ­ãƒ¼ãƒ«ã‚’ã‚¢ã‚¿ãƒƒãƒ ä½œæˆã—ãŸãƒ­ãƒ¼ãƒ«ã‚’ã€ç›£è¦–ã—ãŸã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã‚¢ã‚¿ãƒƒãƒã—ã¾ã™ã€‚\nãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§EC2ä¸€è¦§ã‚’è¡¨ç¤ºã—ã€è©²å½“ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é¸æŠã—ã¦ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‹ã‚‰ ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®è¨­å®š \u0026gt; IAMãƒ­ãƒ¼ãƒ«ã®å‰²ã‚Šå½“ã¦/ç½®æ› ã¨é€²ã¿ã¾ã™ã€‚\nä½œæˆã—ãŸãƒ­ãƒ¼ãƒ«ã‚’ã‚¢ã‚¿ãƒƒãƒã—ã¾ã™ã€‚\n3. CloudWatchã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« $ mkdir tmp/AmazonCloudWatchAgent $ cd tmp/AmazonCloudWatchAgent $ wget https://s3.amazonaws.com/amazoncloudwatch-agent/linux/amd64/latest/AmazonCloudWatchAgent.zip $ unzip AmazonCloudWatchAgent.zip $ sudo ./install.sh 2. CloudWatchã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ ä½œæˆæ–¹æ³•ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ã§ä½œæˆã—ã¦ã¿ã¾ã™ã€‚\n$ sudo /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-config-wizard ã‚³ãƒãƒ³ãƒ‰ã‚’å©ãã¨å¯¾è©±å½¢å¼ã§è‰²ã€…ã¨é¸æŠã—ã¦ã„ãã¾ã™ã€‚é¸ã¶æ™‚ã¯æ•°å­—ã‚­ãƒ¼ã‚’ä½¿ã„ã¾ã™ã€‚ ============================================================= = Welcome to the AWS CloudWatch Agent Configuration Manager = ============================================================= On which OS are you planning to use the agent? 1. linux 2. windows default choice: [1]: 1 Trying to fetch the default region based on ec2 metadata... Are you using EC2 or On-Premises hosts? 1. EC2 2. On-Premises default choice: [1]: 1 Do you want to monitor any host metrics? e.g. CPU, memory, etc. 1. yes 2. no default choice: [1]: 1 Do you want to monitor cpu metrics per core? Additional CloudWatch charges may apply. 1. yes 2. no default choice: [1]: 2 Do you want to add ec2 dimensions (ImageId, InstanceId, InstanceType, AutoScalingGroupName) into all of your metrics if the info is available? 1. yes 2. no default choice: [1]: 2 Would you like to collect your metrics at high resolution (sub-minute resolution)? This enables sub-minute resolution for all metrics, but you can customize for specific metrics in the output json file. 1. 1s 2. 10s 3. 30s 4. 60s default choice: [4]: 4 Which default metrics config do you want? 1. Basic 2. Standard 3. Advanced 4. None default choice: [1]: 2 Current config as follows: { \u0026#34;metrics\u0026#34;: { \u0026#34;metrics_collected\u0026#34;: { \u0026#34;cpu\u0026#34;: { \u0026#34;measurement\u0026#34;: [ \u0026#34;cpu_usage_idle\u0026#34;, \u0026#34;cpu_usage_iowait\u0026#34;, \u0026#34;cpu_usage_user\u0026#34;, \u0026#34;cpu_usage_system\u0026#34; ], \u0026#34;metrics_collection_interval\u0026#34;: 60, \u0026#34;totalcpu\u0026#34;: false }, \u0026#34;disk\u0026#34;: { \u0026#34;measurement\u0026#34;: [ \u0026#34;used_percent\u0026#34;, \u0026#34;inodes_free\u0026#34; ], \u0026#34;metrics_collection_interval\u0026#34;: 60, \u0026#34;resources\u0026#34;: [ \u0026#34;*\u0026#34; ] }, \u0026#34;diskio\u0026#34;: { \u0026#34;measurement\u0026#34;: [ \u0026#34;io_time\u0026#34; ], \u0026#34;metrics_collection_interval\u0026#34;: 60, \u0026#34;resources\u0026#34;: [ \u0026#34;*\u0026#34; ] }, \u0026#34;mem\u0026#34;: { \u0026#34;measurement\u0026#34;: [ \u0026#34;mem_used_percent\u0026#34; ], \u0026#34;metrics_collection_interval\u0026#34;: 60 }, \u0026#34;swap\u0026#34;: { \u0026#34;measurement\u0026#34;: [ \u0026#34;swap_used_percent\u0026#34; ], \u0026#34;metrics_collection_interval\u0026#34;: 60 } } } } Are you satisfied with the above config? Note: it can be manually customized after the wizard completes to add additional items. 1. yes 2. no default choice: [1]: 1 Do you have any existing CloudWatch Log Agent (http://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/AgentReference.html) configuration file to import for migration? 1. yes 2. no default choice: [2]: 2 Do you want to monitor any log files? 1. yes 2. no default choice: [1]: 2 Saved config file to /opt/aws/amazon-cloudwatch-agent/bin/config.json successfully. Current config as follows: { \u0026#34;metrics\u0026#34;: { \u0026#34;metrics_collected\u0026#34;: { \u0026#34;cpu\u0026#34;: { \u0026#34;measurement\u0026#34;: [ \u0026#34;cpu_usage_idle\u0026#34;, \u0026#34;cpu_usage_iowait\u0026#34;, \u0026#34;cpu_usage_user\u0026#34;, \u0026#34;cpu_usage_system\u0026#34; ], \u0026#34;metrics_collection_interval\u0026#34;: 60, \u0026#34;totalcpu\u0026#34;: false }, \u0026#34;disk\u0026#34;: { \u0026#34;measurement\u0026#34;: [ \u0026#34;used_percent\u0026#34;, \u0026#34;inodes_free\u0026#34; ], \u0026#34;metrics_collection_interval\u0026#34;: 60, \u0026#34;resources\u0026#34;: [ \u0026#34;*\u0026#34; ] }, \u0026#34;diskio\u0026#34;: { \u0026#34;measurement\u0026#34;: [ \u0026#34;io_time\u0026#34; ], \u0026#34;metrics_collection_interval\u0026#34;: 60, \u0026#34;resources\u0026#34;: [ \u0026#34;*\u0026#34; ] }, \u0026#34;mem\u0026#34;: { \u0026#34;measurement\u0026#34;: [ \u0026#34;mem_used_percent\u0026#34; ], \u0026#34;metrics_collection_interval\u0026#34;: 60 }, \u0026#34;swap\u0026#34;: { \u0026#34;measurement\u0026#34;: [ \u0026#34;swap_used_percent\u0026#34; ], \u0026#34;metrics_collection_interval\u0026#34;: 60 } } } } Please check the above content of the config. The config file is also located at /opt/aws/amazon-cloudwatch-agent/bin/config.json. Edit it manually if needed. Do you want to store the config in the SSM parameter store? 1. yes 2. no default choice: [1]: 2 Program exits now. ä½œæˆã•ã‚ŒãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯ç›´æ¥viãªã©ã§é–‹ã„ã¦ä¿®æ­£ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ãŸå ´åˆã¯ã€CloudWatchã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å†èµ·å‹•ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n3. CloudWatchã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®é–‹å§‹ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ãŸã‚‰ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’èµ·å‹•ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ ã‚³ãƒãƒ³ãƒ‰ã‚’å©ã„ã¦èµ·å‹•ã—ã¾ã™ã€‚\n$ sudo /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl -a fetch-config -m ec2 -c file:/opt/aws/amazon-cloudwatch-agent/bin/config.json -s ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®ç¢ºèª\n$ sudo /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl -m ec2 -a status { \u0026#34;status\u0026#34;: \u0026#34;running\u0026#34;, \u0026#34;starttime\u0026#34;: \u0026#34;2018-03-01T08:25:58+0000\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;1.208.0\u0026#34; } CloudWatchã§ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç¢ºèª ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’é–‹å§‹ã™ã‚‹ã¨ã€ã‚ã¨ã¯å‹æ‰‹ã«ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒCloudWatchã«ãƒ‡ãƒ¼ã‚¿ã‚’é€ã£ã¦ãã‚Œã¾ã™ã€‚ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§CloudWatchã® ãƒ¡ãƒˆãƒªã‚¯ã‚¹ ã‚’ç¢ºèªã—ã¦ã¿ã‚‹ã¨ã€CWAgent ã¨ã„ã†åå‰ç©ºé–“ãŒæ–°ãŸã«ã§ãã¦ã„ã¾ã™ã€‚\nãã®ä¸­ã® device, fstype, host, path ã«ã¯ã€EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã¨ãã®ãƒ‘ã‚¹ãŒä¸€è¦§ã§è¡¨ç¤ºã•ã‚Œã¦ãŠã‚Šã€ãã®ä¸­ã® ãƒ¡ãƒˆãƒªã‚¯ã‚¹å disk_used_percent ã§ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®ä½¿ç”¨ç‡ã‚’ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã§ãã¾ã™ã€‚\nã‚ã¨ã¯ã“ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã«å¯¾ã—ã¦ã‚¢ãƒ©ãƒ¼ãƒ ã‚’è¨­å®šã—ã¦SNSã§é€šçŸ¥ã™ã‚Œã°OKã§ã™ã€‚\nSNSã§ã®é€šçŸ¥ã«ã¤ã„ã¦ã¯å‰ã«æ›¸ã„ãŸæ–¹æ³•ã¨åŒã˜ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-monitoring-disk-usage-of-ec2/",
    "title": "Amazon CloudWatchã§EC2ã®ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨ç‡ã‚’ç›£è¦–ã™ã‚‹"
  },
  {
    "contents": "ãŠåå‰.comã§å–å¾—ã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ã§ãƒ¡ãƒ¼ãƒ«ã‚’é€å—ä¿¡(ä¸»ã«å—ä¿¡)ã—ãŸã„ã¨æ€ã£ã¦EC2ã«postfixã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã®ã§ãã®æ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚ ã“ã‚Œã‹ã‚‰å‡ºã¦ãã‚‹ example.com ã‚’ã€è¨­å®šã™ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã«ç½®ãæ›ãˆã¦èª­ã‚“ã§ä¸‹ã•ã„ã€‚\nç’°å¢ƒ EC2 AmazonLinux è¨­å®šã«éš›ã—ã¦ã€æ¬¡ã®å€¤ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€å…ˆã«AWSã®ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§èª¿ã¹ã¦ãŠãã¾ã™ã€‚\nå¯¾è±¡ã®EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ å¯¾è±¡ã®EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒå±ã—ã¦ã„ã‚‹VPCã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ (ä¾‹ï¼š10.0.0.0/16) äº‹å‰æº–å‚™ ãŠåå‰.com ãƒ‰ãƒ¡ã‚¤ãƒ³Navi ã¾ãšDNSã®è¨­å®šã‚’ã—ã¾ã™ã€‚\nãŠåå‰.comã®ãƒ‰ãƒ¡ã‚¤ãƒ³Naviã‹ã‚‰ã€ä»¥ä¸‹ã®DNSãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¨­å®šã—ã¾ã™ã€‚\nãƒ›ã‚¹ãƒˆå TYPE VALUE å„ªå…ˆ example.com A EC2ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ mail.example.com A EC2ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ example.com MX mail.example.com 10 TTLã¯åˆæœŸå€¤(3600)ã®ã¾ã¾ã§ã„ã„ã§ã™ã€‚\nDNSã®åæ˜ ã«ã¯æ™‚é–“ãŒã‹ã‹ã‚‹ã®ã§ã€ä¸€ç•ªæœ€åˆã«ã‚„ã£ã¦ãŠãã¾ã™ã€‚\näº‹å‰æº–å‚™ AWSãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ« ç¶šã„ã¦ã€AWSã®ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ã€EC2ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã®è¨­å®šã‚’å¤‰æ›´ã—ã¾ã™ã€‚\nå¯¾è±¡ã®EC2ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã®ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«ã«ã€ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚\nã‚¿ã‚¤ãƒ— ãƒãƒ¼ãƒˆç¯„å›² ã‚½ãƒ¼ã‚¹ IMAP 143 ::0/, 0.0.0.0/0 SMTP 25 ::0/, 0.0.0.0/0 POP3 110 ::0/, 0.0.0.0/0 postfixã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ ã“ã“ã‹ã‚‰ã¯SSHã§EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦æ“ä½œã—ã¾ã™ã€‚\npostfixã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ sudo yum install -y postfix ã“ã®ã‚ã¨ä»¥ä¸‹ã®3ã¤ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›¸ãæ›ãˆã‚‹ã®ã§ã€å¿µã®ãŸã‚ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãŠãã¾ã™ã€‚\n/etc/postfix/main.cf /etc/postfix/master.cf /etc/sasl2/smtpd.conf $ sudo cp /etc/postfix/main.cf /etc/postfix/main.cf.org $ sudo cp /etc/postfix/master.cf /etc/postfix/master.cf.org $ sudo cp /etc/postfix/smtpd.cf /etc/postfix/smtpd.cf.org $ diff /etc/postfix/main.cf.org /etc/postfix/main.cf 76c76 \u0026lt; #myhostname = virtual.domain.tld --- \u0026gt; myhostname = mail.example.com 83c83 \u0026lt; #mydomain = domain.tld --- \u0026gt; mydomain = example.com 99c99 \u0026lt; #myorigin = $mydomain --- \u0026gt; myorigin = $mydomain 113c113 \u0026lt; #inet_interfaces = all --- \u0026gt; inet_interfaces = all 116c116 \u0026lt; inet_interfaces = localhost --- \u0026gt; #inet_interfaces = localhost 166c166 \u0026lt; #mydestination = $myhostname, localhost.$mydomain, localhost, $mydomain, --- \u0026gt; mydestination = $myhostname, localhost.$mydomain, localhost, $mydomain 264c264 \u0026lt; #mynetworks = 168.100.189.0/28, 127.0.0.0/8 --- \u0026gt; mynetworks = 10.0.0.0/16, 127.0.0.0/8 ## 10.0.0.0/16 ã¯äº‹å‰ã«ãƒ¡ãƒ¢ã—ã¦ãŠã„ãŸVPCã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ 419c419 \u0026lt; #home_mailbox = Maildir/ --- \u0026gt; home_mailbox = Maildir/ 676a677,684 \u0026gt; \u0026gt; ## add setting \u0026gt; smtpd_sasl_auth_enable = yes \u0026gt; smtpd_sasl_local_domain = $myhostname \u0026gt; smtpd_recipient_restrictions = \u0026gt; permit_mynetworks \u0026gt; permit_sasl_authenticated \u0026gt; reject_unauth_destination $ diff /etc/postfix/master.cf.org /etc/postfix/master.cf 12c12 \u0026lt; #submission inet n - n - - smtpd --- \u0026gt; submission inet n - n - - smtpd 14,15c14,15 \u0026lt; # -o smtpd_sasl_auth_enable=yes \u0026lt; # -o smtpd_client_restrictions=permit_sasl_authenticated,reject --- \u0026gt; -o smtpd_sasl_auth_enable=yes \u0026gt; -o smtpd_client_restrictions=permit_sasl_authenticated,reject $ diff /etc/sasl2/smtpd.conf.org /etc/sasl2/smtpd.conf 1c1 \u0026lt; pwcheck_method: saslauthd --- \u0026gt; pwcheck_method: auxprop sendmailã®åœæ­¢ã€postfixã¨saslauthdã®èµ·å‹•è¨­å®š ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ sendmail ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã®ã§ã€åœæ­¢ã—ã¾ã™ã€‚ã¾ãŸã€è‡ªå‹•èµ·å‹•ã®è¨­å®šã‚‚è§£é™¤ã—ã¾ã™ã€‚\n$ sudo service sendmail stop Shutting down sendmail: [ OK ] $ sudo chkconfig sendmail off ç¶šã„ã¦ã€MTA(Mail Transfer Agent)ã‚’ sendmail ã‹ã‚‰ postfix ã«å¤‰æ›´ã—ã¾ã™ã€‚\n$ sudo alternatives --config mta There are 2 programs which provide \u0026#39;mta\u0026#39;. Selection Command ----------------------------------------------- + 1 /usr/sbin/sendmail.sendmail 2 /usr/sbin/sendmail.postfix Enter to keep the current selection[+], or type selection number: ;2 ã‚’å…¥åŠ›ã—ã¦Enterã‚­ãƒ¼ã‚’æŠ¼ã—ã¾ã™ postfix ã‚’èµ·å‹•ã—ã¾ã™ã€‚è‡ªå‹•èµ·å‹•è¨­å®šã‚‚ã—ã¾ã™ã€‚\n$ sudo chkconfig --add postfix $ sudo chkconfig postfix on $ sudo service postfix start Starting postfix: [ OK ] SALSèªè¨¼ã®ãŸã‚ã® saslauthd ã‚’èµ·å‹•ã—ã¾ã™ã€‚è‡ªå‹•èµ·å‹•è¨­å®šã‚‚ã—ã¾ã™ã€‚\n$ sudo chkconfig saslauthd on $ sudo service saslauthd start Starting saslauthd: [ OK ] ãƒ¦ãƒ¼ã‚¶ã®ä½œæˆ ãƒ¦ãƒ¼ã‚¶ã¨ã¯ã€hogehoge@example.com ã¨ã„ã†ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ä½œã£ãŸã¨ãã® hogehoge ã«ã‚ãŸã‚‹éƒ¨åˆ†ã§ã™ã€‚\nãƒ¦ãƒ¼ã‚¶ã®ä½œæˆã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®š\n$ sudo useradd hogehoge $ sudo passwd hogehoge Changing password for user hogehoge. New password: Retype new password: passwd: all authentication tokens updated successfully. ä½œã£ãŸãƒ¦ãƒ¼ã‚¶ã«ãªã£ã¦ãƒ¡ãƒ¼ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã™ã€‚\n$ su - hogehoge Password: Last login: Thu Jan 24 23:04:06 JST 2018 on pts/0 $ mkdir Maildir ã“ã‚Œã§å—ä¿¡è¨­å®šã¯å®Œäº†ã§ã™ã€‚\nhogehoge@example.com å®›ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ã‚‹ã¨ä½œæˆã—ãŸ Maildir ã®ä¸‹ã« new ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒä½œæˆã•ã‚Œã€ãã“ã« 1234567890.abcdefghABCD123456.ip-XX-XXX-XXX-XXX ã¨ã„ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚\nã“ã‚ŒãŒãƒ¡ãƒ¼ãƒ«ã®å†…å®¹ã«ãªã‚Šã¾ã™ãŒã€ä»¶åã‚„æœ¬æ–‡ã¯base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€èª­ã‚€ã«ã¯base64ãƒ‡ã‚³ãƒ¼ãƒ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-receive-email-with-mail-server-on-ec2/",
    "title": "EC2ã«ãƒ¡ãƒ¼ãƒ«ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¦ãŠåå‰.comã§å–å¾—ã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ã§ãƒ¡ãƒ¼ãƒ«ã‚’å—ä¿¡ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã¾ã§"
  },
  {
    "contents": "ã‚µãƒ¼ãƒç›£è¦–ã£ã¦ã‚„ã‚„ã“ã—ãã†ãªå°è±¡ã§ã—ãŸãŒã€AWSã‚’ä½¿ã†ã¨ç°¡å˜ã§ã—ãŸã€‚ ã‚¿ã‚¤ãƒˆãƒ«ã®é€šã‚Šã€CloudWatchã§EC2ã®CPUä½¿ç”¨ç‡ã‚’ç›£è¦–ã—ã¦SNSã§é€šçŸ¥ã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚\nã“ã“ã§ã„ã† SNS ã¯ã€Social Networking Service ã§ã¯ãªãã€AWSã®ã‚µãƒ¼ãƒ“ã‚¹ã®ä¸€ã¤ã§ã‚ã‚‹ Simple Notification Service ã®ã“ã¨ã§ã™ã€‚\nå‰æ EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒç¨¼åƒä¸­ã§ã‚ã‚‹ã“ã¨ï¼ˆäº‹å‰ã«ç›£è¦–å¯¾è±¡ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹IDã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãï¼‰ SNSï¼ˆSimple Notification Serviceï¼‰ã§ãƒˆãƒ”ãƒƒã‚¯ãƒ»ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ä½œæˆ ãƒˆãƒ”ãƒƒã‚¯ã¨ã¯ é€šçŸ¥ã®ãƒãƒ£ãƒ³ãƒãƒ«ã®ã‚ˆã†ãªã‚‚ã® ãƒˆãƒ”ãƒƒã‚¯ã®ä¸­ï¼ˆä¸‹ï¼Ÿï¼‰ã«é€šçŸ¥å…ˆã‚’è‰²ã€…è¨­å®šã§ãã‚‹ï¼ˆHTTPã€Emailã€AWS Lambda\u0026hellip;ï¼‰ ä½œæˆæ™‚ã« ãƒˆãƒ”ãƒƒã‚¯åï¼ˆåŠè§’è‹±æ•°å­—ã¨ãƒã‚¤ãƒ•ãƒ³ã€ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã§256æ–‡å­—ã¾ã§ï¼‰ã¨ã€è¡¨ç¤ºåï¼ˆ10æ–‡å­—ä»¥å†…ï¼‰ã‚’å…¥åŠ› ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã¨ã¯ ãƒˆãƒ”ãƒƒã‚¯ã®ä¸­ï¼ˆä¸‹ï¼Ÿï¼‰ã«ä½œæˆã™ã‚‹é€šçŸ¥å…ˆã®ã“ã¨ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã€HTTPãªã‚‰URLã€Emailãªã‚‰ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒ‡å®šã™ã‚‹ Emailã‚’æŒ‡å®šã™ã‚‹ã¨ã€è¨­å®šã—ãŸã‚¢ãƒ‰ãƒ¬ã‚¹å®›ã«æ‰¿èªç”¨URLãŒå±Šãã®ã§ã€æœ¬æ–‡å†…ã®URLã§æ‰¿èªã™ã‚‹ SNSã®æ–™é‡‘è¨­å®š ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã§ã‚ã‚Œã°ã€æ¯æœˆ1,000ä»¶ã¾ã§ã¯ç„¡æ–™ ãã‚Œä»¥é™ã¯ã€100,000ä»¶ã‚ãŸã‚Š2ãƒ‰ãƒ« â€»ä»–ã®ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯SNSæ–™é‡‘ãƒšãƒ¼ã‚¸ã‚’å‚ç…§ã—ã¦ãã ã•ã„ https://aws.amazon.com/jp/sns/pricing/ ä½œæˆæ‰‹é † ãƒˆãƒ”ãƒƒã‚¯ä½œæˆ ä½œæˆã—ãŸãƒˆãƒ”ãƒƒã‚¯ã«å¯¾ã—ã¦ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ä½œæˆ ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’ Email ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã« é€šçŸ¥å…ˆã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ è¨­å®šã—ãŸãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å®›ã«å±Šã„ãŸæ‰¿èªãƒ¡ãƒ¼ãƒ«å†…ã®URLã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€æ‰¿èª ä»¶åã¯ AWS Notification - Subscription Confirmation CloudWatchã§ã‚¢ãƒ©ãƒ¼ãƒ ä½œæˆ ã‚¢ãƒ©ãƒ¼ãƒ ã¨ã¯ â—¯â—¯ãŒâ–²â–²ä»¥ä¸Šã«ãªã£ãŸã‚‰â–¡â–¡ã™ã‚‹ ã¨ã„ã£ãŸè¨­å®šã®ã“ã¨ ä»¥ä¸‹ã®3ã¤ã®çŠ¶æ…‹ãŒã‚ã‚‹ ã‚¢ãƒ©ãƒ¼ãƒ ï¼šè¨­å®šã—ãŸæ¡ä»¶ã«åˆè‡´ã—ã¦ã„ã‚‹çŠ¶æ…‹ ä¸è¶³ï¼šãƒ‡ãƒ¼ã‚¿ãŒä¸è¶³ã—ã¦ã„ã¦è¨­å®šã—ãŸæ¡ä»¶ãŒåˆ¤å®šã§ããªã„çŠ¶æ…‹ OKï¼šè¨­å®šã—ãŸæ¡ä»¶ã«åˆè‡´ã—ã¦ã„ãªã„çŠ¶æ…‹ CloudWatchã®æ–™é‡‘ ç„¡æ–™ æœ€å¤§50å€‹ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€3ã¤ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã¯5åˆ†é–“éš” â€»è©³ç´°ã¯CloudWatchæ–™é‡‘ãƒšãƒ¼ã‚¸ã‚’å‚ç…§ã—ã¦ãã ã•ã„ https://aws.amazon.com/jp/cloudwatch/pricing/ ä½œæˆæ‰‹é † â€»ã‚¹ã‚¯ã‚·ãƒ§ã¯ã‚ã‚Šã¾ã›ã‚“\nãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®é¸æŠ ã§ EC2 ã‚’é¸æŠã—ã€å³æ¨ªã®ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã«å¯¾è±¡ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹IDã‚’å…¥åŠ›ã—ã¦ Enter ä¸‹ã®ä¸€è¦§ã‹ã‚‰ CPUUtilization (CPUUtilization) ã®è¡Œã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã€æ¬¡ã¸ åå‰ã€èª¬æ˜ ã‚’å…¥åŠ› ã—ãã„å€¤ã€ã‚¢ãƒ©ãƒ¼ãƒ ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ ã®ä¸‹ã«ã‚ã‚‹ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã€ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ã€ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ã‚’é©å®œè¨­å®šã™ã‚‹\nä»¥ä¸‹ã€ã€Œ5åˆ†é–“ã®ä½¿ç”¨ç‡å¹³å‡ãŒ70%ã‚’è¶…ãˆãŸå ´åˆã«ãƒˆãƒªã‚¬ãƒ¼ã€ã¨ã„ã†æ¡ä»¶ã®å ´åˆã®è¨­å®šä¾‹\nãŒï¼šâ‰§ 70\næœŸé–“ï¼š1 ä¸­ 1ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ\né–“éš”ï¼š5åˆ†é–“\nçµ±è¨ˆï¼šã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ã€€å¹³å‡ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ ã®é …ç›®ã§ã€ã‚¢ãƒ©ãƒ¼ãƒ ãŒæ¬¡ã®æ™‚ï¼šçŠ¶æ…‹ï¼šè­¦å‘Š ã«ã€ä½œæˆã—ãŸSNSã®ãƒˆãƒ”ãƒƒã‚¯ã‚’æŒ‡å®šã™ã‚‹\nã‚¢ãƒ©ãƒ¼ãƒ ã®çŠ¶æ…‹ãŒã€ã‚¢ãƒ©ãƒ¼ãƒ  ã«å¤‰ã‚ã£ãŸæ™‚ã«é€šçŸ¥ãŒæ¥ã‚‹ ã‚¢ãƒ©ãƒ¼ãƒ ãŒæ¬¡ã®æ™‚ï¼šçŠ¶æ…‹ï¼šOK ã‚‚è¨­å®šã™ã‚‹ã¨ã€ã‚¢ãƒ©ãƒ¼ãƒ ã®çŠ¶æ…‹ãŒ OK ã«å¤‰ã‚ã£ãŸã¨ãã«ã‚‚é€šçŸ¥ãŒæ¥ã‚‹ æ³¨æ„ç‚¹ é–“éš”ã‚’ 1åˆ† ã¨ã‹ã«è¨­å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€ç„¡æ–™ã§ä½¿ç”¨ã™ã‚‹å ´åˆã¯ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®æœ€å°é–“éš”ãŒ 5åˆ† ãªã®ã§ã€ã‚¢ãƒ©ãƒ¼ãƒ ã®çŠ¶æ…‹ãŒé »ç¹ã« ä¸è¶³ ã«ãªã‚Šã¾ã™ã€‚ ",
    "permalink": "https://michimani.net/post/aws-monitoring-cpu-of-ec2-and-notice-with-sns/",
    "title": "AmazonCloudWatchã§EC2ã®CPUä½¿ç”¨ç‡ã‚’ç›£è¦–ã—ã¦SNSã§é€šçŸ¥ã™ã‚‹"
  },
  {
    "contents": "ç‰›ã«ä½•ã‹ã‚’å–‹ã‚‰ã›ã‚‹ cowsay ã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚Šã¾ã™ãŒã€-f ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ç‰›ä»¥å¤–ã«ã‚‚æ§˜ã€…ãªãƒ¢ãƒã«å–‹ã‚‰ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ ãã‚Œã‚’ã€ãƒ©ãƒ³ãƒ€ãƒ ã§å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\nmichimani/rand_cowsay.php cowsayãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‚µãƒ¼ãƒç­‰ã§ã€ä¸Šè¨˜ã®phpã‚’å®Ÿè¡Œã™ã‚‹ã ã‘ã§ã™ã€‚å®Ÿè¡Œã”ã¨ã«å–‹ã‚‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒãƒ©ãƒ³ãƒ€ãƒ ã§å¤‰ã‚ã‚Šã¾ã™ã€‚\nã¡ãªã¿ã«ã€Macã«cowsayã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã«ã¯ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n$ brew install cowsay å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ php rand_cowsay.php test ______ \u0026lt; test \u0026gt; ------ \\ ___-------___ \\ _-~~ ~~-_ \\ _-~ /~-_ /^\\__/^\\ /~ \\ / \\ /| O|| O| / \\_______________/ \\ | |___||__| / / \\ \\ | \\ / / \\ \\ | (_______) /______/ \\_________ \\ | / / \\ / \\ \\ \\^\\\\ \\ / \\ / \\ || \\______________/ _-_ //\\__// \\ ||------_-~~-_ ------------- \\ --/~ ~\\ || __/ ~-----||====/~ |==================| |/~~~~~ (_(__/ ./ / \\_\\ \\. (_(___/ \\_____)_) by turtle äº€ã€‚\n$ php rand_cowsay.php test ______ \u0026lt; test \u0026gt; ------ \\ . . . \\ . . . ` , \\ .; . : .\u0026#39; : : : . \\ i..`: i` i.i.,i i . \\ `,--.|i |i|ii|ii|i: UooU\\.\u0026#39;@@@@@@`.||\u0026#39; \\__/(@@@@@@@@@@)\u0026#39; (@@@@@@@@) `YY~~~~YY\u0026#39; || || by flaming-sheep ç‡ƒãˆã¦ã„ã‚‹ç¾Šã€‚ã€‚ã€‚\n-t ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã€cowthink ã‚³ãƒãƒ³ãƒ‰ã«ãªã‚Šã¾ã™ã€‚\n$ php rand_cowsay.php -t test ______ ( test ) ------ o ^ /^ o / \\ // \\ o |\\___/| / \\// .\\ o /O O \\__ / // | \\ \\ *----* / / \\/_/ // | \\ \\ \\ | @___@` \\/_ // | \\ \\ \\/\\ \\ 0/0/| \\/_ // | \\ \\ \\ \\ 0/0/0/0/| \\/// | \\ \\ | | 0/0/0/0/0/_|_ / ( // | \\ _\\ | / 0/0/0/0/0/0/`/,_ _ _/ ) ; -. | _ _\\.-~ / / ,-} _ *-.|.-~-. .~ ~ \\ \\__/ `/\\ / ~-. _ .-~ / \\____(oo) *. } { / ( (--) .----~-.\\ \\-` .~ //__\\\\ \\__ Ack! ///.----..\u0026lt; \\ _ -~ // \\\\ ///-._ _ _ _ _ _ _{^ - - - - ~ by dragon-and-cow ä»¥ä¸Šã€‚\n",
    "permalink": "https://michimani.net/post/php-random-exec-cowsay/",
    "title": "ã€PHPã€‘cowsay -f ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã§å®Ÿè¡Œã™ã‚‹"
  },
  {
    "contents": "Laravel5.1ã‚’Laravel5.5ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ã¦ composer installã‚’å®Ÿè¡Œã—ãŸã¨ãã«ã€ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã—ãŸã€‚\nPHP Fatal error: Uncaught Error: Class name must be a valid object or a string in /var/www/hogehoge/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php:139 Stack trace: #0 [internal function]: Illuminate\\Foundation\\Exceptions\\Handler-\u0026gt;Illuminate\\Foundation\\Exceptions\\{closure}(0, \u0026#39;Symfony\\\\Compone...\u0026#39;) #1 /var/www/hogehoge/bootstrap/cache/compiled.php(6213): call_user_func(Object(Closure), 0, \u0026#39;Symfony\\\\Compone...\u0026#39;) #2 /var/www/hogehoge/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php(140): Illuminate\\Support\\Arr::first(Array, Object(Closure)) #3 /var/www/hogehoge/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php(97): Illuminate\\Foundation\\Exceptions\\Handler-\u0026gt;shouldntReport(Object(ReflectionException)) #4 /var/www/hogehoge/app/Exceptions/Handler.php(34): Illuminate\\Foundation\\Exceptions\\Handler-\u0026gt;report(Object(ReflectionException)) #5 /var/www/hogehoge/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(3 in /var/www/hogehoge/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php on line 139 Script @php artisan package:discover handling the post-autoload-dump event returned with error code 255 ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã‚°ã‚°ã£ã¦ã¿ã‚‹ã¨ã€stackoverflowã«è§£æ±ºæ–¹æ³•ãŒã‚ã‚Šã¾ã—ãŸã€‚\nComposer Update with Laravel 5.4 \u0026amp;amp; PHP 7 \u0026amp;ldquo;Class Name must be a valid object or a string\u0026amp;rdquo; - Stack Overflow æ›¸ã‹ã‚Œã¦ã„ã‚‹é€šã‚Šã€bootstrap/cache/compiled.php ã‚’å‰Šé™¤ã—ã¦å†åº¦ composer install ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ã‚¨ãƒ©ãƒ¼ã¯å‡ºã¾ã›ã‚“ã§ã—ãŸã€‚\ncompiled.php ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å®Ÿè¡ŒåŠ¹ç‡ã‚’ä¸Šã’ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ãŒã€Laravel5.4ã¸ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ä¸‹è¨˜ã®è¨˜è¼‰ãŒã‚ã‚Šã¾ã—ãŸã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ¸ˆã¿ã‚µãƒ¼ãƒ“ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤ å­˜åœ¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€bootstrap/cache/compiled.phpãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¦ãã ã•ã„ã€‚ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ä½¿ç”¨ã—ãªããªã‚Šã¾ã—ãŸã€‚\nã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚¬ã‚¤ãƒ‰ 5.4 Laravel ã—ã£ã‹ã‚Šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«æ›¸ã„ã¦ã‚ã‚Šã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/php-update-laravel-5.1-to-5.5-error-workaround/",
    "title": "ã€PHPã€‘Laravel5.1ã‹ã‚‰Laravel5.5ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ã¦composer installã—ãŸã¨ãã«PHP Fatal errorãŒå‡ºãŸã¨ãã®å¯¾å‡¦æ–¹æ³•"
  },
  {
    "contents": "ä»¥å‰ã«ã‚‚å°‘ã—æ›¸ãã¾ã—ãŸãŒã€ãã‚Œä»¥å¤–ã«ã‚‚è‰²ã€…ã¨ä¿®æ­£ã—ãŸéƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ã€ä»¥å‰ã«æ›¸ã„ãŸå†…å®¹ã‚‚å«ã‚ã¦ã‚ã‚‰ãŸã‚ã¦æ›¸ãã¾ã™ã€‚\nâ€»ç’°å¢ƒã«ã‚ˆã£ã¦ã¯ä¸‹è¨˜å†…å®¹ä»¥å¤–ã«ã‚‚ä¿®æ­£ãŒå¿…è¦ãªå ´åˆãŒã‚ã‚Šã¾ã™ã€‚è©³ã—ãã¯Laravelå…¬å¼ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚¬ã‚¤ãƒ‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nã‚³ã‚¢éƒ¨åˆ†ã€è¨­å®šé–¢ä¿‚ composer.json ã®æ›¸ãæ›ãˆ @@ -5,15 +5,23 @@ \u0026#34;license\u0026#34;: \u0026#34;MIT\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;project\u0026#34;, \u0026#34;require\u0026#34;: { - \u0026#34;php\u0026#34;: \u0026#34;\u0026gt;=5.5.9\u0026#34;, - \u0026#34;laravel/framework\u0026#34;: \u0026#34;5.1.*\u0026#34;, + \u0026#34;php\u0026#34;: \u0026#34;\u0026gt;=7.0.0\u0026#34;, + \u0026#34;fideloper/proxy\u0026#34;: \u0026#34;~3.3\u0026#34;, + \u0026#34;laravel/framework\u0026#34;: \u0026#34;5.5.*\u0026#34;, + \u0026#34;laravel/tinker\u0026#34;: \u0026#34;~1.0\u0026#34;, \u0026#34;doctrine/dbal\u0026#34;: \u0026#34;^2.5\u0026#34; }, \u0026#34;require-dev\u0026#34;: { + \u0026#34;filp/whoops\u0026#34;: \u0026#34;~2.0\u0026#34;, \u0026#34;fzaninotto/faker\u0026#34;: \u0026#34;~1.4\u0026#34;, \u0026#34;mockery/mockery\u0026#34;: \u0026#34;0.9.*\u0026#34;, - \u0026#34;phpunit/phpunit\u0026#34;: \u0026#34;~4.0\u0026#34;, - \u0026#34;phpspec/phpspec\u0026#34;: \u0026#34;~2.1\u0026#34; + \u0026#34;phpunit/phpunit\u0026#34;: \u0026#34;~6.0\u0026#34; + }, + \u0026#34;extra\u0026#34;: { + \u0026#34;laravel\u0026#34;: { + \u0026#34;dont-discover\u0026#34;: [ + ] + } }, \u0026#34;autoload\u0026#34;: { \u0026#34;classmap\u0026#34;: [ @@ -31,18 +39,14 @@ }, \u0026#34;scripts\u0026#34;: { \u0026#34;post-root-package-install\u0026#34;: [ - \u0026#34;php -r \\\u0026#34;copy(\u0026#39;.env.example\u0026#39;, \u0026#39;.env\u0026#39;);\\\u0026#34;\u0026#34; + \u0026#34;@php -r \\\u0026#34;file_exists(\u0026#39;.env\u0026#39;) || copy(\u0026#39;.env.example\u0026#39;, \u0026#39;.env\u0026#39;);\\\u0026#34;\u0026#34; ], \u0026#34;post-create-project-cmd\u0026#34;: [ - \u0026#34;php artisan key:generate\u0026#34; - ], - \u0026#34;post-install-cmd\u0026#34;: [ - \u0026#34;Illuminate\\\\Foundation\\\\ComposerScripts::postInstall\u0026#34;, - \u0026#34;php artisan optimize\u0026#34; + \u0026#34;@php artisan key:generate\u0026#34; ], - \u0026#34;post-update-cmd\u0026#34;: [ - \u0026#34;Illuminate\\\\Foundation\\\\ComposerScripts::postUpdate\u0026#34;, - \u0026#34;php artisan optimize\u0026#34; + \u0026#34;post-autoload-dump\u0026#34;: [ + \u0026#34;Illuminate\\\\Foundation\\\\ComposerScripts::postAutoloadDump\u0026#34;, + \u0026#34;@php artisan package:discover\u0026#34; ] }, \u0026#34;config\u0026#34;: { ãƒ•ã‚£ãƒ«ã‚¿ ã‚’ ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã«æ›¸ãæ›ãˆ Controllerã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãªã©ã§ $this-\u0026gt;beforeFilter() ã¨ã„ã£ãŸå½¢ã§ãƒ•ã‚£ãƒ«ã‚¿ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã¸ã®æ›¸ãæ›ãˆãŒå¿…è¦ã§ã™ã€‚\nbefore\n\u0026lt;?php public function __construct() { parent::__construct(); $this-\u0026gt;beforeFilter(\u0026#34;@hogehoge\u0026#34;); } public function hogehoge() { // å‡¦ç† } after\n\u0026lt;?php public function __construct() { parent::__construct(); $this-\u0026gt;middleware(function ($request, $next) { // å‡¦ç† return $next($request); }); } Kernel.php ã®æ›¸ãæ›ãˆã¨ã€ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®è¿½åŠ  app/Http/Kernel.phpã§ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’è¨­å®šã—ã¦ã„ã¾ã—ãŸãŒã€æ›¸ãæ–¹ãŒå¤‰æ›´ã«ãªã£ãŸã®ã¨ã€æ–°ãŸã«ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã®ã§ãã®å¯¾å¿œã§ã™ã€‚\n@@ -9,16 +9,38 @@ class Kernel extends HttpKernel /** * The application\u0026#39;s global HTTP middleware stack. * + * These middleware are run during every request to your application. + * * @var array */ protected $middleware = [ \\Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode::class, - \\App\\Http\\Middleware\\EncryptCookies::class, - \\Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse::class, - \\Illuminate\\Session\\Middleware\\StartSession::class, - \\Illuminate\\View\\Middleware\\ShareErrorsFromSession::class, - \\App\\Http\\Middleware\\VerifyCsrfToken::class, + \\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize::class, + \\App\\Http\\Middleware\\TrimStrings::class, + // \\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull::class, + \\App\\Http\\Middleware\\TrustProxies::class, + ]; + + /** + * The application\u0026#39;s route middleware groups. + * + * @var array + */ + protected $middlewareGroups = [ + \u0026#39;web\u0026#39; =\u0026gt; [ + \\App\\Http\\Middleware\\EncryptCookies::class, + \\Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse::class, + \\Illuminate\\Session\\Middleware\\StartSession::class, + // \\Illuminate\\Session\\Middleware\\AuthenticateSession::class, + \\Illuminate\\View\\Middleware\\ShareErrorsFromSession::class, + \\App\\Http\\Middleware\\VerifyCsrfToken::class, + \\Illuminate\\Routing\\Middleware\\SubstituteBindings::class, + ], + \u0026#39;api\u0026#39; =\u0026gt; [ + \u0026#39;throttle:60,1\u0026#39;, + \u0026#39;bindings\u0026#39;, + ], ]; /** @@ -27,8 +49,11 @@ class Kernel extends HttpKernel * @var array */ protected $routeMiddleware = [ - \u0026#39;auth\u0026#39; =\u0026gt; \\App\\Http\\Middleware\\Authenticate::class, + \u0026#39;auth\u0026#39; =\u0026gt; \\Illuminate\\Auth\\Middleware\\Authenticate::class, \u0026#39;auth.basic\u0026#39; =\u0026gt; \\Illuminate\\Auth\\Middleware\\AuthenticateWithBasicAuth::class, + \u0026#39;bindings\u0026#39; =\u0026gt; \\Illuminate\\Routing\\Middleware\\SubstituteBindings::class, + \u0026#39;can\u0026#39; =\u0026gt; \\Illuminate\\Auth\\Middleware\\Authorize::class, \u0026#39;guest\u0026#39; =\u0026gt; \\App\\Http\\Middleware\\RedirectIfAuthenticated::class, + \u0026#39;throttle\u0026#39; =\u0026gt; \\Illuminate\\Routing\\Middleware\\ThrottleRequests::class, ]; } ã“ã“ã§ã€æ–°ãŸã«è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ ConvertEmptyStringsToNull ã§ã™ãŒã€ã“ã‚ŒãŒå°‘ã—æ›²è€…ã§ã™ã€‚\nã“ã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®å‡¦ç†ã¯ã€formã§é€ä¿¡ã•ã‚Œã‚‹å€¤ãŒç©ºç™½(\u0026quot;\u0026quot;)ã®ã‚‚ã®ã¯ã€null ã¨ã—ã¦æ‰±ã† ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚ã“ã®çµæœã€ä»Šã¾ã§ç©ºç™½ã§postã•ã‚Œã¦DBã® nullableã§ãªã„ ã‚«ãƒ©ãƒ ã«ç©ºç™½ãŒä¿å­˜ã•ã‚Œã¦ã„ãŸã‚ˆã†ãªã¨ã“ã‚ã§ã€dbã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã—ã¾ã„ã¾ã™ã€‚\nå¯¾å‡¦æ–¹æ³•ã¨ã—ã¦ã¯ã€ã“ã® ConvertEmptyStringsToNull ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã™ã‚‹ã‹ã€å¯¾è±¡ã®ã‚«ãƒ©ãƒ ã‚’ nullable ã«ã™ã‚‹ã‹ã€ã§ã™ã€‚\næ›´ã«ã€æ–°ãŸã«ä¸‹è¨˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã¾ã™ã€‚\napp/Http/Middleware/TrimStrings.php app/Http/Middleware/TrustProxies.php ã“ã‚Œã‚‰ã¯Githubã‹ã‚‰ãã®ã¾ã¾æŒã£ã¦ãã¾ã™ã€‚\nhttps://github.com/laravel/laravel EventServiceProvider.php ã¨ RouteServiceProvider.php ã®æ›¸ãæ›ãˆ ãã‚Œãã‚Œ boot() ã®å¼•æ•°ãŒå¤‰æ›´ã•ã‚Œã¦ã„ã‚‹ã®ã§ä¿®æ­£ã—ã¾ã™ã€‚\napp/Providers/EventServiceProvider.php\n@@ -24,9 +24,9 @@ class EventServiceProvider extends ServiceProvider * @param \\Illuminate\\Contracts\\Events\\Dispatcher $events * @return void */ - public function boot(DispatcherContract $events) + public function boot() { - parent::boot($events); + parent::boot(); // } app/Providers/RouteServiceProvider.php\nRouteServiceProvider.phpã«ã¤ã„ã¦ã¯boot()ä»¥å¤–ã«ã‚‚å¤‰ã‚ã£ã¦ã„ã‚‹éƒ¨åˆ†ãŒã‚ã‚Šã¾ã™ã€‚ã“ã¡ã‚‰ã‚‚ Github ã®ã‚½ãƒ¼ã‚¹ã‚’è¦‹ãªãŒã‚‰ä¿®æ­£ã—ã¾ã™ã€‚\n@@ -1,44 +1,63 @@ \u0026lt;?php - namespace App\\Providers; - -use Illuminate\\Routing\\Router; +use Illuminate\\Support\\Facades\\Route; use Illuminate\\Foundation\\Support\\Providers\\RouteServiceProvider as ServiceProvider; - class RouteServiceProvider extends ServiceProvider { /** - * This namespace is applied to the controller routes in your routes file. + * This namespace is applied to your controller routes. * * In addition, it is set as the URL generator\u0026#39;s root namespace. * * @var string */ protected $namespace = \u0026#39;App\\Http\\Controllers\u0026#39;; - /** * Define your route model bindings, pattern filters, etc. * - * @param \\Illuminate\\Routing\\Router $router * @return void */ - public function boot(Router $router) + public function boot() { // - - parent::boot($router); + parent::boot(); } - /** * Define the routes for the application. * - * @param \\Illuminate\\Routing\\Router $router * @return void */ - public function map(Router $router) + public function map() { - $router-\u0026gt;group([\u0026#39;namespace\u0026#39; =\u0026gt; $this-\u0026gt;namespace], function ($router) { - require app_path(\u0026#39;Http/routes.php\u0026#39;); - }); + $this-\u0026gt;mapApiRoutes(); + $this-\u0026gt;mapWebRoutes(); + // + } + /** + * Define the \u0026#34;web\u0026#34; routes for the application. + * + * These routes all receive session state, CSRF protection, etc. + * + * @return void + */ + protected function mapWebRoutes() + { + Route::middleware(\u0026#39;web\u0026#39;) + -\u0026gt;namespace($this-\u0026gt;namespace) + -\u0026gt;group(base_path(\u0026#39;routes/web.php\u0026#39;)); + } + /** + * Define the \u0026#34;api\u0026#34; routes for the application. + * + * These routes are typically stateless. + * + * @return void + */ + protected function mapApiRoutes() + { + Route::prefix(\u0026#39;api\u0026#39;) + -\u0026gt;middleware(\u0026#39;api\u0026#39;) + -\u0026gt;namespace($this-\u0026gt;namespace) + -\u0026gt;group(base_path(\u0026#39;routes/api.php\u0026#39;)); } ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ Laravel5.1ã§ã¯ app/Http/routes.php ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®è¨­å®šã‚’æ›¸ã„ã¦ã„ã¾ã—ãŸãŒã€5.5ã§ã¯ä»¥ä¸‹ã®2ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§è¨­å®šã—ã¾ã™ã€‚\nroutes/api.php routes/web.php ã¨ã‚Šã‚ãˆãšä»Šã¾ã§ã® app/Http/routes.php ã‚’ routes/web.php ã«ãƒªãƒãƒ¼ãƒ ã—ã¾ã™ã€‚\nroutes/api.php ã«ã¤ã„ã¦ã¯ Github ã‹ã‚‰å–å¾—ã—ã¾ã™ã€‚\napp/config/app.php ã®æ›¸ãæ›ãˆ @@ -2,6 +2,8 @@ return [ + \u0026#39;env\u0026#39; =\u0026gt; env(\u0026#39;APP_ENV\u0026#39;, \u0026#39;production\u0026#39;), + /* |-------------------------------------------------------------------------- | Application Debug Mode @@ -120,7 +122,6 @@ return [ Illuminate\\Bus\\BusServiceProvider::class, Illuminate\\Cache\\CacheServiceProvider::class, Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider::class, - Illuminate\\Routing\\ControllerServiceProvider::class, Illuminate\\Cookie\\CookieServiceProvider::class, Illuminate\\Database\\DatabaseServiceProvider::class, Illuminate\\Encryption\\EncryptionServiceProvider::class, app/config/auth.php ã®æ›¸ãæ›ãˆ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‹ã‚‰ç‰¹ã«ç·¨é›†ã—ã¦ã„ãªã‘ã‚Œã°ã€ Github ã®å†…å®¹ã‚’ãã®ã¾ã¾ã‚³ãƒ”ãƒšã™ã‚Œã°OKã§ã™ã€‚\n@@ -1,67 +1,95 @@ - - \u0026#39;driver\u0026#39; =\u0026gt; \u0026#39;eloquent\u0026#39;, - + \u0026#39;defaults\u0026#39; =\u0026gt; [ + \u0026#39;guard\u0026#39; =\u0026gt; \u0026#39;web\u0026#39;, + \u0026#39;passwords\u0026#39; =\u0026gt; \u0026#39;users\u0026#39;, + ], - - \u0026#39;model\u0026#39; =\u0026gt; App\\User::class, - + \u0026#39;guards\u0026#39; =\u0026gt; [ + \u0026#39;web\u0026#39; =\u0026gt; [ + \u0026#39;driver\u0026#39; =\u0026gt; \u0026#39;session\u0026#39;, + \u0026#39;provider\u0026#39; =\u0026gt; \u0026#39;users\u0026#39;, + ], + \u0026#39;api\u0026#39; =\u0026gt; [ + \u0026#39;driver\u0026#39; =\u0026gt; \u0026#39;token\u0026#39;, + \u0026#39;provider\u0026#39; =\u0026gt; \u0026#39;users\u0026#39;, + ], + ], - - \u0026#39;table\u0026#39; =\u0026gt; \u0026#39;users\u0026#39;, - + \u0026#39;providers\u0026#39; =\u0026gt; [ + \u0026#39;users\u0026#39; =\u0026gt; [ + \u0026#39;driver\u0026#39; =\u0026gt; \u0026#39;eloquent\u0026#39;, + \u0026#39;model\u0026#39; =\u0026gt; App\\User::class, + ], + // \u0026#39;users\u0026#39; =\u0026gt; [ + // \u0026#39;driver\u0026#39; =\u0026gt; \u0026#39;database\u0026#39;, + // \u0026#39;table\u0026#39; =\u0026gt; \u0026#39;users\u0026#39;, + // ], + ], - - \u0026#39;password\u0026#39; =\u0026gt; [ - \u0026#39;email\u0026#39; =\u0026gt; \u0026#39;emails.password\u0026#39;, - \u0026#39;table\u0026#39; =\u0026gt; \u0026#39;password_resets\u0026#39;, - \u0026#39;expire\u0026#39; =\u0026gt; 60, + \u0026#39;passwords\u0026#39; =\u0026gt; [ + \u0026#39;users\u0026#39; =\u0026gt; [ + \u0026#39;provider\u0026#39; =\u0026gt; \u0026#39;users\u0026#39;, + \u0026#39;email\u0026#39; =\u0026gt; \u0026#39;auth.emails.password\u0026#39;, + \u0026#39;table\u0026#39; =\u0026gt; \u0026#39;password_resets\u0026#39;, + \u0026#39;expire\u0026#39; =\u0026gt; 60, + ], ], sessionsãƒ†ãƒ¼ãƒ–ãƒ«ã«ã‚«ãƒ©ãƒ è¿½åŠ  ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’DBã«ä¿æŒã™ã‚‹è¨­å®šã«ã—ã¦ã„ã‚‹å ´åˆã€sessionsãƒ†ãƒ¼ãƒ–ãƒ«ã«ã‚«ãƒ©ãƒ ã®è¿½åŠ ãŒå¿…è¦ã§ã™ã€‚\n$ php artisan make:migration alter_add_sessions \u0026lt;?php use Illuminate\\Support\\Facades\\Schema; use Illuminate\\Database\\Schema\\Blueprint; use Illuminate\\Database\\Migrations\\Migration; class AlterAddSession extends Migration { /** * Run the migrations. * * @return void */ public function up() { Schema::table(\u0026#39;sessions\u0026#39;, function($t){ $t-\u0026gt;integer(\u0026#39;user_id\u0026#39;)-\u0026gt;nullable(); $t-\u0026gt;integer(\u0026#39;ip_address\u0026#39;)-\u0026gt;nullable(); $t-\u0026gt;string(\u0026#39;user_agent\u0026#39;); }); } /** * Reverse the migrations. * * @return void */ public function down() { Schema::table(\u0026#39;sessions\u0026#39;, function($t){ $t-\u0026gt;dropColumn([\u0026#39;user_id\u0026#39;, \u0026#39;ip_address\u0026#39;, \u0026#39;user_agent\u0026#39;]); }); } } ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«ã®ç´°ã‹ã„å¤‰æ›´ ã‚¯ã‚¨ãƒªãƒ“ãƒ«ãƒ€ãƒ¼ã® lists() lists() ã¯å»ƒæ­¢ã•ã‚ŒãŸãŸã‚ã€pluck() ã«å¤‰æ›´ãŒå¿…è¦ã§ã™ã€‚ä½¿ç”¨æ–¹æ³•ã€è¿”ã‚Šå€¤ã¯ä¸€ç·’ã§ã™ã€‚\nURLç”Ÿæˆã® url() ãƒ«ãƒ¼ãƒˆãƒ‘ã‚¹ã‚’å¾—ã‚‹ãŸã‚ã« url() ã¨ã—ã¦ã„ãŸã¨ã“ã‚ã¯ url('') ã¨å¤‰æ›´ãŒå¿…è¦ã§ã™ã€‚\n\\URL::Schema() é–¢æ•°åãŒ Schema ã‹ã‚‰ã€€Scheme ã«å¤‰æ›´ã«ãªã£ã¦ã„ã¾ã™ã€‚\nå¼·åˆ¶çš„ã«HTTPSã«ã™ã‚‹å‡¦ç†ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã¨ä½¿ç”¨ã—ã¦ã„ã‚‹ã‹ã¨æ€ã„ã¾ã™ãŒã€é–‹ç™ºç’°å¢ƒãŒéSSLç’°å¢ƒã ã¨æœ¬ç•ªã«åæ˜ ã—ã¦ã‹ã‚‰ã§ãªã„ã¨æ°—ä»˜ã‘ãªã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚\nPHPã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã¤ã„ã¦ Laravel5.5ã§ã¯PHP7.0ä»¥ä¸ŠãŒå¿…é ˆã¨ãªã£ã¦ã„ã¾ã™ãŒã€ã“ã‚Œã¯åˆã£ã¦ã„ã‚‹ã‚ˆã†ã§é–“é•ã£ã¦ã„ã¾ã™ã€‚\n2018å¹´1æœˆæ™‚ç‚¹ã§ã®æœ€æ–°ã®Laravelã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 5.5.31 ã¨ãªã£ã¦ã„ã¾ã™ãŒã€ã“ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã«ã¯ PHP7.1 ãŒå¿…é ˆã¨ãªã‚Šã¾ã™ã€‚\n5.5.31ã§ composer install ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã™ã€‚\n$ composer install Loading composer repositories with package information Installing dependencies (including require-dev) from lock file Your requirements could not be resolved to an installable set of packages. Problem 1 - Installation request for doctrine/annotations v1.6.0 -\u0026gt; satisfiable by doctrine/annotations[v1.6.0]. - doctrine/annotations v1.6.0 requires php ^7.1 -\u0026gt; your PHP version (7.0.25) does not satisfy that requirement. Problem 2 - Installation request for doctrine/cache v1.7.1 -\u0026gt; satisfiable by doctrine/cache[v1.7.1]. - doctrine/cache v1.7.1 requires php ~7.1 -\u0026gt; your PHP version (7.0.25) does not satisfy that requirement. Problem 3 - Installation request for doctrine/collections v1.5.0 -\u0026gt; satisfiable by doctrine/collections[v1.5.0]. - doctrine/collections v1.5.0 requires php ^7.1 -\u0026gt; your PHP version (7.0.25) does not satisfy that requirement. Problem 4 - Installation request for doctrine/common v2.8.1 -\u0026gt; satisfiable by doctrine/common[v2.8.1]. - doctrine/common v2.8.1 requires php ~7.1 -\u0026gt; your PHP version (7.0.25) does not satisfy that requirement. Problem 5 - Installation request for doctrine/dbal v2.6.3 -\u0026gt; satisfiable by doctrine/dbal[v2.6.3]. - doctrine/dbal v2.6.3 requires php ^7.1 -\u0026gt; your PHP version (7.0.25) does not satisfy that requirement. Problem 6 - Installation request for doctrine/inflector v1.3.0 -\u0026gt; satisfiable by doctrine/inflector[v1.3.0]. - doctrine/inflector v1.3.0 requires php ^7.1 -\u0026gt; your PHP version (7.0.25) does not satisfy that requirement. Problem 7 - Installation request for symfony/css-selector v4.0.3 -\u0026gt; satisfiable by symfony/css-selector[v4.0.3]. - symfony/css-selector v4.0.3 requires php ^7.1.3 -\u0026gt; your PHP version (7.0.25) does not satisfy that requirement. Problem 8 - Installation request for symfony/event-dispatcher v4.0.3 -\u0026gt; satisfiable by symfony/event-dispatcher[v4.0.3]. - symfony/event-dispatcher v4.0.3 requires php ^7.1.3 -\u0026gt; your PHP version (7.0.25) does not satisfy that requirement. Problem 9 - Installation request for doctrine/instantiator 1.1.0 -\u0026gt; satisfiable by doctrine/instantiator[1.1.0]. - doctrine/instantiator 1.1.0 requires php ^7.1 -\u0026gt; your PHP version (7.0.25) does not satisfy that requirement. Problem 10 - doctrine/inflector v1.3.0 requires php ^7.1 -\u0026gt; your PHP version (7.0.25) does not satisfy that requirement. - laravel/framework v5.5.31 requires doctrine/inflector ~1.1 -\u0026gt; satisfiable by doctrine/inflector[v1.3.0]. - Installation request for laravel/framework v5.5.31 -\u0026gt; satisfiable by laravel/framework[v5.5.31]. Laravelã®ã‚³ã‚¢ã§ä½¿ç”¨ã—ã¦ã„ã‚‹ doctorine ãŒPHP7.1å¿…é ˆã®ã‚ˆã†ã§ã™ã€‚\nhttp://www.doctrine-project.org/2017/07/25/php-7.1-requirement-and-composer.html å¯¾ç­–ã¨ã—ã¦ã¯ã€PHPã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’7.1ã«ä¸Šã’ã‚‹ã®ãŒä¸€ç•ªè‰¯ã„ã€‚ãŒã€ç°¡å˜ã«ã¯ä¸Šã’ã‚‰ã‚Œãªã„ç’°å¢ƒã‚‚ã‚ã‚‹ã®ã§ã€ãã®å ´åˆã¯ã€composer.jsonã§PHPã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚Œã°ã„ã„(ã‚‰ã—ã„)ã€‚\nå‚è€ƒï¼š doctrine/dbal:2.6 ã§PHP7.1ãŒå¿…è¦ã«ãªã£ãŸæ™‚ã®å¯¾ç­– ã¾ã¨ã‚ ã¨ã‚Šã‚ãˆãšã“ã‚Œã§2020å¹´ã¾ã§ã¯æ°—æŒã¡çš„ã«ã¯å®‰å¿ƒã§ã™ãŒã€ä»Šå¾Œã¯ç´°ã‹ãå¯¾å¿œã‚’é€²ã‚ã¦ã„ã£ã¦ã€ä»Šå›ã¿ãŸã„ãªä¸€æ°—ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚’ã™ã‚‹å¿…è¦ãŒã«ãªã„ã‚ˆã†ã«ã—ãŸã„ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/php-update-laravel-5.1-to-5.5-note/",
    "title": "Laravel5.1ã‹ã‚‰Laravel5.5ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ãŸã¨ãã«ä¿®æ­£ã—ãŸéƒ¨åˆ†ã¾ã¨ã‚"
  },
  {
    "contents": "Laravel ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½œæˆã—ãŸ API ã§ JSON ã‚’è¿”å´ã™ã‚‹éš›ã«ã€ãƒ˜ãƒƒãƒ€ãƒ¼ã«ä½™åˆ†ãªã‚‚ã®ãŒä»˜ã„ã¦ã„ãŸã®ã§ã€ãã®å¯¾å¿œæ–¹æ³•ã§ã™ã€‚\nä»Šå›jsonã‚’è¿”å´ã™ã‚‹ã¨ãã®è¦ä»¶ã¨ã—ã¦ã€\nã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æŒ‡å®šã—ãŸã„ Cache-Control ã¯ no-cacheã®ã¿æŒ‡å®šã—ãŸã„ Set-Cookie ã¯ä»˜ä¸ã—ãŸããªã„ ã¨ã„ã†ã®ãŒã‚ã‚Šã¾ã™ã€‚\nLaravelã® response ãƒ•ã‚¡ã‚¶ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦jsonã‚’è¿”ã™å ´åˆ \u0026lt;?php public function test_json($response_code = 200) { $res = [\u0026#39;foo\u0026#39; =\u0026gt; \u0026#39;bar\u0026#39;]; $json = json_encode($res); return response($json, $response_code) -\u0026gt;header(\u0026#39;Cache-Control\u0026#39;, \u0026#39;no-cache\u0026#39;) -\u0026gt;header(\u0026#39;Content-Type\u0026#39;, \u0026#39;application/json\u0026#39;) -\u0026gt;header(\u0026#39;Content-Length\u0026#39;, strlen($json)); } test_json(400); curlã§test_json()ã‚’å®Ÿè¡Œã™ã‚‹urlã‚’å©ã„ãŸçµæœãŒä¸‹è¨˜ã€‚\n$ curl -v http://localhost/path/to/test_json \u0026gt; GET /path/to/test_json HTTP/1.1 \u0026gt; Host: localhost \u0026gt; User-Agent: curl/7.54.0 \u0026gt; Accept: */* \u0026gt; \u0026lt; HTTP/1.1 400 Bad Request \u0026lt; Date: Wed, 27 Dec 2017 04:19:00 GMT \u0026lt; Server: Apache/2.2.31 (Unix) mod_wsgi/3.5 Python/2.7.13 PHP/7.1.1 mod_ssl/2.2.31 OpenSSL/1.0.2j DAV/2 mod_fastcgi/2.4.6 mod_perl/2.0.9 Perl/v5.24.0 \u0026lt; X-Powered-By: PHP/7.1.1 \u0026lt; Cache-Control: no-cache, private \u0026lt; Content-Length: 13 \u0026lt; Set-Cookie: XSRF-TOKEN=eyJpd....RhMTUifQ%3D%3D; expires=Wed, 27-Dec-2017 04:54:07 GMT; Max-Age=7200; path=/ \u0026lt; Set-Cookie: 91bb0181f7d...908eb59101d6226=eyJ....ODgyIn0%3D; expires=Thu, 28-Dec-2017 02:54:07 GMT; Max-Age=86400; path=/; HttpOnly \u0026lt; Connection: close \u0026lt; Content-Type: application/json \u0026lt; * Closing connection 0 {\u0026#34;foo\u0026#34;:\u0026#34;bar\u0026#34;} ä¸€è¦‹å•é¡Œãªã•ãã†ã§ã™ãŒã€ã¾ãš Cache-Control ã« private ãŒä»˜ã„ã¦ã„ã‚‹ã€‚ããã£ã¦ã¿ã‚‹ã¨åˆ¥ã«å•é¡Œãªã•ãã†ã§ã™ãŒã€æ°—æŒã¡æ‚ªã„ã§ã™ã€‚ ã‚ã¨ã€Set-Cookie ã§ä¸è¦ãªã‚‚ã®ãŒä»˜ã„ã¦ã„ã‚‹ã€‚ã“ã‚Œã«é–¢ã—ã¦ã¯ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã§ã”ã¡ã‚ƒã”ã¡ã‚ƒã‚„ã‚‹ã¨ä»˜ä¸ã—ãªã„ã‚ˆã†ã«å‡ºæ¥ã‚‹ã¿ãŸã„ã§ã™ã€‚ä»Šå›ã¯ã‚„ã‚Šã¾ã›ã‚“ã€‚\nç´”ç²‹ã«PHPã®é–¢æ•°ã ã‘ã§jsonã‚’è¿”å´ã™ã‚‹å ´åˆ \u0026lt;?php public function test_json($response_code = 200) { $res = [\u0026#39;foo\u0026#39; =\u0026gt; \u0026#39;bar\u0026#39;]; $json = json_encode($res); http_response_code($response_code); header(\u0026#39;Cache-Control: no-cache\u0026#39;); header(\u0026#39;Content-Type: application/json\u0026#39;); header(\u0026#39;Content-Length: \u0026#39;.strlen($json)); echo $json; } test_json(400); urlã‚’å©ãã¾ã™ã€‚\n$ curl -v http://localhost/path/to/test_json \u0026gt; GET /path/to/test_json HTTP/1.1 \u0026gt; Host: localhost \u0026gt; User-Agent: curl/7.54.0 \u0026gt; Accept: */* \u0026gt; \u0026lt; HTTP/1.1 200 OK \u0026lt; Date: Wed, 27 Dec 2017 04:30:58 GMT \u0026lt; Server: Apache/2.2.31 (Unix) mod_wsgi/3.5 Python/2.7.13 PHP/7.1.1 mod_ssl/2.2.31 OpenSSL/1.0.2j DAV/2 mod_fastcgi/2.4.6 mod_perl/2.0.9 Perl/v5.24.0 \u0026lt; X-Powered-By: PHP/7.1.1 \u0026lt; Cache-Control: no-cache, no-cache \u0026lt; Set-Cookie: XSRF-TOKEN=eyJpd....RhMTUifQ%3D%3D; expires=Wed, 27-Dec-2017 04:54:07 GMT; Max-Age=7200; path=/ \u0026lt; Set-Cookie: 91bb0181f7d...908eb59101d6226=eyJ....ODgyIn0%3D; expires=Thu, 28-Dec-2017 02:54:07 GMT; Max-Age=86400; path=/; HttpOnly \u0026lt; Content-Length: 13 \u0026lt; Content-Type: text/html; charset=UTF-8 \u0026lt; * Connection #0 to host localhost left intact {\u0026#34;foo\u0026#34;:\u0026#34;bar\u0026#34;} HTTP/1.1 200 OKï¼Ÿ Cache-Control: no-cache, no-cacheï¼Ÿï¼Ÿ Content-Type: text/htmlï¼Ÿï¼Ÿï¼Ÿ Set-Cookieæ®‹ã£ãŸã¾ã¾ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ\nè‰²ã€…ã¨ãŠã‹ã—ã„ã§ã™ã€‚ æŒ™å‹•çš„ã«ã¯ã€echo ã—ãŸã‚ã¨ã«Laravelå´ã®ä½•ã‹ã—ã‚‰ã®å‡¦ç†ãŒå‹•ã„ã¦ã„ã‚‹æ„Ÿã˜ã§ã™ã€‚å¤šåˆ†ã€‚\nã—ã°ã‚‰ãæ‚©ã‚“ã æœ«ã®è§£æ±ºç­– \u0026lt;?php public function test_json($response_code = 200) { $res = [\u0026#39;foo\u0026#39; =\u0026gt; \u0026#39;bar\u0026#39;]; $json = json_encode($res); http_response_code($response_code); header(\u0026#39;Cache-Control: no-cache\u0026#39;); header(\u0026#39;Content-Type: application/json\u0026#39;); header(\u0026#39;Content-Length: \u0026#39;.strlen($json)); echo $json; exit(); } test_json(400); echo ã—ãŸã‚ã¨ã« exit() ã™ã‚‹ã ã‘ã§ã™ã€‚\n$ curl -v http://localhost/path/to/test_json \u0026gt; GET /path/to/test_json HTTP/1.1 \u0026gt; Host: localhost \u0026gt; User-Agent: curl/7.54.0 \u0026gt; Accept: */* \u0026gt; \u0026lt; HTTP/1.1 400 Bad Request \u0026lt; Date: Wed, 27 Dec 2017 04:44:56 GMT \u0026lt; Server: Apache/2.2.31 (Unix) mod_wsgi/3.5 Python/2.7.13 PHP/7.1.1 mod_ssl/2.2.31 OpenSSL/1.0.2j DAV/2 mod_fastcgi/2.4.6 mod_perl/2.0.9 Perl/v5.24.0 \u0026lt; X-Powered-By: PHP/7.1.1 \u0026lt; Cache-Control: no-cache \u0026lt; Content-Length: 13 \u0026lt; Connection: close \u0026lt; Content-Type: application/json \u0026lt; * Connection 0 {\u0026#34;foo\u0026#34;:\u0026#34;bar\u0026#34;} é•·æ™‚é–“æ‚©ã‚“ã ã¨ãã®è§£æ±ºç­–ã£ã¦ã€ã ã„ãŸã„ã‚ã£ã•ã‚Šã—ã¦ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/php-return-json-responce-in-laravel-project/",
    "title": "Laravelã§jsonã‚’è¿”å´ã™ã‚‹ã¨ãã«Content-TypeãŒapplication/jsonã«ãªã‚‰ãªã„ã€ãƒ˜ãƒƒãƒ€ãƒ¼æƒ…å ±ã«ä¸è¦ãªã‚‚ã®ãŒä»˜ä¸ã•ã‚Œã‚‹æ™‚ã®å¯¾å¿œ"
  },
  {
    "contents": "Laravel5.1ã§ä½œã£ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’AmazonLinuxä¸Šã§å‹•ã‹ã—ã¦ã„ã¦ã€cronã§ãƒãƒƒãƒå‡¦ç†ã®è¨­å®šã‚’ã—ãŸã„ã¨æ€ã„ã¾ã—ãŸã€‚ãŒã€ã™ã“ã—è©°ã¾ã‚‹éƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚\nLaravelã§ã‚³ãƒãƒ³ãƒ‰ã‚’ä½œæˆã™ã‚‹ã«ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n$ php artisan make:console hoge_batch --command=\u0026#34;hoge_batch\u0026#34; Console command created successfully. ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã‚¯ãƒ©ã‚¹ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã€ãã“ã«å‡¦ç†ã‚’è¨˜è¿°ã—ã¾ã™ã€‚\nå®Ÿè¡Œã™ã‚‹æ™‚ã¯ä¸‹è¨˜ã§å®Ÿè¡Œã§ãã¾ã™ã€‚\n$ php artisan hoge_batch [InvalidArgumentException] Command \u0026#34;hoge_batch\u0026#34; is not defined. ã“ã“ã§ æœ€åˆã®ç½  ã§ã™ã€‚ã“ã®æ®µéšã§ã¯å‹•ãã¾ã›ã‚“ã€‚\napp/Console/Commands/Kernel.php ã«è¿½è¨˜ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n\u0026lt;?php protected $commands = [ Commands\\hoge_batch::class, ]; ã˜ã‚ƒã‚ã“ã‚Œã‚’AmazonLinuxä¸Šã§cronè¨­å®šã—ã¦å®Ÿè¡Œã•ã›ã¾ã™ã€‚\nã¾ãšã¯ date ã‚³ãƒãƒ³ãƒ‰ã§ã‚µãƒ¼ãƒã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãŒJSTã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèªã§ã™ã€‚ã“ã‚ŒãŒJSTã«ãªã£ã¦ã„ãªã„ã¨ã€ã„ã¤ã¾ã§ãŸã£ã¦ã‚‚å®Ÿè¡Œã•ã‚Œãªã„ã€ãªã‚“ã¦ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\n$ date Tue Dec 26 12:30:33 JST 2017 cronã®è¨­å®šã§ã™ã€‚ã¨ã‚Šã‚ãˆãšãƒ†ã‚¹ãƒˆã‚‚ã‹ã­ã¦æ•°åˆ†å¾Œã‚’è¨­å®šã—ã¾ã™ã€‚\n$ crontab -e 35 12 * * * php artisan /var/www/path/to/app/artisan hoge_batch \u0026hellip;å®Ÿè¡Œã•ã‚Œã¾ã›ã‚“ã€‚ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã¯ã—ã£ã‹ã‚Šã—ã¦ã„ã‚‹ã®ã«ã€‚\nã“ã“ã§ 2ã¤ç›®ã®ç½  ã€‚ ã‚µãƒ¼ãƒã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³è¨­å®šã‚’å¤‰æ›´ã—ãŸæ™‚ã¯ã€ crond ã‚’å†èµ·å‹•ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nãŠãã‚‰ãã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹èµ·å‹•å¾Œã«ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãªã©è«¸ã€…è¨­å®šã¯ã—ãŸã‚‚ã®ã®ã€crond ã‚’å†èµ·å‹•ã—ã¦ã„ãªã‹ã£ãŸã‚ˆã†ã§ã™ã€‚\n$ sudo service crond restart å†ã³å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨ã€ã‚³ãƒãƒ³ãƒ‰è‡ªä½“ã¯å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã®ã€å®Ÿè¡Œé€”ä¸­ã§æ­¢ã¾ã£ã¦ã„ã‚‹ï¼Ÿã‚ˆã†ã§ã™ã€‚\ncrontab -l ã§cronè¨­å®šã‚’è¦‹ç›´ã—ã¦ã¿ã‚‹ã¨ã€/var/spool/mail/ec2-user ã«ãƒ¡ãƒ¼ãƒ«ãŒæ¥ã¦ã‚‹ã‚ˆã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã¦ã„ã¾ã—ãŸã€‚\n$ tail /var/spool/mail/ec2-user #6 in /var/www/path/to/app/bootstrap/cache/compiled.php on line 13440 PHP Fatal error: Uncaught UnexpectedValueException: The stream or file \u0026#34;/var/www/path/to/app/storage/logs/laravel-2017-12-26.log\u0026#34; could not be opened: failed to open stream: Permission denied in /var/www/path/to/app/bootstrap/cache/compiled.php:13440 ã“ã‚ŒãŒ æœ€å¾Œã®ç½  ã€‚ ã©ã†ã‚„ã‚‰ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã¿æ¨©é™ãŒç„¡ã„ã‚ˆã†ã§ã™ã€‚\ncronã‚’apacheãƒ¦ãƒ¼ã‚¶ã§å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚\nã¨ã‚Šã‚ãˆãš crontab -e ã§ã‚‚ã¨ã‚‚ã¨ã®è¨­å®šã¯å‰Šé™¤ã—ã¦ãŠãã¾ã™ã€‚æ¶ˆã•ãªã„ã¨ã‚¨ãƒ©ãƒ¼ãŒå‡ºç¶šã‘ã¾ã™ã€‚\n$ sudo -u apache -e ã“ã‚Œã§å†åº¦cronã‚’è¨­å®šã™ã‚‹ã¨ã€ã‚„ã£ã¨å‹•ãã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/aws-run-laravel-command-with-cron/",
    "title": "Amazon Linuxã§cronè¨­å®šã—ã¦Laravelã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã«è‰²ã€…ã¨ãƒãƒã£ãŸ"
  },
  {
    "contents": "ä¸€å¹´ä»¥ä¸Šå‰ã«åŒã˜ã‚ˆã†ãªã“ã¨ã‚’æ›¸ã„ã¦ã¾ã™ãŒã€ãã®ç¶šç·¨ã§ã™ã€‚\nä»Šã¿ã‚‹ã¨ã€ã“ã®ã¾ã¾ã§ã¯å‹•ã‹ãªã„ã‚ˆã†ãªã‚½ãƒ¼ã‚¹ã§æ®‹å¿µã§ã™ã€‚\nã‚„ã‚‹ã“ã¨ã¯å¤‰ã‚ã£ã¦ãªãã¦ã€è«¸ã€…è€ƒæ…®ã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã™ã€‚ ã‚½ãƒ¼ã‚¹ã¯ GitHub ã«ç½®ã„ã¦ã„ã¾ã™ã€‚ michimani/get-all-image ç›´ã—ãŸã¨ã“ã‚ ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸ å‰å›ã¯é–¢æ•°ã¨ã—ã¦ä½œã£ã¦ã„ãŸã®ã§ã€ãã®é–¢æ•°ã‚’å‘¼ã¶ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ›¸ã‹ãªã„ã¨ä½¿ãˆã¾ã›ã‚“ã§ã—ãŸã€‚ ä»Šå›ã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸã®ã§ ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§\n$ php get_all_image.php http://example.com ã‚’å©ãã ã‘ã§ã™ã€‚\nMacãªã‚‰è²·ã£ã¦ããŸçŠ¶æ…‹ã§phpã‚³ãƒãƒ³ãƒ‰ãŒå©ã‘ã‚‹ã®ã§ã€ä¸Šã®ãƒªãƒ³ã‚¯ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã™ãä½¿ãˆã¾ã™ã€‚Windowsã®ã“ã¨ã¯ã¡ã‚‡ã£ã¨ã‚ã‹ã‚Šã¾ã›ã‚“ã€‚\nå¼•æ•°ã®ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚ŒãŸ å‰å›ã¯å¼•æ•°ã¨ã—ã¦å—ã‘å–ã‚‹URLã®ãƒã‚§ãƒƒã‚¯ã¨ã‹ã¯ä¸€åˆ‡ã—ã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚\nä»Šå›ã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã¨ã—ã¦URLã‚’å—ã‘å–ã‚‹æ§˜ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€ãã®ãƒã‚§ãƒƒã‚¯ã‚’ã—ã¦ã„ã¾ã™ã€‚\n\u0026lt;?php if (!isset($argv[1])) { throw new Exception(\u0026#39;The first argument is required for url.\u0026#39;); } $url = $argv[1]; if (!preg_match(\u0026#39;/^(http|https):\\/\\//\u0026#39;, $url)) { throw new Exception(\u0026#39;Invalid url.\u0026#39;); } $header = @get_headers($url); if (!preg_match(\u0026#39;/^HTTP\\/.*\\s+200\\s/i\u0026#39;, $header[0])) { throw new Exception(\u0026#39;Target page does not found.\u0026#39;); } ç”»åƒãƒªãƒ³ã‚¯ãŒ http(s) ã‹ã‚‰å§‹ã¾ã£ã¦ã„ãªã„ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å¯¾å¿œ ç”»åƒãƒªãƒ³ã‚¯ã«ã¯ src=\u0026quot;http://~\u0026quot; ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ src=\u0026quot;/img/~\u0026quot; ã¿ãŸã„ã«ãƒ‰ãƒ¡ã‚¤ãƒ³ä»¥ä¸‹ã®ãƒ‘ã‚¹ãŒæ›¸ã„ã¦ã‚ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã‚ã‚‹ã®ã§ã€ãã®å¯¾å¿œã§ã™ã€‚\n\u0026lt;?php $base_tmp = explode(\u0026#39;/\u0026#39;, $url); $base = sprintf(\u0026#39;%s/%s/%s\u0026#39;, $base_tmp[0], $base_tmp[1], $base_tmp[2]); //... if (!preg_match(\u0026#39;/^https?:\\/\\//\u0026#39;, $img_url)) { $img_url = sprintf(\u0026#39;%s/%s\u0026#39;, $base, $img_url); } ",
    "permalink": "https://michimani.net/post/php-save-all-image-in-a-page-2/",
    "title": "ç¶šãƒ»PHPã§Webãƒšãƒ¼ã‚¸ä¸Šã®ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã™ã¹ã¦ä¿å­˜ã™ã‚‹"
  },
  {
    "contents": "12æœˆ13æ—¥ã«Amazon Linux 2 ç™ºè¡¨ã•ã‚Œã¾ã—ãŸã€‚\næ–‡å­—é€šã‚Šæ—¢å­˜ã®Amazon Linuxã®å¾Œç¶™ã¨ãªã‚‹OSã§ã™ã€‚\nAmazon Linux 2 ã®ã”ç´¹ä»‹ Amazon Linux 2ã«é–¢ã™ã‚‹ å…¬å¼ã®Q\u0026amp;amp;Aãƒšãƒ¼ã‚¸ ã¯æ—¢ã«å­˜åœ¨ã—ã¦ã„ã¾ã™ã€‚ ãŒã€ã¾ã æ—¥æœ¬èªåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚(2017/12/18æ™‚ç‚¹)\næ—¥æœ¬èªãƒšãƒ¼ã‚¸ã‚‚æº–å‚™ã•ã‚Œã¦ã„ã¾ã—ãŸã®ã§ã€ã‚ˆã‚Šæ­£ç¢ºãªæ—¥æœ¬èªè¨³ã«ã¤ã„ã¦ã¯å…¬å¼ãƒšãƒ¼ã‚¸ã‚’ã”ç¢ºèªãã ã•ã„ã€‚(2018/10/15)\nä»Šå›ã¯ãã®ä¸­ã‹ã‚‰æŠœç²‹ãƒ»ç¿»è¨³ã—ãŸå†…å®¹ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚\næ¦‚è¦ Q. Amazon Linux 2ã¨ã¯ä½•ã§ã™ã‹ï¼Ÿ Amazon Linux 2ã¯ã€è¿‘ä»£çš„ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç’°å¢ƒã«Linuxã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®æœ€æ–°æ©Ÿèƒ½ã‚’æä¾›ã—ã€é•·æœŸçš„ãªã‚µãƒãƒ¼ãƒˆã‚’æä¾›ã™ã‚‹æ¬¡ä¸–ä»£Amazon Linuxã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚ Amazon Linux 2ã¯ã€Amazonãƒã‚·ãƒ³ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆAMIï¼‰ãŠã‚ˆã³ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«åŠ ãˆã¦ã€ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹é–‹ç™ºãŠã‚ˆã³ãƒ†ã‚¹ãƒˆã®ãŸã‚ã®ä»®æƒ³ãƒã‚·ãƒ³ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦åˆ©ç”¨ã§ãã‚‹ãŸã‚ã€ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã‹ã‚‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç°¡å˜ã«é–‹ç™ºã€ãƒ†ã‚¹ãƒˆã€ãŠã‚ˆã³èªè¨¼ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nAmazon Linuxã¨ã®é•ã„ã¨ã—ã¦ã¯ã€EC2ä¸Šã ã‘ã§ã¯ãªãã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã‚„ã‚ªãƒ³ãƒ—ãƒ¬ç’°å¢ƒã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã‚ˆã†ã§ã™ã€‚\nDockerç’°å¢ƒã§ã¯ã€Dockerã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ã€VirtualBoxã‚„VMwareä¸Šã§ã¯ä»®æƒ³åŒ–ãƒã‚·ãƒ³ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦åˆ©ç”¨ã§ãã¾ã™ã€‚\nEC2ä¸Šã§ã®åˆ©ç”¨ã«é–¢ã—ã¦ã¯ã€ã“ã‚Œã¾ã§ã¨åŒã˜ã§ã€EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆæ™‚ã«Amazon Linux 2ã®AMIã‚’é¸æŠã—ã¾ã™ã€‚\nåˆ©ç”¨ã§ãã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ—ã«ã‚‚åˆ¶é™ã¯ãªãã€æœ€æ–°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ—ãŒã™ã¹ã¦ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nã‚µãƒãƒ¼ãƒˆé–¢ä¿‚ Q. Amazon Linux 2ã®é•·æœŸã‚µãƒãƒ¼ãƒˆã«ã¯ä½•ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ Amazon Linux 2 LTSãƒ“ãƒ«ãƒ‰ã®é•·æœŸã‚µãƒãƒ¼ãƒˆã«ã¯ã€æ¬¡ã®2ã¤ã®ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå«ã¾ã‚Œã¾ã™ã€‚\nAWSã¯ã€Amazon Linux 2ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¨ãƒã‚°ä¿®æ­£ã‚’5å¹´é–“æä¾›ã—ã¾ã™ã€‚ AWSã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ç©ºé–“ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚¤ãƒŠãƒªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ï¼ˆABIï¼‰ã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ï¼ˆAPIï¼‰ã®äº’æ›æ€§ã‚’5å¹´é–“ç¶­æŒã—ã¾ã™ã€‚ ã‚µãƒãƒ¼ãƒˆã¯5å¹´é–“ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nãŸã ã—ã€ç¾åœ¨(2017/12/18)æä¾›ã•ã‚Œã¦ã„ã‚‹ Amazon Linux 2 (2017.12) ã¯ LTS Candidate ã€ã¤ã¾ã‚Šã€ã¾ã  é•·æœŸã‚µãƒãƒ¼ãƒˆã® å€™è£œç‰ˆ ã¨ãªã£ã¦ã„ã¦ã€åˆ©ç”¨è€…ã‹ã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’éšæ™‚å—ã‘ä»˜ã‘ã¦ã„ã‚‹çŠ¶æ…‹ã§ã™ã€‚\næ­£å¼ãªLTSãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ ã¾ã‚‚ãªãç™»å ´ ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nQ. AWSã¯ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®Amazon Linuxã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã‹ï¼Ÿ ã¯ã„ã€æ—¢å­˜ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸­æ–­ã‚’é¿ã‘ã€Amazon Linux 2ã¸ã®ç§»è¡Œã‚’å®¹æ˜“ã«ã™ã‚‹ãŸã‚ã«ã€AWSã¯ã€æœ€çµ‚LTSãƒ“ãƒ«ãƒ‰ãŒç™ºè¡¨ã•ã‚Œã¦ã‹ã‚‰Amazon Linux 2017.09 AMIãŠã‚ˆã³ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã®å®šæœŸçš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’2å¹´é–“æä¾›ã—ã¾ã™ã€‚ã¾ãŸã€AWSãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã‚µãƒãƒ¼ãƒˆã‚„Amazon Linuxãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ãƒ•ã‚©ãƒ¼ãƒ©ãƒ ãªã©ã®æ—¢å­˜ã®ã‚µãƒãƒ¼ãƒˆãƒãƒ£ãƒãƒ«ã‚’ã™ã¹ã¦ä½¿ç”¨ã—ã¦ã€ã‚µãƒãƒ¼ãƒˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å¼•ãç¶šãæå‡ºã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\næ—¢å­˜ã®Amazon Linuxã¨ã®äº’æ›æ€§ã€ç§»è¡Œæ–¹æ³• Q. Amazon Linux 2ã®å¯ç”¨æ€§ã«ã‚ˆã‚Šã€Amazon Linuxã®AMIï¼ˆ2017.09ï¼‰ã®æ—¢å­˜ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«å¤‰æ›´ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ Amazon Linux 2ã®ãƒªãƒªãƒ¼ã‚¹ã«ã‚ˆã‚Šã€2017.09 Amazon Linuxã®AMIãƒªãƒªãƒ¼ã‚¹ã¨ã‚³ãƒ³ãƒ†ãƒŠãƒ»ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒç¾åœ¨ã®ä¸–ä»£ã®Amazon Linuxã®æœ€çµ‚ãƒªãƒªãƒ¼ã‚¹ã¨ãªã‚‹ã“ã¨ã‚’ç™ºè¡¨ã—ã¾ã™ã€‚ AWSã¯ã€Amazon Linux 2ã®æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã¿ã‚’æä¾›ã—ã¾ã™ã€‚\nQ. Amazon Linux 2ã¯ã€Amazon Linuxã®æ—¢å­˜ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ä¸‹ä½äº’æ›æ€§ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ systemdã®ã‚ˆã†ãªAmazon Linux 2ã«æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå«ã¾ã‚Œã¦ã„ã‚‹ãŸã‚ã€ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®Amazon Linuxã§å‹•ä½œã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€Amazon Linux 2ä¸Šã§å®Ÿè¡Œã™ã‚‹ãŸã‚ã«è¿½åŠ ã®å¤‰æ›´ãŒå¿…è¦ã«ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚\nQ.æ—¢å­˜ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®Amazon Linuxã‚’Amazon Linux 2ã«ã‚¤ãƒ³ãƒ—ãƒ¬ãƒ¼ã‚¹ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã™ã‹ï¼Ÿ ã„ã„ãˆã€‚æ—¢å­˜ã®Amazon Linuxã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰Amazon Linux 2ã¸ã®ã‚¤ãƒ³ãƒ—ãƒ¬ãƒ¼ã‚¹ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ç§»è¡Œã™ã‚‹å‰ã«ã€ã¾ãšAmazon Linux 2ã®æ–°è¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚\næ—¢å­˜ã®Amazon Linuxã‹ã‚‰ã®ç§»è¡Œã«é–¢ã—ã¦ã¯ã€ä½•ã‹ãƒãƒã£ã¨ã™ã‚Œã°çµ‚ã‚ã‚Šã¨ã¯ã„ã‹ãªã„ã‚ˆã†ã§ã™ã€‚\nåˆ¥ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§Amazon Linux 2ã‚’èµ·å‹•ã—ã¦ã€ãã“ã§ç’°å¢ƒã‚’ä½œã£ã¦ç§»è¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã¾ã¨ã‚ æ—¢å­˜ã®Amazon Linuxã«ã¤ã„ã¦ã¯ã—ã°ã‚‰ãã‚µãƒãƒ¼ãƒˆãŒç¶šãã¾ã™ãŒã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£çš„ã«ã‚‚ãƒ¡ãƒ³ã‚¿ãƒ«çš„ã«ã‚‚ã€LTSãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå‡ºãŸã‚‰æ—©ã„æ®µéšã§ç§»è¡Œã—ãŸã„ã¨ã“ã‚ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/aws-compare-amazonlinux-2-amazonlinux/",
    "title": "Amazon Linux 2 ã®ç™»å ´ã¨ã€Amazon Linux ã¨ã®é•ã„ã€ç§»è¡Œæ–¹æ³•ãªã©ã‚’Q\u0026Aã‹ã‚‰æŠœç²‹ã—ãŸãƒ¡ãƒ¢"
  },
  {
    "contents": "MAMPã§ã¯ã€è¨­å®šã‹ã‚‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆã‚’å¤‰æ›´ã§ãã¾ã™ã€‚ãŒã€è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹å ´åˆã«æ¯å›è¨­å®šã‚’å¤‰æ›´ã—ã¦å†èµ·å‹•ã™ã‚‹ã®ã¯é¢å€’ã§ã™ã€‚\nãªã®ã§ã€ãƒãƒ¼ãƒˆã§ãƒãƒ¼ãƒãƒ£ãƒ«ãƒ›ã‚¹ãƒˆã‚’è¨­å®šã—ã¦ã€å„ãƒãƒ¼ãƒˆã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å‰²ã‚ŠæŒ¯ã‚‹ã¨ã„ã†æ–¹æ³•ã§å¯¾å¿œã—ã¾ã™ã€‚\nç’°å¢ƒ macOS Sierra 10.12.6 MAMP 4.1.1 å‰æ ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ(ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆ)ãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚\nproject_a (/Users/hogehoge/Projects/project_a/html) project_b (/Users/hogehoge/Projects/project_b/html) project_c (/Users/hogehoge/Projects/project_c/html) ãã‚Œãã‚Œã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆé…ä¸‹ã«æ¬¡ã®ã‚ˆã†ãªhtmlãƒ•ã‚¡ã‚¤ãƒ«ãŒç½®ã„ã¦ã‚ã‚‹ã¨ã—ã¾ã™ã€‚\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;PROJECT A\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;h1\u0026gt;ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ A ã§ã™\u0026lt;/h1\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; MAMPã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ å¤‰æ›´ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã¯æ¬¡ã®2ã¤\n/Applications/MAMP/conf/apache/httpd.conf /Applications/MAMP/conf/apache/extra/httpd-vhosts.conf /Applications/MAMP/conf/apache/httpd.conf ã¯ã€ä¸‹è¨˜éƒ¨åˆ†ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚\n# Virtual hosts - #Include /Applications/MAMP/conf/apache/extra/httpd-vhosts.conf + Include /Applications/MAMP/conf/apache/extra/httpd-vhosts.conf /Applications/MAMP/conf/apache/extra/httpd-vhosts.conf ã«ã¯ä¸‹è¨˜ã®è¨˜è¿°ã‚’æœ«å°¾ã«è¿½åŠ ã—ã¾ã™ã€‚\nListen 8001 \u0026lt;VirtualHost *:8001\u0026gt; DocumentRoot \u0026#34;/Users/hogehoge/Projects/project_a/html\u0026#34; \u0026lt;Directory \u0026#34;/Users/hogehoge/Projects/project_a/html\u0026#34;\u0026gt; AllowOverride All \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; Listen 8002 \u0026lt;VirtualHost *:8002\u0026gt; DocumentRoot \u0026#34;/Users/hogehoge/Projects/project_b/html\u0026#34; \u0026lt;Directory \u0026#34;/Users/hogehoge/Projects/project_b/html\u0026#34;\u0026gt; AllowOverride All \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; Listen 8003 \u0026lt;VirtualHost *:8003\u0026gt; DocumentRoot \u0026#34;/Users/hogehoge/Projects/project_c/html\u0026#34; \u0026lt;Directory \u0026#34;/Users/hogehoge/Projects/project_c/html\u0026#34;\u0026gt; AllowOverride All \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã‚‹ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã—ãŸã‚‰MAMPã§ã‚µãƒ¼ãƒã‚’å†èµ·å‹•ã—ã¦ã€ãã‚Œãã‚Œã®ãƒãƒ¼ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚\nlocalhost:8001 localhost:8002 localhost:8003 ã•ã‚‰ã«hostsã§ã®åˆ‡ã‚Šæ›¿ãˆã‚’è©¦ã—ã¦ã¿ãŸ(ç„¡ç†ã§ã—ãŸ) ãƒãƒ¼ãƒˆã§ã®åˆ‡ã‚Šæ›¿ãˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã‚‚ã®ã®ã€localhost:8001 ã§ã¯ã©ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãªã®ã‹ã‚ã‹ã‚‰ãªã„ã®ã§ã€hostsã§ä¸‹è¨˜ã®ã‚ˆã†ãªè¨­å®šã‚’ã—ã¦ã¿ã¾ã—ãŸã€‚\n127.0.0.1:8001 local.project_a.com 127.0.0.1:8002 local.project_b.com 127.0.0.1:8003 local.project_c.com ãŒã€ã†ã¾ãã„ãã¾ã›ã‚“ã€‚ èª¿ã¹ãŸã¨ã“ã‚ã€hostsã§è§£æ±ºã§ãã‚‹ã®ã¯IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ã§ã§ã€ãƒãƒ¼ãƒˆã®å€¤ã¾ã§ã¯è§£æ±ºã§ããªã„ã‚ˆã†ã§ã™ã€‚\n",
    "permalink": "https://michimani.net/post/develop-using-vertual-host-with-mamp/",
    "title": "MAMPã§ãƒãƒ¼ãƒãƒ£ãƒ«ãƒ›ã‚¹ãƒˆã‚’è¨­å®šã—ãŸã¨ãã®ãƒ¡ãƒ¢"
  },
  {
    "contents": "æ™®æ®µã®é–‹ç™ºã‚„ä½œæ¥­ä¸­ã«ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å©ã„ã¦ã„ã‚‹ã‚³ãƒãƒ³ãƒ‰ã®ãƒ¡ãƒ¢ã§ã™ã€‚ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°åˆå¿ƒè€…ã®æ–¹ã€…ï¼ˆè‡ªåˆ†ã‚‚ã¾ã ã¾ã åˆå¿ƒè€…ã§ã™ãŒï¼‰ã®ãŠå½¹ã«ç«‹ã¦ã°å¹¸ã„ã§ã™ã€‚ æ™®æ®µä½¿ã£ã¦ã„ã‚‹ä¾¿åˆ©ãªã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚Œã°æ•™ãˆã¦ãã ã•ã„ã€‚\nGité–¢ä¿‚ gitã‚³ãƒãƒ³ãƒ‰ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ä½œæˆ é•·ã„gitã‚³ãƒãƒ³ãƒ‰ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ä½œæˆã§ãã¾ã™ã€‚ ä¾‹ãˆã°ã€git log --name-staus ã‚³ãƒãƒ³ãƒ‰ã§ã¯ã€å„ã‚³ãƒŸãƒƒãƒˆã§å¤‰æ›´ã®ã‚ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ãƒªã‚¹ãƒˆã‚’ git log ã«å«ã‚ã¦è¡¨ç¤ºã—ã¦ãã‚Œã¾ã™ã€‚ãŒã€ã¡ã‚‡ã£ã¨ã‚³ãƒãƒ³ãƒ‰ãŒé•·ã„ã§ã™ã€‚\n$ git config --global alias.logst \u0026#34;log --name-status\u0026#34; ã¨ã™ã¨ã€ä»¥é™ã€git logst ã§ git log --name-status ã¨åŒã˜çµæœã‚’å¾—ã‚‰ã‚Œã¾ã™ã€‚\nã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦ --global ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ç¾åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒªãƒã‚¸ãƒˆãƒªã ã‘ã§ã¯ãªãã€ä»–ã®ãƒªãƒã‚¸ãƒˆãƒªã§ä½œæ¥­ã™ã‚‹éš›ã«ã‚‚ä½¿ç”¨ã§ãã¾ã™ã€‚ ä»£ã‚ã‚Šã« --local ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ç¾åœ¨ã®ãƒªãƒã‚¸ãƒˆãƒªå†…ã§ã®ã¿æœ‰åŠ¹ãªã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¨ãªã‚Šã¾ã™ã€‚\nè‡ªåˆ†ãŒè¨­å®šã—ã¦ã„ã‚‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¯ä¸‹è¨˜ã§ã™ã€‚\n$ git config --list --global | grep alias alias.st=status alias.logst=log --name-status alias.chpn=cherry-pick -n alias.br=branch alias.cho=checkout ã¡ãªã¿ã«è¨­å®šã—ã¦ã„ã‚‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’è¡¨ç¤ºã™ã‚‹ã«ã¯ git config --list | grep alias ã§ç¢ºèªã§ãã¾ã™ã€‚ ã“ã“ã§ã‚‚ --global --local ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ãã‚Œãã‚Œã«è¨­å®šã•ã‚ŒãŸã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ç¢ºèªã§ãã¾ã™ã€‚\nã„ã‚ã„ã‚ãªå·®åˆ†è¡¨ç¤º ### HEAD ã¨ ç¾åœ¨ã®ä½œæ¥­å†…å®¹ ã¨ã®å·®åˆ† $ git diff ### ç‰¹å®šã®ã‚³ãƒŸãƒƒãƒˆ ã¨ ç¾åœ¨ã®ä½œæ¥­å†…å®¹ ã¨ã®å·®åˆ† $ git diff aad2dba98344b10e745842ef3cbcbb34f855da6d ### HEADã®ä¸€ã¤å‰ã®ã‚³ãƒŸãƒƒãƒˆ ã¨ HEAD ã¨ã®å·®åˆ† $ git diff HEAD^ ### ç‰¹å®šã®ã‚³ãƒŸãƒƒãƒˆ ã¨ HEAD ã¨ã®å·®åˆ† $ git diff aad2dba98344b10e745842ef3cbcbb34f855da6d HEAD ### ç‰¹å®šã®ã‚³ãƒŸãƒƒãƒˆåŒå£«ã®å·®åˆ† $ git diff aad2dba98344b10e745842ef3cbcbb34f855da6d 9a571807c8b44829c04e484065aff8dd79582fdf ç‰¹å®šã®ã‚³ãƒŸãƒƒãƒˆã¨ã®å·®åˆ†ãªã©ã€2ã¤ã®å¼•æ•°ã‚’æ¸¡ã™å ´åˆã€å¤ã„ã‚‚ã®ã¨æ–°ã—ã„ã‚‚ã®ã©ã¡ã‚‰ãŒå…ˆã§ã‚‚å‡ºåŠ›ã¯ã•ã‚Œã¾ã™ãŒã€å…ˆã«å¤ã„ã‚‚ã®ã€ã‚ã¨ã«æ–°ã—ã„ã‚‚ã®ã‚’æŒ‡å®šã—ãŸã»ã†ãŒè‡ªç„¶ãªå‡ºåŠ›çµæœã«ãªã‚Šã¾ã™ã€‚\nã¾ãŸã€ãŸã¾ã«å·®åˆ†ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã§æ¬²ã—ã„ã¨è¨€ã‚ã‚Œã‚‹å ´åˆãŒã‚ã‚‹ã®ã§ã€ãã®æ™‚ã¯ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§å‡ºåŠ›çµæœã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã§ãã¾ã™ã€‚\n$ git diff \u0026gt;\u0026gt; /Users/hogehoge/Desktop/git_dif.diff ã“ã‚Œã¯gitã‚³ãƒãƒ³ãƒ‰ã«é™ã‚‰ãšLinuxã‚³ãƒãƒ³ãƒ‰ã®å‡ºåŠ›çµæœã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã™ã‚‹å ´åˆã«ä½¿ãˆã¾ã™ã€‚\nç›´è¿‘ã®ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã‚’ç·¨é›†ã™ã‚‹ $ git commit --amend ãƒ•ã‚¡ã‚¤ãƒ«é–²è¦§ï¼ˆä¸»ã«ãƒ­ã‚°ï¼‰é–¢ä¿‚ ãƒ•ã‚¡ã‚¤ãƒ«ã®å¾Œã‚ã®æ–¹ã ã‘é–²è¦§ ### å¾Œã‚10è¡Œã‚’å‡ºåŠ› $ tail sample.log ### å¾Œã‚100è¡Œã‚’å‡ºåŠ› $ tail -100 sample.log ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®è¿½è¨˜ã‚’ç›£è¦–ã™ã‚‹ $ tail -f sample.log ä¸Šã® tail ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ãŒã€ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚ˆã†ã«æœ«å°¾ã«è¿½è¨˜ã•ã‚Œã¦ã„ã‚‹ã®ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç¢ºèªã§ãã¾ã™ã€‚ ä¾‹ãˆã°Laravelãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚Œã° ./storage/logs/ ã«ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã®ã§ã€$ tail -f ./storage/logs/laravel-2017-12-08.log ã‚’å©ã„ã¦ã‹ã‚‰å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚Œã°ã€å‡¦ç†ä¸­ã«åŸ‹ã‚è¾¼ã‚“ã ãƒ­ã‚°ã‚’ç¢ºèªã—ãªãŒã‚‰æ“ä½œãŒã§ãã¾ã™ã€‚\nãƒ•ã‚¡ã‚¤ãƒ«å…¨ä½“ã®é–²è¦§ ### è¡Œæ•°ãŒå°‘ãªã„ãƒ•ã‚¡ã‚¤ãƒ«å‘ã‘ $ cat sample.txt ### è¡Œæ•°ãŒå¤šã„ãƒ•ã‚¡ã‚¤ãƒ«å‘ã‘ $ cat sample.log | less $ cat sample.log | less -N #è¡Œæ•°ã‚’è¡¨ç¤ºã—ãŸã„å ´åˆ ä»¥ä¸Š\n",
    "permalink": "https://michimani.net/post/develop-frequently-used-commands/",
    "title": "æ™®æ®µã®é–‹ç™ºãƒ»ä½œæ¥­ä¸­ã«ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä½¿ã£ã¦ã„ã‚‹ã‚³ãƒãƒ³ãƒ‰ãŸã¡"
  },
  {
    "contents": "ä½•ç•ªç…ã˜ã‹ã‚ã‹ã‚Šã¾ã›ã‚“ãŒã€ä»Šæ›´ãªãŒã‚‰Jenkinsã‚’è‡ªåˆ†ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ã“ã‚ã‹ã‚‰ã‚„ã£ãŸã®ã§ã€ãã®ãƒ¡ãƒ¢ã§ã™ã€‚\nMacã«Jenkinsã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ç’°å¢ƒ MacBook Air 13-inch, 2015 macOS Sierra 10.12.6 1.6GHz Intel Core i5 ãƒ¡ãƒ¢ãƒª8GB JavaãŒå…¥ã£ã¦ã„ã‚‹ã‹ Jenkinsã‚’å‹•ã‹ã™ã«ã¯JavaãŒå¿…è¦ãªã®ã§ã€å…¥ã£ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¾ã™ã€‚\n$ java -version java version \u0026#34;1.8.0_144\u0026#34; Java(TM) SE Runtime Environment (build 1.8.0_144-b01) Java HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode) Jenkinsã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« Homebrewã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ brew install jenkins ã“ã‚Œã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«è‡ªä½“ã¯çµ‚ã‚ã‚Šã§ã™ã€‚\nJenkinsèµ·å‹•ãƒ»åˆæœŸè¨­å®š èµ·å‹• ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‹ã‚‰ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§Jenkinsã‚’èµ·å‹•ã—ã¾ã™ã€‚\n$ jenkins ã™ã‚‹ã¨ã€é€”ä¸­ã§ä¸‹è¨˜ã®ã‚ˆã†ãªå‡ºåŠ›ãŒã‚ã‚Šã¾ã™ã€‚\n************************************************************* ************************************************************* ************************************************************* Jenkins initial setup is required. An admin user has been created and a password generated. Please use the following password to proceed to installation: 12345678abcdefgh12345678abcdefgh This may also be found at: /Users/hogehoge/.jenkins/secrets/initialAdminPassword ************************************************************* ************************************************************* ************************************************************* ã“ã®å‡ºåŠ›ã®å¾Œã€æ•°è¡Œã®å‡ºåŠ›ãŒã‚ã£ã¦ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®å‹•ããŒæ­¢ã¾ã‚‹ã®ã§ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:8080 ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚ ä»¥ä¸‹ã®ã‚ˆã†ãªç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«å‡ºåŠ›ã•ã‚ŒãŸ 12345678abcdefgh12345678abcdefgh ã‚’å…¥åŠ›ã—ã¦ continue ã‚’æŠ¼ã—ã¾ã™ã€‚\nä»¥é™ã®ç”»é¢ã§åˆæœŸè¨­å®šã‚’ã—ã¦ã„ãã¾ã™ã€‚\nåˆæœŸè¨­å®š ã¾ãšã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚æ¨å¥¨ã•ã‚Œã‚‹ã‚‚ã®ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‹ã€è‡ªåˆ†ã§é¸æŠã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‹ã‚’é¸ã¹ã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãš Install suggested plugins ã‚’é¸æŠã—ã¦ã€Jenkinsã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§ã‚ˆãä½¿ã‚ã‚Œã¦ã„ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦é€²ã‚ã¾ã™ã€‚\nç¶šã„ã¦ãƒ¦ãƒ¼ã‚¶ã®ç™»éŒ²ã§ã™ã€‚\nå¿…è¦äº‹é …ã‚’è¨˜å…¥ã—ã¦ Save and Finish ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚\nç„¡äº‹ã«ãŠã˜ã•ã‚“ã«ä¼šã†ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/develop-install-jenkins-to-mac/",
    "title": "Macã«Jenkinsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦åˆæœŸè¨­å®šã‚’ã™ã‚‹ã¾ã§"
  },
  {
    "contents": "ã‚¿ã‚¤ãƒˆãƒ«ã®é€šã‚Šã€Laravelã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’5.1ã‹ã‚‰5.5ã¸ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ãŸã®ã§ã€ãã®æ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚\nã¡ãªã¿ã«ã§ã™ãŒã€5.1ã‹ã‚‰5.5ã¸ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ãªã‚“ã¦ã‚„ã‚‹ã¹ãã§ã¯ãªã„ã§ã™ã€‚æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå‡ºã‚‹ãŸã³ã«ç´°ã‹ãã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ã¦ã„ãã®ãŒãƒ™ã‚¹ãƒˆã§ã™ã€‚å°è¦æ¨¡ãªã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã‚‰å¯¾å¿œç¯„å›²ã¯å¤šã„ã®ã§ã€å¤§è¦æ¨¡ã‚µãƒ¼ãƒ“ã‚¹ã¨ãªã‚‹ã¨ã‹ãªã‚Šã®å·¥æ•°ãŒã‹ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nã¨ã‚Šã‚ãˆãšãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸Šã’ã¦ã¿ã‚‹ 5.1ã‹ã‚‰5.5ã¨ãªã‚‹ã¨å¤‰æ›´ç‚¹ã¯ã‹ãªã‚Šã‚ã‚Šã¾ã™ãŒã€ãã“ã¾ã§å¤§ãã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚‚ãªã‹ã£ãŸã®ã§ã¨ã‚Šã‚ãˆãš5.5ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã—ã¦ã¿ã¾ã—ãŸã€‚ Laravelã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã¯ã€åŸºæœ¬çš„ã«ã¯ composer.json ã‚’æ›¸ãæ›ãˆã¦ composer update ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\ncomposer.jsonæ›¸ãæ›ãˆ ã¾ãšã¯composer.jsonã®æ›¸ãæ›ãˆã¨ãªã‚Šã¾ã™ã€‚ã»ã¼å…¨éƒ¨æ›¸ãæ›ãˆã§ã™ã€‚ ã¨ã‚Šã‚ãˆãšã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ ã¨è¨€ã£ã¦ã¾ã™ãŒã€5.5ã‹ã‚‰ã¯PHPã®å¯¾å¿œãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ7.0ä»¥ä¸Šã¨ãªã£ã¦ã„ã‚‹ã®ã§ã€ã‚µãƒ¼ãƒã®PHPãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ5ç³»ã®ã¾ã¾ã ã¨ã€ãã‚‚ãã‚‚ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ãŒã§ãã¾ã›ã‚“ã€‚ ä»Šå›ã€PHPã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯7ä»¥ä¸Šã ã£ãŸã®ã§ã€å¼·è¡Œçªç ´ã—ã¦ã¾ã™ã€‚\ndiff --git a/composer.json b/composer.json index cc83e39..14321dd 100644 --- a/composer.json +++ b/composer.json @@ -5,15 +5,22 @@ \u0026#34;license\u0026#34;: \u0026#34;MIT\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;project\u0026#34;, \u0026#34;require\u0026#34;: { - \u0026#34;php\u0026#34;: \u0026#34;\u0026gt;=5.5.9\u0026#34;, - \u0026#34;laravel/framework\u0026#34;: \u0026#34;5.1.*\u0026#34;, - \u0026#34;doctrine/dbal\u0026#34;: \u0026#34;^2.5\u0026#34; + \u0026#34;php\u0026#34;: \u0026#34;\u0026gt;=7.0.0\u0026#34;, + \u0026#34;fideloper/proxy\u0026#34;: \u0026#34;~3.3\u0026#34;, + \u0026#34;laravel/framework\u0026#34;: \u0026#34;5.5.*\u0026#34;, + \u0026#34;laravel/tinker\u0026#34;: \u0026#34;~1.0\u0026#34; }, \u0026#34;require-dev\u0026#34;: { + \u0026#34;filp/whoops\u0026#34;: \u0026#34;~2.0\u0026#34;, \u0026#34;fzaninotto/faker\u0026#34;: \u0026#34;~1.4\u0026#34;, \u0026#34;mockery/mockery\u0026#34;: \u0026#34;0.9.*\u0026#34;, - \u0026#34;phpunit/phpunit\u0026#34;: \u0026#34;~4.0\u0026#34;, - \u0026#34;phpspec/phpspec\u0026#34;: \u0026#34;~2.1\u0026#34; + \u0026#34;phpunit/phpunit\u0026#34;: \u0026#34;~6.0\u0026#34; + }, + \u0026#34;extra\u0026#34;: { + \u0026#34;laravel\u0026#34;: { + \u0026#34;dont-discover\u0026#34;: [ + ] + } }, \u0026#34;autoload\u0026#34;: { \u0026#34;classmap\u0026#34;: [ @@ -31,18 +38,14 @@ }, \u0026#34;scripts\u0026#34;: { \u0026#34;post-root-package-install\u0026#34;: [ - \u0026#34;php -r \\\u0026#34;copy(\u0026#39;.env.example\u0026#39;, \u0026#39;.env\u0026#39;);\\\u0026#34;\u0026#34; + \u0026#34;@php -r \\\u0026#34;file_exists(\u0026#39;.env\u0026#39;) || copy(\u0026#39;.env.example\u0026#39;, \u0026#39;.env\u0026#39;);\\\u0026#34;\u0026#34; ], \u0026#34;post-create-project-cmd\u0026#34;: [ - \u0026#34;php artisan key:generate\u0026#34; - ], - \u0026#34;post-install-cmd\u0026#34;: [ - \u0026#34;Illuminate\\\\Foundation\\\\ComposerScripts::postInstall\u0026#34;, - \u0026#34;php artisan optimize\u0026#34; + \u0026#34;@php artisan key:generate\u0026#34; ], - \u0026#34;post-update-cmd\u0026#34;: [ - \u0026#34;Illuminate\\\\Foundation\\\\ComposerScripts::postUpdate\u0026#34;, - \u0026#34;php artisan optimize\u0026#34; + \u0026#34;post-autoload-dump\u0026#34;: [ + \u0026#34;Illuminate\\\\Foundation\\\\ComposerScripts::postAutoloadDump\u0026#34;, + \u0026#34;@php artisan package:discover\u0026#34; ] }, \u0026#34;config\u0026#34;: { composer update composer.json ã‚’æ›¸ãæ›ãˆãŸã‚‰ã€composer update ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n$ composer update Loading composer repositories with package information Updating dependencies (including require-dev) ... ... ... Writing lock file Generating autoload files \u0026gt; Illuminate\\Foundation\\ComposerScripts::postAutoloadDump \u0026gt; @php artisan package:discover In ProviderRepository.php line 208: Class \u0026#39;Illuminate\\Routing\\ControllerServiceProvider\u0026#39; not found Script @php artisan package:discover handling the post-autoload-dump event returned with error code 1 ã“ã‚Œã¯ã€5.2ã¸ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰æ™‚ã«å¯¾å¿œã™ã‚‹å†…å®¹ã§ã™ã€‚\nconfig/app.php ã®ä¸­ã® ä¸‹è¨˜ã®è¨˜è¿°ã‚’å‰Šé™¤ã—ã¦ã€ã‚‚ã†ä¸€åº¦ composer update å®Ÿè¡Œã€‚\nIlluminate\\Routing\\ControllerServiceProvider::class, $ composer update Loading composer repositories with package information Updating dependencies (including require-dev) Nothing to install or update Generating autoload files \u0026gt; Illuminate\\Foundation\\ComposerScripts::postAutoloadDump \u0026gt; @php artisan package:discover In EventServiceProvider.php line 8: Declaration of App\\Providers\\EventServiceProvider::boot(Illuminate\\Contract s\\Events\\Dispatcher $events) should be compatible with Illuminate\\Foundatio n\\Support\\Providers\\EventServiceProvider::boot() Script @php artisan package:discover handling the post-autoload-dump event returned with error code 1 ã¾ãŸã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã—ãŸã€‚\nDeclaration of App\\Providers\\EventServiceProvider::boot(Illuminate\\Contract s\\Events\\Dispatcher $events) should be compatible with Illuminate\\Foundatio n\\Support\\Providers\\EventServiceProvider::boot() ã“ã‚Œã¯ã€5.3ã¸ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹ã¨ãã®å¯¾å¿œå†…å®¹ã§ã™ã€‚\napp/Providers/ ä»¥ä¸‹ã® EventServiceProvider.php ãŠã‚ˆã³ RouteServiceProvider.php ã® boot()ãƒ¡ã‚½ãƒƒãƒ‰ã®å¼•æ•°ã‚’å‰Šé™¤ã—ã¾ã™ã€‚\n@@ -24,9 +24,9 @@ class EventServiceProvider extends ServiceProvider * @param \\Illuminate\\Contracts\\Events\\Dispatcher $events * @return void */ - public function boot(DispatcherContract $events) + public function boot() { - parent::boot($events); + parent::boot(); // } @@ -22,11 +22,11 @@ class RouteServiceProvider extends ServiceProvider * @param \\Illuminate\\Routing\\Router $router * @return void */ - public function boot(Router $router) + public function boot() { // - parent::boot($router); + parent::boot(); } /** å†åº¦ composer update å®Ÿè¡Œã€‚\n$ composer update Loading composer repositories with package information Updating dependencies (including require-dev) Nothing to install or update Generating autoload files \u0026gt; Illuminate\\Foundation\\ComposerScripts::postAutoloadDump \u0026gt; @php artisan package:discover Discovered Package: fideloper/proxy Discovered Package: laravel/tinker Package manifest generated successfully. æˆåŠŸã—ãŸã‚ˆã†ãªã®ã§ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™ã€‚\n$ php artisan --version Laravel Framework 5.5.23 ã¨ã‚Šã‚ãˆãšå‹•ã‹ã—ã¦ã¿ã‚‹ Laravelè‡ªä½“ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã¯ã§ããŸã®ã§ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã»ã†ã‚’ä¿®æ­£ã—ã¦ã„ãã¾ã™ã€‚\nLaravelã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€å„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¸ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰æ™‚ã«ä½•ã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã‹ã‚’æ›¸ã„ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã€ä»Šå›ã®ã‚ˆã†ã«ä¸€æ°—ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã§ã¯ãªãã€ãã®éƒ½åº¦ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ã¦ã„ã‚‹å ´åˆã«ã¯ã“ã‚Œã«æ²¿ã£ã¦å¯¾å¿œã—ã¦ãã®ãŒåŸºæœ¬ã§ã™ã€‚\n5.1ã‹ã‚‰5.2 ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚¬ã‚¤ãƒ‰ 5.2 Laravel 5.2ã‹ã‚‰5.3 ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚¬ã‚¤ãƒ‰ 5.3 Laravel 5.3ã‹ã‚‰5.4 ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚¬ã‚¤ãƒ‰ 5.4 Laravel 5.4ã‹ã‚‰5.5 ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚¬ã‚¤ãƒ‰ 5.5 Laravel ä»Šå›ã¯ã€ã¨ã‚Šã‚ãˆãšå‹•ã‹ã—ã¦ã¿ã¦ã€ã‚¨ãƒ©ãƒ¼ã¨æˆ¦ã£ã¦ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nã‚»ãƒƒã‚·ãƒ§ãƒ³ Column not found: 1054 Unknown column 'user_id' in 'field list'\nã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’DBã«ä¿æŒã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹å ´åˆã€ä¸Šè¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚\nã“ã‚Œã¯5.2ã¸ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰æ™‚ã«å¯¾å¿œã™ã‚‹å†…å®¹ã§ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯æ¬¡ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\nãƒ¦ãƒ¼ã‚¶IDã€IPã‚¢ãƒ‰ãƒ¬ã‚¹ã€ãƒ¦ãƒ¼ã‚¶ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã‚ˆã†ãªæƒ…å ±ã‚’ã‚ˆã‚Šå«ã‚€ã€æ–°ã—ã„databaseã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‰ãƒ©ã‚¤ãƒãŒæ›¸ã‹ã‚Œã¾ã—ãŸã€‚å¤ã„ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã‚’ä½¿ã„ç¶šã‘ãŸã„å ´åˆã¯ã€session.phpè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¸legacy-databaseãƒ‰ãƒ©ã‚¤ãƒã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚ æ–°ã—ã„ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ã¸ã€user_id (NULLå€¤ã‚’è¨±ã™æ•´æ•°)ã€ip_address (NULLå€¤ã‚’è¨±ã™æ•´æ•°)ã€user_agent (ãƒ†ã‚­ã‚¹ãƒˆ)ã‚«ãƒ©ãƒ ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\nã¨ã„ã†ã“ã¨ã§ã€ã‚«ãƒ©ãƒ ã‚’è¿½åŠ ã—ã¾ã™ã€‚\n$ php artisan make:migration alter_add_session \u0026lt;?php /** * Run the migrations. * * @return void */ public function up() { Schema::table(\u0026#39;sessions\u0026#39;, function($t){ $t-\u0026gt;integer(\u0026#39;user_id\u0026#39;)-\u0026gt;nullable(); $t-\u0026gt;integer(\u0026#39;ip_address\u0026#39;)-\u0026gt;nullable(); $t-\u0026gt;string(\u0026#39;user_agent\u0026#39;); }); } /** * Reverse the migrations. * * @return void */ public function down() { Schema::table(\u0026#39;sessions\u0026#39;, function($t){ $t-\u0026gt;dropColumn([\u0026#39;user_id\u0026#39;, \u0026#39;ip_address\u0026#39;, \u0026#39;user_agent\u0026#39;]); }); } $ php artisan migrate ************************************** * Application In Production! * ************************************** Do you really wish to run this command? (yes/no) [no]: \u0026gt; ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒæœ¬ç•ªã ã‘ã©ã€å¤§ä¸ˆå¤«ï¼Ÿã¨èã‹ã‚Œã¦ã—ã¾ã„ã¾ã—ãŸã€‚.env ã§ã¯ APP_ENV=local ã¨ãªã£ã¦ã„ã‚‹ã®ã«ã€ãªãœï¼Ÿ\nã“ã‚Œã‚‚5.2ã§å¯¾å¿œå†…å®¹ã§ã™ãŒã€config/app.php ã« env ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚\ndiff --git a/config/app.php b/config/app.php index f013735..3f597f9 100644 --- a/config/app.php +++ b/config/app.php @@ -2,6 +2,8 @@ return [ + \u0026#39;env\u0026#39; =\u0026gt; env(\u0026#39;APP_ENV\u0026#39;, \u0026#39;production\u0026#39;), ã“ã‚Œã§ local ã§ç¢ºèªç„¡ã—ã§ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒé€šã‚Šã¾ã™ã€‚\nãƒ«ãƒ¼ãƒˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ Method [beforeFilter] does not exist on [App\\Http\\Controllers\\***\nã“ã‚Œã¯5.1ã®æ™‚ç‚¹ã§éæ¨å¥¨ã€5.2ã§å‰Šé™¤ã¨ãªã£ãŸãƒ«ãƒ¼ãƒˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®ä½¿ç”¨ã«ã‚ˆã‚‹ã‚¨ãƒ©ãƒ¼ã§ã™ã€‚\nã‚ˆã‚Šå¥½ã¾ã—ã„ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã«ã‚ˆã‚Šã€ãƒ«ãƒ¼ãƒˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã¯éæ¨å¥¨ã¨ãªã‚Šã¾ã—ãŸã€‚\nã¨ã‚ã‚‹ã‚ˆã†ã«ã€ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã¸ã®ç§»è¡ŒãŒå¿…è¦ã§ã™ã€‚ã¾ã‚ã€5.1ã®ã†ã¡ã«ç§»è¡Œã—ã¦ãŠãã¹ãã ã£ãŸå†…å®¹ã§ã™ãŒã€‚\nãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®ä½œæˆ ä»Šå›ã®å ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ã«Controllerå†…ã«ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’æ›¸ã„ã¦ã„ã¾ã—ãŸã€‚\n\u0026lt;?php class HogeController extends Controller { public function __construct() { parent::__construct(); $this-\u0026gt;beforeFilter(\u0026#34;@filterHoge\u0026#34;); } public function filterHoge() { // å‡¦ç† } } ã“ã‚Œã‚’ã€ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã«ç§»è¡Œã—ã¾ã™ã€‚\n$ php artisan make:middleware HogeMiddleware \u0026lt;?php class HogeMiddleware { /** * Handle an incoming request. * * @param \\Illuminate\\Http\\Request $request * @param \\Closure $next * @return mixed */ public function handle($request, Closure $next) { // å‡¦ç† return $next($request); } } ãƒ˜ãƒ«ãƒ‘ url() url()ãƒ˜ãƒ«ãƒ‘é–¢æ•°ãŒã€å¼•æ•°ã®ãƒ‘ã‚¹ã®æŒ‡å®šãŒãªã„å ´åˆã«Illuminate\\Routing\\UrlGeneratorã‚’è¿”ã™ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nä¾‹ãˆã°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‘ã‚¹ãŒ https://hogehoge.com ã ã£ãŸå ´åˆã€5.1ã§ã¯\n\u0026lt;?php $u = url(); echo $u; // https://hogehoge.com ã§ã—ãŸãŒã€5.2ä»¥é™ã§åŒã˜ã‚ˆã†ãªçµæœã‚’å¾—ã‚‹ãŸã‚ã«ã¯\n\u0026lt;?php $u = url(\u0026#39;/\u0026#39;); echo $u; // https://hogehoge.com ã¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ url() ã®ã¾ã¾æ”¾ç½®ã—ã¦ã€ãã®å€¤ã«æ–‡å­—åˆ—çµåˆã‚’ã—ã¦ã„ã‚‹å ´åˆã€Object of class Illuminate\\Routing\\UrlGenerator could not be converted to string ã¨è¨€ã‚ã‚Œã¾ã™ã€‚\nLaravelã®æ©æµã‚’å—ã‘ãã‚Œã¦ã„ãªã„ï¼Ÿ ã–ã£ã¨å‹•ã‹ã—ãŸæ„Ÿã˜ã§ã¯è‡´å‘½çš„ãªã‚‚ã®ã¯ã“ã‚Œãã‚‰ã„ã§ã—ãŸã€‚ ãŠãã‚‰ãã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ä¾å­˜ã—ã¦ãªã„ã®ãŒè‰¯ã‹ã£ãŸã¨æ€ã‚ã‚Œã¾ã™ã€‚ é€†ã«è¨€ã†ã¨ã€Laravelã®æ©æµã‚’å—ã‘ãã‚Œã¦ã„ãªã„ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nä½•ã‹ã‚ã‚Œã°è¿½è¨˜ã—ã¦ã„ãã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/php-update-laravel-5.1-to-5.5/",
    "title": "Laravel5.1ã‹ã‚‰5.5ã¸ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰"
  },
  {
    "contents": "ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å€¤ãŒæ­£ã—ã„ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹æ­£è¦è¡¨ç¾ã§ã™ã€‚\nã¾ãŸã€ãã‚‚ãã‚‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä»˜ã‘æ–¹ã«ã¤ã„ã¦ã‚‚èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚\nãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ã¯ ã‚¢ãƒ—ãƒªã‚„Webã‚µãƒ¼ãƒ“ã‚¹ã‚’ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹ã¨ãã«ä»˜ä¸ã™ã‚‹å€¤ã®ã“ã¨ã§ã™ã€‚ ä¾‹ãˆã°ã€2017å¹´12æœˆ4æ—¥æ™‚ç‚¹ã®Chromeã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 62.0.3202.94 ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æ–¹æ³• ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ã„ã†ã®ã¯ä»¥å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚ˆã‚Šã‚‚å°ã•ã„å€¤ã‚’å°ã•ã„å€¤ã‚’è¨­å®šã—ã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚ ã“ã‚Œã¯ã€ãƒ¦ãƒ¼ã‚¶ã®èª¤è§£ã‚’æ‹›ãã¨ã¨ã‚‚ã«ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã¨ã„ã†æ¦‚å¿µãŒå´©ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚ ãŸã¨ãˆä¸­èº«ã‚’å‰ã®çŠ¶æ…‹ã«æˆ»ã™å ´åˆã§ã‚ã£ã¦ã‚‚ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å€¤ã¯ä»¥å‰ã‚ˆã‚Šã‚‚å¤§ãã„å€¤ã‚’ä»˜ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã¾ãŸã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å½¢å¼ã‚‚åŒã˜ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ å½¢å¼ã¨ã¯ã€ãƒ”ãƒªã‚ªãƒ‰ã«ã‚ˆã‚‹åŒºåˆ‡ã‚‰ã‚Œæ–¹ ã®ã“ã¨ã§ã™ã€‚ ä¾‹ãˆã°ã€ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ 1.0.0 ã§ã‚ã‚‹ã¨ãã€æ¬¡ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 1.0.1 ã‚„ 2.0.0 ã®ã‚ˆã†ã«ã€åŒã˜å½¢å¼ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚2.0ãªã©ã«ã—ã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚\nã“ã®ã‚ãŸã‚Šã®è©±ã¯ã€ ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° ã¨å‘¼ã°ã‚Œã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä»˜ã‘æ–¹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚ã‹ã‚Šã‚„ã™ãæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚ ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° 2.0.0 | Semantic Versioning æ­£è¦è¡¨ç¾ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä»˜ã‘æ–¹ã«ã¯ä¸Šè¨˜ã®ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ä»¥å¤–ã«ã‚‚è‰²ã€…ã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ä¸€èˆ¬çš„ã«ã¯æ•°å€¤ã‚’å¹¾ã¤ã‹ã®ãƒ”ãƒªã‚ªãƒ‰ã§åŒºåˆ‡ã£ãŸå½¢ã«ãªã‚Šã¾ã™ã€‚ åŒºåˆ‡ã‚‰ã‚ŒãŸå€¤ã¯0ä»¥ä¸Šã®æ•´æ•°å€¤ã§ã™ã€‚ï¼ˆNG: 1.001.1ï¼‰ ãƒ”ãƒªã‚ªãƒ‰ã¯å…ˆé ­ã¨æœ«å°¾ã«ã¯ä½¿ç”¨ã§ãã¾ã›ã‚“ã€‚é€£ç¶šã§ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã›ã‚“ã€‚ï¼ˆNG: 1.2.3..4ã€2.2.5.ï¼‰ ä¸Šè¨˜ã‚’æº€ãŸã™æ­£è¦è¡¨ç¾ãŒä¸‹è¨˜ã«ãªã‚Šã¾ã™ã€‚\n/^([0-9]|[1-9][0-9]{1,})(\\.([0-9]|[1-9][0-9]{1,}))*$/ å‰å¾Œé–¢ä¿‚ã®ãƒã‚§ãƒƒã‚¯ æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚ˆã‚Šå°ã•ã„å€¤ã«ãªã£ã¦ã„ãªã„ã‹ã€å½¢å¼ã¯åŒã˜ã‹ã€ã‚’ãƒã‚§ãƒƒã‚¯ã—ãŸã„ã¨ã„ã†ã¨ãã«ä½¿ã†ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚\nPHPç‰ˆ \u0026lt;?php /** * @param string $new_version // æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ * @param string $current_version // ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ * @return bool */ public function checkVersion($new_version, $current_version) { // å½¢å¼ãƒã‚§ãƒƒã‚¯ if (substr_count($new_version, \u0026#39;.\u0026#39;) != substr_count($current_version, \u0026#39;.\u0026#39;)) { echo \u0026#39;å½¢å¼ãŒé•ã†\u0026#39;; return false; } // å‰å¾Œé–¢ä¿‚ãƒã‚§ãƒƒã‚¯ $new_version_arr = explode(\u0026#39;.\u0026#39;, $new_version); $current_version_arr = explode(\u0026#39;.\u0026#39;, $current_version); $chk_tmp_new = \u0026#34;\u0026#34;; $chk_tmp_curr = \u0026#34;\u0026#34;; for ($i = 0; $i \u0026lt; count($new_version_arr); $i++) { $chk_tmp_new = $new_version_arr[$i]; $chk_tmp_curr = $current_version_arr[$i]; if ($i === count($new_version_arr) - 1) { if ((int)$chk_tmp_new \u0026gt;= (int)$chk_tmp_curr) { return true; } } else { if ((int)$chk_tmp_new \u0026gt; (int)$chk_tmp_curr) { return true; } else if ((int)$chk_tmp_new \u0026lt; (int)$chk_tmp_curr) { echo \u0026#39;æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã»ã†ãŒå°ã•ã„\u0026#39;; return false; } } } return false; } javascriptç‰ˆ /** * @param string new_version // æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ * @param string current_version // ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ * @return bool */ function CheckVersion(new_version, current_version) { // å½¢å¼ãƒã‚§ãƒƒã‚¯ if (new_version.split(\u0026#34;.\u0026#34;).length != current_version.split(\u0026#34;.\u0026#34;).length) { console.log(\u0026#34;å½¢å¼ãŒé•ã†\u0026#34;); return false; } // å‰å¾Œé–¢ä¿‚ãƒã‚§ãƒƒã‚¯ var new_version_arr = new_version.split(\u0026#34;.\u0026#34;); var current_version_arr = current_version.split(\u0026#34;.\u0026#34;); var chk_tmp_new = \u0026#34;\u0026#34;; var chk_tmp_curr = \u0026#34;\u0026#34;; for (var i = 0; i \u0026lt; new_version_arr.length; i++) { chk_tmp_new = parseInt(new_version_arr[i], 10); chk_tmp_curr = parseInt(current_version_arr[i], 10); if (i == new_version_arr.length - 1) { if (chk_tmp_new \u0026gt;= chk_tmp_curr) { return true; } } else { if (chk_tmp_new \u0026lt; chk_tmp_curr) { console.log(\u0026#34;æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã»ã†ãŒå°ã•ã„\u0026#34;); return false; } else if (chk_tmp_new \u0026gt; chk_tmp_curr) { return true; } } } return false; } ",
    "permalink": "https://michimani.net/post/develop-how-to-decide-version/",
    "title": "ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æ–¹æ³•ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å‰å¾Œé–¢ä¿‚ãƒã‚§ãƒƒã‚¯ã«ã¤ã„ã¦"
  },
  {
    "contents": "PHP ã«ãŠã„ã¦ strpos ã¨ preg_match ã®ã©ã¡ã‚‰ãŒé€Ÿã„ã®ã‹èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚\nå‰ç½®ã PHPã§ã€ã‚ã‚‹æ–‡å­—ãŒã‚ã‚‹æ–‡å­—åˆ—ã®ä¸­ã«å«ã¾ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã¨ãã®è©±ã§ã™ã€‚\næ­£è¦è¡¨ç¾ã§ãƒã‚§ãƒƒã‚¯ã™ã‚‹å ´åˆã€ preg_match() ã‚’ä½¿ç”¨ã—ã¾ã™ãŒã€å˜ç´”ãªæ–‡å­—åˆ—ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹å ´åˆã«ã‚‚ preg_match() ã‚’ä½¿ã£ã¦ã„ã¾ã—ãŸã€‚\nãŒã€preg_match()ã«é–¢ã™ã‚‹ å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ã‚’è¦‹ã¦ã¿ã‚‹ã¨\nãƒ’ãƒ³ãƒˆ ã‚ã‚‹æ–‡å­—åˆ—ãŒä»–ã®æ–‡å­—åˆ—å†…ã«å«ã¾ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’èª¿ã¹ã‚‹ãŸã‚ã ã‘ã« preg_match() ã‚’ä½¿ã†ã®ã¯é¿ã‘ãŸæ–¹ãŒè‰¯ã„ã§ã—ã‚‡ã†ã€‚ strpos() é–¢æ•°ã‚’ä½¿ã†ã»ã†ãŒé€Ÿããªã‚Šã¾ã™ã€‚\nã¨ã‚ã‚Šã¾ã™ã€‚ ã§ã¯ã©ã‚Œã ã‘å·®ãŒå‡ºã‚‹ã®ã‹ã€è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚\nãƒ†ã‚¹ãƒˆç”¨ã‚½ãƒ¼ã‚¹ \u0026lt;?php date_default_timezone_set(\u0026#39;Asia/Tokyo\u0026#39;); $exec_cnt = 100; echo sprintf(\u0026#39;è©¦è¡Œå›æ•°%så›%s\u0026#39;, $exec_cnt, \u0026#34;\\n\\n\u0026#34;); $res = 0; $start = microtime(true); for ($n = 0; $n \u0026lt; $exec_cnt; $n++) { $str = sprintf(\u0026#39;ä»Šã®æ•°å­—ã¯%sã§ã™\u0026#39;, $n); if (preg_match(\u0026#39;/55/\u0026#39;, $n)) { $res++; } } echo sprintf(\u0026#39;preg_match ... res = %s (%s)%s\u0026#39;, $res, sprintf(\u0026#39;%.10f\u0026#39;, (microtime(true) - $start)), \u0026#34;\\n\u0026#34;); $res = 0; $start = microtime(true); for ($n = 0; $n \u0026lt; $exec_cnt; $n++) { $str = sprintf(\u0026#39;ä»Šã®æ•°å­—ã¯%sã§ã™\u0026#39;, $n); if (strpos($n, \u0026#39;55\u0026#39;) !== false) { $res++; } } echo sprintf(\u0026#39;strpos ... res = %s (%s)%s\u0026#39;, $res, sprintf(\u0026#39;%.10f\u0026#39;, (microtime(true) - $start)), \u0026#34;\\n\u0026#34;); ä¸Šã® $exec_cnt ã§ãƒ«ãƒ¼ãƒ—å›æ•°ã‚’æŒ‡å®šã—ã¦ã€ã‹ã‹ã£ãŸæ™‚é–“ã‚’ãã‚Œãã‚Œè¨ˆæ¸¬ã—ã¦ã¿ã¾ã™ã€‚ ä¾‹ãˆã°ä¸Šã®ã‚½ãƒ¼ã‚¹ã®é€šã‚Šã€100å›ãƒ«ãƒ¼ãƒ—ã—ãŸå ´åˆã®å‡ºåŠ›çµæœã¯\nè©¦è¡Œå›æ•°100å› preg_match ... res = 1 (0.0001780987) strpos ... res = 1 (0.0000598431) ã¨ãªã‚Šã€100å›ã®æ™‚ç‚¹ã§ strpos() ã®ã»ã†ãŒ preg_match() ã‚ˆã‚Šç´„3å€é€Ÿã„ã§ã™ã€‚ä»¥ä¸‹ã€è©¦è¡Œå›æ•°ã”ã¨ã®ç§’æ•°ã§ã™ã€‚ â€»å®Ÿè¡Œã—ãŸã®ã¯Macã®ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã™\nè©¦è¡Œå›æ•° preg_match()\u0026hellip;p strpos()\u0026hellip;s p/s 1000 0.0008649826 0.0005629063 1.53 10000 0.0074071884 0.0050859451 1.47 100000 0.0710110664 0.0543570518 1.31 1000000 0.6552450657 0.4806499481 1.36 \u0026hellip; 100000000 70.5298569202 47.3726339340 1.49 è©¦è¡Œå›æ•°ãŒå°‘ãªã„ã¨ãã®ã»ã†ãŒå·®ã¯å¤§ãããªã‚‹ã‚ˆã†ã§ã™ãŒã€strpos() ã®ã»ã†ãŒ preg_match()ã‚ˆã‚Šã‚‚ã€å¹³å‡ã—ã¦1.4å€ã»ã©é€Ÿã„ã‚ˆã†ã§ã™ã€‚\nã‚„ã£ã±ã‚Šå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã—ã£ã‹ã‚Šèª­ã‚“ã ã»ã†ãŒã„ã„ã§ã™ã­ã€‚\n",
    "permalink": "https://michimani.net/post/php-conpare-strpos-pregmatch/",
    "title": "ã€PHPã€‘strposã¯preg_matchã‚ˆã‚Šã©ã‚Œãã‚‰ã„é€Ÿã„ã®ã‹"
  },
  {
    "contents": "PNGç”»åƒã®é€ééƒ¨åˆ†ä»¥å¤–ã‚’ç™½å˜è‰²ã§å¡—ã‚Šã¤ã¶ã—ã¾ã™ã€‚ï¼ˆå¡—ã‚Šã¤ã¶ã—ãŸã‚ˆã†ã«è¦‹ãˆã‚‹çŠ¶æ…‹ã«ã—ã¾ã™ï¼‰\nå‰æ PHP5ã€PHP7 PHPã®æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª GD ã‚’ä½¿ç”¨ GDãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒä½¿ç”¨å¯èƒ½ã‹ã©ã†ã‹ GDãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒä½¿ç”¨å¯èƒ½ã‹ã©ã†ã‹ã‚’èª¿ã¹ã‚‹ã«ã¯ã€phpinfoå†…ã® GD Support ã®å€¤ã‚’ç¢ºèªã—ã¾ã™ã€‚ enabled ã§ã‚ã‚Œã°ä½¿ç”¨å¯èƒ½ã§ã™ã€‚\nã¾ãŸã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ç­‰ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã‚‚ç¢ºèªã§ãã¾ã™ã€‚\n$ php -m | grep gd $ gd ## ä½¿ç”¨å¯èƒ½ã§ã‚ã‚Œã°å‡ºåŠ›ã•ã‚Œã‚‹ â€»ã¡ãªã¿ã«ã€ã•ãã‚‰ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼ã§ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½¿ç”¨å¯èƒ½ãªã‚ˆã†ã§ã™\nGDãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨å¯èƒ½ã«ã™ã‚‹ ä¸Šè¨˜ã®æ–¹æ³•ã§GDãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒä½¿ç”¨ä¸å¯ã®çŠ¶æ…‹ã§ã‚ã‚‹å ´åˆã¯ã€ä½¿ç”¨å¯èƒ½ãªçŠ¶æ…‹ã«ã—ã¾ã™ã€‚ å®Ÿéš›ã«è©¦ã—ãŸã®ã¯ EC2ï¼ˆAmazon Linuxï¼‰ã®å ´åˆã®ã¿ãªã®ã§ã€ãã‚Œä»¥å¤–ã«ã¤ã„ã¦ã¯ PHPã®å…¬å¼ãƒšãƒ¼ã‚¸ ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚\nEC2ï¼ˆAmazon Linuxï¼‰ã®å ´åˆ ## GDã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« (PHP7.1ç³»ã®å ´åˆ) $ sudo yum install -y php71-gd ## Apacheå†èµ·å‹• $ sudo service httpd restart å¡—ã‚Šã¤ã¶ã™å‡¦ç† \u0026lt;?php $file_path = \u0026#34;sample.png\u0026#34;; $after_file_path = \u0026#34;sample_after.png\u0026#34;; try { if (!file_exists($file_path)) { throw new Exception(\u0026#39;å¯¾è±¡ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ã¾ã›ã‚“ã€‚\u0026#39;); } $canvas = imagecreatefrompng($file_path); imagealphablending($canvas, false); imagesavealpha($canvas, true); if($canvas \u0026amp;\u0026amp; imagefilter($canvas, IMG_FILTER_BRIGHTNESS, 255)) { imagepng($canvas, $after_file_path); imagedestroy($canvas); $res = true; } else { throw new Exception(\u0026#39;å¤±æ•—ã—ã¾ã—ãŸã€‚\u0026#39;); } } catch (Exception $e) { echo $e-\u0026gt;getMessage(); } ã‚¿ã‚¤ãƒˆãƒ«ã§ ï¼ˆå¡—ã‚Šã¤ã¶ã—ãŸã‚ˆã†ã«ã¿ãˆã‚‹ï¼‰ ã¨æ›¸ã„ã¦ã„ã‚‹ã¨ãŠã‚Šã€ä¸Šè¨˜å‡¦ç†ã§ã¯ã€å®Ÿéš›ã«ç™½ã§å¡—ã‚Šã¤ã¶ã—ã¦ã„ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ ã‚„ã£ã¦ã„ã‚‹ã“ã¨ã¯ã€é€ééƒ¨åˆ†ä»¥å¤–ã®è‰²ãŒã¤ã„ã¦ã„ã‚‹éƒ¨åˆ†ã«å¯¾ã—ã¦ã€ è¼åº¦ã‚’æœ€å¤§ã«ã—ã¦ã„ã‚‹ ã¨ã„ã†ã“ã¨ã§ã™ã€‚\nå‡¦ç†ã§è¨€ã†ã¨\n\u0026lt;?php imagefilter($canvas, IMG_FILTER_BRIGHTNESS, 255) ã®éƒ¨åˆ†ã§ã™ã€‚\nä»»æ„ã®è‰²ã§å¡—ã‚Šã¤ã¶ãã†ã‹ã¨è©¦è¡ŒéŒ¯èª¤ã—ã¦ã¿ãŸã®ã§ã™ãŒã€ã©ã†ã‚‚ã†ã¾ãã„ãã¾ã›ã‚“ã§ã—ãŸã€‚ ä»Šå›ã®ç›®çš„ã¨ã—ã¦ã¯ç™½ä¸€è‰²ã«ã—ãŸã‹ã£ãŸã®ã§ã“ã‚Œã§å¤§ä¸ˆå¤«ãã†ã§ã™ãŒã€ã§ãã‚Œã°ä»»æ„ã®è‰²ã§å¡—ã‚Šã¤ã¶ã—ãŸã„ã§ã™ã€‚\nç‹¬ã‚Šè¨€ ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®å­£ç¯€ãªã®ã§ã€ä»Šæœˆã¯ ã²ã¨ã‚Šã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ ã¨é¡Œã—ã¦ã€ç´°ã‹ã„ãƒã‚¿ã‚‚å«ã‚ã¦ãŸãã•ã‚“æ›¸ã„ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/php-fill-alpha-channel-of-png/",
    "title": "ã€PHPã€‘PNGç”»åƒã®é€ééƒ¨åˆ†ä»¥å¤–ã‚’ç™½ã§å¡—ã‚Šã¤ã¶ã™ï¼ˆå¡—ã‚Šã¤ã¶ã—ãŸã‚ˆã†ã«è¦‹ãˆã‚‹ï¼‰"
  },
  {
    "contents": "Laravel ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ Google ã® ç¿»è¨³ API (Google Cloud Translation API) ã‚’å®Ÿè¡Œã—ãŸã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚\nå¿…è¦ãªã‚‚ã® GCP(Google Cloud Platform)ã§ã€Google Cloud Translation APIç”¨ã®APIã‚­ãƒ¼ã‚’ç™ºè¡Œã—ã¦ãŠãã¾ã™ã€‚\nãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« PHPç”¨ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€composerã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ composer require google/cloud-translate å®Ÿè£… Laravelã§ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’å‰æã¨ã—ãŸã‚½ãƒ¼ã‚¹ã«ãªã‚Šã¾ã™ãŒã€ä½¿ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯åŒã˜ãªã®ã§ä»–ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã‚‚åŒæ§˜ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã®ã‚¯ãƒ©ã‚¹ã‚’ä½œã‚‹å½¢ã§å®Ÿè£…ã—ã¾ã™ã€‚ .envã«APIã‚­ãƒ¼ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚\nGOOGLE_TRANSLATION_API_KEY=ABCDEFGH12345678abcdefgh12345678 ã‚¯ãƒ©ã‚¹ã‚’ä½œã‚Šã¾ã™ã€‚\n\u0026lt;?php namespace App\\Libs use Google\\Cloud\\Translate\\TranslateClient; // ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®èª­ã¿è¾¼ã¿ use Illuminate\\Support\\Facades\\Log; class GoogleTranslateManager { private api_key = \u0026#39;\u0026#39;; public function __construct() { $this-\u0026gt;api_key = env(\u0026#34;GOOGLE_TRANSLATION_API_KEY\u0026#34;); } /** * å˜æ–‡ç¿»è¨³ * @param string $text // ç¿»è¨³å¯¾è±¡ãƒ†ã‚­ã‚¹ãƒˆ * @param string $lang_code // ç¿»è¨³å¾Œã®è¨€èªã‚³ãƒ¼ãƒ‰ */ public function executeTransrationSingle($text, $lang_code) { try { $translate = new TranslateClient([\u0026#39;key\u0026#39; =\u0026gt; $this-\u0026gt;api_key]); $result = $translate-\u0026gt;translate( $text, [\u0026#39;target\u0026#39; =\u0026gt; $lang_code] ); Log::debug(print_r($result,1)); } catch (\\Exception $e) { // ã‚¨ãƒ©ãƒ¼å‡¦ç† } } /** * è¤‡æ•°æ–‡ç¿»è¨³ * @param array $text_list // ç¿»è¨³å¯¾è±¡ãƒ†ã‚­ã‚¹ãƒˆã®ãƒªã‚¹ãƒˆ * @param string $lang_code // ç¿»è¨³å¾Œã®è¨€èªã‚³ãƒ¼ãƒ‰ */ public function executeTransrationMulti($text_list, $lang_code) { try { $translate = new TranslateClient([\u0026#39;key\u0026#39; =\u0026gt; $this-\u0026gt;api_key]); $result = $translate-\u0026gt;translateBatch( $text_list, [\u0026#39;target\u0026#39; =\u0026gt; $lang_code] ); Log::debug(print_r($result,1)); } catch (\\Exception $e) { // ã‚¨ãƒ©ãƒ¼å‡¦ç† } } } å®Ÿè¡Œçµæœ \u0026lt;?php $gObj = new GoogleTranslateManager(); $gObj-\u0026gt;executeTransrationSingle(\u0026#39;ä»Šæ—¥ã¯ã¨ã¦ã‚‚æ°—åˆ†ãŒæ‚ªã„ã§ã™ã€‚\u0026#39;, \u0026#39;pt\u0026#39;); // Array // ( // [source] =\u0026gt; ja // [input] =\u0026gt; ä»Šæ—¥ã¯ã¨ã¦ã‚‚æ°—åˆ†ãŒæ‚ªã„ã§ã™ã€‚ // [text] =\u0026gt; Estou hoje muito doente. // [model] =\u0026gt; // ) $gObj-\u0026gt;executeTransrationMulti( [ \u0026#39;æ˜¨æ—¥ã¯ã¨ã¦ã‚‚æ°—åˆ†ãŒè‰¯ã‹ã£ãŸã§ã™ã€‚\u0026#39;, \u0026#39;ä»Šæ—¥ã¯ã¨ã¦ã‚‚æ°—åˆ†ãŒæ‚ªã„ã§ã™ã€‚\u0026#39;, \u0026#39;æ˜æ—¥ã¯ã„ã„æ°—åˆ†ã«ãªã‚ŠãŸã„ã§ã™ã€‚\u0026#39; ], \u0026#39;es\u0026#39; ); // Array // ( // [0] =\u0026gt; Array // ( // [source] =\u0026gt; ja // [input] =\u0026gt; ä»Šæ—¥ã¯ã¨ã¦ã‚‚æ°—åˆ†ãŒæ‚ªã„ã§ã™ã€‚ // [text] =\u0026gt; Estoy muy enfermo hoy. // [model] =\u0026gt; // ) // // [1] =\u0026gt; Array // ( // [source] =\u0026gt; ja // [input] =\u0026gt; æ˜æ—¥ã¯ã„ã„æ°—åˆ†ã«ãªã‚ŠãŸã„ã§ã™ã€‚ // [text] =\u0026gt; Me gustarÃ­a sentirme bien maÃ±ana. // [model] =\u0026gt; // ) // // [2] =\u0026gt; Array // ( // [source] =\u0026gt; ja // [input] =\u0026gt; æ˜¨æ—¥ã¯ã¨ã¦ã‚‚æ°—åˆ†ãŒè‰¯ã‹ã£ãŸã§ã™ã€‚ // [text] =\u0026gt; Me sentÃ­ muy bien ayer. // [model] =\u0026gt; // ) // ) è¤‡æ•°æ–‡ç¿»è¨³ã®å ´åˆã€æŒ‡å®šã§ãã‚‹é…åˆ—ã®è¦ç´ æ•°ã¯128ãŒæœ€å¤§ã®ã‚ˆã†ã§ã™ã€‚\nï¼‘ã¤ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§åˆ¥ã€…ã«ç¿»è¨³ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€è¤‡æ•°ã®å˜èªã‚’ç¿»è¨³ã™ã‚‹ã¨ãã«ã¯ä¾¿åˆ©ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\n",
    "permalink": "https://michimani.net/post/php-exec-google-cloud-translate-api/",
    "title": "PHP(Laravel5.x)ã§Google Cloud Translation APIã‚’å®Ÿè¡Œã™ã‚‹ï¼ˆå˜æ–‡ãƒ»è¤‡æ•°æ–‡ï¼‰"
  },
  {
    "contents": "Laravelã§Excelãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç°¡å˜ã«æ“ä½œã§ãã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒª Laravel-Excel ã‚’ä½¿ã£ã¦xlsxãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€å‡¦ç†ã‚’ä½œã£ãŸã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚\nLaravel-ExcelãŒä½¿ãˆã‚‹çŠ¶æ…‹ã«ã™ã‚‹ã¾ã§ã®ã“ã¨ã«ã¤ã„ã¦ã¯å…¬å¼ãƒšãƒ¼ã‚¸ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚ Getting started - Laravel Excel Documentation - Maatwebsite å‰æ formã‹ã‚‰postã•ã‚ŒãŸxlsxãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€ å¯¾è±¡ã®ãƒ‡ãƒ¼ã‚¿ãŒå…¥ã£ã¦ã„ã‚‹ã®ã¯ä¸€ç•ªå·¦ã®ã‚·ãƒ¼ãƒˆ xlsxãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿ èª­ã¿è¾¼ã¿å‡¦ç† â€»ã‚¨ãƒ©ãƒ¼å‡¦ç†ã¯ä»®ã§ã™\n\u0026lt;?php namespace App\\Http\\Controllers; use Illuminate\\Http\\Request; use App\\Http\\Controllers\\Controller; use Excel; class SampleController extends Controller { public function post(Request $request) { try { $reader = Excel::load($request-\u0026gt;file(\u0026#39;xlsx_file\u0026#39;)-\u0026gt;getRealPath()); if ($reader == null) { throw new \\Exception(\u0026#39;error.\u0026#39;); } // ãƒ•ã‚¡ã‚¤ãƒ«å†…ã®ã‚·ãƒ¼ãƒˆã®æšæ•°ã«ã‚ˆã£ã¦ $reader-\u0026gt;all() ãŒè¿”ã™ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¯ãƒ©ã‚¹ãŒç•°ãªã‚‹ if (preg_match(\u0026#39;/SheetCollection$/\u0026#39;, get_class($reader-\u0026gt;all()))) { // ã‚·ãƒ¼ãƒˆãŒè¤‡æ•°ã‚ã‚‹å ´åˆ $sheet = $reader-\u0026gt;first(); } else if (preg_match(\u0026#39;/RowCollection$/\u0026#39;, get_class($reader-\u0026gt;all()))) { // ã‚·ãƒ¼ãƒˆãŒ1æšã®å ´åˆ $sheet = $reader; } else { throw new \\Exception(\u0026#39;error.\u0026#39;); } $data = []; foreach ($sheet-\u0026gt;all() as $cells) { $data[] = $cells-\u0026gt;all(); } Log::debug(print_r($data,true)); } catch (\\Exception $e) { Log::error($e-\u0026gt;getMessage()); } } } ãƒ­ã‚°ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nlocal.DEBUG: Array ( [0] =\u0026gt; Array ( [route_name] =\u0026gt; éŠ€åº§ç·š [symbol] =\u0026gt; G [color] =\u0026gt; ã‚ªãƒ¬ãƒ³ã‚¸ ) [1] =\u0026gt; Array ( [route_name] =\u0026gt; ä¸¸ãƒå†…ç·š [symbol] =\u0026gt; M,Mb [color] =\u0026gt; ãƒ¬ãƒƒãƒ‰ ) [2] =\u0026gt; Array ( [route_name] =\u0026gt; æ—¥æ¯”è°·ç·š [symbol] =\u0026gt; H [color] =\u0026gt; ã‚·ãƒ«ãƒãƒ¼ ) [3] =\u0026gt; Array ( [route_name] =\u0026gt; æ±è¥¿ç·š [symbol] =\u0026gt; T [color] =\u0026gt; ã‚¹ã‚«ã‚¤ãƒ–ãƒ«ãƒ¼ ) [4] =\u0026gt; Array ( [route_name] =\u0026gt; åƒä»£ç”°ç·š [symbol] =\u0026gt; C [color] =\u0026gt; ã‚°ãƒªãƒ¼ãƒ³ ) [5] =\u0026gt; Array ( [route_name] =\u0026gt; æœ‰æ¥½ç”ºç·š [symbol] =\u0026gt; Y [color] =\u0026gt; ã‚´ãƒ¼ãƒ«ãƒ‰ ) [6] =\u0026gt; Array ( [route_name] =\u0026gt; åŠè”µé–€ç·š [symbol] =\u0026gt; Z [color] =\u0026gt; ãƒ‘ãƒ¼ãƒ—ãƒ« ) [7] =\u0026gt; Array ( [route_name] =\u0026gt; å—åŒ—ç·š [symbol] =\u0026gt; N [color] =\u0026gt; ã‚¨ãƒ¡ãƒ©ãƒ«ãƒ‰ã‚°ãƒªãƒ¼ãƒ³ ) [8] =\u0026gt; Array ( [route_name] =\u0026gt; å‰¯éƒ½å¿ƒç·š [symbol] =\u0026gt; F [color] =\u0026gt; ãƒ–ãƒ©ã‚¦ãƒ³ ) ) ãƒ˜ãƒƒãƒ€ãƒ¼ã«å…¥åŠ›ã™ã‚‹æ–‡å­—ã®æ³¨æ„ç‚¹ 1è¡Œç›®ã¯ãƒ˜ãƒƒãƒ€ãƒ¼ã¨ãªã‚Šã€é€£æƒ³é…åˆ—ã®ã‚­ãƒ¼ã«ãªã‚Šã¾ã™ã€‚ãŸã ã—ã€å…¨è§’æ–‡å­—ã€ç©ºç™½ãŒãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã®ã‚»ãƒ«ã«å«ã¾ã‚Œã¦ã„ãŸå ´åˆã€ã‚­ãƒ¼ã¨ã—ã¦ã¯ 0 ã«ã‚­ãƒ£ã‚¹ãƒˆã•ã‚Œã¾ã™ã€‚ ä¾‹ãˆã°ä¸Šã®ä¾‹ã§ã€ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’ è·¯ç·šåã€è¨˜å·ã€ è‰² ã¨ã—ã¦ã„ãŸå ´åˆã®ãƒ­ã‚°å‡ºåŠ›çµæœã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nlocal.DEBUG: Array ( [0] =\u0026gt; Array ( [0] =\u0026gt; ã‚ªãƒ¬ãƒ³ã‚¸ ) [1] =\u0026gt; Array ( [0] =\u0026gt; ãƒ¬ãƒƒãƒ‰ ) [2] =\u0026gt; Array ( [0] =\u0026gt; ã‚·ãƒ«ãƒãƒ¼ ) [3] =\u0026gt; Array ( [0] =\u0026gt; ã‚¹ã‚«ã‚¤ãƒ–ãƒ«ãƒ¼ ) [4] =\u0026gt; Array ( [0] =\u0026gt; ã‚°ãƒªãƒ¼ãƒ³ ) [5] =\u0026gt; Array ( [0] =\u0026gt; ã‚´ãƒ¼ãƒ«ãƒ‰ ) [6] =\u0026gt; Array ( [0] =\u0026gt; ãƒ‘ãƒ¼ãƒ—ãƒ« ) [7] =\u0026gt; Array ( [0] =\u0026gt; ã‚¨ãƒ¡ãƒ©ãƒ«ãƒ‰ã‚°ãƒªãƒ¼ãƒ³ ) [8] =\u0026gt; Array ( [0] =\u0026gt; ãƒ–ãƒ©ã‚¦ãƒ³ ) ) -ï¼ˆåŠè§’ãƒã‚¤ãƒ•ãƒ³ï¼‰ã«ã¤ã„ã¦ã¯_ï¼ˆã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ï¼‰ã«ç½®ãæ›ãˆã‚‰ã‚Œã‚‹ã‚ˆã†ã§ã™ã€‚\nâ€»ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã®ã‚»ãƒ«ã€Œroute-nameã€â†’é…åˆ—ã®ã‚­ãƒ¼route_name æ–‡å­—ä¸­ã«ç©ºç™½ãŒå«ã¾ã‚Œã‚‹ã€ã¾ãŸã¯ã‚»ãƒ«è‡ªä½“ãŒç©ºç™½ã®å ´åˆã¯ 0 ã«ã‚­ãƒ£ã‚¹ãƒˆã•ã‚Œã¾ã™ã€‚\nâ€»ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã®ã‚»ãƒ«ã€Œroute nameã€â†’é…åˆ—ã®ã‚­ãƒ¼0\nâ€»ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã®ã‚»ãƒ«ã€Œã€â†’é…åˆ—ã®ã‚­ãƒ¼0 ",
    "permalink": "https://michimani.net/post/php-import-excel-in-laravel-project/",
    "title": "Laravel-Excelã‚’ä½¿ã£ã¦xlsxãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€"
  },
  {
    "contents": "Gitã§ã‚½ãƒ¼ã‚¹ç®¡ç†ã‚’ã™ã‚‹ã«ã‚ãŸã£ã¦ã€AWSã«ã‚‚ CodeCommit ã¨ã„ã†Gitãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã‚Œã‚‹ã‚µãƒ¼ãƒ“ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚å®Ÿéš›ã«ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã£ã¦sshã§æ¥ç¶šã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã¾ã§ã®ãƒ¡ãƒ¢ã§ã™ã€‚\nAWS CodeCommit AWS CodeCommit ã¯ã€å®Œå…¨ãƒãƒãƒ¼ã‚¸ãƒ‰å‹ã‚½ãƒ¼ã‚¹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚µãƒ¼ãƒ“ã‚¹ã§ã€å®‰å…¨ã§éå¸¸ã«ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ãªãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆ Git ãƒªãƒã‚¸ãƒˆãƒªã‚’ç°¡å˜ã«ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã§ãã¾ã™ã€‚ Amazon CodeCommitï¼ˆå®‰å…¨ã§ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ãªãƒãƒãƒ¼ã‚¸ãƒ‰å‹ã‚½ãƒ¼ã‚¹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚µãƒ¼ãƒ“ã‚¹ï¼‰ | AWS æ–™é‡‘ ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãŒ5äººã¾ã§ ç„¡æ–™ ç‰¹å…¸ ç„¡åˆ¶é™ã®ãƒªãƒã‚¸ãƒˆãƒª 50 GB ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸/æœˆ 10,000 å› ã®Gitãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æœˆ ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãŒ6äººä»¥ä¸Š 1 USD/æœˆ ç‰¹å…¸ ç„¡åˆ¶é™ã®ãƒªãƒã‚¸ãƒˆãƒª ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã« 10 GB ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸/æœˆ ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã« 2000 å› ã® Git ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æœˆ ã¤ã¾ã‚Šã€å€‹äººã§ä½œã£ãŸã‚³ãƒ¼ãƒ‰ã‚’ç®¡ç†ã™ã‚‹åˆ†ã«ã¯ã€ã»ã¼ç„¡æ–™ã®ç¯„å›²å†…ã§åˆ©ç”¨ã§ãã¾ã™ã€‚æœˆã«10,000å›ã‚‚gitãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹ã“ã¨ã¯ç„¡ã„ã¨æ€ã†ã®ã§..ã€‚\nä»®ã«10,000å›ã‚’è¶…ãˆãŸã¨ã—ã¦ã‚‚ã€0.001 USD/Gitãƒªã‚¯ã‚¨ã‚¹ãƒˆ ãªã®ã§å¤§ã—ãŸæ–™é‡‘ã«ã¯ãªã‚‰ãªã„ã§ã—ã‚‡ã†ã€‚ ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ã¤ã„ã¦ã‚‚ã€è¶…éåˆ†ã«ã¤ã„ã¦ã¯ 0.06 USD/GB ã¨ãªã£ã¦ã„ã¾ã™ã€‚\né¡ä¼¼ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®æ¯”è¼ƒ é¡ä¼¼ã®Gitãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦ã¯ã€Webä¸Šã§åˆ©ç”¨ã§ãã‚‹ GitHub ã‚„ã€ã‚µãƒ¼ãƒã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä½¿ç”¨ã™ã‚‹ Gogs ãªã©ãŒã‚ã‚Šã¾ã™ãŒã€ãã‚Œã‚‰ã¨ã®æ¯”è¼ƒã‚’ç°¡å˜ã«æ›¸ãã¾ã™ã€‚(å€‹äººã§ä½¿ç”¨ã™ã‚‹å‰æã§ã™)\næ–™é‡‘ãŒã»ã¼ç„¡æ–™ï¼ˆ GitHubã¯ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã™ã‚‹å ´åˆ $7/æœˆ ï¼‰\n2019å¹´1æœˆã‹ã‚‰ã€ GitHub ã§ã‚‚ç„¡æ–™ã§ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‚’ç„¡åˆ¶é™ã«ä½œæˆã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nNew year, new GitHub: Announcing unlimited free private repos and unified Enterprise offering å°å…¥ãŒç°¡å˜ï¼ˆGitHubã¯èª¬æ˜ãŒEnglishã€Gogsã¯ã‚µãƒ¼ãƒ(PC)ã¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¿…è¦ï¼‰ ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ©Ÿèƒ½ãŒãªã„ï¼ˆGitHubã€Gogså…±ã«æœ‰ã‚Šï¼‰\nãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æ©Ÿèƒ½ãŒä½¿ç”¨å¯èƒ½ã«ãªã‚Šã¾ã—ãŸ ã“ã®ä»–ã€Commitå±¥æ­´ã®å¯è¦–åŒ–ã‚„ã€ã‚¿ã‚°ãƒ»ãƒ–ãƒ©ãƒ³ãƒã®ç®¡ç†ãªã©ã€åŸºæœ¬çš„ãªæ“ä½œã¯GUIã§ã§ãã¾ã™ã€‚\nAWSç‰¹æœ‰ã®æ©Ÿèƒ½ã¨ã—ã¦ã¯ã€ãƒ–ãƒ©ãƒ³ãƒã¸ã®pushãªã©ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã¨ã—ã¦ã€ã‚¢ãƒ©ãƒ¼ãƒˆã‚’é£›ã°ã—ãŸã‚Šã€Lambdaé–¢æ•°ã‚’å®Ÿè¡Œã§ããŸã‚Šã—ã¾ã™ã€‚\nãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã¦sshæ¥ç¶šã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã¾ã§ã®æ‰‹é † ä»Šã™ãå§‹ã‚ã‚‹ ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚\nãƒªãƒã‚¸ãƒˆãƒªå ã¨ èª¬æ˜ ã‚’å…¥åŠ›ã—ã¦ ãƒªãƒã‚¸ãƒˆãƒªã®ä½œæˆ ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚\nã“ã‚Œã§ãƒªãƒã‚¸ãƒˆãƒªãŒä½œæˆã•ã‚Œã¾ã—ãŸã€‚ æ¬¡ã®ç”»é¢ã§ã¯ https ã€ ssh ãã‚Œãã‚Œã§ã®æ¥ç¶šæ–¹æ³•ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã®é€šã‚Šã«æº–å‚™ã‚’ã—ã¦ã„ãã¾ã™ã€‚\nã¾ãšã€sshæ¥ç¶šç”¨ã®ã‚­ãƒ¼ãƒšã‚¢ã‚’ç”Ÿæˆã—ã¾ã™ã€‚æ—¢ã«ã‚­ãƒ¼ãƒšã‚¢ã‚’æŒã£ã¦ã„ã‚‹å ´åˆã¯ã€æ–°ãŸã«ç”Ÿæˆã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ ã“ã“ã‹ã‚‰ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã®æ“ä½œã«ãªã‚Šã¾ã™ã€‚(Macã§ã®ä¾‹ã§ã™)\n$ ssh-keygen Generating public/private rsa key pair. Enter file in which to save the key (/Users/hogehoge/.ssh/id_rsa): /Users/hogehoge/.ssh/codecommit_rsa ;;;ä»»æ„ã®ãƒ‘ã‚¹ã€åå‰ã‚’æŒ‡å®šã—ã¾ã™ Enter passphrase (empty for no passphrase): ;;;ä»»æ„ã®ãƒ‘ã‚¹ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å…¥åŠ›ã—ã¾ã™ Enter same passphrase again: ;;;ä»»æ„ã®ãƒ‘ã‚¹ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å†åº¦å…¥åŠ›ã—ã¾ã™ Your identification has been saved in /Users/hogehoge/.ssh/codecommit_rsa. Your public key has been saved in /Users/hogehoge/.ssh/codecommit_rsa.pub. The key fingerprint is: SHA256:Ha6ETkhmC7muDZmmxzZk8DgRi7XZMpMU8khj4f3qzuQ hogehoge@HOGEHOGE.local The key\u0026#39;s randomart image is: +---[RSA 2048]----+ | o .+oo | | ..o..+. o | |.B.++ ..* | |O E..= + . | |.X... o S | |+. + o | | .B + . | |.o =oo | | .++ooo. | +----[SHA256]-----+ ã“ã‚Œã§ã‚­ãƒ¼ãƒšã‚¢ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚­ãƒ¼ã®å€¤ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚\n$ cat ~/.ssh/codecommit_rsa.pub ssh-rsa AAAAB3NzaCino3r4aa2GpYkIpjzJAOOO8VcZw6eYfJr9RmdDNMS2/qcEk1yc2EAAAADAQABAAABAQDe0jBpJOHTSGuWRLmJT3s7RwGXw3rV56D4BDOasaCz24m3HxA8oXtRLsUZmiAf+LODBpoLPxWuBKfH/n1aseCByrmHV3FXhAHqH2v33EgrEeYm07xB1RifJHn5oXfCDpssfKVGd25FBslDgzjBElDjA+BRRGVI3lkitl2su19AtGa9b/jzj6UtdAc7msuR5ZM+MP/8jnq2zuc2YtMopt/YXdMAYuo1T0y6atVDmCqirSXE0+ITezFwzIEiximRkQHtO2B4CzJE9LF6kSD5RfLY9r0XHWcc+RpuO+QlD hogehoge@HOGEHOGE.local AWS ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«æˆ»ã£ã¦ã€IAMã®ç”»é¢ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚ æ—¢å­˜(ã¾ãŸã¯æ–°è¦)ã®IAMãƒ¦ãƒ¼ã‚¶ã«å¯¾ã—ã¦ã€CodeCommitã¸ã®SSHæ¥ç¶šã‚­ãƒ¼ã‚’è¨­å®šã—ã¾ã™ã€‚\nIAM \u0026gt; ãƒ¦ãƒ¼ã‚¶ãƒ¼ \u0026gt; {ãƒ¦ãƒ¼ã‚¶é¸æŠ} \u0026gt; èªè¨¼æƒ…å ±\nå…ˆã»ã©ã‚³ãƒ”ãƒ¼ã—ãŸ ~/.ssh/codecommit_rsa.pub ã®å†…å®¹ã‚’è²¼ã‚Šä»˜ã‘ã¦ã€ SSHå…¬é–‹ã‚­ãƒ¼ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\nã™ã‚‹ã¨ã€èµ¤æ ã®éƒ¨åˆ†ã« SSHã‚­ãƒ¼ID ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã‚Œã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚\nã“ã“ã‹ã‚‰ã€å†åº¦ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã®ä½œæ¥­ã«ãªã‚Šã¾ã™ã€‚\n$ vi ~/.ssh/config Host git-codecommit.*.amazonaws.com User AAAAAAAAAAAAAA # ã‚³ãƒ”ãƒ¼ã—ãŸ SSHã‚­ãƒ¼ID ã‚’è¨˜è¼‰ IdentityFile ~/.ssh/codecommit_rsa # å…ˆã»ã©ç”Ÿæˆã—ãŸãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã¸ã®ãƒ‘ã‚¹ ã“ã“ã¾ã§ã§ã€sshã®è¨­å®šã¯å®Œäº†ã§ã™ã€‚ã‚ã¨ã¯ push ã™ã‚‹ãªã‚Š pull ã™ã‚‹ãªã‚Š clone ã™ã‚‹ãªã‚Šã€æ™®æ®µé€šã‚ŠGitã‚³ãƒãƒ³ãƒ‰ã‚’å©ã„ã¦ãã ã•ã„ã€‚\n",
    "permalink": "https://michimani.net/post/aws-using-codecommit/",
    "title": "Gitãƒªãƒã‚¸ãƒˆãƒªã¨ã—ã¦AWS CodeCommitã‚’ä½¿ã†"
  },
  {
    "contents": "Amazon Linuxã«Python3ç³»ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚\nç’°å¢ƒ Amazon Linux\nAmazon Linuxã§ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹èµ·å‹•æ™‚ç‚¹ã§Python2ç³»ãŒä½¿ç”¨å¯èƒ½ã§ã™ãŒã€ã“ã‚Œã‹ã‚‰æ–°ã—ãä½•ã‹ã‚’ä½œã‚ã†ã¨ã™ã‚‹ã®ã§ã‚ã‚Œã°3ç³»ã‚’ä½¿ã£ãŸã»ã†ãŒã‚ˆã„ã®ã§ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§Python3ç³»ãŒå‹•ãã‚ˆã†ã«ã—ã¾ã™ã€‚\npython3 ã‚³ãƒãƒ³ãƒ‰ã§3ç³»ã‚’å‹•ã‹ã™ã¨ã„ã†æ‰‹ã‚‚ã‚ã‚Šã¾ã™ãŒã€ä»Šå›ã¯ python ã‚³ãƒãƒ³ãƒ‰ã§3ç³»ãŒå‹•ãã‚ˆã†ã«ã—ã¾ã™ã€‚\nPythonã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç† pyenv ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã€Pythonã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚’è¡Œã„ã¾ã™ã€‚\nä»Šå›ã®ç›®çš„ã¯3ç³»ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã™ãŒã€ã“ã¡ã‚‰ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã™ã‚Œã°ã„ã¤ã§ã‚‚ç°¡å˜ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®2ç³»ã€ã¾ãŸã¯ä»–ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\næ‰‹é † 1. pyenvã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« $ sudo yum install gcc gcc-c++ make git openssl-devel bzip2-devel zlib-devel readline-devel sqlite-devel 2. pyenvã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€æ¨©é™ãƒ»ãƒ‘ã‚¹ã®è¨­å®š $ sudo git clone https://github.com/yyuu/pyenv.git /usr/bin/.pyenv $ cd /usr/bin/.pyenv $ sudo mkdir shims $ sudo mkdir versions ï¼ˆä»»æ„ï¼‰phpã®exec()ã§pythonã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹éš›æ¨©é™ã®ã‚¨ãƒ©ãƒ¼ã¨ãªã£ãŸãŸã‚ã€.pyenvä»¥ä¸‹ã®æ¨©é™ã‚’å¤‰æ›´\n$ sudo chown -R ec2-user:apache /usr/bin/.pyenv # ã‚ã‚‹ã„ã¯apacheãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ $ sudo chown -R ec2-user:ec2-user /usr/bin/.pyenv ãƒ‘ã‚¹è¨­å®š\n$ vi ~/.bashrc ä¸‹è¨˜ã‚’è¿½è¨˜\nexport PYENV_ROOT=\u0026#34;/usr/bin/.pyenv\u0026#34; if [ -d \u0026#34;${PYENV_ROOT}\u0026#34; ]; then export PATH=${PYENV_ROOT}/bin:$PATH eval \u0026#34;$(pyenv init -)\u0026#34; fi $ source ~/.bashrc 3. pythonã®ä»»æ„ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ç¢ºèª\n$ pyenv install --list (...ç•¥...) 2.7.12 2.7.13 2.7.14rc1 3.0.1 3.1 3.1.1 3.1.2 3.1.3 3.1.4 3.1.5 (...ä¸­ç•¥...) 3.5.4 3.6.0 3.6-dev 3.6.1 3.6.2 3.7-dev (...ç•¥...) pythonã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n$ pyenv install 3.6.2 â€»ã“ã®æ™‚ç‚¹ã§ã¯ã¾ã ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ $ python -V Python 2.7.12 ãƒ¡ã‚¤ãƒ³ã§ä½¿ç”¨ã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å¤‰æ›´\n$ pyenv global 3.6.2 $ python -V Python 3.6.2 å…ƒã«æˆ»ã—ãŸã„å ´åˆã€ä»–ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ã„ãŸã„å ´åˆ\n$ pyenv versions system * 3.6.2 (set by /usr/bin/.pyenv/version) $ pyenv global {ä½¿ã„ãŸã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³(system)} ",
    "permalink": "https://michimani.net/post/aws-using-python3-on-amazonlinux/",
    "title": "Amazon Linuxã§Python3ç³»ã‚’ä½¿ã†"
  },
  {
    "contents": "EC2 ã§ä½œã£ãŸ LAMP ç’°å¢ƒ + Application Load Balancer ã§å¸¸æ™‚ SSL ã‚’å®Ÿç¾ã—ã‚ˆã†ã¨ã—ãŸéš›ã«ã€ http â†’ https ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãŒãƒ«ãƒ¼ãƒ—ã—ã¦ã—ã¾ã£ãŸã¨ãã®å¯¾å‡¦æ–¹æ³•ã§ã™ã€‚\nå‰æ SSLè¨¼æ˜æ›¸ã¯AWSã®Certificate Managerã§å–å¾— å–å¾—ã—ãŸSSLè¨¼æ˜æ›¸ã¯ã€ ELB (Application Load Balancer) ã§ä½¿ç”¨ è©°ã¾ã£ãŸç‚¹ å˜ç´”ã«httpâ†’httpsãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚’ã™ã‚‹ã¨ç„¡é™ãƒ«ãƒ¼ãƒ—ã«é™¥ã‚‹ å¸¸æ™‚SSLã«ã™ã‚‹ãŸã‚ã«ã¯ã€httpâ†’https ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãŒå¿…è¦ã§ã™ãŒã€ä¸Šè¨˜ã®å‰æã§å®Ÿç¾ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã“ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãŒç„¡é™ãƒ«ãƒ¼ãƒ—ã¨ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚\nAWSã®ELBã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒ(EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹)ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã®é–“ã«ELBãŒå…¥ã‚Šã¾ã™ã€‚ ã“ã“ã§æ³¨æ„ãŒå¿…è¦ãªã®ãŒã€ELBã‹ã‚‰EC2ã¸ã®é€šä¿¡ã¯httpã ã¨ã„ã†ã“ã¨ã§ã™ã€‚ ã¤ã¾ã‚Šã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒhttpsã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã¦ã‚‚ã€ELBã‹ã‚‰EC2ã¸ã®é€šä¿¡ã¯httpã¨ãªã‚Šã¾ã™ã€‚ãã®çµæœã€Apacheï¼ˆEC2ï¼‰ã§ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ãƒã‚§ãƒƒã‚¯ã‚’ã—ã¦ã‚‚å¸¸ã«httpé€šä¿¡ã ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ ãã®ãŸã‚ã€ã€Œhttpãªã‚‰httpsã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã€ã¨ã„ã†æ¡ä»¶ãŒç„¡é™ãƒ«ãƒ¼ãƒ—ã¨ãªã£ã¦ã—ã¾ã†ã‚ã‘ã§ã™ã€‚\nã“ã‚Œã‚’å›é¿ã™ã‚‹ãŸã‚ã€å¸¸æ™‚SSLã«ã—ãŸã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®.htaccessã¯ä¸‹è¨˜ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã€‚\nRewriteEngine On RewriteCond %{HTTP_USER_AGENT} !^ELB-HealthChecker RewriteCond %{HTTPS} !=on RewriteCond %{HTTP:X-Forwarded-Proto} !=https RewriteRule ^/?(.*) https://%{HTTP_HOST}/$1 [R=301,L] ã“ã®è¨˜è¿°ã§ã¯ã€ä»¥ä¸‹ã®æ¡ä»¶ã«å½“ã¦ã¯ã¾ã‚‹å ´åˆã¯httpsã§ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã™ã‚‹ ã¨ã„ã†è¨˜è¿°ã§ã™ã€‚\nRewriteCond %{HTTP_USER_AGENT} !^ELB-HealthChecker ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒELB-HealthCheckerã‹ã‚‰å§‹ã¾ã‚‰ãªã„ RewriteCond %{HTTPS} !=on é€šä¿¡ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãŒhttpsã§ã¯ãªã„ RewriteCond %{HTTP:X-Forwarded-Proto} !=https HTTPãƒ˜ãƒƒãƒ€ãƒ¼X-Forwarded-Proto ã®å€¤ãŒ httpsã§ã¯ãªã„ 1ã«ã¤ã„ã¦ã¯å¾Œã»ã©æ›¸ãã¾ã™ã€‚\n2, 3ãŒå¸¸æ™‚SSLã«é–¢ã‚ã‚‹éƒ¨åˆ†ã§ã™ã€‚ ç‰¹ã«3ã¤ç›®ã®æ¡ä»¶ã¯ã€AWSã§ELBã‚’ä½¿ç”¨ã—ã¦httpsé€šä¿¡ã‚’å®Ÿç¾ã™ã‚‹éš›ã®å›é¿ç­–ã¨ã—ã¦ã¯å¿…é ˆã¨ãªã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚(ç¾çŠ¶ã§ã¯) HTTPãƒ˜ãƒƒãƒ€ãƒ¼X-Forwarded-Protoã¯ã€ELBã‹ã‚‰EC2ã¸é€šä¿¡ã™ã‚‹éš›ã«ä»˜ä¸ã•ã‚Œã‚‹ãƒ˜ãƒƒãƒ€ãƒ¼æƒ…å ±ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ELBã¸ã®é€šä¿¡ãŒhttpã ã£ãŸå ´åˆã®ã¿ã€httpã¨ã„ã†å€¤ã«ãªã‚‹ ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚ ã“ã®å€¤ã‚’åˆ¤å®šã—ã¦ã€httpsã¸ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚’å®Ÿç¾ã—ã¾ã™ã€‚\n(2ã¯ELBã‚’é€šã—ã¦ã„ã‚‹ä»¥ä¸Šã€ä¸è¦ï¼Ÿã‹ã‚‚ã—ã‚Œã¾ã›ã‚“)\nELBã®ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ãŒã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ å˜ç´”ã«httpâ†’httpsã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã¯å‰é …ã®2, 3ã®ã¿ã§ã‚ˆã„ã®ã§ã™ãŒã€ãã®çŠ¶æ…‹ã§é‹ç”¨ã—ã¦ã„ã‚‹ã¨ELBã®ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ãŒã‚¨ãƒ©ãƒ¼ã¨ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚\nELBã®ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã¨ã¯ã€å®šæœŸçš„ã«ELBã‹ã‚‰EC2ã«é€šä¿¡ã‚’è¡Œã„ã€è¿”ã£ã¦ãã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚³ãƒ¼ãƒ‰ã«ã‚ˆã£ã¦æ­£å¸¸ã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã¦ã„ã¾ã™ã€‚ ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã§ã¯ã€è¿”ã£ã¦ãã‚‹ã‚³ãƒ¼ãƒ‰ãŒ200ä»¥å¤–ã®å ´åˆã¯ã‚¨ãƒ©ãƒ¼ã¨ã™ã‚‹ã‚ˆã†ã§ã™ã€‚ å‰é …ã§æ›¸ã„ãŸ1ã®æ¡ä»¶ãŒç„¡ã„ã¨ã€ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã®ãŸã‚ã®é€šä¿¡ã‚‚httpâ†’httpsãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã€ELBã«è¿”ã™ã‚³ãƒ¼ãƒ‰ã¨ã—ã¦ã¯301ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚\n1ã¯ã€ã“ã‚Œã‚’å›é¿ã™ã‚‹ãŸã‚ã«ã‚¢ã‚¯ã‚»ã‚¹å…ƒã®UserAgentã‚’è¦‹ã¦ã€Œãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã®éš›ã®UserAgentã§ã‚ã‚‹ELB-HealthCheckerã®å ´åˆã¯ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚’ã—ãªã„ã€ã¨ã„ã†è¨˜è¿°ã«ãªã‚Šã¾ã™ã€‚\nå‚è€ƒURL AWSã§æ§‹ç¯‰ã•ã‚ŒãŸã‚µã‚¤ãƒˆã‚’SSLåŒ–ã—ã‚ˆã†ã¨ã—ãŸã‚‰ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ«ãƒ¼ãƒ—ã§ã¯ã¾ã£ãŸ - Qiita ",
    "permalink": "https://michimani.net/post/aws-always-ssl-on-ec2/",
    "title": "Amazon EC2ã§å¸¸æ™‚SSLã‚’å®Ÿç¾ã™ã‚‹éš›ã®æ³¨æ„ç‚¹"
  },
  {
    "contents": "AWS EC2ã«LAMPç’°å¢ƒã‚’æ§‹ç¯‰ã—ãŸã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚DBã‚‚ã€RDSã‚’ä½¿ç”¨ã›ãšã«EC2ã«å…¥ã‚Œã¦ã¾ã™ã€‚\nä½œã‚ŠãŸã„ç’°å¢ƒ Amazon Linux Apache2.4 MySQL 5.6 PHP7 å‰æ EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒèµ·å‹•ã—ã¦ã„ã‚‹ ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‹ã‚‰SSHã§ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹ æ‰‹é † å¿…è¦ãªã‚‚ã®ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ãƒ­ã‚°ã‚¤ãƒ³\n~ $ ssh -i .ssh/your_key.pem ec2-user@{ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®IP} yumã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ\n[ec2-user@ip-***** ~]$ sudo yum update -y Apacheã€MySQLã€PHPã€MySQLãƒ‰ãƒ©ã‚¤ãƒã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n[ec2-user@ip-***** ~]$ sudo yum install -y httpd24 php70 mysql56-server php70-mysqlnd Apacheã€PHPã€MySQLã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª\n# Apache [ec2-user@ip-***** ~]$ httpd -v Server version: Apache/2.4.25 (Amazon) Server built: Jan 19 2017 16:55:49 # PHP [ec2-user@ip-***** ~]$ php -v PHP 7.0.16 (cli) (built: Mar 6 2017 19:45:42) ( NTS ) Copyright (c) 1997-2017 The PHP Group Zend Engine v3.0.0, Copyright (c) 1998-2017 Zend Technologies # MySQL [ec2-user@ip-***** ~]$ sudo service mysqld start ... ... ... Starting mysqld: [ OK ] [ec2-user@ip-***** ~]$ mysql --version mysql Ver 14.14 Distrib 5.6.36, for Linux (x86_64) using EditLine wrapper Apacheã®è¨­å®š èµ·å‹•ãƒ»ã‚¹ã‚¿ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ã®è¡¨ç¤º # ã‚µãƒ¼ãƒ“ã‚¹é–‹å§‹ (èµ·å‹•ã¯ã™ã‚‹ãŒ ServerNameã‚’è¨­å®šã—ã¦ãã ã•ã„ ã¨å‡ºã‚‹(ä¸€æ—¦ã‚¹ãƒ«ãƒ¼)) [ec2-user@ip-***** ~]$ sudo service httpd start Starting httpd: AH00557: httpd: apr_sockaddr_info_get() failed for ip-****** AH00558: httpd: Could not reliably determine the server\u0026#39;s fully qualified domain name, using 127.0.0.1. Set the \u0026#39;ServerName\u0026#39; directive globally to suppress this message [ OK ] #ãƒ–ãƒ©ã‚¦ã‚¶ã§ EC2ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€Apaceã®ã‚¹ã‚¿ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆã®ç¢ºèª [ec2-user@ip-***** ~]$ sudo cat /etc/httpd/conf/httpd.conf | less # ã€Œ/DocumentRootã€ ã§æ¤œç´¢ DocumentRoot \u0026#34;/var/www/html\u0026#34; # èµ·å‹•è¨­å®š [ec2-user@ip-***** ~]$ sudo chkconfig httpd on # ç¢ºèª (2, 3, 4, 5ãŒONã«ãªã£ã¦ã„ã‚Œã°OK) [ec2-user@ip-***** ~]$ chkconfig httpd 0:off\t1:off\t2:on\t3:on\t4:on\t5:on\t6:off ã‚°ãƒ«ãƒ¼ãƒ—è¨­å®š # ec2-user ã‚’ apache ã‚°ãƒ«ãƒ¼ãƒ—ã«è¿½åŠ  [ec2-user@ip-***** ~]$ sudo usermod -a -G apache ec2-user # ä¸€æ—¦ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¦å†åº¦ãƒ­ã‚°ã‚¤ãƒ³ [ec2-user@ip-***** ~]$ groups ec2-user wheel apache # /var/wwwä»¥ä¸‹ã®æ¨©é™ç¢ºèª [ec2-user@ip-***** ~]$ ls -l /var/www/ total 20 drwxr-xr-x 2 root root 4096 Jan 19 16:56 cgi-bin drwxr-xr-x 3 root root 4096 Jun 26 06:18 error drwxr-xr-x 2 root root 4096 Jan 19 16:56 html drwxr-xr-x 3 root root 4096 Jun 26 06:18 icons drwxr-xr-x 2 root root 4096 Jun 26 06:18 noindex # apacheã‚°ãƒ«ãƒ¼ãƒ—ã« /var/www æ‰€æœ‰ãƒ»æ›¸ãè¾¼ã¿æ¨©é™ä»˜ä¸ [ec2-user@ip-***** ~]$ sudo chown -R ec2-user:apache /var/www [ec2-user@ip-***** ~]$ sudo chmod 2775 /var/www/ # /var/www ä»¥ä¸‹ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ¨©é™å¤‰æ›´ [ec2-user@ip-***** ~]$ find /var/www -type d -exec sudo chmod 2775 {} \\; # /var/www ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¨©é™å¤‰æ›´ [ec2-user@ip-***** ~]$ find /var/www -type f -exec sudo chmod 0664 {} \\; httpd.confã®è¨­å®š # ã‚µãƒ¼ãƒç®¡ç†è€…ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ å¤‰æ›´ 87è¡Œç›®ã‚ãŸã‚Š ServerAdmin your_email@example.com # ã‚µãƒ¼ãƒå (ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®šã—ã¦ã‹ã‚‰) # ã‚¯ãƒ­ã‚¹ã‚µã‚¤ãƒˆãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°å¯¾ç­– è¿½è¨˜ TraceEnable Off # ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä¸€è¦§ã‚’éè¡¨ç¤º å¤‰æ›´ 145è¡Œç›®ã‚ãŸã‚Š Options -Indexes +FollowSymLinks # cgi-binä½¿ç”¨ã—ãªã„ 248ã€œ260è¡Œç›®ã‚ãŸã‚Š # ScriptAlias /cgi-bin/ \u0026#34;/var/www/cgi-bin/\u0026#34; #\u0026lt;Directory \u0026#34;/var/www/cgi-bin\u0026#34;\u0026gt; # AllowOverride None # Options None # Require all granted #\u0026lt;/Directory\u0026gt; security.confã®è¨­å®š(æ–°è¦ä½œæˆ) ServerTokens Prod Header unset X-Powered-By # httpoxy å¯¾ç­– RequestHeader unset Proxy # ã‚¯ãƒªãƒƒã‚¯ã‚¸ãƒ£ãƒƒã‚­ãƒ³ã‚°å¯¾ç­– Header append X-Frame-Options SAMEORIGIN # XSSå¯¾ç­– Header set X-XSS-Protection \u0026#34;1; mode=block\u0026#34; Header set X-Content-Type-Options nosniff # XSTå¯¾ç­– TraceEnable Off \u0026lt;Directory /var/www/html\u0026gt; # .htaccess ã®æœ‰åŠ¹åŒ– AllowOverride All # ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§å‡ºåŠ›ã®ç¦æ­¢ Options -Indexes \u0026lt;/Directory\u0026gt; Welcomeãƒšãƒ¼ã‚¸éè¡¨ç¤º /etc/httpd/conf.d/welcome.conf ä¸­èº«ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ\nApacheå†èµ·å‹•\n[ec2-user@ip-***** ~]$ sudo service httpd restart phpinfoã®è¨­ç½® [ec2-user@ip-***** ~]$ vi /var/www/html/phpinfo.php \u0026lt;?php echo phpinfo(); # ãƒ–ãƒ©ã‚¦ã‚¶ã§ IPã‚¢ãƒ‰ãƒ¬ã‚¹/phpinfo.php ã«ã‚¢ã‚¯ã‚»ã‚¹ # ç¢ºèªå¾Œã€phpinfo.phpã‚’å‰Šé™¤ [ec2-user@ip-***** ~]$ rm /var/www/html/phpinfo.php PHPè¨­å®š [ec2-user@ip-***** ~]$ sudo cp /etc/php.ini /etc/php.ini.org # ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³è¨­å®š - ;date.timezone = + date.timezone = Asia/Tokyo # æ—¥æœ¬èªè¨­å®š - ;mbstring.internal_encoding = + mbstring.internal_encoding = UTF-8 - ;mbstring.language = Japanese + mbstring.language = Japanese - ;mbstring.http_input = + mbstring.http_input = auto - ;mbstring.detect_order = auto + mbstring.detect_order = auto MySQLã®è¨­å®š èµ·å‹• [ec2-user@ip-***** ~]$ sudo /etc/init.d/mysqld start ... Starting mysqld: [ OK ] èµ·å‹•è¨­å®š [ec2-user@ip-***** ~]$ sudo chkconfig mysqld on åˆæœŸè¨­å®š [ec2-user@ip-***** ~]$ sudo mysql_secure_installation ... ... Enter current password for root (enter for none): # Enterã‚­ãƒ¼ Set root password? [Y/n] # rootã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã‹ã€‚ # Y New password: # ä»»æ„ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ› Re-enter new password: # ã‚‚ã†ä¸€åº¦å…¥åŠ› Password updated successfully! Remove anonymous users? [Y/n] # åŒ¿åãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å‰Šé™¤ã™ã‚‹ã‹ã©ã†ã‹ã€‚ # Y Disallow root login remotely? [Y/n] # rootãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒªãƒ¢ãƒ¼ãƒˆãƒ›ã‚¹ãƒˆã‹ã‚‰ã®ãƒ­ã‚°ã‚¤ãƒ³ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹ã‹ã©ã†ã‹ã€‚ # Y Remove test database and access to it? [Y/n] # testãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’å‰Šé™¤ã™ã‚‹ã‹ã€‚ # Y Reload privilege tables now? [Y/n] # ã“ã‚Œã‚‰ã®å¤‰æ›´ã‚’å³åº§ã«åæ˜ ã™ã‚‹ã‹ã€‚ # Y ... Thanks for using MySQL! Cleaning up... mysqlã¸ãƒ­ã‚°ã‚¤ãƒ³ [ec2-user@ip-***** ~]$ mysql -u root -p Enter password: # åˆæœŸè¨­å®šã§è¨­å®šã—ãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 14 Server version: 5.6.36 MySQL Community Server (GPL) Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved. ... mysql\u0026gt; ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¿½åŠ  # ç¾åœ¨ã®çŠ¶æ…‹ã‚’ç¢ºèª mysql\u0026gt; show databases; +--------------------+ | Database | +--------------------+ | information_schema | | mysql | | performance_schema | +--------------------+ # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€Œtest_app_dbã€ã‚’è¿½åŠ  mysql\u0026gt; create database test_app_db character set utf8; # ç¢ºèª mysql\u0026gt; show databases; +--------------------+ | Database | +--------------------+ | information_schema | | mysql | | performance_schema | | test_app_db | +--------------------+ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¦ãƒ¼ã‚¶è¿½åŠ  # ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶è¨­å®šç¢ºèª mysql\u0026gt; select Host, User, Password from mysql.user; +-----------+------+-------------------------------------------+ | Host | User | Password | +-----------+------+-------------------------------------------+ | localhost | root | *1234567890ABCDEFGHIJ0987654321KLMNOPQRST| | 127.0.0.1 | root | *1234567890ABCDEFGHIJ0987654321KLMNOPQRST| | ::1 | root | *1234567890ABCDEFGHIJ0987654321KLMNOPQRST| +-----------+------+-------------------------------------------+ # ãƒ¦ãƒ¼ã‚¶ã€Œapp_userã€ã‚’è¿½åŠ  (ãƒ¦ãƒ¼ã‚¶åã¯16æ–‡å­—ä»¥å†…) mysql\u0026gt; create user \u0026#39;app_user\u0026#39;@\u0026#39;localhost\u0026#39; identified by \u0026#39;ä»»æ„ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰\u0026#39;; # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€Œtest_app_dbã€ã«ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ # æ¨©é™ã¯ã€ALL mysql\u0026gt; grant ALL on test_app_db.* to \u0026#39;app_user\u0026#39;@\u0026#39;localhost\u0026#39;; # è¨­å®šã®åæ˜  mysql\u0026gt; flush privileges; # æ¨©é™ã®ç¢ºèª mysql\u0026gt; show grants for \u0026#39;app_user\u0026#39;@\u0026#39;localhost\u0026#39;; +--------------------------------------------------------------------------------------------------------------------+ | Grants for app_user@localhost | +--------------------------------------------------------------------------------------------------------------------+ | GRANT USAGE ON *.* TO \u0026#39;app_user\u0026#39;@\u0026#39;localhost\u0026#39; IDENTIFIED BY PASSWORD \u0026#39;*ABCDEFGHIJ0987654321KLMNOPQRST1234567890\u0026#39; | | GRANT ALL PRIVILEGES ON `test_app_db`.* TO \u0026#39;app_user\u0026#39;@\u0026#39;localhost\u0026#39; | +--------------------------------------------------------------------------------------------------------------------+ # ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ mysql\u0026gt; quit Bye # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¦ãƒ¼ã‚¶ã§ãƒ­ã‚°ã‚¤ãƒ³ [ec2-user@ip-***** ~]$ mysql -u app_user -p # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ç¢ºèª mysql\u0026gt; show databases; +--------------------+ | Database | +--------------------+ | information_schema | | test_app_db | +--------------------+ mysql\u0026gt; quit phpMyAdminã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« # ã€ŒEPELã€ãƒªãƒã‚¸ãƒˆãƒªæœ‰åŠ¹åŒ– [ec2-user@ip-***** ~]$ sudo yum-config-manager --enable epel # phpMyAdminã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« [ec2-user@ip-***** ~]$ sudo yum install -y phpMyAdmin # ã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸ Error: php70-common conflicts with php-common-5.3.29-1.8.amzn1.x86_64 Error: php56-common conflicts with php-common-5.3.29-1.8.amzn1.x86_64 Error: php56-process conflicts with php-process-5.3.29-1.8.amzn1.x86_64 You could try using --skip-broken to work around the problem You could try running: rpm -Va --nofiles --nodigest # æ‰‹å‹•ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« [ec2-user@ip-***** ~]$ cd /var/www/html [ec2-user@ip-***** html]$ sudo wget https://files.phpmyadmin.net/phpMyAdmin/4.6.6/phpMyAdmin-4.6.6-all-languages.tar.gz [ec2-user@ip-***** html]$ sudo tar xzvf phpMyAdmin-4.6.6-all-languages.tar.gz [ec2-user@ip-***** html]$ sudo mv phpMyAdmin-4.6.6-all-languages phpMyAdmin [ec2-user@ip-***** html]$ sudo rm phpMyAdmin-4.6.6-all-languages.tar.gz [ec2-user@ip-***** html]$ cd phpMyAdmin [ec2-user@ip-***** phpMyAdmin]$ sudo cp config.sample.inc.php config.inc.php # IPã‚¢ãƒ‰ãƒ¬ã‚¹/phpMyAdmin ã§ã‚¢ã‚¯ã‚»ã‚¹ # PHPã®ã€Œmbstringã€æ‹¡å¼µãŒç„¡ã„ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ã®ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« [ec2-user@ip-***** ~]$ sudo yum install -y php70-mbstring # Apaceå†èµ·å‹• [ec2-user@ip-***** ~]$ sudo service httpd restart # .htaccessã§phpMyAdminã¸ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ [ec2-user@ip-***** phpMyAdmin]$ sudo vi .htaccess order deny,allow deny from all allow from **.***.***.*** # ãƒ–ãƒ©ã‚¦ã‚¶ã§ [IPã‚¢ãƒ‰ãƒ¬ã‚¹]/phpMyAdmin ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹ã‹ç¢ºèª phpMyAdminã®ç’°å¢ƒä¿è­·é ˜åŸŸè¨­å®š ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸéš›ã€ç”»é¢ä¸‹ã«ã€ŒphpMyAdmin ç’°å¢ƒä¿ç®¡é ˜åŸŸãŒå®Œå…¨ã«è¨­å®šã•ã‚Œã¦ã„ãªã„ãŸã‚ã€ã„ãã¤ã‹ã®æ‹¡å¼µæ©Ÿèƒ½ãŒç„¡åŠ¹ã«ãªã£ã¦ã„ã¾ã™ã€‚ã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ãŸå ´åˆã€åˆæœŸè¨­å®šãŒå¿…è¦ã€‚\nã¾ãšã€phpMyAdminã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ã‚ã‚‹ create_tables.sql ã‚’æµã™ /phpMyAdmin/sql/create_tables.sql\n# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¦ãƒ¼ã‚¶ã« phpMyAdminãƒ†ãƒ¼ãƒ–ãƒ«ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã‚’ä»˜ä¸ã™ã‚‹ [ec2-user@ip-***** ~]$ mysql -u root -p # ç¾åœ¨ã®æ¨©é™ç¢ºèª mysql\u0026gt; show grants for \u0026#39;app_user\u0026#39;@\u0026#39;localhost\u0026#39;; +--------------------------------------------------------------------------------------------------------------------+ | Grants for app_user@localhost | +--------------------------------------------------------------------------------------------------------------------+ | GRANT USAGE ON *.* TO \u0026#39;app_user\u0026#39;@\u0026#39;localhost\u0026#39; IDENTIFIED BY PASSWORD \u0026#39;*ABCDEFGHIJ0987654321KLMNOPQRST1234567890\u0026#39; | | GRANT ALL PRIVILEGES ON `test_app_db`.* TO \u0026#39;app_user\u0026#39;@\u0026#39;localhost\u0026#39; | +--------------------------------------------------------------------------------------------------------------------+ 2 rows in set (0.00 sec) # select, insert, update ,deleteã®æ¨©é™ã‚’ä»˜ä¸ mysql\u0026gt; grant select, insert, update, delete on phpmyadmin.* to \u0026#39;app_user\u0026#39;@\u0026#39;localhost\u0026#39;; # è¨­å®šã‚’åæ˜  mysql\u0026gt; flush privileges; # ç¢ºèª mysql\u0026gt; show grants for \u0026#39;app_user\u0026#39;@\u0026#39;localhost\u0026#39;; +--------------------------------------------------------------------------------------------------------------------+ | Grants for app_user@localhost | +--------------------------------------------------------------------------------------------------------------------+ | GRANT USAGE ON *.* TO \u0026#39;app_user\u0026#39;@\u0026#39;localhost\u0026#39; IDENTIFIED BY PASSWORD \u0026#39;*ABCDEFGHIJ0987654321KLMNOPQRST1234567890\u0026#39; | | GRANT SELECT, INSERT, UPDATE, DELETE ON `phpmyadmin`.* TO \u0026#39;app_user\u0026#39;@\u0026#39;localhost\u0026#39; | | GRANT ALL PRIVILEGES ON `test_app_db`.* TO \u0026#39;app_user\u0026#39;@\u0026#39;localhost\u0026#39; | +--------------------------------------------------------------------------------------------------------------------+ 3 rows in set (0.00 sec) # config.inc.php ã®ç·¨é›† [ec2-user@ip-***** ~]$ sudo vi /var/www/html/phpMyAdmin/config.inc.php # ä»¥ä¸‹ã®è¨˜è¿°ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã‚’è§£é™¤ã™ã‚‹ /* Storage database and tables */ // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;pmadb\u0026#39;] = \u0026#39;phpmyadmin\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;bookmarktable\u0026#39;] = \u0026#39;pma__bookmark\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;relation\u0026#39;] = \u0026#39;pma__relation\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;table_info\u0026#39;] = \u0026#39;pma__table_info\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;table_coords\u0026#39;] = \u0026#39;pma__table_coords\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;pdf_pages\u0026#39;] = \u0026#39;pma__pdf_pages\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;column_info\u0026#39;] = \u0026#39;pma__column_info\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;history\u0026#39;] = \u0026#39;pma__history\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;table_uiprefs\u0026#39;] = \u0026#39;pma__table_uiprefs\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;tracking\u0026#39;] = \u0026#39;pma__tracking\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;userconfig\u0026#39;] = \u0026#39;pma__userconfig\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;recent\u0026#39;] = \u0026#39;pma__recent\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;favorite\u0026#39;] = \u0026#39;pma__favorite\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;users\u0026#39;] = \u0026#39;pma__users\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;usergroups\u0026#39;] = \u0026#39;pma__usergroups\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;navigationhiding\u0026#39;] = \u0026#39;pma__navigationhiding\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;savedsearches\u0026#39;] = \u0026#39;pma__savedsearches\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;central_columns\u0026#39;] = \u0026#39;pma__central_columns\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;designer_settings\u0026#39;] = \u0026#39;pma__designer_settings\u0026#39;; // $cfg[\u0026#39;Servers\u0026#39;][$i][\u0026#39;export_templates\u0026#39;] = \u0026#39;pma__export_templates\u0026#39;; è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç”¨ãƒ‘ã‚¹ãƒ•ãƒ¬ãƒ¼ã‚ºã®è¨­å®š ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã«ã€Œè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã€æš—å·åŒ– (blowfish_secret) ç”¨ã®éå…¬é–‹ãƒ‘ã‚¹ãƒ•ãƒ¬ãƒ¼ã‚ºã®è¨­å®šã‚’å¿…è¦ã¨ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å ´åˆã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ‘ã‚¹ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’è¿½è¨˜ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\n[ec2-user@ip-***** ~]$ sudo vi /var/www/html/phpMyAdmin/config.inc.php # ä¸‹è¨˜ã®éƒ¨åˆ†ã«ä»»æ„ã®æ–‡å­—åˆ—(32æ–‡å­—ä»¥ä¸Š)ã‚’å…¥åŠ› /** * This is needed for cookie based authentication to encrypt password in * cookie. Needs to be 32 chars long. */ $cfg[\u0026#39;blowfish_secret\u0026#39;] = \u0026#39;\u0026#39;; /* YOU MUST FILL IN THIS FOR COOKIE AUTH! */ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è‡ªå‹•ç”Ÿæˆ ãã®ä»– æ™‚åˆ»è¨­å®š [ec2-user@ip-***** ~]$ sudo vi /etc/sysconfig/clock ZONE=\u0026#34;Asia/Tokyo\u0026#34; UTC=false [ec2-user@ip-***** ~]$ sudo cp /usr/share/zoneinfo/Japan /etc/localtime [ec2-user@ip-***** ~]$ sudo /etc/init.d/crond restart [ec2-user@ip-***** ~]$ date Tue Jun 27 10:20:25 JST 2017 git [ec2-user@ip-***** ~]$ sudo yum install -y git [ec2-user@ip-***** ~]$ git --version git version 2.7.5 composer [ec2-user@ip-***** ~]$ curl -sS https://getcomposer.org/installer | php All settings correct for using Composer Downloading... Composer (version 1.4.2) successfully installed to: /home/ec2-user/composer.phar Use it: php composer.phar [ec2-user@ip-***** ~]$ sudo mv composer.phar /usr/local/bin/composer [ec2-user@ip-***** ~]$ composer ______ / ____/___ ____ ___ ____ ____ ________ _____ / / / __ \\/ __ `__ \\/ __ \\/ __ \\/ ___/ _ \\/ ___/ / /___/ /_/ / / / / / / /_/ / /_/ (__ ) __/ / \\____/\\____/_/ /_/ /_/ .___/\\____/____/\\___/_/ /_/ Composer version 1.4.2 2017-05-17 08:17:52 å‚è€ƒURL Amazon Linux ã¸ã® LAMP ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒãƒ¼ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« EC2ã«MySQLã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨è¨­å®šç¢ºèª MySQL 5.6 ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ãƒãƒ‹ãƒ¥ã‚¢ãƒ« :: 6.3.2 ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®è¿½åŠ  [MySQL]ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ä½œæˆã€ãƒ¦ãƒ¼ã‚¶ã®è¿½åŠ ã¨æ¨©é™ã®è¨­å®š AWSã®Apache2.4ã®åˆæœŸè¨­å®šã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š Apacheã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š phpMyAdminã®ä½¿ã„æ–¹ ",
    "permalink": "https://michimani.net/post/aws-lamp-environment-on-ec2/",
    "title": "AWS EC2ã«LAMPç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹ã¾ã§"
  },
  {
    "contents": "ã€Œã•ãã‚‰ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼ã€€Laravelã€ã§æ¤œç´¢ã™ã‚‹ã¨æ§˜ã€…ãªå†…å®¹ãŒã§ã¦ãã¾ã™ãŒã€å®Ÿéš›ã«è‡ªåˆ†ã§ã‚„ã£ãŸå†…å®¹ã«ã¤ã„ã¦ã¾ã¨ã‚ã¦ãŠããŸã„ã¨æ€ã„ã¾ã™ã€‚\nå‰æ ç’°å¢ƒ ã•ãã‚‰ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼ (ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³) PHP5.6 (5.6ä»¥ä¸Šã§ã‚ã‚Œã°OK) MySQL5.5 é‹ç”¨æ–¹æ³• ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¿½åŠ ã—ã¦ã€ãã“ã§é‹ç”¨\nå…·ä½“çš„ã«ã¯ã€ã•ãã‚‰ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ‘ãƒãƒ«ã‹ã‚‰ hogehoge.hoge ã¨ã„ã†ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¿½åŠ ã—ã¦ã€æŒ‡å®šãƒ•ã‚©ãƒ«ãƒ€ã‚’ /home/{ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå}/www/hoge/public/ ã«ã—ã¾ã™ã€‚\nã‚„ã£ãŸã“ã¨ Laravelãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ ã¾ãšã¯Laravelãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆã«ã¤ã„ã¦ã§ã™ãŒã€ã“ã‚Œã«ã¤ã„ã¦ã¯æ—¢ã«ä»–ã®æ–¹ã€…ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹å†…å®¹ã®é€šã‚Šã«é€²ã‚ã‚Œã°å¤§ä¸ˆå¤«ã§ã™ã€‚(ã“ã“ã¯ä¸¸æŠ•ã’ã§)\nç°¡å˜ãªæµã‚Œã ã‘æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nã•ãã‚‰ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼ã« composer ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ composer ã‚’ä½¿ç”¨ã—ã¦ Laravelãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ã‚’ä½œæˆã™ã‚‹ ä»¥ä¸Šã§ã™ã€‚(ã–ã£ãã‚Šã¨)\nåƒ•ãŒå‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã®ã¯ä¸‹è¨˜ã®è¨˜äº‹ã§ã™ã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚ ã•ãã‚‰ã®ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼ Laravel5 ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ä¸Šè¨˜è¨˜äº‹ã§ã¯ /home/{ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå}/ é…ä¸‹ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¦ã„ã¾ã™ãŒã€å‰ææ¡ä»¶ã§æ›¸ãã¾ã—ãŸé€šã‚Šã€ /home/{ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå}/www/ é…ä¸‹ã« hoge ã¨ã„ã†ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹ã¨ã„ã†å½¢ã§è©±ã‚’é€²ã‚ã¾ã™ã€‚\nã¨ã„ã†ã“ã¨ã§ã€ä¸Šè¨˜è¨˜äº‹ã§æ›¸ã‹ã‚Œã¦ã„ã‚‹ã€Œpublicãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã‚³ãƒ”ãƒ¼ã€ã¯ä¸è¦ã§ã™ã€‚\n.htaccessã®å†…å®¹å¤‰æ›´ ã¾ãšã€ã‚ˆãæ›¸ã‹ã‚Œã¦ã„ã‚‹ public/.htaccess ã®ä¿®æ­£å†…å®¹ã§ã™ã€‚ Laravelãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸçŠ¶æ…‹ã‹ã‚‰ã®å·®åˆ†ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\n\u0026lt;IfModule mod_rewrite.c\u0026gt; \u0026lt;IfModule mod_negotiation.c\u0026gt; Options -MultiViews \u0026lt;/IfModule\u0026gt; RewriteEngine On # Redirect Trailing Slashes If Not A Folder... RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)/$ /$1 [L,R=301] + RewriteBase / # Handle Front Controller... RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteRule ^ index.php [L] \u0026lt;/IfModule\u0026gt; ã•ãã‚‰ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼ã§Laravelã‚’å‹•ã‹ã™è¨˜äº‹ã§ã‚ˆãæ›¸ã‹ã‚Œã¦ã„ã‚‹ã®ãŒ\nOptions -MultiViews éƒ¨åˆ†ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã™ã‚‹\nã¨ã„ã†å†…å®¹ã§ã™ãŒã€ä»Šå¹´ã®3æœˆä¸­æ—¬ä»¥é™ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã•ãã‚‰ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼ã«ã¦Apacheã®ã‚·ã‚¹ãƒ†ãƒ è¨­å®šå¤‰æ›´ãŒã‚ã‚Šã€ .htaccess å†…ã§ã€æ¡ä»¶ä»˜ãã§ã¯ã‚ã‚Šã¾ã™ãŒ Options ã®æŒ‡å®šãŒå¯èƒ½ã«ãªã£ã¦ã„ã¾ã™ã€‚\nâ€»1 .htaccess ã«ã¦ Options ãŒè¨­å®šå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ è‡ªå‹•ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ©Ÿèƒ½ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç„¡åŠ¹ã¨ãªã‚Šã¾ã™ã€‚ è©³ç´°ãªæƒ…å ±ã¯å¾Œæ—¥å…¬é–‹ã„ãŸã—ã¾ã™ã€‚ 2017å¹´02æœˆ28æ—¥è¿½è¨˜ Options ã§ã¯ã€All,FollowSymLinks ä»¥å¤–ã®æ©Ÿèƒ½ãŒè¨­å®šå¯èƒ½ã§ã™ã€‚\nãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ»éšœå®³æƒ…å ±ãƒ»æ©Ÿèƒ½è¿½åŠ ï½œã•ãã‚‰ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆå…¬å¼ã‚µãƒãƒ¼ãƒˆã‚µã‚¤ãƒˆ DBè¨­å®š åŸºæœ¬çš„ã«ã¯ .env ã®å†…å®¹å¤‰æ›´ã¨ãªã‚Šã¾ã™ã€‚\nAPP_ENV=local APP_DEBUG=true APP_KEY=*********************************** DB_CONNECTION=mysql - DB_HOST=127.0.0.1 + DB_HOST=mysql***.db.sakura.ne.jp // ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ‘ãƒãƒ« \u0026gt; ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®è¨­å®š ã§ç¢ºèª - DB_DATABASE=homestead + DB_USERNAME=hogehogeid - DB_PASSWORD=homestead + DB_PASSWORD=hogehogepass CACHE_DRIVER=file SESSION_DRIVER=file QUEUE_DRIVER=sync REDIS_HOST=127.0.0.1 REDIS_PASSWORD=null REDIS_PORT=6379 MAIL_DRIVER=smtp MAIL_HOST=mailtrap.io MAIL_PORT=2525 MAIL_USERNAME=null MAIL_PASSWORD=null MAIL_ENCRYPTION=null .env ã®å†…å®¹å¤‰æ›´ã§æ¥ç¶šè‡ªä½“ã¯å¯èƒ½ã«ãªã‚Šã¾ã™ãŒã€php artisan migrate ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸéš›ã«ä½œæˆã•ã‚Œã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç…§åˆé †åºã‚’å¤‰æ›´ã™ã‚‹å ´åˆã¯ã€config/database.php å†…ã§ã®æŒ‡å®šãŒå¿…è¦ã§ã™ã€‚\n\u0026#39;mysql\u0026#39; =\u0026gt; [ \u0026#39;driver\u0026#39; =\u0026gt; \u0026#39;mysql\u0026#39;, \u0026#39;host\u0026#39; =\u0026gt; env(\u0026#39;DB_HOST\u0026#39;, \u0026#39;localhost\u0026#39;), \u0026#39;database\u0026#39; =\u0026gt; env(\u0026#39;DB_DATABASE\u0026#39;, \u0026#39;forge\u0026#39;), \u0026#39;username\u0026#39; =\u0026gt; env(\u0026#39;DB_USERNAME\u0026#39;, \u0026#39;forge\u0026#39;), \u0026#39;password\u0026#39; =\u0026gt; env(\u0026#39;DB_PASSWORD\u0026#39;, \u0026#39;\u0026#39;), \u0026#39;charset\u0026#39; =\u0026gt; \u0026#39;utf8\u0026#39;, - \u0026#39;collation\u0026#39; =\u0026gt; \u0026#39;utf8_unicode_ci\u0026#39;, + \u0026#39;collation\u0026#39; =\u0026gt; \u0026#39;utf8_general_ci\u0026#39;, \u0026#39;prefix\u0026#39; =\u0026gt; \u0026#39;\u0026#39;, \u0026#39;strict\u0026#39; =\u0026gt; false, ], assetsãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª css ã‚„ js ãªã©ã‚’æ ¼ç´ã™ã‚‹ assets ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã™ãŒã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ resources/assets ã«è¨­ç½®ã•ã‚Œã¦ã„ã¾ã™ã€‚ ãŒã€ blade ã«ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ assets() ãƒ¡ã‚½ãƒƒãƒ‰ã§å‚ç…§ã™ã‚‹ã®ã¯ public ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã¨ã„ã†ã“ã¨ãªã®ã§ã€ resources/assets ã«ã¤ã„ã¦ã¯ä½¿ç”¨ã›ãšã€ public/assets ã‚’æ–°ãŸã«ä½œæˆã—ã¦ã€ãã“ã« css ã‚„ js ã‚’æ ¼ç´ã—ã¦ã„ãã¾ã™ã€‚\nã¾ã¨ã‚ assets ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æ–°ãŸã«ä½œæˆã—ãŸã“ã¨ä»¥å¤–ã¯ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’å¤‰æ›´ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ .htaccess ã«ã¤ã„ã¦ã‚‚ã€ã•ãã‚‰ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼ã®Apacheã‚·ã‚¹ãƒ†ãƒ å¤‰æ›´ã«ã‚ˆã‚Šã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã‚’ã™ã‚‹å¿…è¦ãŒãªããªã‚Šã¾ã—ãŸã€‚è¿½è¨˜ã¯å¿…è¦ã§ã™ãŒã€‚ DBè¨­å®šã«ã¤ã„ã¦ã‚‚æ—¢ã«å¤šãã®æ–¹ãŒæ›¸ã„ã¦ãŠã‚‰ã‚Œã‚‹å†…å®¹ã€ãŠã‚ˆã³å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«æ›¸ã‹ã‚Œã¦ã„ã‚‹å†…å®¹ã§ã™ãŒã€ç…§åˆé †åºã«ã¤ã„ã¦ã¯ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œã£ãŸã‚ã¨ã«ç™ºè¦šã—ãŸã®ã§ã€ã‚‚ã—å¤‰æ›´ã•ã‚Œã‚‹æ–¹ã¯æ³¨æ„ã—ã¦ãã ã•ã„ã€‚\n",
    "permalink": "https://michimani.net/post/php-run-laravel-at-sakura/",
    "title": "ã•ãã‚‰ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼ã§Laravel5.1ãŒå‹•ãã‚ˆã†ã«ãªã‚‹ã¾ã§ã«ã—ãŸã“ã¨"
  },
  {
    "contents": "ãƒªã‚¹ãƒˆã‚„ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç”¨ã‚’ã®é †ç•ªã‚’ãƒ‰ãƒ©ãƒƒã‚°\u0026amp;ãƒ‰ãƒ­ãƒƒãƒ—ã§å…¥ã‚Œæ›¿ãˆã‚‹UIãŒã‚ˆãã‚ã‚Šã¾ã™ãŒã€ãã®å®Ÿè£…æ–¹æ³•ãŒæ€ã£ãŸã‚ˆã‚Šç°¡å˜ã§ã—ãŸã€‚\niPhone, iPadã§ã‚‚ç§»å‹•ã§ãã¾ã™ã€‚\nå¿…è¦ãªjsãƒ•ã‚¡ã‚¤ãƒ« jquery.js jquery-ui.js jqyery-ui.touch-punch.js æ›¸ãæ–¹(ãƒªã‚¹ãƒˆã®å ´åˆ) \u0026lt;ul id=\u0026#34;sortable-list\u0026#34;\u0026gt; \u0026lt;li\u0026gt;ãƒ‰ãƒ©ãƒƒã‚°\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;ã‚¢ãƒ³ãƒ‰\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;ãƒ‰ãƒ­ãƒƒãƒ—\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;ç§»å‹•ã§ãã‚‹\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;ãƒªã‚¹ãƒˆã§ã™\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; ulã«æŒ‡å®šã™ã‚‹idã¯ä»»æ„ã§ã™ã€‚\n$(function() { $(\u0026#39;#sortable-list\u0026#39;).sortable({ items: \u0026#39;li\u0026#39;, cursor: \u0026#39;move\u0026#39;, opacity: 0.5 }); $(\u0026#39;#sortable-first\u0026#39;).disableSelection(); }); å„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®æ„å‘³ã§ã™ãŒã€\nitems ãƒ»ãƒ»ãƒ» ç§»å‹•ã•ã›ã‚‹è¦ç´  cursor ãƒ»ãƒ»ãƒ» è¦ç´ ã‚’æ´ã‚“ã§ã„ã‚‹ã¨ãã«ã‚¢ã‚¤ã‚³ãƒ³ã®ã‚ˆã†ãªã‚‚ã®ã‚’è¡¨ç¤ºã™ã‚‹ã‹ã©ã†ã‹ opacityãƒ»ãƒ»ãƒ»æ´ã‚“ã§ã„ã‚‹è¦ç´ ã‚’é€éã•ã›ã‚‹ã‹ã©ã†ã‹ ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚\næ›¸ãæ–¹(ãƒ†ãƒ¼ãƒ–ãƒ«ã®å ´åˆ) \u0026lt;table id=\u0026#34;sortable-table\u0026#34;\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;ãƒ‰ãƒ©ãƒƒã‚°\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;ã‚¢ãƒ³ãƒ‰\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;ãƒ‰ãƒ­ãƒƒãƒ—\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;ç§»å‹•ã§ãã‚‹\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;ãƒ†ãƒ¼ãƒ–ãƒ«ã§ã™\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/table\u0026gt; $(function() { $(\u0026#39;#sortable-table\u0026#39;).sortable({ items: \u0026#39;tr\u0026#39;, cursor: \u0026#39;move\u0026#39;, opacity: 0.5 }); $(\u0026#39;#sortable-first\u0026#39;).disableSelection(); }); iOSã§ã®ã‚»ãƒ¬ã‚¯ãƒˆãƒªã‚¹ãƒˆã®ä»£ã‚ã‚Šã«ãªã‚‹ï¼Ÿ ã“ã†ã„ã£ãŸé …ç›®ã®é †åºå…¥ã‚Œæ›¿ãˆã«ã¯ã‚»ãƒ¬ã‚¯ãƒˆãƒªã‚¹ãƒˆã‚’ä½¿ç”¨ã™ã‚‹å ´åˆãŒå¤šã„ã‹ã¨æ€ã„ã¾ã™ãŒã€iOSã®Safariã§ã¯ã‚»ãƒ¬ã‚¯ãƒˆãƒªã‚¹ãƒˆã®è¡¨ç¤ºãŒãƒ­ãƒ¼ãƒ«å¼ã«ãªã£ã¦ãŠã‚Šã€é †åºã‚’å…¥ã‚Œæ›¿ãˆã‚‹ã¨ã„ã†ä½¿ã„æ–¹ã§ã¯éå¸¸ã«è¦‹ã«ãã„ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\né …ç›®ã®é †åºã‚’å…¥ã‚Œæ›¿ãˆã‚‹ã¨ã„ã†ç›®çš„ã§ã‚ã‚Œã°ã€ã“ã¡ã‚‰ã§ä»£ç”¨ã§ããã†ã§ã™ã€‚\nå‚è€ƒã«ã—ãŸã‚µã‚¤ãƒˆ ã€jQueryã€‘iPadãƒ»iPnoneã«ã‚‚å¯¾å¿œï¼ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ã§ç§»å‹•ã§ãã‚‹ãƒªã‚¹ãƒˆã‚’ä½œã‚‹æ–¹æ³• ",
    "permalink": "https://michimani.net/post/javascript-drag-drop-list-items/",
    "title": "ãƒªã‚¹ãƒˆã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®è¦ç´ ã‚’ãƒ‰ãƒ©ãƒƒã‚°\u0026ãƒ‰ãƒ­ãƒƒãƒ—ã§ç§»å‹•ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹"
  },
  {
    "contents": "ã‚¿ã‚¤ãƒˆãƒ«ã®é€šã‚Šã§ã™ãŒã€bootstrapæ¨™æº–ã®modal.jsã‚’ä½¿ç”¨ã—ã¦è¡¨ç¤ºã—ãŸãƒ¢ãƒ¼ãƒ€ãƒ«ä¸Šã§ã€bootstrap-datepicker.jsã‚’ä½¿ç”¨ã—ãŸæ—¥ä»˜å…¥åŠ›æ¬„ã‚’é…ç½®ã—ãŸéš›ã«ã€ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ã¦ã‚‚ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼(ã´ã‚ã£ã¨ä¸‹ã«å‡ºã¦ãã‚‹ã‚„ã¤)ãŒå‡ºã¦ã“ãªã‹ã£ãŸã®ã§ã€ãã®å¯¾å‡¦æ–¹æ³•ã§ã™ã€‚\nhtml \u0026lt;div class=\u0026#34;modal modal-warning fade\u0026#34; id=\u0026#34;modal-id\u0026#34; tabindex=\u0026#34;-1\u0026#34; role=\u0026#34;dialog\u0026#34; aria-labelledby=\u0026#34;modal-label\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;modal-dialog\u0026#34; role=\u0026#34;document\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;modal-content\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;modal-header\u0026#34;\u0026gt; \u0026lt;button type=\u0026#34;button\u0026#34; class=\u0026#34;close\u0026#34; data-dismiss=\u0026#34;modal\u0026#34; aria-label=\u0026#34;Close\u0026#34;\u0026gt; \u0026lt;span aria-hidden=\u0026#34;true\u0026#34;\u0026gt;\u0026amp;times;\u0026lt;/span\u0026gt; \u0026lt;/button\u0026gt; \u0026lt;h4 class=\u0026#34;modal-title\u0026#34; id=\u0026#34;modal-label\u0026#34;\u0026gt;MODAL TITLE\u0026lt;/h4\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;form role=\u0026#34;form\u0026#34; action=\u0026#34;\u0026#34; method=\u0026#34;post\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;modal-body\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;form-group\u0026#34;\u0026gt; \u0026lt;label\u0026gt;DATE\u0026lt;/label\u0026gt; \u0026lt;div class=\u0026#34;input-group date\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;input-group-addon\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa fa-calendar\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; class=\u0026#34;form-control pull-right datepicker-form\u0026#34; id=\u0026#34;datepicker\u0026#34; name=\u0026#34;input_date\u0026#34;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;modal-footer\u0026#34;\u0026gt; \u0026lt;button type=\u0026#34;button\u0026#34; class=\u0026#34;btn btn-outline pull-left\u0026#34; data-dismiss=\u0026#34;modal\u0026#34;\u0026gt;CANCEL\u0026lt;/button\u0026gt; \u0026lt;button type=\u0026#34;submit\u0026#34; class=\u0026#34;btn btn-outline\u0026#34; disabled=\u0026#34;disabled\u0026#34; id=\u0026#34;cmp-btn\u0026#34;\u0026gt;OK\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ã“ã‚“ãªæ„Ÿã˜ã§ã€ãƒ¢ãƒ¼ãƒ€ãƒ«å†…ã«æ—¥ä»˜å…¥åŠ›ç”¨ã®ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã‚’é…ç½®ã—ã¦ã„ã‚‹çŠ¶æ…‹ã§ã—ãŸã€‚\nã¡ãªã¿ã«ã€datepickerã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼éƒ¨åˆ†ã®ã‚½ãƒ¼ã‚¹ã¯ä»¥ä¸‹(ã®ã‚ˆã†ãªå½¢)ã€‚\n\u0026lt;div class=\u0026#34;datepicker datepicker-dropdown dropdown-menu datepicker-orient-left datepicker-orient-top\u0026#34; style=\u0026#34;display: block; top: 160.333px; left: 417.167px;\u0026#34;\u0026gt; ... \u0026lt;/div\u0026gt; åŸå›  åŸå› ã¯ã€ãƒ¢ãƒ¼ãƒ€ãƒ«(.modal)ã®z-indexã®ã»ã†ãŒã€datepickerã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼(.datepicker.dropdown-menu)ã®z-indexã‚ˆã‚Šã‚‚å¤§ãã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚\n.modal { z-index: 1050; } .datepicker.dropdown-menu { z-index: 1000; } å¯¾ç­– å…ƒã®cssã¯è§¦ã‚ŠãŸããªã„ã®ã§ã€ç„¡ç†ã‚„ã‚Šã§ã™ãŒä»¥ä¸‹ã®jsã§å¯¾å¿œã—ã¾ã—ãŸã€‚\n$(\u0026#39;.datepicker-form\u0026#39;).focus(function(){ $(\u0026#39;.datepicker-dropdown\u0026#39;).css(\u0026#34;z-index\u0026#34;, \u0026#34;1060\u0026#34;); }); ",
    "permalink": "https://michimani.net/post/css-bootstrap-datepicker/",
    "title": "bootstrapã®modalã§datepickerã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãŒå‡ºãªã„"
  },
  {
    "contents": "cakePHP ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ Twitter API ã‚’ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚\næº–å‚™ ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯cakePHPã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ TwitterAPIã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦ã€ OAuth consumers for CakePHP ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ ã“ã¡ã‚‰ ã‹ã‚‰zipãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€ä¸­ã«ã‚ã‚‹ OAuthãƒ•ã‚©ãƒ«ãƒ€ã‚’**app/Vender/**ã«é…ç½®ã—ã¾ã™ã€‚\næ§‹æˆ ã‚ãã¾ã§ã‚‚ä¾‹ã§ã™ãŒã€‚\nOAuthèªè¨¼ã‚‚å«ã‚ã¦ã€ãã®ä»–TwitterAPIã§ä½¿ç”¨ã™ã‚‹æ©Ÿèƒ½(ãƒ„ã‚¤ãƒ¼ãƒˆã€ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³å–å¾—ãªã©)ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’TwitterCompornent.phpã«è¨˜è¼‰ã—ã¦ã€å„ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‹ã‚‰ãã‚Œã‚’ä½¿ã†ã¨ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚\nå®Ÿè£…ä¾‹ TwitterCompornent.php \u0026lt;?php // OAuth consumersã®èª­ã¿è¾¼ã¿ App::import(\u0026#39;Vendor\u0026#39;, \u0026#39;OAuth/OAuthClient\u0026#39;); class TwitterComponent extends Component { public function initialize( Controller $controller ) { $this-\u0026gt;Controller = $controller; } /** ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®Consumer Key (API Key) */ const TWITTER_CK = \u0026#39;CK1234567890\u0026#39;; /** ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®Consumer Secret (API Secret) */ const TWITTER_CS = \u0026#39;CS1234567890\u0026#39;; /** ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®Callback URL */ const TWITTER_CALLBACK_URL = \u0026#39;http://www.example.com/test/callback\u0026#39;; /** ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³å–å¾— **/ const URL_OAUTH_ACCESS_TOKEN = \u0026#39;https://api.twitter.com/oauth/access_token\u0026#39;; /** ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒˆãƒ¼ã‚¯ãƒ³å–å¾— **/ const URL_OAUTH_REQUEST_TOKEN = \u0026#39;https://api.twitter.com/oauth/request_token\u0026#39;; /** * ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã‚’è¡Œã† * return array */ public function authorizeUser() { // Twitterã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ $twitterOauthObj = $this-\u0026gt;__createClient( self::TWITTER_CK, self::TWITTER_CS ); $twitterOauthToken = $twitterOauthObj-\u0026gt;post( self::TWITTER_AT, self::TWITTER_AS, self::URL_OAUTH_REQUEST_TOKEN, array( \u0026#39;oauth_callback\u0026#39; =\u0026gt; rawurldecode( self::TWITTER_CALLBACK_URL ) ) ); if ( $twitterOauthToken-\u0026gt;headers[ \u0026#39;status\u0026#39; ] != \u0026#39;200 OK\u0026#39; ) { return false; } else { $return_params = explode( \u0026#39;\u0026amp;\u0026#39;, $twitterOauthToken-\u0026gt;body ); $oauth_info = array(); foreach ( $return_params as $p ) { $p_tmp = explode( \u0026#39;=\u0026#39;, $p ); if ( $p_tmp[ 0 ] == \u0026#39;oauth_callback_confirmed\u0026#39; ) { $oauth_info[ $p_tmp[ 0 ] ] = ( $p_tmp[ 1 ] == \u0026#39;true\u0026#39; ) ? true : false; } else { $oauth_info[ $p_tmp[ 0 ] ] = $p_tmp[ 1 ]; } } } // èªè¨¼ç”¨URLç”Ÿæˆ $authenticate_url = sprintf( \u0026#39;https://api.twitter.com/oauth/authenticate?oauth_token=%s\u0026#39;, $oauth_info[ \u0026#39;oauth_token\u0026#39; ] ); $reutrn_array = array( \u0026#39;authenticate_url\u0026#39; =\u0026gt; $authenticate_url, \u0026#39;user_oauth_session\u0026#39; =\u0026gt; $oauth_info ); return $reutrn_array; } /** * ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã™ã‚‹ * @param String $request_token * @param String $request_token_secret * @param String $oauth_verifier * @return array */ public function criateAccessToken( $request_token, $request_token_secret, $oauth_verifier ) { // Twitterã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ $twitterOauthObj = $this-\u0026gt;__createClient( self::TWITTER_CK, self::TWITTER_CS ); $res = $twitterOauthObj-\u0026gt;post( $request_token, $request_token_secret, self::URL_OAUTH_ACCESS_TOKEN, array( \u0026#39;oauth_verifier\u0026#39; =\u0026gt; $oauth_verifier ) ); // ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’é…åˆ—ã«å¤‰æ› $return_params = explode( \u0026#39;\u0026amp;\u0026#39;, $res-\u0026gt;body ); $oauth_info = array(); foreach ( $return_params as $p ) { $p_tmp = explode( \u0026#39;=\u0026#39;, $p ); $oauth_info[ $p_tmp[ 0 ] ] = $p_tmp[ 1 ]; } return $oauth_info; } /** * ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ * @param String $ck * @param String $cs * @return OAuthClient */ protected function _createClient( $ck, $cs ) { return new OAuthClient( $ck, //Consumer key $cs //Consumer secret ); } } TestController.php \u0026lt;?php class TestController extends AppController { public $components = array( \u0026#39;Twitter\u0026#39; ); function __construct ( $request, $response ) { parent::__construct( $request, $response ); } /** * ãƒ­ã‚°ã‚¤ãƒ³ */ public function login () { $this-\u0026gt;autoRender = false; // ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ $res = $this-\u0026gt;Twitter-\u0026gt;authorizeUser(); if ( $res == false ) { $this-\u0026gt;redirect( \u0026#39;/\u0026#39; ); } else { // ã‚»ãƒƒã‚·ãƒ§ãƒ³ç™»éŒ² $this-\u0026gt;Session-\u0026gt;write( \u0026#39;user_oauth\u0026#39;, $res[ \u0026#39;user_oauth_session\u0026#39; ] ); // èªè¨¼ãƒšãƒ¼ã‚¸ãƒ˜ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ $this-\u0026gt;redirect( $res[ \u0026#39;authenticate_url\u0026#39; ] ); } } /** * ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ */ public function callback () { $this-\u0026gt;autoRender = false; try { // èªè¨¼ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã®å ´åˆã¯ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¦ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸ if ( isset( $this-\u0026gt;params-\u0026gt;query[ \u0026#39;denied\u0026#39; ] ) ) { if ( $this-\u0026gt;Session-\u0026gt;check( \u0026#39;user_oauth\u0026#39; ) ) { $this-\u0026gt;Session-\u0026gt;delete( \u0026#39;user_oauth\u0026#39; ); } $this-\u0026gt;redirect( \u0026#39;/\u0026#39; ); } // ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±å–å¾— if ( !$this-\u0026gt;Session-\u0026gt;check( \u0026#39;user_oauth\u0026#39; ) ) { throw new Exception( \u0026#39;ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚\u0026#39; ); } $user_oauth_session = $this-\u0026gt;Session-\u0026gt;read( \u0026#39;user_oauth\u0026#39; ); // Twitterã‹ã‚‰è¿”å´ã•ã‚ŒãŸOAuthãƒˆãƒ¼ã‚¯ãƒ³ã¨ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ä¿å­˜ã•ã‚ŒãŸOAuthãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¯”è¼ƒ $retutn_oauth_token = ( isset( $this-\u0026gt;params-\u0026gt;query[ \u0026#39;oauth_token\u0026#39; ] ) ) ? $this-\u0026gt;params-\u0026gt;query[ \u0026#39;oauth_token\u0026#39; ] : null; if ( $retutn_oauth_token != $user_oauth_session[ \u0026#39;oauth_token\u0026#39; ] ) { // ã‚»ãƒƒã‚·ãƒ§ãƒ³å‰Šé™¤ $this-\u0026gt;Session-\u0026gt;delete( \u0026#39;user_oauth\u0026#39; ); throw new Exception( \u0026#39;OAuthãƒˆãƒ¼ã‚¯ãƒ³ãŒç„¡åŠ¹ã§ã™ã€‚\u0026#39; ); } // ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã™ã‚‹ $access_token = $this-\u0026gt;Twitter-\u0026gt;criateAccessToken( $user_oauth_session[ \u0026#39;oauth_token\u0026#39; ], $user_oauth_session[ \u0026#39;oauth_token_secret\u0026#39; ], $this-\u0026gt;params-\u0026gt;query[ \u0026#39;oauth_verifier\u0026#39; ] ); if ( !$access_token ) { // ã‚»ãƒƒã‚·ãƒ§ãƒ³å‰Šé™¤ $this-\u0026gt;Session-\u0026gt;delete( \u0026#39;user_oauth\u0026#39; ); throw new Exception( \u0026#39;ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ãŒå–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚\u0026#39; ); } // ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ä¿å­˜ $user_oauth_session[ \u0026#39;access_token\u0026#39; ] = $access_token; $this-\u0026gt;Session-\u0026gt;write( \u0026#39;user_oauth\u0026#39;, $user_oauth_session ); // ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ãƒ˜ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ $this-\u0026gt;redirect( \u0026#39;/\u0026#39; ); } catch ( Exception $e ) { $this-\u0026gt;log( $e-\u0026gt;getMessage() ); } } } èªè¨¼å‡¦ç†ãŒæˆåŠŸã™ã‚‹ã¨ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ã¨ã—ã¦ä»¥ä¸‹ã®å½¢ã§ oauth_tokenã€ oauth_token_secretãŒãã‚Œãã‚Œå–å¾—ã§ãã¾ã™ã€‚\n\u0026lt;?php $user_oauth_session = array( \u0026#39;access_token\u0026#39; =\u0026gt; array( \u0026#39;oauth_token\u0026#39; =\u0026gt; \u0026#39;OT1234567890\u0026#39;, \u0026#39;oauth_token_secret\u0026#39; =\u0026gt; \u0026#39;OTS1234567890\u0026#39; ) ); ã‚ã¨ã¯ã“ã®ï¼’ã¤ã®å€¤ã‚’ä½¿ã£ã¦TwitterAPIã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nã¡ãªã¿ã«ã€ã“ã®æ–¹æ³•ã§å®Ÿè£…ã—ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒã“ã¡ã‚‰ã§ã™ã€‚ ãŸã ã€Œã‚„ã£ã»ã€œï¼ã€ã¨ã¤ã¶ã‚„ãã ã‘ æ–‡å­—é€šã‚Šã€ãŸã ã‚„ã£ã»ã€œã¨ã¤ã¶ã‚„ãã ã‘ã§ã™ã€‚ä¸€å¿œã¤ã¶ã‚„ã„ãŸæ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã—ã¦ã„ã‚‹ã®ã§ã€ã©ã‚“ã©ã‚“ã¤ã¶ã‚„ã„ã¦ã¿ã¦ãã ã•ã„ã€‚\n",
    "permalink": "https://michimani.net/post/php-twitter-oauth-cakephp/",
    "title": "cakePHPã§TwitterAPIã®OAuthèªè¨¼ã‚’å®Ÿè£…ã—ã¦ã¿ã‚‹"
  },
  {
    "contents": "ãƒšãƒ¼ã‚¸å†…ã«ã‚ã‚‹ç”»åƒã‚’å…¨ã¦ä¿å­˜ã—ãŸã„ã‘ã© ã„ã¡ã„ã¡å³ã‚¯ãƒªãƒƒã‚¯\u0026gt;åå‰ã‚’ã¤ã‘ã¦ä¿å­˜ ã¨ã‹ç”»åƒã‚’ãƒ‰ãƒ©ãƒƒã‚°ã‚¢ãƒ³ãƒ‰ãƒ‰ãƒ­ãƒƒãƒ—ã§ãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹• ã¨ã‹ã™ã‚‹ã®ãŒé¢å€’ãªã¨ãã«ã€å¯¾è±¡ãƒšãƒ¼ã‚¸ã®URLã‚’æ¸¡ã›ã°ãƒšãƒ¼ã‚¸å†…ã®ç”»åƒã‚’å…¨ã¦ä¿å­˜ã—ã¦ãã‚Œã‚‹å‡¦ç†ã‚’è€ƒãˆã¦ã¿ã¾ã—ãŸã€‚\næ”¹è‰¯ç‰ˆã‚’ä½œã‚Šã¾ã—ãŸ å‹•ä½œç’°å¢ƒ ãƒ»Mac OS X ãƒ»MAMP\nã‚½ãƒ¼ã‚¹ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ä½¿ã‚ãšã«ã€ç´”ç²‹ã«PHPã ã‘ã§ã™ã€‚\n\u0026lt;?php /** * @param String $targetUrl */ function getAllImgByUrl( $targetUrl ) { // ç”»åƒä¿å­˜å…ˆ $savePath = \u0026#39;/Users/hogehoge/Desktop/savePath/\u0026#39;; //ä»»æ„ã®å ´æ‰€ // htmlã‚½ãƒ¼ã‚¹å–å¾— $htmlSource = @file_get_contents( $targetUrl ); if ( $htmlSource ) { // ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã®URLå–å¾— preg_match_all( \u0026#39;/src=\u0026#34;(.*?(\\.jpg|\\.jpeg|\\.gif|\\.png))\u0026#34;/i\u0026#39;, $htmlSource, $res ); // (\\.jpg|\\.jpeg|\\.gif|\\.png) ã“ã“ã¯å¿…è¦ã«å¿œã˜ã¦å¤‰æ›´ if ( isset( $res[ 1 ] ) ) { foreach( $res[ 1 ] as $targetImgUrl ) { // ãƒ•ã‚¡ã‚¤ãƒ«åç”Ÿæˆ $fileNameTmp = explode( \u0026#39;/\u0026#39;, $targetImgUrl ); $fileNameTmp = array_reverse( $fileNameTmp ); $fileName = $fileNameTmp[ 0 ]; // ç”»åƒä¿å­˜ $imgData = @file_get_contents( $targetImgUrl ); if ( $imgData ) { @file_put_contents( self::IMG_SAVE_PATH . $fileName, $imgData ); } } } } } ",
    "permalink": "https://michimani.net/post/php-save-all-image-in-a-page/",
    "title": "PHPã§WEBãƒšãƒ¼ã‚¸å†…ã®ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…¨ã¦ä¿å­˜ã—ã¦ã¿ã‚‹"
  },
  {
    "contents": "ã¡ã‚‡ã£ã¨å‡ã£ãŸSQLã‚’ä½œã‚ã†ã¨ã™ã‚‹ã¨ãã«ä½¿ã† SUM() ã¨ã‹ CASE() ã§ã™ãŒã€ã„ã–ä½¿ãŠã†ã¨ã™ã‚‹ã¨ãã«ã¡ã‚‡ã£ã¨æ›¸ãæ–¹ã‚’å¿˜ã‚ŒãŸã‚Šã™ã‚‹ã®ã§ç°¡å˜ãªä¾‹ã§æ›¸ãç•™ã‚ã¦ãŠãã¾ã™ã€‚\nç›®æ¬¡ ç›®æ¬¡ ä½¿ã†ãƒ‡ãƒ¼ã‚¿ SUM() ã‚’ä½¿ã£ã¦å„å•†å“ã®åˆè¨ˆé‡‘é¡ã‚’å‡ºã—ã¦ã¿ã‚‹ SUM() ã¨ CASE() ã‚’çµ„ã¿åˆã‚ã›ã¦ã¿ã‚‹ ä½¿ã†ãƒ‡ãƒ¼ã‚¿ ä¾‹ã¨ã—ã¦ä½¿ã†ã®ã¯ã€å£²ä¸Šã®æƒ…å ±ã‚’æŒã£ã¦ã„ã‚‹ salesãƒ†ãƒ¼ãƒ–ãƒ«ã«ã‚ã‚‹ãƒ‡ãƒ¼ã‚¿ã§ã™ã€‚\nmysql\u0026gt; desc sales; +---------------+--------------+------+-----+---------+----------------+ | Field | Type | Null | Key | Default | Extra | +---------------+--------------+------+-----+---------+----------------+ | id | int(11) | NO | PRI | NULL | auto_increment | | item_name | varchar(100) | NO | | NULL | | | item_quantity | int(11) | NO | | 0 | | | total_price | int(11) | NO | | 0 | | | purchase_date | date | YES | | NULL | | +---------------+--------------+------+-----+---------+----------------+ mysql\u0026gt; SELECT * FROM sales; +----+-------------+---------------+-------------+---------------+ | id | item_name | item_quantity | total_price | purchase_date | +----+-------------+---------------+-------------+---------------+ | 1 | apple | 1 | 100 | 2016-05-02 | | 2 | orange | 10 | 300 | 2016-05-03 | | 3 | watermelon | 2 | 600 | 2016-05-04 | | 4 | apple | 3 | 300 | 2016-05-06 | | 5 | apple | 4 | 400 | 2016-05-06 | | 6 | orange | 5 | 150 | 2016-05-06 | | 7 | watermelon | 2 | 600 | 2016-05-08 | | 8 | strawberry | 10 | 2000 | 2016-05-09 | | 9 | orange | 23 | 690 | 2016-05-10 | | 10 | watermelon | 5 | 1500 | 2016-05-11 | +----+-------------+---------------+-------------+---------------+ SUM() ã‚’ä½¿ã£ã¦å„å•†å“ã®åˆè¨ˆé‡‘é¡ã‚’å‡ºã—ã¦ã¿ã‚‹ SUM() ã‚’ä½¿ã†ã¨ãã¯ã€ GROUP BY å¥ã‚‚ã‚»ãƒƒãƒˆã§ä½¿ã„ã¾ã™ã€‚ä»Šå›ã¯å„å•†å“ã§ã®åˆè¨ˆã‚’å‡ºã™ã®ã§ã€ item_name ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã¾ã™ã€‚\nSELECT item_name, SUM(total_price) AS item_total_price FROM sales GROUP BY item_name; +-------------+------------------+ | item_name | item_total_price | +-------------+------------------+ | apple | 800 | | orange | 1140 | | water melon | 2700 | | strawberry | 2000 | +-------------+------------------+ å„æ—¥ã«å£²ã‚ŒãŸåˆè¨ˆé‡‘é¡ã‚’å‡ºã—ãŸã„å ´åˆã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nSELECT purchase_date, SUM(total_price) FROM sales GROUP BY purchase_date; +---------------+------------------+ | purchase_date | SUM(total_price) | +---------------+------------------+ | 2016-05-02 | 100 | | 2016-05-03 | 300 | | 2016-05-04 | 600 | | 2016-05-06 | 850 | | 2016-05-08 | 600 | | 2016-05-09 | 2000 | | 2016-05-10 | 690 | | 2016-05-11 | 1500 | +---------------+------------------+ SUM() ã¨ CASE() ã‚’çµ„ã¿åˆã‚ã›ã¦ã¿ã‚‹ å–å¾—ã™ã‚‹ã¨ãã«æ¡ä»¶ã‚’ã¤ã‘ã¦å–å¾—ã§ãã‚‹ CASE() ã§ã™ãŒã€**SUM()**ã¨çµ„ã¿åˆã‚ã›ã‚‹ã¨ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹æ®µéšã§é›†è¨ˆãŒã§ãã‚‹ã®ã§ã€å–å¾—å¾Œã®å‡¦ç†ãŒå°‘ãªããªã‚Šã¾ã™ã€‚ ä»Šå›ã®ä¾‹ã§ã¯ã€2016å¹´5æœˆ6æ—¥ã®å‰ã¨å¾Œãã‚Œãã‚Œã®å£²ä¸Šåˆè¨ˆé‡‘é¡ã‚’å‡ºã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚ã¾ãšå–å¾—çµæœã‹ã‚‰è¦‹ã¦ã¿ã¾ã™ã€‚\n+--------------------------------+-------------------------------+ | sum of total before 2016/05/06 | sum of total after 2016/05/07 | +--------------------------------+-------------------------------+ | 1850 | 4790 | +--------------------------------+-------------------------------+ ã“ã®çµæœãŒå¾—ã‚‰ã‚Œã‚‹SQLã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nSELECT SUM( CASE WHEN purchase_date \u0026lt;= \u0026#34;2016-05-06\u0026#34; THEN total_price ELSE 0 END ) AS \u0026#34;sum of total before 2016/05/06\u0026#34;, SUM( CASE WHEN purchase_date \u0026gt;= \u0026#34;2016-05-07\u0026#34; THEN total_price ELSE 0 END ) AS \u0026#34;sum of total after 2016/05/07\u0026#34; FROM sales; CASE() ã®æ§‹æ–‡ã¯\nCASE WHEN A=B THEN C ELSE D END ã¨ã„ã†å½¢ã§ã€A=Bãªã‚‰ C, ãã‚Œä»¥å¤–ã®å ´åˆã¯ D ã¨ã„ã†æ„å‘³ã§ã™ã€‚\nãªã®ã§ã€ä¸Šè¨˜ã®ä¾‹ã§ã¯ã€ ã€Œpurchase_date ãŒ \u0026ldquo;2016-05-06\u0026rdquo; ä»¥å‰ã®å ´åˆã¯ total_price, ãã‚Œä»¥å¤–ã®å ´åˆã¯ 0ã€ ã‚’ SUM() ã®ä¸­ã«å…¥ã‚Œã‚‹ã“ã¨ã§ã€purchase_date ãŒ \u0026ldquo;2016-05-06\u0026quot;ä»¥å‰ã®total_priceã®åˆè¨ˆ ã‚’å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚\nã“ã®æ–¹æ³•ã‚’ä½¿ãˆã°ã€ã‚ã‚‹ãƒ•ãƒ©ã‚°ã‚’æŒã¤å ´åˆã®ã¿åŠ ç®—ã™ã‚‹ ã¨ã„ã£ãŸä½¿ã„æ–¹ã‚‚ã§ãã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/database-using-sum-case-in-mysql/",
    "title": "MySQL ã§ SUM() ã¨ CASE() ã‚’çµ„ã¿åˆã‚ã›ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹"
  },
  {
    "contents": "ã•ãã‚‰ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼ä¸Šã«Gitãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã¦è‰²ã€…ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ã„ã¦ã¾ã™ãŒã€ãã®Gitãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã‚‹ã¾ã§ã®æ‰‹é †ã‚’ãƒ¡ãƒ¢ç¨‹åº¦ã«æ®‹ã—ã¦ãŠãã¾ã™ã€‚\nã‚„ã‚ŠãŸã„ã“ã¨ ã•ãã‚‰ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼ã®åˆæœŸãƒ‰ãƒ¡ã‚¤ãƒ³ hogehoge.sakura.ne.jp ã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ /home/hogehoge/www/ ã§ã™ã€‚(ãƒ¦ãƒ¼ã‚¶ãƒ¼IDãŒ hogehoge ã®å ´åˆ) ä»Šå›ã€ä¾‹ã¨ã—ã¦ãã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç›´ä¸‹ã«ã‚ã‚‹ /home/hogehoge/www/git_test ã‚’Gitã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nGitãƒªãƒã‚¸ãƒˆãƒªä½œæˆæ‰‹é † 1. Gitç®¡ç†ã—ãŸã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¸ç§»å‹•ã€‚åˆæœŸåŒ–ã€‚ ä»Šå›ã¯ git_test ä»¥ä¸‹ã‚’Gitç®¡ç†ã—ãŸã„ã®ã§ git_test ã¸ç§»å‹•ã€‚\n$ cd /home/hogehoge/www/git_test ç§»å‹•ã—ãŸã‚‰æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§åˆæœŸåŒ–ã—ã¾ã™ã€‚\n$ git init åˆæœŸåŒ–ãŒå®Œäº†ã™ã‚‹ã¨ä¸‹è¨˜ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã« .git ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒä½œæˆã•ã‚Œã¾ã™ã€‚\nInitialized empty Git repository in /home/hogehoge/www/git_test/.git/ 2. ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèªã€åˆå›ã‚³ãƒŸãƒƒãƒˆ Gitç®¡ç†ã—ãŸã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®åˆæœŸåŒ–ãŒçµ‚ã‚ã£ãŸã‚‰ã€é©å½“ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ã¦ã‚³ãƒŸãƒƒãƒˆã—ã¦ã¿ã¾ã™ã€‚\n$ touch example.txt $ git status On branch master Initial commit Untracked files: (use \u0026#34;git add \u0026lt;file\u0026gt;...\u0026#34; to include in what will be committed) example.txt nothing added to commit but untracked files present (use \u0026#34;git add\u0026#34; to track) $ git add .ã€€(å…¨ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¸è¿½åŠ ã™ã‚‹) $ git commit -m \u0026#34;first commit\u0026#34;ã€€(ã‚³ãƒ¡ãƒ³ãƒˆã¯ä»»æ„) 3. ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆ ç¶šã„ã¦ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã®ä½œæˆã§ã™ãŒã€ã•ãã‚‰ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼ã®å ´åˆã¯ /home/hogehoge/git/ ä»¥ä¸‹ã«ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã‚Šã¾ã™ã€‚\n$ cd /home/hogehoge/git $ mkdir git_test.git $ cd git_test.git $ git init --bare ä¸Šè¨˜ã§ä½œæˆã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã¯ä»»æ„ã§ã™ãŒã€å®Ÿéš›ã«Gitç®¡ç†ã—ãŸã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨åˆã‚ã›ãŸã»ã†ãŒè‰¯ã„ã¨æ€ã„ã¾ã™ã€‚ä»»æ„ã§ã¯ã‚ã‚Šã¾ã™ãŒã€èªå°¾ã«ã¯ .git ã‚’ä»˜ã‘ã¾ã™ã€‚\n4. ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã¸ã®æœ€åˆã®push 3ã§ä½œã£ãŸãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã¨ã€1ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç´ä»˜ã‘ã¾ã™ã€‚\n$ cd /home/hogehoge/www/git_test $ git remote add origin ssh://hogehoge@hogehoge.sakura.ne.jp/home/hogehoge/git/git_test.git $ git remote -v (è¨­å®šãŒå‡ºæ¥ã¦ã„ã‚‹ã‹ç¢ºèª) pushã—ã¾ã™ã€‚\n$ git push origin master:master ã“ã‚Œã§ä¸€é€šã‚Šã®æµã‚ŒãŒçµ‚ã‚ã£ãŸã®ã§ã€ã‚ã¨ã¯Gitã®ã‚³ãƒãƒ³ãƒ‰ã‚’é§†ä½¿ã—ã¦commitã€pushã—ã¦ã„ãã¾ã™ã€‚\nç•ªå¤–ç·¨. ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰cloneã™ã‚‹ ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ã‚½ãƒ¼ã‚¹ã‚’cloneã™ã‚‹ã¨ãã¯ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ã€‚\n$ cd /home/hogehoge/www $ git clone /home/hogehoge/git/git_test.git git_test_clone ã“ã‚Œã§ /home/hogehoge/www/git_test_clone ã«ã‚½ãƒ¼ã‚¹ãŒè½ã¡ã¦ãã¾ã™ã€‚\n",
    "permalink": "https://michimani.net/post/sakura-create-git-repo/",
    "title": "ã•ãã‚‰ãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒãƒ¼ã«gitãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã‚‹"
  },
  {
    "contents": "ã ã„ã¶å‰ã«TwitterAPI1.1ã§ç”»åƒä»˜ãã®ãƒ„ã‚¤ãƒ¼ãƒˆã‚’ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦å€‹äººã®ãƒ–ãƒ­ã‚°ã«æ›¸ãã¾ã—ãŸãŒã€ã»ã¨ã‚“ã©åå¿œãŒãªã‹ã£ãŸã®ã§ã“ã¡ã‚‰ã«æ›¸ã„ã¦ã¿ã¾ã™ã€‚\nå®Ÿè£…ç’°å¢ƒ ã¾ãšã€ä»¥ä¸‹ã®æ¡ä»¶ä¸‹ã§ã®æ–¹æ³•ã§ã™ã®ã§ã€ã”ç¢ºèªãã ã•ã„ã€‚\nãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ CakePHP 2.3.10 APIã¨ã®ã‚„ã‚Šã¨ã‚Šã«ã¯OAuth consumers for CakePHPã‚’ä½¿ç”¨ OAuth consumers for CakePHPã§ã¯åŸºæœ¬çš„ã«ä»¥ä¸‹ã®ã‚ˆã†ãªå½¢ã§APIã¨ã‚„ã‚Šã¨ã‚Šã—ã¾ã™ã€‚\n\u0026lt;?php $client = new OAuthClient( $ck, // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®Consumer key $cs // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®Consumer secret ); $client-\u0026gt;post( $at, // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®access token $ats, // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®access token secret $api_url, // å„ç¨®APIã®ãƒªã‚½ãƒ¼ã‚¹URL $params // å„ç¨®APIã«å¿…è¦ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ); ä¾‹ãˆã°ã€æ™®é€šã«ãƒ„ã‚¤ãƒ¼ãƒˆã™ã‚‹ã¨ãã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\u0026lt;?php $client-\u0026gt;post( $at, // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®access token $ats, // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®access token secret \u0026#39;https://api.twitter.com/1.1/statuses/update.json\u0026#39;, array( \u0026#39;status\u0026#39; =\u0026gt; \u0026#39;Tweetå†…å®¹\u0026#39; ) ); ç”»åƒã‚’1æšæ·»ä»˜ã—ã¦ãƒ„ã‚¤ãƒ¼ãƒˆã™ã‚‹ ã§ã¯ã€ç”»åƒã‚’ï¼‘æšæ·»ä»˜ã™ã‚‹å ´åˆã¯ã€ãƒªã‚½ãƒ¼ã‚¹URLãŒ https://api.twitter.com/1.1/statuses/update_with_media.json ã§ã™ã®ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n\u0026lt;?php $client-\u0026gt;postMultipartFormData( $at, // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®access token $ats, // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®access token secret \u0026#39;https://api.twitter.com/1.1/statuses/update_with_media.json\u0026#39;, array( \u0026#39;media[]\u0026#39; =\u0026gt; \u0026#39;æ·»ä»˜ã™ã‚‹ç”»åƒã¸ã®ãƒ‘ã‚¹\u0026#39; ), array( \u0026#39;status\u0026#39; =\u0026gt; \u0026#39;Tweetå†…å®¹\u0026#39; ), ); æ³¨æ„ã—ãŸã„ã®ãŒã€æ™®é€šã«ãƒ„ã‚¤ãƒ¼ãƒˆã™ã‚‹å ´åˆã¨é•ã£ã¦ã€ OAuthClient ã® post ã§ã¯ãªã postMultipartFormData ã‚’ä½¿ã†ã¨ã„ã†ç‚¹ã§ã™ã€‚ ã“ã“ã«æ°—ä»˜ã‹ãªãã¦å¤§åˆ†è‹¦åŠ´ã—ã¾ã—ãŸã€‚\nâ€»è¿½è¨˜ ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã«ã¦ã”æŒ‡æ‘˜ã„ãŸã ãã¾ã—ãŸé€šã‚Šã€ TwitterAPIã®å…¬å¼ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ POST statuses/update_with_media (deprecated) | Twitter Developers ã§ã¯ã€update_with_mediaã®APIãŒdeprecated(éæ¨å¥¨)ã¨ãªã£ã¦ã„ã¾ã™ã®ã§ã€ç”»åƒ1æšã®å ´åˆã‚‚å¾Œè¿°ã™ã‚‹æ–¹æ³•ã‚’ç”¨ã„ãŸã»ã†ãŒè‰¯ã•ãã†ã§ã™ã€‚ @riocamposã•ã‚“ã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚\nç”»åƒã‚’è¤‡æ•°æš(æœ€å¤§4æš)æ·»ä»˜ã—ã¦ãƒ„ã‚¤ãƒ¼ãƒˆã™ã‚‹ ï¼‘æšã®ç”»åƒãŒã“ã‚Œã§ã„ã‘ã‚‹ãªã‚‰ã€è¤‡æ•°ç”»åƒã®å ´åˆã¯array()ã®ä¸­ã«è¿½åŠ ã™ã‚Œã°ã„ã„ã‚“ã˜ã‚ƒãªã„ã‹ã¨æ€ã†ã¨ã“ã‚ã§ã™ãŒã€æ®‹å¿µãªãŒã‚‰ãã‚Œã¯ã§ãã¾ã›ã‚“ã€‚ã€‚ ãªã®ã§ã€ç”»åƒã‚’è¤‡æ•°æ·»ä»˜ã™ã‚‹å ´åˆã¯ã€åˆ¥ã®æ–¹æ³•ã‚’ä½¿ã„ã¾ã™ã€‚\nç°¡å˜ã«æ‰‹é †ã‚’æ›¸ãã¨ã€\nTwitterã«ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€ãã®ç”»åƒå›ºæœ‰ã®IDã‚’å–å¾—ã™ã‚‹ å–å¾—ã—ãŸIDã‚’ã‚«ãƒ³ãƒ(,)ã§çµåˆã™ã‚‹ é€šå¸¸ã®ãƒ„ã‚¤ãƒ¼ãƒˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã€çµåˆã—ãŸæ–‡å­—åˆ—ã‚’æ¸¡ã™ ã¨ãªã‚Šã¾ã™ã€‚ 1.Twitterã«ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€ãã®ç”»åƒå›ºæœ‰ã®IDã‚’å–å¾—ã™ã‚‹ ã§ã¯ã€ã¾ãšæ‰‹é †ï¼‘ã€‚ ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®ãƒªã‚½ãƒ¼ã‚¹URLã¯ https://upload.twitter.com/1.1/media/upload.json ã§ã™ã€‚\n\u0026lt;?php $res = $client-\u0026gt;postMultipartFormData( $at, // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®access token $ats, // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®access token secret \u0026#39;https://upload.twitter.com/1.1/media/upload.json\u0026#39;, array( \u0026#39;media\u0026#39; =\u0026gt; \u0026#39;æ·»ä»˜ã™ã‚‹ç”»åƒã¸ã®ãƒ‘ã‚¹\u0026#39; ), ); ã“ã“ã§æ³¨æ„ã—ãŸã„ã®ã¯ã€å…ˆç¨‹ã¨åŒæ§˜ã« post ã§ã¯ãªã postMultipartFormData ã‚’ä½¿ã†ã¨ã„ã†ç‚¹ã¨ã€ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®åå‰ãŒ media[] ã§ã¯ãªã media ã§ã‚ã‚‹ã¨ã„ã†ç‚¹ã§ã™ã€‚\n2.å–å¾—ã—ãŸIDã‚’ã‚«ãƒ³ãƒ(,)ã§çµåˆã™ã‚‹ æ­£å¸¸ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãŒå®Œäº†ã™ã‚‹ã¨ã€jsonå½¢å¼ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒå–ã‚Œã‚‹ã®ã§ã€ãã®ä¸­ã‹ã‚‰media_idã‚’å–å¾—ã—ã¾ã™ã€‚\n\u0026lt;?php $res_obj = json_decode( $res ); $media_id = $res_obj-\u0026gt;media_id; ã“ã‚Œã‚’ç”»åƒã®æšæ•°åˆ†ç¹°ã‚Šè¿”ã—ã¦ã€å–å¾—ã—ãŸmedia_idã‚’ã‚«ãƒ³ãƒ(,)ã§çµåˆã™ã‚‹ã®ãŒæ‰‹é †ï¼’ã¨ãªã‚Šã¾ã™ã€‚(ç¾çŠ¶ã€4æšã¾ã§æ·»ä»˜å¯èƒ½ã§ã™ã€‚)\n3.é€šå¸¸ã®ãƒ„ã‚¤ãƒ¼ãƒˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã€çµåˆã—ãŸæ–‡å­—åˆ—ã‚’æ¸¡ã™ ã‚ã¨ã¯ã€ä¸€ç•ªæœ€åˆã«ç´¹ä»‹ã—ãŸæ™®é€šã«ãƒ„ã‚¤ãƒ¼ãƒˆã™ã‚‹éš›ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã€çµåˆã—ãŸæ–‡å­—åˆ—ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚\n\u0026lt;?php $client-\u0026gt;post( $at, // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®access token $ats, // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®access token secret \u0026#39;https://api.twitter.com/1.1/statuses/update.json\u0026#39;, array( \u0026#39;status\u0026#39; =\u0026gt; \u0026#39;Tweetå†…å®¹\u0026#39;, \u0026#39;media_ids\u0026#39; =\u0026gt; \u0026#39;mediaID01,mediaID02,mediaID03\u0026#39; ) ); ä»¥ä¸ŠãŒã€Twitter API1.1ç”»åƒä»˜ããƒ„ã‚¤ãƒ¼ãƒˆã™ã‚‹æ–¹æ³•ã§ã—ãŸã€‚\n",
    "permalink": "https://michimani.net/post/twitter-tweet-with-images/",
    "title": "Twitter API1.1ã§ç”»åƒä»˜ããƒ„ã‚¤ãƒ¼ãƒˆã—ã¦ã¿ã‚‹"
  },
  {
    "contents": "æ›¸ã„ã¦ã‚‹äºº michimani\næ›¸ãã“ã¨ æŠ€è¡“çš„ãªã“ã¨ ã‚¬ã‚¸ã‚§ãƒƒãƒˆã®ã“ã¨ èª­ã‚“ã æœ¬ã®ã“ã¨ ãªã©ãªã©ã‚’æ›¸ãã¾ã™ã€‚\nSNS Twitter - @michimani210 Medium - @michimani GitHub - @michimani Speaker Deck - @michimani ãŠå•ã„åˆã‚ã› ãŠå•ã„åˆã‚ã›ã¯ã€ä¸‹è¨˜ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ ã¾ãŸã¯ Twitter ã¸ã®ãƒªãƒ—ãƒ©ã‚¤ï¼DM ã¾ãŸã¯ å„è¨˜äº‹ã®ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã«ã¦ãŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚\nmail: michimani210[a]gmail.com ãã®ä»– åºƒå‘Šã®é…ä¿¡ã«ã¤ã„ã¦ michimani.net ã§ã¯ç¬¬ä¸‰è€…é…ä¿¡ã®åºƒå‘Šã‚µãƒ¼ãƒ“ã‚¹ã€ŒGoogle Adsense ã‚°ãƒ¼ã‚°ãƒ«ã‚¢ãƒ‰ã‚»ãƒ³ã‚¹ã€ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚\nåºƒå‘Šé…ä¿¡äº‹æ¥­è€…ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®èˆˆå‘³ã«å¿œã˜ãŸåºƒå‘Šã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã« Cookie ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚\nCookie ã‚’ç„¡åŠ¹ã«ã™ã‚‹è¨­å®šãŠã‚ˆã³ Google ã‚¢ãƒ‰ã‚»ãƒ³ã‚¹ã«é–¢ã™ã‚‹è©³ç´°ã¯ åºƒå‘Š â€“ ãƒãƒªã‚·ãƒ¼ã¨è¦ç´„ â€“ Google ã‚’ã”è¦§ãã ã•ã„ã€‚\nã¾ãŸã€michimani.net ã¯ã€Amazon.co.jpã‚’å®£ä¼ã—ãƒªãƒ³ã‚¯ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã‚µã‚¤ãƒˆãŒç´¹ä»‹æ–™ã‚’ç²å¾—ã§ãã‚‹æ‰‹æ®µã‚’æä¾›ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã«è¨­å®šã•ã‚ŒãŸã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã‚ã‚‹ã€ Amazon ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆãƒ»ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å‚åŠ è€…ã§ã™ã€‚\nç¬¬ä¸‰è€…ãŒã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŠã‚ˆã³å®£ä¼ã‚’æä¾›ã—ã€è¨ªå•è€…ã‹ã‚‰ç›´æ¥æƒ…å ±ã‚’åé›†ã—ã€è¨ªå•è€…ã®ãƒ–ãƒ©ã‚¦ã‚¶ã« Cookie ã‚’è¨­å®šã—ãŸã‚Šã“ã‚Œã‚’èªè­˜ã—ãŸã‚Šã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚\nã‚¢ã‚¯ã‚»ã‚¹è§£æãƒ„ãƒ¼ãƒ«ã«ã¤ã„ã¦ michimani.net ã§ã¯ã€ Google ã«ã‚ˆã‚‹ã‚¢ã‚¯ã‚»ã‚¹è§£æãƒ„ãƒ¼ãƒ«ã€ŒGoogle ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ã€ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚\nã“ã® Google ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ã¯ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã®åé›†ã®ãŸã‚ã« Cookie ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ã“ã®ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã¯åŒ¿åã§åé›†ã•ã‚Œã¦ãŠã‚Šã€å€‹äººã‚’ç‰¹å®šã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã®æ©Ÿèƒ½ã¯ Cookie ã‚’ç„¡åŠ¹ã«ã™ã‚‹ã“ã¨ã§åé›†ã‚’æ‹’å¦ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã®ã§ã€ãŠä½¿ã„ã®ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨­å®šã‚’ã”ç¢ºèªãã ã•ã„ã€‚ã“ã®è¦ç´„ã«é–¢ã—ã¦ã€è©³ã—ãã¯ Google ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹åˆ©ç”¨è¦ç´„ ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nå…è²¬äº‹é … michimani.net (ä»¥ä¸‹ã€å½“ãƒ–ãƒ­ã‚°) ã§æ²è¼‰ã—ã¦ã„ã‚‹ç”»åƒã®è‘—ä½œæ¨©ãƒ»è‚–åƒæ¨©ç­‰ã¯å„æ¨©åˆ©æ‰€æœ‰è€…ã«å¸°å±è‡´ã—ã¾ã™ã€‚æ¨©åˆ©ã‚’ä¾µå®³ã™ã‚‹ç›®çš„ã§ã¯ã”ã–ã„ã¾ã›ã‚“ã€‚è¨˜äº‹ã®å†…å®¹ã‚„æ²è¼‰ç”»åƒç­‰ã«å•é¡ŒãŒã”ã–ã„ã¾ã—ãŸã‚‰ã€å„æ¨©åˆ©æ‰€æœ‰è€…æ§˜æœ¬äººãŒç›´æ¥ãƒ¡ãƒ¼ãƒ«ã§ã”é€£çµ¡ä¸‹ã•ã„ã€‚ç¢ºèªå¾Œã€å¯¾å¿œã•ã›ã¦é ‚ãã¾ã™ã€‚\nå½“ãƒ–ãƒ­ã‚°ã‹ã‚‰ãƒªãƒ³ã‚¯ã‚„ãƒãƒŠãƒ¼ãªã©ã«ã‚ˆã£ã¦ä»–ã®ã‚µã‚¤ãƒˆã«ç§»å‹•ã•ã‚ŒãŸå ´åˆã€ç§»å‹•å…ˆã‚µã‚¤ãƒˆã§æä¾›ã•ã‚Œã‚‹æƒ…å ±ã€ã‚µãƒ¼ãƒ“ã‚¹ç­‰ã«ã¤ã„ã¦ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚\nå½“ãƒ–ãƒ­ã‚°ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ»æƒ…å ±ã«ã¤ãã¾ã—ã¦ã€å¯èƒ½ãªé™ã‚Šæ­£ç¢ºãªæƒ…å ±ã‚’æ²è¼‰ã™ã‚‹ã‚ˆã†åŠªã‚ã¦ãŠã‚Šã¾ã™ãŒã€èª¤æƒ…å ±ãŒå…¥ã‚Šè¾¼ã‚“ã ã‚Šã€æƒ…å ±ãŒå¤ããªã£ã¦ã„ã‚‹ã“ã¨ã‚‚ã”ã–ã„ã¾ã™ã€‚ã¾ãŸã€å½“ãƒ–ãƒ­ã‚°ã§æ²è¼‰ã•ã‚Œã¦ã„ã‚‹æƒ…å ±ã«é–¢ã—ã¦ã¯å‘ŠçŸ¥ãªã—ã«æƒ…å ±ã‚’å¤‰æ›´ãƒ»å‰Šé™¤ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚\nå½“ãƒ–ãƒ­ã‚°ã«æ²è¼‰ã•ã‚ŒãŸå†…å®¹ã«ã‚ˆã£ã¦ç”Ÿã˜ãŸæå®³ç­‰ã®ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã‹ã­ã¾ã™ã®ã§ã”äº†æ‰¿ãã ã•ã„ã€‚\n",
    "permalink": "https://michimani.net/about/",
    "title": "About"
  }
]